(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "../package.json":
/*!***********************!*\
  !*** ../package.json ***!
  \***********************/
/*! exports provided: name, version, keywords, author, description, repository, scripts, dependencies, devDependencies, default */
/***/ (function(module) {

module.exports = {"name":"fuxa","version":"1.0.12-beta","keywords":[],"author":"frangoteam <4frango@gmail.com>","description":"Web-based Process Visualization (SCADA/HMI) software","repository":{"type":"git","url":"https://github.com/frangoteam/FUXA.git"},"scripts":{"ng":"ng","start":"ng serve","demo":"ng serve -c demo","client":"ng serve -c client","build":"ng build","test":"ng test","lint":"ng lint","e2e":"ng e2e"},"dependencies":{"@angular/animations":"6.1.10","@angular/cdk":"^6.4.7","@angular/common":"6.1.10","@angular/compiler":"6.1.10","@angular/core":"6.1.10","@angular/forms":"6.1.10","@angular/http":"6.1.10","@angular/material":"^6.4.7","@angular/platform-browser":"6.1.10","@angular/platform-browser-dynamic":"6.1.10","@angular/router":"6.1.10","@codebyjordan/scrollbar":"^2.1.6","@ngx-translate/core":"10.0.2","@ngx-translate/http-loader":"3.0.1","angular-gridster2":"^6.0.10","angular2-draggable":"^2.3.2","bcryptjs":"^2.4.3","body-parser":"^1.18.2","core-js":"^2.4.1","express":"^4.16.4","file-saver":"^1.3.8","gulp-autoprefixer":"^5.0.0","gulp-concat":"^2.6.1","gulp-csso":"^3.0.1","gulp-htmlmin":"^4.0.0","gulp-minify":"^3.0.2","gulp-sass":"^4.0.1","gulp-sourcemaps":"^2.6.4","gulp-uglify":"^3.0.0","hammerjs":"^2.0.8","material-design-icons":"^3.0.1","ng5-slider":"^1.1.7","ngx-color-picker":"^10.1.0","ngx-toastr":"^8.10.2","panzoom":"^9.2.5","rxjs":"6.0.0","socket.io-client":"^2.2.0","uplot":"1.6.12","zone.js":"^0.8.26"},"devDependencies":{"@angular-devkit/build-angular":"~0.6.0","@angular-devkit/core":"^0.7.3","@angular/cli":"~6.0.0","@angular/compiler-cli":"6.1.10","@angular/language-service":"^6.0.0","@types/jasmine":"~2.8.6","@types/jasminewd2":"~2.0.3","@types/node":"~8.9.4","codelyzer":"~4.2.1","gulp":"^4.0.0","jasmine-core":"~2.99.1","jasmine-spec-reporter":"~4.2.1","karma":"^4.0.1","karma-chrome-launcher":"~2.1.1","karma-cli":"~1.0.1","karma-coverage-istanbul-reporter":"^1.2.1","karma-jasmine":"~1.1.1","karma-jasmine-html-reporter":"^0.2.2","protractor":"~5.4.0","ts-node":"~5.0.1","tslint":"~5.9.1","typescript":"~2.7.2"}};

/***/ }),

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./app/_directives/dialog-draggable.directive.ts":
/*!*******************************************************!*\
  !*** ./app/_directives/dialog-draggable.directive.ts ***!
  \*******************************************************/
/*! exports provided: DialogDraggableDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogDraggableDirective", function() { return DialogDraggableDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators_takeUntil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators/takeUntil */ "../node_modules/rxjs-compat/_esm5/operators/takeUntil.js");
/* harmony import */ var rxjs_add_observable_fromEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/add/observable/fromEvent */ "../node_modules/rxjs-compat/_esm5/add/observable/fromEvent.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DialogDraggableDirective = /** @class */ (function () {
    function DialogDraggableDirective(matDialogRef, container) {
        this.matDialogRef = matDialogRef;
        this.container = container;
    }
    DialogDraggableDirective.prototype.ngOnInit = function () {
    };
    DialogDraggableDirective.prototype.ngAfterViewInit = function () {
        var dialogType = this.matDialogRef.componentInstance.constructor;
        // const cachedValue = this.positionCache.get(dialogType);
        this.offset = this._getOffset();
        // this._updatePosition(this.offset.y, this.offset.x);
        // this.matDialogRef.beforeClose().pipe(take(1))
        //   .subscribe(() => this.positionCache.set(dialogType, this.offset));
    };
    DialogDraggableDirective.prototype.onMouseDown = function (event) {
        var _this = this;
        this.offset = this._getOffset();
        this.mouseStart = { x: event.pageX, y: event.pageY };
        var mouseup$ = rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].fromEvent(document, 'mouseup');
        // this._subscription = mouseup$.subscribe(() => this.onMouseup());
        var mousemove$ = rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].fromEvent(document, 'mousemove')
            .pipe(Object(rxjs_operators_takeUntil__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(mouseup$))
            .subscribe(function (e) { return _this.onMouseMove(e); });
        // this._subscription.add(mousemove$);
    };
    DialogDraggableDirective.prototype.onMouseMove = function (event) {
        this.mouseDelta = { x: (event.pageX - this.mouseStart.x), y: (event.pageY - this.mouseStart.y) };
        this._updatePosition(this.offset.y + this.mouseDelta.y, this.offset.x + this.mouseDelta.x);
    };
    DialogDraggableDirective.prototype.onMouseup = function () {
        // if (this._subscription) {
        //   this._subscription.unsubscribe();
        //   this._subscription = undefined;
        // }
        if (this.mouseDelta) {
            this.offset.x += this.mouseDelta.x;
            this.offset.y += this.mouseDelta.y;
        }
    };
    DialogDraggableDirective.prototype._updatePosition = function (top, left) {
        this.matDialogRef.updatePosition({
            top: top + 'px',
            left: left + 'px'
        });
    };
    DialogDraggableDirective.prototype._getOffset = function () {
        var box = this.container['_elementRef'].nativeElement.getBoundingClientRect();
        return {
            x: box.left + pageXOffset,
            y: box.top + pageYOffset
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('mousedown', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [MouseEvent]),
        __metadata("design:returntype", void 0)
    ], DialogDraggableDirective.prototype, "onMouseDown", null);
    DialogDraggableDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[mat-dialog-draggable]'
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogContainer"]])
    ], DialogDraggableDirective);
    return DialogDraggableDirective;
}());



/***/ }),

/***/ "./app/_directives/lazyFor.directive.ts":
/*!**********************************************!*\
  !*** ./app/_directives/lazyFor.directive.ts ***!
  \**********************************************/
/*! exports provided: LazyForDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LazyForDirective", function() { return LazyForDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LazyForDirective = /** @class */ (function () {
    function LazyForDirective(vcr, tpl, iterableDiffers) {
        this.vcr = vcr;
        this.tpl = tpl;
        this.iterableDiffers = iterableDiffers;
        this.list = [];
        this.initialized = false;
        this.firstUpdate = true;
        this.lastChangeTriggeredByScroll = false;
    }
    Object.defineProperty(LazyForDirective.prototype, "lazyForOf", {
        set: function (list) {
            this.list = list;
            if (list) {
                this.differ = this.iterableDiffers.find(list).create();
                if (this.initialized) {
                    this.update();
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    LazyForDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.templateElem = this.vcr.element.nativeElement;
        this.lazyForContainer = this.templateElem.parentElement;
        //Adding an event listener will trigger ngDoCheck whenever the event fires so we don't actually need to call
        //update here.
        this.lazyForContainer.addEventListener('scroll', function () {
            _this.lastChangeTriggeredByScroll = true;
        });
        this.initialized = true;
    };
    LazyForDirective.prototype.ngDoCheck = function () {
        if (this.differ && Array.isArray(this.list)) {
            if (this.lastChangeTriggeredByScroll) {
                this.update();
                this.lastChangeTriggeredByScroll = false;
            }
            else {
                var changes = this.differ.diff(this.list);
                if (changes !== null) {
                    this.update();
                }
            }
        }
    };
    /**
     * List update
     *
     * @returns {void}
     */
    LazyForDirective.prototype.update = function () {
        //Can't run the first update unless there is an element in the list
        if (this.list.length === 0) {
            this.vcr.clear();
            if (!this.firstUpdate) {
                this.beforeListElem.style.height = '0';
                this.afterListElem.style.height = '0';
            }
            return;
        }
        if (this.firstUpdate) {
            this.onFirstUpdate();
        }
        var listHeight = this.lazyForContainer.clientHeight;
        var scrollTop = this.lazyForContainer.scrollTop;
        //The height of anything inside the container but above the lazyFor content
        var fixedHeaderHeight = (this.beforeListElem.getBoundingClientRect().top - this.beforeListElem.scrollTop) -
            (this.lazyForContainer.getBoundingClientRect().top - this.lazyForContainer.scrollTop);
        //This needs to run after the scrollTop is retrieved.
        this.vcr.clear();
        var listStartI = Math.floor((scrollTop - fixedHeaderHeight) / this.itemHeight);
        listStartI = this.limitToRange(listStartI, 0, this.list.length);
        var listEndI = Math.ceil((scrollTop - fixedHeaderHeight + listHeight) / this.itemHeight);
        listEndI = this.limitToRange(listEndI, -1, this.list.length - 1);
        for (var i = listStartI; i <= listEndI; i++) {
            this.vcr.createEmbeddedView(this.tpl, {
                $implicit: this.list[i],
                index: i
            });
        }
        this.beforeListElem.style.height = listStartI * this.itemHeight + "px";
        this.afterListElem.style.height = (this.list.length - listEndI - 1) * this.itemHeight + "px";
    };
    /**
     * First update.
     *
     * @returns {void}
     */
    LazyForDirective.prototype.onFirstUpdate = function () {
        var sampleItemElem;
        if (this.itemHeight === undefined || this.itemTagName === undefined) {
            this.vcr.createEmbeddedView(this.tpl, {
                $implicit: this.list[0],
                index: 0
            });
            sampleItemElem = this.templateElem.nextSibling;
        }
        if (this.itemHeight === undefined) {
            this.itemHeight = sampleItemElem.clientHeight;
        }
        if (this.itemTagName === undefined) {
            this.itemTagName = sampleItemElem.tagName;
        }
        this.beforeListElem = document.createElement(this.itemTagName);
        this.templateElem.parentElement.insertBefore(this.beforeListElem, this.templateElem);
        this.afterListElem = document.createElement(this.itemTagName);
        this.templateElem.parentElement.insertBefore(this.afterListElem, this.templateElem.nextSibling);
        // If you want to use <li> elements
        if (this.itemTagName.toLowerCase() === 'li') {
            this.beforeListElem.style.listStyleType = 'none';
            this.afterListElem.style.listStyleType = 'none';
        }
        this.firstUpdate = false;
    };
    /**
     * Limit To Range
     *
     * @param {number} num - Element number.
     * @param {number} min - Min element number.
     * @param {number} max - Max element number.
     *
     * @returns {number}
     */
    LazyForDirective.prototype.limitToRange = function (num, min, max) {
        return Math.max(Math.min(num, max), min);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], LazyForDirective.prototype, "lazyForOf", null);
    LazyForDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[lazyFor]'
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["IterableDiffers"]])
    ], LazyForDirective);
    return LazyForDirective;
}());



/***/ }),

/***/ "./app/_directives/modal-position.cache.ts":
/*!*************************************************!*\
  !*** ./app/_directives/modal-position.cache.ts ***!
  \*************************************************/
/*! exports provided: ModalPositionCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalPositionCache", function() { return ModalPositionCache; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ModalPositionCache = /** @class */ (function () {
    function ModalPositionCache() {
        this._cache = new Map();
    }
    ModalPositionCache.prototype.set = function (dialog, position) {
        this._cache.set(dialog, position);
    };
    ModalPositionCache.prototype.get = function (dialog) {
        return this._cache.get(dialog);
    };
    ModalPositionCache = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], ModalPositionCache);
    return ModalPositionCache;
}());



/***/ }),

/***/ "./app/_directives/ngx-draggable.directive.ts":
/*!****************************************************!*\
  !*** ./app/_directives/ngx-draggable.directive.ts ***!
  \****************************************************/
/*! exports provided: DraggableDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DraggableDirective", function() { return DraggableDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var DraggableDirective = /** @class */ (function () {
    function DraggableDirective(el, renderer) {
        this.el = el;
        this.renderer = renderer;
        this.dx = 0;
        this.dy = 0;
        this.canDrag = '';
        this.active = false;
        this.mustBePosition = ['absolute', 'fixed', 'relative'];
    }
    Object.defineProperty(DraggableDirective.prototype, "draggable", {
        set: function (val) {
            if (val === undefined || val === null || val === '')
                return;
            this.canDrag = val;
        },
        enumerable: true,
        configurable: true
    });
    DraggableDirective.prototype.ngOnInit = function () {
        this.renderer.setElementAttribute(this.el.nativeElement, 'draggable', 'true');
    };
    DraggableDirective.prototype.ngAfterViewInit = function () {
        try {
            var position = window.getComputedStyle(this.el.nativeElement).position;
            if (this.mustBePosition.indexOf(position) === -1) {
                console.warn(this.el.nativeElement, 'Must be having position attribute set to ' + this.mustBePosition.join('|'));
            }
        }
        catch (ex) {
            console.error(ex);
        }
    };
    DraggableDirective.prototype.ngOnDestroy = function () {
        this.renderer.setElementAttribute(this.el.nativeElement, 'draggable', 'false');
    };
    DraggableDirective.prototype.onDragStart = function (event) {
        event.dataTransfer.setData("text/plain", event.target.id);
        this.active = false;
        if (this.draggableHeight && this.draggableHeight < event.offsetY) {
            return;
        }
        this.active = true;
        this.dx = event.x - this.el.nativeElement.offsetLeft;
        this.dy = event.y - this.el.nativeElement.offsetTop;
    };
    DraggableDirective.prototype.onDrag = function (event) {
        if (!this.active) {
            return;
        }
        this.doTranslation(event.x, event.y);
    };
    DraggableDirective.prototype.onDragEnd = function (event) {
        if (!this.active) {
            return;
        }
        this.dx = 0;
        this.dy = 0;
    };
    DraggableDirective.prototype.doTranslation = function (x, y) {
        if (!x || !y)
            return;
        this.renderer.setElementStyle(this.el.nativeElement, 'top', (y - this.dy) + 'px');
        this.renderer.setElementStyle(this.el.nativeElement, 'left', (x - this.dx) + 'px');
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('draggable'),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], DraggableDirective.prototype, "draggable", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], DraggableDirective.prototype, "draggableHeight", void 0);
    DraggableDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[draggable]',
            host: {
                '(dragstart)': 'onDragStart($event)',
                '(dragend)': 'onDragEnd($event)',
                '(drag)': 'onDrag($event)'
            }
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer"]])
    ], DraggableDirective);
    return DraggableDirective;
}());



/***/ }),

/***/ "./app/_directives/number.directive.ts":
/*!*********************************************!*\
  !*** ./app/_directives/number.directive.ts ***!
  \*********************************************/
/*! exports provided: NumberOnlyDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberOnlyDirective", function() { return NumberOnlyDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NumberOnlyDirective = /** @class */ (function () {
    function NumberOnlyDirective(el) {
        this.el = el;
        // Allow decimal numbers and negative values
        this.regex = new RegExp(/^-?[0-9]+(\.[0-9]*){0,1}$/g); ///^-?[0-9]+(\.[0-9]*){0,1}$/g);
        // Allow key codes for special events. Reflect :
        // Backspace, tab, end, home
        this.specialKeys = ['Backspace', 'Delete', 'Tab', 'End', 'Home', 'ArrowLeft', 'ArrowRight'];
    }
    NumberOnlyDirective.prototype.onKeyDown = function (event) {
        // Allow Backspace, tab, end, and home keys
        if (this.specialKeys.indexOf(event.key) !== -1) {
            return;
        }
        var current = this.el.nativeElement.value;
        var next = '';
        if (event.key === '-') {
            event.preventDefault();
            if (!current.startsWith('-')) {
                next = event.key + current;
                this.el.nativeElement.value = next;
            }
        }
        else {
            next = current.concat(event.key);
        }
        if (next && !String(next).match(this.regex)) {
            event.preventDefault();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('keydown', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [KeyboardEvent]),
        __metadata("design:returntype", void 0)
    ], NumberOnlyDirective.prototype, "onKeyDown", null);
    NumberOnlyDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[numberOnly]'
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]])
    ], NumberOnlyDirective);
    return NumberOnlyDirective;
}());



/***/ }),

/***/ "./app/_helpers/auth-interceptor.ts":
/*!******************************************!*\
  !*** ./app/_helpers/auth-interceptor.ts ***!
  \******************************************/
/*! exports provided: AuthInterceptor, httpInterceptorProviders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthInterceptor", function() { return AuthInterceptor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "httpInterceptorProviders", function() { return httpInterceptorProviders; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/auth.service */ "./app/_services/auth.service.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TOKEN_HEADER_KEY = 'x-access-token';
var USER_HEADER_KEY = 'x-auth-user';
var AuthInterceptor = /** @class */ (function () {
    function AuthInterceptor(injector) {
        this.injector = injector;
    }
    AuthInterceptor.prototype.intercept = function (req, next) {
        var _this = this;
        var authService = this.injector.get(_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]);
        if (authService.getUserToken) {
            var token = authService.getUserToken();
            if (token != null) {
                var user = authService.getUser();
                if (user) {
                    var locuser = { user: user.username, groups: user.groups };
                    req = req.clone({ headers: req.headers.set(USER_HEADER_KEY, JSON.stringify(locuser)) });
                }
                req = req.clone({ headers: req.headers.set(TOKEN_HEADER_KEY, token) });
            }
        }
        // if (!req.headers.has('Content-Type')) {
        //     req = req.clone({ headers: req.headers.set('Content-Type', 'application/json') });
        // }
        // req = req.clone({ headers: req.headers.set('Accept', 'application/json') });
        return next.handle(req).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])(function (event) {
        }, function (err) {
            if (err instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpErrorResponse"]) {
                if (err.status === 403) {
                    // redirect to the login route or show a modal
                    authService.signOut();
                    var projectService = _this.injector.get(_services_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"]);
                    projectService.reload();
                }
            }
        }));
    };
    AuthInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"]])
    ], AuthInterceptor);
    return AuthInterceptor;
}());

var httpInterceptorProviders = [
    { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HTTP_INTERCEPTORS"], useClass: AuthInterceptor, multi: true }
];


/***/ }),

/***/ "./app/_helpers/custom-http.ts":
/*!*************************************!*\
  !*** ./app/_helpers/custom-http.ts ***!
  \*************************************/
/*! exports provided: CustomHttp, customHttpFactory, customHttpProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomHttp", function() { return CustomHttp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customHttpFactory", function() { return customHttpFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customHttpProvider", function() { return customHttpProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "../node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _app_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app.config */ "./app/app.config.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_add_operator_catch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/add/operator/catch */ "../node_modules/rxjs-compat/_esm5/add/operator/catch.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/add/operator/map */ "../node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_observable_throw__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/add/observable/throw */ "../node_modules/rxjs-compat/_esm5/add/observable/throw.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var CustomHttp = /** @class */ (function (_super) {
    __extends(CustomHttp, _super);
    function CustomHttp(backend, defaultOptions) {
        return _super.call(this, backend, defaultOptions) || this;
    }
    CustomHttp.prototype.get = function (url, options) {
        // return super.get(appConfig.apiUrl + url).catch(this.handleError);
        return _super.prototype.get.call(this, _app_config__WEBPACK_IMPORTED_MODULE_2__["appConfig"].apiUrl + url, this.addJwt(options)).catch(this.handleError);
    };
    CustomHttp.prototype.post = function (url, body, options) {
        // return super.post(appConfig.apiUrl + url, body).catch(this.handleError);
        return _super.prototype.post.call(this, _app_config__WEBPACK_IMPORTED_MODULE_2__["appConfig"].apiUrl + url, body, this.addJwt(options)).catch(this.handleError);
    };
    CustomHttp.prototype.put = function (url, body, options) {
        return _super.prototype.put.call(this, _app_config__WEBPACK_IMPORTED_MODULE_2__["appConfig"].apiUrl + url, body, this.addJwt(options)).catch(this.handleError);
    };
    CustomHttp.prototype.delete = function (url, options) {
        return _super.prototype.delete.call(this, _app_config__WEBPACK_IMPORTED_MODULE_2__["appConfig"].apiUrl + url, this.addJwt(options)).catch(this.handleError);
    };
    // private helper methods
    CustomHttp.prototype.addJwt = function (options) {
        // ensure request options and headers are not null
        options = options || new _angular_http__WEBPACK_IMPORTED_MODULE_1__["RequestOptions"]();
        options.headers = options.headers || new _angular_http__WEBPACK_IMPORTED_MODULE_1__["Headers"]();
        // add authorization header with jwt token
        var currentUser = JSON.parse(localStorage.getItem('currentUser'));
        if (currentUser && currentUser.token) {
            options.headers.append('Authorization', 'Bearer ' + currentUser.token);
        }
        return options;
    };
    CustomHttp.prototype.handleError = function (error) {
        if (error.status === 401) {
            // 401 unauthorized response so log user out of client
            window.location.href = '/login';
        }
        return rxjs__WEBPACK_IMPORTED_MODULE_3__["Observable"].throw(error._body);
    };
    CustomHttp = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["ConnectionBackend"], _angular_http__WEBPACK_IMPORTED_MODULE_1__["RequestOptions"]])
    ], CustomHttp);
    return CustomHttp;
}(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]));

function customHttpFactory(xhrBackend, requestOptions) {
    return new CustomHttp(xhrBackend, requestOptions);
}
var customHttpProvider = {
    provide: _angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"],
    useFactory: customHttpFactory,
    deps: [_angular_http__WEBPACK_IMPORTED_MODULE_1__["XHRBackend"], _angular_http__WEBPACK_IMPORTED_MODULE_1__["RequestOptions"]]
};


/***/ }),

/***/ "./app/_helpers/define.ts":
/*!********************************!*\
  !*** ./app/_helpers/define.ts ***!
  \********************************/
/*! exports provided: Define */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Define", function() { return Define; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var Define = /** @class */ (function () {
    function Define() {
    }
    Define.materialIcons = [
        // Action
        'accessibility', 'accessible', 'account_balance', 'account_box', 'account_circle', 'alarm', 'alarm_add', 'alarm_off',
        'alarm_on', 'all_out', 'android', 'announcement', 'aspect_ratio', 'assessment', 'assignment', 'assignment_ind', 'assignment_late',
        'assignment_return', 'assignment_returned', 'assignment_turned_in', 'autorenew', 'backup', 'book', 'bookmark', 'bookmark_border', 'bug_report', 'build',
        'cached', 'camera_enhance', 'change_history', 'check_circle', 'check_circle_outline', 'chrome_reader_mode', 'class', 'code',
        'compare_arrows', 'copyright', 'credit_card', 'dashboard', 'delete', 'delete_outline', 'description', 'dns',
        'done', 'done_all', 'done_outline', 'donut_large', 'donut_small', 'eject', 'euro_symbol', 'event', 'event_seat', 'exit_to_app',
        'explore', 'extension', 'face', 'favorite', 'favorite_border', 'feedback', 'find_in_page', 'find_replace', 'fingerprint', 'flight_land', 'flight_takeoff',
        'flip_to_back', 'flip_to_front', 'gavel', 'get_app', 'gif', 'grade', 'group_work', 'help', 'help_outline', 'highlight_off', 'history',
        'home', 'hourglass_empty', 'hourglass_full', 'important_devices', 'info', 'input', 'invert_colors', 'label',
        'language', 'launch', 'list', 'lock', 'lock_open', 'loyalty', 'markunread_mailbox', 'motorcycle', 'note_add', 'offline_pin',
        'opacity', 'open_in_browser', 'open_with', 'pageview', 'pan_tool', 'perm_camera_mic', 'perm_contact_calendar', 'perm_data_setting', 'perm_device_information', 'perm_identity', 'perm_media',
        'perm_phone_msg', 'perm_scan_wifi', 'pets', 'picture_in_picture', 'play_for_work', 'polymer', 'power_settings_new', 'print', 'query_builder',
        'question_answer', 'receipt', 'record_voice_over', 'reorder', 'report_problem', 'restore_page', 'room', 'rowing', 'search', 'settings',
        'settings_applications', 'settings_backup_restore', 'settings_bluetooth', 'settings_brightness', 'settings_cell', 'settings_ethernet',
        'settings_input_antenna', 'settings_input_component', 'settings_input_hdmi', 'settings_input_svideo',
        'settings_overscan', 'settings_phone', 'settings_power', 'settings_remote', 'settings_voice', 'shop', 'shopping_basket', 'shopping_cart', 'speaker_notes', 'spellcheck',
        'stars', 'store', 'subject', 'supervisor_account', 'swap_horiz', 'swap_horizontal_circle', 'swap_vert', 'swap_vertical_circle', 'tab',
        'tab_unselected', 'theaters', 'thumb_down', 'thumb_up', 'thumbs_up_down', 'timeline', 'toc', 'toll', 'touch_app', 'track_changes',
        'trending_down', 'trending_flat', 'trending_up', 'verified_user', 'view_agenda', 'view_array', 'view_carousel', 'view_column', 'view_day',
        'view_list', 'view_module', 'view_quilt', 'view_stream', 'view_week', 'visibility', 'visibility_off', 'watch_later', 'work',
        'zoom_in', 'zoom_out',
        // Alert
        'add_alert', 'error', 'error_outline', 'warning',
        // Av
        'airplay', 'av_timer',
        'fast_forward', 'fast_rewind', 'featured_play_list', 'featured_video', 'fiber_manual_record', 'fiber_new', 'fiber_pin', 'fiber_smart_record', 'games',
        'library_add', 'library_books', 'mic', 'mic_none', 'mic_off', 'new_releases', 'not_interested', 'note', 'pause', 'pause_circle_filled',
        'pause_circle_outline', 'play_arrow', 'play_circle_filled', 'play_circle_outline', 'playlist_add', 'playlist_add_check', 'playlist_play', 'queue', 'queue_play_next', 'radio',
        'recent_actors', 'remove_from_queue', 'repeat', 'repeat_one', 'shuffle', 'skip_next', 'skip_previous', 'slow_motion_video', 'snooze', 'sort_by_alpha',
        'stop', 'subscriptions', 'subtitles', 'surround_sound', 'video_label', 'volume_down', 'volume_mute', 'volume_off', 'volume_up', 'web', 'web_asset',
        // Communication
        'business', 'call', 'call_end', 'call_made', 'call_merge', 'call_missed', 'call_missed_outgoing', 'call_received',
        'call_split', 'cancel_presentation', 'chat ', 'chat_bubble', 'chat_bubble_outline', 'clear_all', 'comment', 'contact_mail', 'contact_phone', 'contacts',
        'dialer_sip', 'dialpad', 'email', 'forum', 'import_contacts', 'import_export', 'invert_colors_off', 'list_alt',
        'live_help', 'location_off', 'location_on', 'mail_outline', 'message', 'no_sim', 'pause_presentation', 'person_add_disabled', 'phonelink_erase', 'phonelink_lock',
        'phonelink_ring', 'phonelink_setup', 'portable_wifi_off', 'present_to_all', 'print_disabled', 'ring_volume', 'rss_feed', 'screen_share', 'sentiment_satisfied_alt', 'speaker_phone', 'stay_current_landscape',
        'stay_current_portrait', 'stop_screen_share', 'swap_calls', 'textsms', 'voicemail', 'vpn_key',
        // Content
        'add', 'add_box', 'add_circle', 'add_circle_outline',
        'archive', 'backspace', 'block', 'clear', 'create', 'delete_sweep', 'drafts', 'filter_list', 'flag',
        'font_download', 'forward', 'gesture', 'inbox', 'link', 'link_off', 'low_priority', 'move_to_inbox', 'next_week',
        'redo', 'remove', 'remove_circle', 'remove_circle_outline', 'reply', 'reply_all', 'report', 'report_off', 'save', 'save_alt',
        'select_all', 'send', 'sort', 'text_format', 'unarchive', 'undo', 'weekend',
        // Device
        'access_alarm', 'access_time', 'add_alarm', 'add_to_home_screen', 'airplanemode_active', 'airplanemode_inactive', 'battery_alert', 'battery_full', 'battery_unknown',
        'bluetooth', 'bluetooth_connected', 'bluetooth_disabled', 'bluetooth_searching', 'brightness_auto', 'brightness_high', 'brightness_low', 'brightness_medium', 'data_usage',
        'developer_mode', 'devices', 'dvr', 'gps_fixed', 'gps_not_fixed', 'gps_off', 'graphic_eq', 'network_cell', 'network_wifi', 'nfc',
        'screen_rotation', 'screen_lock_rotation', 'sd_storage', 'settings_system_daydream', 'signal_cellular_no_sim',
        'signal_cellular_null', 'signal_cellular_off', 'signal_wifi_4_bar_lock', 'signal_wifi_off', 'storage', 'usb', 'wallpaper', 'widgets', 'wifi_tethering',
        // Editor
        'attach_file', 'attach_money', 'border_all', 'border_bottom', 'border_clear', 'border_color', 'border_horizontal', 'border_inner', 'border_left', 'border_outer',
        'border_right', 'border_style', 'border_top', 'border_vertical', 'bubble_chart', 'drag_handle', 'format_align_center', 'format_align_justify', 'format_align_left', 'format_align_right',
        'format_bold', 'format_clear', 'format_color_fill', 'format_color_reset', 'format_color_text', 'format_indent_decrease', 'format_indent_increase', 'format_italic', 'format_line_spacing',
        'format_list_bulleted', 'format_list_numbered', 'format_list_numbered_rtl', 'format_paint', 'format_quote', 'format_shapes', 'format_size', 'format_strikethrough', 'format_underlined',
        'functions', 'highlight', 'insert_chart', 'insert_chart_outlined', 'insert_comment', 'insert_drive_file', 'insert_emoticon', 'insert_photo', 'linear_scale', 'merge_type', 'mode_comment',
        'monetization_on', 'money_off', 'multiline_chart', 'notes', 'pie_chart', 'publish', 'short_text', 'show_chart', 'space_bar', 'strikethrough_s', 'table_chart',
        'title', 'vertical_align_bottom', 'vertical_align_center', 'vertical_align_top', 'wrap_text',
        // File
        'attachment', 'cloud', 'cloud_circle', 'cloud_done', 'cloud_download', 'cloud_off', 'cloud_queue', 'cloud_upload', 'create_new_folder', 'folder', 'folder_open', 'folder_shared',
        // Hardware
        'cast', 'cast_connected', 'cast_for_education', 'computer', 'desktop_mac', 'desktop_windows', 'developer_board', 'device_hub', 'devices_other', 'dock', 'gamepad',
        'headset', 'headset_mic', 'keyboard', 'keyboard_arrow_down', 'keyboard_arrow_left', 'keyboard_arrow_right', 'keyboard_arrow_up', 'keyboard_backspace', 'keyboard_capslock', 'keyboard_hide',
        'keyboard_return', 'keyboard_tab', 'keyboard_voice', 'laptop', 'laptop_chromebook', 'laptop_windows', 'memory', 'mouse', 'power_input', 'router', 'scanner', 'security', 'sim_card',
        'speaker', 'speaker_group', 'tablet_android', 'toys', 'tv', 'videogame_asset', 'watch',
        // Image
        'add_a_photo', 'add_to_photos', 'adjust', 'assistant', 'audiotrack', 'blur_circular', 'blur_linear', 'blur_on', 'brightness_1', 'brightness_2', 'brightness_3',
        'brightness_5', 'brightness_6', 'brightness_7', 'broken_image', 'brush', 'burst_mode', 'camera', 'camera_alt', 'camera_front', 'camera_rear', 'center_focus_strong', 'center_focus_weak',
        'collections', 'collections_bookmark', 'color_lens', 'colorize', 'compare', 'control_point_duplicate', 'crop', 'crop_7_5', 'crop_16_9', 'crop_5_4', 'crop_3_2', 'crop_din', 'crop_free',
        'crop_original', 'crop_rotate', 'dehaze', 'details', 'edit', 'exposure', 'exposure_neg_1', 'exposure_neg_2', 'exposure_plus_1', 'exposure_plus_2', 'exposure_zero', 'filter',
        'filter_1', 'filter_2', 'filter_3', 'filter_4', 'filter_5', 'filter_6', 'filter_7', 'filter_8', 'filter_9', 'filter_b_and_w', 'filter_drama', 'filter_frames', 'filter_hdr', 'filter_none',
        'filter_tilt_shift', 'filter_vintage', 'flare', 'flash_auto', 'flash_off', 'flash_on', 'flip', 'gradient', 'grain', 'grid_off', 'grid_on', 'hdr_strong', 'hdr_weak', 'healing',
        'image_aspect_ratio', 'iso', 'leak_add', 'leak_remove', 'looks', 'looks_one', 'looks_two', 'looks_3', 'looks_4', 'looks_5', 'looks_6', 'loupe', 'movie_creation',
        'movie_filter', 'music_note', 'nature', 'nature_people', 'panorama_fish_eye', 'panorama_horizontal', 'panorama_vertical', 'panorama_wide_angle', 'photo_filter',
        'photo_size_select_small', 'picture_as_pdf', 'portrait', 'remove_red_eye', 'rotate_left', 'rotate_right', 'slideshow', 'straighten', 'style', 'switch_camera', 'texture',
        'timelapse', 'timer', 'timer_off', 'tonality', 'transform', 'tune', 'view_comfy', 'view_compact', 'vignette', 'wb_incandescent', 'wb_iridescent', 'wb_sunny',
        // Maps
        'beenhere', 'directions', 'directions_bike', 'directions_boat', 'directions_bus', 'directions_car', 'directions_railway', 'directions_run',
        'directions_subway', 'directions_walk', 'edit_attributes', 'ev_station', 'flight', 'hotel', 'layers', 'layers_clear', 'local_activity', 'local_atm', 'local_bar', 'local_cafe',
        'local_car_wash', 'local_dining', 'local_drink', 'local_florist', 'local_gas_station', 'local_hospital', 'local_laundry_service', 'local_library', 'local_mall', 'local_parking',
        'local_pharmacy', 'local_pizza', 'local_printshop', 'local_shipping', 'local_taxi', 'map', 'navigation', 'near_me', 'person_pin', 'person_pin_circle', 'pin_drop', 'rate_review',
        'restaurant', 'restaurant_menu', 'satellite', 'store_mall_directory', 'streetview', 'subway', 'traffic', 'train', 'tram', 'transfer_within_a_station', 'zoom_out_map',
        // Navigation
        'apps', 'arrow_back', 'arrow_downward', 'arrow_drop_down', 'arrow_drop_down_circle', 'arrow_drop_up', 'arrow_forward',
        'arrow_upward', 'cancel', 'check', 'chevron_left', 'chevron_right', 'close', 'expand_less', 'expand_more', 'first_page', 'fullscreen', 'fullscreen_exit', 'last_page', 'menu', 'more_horiz',
        'more_vert', 'refresh', 'subdirectory_arrow_left', 'subdirectory_arrow_right', 'unfold_less', 'unfold_more',
        // Notification
        'adb', 'airline_seat_flat', 'airline_seat_flat_angled', 'airline_seat_recline_extra', 'airline_seat_recline_normal', 'disc_full', 'more', 'network_check', 'network_locked', 'no_encryption',
        'power', 'power_off', 'priority_high', 'sd_card', 'sms', 'sms_failed', 'sync', 'sync_disabled', 'sync_problem', 'system_update', 'vibration', 'vpn_lock', 'wc', 'wifi', 'wifi_off',
        // Places
        'ac_unit', 'airport_shuttle', 'all_inclusive', 'beach_access', 'business_center', 'casino', 'child_care', 'child_friendly', 'fitness_center', 'golf_course', 'hot_tub', 'kitchen',
        'pool', 'room_service', 'rv_hookup', 'smoke_free', 'smoking_rooms', 'spa',
        // Social
        'cake', 'domain', 'group', 'group_add', 'location_city', 'mood', 'mood_bad', 'notifications', 'notifications_active', 'notifications_none', 'notifications_off', 'notifications_paused',
        'pages', 'party_mode', 'people_outline', 'person', 'person_add', 'person_outline', 'public', 'school', 'sentiment_dissatisfied', 'sentiment_satisfied', 'sentiment_very_dissatisfied',
        'sentiment_very_satisfied', 'share', 'thumb_down_alt', 'thumb_up_alt', 'whatshot',
        // Toggle
        'check_box', 'check_box_outline_blank', 'indeterminate_check_box', 'radio_button_checked', 'radio_button_unchecked', 'star', 'star_border', 'star_half'
    ];
    Define.fonts = ['Sans-serif', 'Roboto-Thin', 'Roboto-Light', 'Roboto-Regular', 'Roboto-Medium', 'Roboto-Bold', 'Quicksand-Regular', 'Quicksand-Medium', 'Quicksand-Bold'];
    Define = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], Define);
    return Define;
}());



/***/ }),

/***/ "./app/_helpers/dictionary.ts":
/*!************************************!*\
  !*** ./app/_helpers/dictionary.ts ***!
  \************************************/
/*! exports provided: Dictionary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Dictionary", function() { return Dictionary; });
var Dictionary = /** @class */ (function () {
    function Dictionary() {
        this.items = {};
        this.count = 0;
    }
    Dictionary.prototype.ContainsKey = function (key) {
        return this.items.hasOwnProperty(key);
    };
    Dictionary.prototype.Count = function () {
        return this.count;
    };
    Dictionary.prototype.Add = function (key, value) {
        if (!this.items.hasOwnProperty(key))
            this.count++;
        this.items[key] = value;
    };
    Dictionary.prototype.Remove = function (key) {
        var val = this.items[key];
        delete this.items[key];
        this.count--;
        return val;
    };
    Dictionary.prototype.Item = function (key) {
        return this.items[key];
    };
    Dictionary.prototype.Keys = function () {
        var keySet = [];
        for (var prop in this.items) {
            if (this.items.hasOwnProperty(prop)) {
                keySet.push(prop);
            }
        }
        return keySet;
    };
    Dictionary.prototype.Values = function () {
        var values = [];
        for (var prop in this.items) {
            if (this.items.hasOwnProperty(prop)) {
                values.push(this.items[prop]);
            }
        }
        return values;
    };
    return Dictionary;
}());



/***/ }),

/***/ "./app/_helpers/endpointapi.ts":
/*!*************************************!*\
  !*** ./app/_helpers/endpointapi.ts ***!
  \*************************************/
/*! exports provided: EndPointApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EndPointApi", function() { return EndPointApi; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var EndPointApi = /** @class */ (function () {
    function EndPointApi() {
    }
    EndPointApi.getURL = function () {
        if (!this.url) {
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiEndpoint) {
                this.url = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiEndpoint;
            }
            else {
                var origin = location.origin;
                var path = location.origin.split('/')[2];
                var protocoll = location.origin.split(':')[0];
                var temp = path.split(':')[0];
                if (temp.length > 1 && _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiPort) {
                    path = temp + ':' + _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiPort;
                }
                this.url = protocoll + '://' + path;
            }
        }
        return this.url;
    };
    EndPointApi.getRemoteURL = function (destIp) {
        var protocoll = location.origin.split(':')[0];
        var path = destIp + ':' + _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiPort;
        return protocoll + '://' + path + '/api';
    };
    EndPointApi.url = null;
    EndPointApi = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], EndPointApi);
    return EndPointApi;
}());



/***/ }),

/***/ "./app/_helpers/utils.ts":
/*!*******************************!*\
  !*** ./app/_helpers/utils.ts ***!
  \*******************************/
/*! exports provided: Utils, EnumToArrayPipe, EscapeHtmlPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EnumToArrayPipe", function() { return EnumToArrayPipe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EscapeHtmlPipe", function() { return EscapeHtmlPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Utils = /** @class */ (function () {
    function Utils() {
    }
    Utils_1 = Utils;
    Utils.searchTreeStartWith = function (element, matchingStart) {
        if (element.id.startsWith(matchingStart)) {
            return element;
        }
        else if (element.children != null) {
            var i;
            var result = null;
            for (i = 0; result == null && i < element.children.length; i++) {
                result = Utils_1.searchTreeStartWith(element.children[i], matchingStart);
            }
            return result;
        }
        return null;
    };
    Utils.isNullOrUndefined = function (ele) {
        return (ele === null || ele === undefined) ? true : false;
    };
    // returns keys of enum
    Utils.enumKeys = function (p) {
        var keys = Object.keys(p);
        return keys;
    };
    // returns values of enum
    Utils.enumValues = function (p) {
        var keys = Object.keys(p);
        return keys.map(function (el) { return Object(p)[el]; });
    };
    Utils.getGUID = function (prefix) {
        if (prefix === void 0) { prefix = ''; }
        var uuid = "", i, random;
        for (i = 0; i < 16; i++) {
            random = Math.random() * 16 | 0;
            if (i == 8) {
                uuid += "-";
            }
            uuid += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);
        }
        return prefix + uuid;
    };
    ;
    Utils.getShortGUID = function (prefix) {
        if (prefix === void 0) { prefix = ''; }
        var uuid = "", i, random;
        for (i = 0; i < 12; i++) {
            random = Math.random() * 16 | 0;
            if (i == 8) {
                uuid += "-";
            }
            uuid += (i == 4 ? 4 : (i == 6 ? (random & 3 | 8) : random)).toString(12);
        }
        return prefix + uuid;
    };
    Utils.getNextName = function (prefix, inuse) {
        var index = 1;
        var result = prefix + index;
        while (inuse.indexOf(result) >= 0) {
            index++;
            result = prefix + index;
        }
        return result;
    };
    Utils.isObject = function (value) {
        return typeof (value) == 'object' && value !== null;
    };
    Utils.getType = function (value) {
        return typeof value;
    };
    Utils.getTextHeight = function (font) {
        // re-use canvas object for better performance
        var canvas = document.createElement("canvas");
        var context = canvas.getContext("2d");
        context.font = font;
        var metrics = context.measureText('M');
        return metrics.width;
    };
    Utils.getDomTextHeight = function (size, font) {
        var text = document.createElement("span");
        document.body.appendChild(text);
        text.style.font = font;
        text.style.fontSize = size + "px";
        text.style.height = 'auto';
        text.style.width = 'auto';
        text.style.position = 'absolute';
        text.style.whiteSpace = 'no-wrap';
        text.innerHTML = 'M';
        var height = Math.ceil(text.clientHeight);
        document.body.removeChild(text);
        return height;
    };
    Utils.getEnumKey = function (etype, ekey) {
        return Object.keys(etype).find(function (key) { return etype[key] === ekey; });
    };
    Utils.isJson = function (item) {
        try {
            var obj = JSON.parse(item);
            if (obj && Object.keys(obj).length) {
                return true;
            }
        }
        catch (e) {
        }
        return false;
    };
    Utils.defaultColor = ['#FFFFFF', '#000000', '#EEECE1', '#1F497D', '#4F81BD', '#C0504D', '#9BBB59', '#8064A2', '#4BACC6',
        '#F79646', '#C00000', '#FF0000', '#FFC000', '#FFD04A', '#FFFF00', '#92D050', '#0AC97D', '#00B050', '#00B0F0', '#4484EF', '#3358C0',
        '#002060', '#7030A0', '#D8D8D8', '#BFBFBF', '#A5A5A5', '#7F7F7F', '#595959', '#3F3F3F', '#262626'];
    Utils.lineColor = ['#4484ef', '#ef0909', '#00b050', '#ffd04a', '#7030a0', '#a5a5a5', '#c0504d', '#000000'];
    Utils = Utils_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], Utils);
    return Utils;
    var Utils_1;
}());

var EnumToArrayPipe = /** @class */ (function () {
    function EnumToArrayPipe() {
    }
    EnumToArrayPipe.prototype.transform = function (value, args) {
        var result = [];
        var keys = Object.keys(value);
        var values = Object.values(value);
        for (var i = 0; i < keys.length; i++) {
            result.push({ key: keys[i], value: values[i] });
        }
        return result;
        //or if you want to order the result:
        //return result.sort((a, b) => a.value < b.value ? -1 : 1);
    };
    EnumToArrayPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'enumToArray'
        })
    ], EnumToArrayPipe);
    return EnumToArrayPipe;
}());

var EscapeHtmlPipe = /** @class */ (function () {
    function EscapeHtmlPipe(sanitizer) {
        this.sanitizer = sanitizer;
    }
    EscapeHtmlPipe.prototype.transform = function (content) {
        return this.sanitizer.bypassSecurityTrustHtml(content);
    };
    EscapeHtmlPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({ name: 'keepHtml', pure: false }),
        __metadata("design:paramtypes", [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"]])
    ], EscapeHtmlPipe);
    return EscapeHtmlPipe;
}());



/***/ }),

/***/ "./app/_helpers/windowref.ts":
/*!***********************************!*\
  !*** ./app/_helpers/windowref.ts ***!
  \***********************************/
/*! exports provided: WindowRef */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowRef", function() { return WindowRef; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

function _window() {
    // return the global native browser window object
    return window;
}
var WindowRef = /** @class */ (function () {
    function WindowRef() {
    }
    Object.defineProperty(WindowRef.prototype, "nativeWindow", {
        get: function () {
            return _window();
        },
        enumerable: true,
        configurable: true
    });
    WindowRef = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], WindowRef);
    return WindowRef;
}());



/***/ }),

/***/ "./app/_models/alarm.ts":
/*!******************************!*\
  !*** ./app/_models/alarm.ts ***!
  \******************************/
/*! exports provided: Alarm, AlarmProperty, AlarmSubProperty, AlarmAckMode, AlarmEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Alarm", function() { return Alarm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmProperty", function() { return AlarmProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmSubProperty", function() { return AlarmSubProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmAckMode", function() { return AlarmAckMode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmEvent", function() { return AlarmEvent; });
var Alarm = /** @class */ (function () {
    function Alarm() {
    }
    return Alarm;
}());

var AlarmProperty = /** @class */ (function () {
    function AlarmProperty() {
    }
    return AlarmProperty;
}());

var AlarmSubProperty = /** @class */ (function () {
    function AlarmSubProperty() {
    }
    return AlarmSubProperty;
}());

var AlarmAckMode;
(function (AlarmAckMode) {
    AlarmAckMode["float"] = "alarm.ack-float";
    AlarmAckMode["ackactive"] = "alarm.ack-active";
    AlarmAckMode["ackpassive"] = "alarm.ack-passive";
})(AlarmAckMode || (AlarmAckMode = {}));
var AlarmEvent = /** @class */ (function () {
    function AlarmEvent() {
    }
    return AlarmEvent;
}());



/***/ }),

/***/ "./app/_models/chart.ts":
/*!******************************!*\
  !*** ./app/_models/chart.ts ***!
  \******************************/
/*! exports provided: Chart, ChartLine, ChartViewType, ChartRangeType, ChartLegendMode, ChartRangeConverter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return Chart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartLine", function() { return ChartLine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartViewType", function() { return ChartViewType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartRangeType", function() { return ChartRangeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartLegendMode", function() { return ChartLegendMode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartRangeConverter", function() { return ChartRangeConverter; });
var Chart = /** @class */ (function () {
    function Chart() {
    }
    return Chart;
}());

var ChartLine = /** @class */ (function () {
    function ChartLine() {
    }
    return ChartLine;
}());

var ChartViewType;
(function (ChartViewType) {
    ChartViewType["realtime1"] = "chart.viewtype-realtime1";
    ChartViewType["history"] = "chart.viewtype-history";
})(ChartViewType || (ChartViewType = {}));
var ChartRangeType;
(function (ChartRangeType) {
    ChartRangeType["last8h"] = "chart.rangetype-last8h";
    ChartRangeType["last1d"] = "chart.rangetype-last1d";
    ChartRangeType["last3d"] = "chart.rangetype-last3d";
    ChartRangeType["last1w"] = "chart.rangetype-last1w";
})(ChartRangeType || (ChartRangeType = {}));
var ChartLegendMode;
(function (ChartLegendMode) {
    ChartLegendMode["always"] = "chart.legend-always";
    ChartLegendMode["follow"] = "chart.legend-follow";
    ChartLegendMode["bottom"] = "chart.legend-bottom";
    // onmouseover = 'chart.legend-onmouseover',
    ChartLegendMode["never"] = "chart.legend-never";
})(ChartLegendMode || (ChartLegendMode = {}));
var ChartRangeConverter = /** @class */ (function () {
    function ChartRangeConverter() {
    }
    ChartRangeConverter.ChartRangeToHours = function (crt) {
        var types = Object.keys(ChartRangeType);
        if (crt === types[0]) {
            return 8;
        }
        else if (crt === types[1]) {
            return 24;
        }
        else if (crt === types[2]) {
            return 24 * 3;
        }
        else if (crt === types[3]) {
            return 24 * 7;
        }
        return 0;
    };
    return ChartRangeConverter;
}());



/***/ }),

/***/ "./app/_models/device.ts":
/*!*******************************!*\
  !*** ./app/_models/device.ts ***!
  \*******************************/
/*! exports provided: Device, Tag, DeviceNetProperty, DeviceSecurity, DeviceType, TagType, ModbusTagType, MessageSecurityMode, SecurityPolicy, BACnetObjectType, DEVICE_PREFIX, TAG_PREFIX */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Device", function() { return Device; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tag", function() { return Tag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceNetProperty", function() { return DeviceNetProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceSecurity", function() { return DeviceSecurity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceType", function() { return DeviceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagType", function() { return TagType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModbusTagType", function() { return ModbusTagType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageSecurityMode", function() { return MessageSecurityMode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SecurityPolicy", function() { return SecurityPolicy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACnetObjectType", function() { return BACnetObjectType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEVICE_PREFIX", function() { return DEVICE_PREFIX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAG_PREFIX", function() { return TAG_PREFIX; });
var Device = /** @class */ (function () {
    function Device(_id) {
        this.id = _id;
    }
    return Device;
}());

var Tag = /** @class */ (function () {
    function Tag(_id) {
        this.id = _id;
    }
    return Tag;
}());

var DeviceNetProperty = /** @class */ (function () {
    function DeviceNetProperty() {
    }
    return DeviceNetProperty;
}());

var DeviceSecurity = /** @class */ (function () {
    function DeviceSecurity() {
    }
    return DeviceSecurity;
}());

var DeviceType;
(function (DeviceType) {
    DeviceType["FuxaServer"] = "FuxaServer";
    DeviceType["SiemensS7"] = "SiemensS7";
    DeviceType["OPCUA"] = "OPCUA";
    DeviceType["BACnet"] = "BACnet";
    DeviceType["ModbusRTU"] = "ModbusRTU";
    DeviceType["ModbusTCP"] = "ModbusTCP";
    DeviceType["WebAPI"] = "WebAPI";
    DeviceType["MQTTclient"] = "MQTTclient";
    DeviceType["external"] = "external";
    DeviceType["internal"] = "internal";
})(DeviceType || (DeviceType = {}));
var TagType;
(function (TagType) {
    TagType["Bool"] = "Bool";
    TagType["Byte"] = "Byte";
    TagType["Int"] = "Int";
    TagType["Word"] = "Word";
    TagType["DInt"] = "DInt";
    TagType["DWord"] = "DWord";
    TagType["Real"] = "Real";
})(TagType || (TagType = {}));
var ModbusTagType;
(function (ModbusTagType) {
    ModbusTagType["Bool"] = "Bool";
    ModbusTagType["Int16"] = "Int16";
    ModbusTagType["UInt16"] = "UInt16";
    ModbusTagType["Int32"] = "Int32";
    ModbusTagType["UInt32"] = "UInt32";
    ModbusTagType["Float32"] = "Float32";
    ModbusTagType["Float64"] = "Float64";
    // String = 'String'
})(ModbusTagType || (ModbusTagType = {}));
var MessageSecurityMode;
(function (MessageSecurityMode) {
    /** The MessageSecurityMode is invalid */
    MessageSecurityMode[MessageSecurityMode["INVALID"] = 0] = "INVALID";
    /** No security is applied. */
    MessageSecurityMode["NONE"] = "1";
    /** All messages are signed but not encrypted. */
    MessageSecurityMode["SIGN"] = "2";
    /** All messages are signed and encrypted. */
    MessageSecurityMode["SIGNANDENCRYPT"] = "3"; //'SIGNANDENCRYPT'
})(MessageSecurityMode || (MessageSecurityMode = {}));
var SecurityPolicy;
(function (SecurityPolicy) {
    /** see http://opcfoundation.org/UA/SecurityPolicy#None */
    SecurityPolicy["None"] = "None";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic128 */
    SecurityPolicy["Basic128"] = "Basic128";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic128Rsa15 */
    SecurityPolicy["Basic128Rsa15"] = "Basic128Rsa15";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic192 */
    SecurityPolicy["Basic192"] = "Basic192";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic192Rsa15 */
    SecurityPolicy["Basic192Rsa15"] = "Basic192Rsa15";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic256 */
    SecurityPolicy["Basic256"] = "Basic256";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic256Rsa15 */
    SecurityPolicy["Basic256Rsa15"] = "Basic256Rsa15";
    /** see http://opcfoundation.org/UA/SecurityPolicy#Basic256Sha25 */
    SecurityPolicy["Basic256Sha256"] = "Basic256Sha256";
    /** see 'http://opcfoundation.org/UA/SecurityPolicy#Aes256_Sha256_RsaPss' */
    SecurityPolicy["Aes256_Sha256_RsaPss"] = "Aes256_Sha256_RsaPss";
    /** see ''http://opcfoundation.org/UA/SecurityPolicy#Aes128_Sha256_RsaOaep'' */
    SecurityPolicy["Aes128_Sha256_RsaOaep"] = "Aes128_Sha256_RsaOaep";
})(SecurityPolicy || (SecurityPolicy = {}));
var BACnetObjectType;
(function (BACnetObjectType) {
    BACnetObjectType["ANALOG_INPUT"] = "Analog Input";
    BACnetObjectType["ANALOG_OUTPUT"] = "Analog Output";
    BACnetObjectType["ANALOG_VALUE"] = "Analog Value";
    BACnetObjectType["BINARY_INPUT"] = "Binary Input";
    BACnetObjectType["BINARY_OUTPUT"] = "Binary Output";
    BACnetObjectType["BINARY_VALUE"] = "Binary Value";
    BACnetObjectType["CALENDAR"] = "";
    BACnetObjectType["COMMAND"] = "";
    BACnetObjectType["DEVICE"] = ""; // 8
})(BACnetObjectType || (BACnetObjectType = {}));
var DEVICE_PREFIX = 'd_';
var TAG_PREFIX = 't_';


/***/ }),

/***/ "./app/_models/hmi.ts":
/*!****************************!*\
  !*** ./app/_models/hmi.ts ***!
  \****************************/
/*! exports provided: Hmi, View, ViewType, LayoutSettings, NavigationSettings, NaviModeType, NaviItemType, NaviItem, HeaderSettings, NotificationModeType, ZoomModeType, DocProfile, MyItem, GaugeSettings, GaugeProperty, GaugeEvent, GaugeActionsType, GaugeAction, GaugeActionBlink, GaugeStatus, GaugeActionStatus, GaugeEventType, GaugeEventActionType, GaugeRangeProperty, Variable, VariableRange, Alarm, WindowLink, SelElement, Event, DaqQuery, DaqResult, HelpData, DateFormatType, TimeFormatType, CardWidget, CardWidgetType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Hmi", function() { return Hmi; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "View", function() { return View; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewType", function() { return ViewType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutSettings", function() { return LayoutSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationSettings", function() { return NavigationSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NaviModeType", function() { return NaviModeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NaviItemType", function() { return NaviItemType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NaviItem", function() { return NaviItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderSettings", function() { return HeaderSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationModeType", function() { return NotificationModeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZoomModeType", function() { return ZoomModeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocProfile", function() { return DocProfile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyItem", function() { return MyItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeSettings", function() { return GaugeSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeProperty", function() { return GaugeProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeEvent", function() { return GaugeEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeActionsType", function() { return GaugeActionsType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeAction", function() { return GaugeAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeActionBlink", function() { return GaugeActionBlink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeStatus", function() { return GaugeStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeActionStatus", function() { return GaugeActionStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeEventType", function() { return GaugeEventType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeEventActionType", function() { return GaugeEventActionType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeRangeProperty", function() { return GaugeRangeProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Variable", function() { return Variable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VariableRange", function() { return VariableRange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Alarm", function() { return Alarm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowLink", function() { return WindowLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelElement", function() { return SelElement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Event", function() { return Event; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DaqQuery", function() { return DaqQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DaqResult", function() { return DaqResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpData", function() { return HelpData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateFormatType", function() { return DateFormatType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeFormatType", function() { return TimeFormatType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardWidget", function() { return CardWidget; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardWidgetType", function() { return CardWidgetType; });
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./device */ "./app/_models/device.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Hmi = /** @class */ (function () {
    function Hmi() {
        /** Layout for navigation menu, header bar, ...  */
        this.layout = new LayoutSettings();
        /** Views list of hmi project */
        this.views = [];
    }
    return Hmi;
}());

var View = /** @class */ (function () {
    function View() {
        /** View id, random number */
        this.id = '';
        /** View name used as reference in configuration */
        this.name = '';
        /** View profile size, background color */
        this.profile = new DocProfile();
        /** Gauges settings list used in the view  */
        this.items = {};
        /** Variables (Tags) list used in the view */
        this.variables = {};
        /** Svg code content of the view  */
        this.svgcontent = '';
    }
    return View;
}());

var ViewType;
(function (ViewType) {
    ViewType["svg"] = "SVG";
    ViewType["cards"] = "CARDS";
})(ViewType || (ViewType = {}));
var LayoutSettings = /** @class */ (function () {
    function LayoutSettings() {
        /** Start view (home) */
        this.start = '';
        /** Left side navigation menu settings */
        this.navigation = new NavigationSettings();
        /** On top header settings */
        this.header = new HeaderSettings();
        /** Show development blue button (Home, Lab, Editor) */
        this.showdev = true;
    }
    return LayoutSettings;
}());

var NavigationSettings = /** @class */ (function () {
    function NavigationSettings() {
        this.mode = Object.keys(NaviModeType).find(function (key) { return NaviModeType[key] === NaviModeType.over; });
        this.type = Object.keys(NaviItemType).find(function (key) { return NaviItemType[key] === NaviItemType.block; });
    }
    return NavigationSettings;
}());

var NaviModeType;
(function (NaviModeType) {
    NaviModeType["void"] = "item.navsmode-none";
    NaviModeType["push"] = "item.navsmode-push";
    NaviModeType["over"] = "item.navsmode-over";
    NaviModeType["fix"] = "item.navsmode-fix";
})(NaviModeType || (NaviModeType = {}));
var NaviItemType;
(function (NaviItemType) {
    NaviItemType["icon"] = "item.navtype-icons";
    NaviItemType["text"] = "item.navtype-text";
    NaviItemType["block"] = "item.navtype-icons-text-block";
    NaviItemType["inline"] = "item.navtype-icons-text-inline";
})(NaviItemType || (NaviItemType = {}));
var NaviItem = /** @class */ (function () {
    function NaviItem() {
    }
    return NaviItem;
}());

var HeaderSettings = /** @class */ (function () {
    function HeaderSettings() {
    }
    return HeaderSettings;
}());

var NotificationModeType;
(function (NotificationModeType) {
    NotificationModeType["hide"] = "item.notifymode-hide";
    NotificationModeType["fix"] = "item.notifymode-fix";
    NotificationModeType["float"] = "item.notifymode-float";
})(NotificationModeType || (NotificationModeType = {}));
var ZoomModeType;
(function (ZoomModeType) {
    ZoomModeType["disabled"] = "item.zoommode-disabled";
    ZoomModeType["enabled"] = "item.zoommode-enabled";
})(ZoomModeType || (ZoomModeType = {}));
var DocProfile = /** @class */ (function () {
    function DocProfile() {
        this.width = 640;
        this.height = 480;
        this.bkcolor = '';
        this.margin = 10;
    }
    return DocProfile;
}());

var MyItem = /** @class */ (function () {
    function MyItem() {
    }
    return MyItem;
}());

var GaugeSettings = /** @class */ (function () {
    function GaugeSettings(id, type) {
        this.id = id;
        this.type = type;
        this.name = '';
        this.property = null; // set to GaugeProperty after upgrate
        this.label = '';
    }
    return GaugeSettings;
}());

var GaugeProperty = /** @class */ (function () {
    function GaugeProperty() {
        this.events = [];
        this.actions = [];
    }
    return GaugeProperty;
}());

var GaugeEvent = /** @class */ (function () {
    function GaugeEvent() {
        this.actoptions = {};
    }
    return GaugeEvent;
}());

var GaugeActionsType;
(function (GaugeActionsType) {
    GaugeActionsType["hide"] = "shapes.action-hide";
    GaugeActionsType["show"] = "shapes.action-show";
    GaugeActionsType["blink"] = "shapes.action-blink";
    GaugeActionsType["stop"] = "shapes.action-stop";
    GaugeActionsType["clockwise"] = "shapes.action-clockwise";
    GaugeActionsType["anticlockwise"] = "shapes.action-anticlockwise";
    GaugeActionsType["downup"] = "shapes.action-downup";
})(GaugeActionsType || (GaugeActionsType = {}));
var GaugeAction = /** @class */ (function () {
    function GaugeAction() {
        this.options = {};
    }
    return GaugeAction;
}());

var GaugeActionBlink = /** @class */ (function () {
    function GaugeActionBlink() {
        this.strokeA = null;
        this.strokeB = null;
        this.fillA = null;
        this.fillB = null;
        this.interval = 1000;
    }
    return GaugeActionBlink;
}());

var GaugeStatus = /** @class */ (function () {
    function GaugeStatus() {
        this.variablesValue = {};
        this.onlyChange = false; // to process value only by change
        this.takeValue = false; // to process value by check change with gauge value
    }
    return GaugeStatus;
}());

var GaugeActionStatus = /** @class */ (function () {
    function GaugeActionStatus(type) {
        this.timer = null;
        this.animr = null;
        this.type = type;
    }
    return GaugeActionStatus;
}());

var GaugeEventType;
(function (GaugeEventType) {
    GaugeEventType["click"] = "shapes.event-click";
})(GaugeEventType || (GaugeEventType = {}));
var GaugeEventActionType;
(function (GaugeEventActionType) {
    GaugeEventActionType["onpage"] = "shapes.event-onpage";
    GaugeEventActionType["onwindow"] = "shapes.event-onwindow";
    GaugeEventActionType["ondialog"] = "shapes.event-ondialog";
    GaugeEventActionType["oniframe"] = "shapes.event-oniframe";
    GaugeEventActionType["oncard"] = "shapes.event-oncard";
    GaugeEventActionType["onSetValue"] = "shapes.event-onsetvalue";
    GaugeEventActionType["onToggleValue"] = "shapes.event-ontogglevalue";
    GaugeEventActionType["onSetInput"] = "shapes.event-onsetinput";
    GaugeEventActionType["onclose"] = "shapes.event-onclose";
})(GaugeEventActionType || (GaugeEventActionType = {}));
var GaugeRangeProperty = /** @class */ (function () {
    function GaugeRangeProperty() {
    }
    return GaugeRangeProperty;
}());

var Variable = /** @class */ (function () {
    function Variable(id, source, name) {
        this.id = id;
        this.name = name;
        this.source = source;
    }
    return Variable;
}());

var VariableRange = /** @class */ (function () {
    function VariableRange() {
    }
    return VariableRange;
}());

var Alarm = /** @class */ (function (_super) {
    __extends(Alarm, _super);
    function Alarm() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return Alarm;
}(_device__WEBPACK_IMPORTED_MODULE_0__["Tag"]));

var WindowLink = /** @class */ (function () {
    function WindowLink() {
        this.name = '';
        this.title = '';
    }
    return WindowLink;
}());

var SelElement = /** @class */ (function () {
    function SelElement() {
        this.type = '';
        this.ele = null;
    }
    return SelElement;
}());

var Event = /** @class */ (function () {
    function Event() {
        this.id = '';
        this.value = null;
        this.dbg = '';
    }
    return Event;
}());

var DaqQuery = /** @class */ (function () {
    function DaqQuery() {
    }
    return DaqQuery;
}());

var DaqResult = /** @class */ (function () {
    function DaqResult() {
    }
    return DaqResult;
}());

var HelpData = /** @class */ (function () {
    function HelpData() {
    }
    return HelpData;
}());

var DateFormatType;
(function (DateFormatType) {
    DateFormatType["YYYY_MM_DD"] = "1998/03/25";
    DateFormatType["MM_DD_YYYY"] = "03/25/1998";
    DateFormatType["DD_MM_YYYY"] = "25/03/1998";
    DateFormatType["MM_DD_YY"] = "03/25/98";
    DateFormatType["DD_MM_YY"] = "25/03/98";
})(DateFormatType || (DateFormatType = {}));
var TimeFormatType;
(function (TimeFormatType) {
    TimeFormatType["hh_mm_ss"] = "16:58:10";
    TimeFormatType["hh_mm_ss_AA"] = "04:58:10 PM";
})(TimeFormatType || (TimeFormatType = {}));
var CardWidget = /** @class */ (function () {
    function CardWidget(type, data) {
        this.type = type;
        this.data = data;
    }
    return CardWidget;
}());

var CardWidgetType;
(function (CardWidgetType) {
    CardWidgetType["view"] = "card.widget-view";
    CardWidgetType["alarms"] = "card.widget-alarms";
    CardWidgetType["table"] = "card.widget-table";
})(CardWidgetType || (CardWidgetType = {}));


/***/ }),

/***/ "./app/_models/project.ts":
/*!********************************!*\
  !*** ./app/_models/project.ts ***!
  \********************************/
/*! exports provided: ProjectData, ProjectDataCmdType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectData", function() { return ProjectData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectDataCmdType", function() { return ProjectDataCmdType; });
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./device */ "./app/_models/device.ts");
/* harmony import */ var _hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_helpers/utils */ "./app/_helpers/utils.ts");



var ProjectData = /** @class */ (function () {
    function ProjectData() {
        this.version = "1.00";
        /** FUXA Server */
        this.server = new _device__WEBPACK_IMPORTED_MODULE_0__["Device"](_helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].getGUID(_device__WEBPACK_IMPORTED_MODULE_0__["DEVICE_PREFIX"]));
        /** Hmi resource, layout, SVG, etc. */
        this.hmi = new _hmi__WEBPACK_IMPORTED_MODULE_1__["Hmi"]();
        /** Devices, connection, Tags, etc. */
        this.devices = {};
        /** Charts, Tags, colors, etc. */
        this.charts = [];
        /** Alarms, Tags, logic, level, colors, etc.  */
        this.alarms = [];
        /** not used yet */
        this.texts = [];
        /** Plugins, name, version */
        this.plugin = [];
    }
    return ProjectData;
}());

var ProjectDataCmdType;
(function (ProjectDataCmdType) {
    ProjectDataCmdType["SetDevice"] = "set-device";
    ProjectDataCmdType["DelDevice"] = "del-device";
    ProjectDataCmdType["SetView"] = "set-view";
    ProjectDataCmdType["DelView"] = "del-view";
    ProjectDataCmdType["HmiLayout"] = "layout";
    ProjectDataCmdType["Charts"] = "charts";
    ProjectDataCmdType["SetText"] = "set-text";
    ProjectDataCmdType["DelText"] = "del-text";
    ProjectDataCmdType["SetAlarm"] = "set-alarm";
    ProjectDataCmdType["DelAlarm"] = "del-alarm";
})(ProjectDataCmdType || (ProjectDataCmdType = {}));


/***/ }),

/***/ "./app/_models/settings.ts":
/*!*********************************!*\
  !*** ./app/_models/settings.ts ***!
  \*********************************/
/*! exports provided: AppSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppSettings", function() { return AppSettings; });
var AppSettings = /** @class */ (function () {
    function AppSettings() {
        /** Editor language */
        this.language = 'en';
        /** Web server port */
        this.uiPort = 1881;
        /** Security access to enable user and authentication */
        this.secureEnabled = false;
        /** Expiration of authanticated token (15m)*/
        this.tokenExpiresIn = '1h';
    }
    return AppSettings;
}());



/***/ }),

/***/ "./app/_models/text.ts":
/*!*****************************!*\
  !*** ./app/_models/text.ts ***!
  \*****************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return Text; });
var Text = /** @class */ (function () {
    function Text() {
    }
    return Text;
}());



/***/ }),

/***/ "./app/_models/user.ts":
/*!*****************************!*\
  !*** ./app/_models/user.ts ***!
  \*****************************/
/*! exports provided: User, UserGroups */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserGroups", function() { return UserGroups; });
var User = /** @class */ (function () {
    function User() {
    }
    return User;
}());

var UserGroups = /** @class */ (function () {
    function UserGroups() {
    }
    UserGroups.GroupsToValue = function (grps, extended) {
        var result = 0;
        if (grps) {
            for (var i = 0; i < grps.length; i++) {
                result += grps[i].id;
            }
        }
        var shift = (extended) ? this.EXTENSION : 0;
        return result << shift;
    };
    UserGroups.ValueToGroups = function (value, extended) {
        var result = [];
        var shift = (extended) ? this.EXTENSION : 0;
        for (var i = 0; i < this.Groups.length; i++) {
            if ((value >> shift) & this.Groups[i].id) {
                result.push(this.Groups[i]);
            }
        }
        return result;
    };
    UserGroups.GroupToLabel = function (value) {
        var result = '';
        for (var i = 0; i < this.Groups.length; i++) {
            if (value & this.Groups[i].id) {
                if (result) {
                    result += ',';
                }
                result += this.Groups[i].label;
            }
        }
        return result;
    };
    UserGroups.ADMINMASK = [-1, 255];
    UserGroups.EXTENSION = 8;
    UserGroups.Groups = [{ id: 1, label: 'Viewer' },
        { id: 2, label: 'Operator' },
        { id: 4, label: 'Engineer' },
        { id: 8, label: 'Supervisor' },
        { id: 16, label: 'Manager' },
        { id: 32, label: 'Administrator' },
        { id: 64, label: 'G' },
        { id: 128, label: 'H' }];
    return UserGroups;
}());



/***/ }),

/***/ "./app/_services/app.service.ts":
/*!**************************************!*\
  !*** ./app/_services/app.service.ts ***!
  \**************************************/
/*! exports provided: AppService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return AppService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var _settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings.service */ "./app/_services/settings.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AppService = /** @class */ (function () {
    function AppService(settingsService) {
        this.settingsService = settingsService;
        this.onShowModeChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    AppService_1 = AppService;
    AppService.prototype.setShowMode = function (mode) {
        if (mode === 'editor' && this.settingsService.isEditModeLocked()) {
            this.settingsService.notifyEditorLocked();
            return this.showMode;
        }
        else {
            this.showMode = mode;
            this.onShowModeChanged.emit(this.showMode);
            return this.showMode;
        }
    };
    AppService.prototype.lockEditMode = function () {
        this.settingsService.lockEditMode();
    };
    AppService.prototype.unlockEditMode = function () {
        this.settingsService.unlockEditMode();
    };
    Object.defineProperty(AppService.prototype, "isDemoApp", {
        get: function () {
            return (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].type === AppService_1.APP_DEMO);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppService.prototype, "isClientApp", {
        get: function () {
            return (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].type === AppService_1.APP_CLIENT);
        },
        enumerable: true,
        configurable: true
    });
    AppService.APP_DEMO = 'demo';
    AppService.APP_CLIENT = 'client';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AppService.prototype, "onShowModeChanged", void 0);
    AppService = AppService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_settings_service__WEBPACK_IMPORTED_MODULE_2__["SettingsService"]])
    ], AppService);
    return AppService;
    var AppService_1;
}());



/***/ }),

/***/ "./app/_services/auth.service.ts":
/*!***************************************!*\
  !*** ./app/_services/auth.service.ts ***!
  \***************************************/
/*! exports provided: AuthService, UserProfile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserProfile", function() { return UserProfile; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_models/user */ "./app/_models/user.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_helpers/endpointapi */ "./app/_helpers/endpointapi.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AuthService = /** @class */ (function () {
    function AuthService(http) {
        this.http = http;
        this.endPointConfig = _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_5__["EndPointApi"].getURL();
        var user = JSON.parse(localStorage.getItem('currentUser'));
        if (user) {
            this.currentUser = user;
        }
    }
    AuthService.prototype.signIn = function (username, password) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].serverEnabled) {
                var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
                return _this.http.post(_this.endPointConfig + '/api/signin', { username: username, password: password }).subscribe(function (result) {
                    if (result) {
                        _this.currentUser = result.data;
                        _this.saveUserToken(_this.currentUser);
                    }
                    observer.next();
                }, function (err) {
                    console.log(err);
                    observer.error(err);
                });
            }
            else {
                observer.next();
            }
        });
    };
    AuthService.prototype.signOut = function () {
        this.removeUser();
    };
    AuthService.prototype.getUser = function () {
        return this.currentUser;
    };
    AuthService.prototype.getUserToken = function () {
        if (this.currentUser) {
            return this.currentUser.token;
        }
        else {
            return null;
        }
    };
    AuthService.prototype.isAdmin = function () {
        if (this.currentUser && _models_user__WEBPACK_IMPORTED_MODULE_3__["UserGroups"].ADMINMASK.indexOf(this.currentUser.groups) !== -1) {
            return true;
        }
        return false;
    };
    // to check by page refresh
    AuthService.prototype.saveUserToken = function (user) {
        localStorage.setItem('currentUser', JSON.stringify(user));
    };
    AuthService.prototype.removeUser = function () {
        this.currentUser = null;
        localStorage.removeItem('currentUser');
    };
    AuthService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], AuthService);
    return AuthService;
}());

var UserProfile = /** @class */ (function (_super) {
    __extends(UserProfile, _super);
    function UserProfile() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return UserProfile;
}(_models_user__WEBPACK_IMPORTED_MODULE_3__["User"]));



/***/ }),

/***/ "./app/_services/hmi.service.ts":
/*!**************************************!*\
  !*** ./app/_services/hmi.service.ts ***!
  \**************************************/
/*! exports provided: HmiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HmiService", function() { return HmiService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ "../node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_helpers/endpointapi */ "./app/_helpers/endpointapi.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var HmiService = /** @class */ (function () {
    function HmiService(projectService, translateService, toastr) {
        this.projectService = projectService;
        this.translateService = translateService;
        this.toastr = toastr;
        this.onVariableChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDeviceChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDeviceBrowse = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDeviceNodeAttribute = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDaqResult = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDeviceProperty = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onHostInterfaces = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onAlarmsStatus = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDeviceWebApiRequest = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.viewSignalGaugeMap = new ViewSignalGaugeMap();
        this.variables = {};
        this.alarms = { highhigh: 0, high: 0, low: 0, info: 0 };
        this.endPointConfig = _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_5__["EndPointApi"].getURL(); //"http://localhost:1881";
        this.bridge = null;
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].serverEnabled) {
            this.initSocket();
        }
    }
    HmiService_1 = HmiService;
    /**
     * Set signal value in current frontend signal array
     * Called from Test and value beckame from backend
     * @param sig
     */
    HmiService.prototype.setSignalValue = function (sig) {
        // update the signals array value
        // notify the gui
        this.onVariableChanged.emit(sig);
    };
    /**
     * Set signal value to backend
     * Value input in frontend
     * @param sigId
     * @param value
     */
    HmiService.prototype.putSignalValue = function (sigId, value) {
        if (this.variables[sigId]) {
            this.variables[sigId].value = value;
            if (this.socket) {
                this.socket.emit('device-values', { cmd: 'set', var: this.variables[sigId] });
            }
            else if (this.bridge) {
                this.bridge.setDeviceValue(this.variables[sigId]);
                this.setSignalValue(this.variables[sigId]);
            }
            else if (!_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].serverEnabled) {
                // for demo, only frontend
                this.setSignalValue(this.variables[sigId]);
            }
        }
    };
    HmiService.prototype.getAllSignals = function () {
        return this.variables;
    };
    //#region Communication Socket.io and Bridge
    /**
     * Init the bridge for client communication
     * @param bridge
     * @returns
     */
    HmiService.prototype.initClient = function (bridge) {
        var _this = this;
        console.log('FUXA init client bridge: ', (bridge) ? true : false);
        if (!bridge)
            return false;
        this.bridge = bridge;
        if (this.bridge) {
            this.bridge.onDeviceValues = function (tags) { return _this.onDeviceValues(tags); };
            this.askDeviceValues();
            return true;
        }
        return false;
    };
    HmiService.prototype.onDeviceValues = function (tags) {
        // console.log('FUXA onDeviceValues: ', tags);
        for (var idx = 0; idx < tags.length; idx++) {
            var varid = tags[idx].id;
            if (!this.variables[varid]) {
                this.variables[varid] = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["Variable"](varid, null, null);
            }
            this.variables[varid].value = tags[idx].value;
            this.setSignalValue(this.variables[varid]);
        }
    };
    /**
     * Init the socket and subsribe to device status and signal value change
     */
    HmiService.prototype.initSocket = function () {
        var _this = this;
        // check to init socket io
        if (!this.socket) {
            this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_1__(this.endPointConfig);
            // devicse status
            this.socket.on('device-status', function (message) {
                _this.onDeviceChanged.emit(message);
                if (message.status === 'connect-error') {
                    var msg = '';
                    _this.translateService.get('msg.device-connection-error', { value: message.id }).subscribe(function (txt) { msg = txt; });
                    _this.toastr.error(msg, '', {
                        timeOut: 3000,
                        closeButton: true,
                    });
                }
            });
            // device property
            this.socket.on('device-property', function (message) {
                _this.onDeviceProperty.emit(message);
            });
            // devices values
            this.socket.on('device-values', function (message) {
                for (var idx = 0; idx < message.values.length; idx++) {
                    var varid = message.id;
                    if (!_this.variables[varid]) {
                        _this.variables[varid] = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["Variable"](varid, null, null);
                    }
                    _this.variables[varid].value = message.values[idx].value;
                    _this.setSignalValue(_this.variables[varid]);
                }
            });
            // device browse
            this.socket.on('device-browse', function (message) {
                _this.onDeviceBrowse.emit(message);
            });
            // device node attribute
            this.socket.on('device-node-attribute', function (message) {
                _this.onDeviceNodeAttribute.emit(message);
            });
            // daq values
            this.socket.on('daq-result', function (message) {
                _this.onDaqResult.emit(message);
            });
            // alarms status
            this.socket.on('alarms-status', function (alarmsstatus) {
                _this.onAlarmsStatus.emit(alarmsstatus);
            });
            this.socket.on('host-interfaces', function (message) {
                _this.onHostInterfaces.emit(message);
            });
            this.socket.on('device-webapi-request', function (message) {
                _this.onDeviceWebApiRequest.emit(message);
            });
            this.askDeviceValues();
            this.askAlarmsStatus();
        }
    };
    /**
     * Ask device status to backend
     */
    HmiService.prototype.askDeviceStatus = function () {
        if (this.socket) {
            this.socket.emit('device-status', 'get');
        }
    };
    /**
     * Ask device status to backend
     */
    HmiService.prototype.askDeviceProperty = function (endpoint, type) {
        if (this.socket) {
            var msg = { endpoint: endpoint, type: type };
            this.socket.emit('device-property', msg);
        }
    };
    /**
     * Ask device webapi result to test
     */
    HmiService.prototype.askWebApiProperty = function (property) {
        if (this.socket) {
            var msg = { property: property };
            this.socket.emit('device-webapi-request', msg);
        }
    };
    /**
     * Ask host interface available
     */
    HmiService.prototype.askHostInterface = function () {
        if (this.socket) {
            this.socket.emit('host-interfaces', 'get');
        }
    };
    /**
     * Ask device status to backend
     */
    HmiService.prototype.askDeviceValues = function () {
        if (this.socket) {
            this.socket.emit('device-values', 'get');
        }
        else if (this.bridge) {
            this.bridge.getDeviceValues(null);
        }
    };
    /**
     * Ask alarms status to backend
     */
    HmiService.prototype.askAlarmsStatus = function () {
        if (this.socket) {
            this.socket.emit('alarms-status', 'get');
        }
    };
    HmiService.prototype.emitMappedSignalsGauge = function (domViewId) {
        var sigsToEmit = this.viewSignalGaugeMap.getSignalIds(domViewId);
        for (var idx = 0; idx < sigsToEmit.length; idx++) {
            if (this.variables[sigsToEmit[idx]]) {
                this.setSignalValue(this.variables[sigsToEmit[idx]]);
            }
        }
    };
    /**
     * Ask device browse to backend
     */
    HmiService.prototype.askDeviceBrowse = function (deviceId, node) {
        if (this.socket) {
            var msg = { device: deviceId, node: node };
            this.socket.emit('device-browse', msg);
        }
    };
    /**
     * Ask device node attribute to backend
     */
    HmiService.prototype.askNodeAttributes = function (deviceId, node) {
        if (this.socket) {
            var msg = { device: deviceId, node: node };
            this.socket.emit('device-node-attribute', msg);
        }
    };
    HmiService.prototype.queryDaqValues = function (msg) {
        if (this.socket) {
            this.socket.emit('daq-query', msg);
        }
    };
    //#endregion
    //#region Signals Gauges Mapping
    HmiService.prototype.addSignal = function (signalId, ga) {
        // add to variable list
        if (!this.variables[signalId]) {
            var v = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["Variable"](signalId, null, null);
            this.variables[signalId] = v;
        }
    };
    /**
     * map the dom view with signal and gauge settings
     * @param domViewId
     * @param signalId
     * @param ga
     */
    HmiService.prototype.addSignalGaugeToMap = function (domViewId, signalId, ga) {
        this.viewSignalGaugeMap.add(domViewId, signalId, ga);
        // add to variable list
        if (!this.variables[signalId]) {
            var v = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["Variable"](signalId, null, null);
            this.variables[signalId] = v;
        }
    };
    /**
     * remove mapped dom view Gauges
     * @param domViewId
     * return the removed gauge settings id list with signal id binded
     */
    HmiService.prototype.removeSignalGaugeFromMap = function (domViewId) {
        var _this = this;
        var sigsIdremoved = this.viewSignalGaugeMap.getSignalIds(domViewId);
        var result = {};
        sigsIdremoved.forEach(function (sigid) {
            var gaugesSettings = _this.viewSignalGaugeMap.signalsGauges(domViewId, sigid);
            if (gaugesSettings) {
                result[sigid] = gaugesSettings.map(function (gs) { return gs.id; });
            }
        });
        this.viewSignalGaugeMap.remove(domViewId);
        return result;
    };
    /**
     * get the gauges settings list of mapped dom view with the signal
     * @param domViewId
     * @param sigid
     */
    HmiService.prototype.getMappedSignalsGauges = function (domViewId, sigid) {
        return Object.values(this.viewSignalGaugeMap.signalsGauges(domViewId, sigid));
    };
    /**
     * get all signals property mapped in all dom views
     * @param fulltext a copy with item name and source
     */
    HmiService.prototype.getMappedVariables = function (fulltext) {
        var _this = this;
        var result = [];
        this.viewSignalGaugeMap.getAllSignalIds().forEach(function (sigid) {
            if (_this.variables[sigid]) {
                var toadd = _this.variables[sigid];
                if (fulltext) {
                    toadd = Object.assign({}, _this.variables[sigid]);
                    var device = _this.projectService.getDeviceFromTagId(toadd.id);
                    if (device) {
                        toadd['source'] = device.name;
                        if (device.tags[toadd.id]) {
                            toadd['name'] = _this.getTagLabel(device.tags[toadd.id]);
                        }
                    }
                }
                result.push(toadd);
            }
        });
        return result;
    };
    /**
     * get singal property, complate the signal property with device tag property
     * @param sigid
     * @param fulltext
     */
    HmiService.prototype.getMappedVariable = function (sigid, fulltext) {
        if (this.variables[sigid]) {
            var result = this.variables[sigid];
            if (fulltext) {
                result = Object.assign({}, this.variables[sigid]);
                var device = this.projectService.getDeviceFromTagId(result.id);
                if (device) {
                    result['source'] = device.name;
                    if (device.tags[result.name]) {
                        result['name'] = this.getTagLabel(device.tags[result.name]);
                    }
                }
            }
            return result;
        }
    };
    HmiService.prototype.getTagLabel = function (tag) {
        if (tag.label) {
            return tag.label;
        }
        else {
            return tag.name;
        }
    };
    //#endregion
    //#region Chart functions
    HmiService.prototype.getChart = function (id) {
        return this.projectService.getChart(id);
    };
    HmiService.prototype.getChartSignal = function (id) {
        var chart = this.projectService.getChart(id);
        if (chart) {
            var varsId_1 = [];
            chart.lines.forEach(function (line) {
                varsId_1.push(line.id);
            });
            return varsId_1;
        }
    };
    //#endregion
    //#region Current Alarms functions
    HmiService.prototype.getAlarmsValues = function () {
        return this.projectService.getAlarmsValues();
    };
    HmiService.prototype.setAlarmAck = function (alarmName) {
        return this.projectService.setAlarmAck(alarmName);
    };
    //#endregion
    //#region My Static functions
    HmiService.toVariableId = function (src, name) {
        return src + HmiService_1.separator + name;
    };
    HmiService.separator = '^~^';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onVariableChanged", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onDeviceChanged", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onDeviceBrowse", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onDeviceNodeAttribute", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onDaqResult", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onDeviceProperty", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onHostInterfaces", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onAlarmsStatus", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HmiService.prototype, "onDeviceWebApiRequest", void 0);
    HmiService = HmiService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_services_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__["TranslateService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_6__["ToastrService"]])
    ], HmiService);
    return HmiService;
    var HmiService_1;
}());

var ViewSignalGaugeMap = /** @class */ (function () {
    function ViewSignalGaugeMap() {
        this.views = {};
    }
    ViewSignalGaugeMap.prototype.add = function (domViewId, signalId, ga) {
        if (!this.views[domViewId]) {
            this.views[domViewId] = {};
        }
        if (!this.views[domViewId][signalId]) {
            this.views[domViewId][signalId] = [];
        }
        this.views[domViewId][signalId].push(ga);
        return true;
    };
    ViewSignalGaugeMap.prototype.remove = function (domViewId) {
        delete this.views[domViewId];
        return;
    };
    ViewSignalGaugeMap.prototype.signalsGauges = function (domViewId, sigid) {
        return this.views[domViewId][sigid];
    };
    ViewSignalGaugeMap.prototype.getSignalIds = function (domViewId) {
        var result = [];
        if (this.views[domViewId]) {
            result = Object.keys(this.views[domViewId]);
        }
        return result;
    };
    ViewSignalGaugeMap.prototype.getAllSignalIds = function () {
        var result = [];
        Object.values(this.views).forEach(function (evi) {
            Object.keys(evi).forEach(function (key) {
                if (result.indexOf(key) === -1) {
                    result.push(key);
                }
            });
        });
        return result;
    };
    return ViewSignalGaugeMap;
}());


/***/ }),

/***/ "./app/_services/plugin.service.ts":
/*!*****************************************!*\
  !*** ./app/_services/plugin.service.ts ***!
  \*****************************************/
/*! exports provided: PluginService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PluginService", function() { return PluginService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_helpers/endpointapi */ "./app/_helpers/endpointapi.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PluginService = /** @class */ (function () {
    function PluginService(http, translateService, toastr) {
        this.http = http;
        this.translateService = translateService;
        this.toastr = toastr;
        this.onPluginsChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.endPointConfig = _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_3__["EndPointApi"].getURL();
    }
    PluginService.prototype.getPlugins = function () {
        return this.http.get(this.endPointConfig + '/api/plugins');
    };
    PluginService.prototype.installPlugin = function (plugin) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].serverEnabled) {
                var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
                _this.http.post(_this.endPointConfig + '/api/plugins', { headers: header, params: plugin }).subscribe(function (result) {
                    observer.next();
                    _this.onPluginsChanged.emit();
                }, function (err) {
                    console.log(err);
                    observer.error(err);
                });
            }
            else {
                observer.next();
            }
        });
    };
    PluginService.prototype.removePlugin = function (plugin) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].serverEnabled) {
                var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
                _this.http.delete(_this.endPointConfig + '/api/plugins', { headers: header, params: { param: plugin.name } }).subscribe(function (result) {
                    observer.next();
                    _this.onPluginsChanged.emit();
                }, function (err) {
                    console.log(err);
                    observer.error(err);
                });
            }
            else {
                observer.next();
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], PluginService.prototype, "onPluginsChanged", void 0);
    PluginService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], PluginService);
    return PluginService;
}());



/***/ }),

/***/ "./app/_services/project.service.ts":
/*!******************************************!*\
  !*** ./app/_services/project.service.ts ***!
  \******************************************/
/*! exports provided: ProjectService, ServerSettings, SaveMode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectService", function() { return ProjectService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServerSettings", function() { return ServerSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveMode", function() { return SaveMode; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_models/project */ "./app/_models/project.ts");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_models/device */ "./app/_models/device.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _rcgi_resource_storage_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./rcgi/resource-storage.service */ "./app/_services/rcgi/resource-storage.service.ts");
/* harmony import */ var _rcgi_resdemo_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rcgi/resdemo.service */ "./app/_services/rcgi/resdemo.service.ts");
/* harmony import */ var _rcgi_resclient_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./rcgi/resclient.service */ "./app/_services/rcgi/resclient.service.ts");
/* harmony import */ var _rcgi_reswebapi_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./rcgi/reswebapi.service */ "./app/_services/rcgi/reswebapi.service.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./app.service */ "./app/_services/app.service.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! file-saver */ "../node_modules/file-saver/FileSaver.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_13__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var ProjectService = /** @class */ (function () {
    function ProjectService(resewbApiService, resDemoService, resClientService, appService, translateService, toastr) {
        var _this = this;
        this.resewbApiService = resewbApiService;
        this.resDemoService = resDemoService;
        this.resClientService = resClientService;
        this.appService = appService;
        this.translateService = translateService;
        this.toastr = toastr;
        this.onSaveCurrent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onLoadHmi = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.projectData = new _models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectData"](); // Project data
        this.AppId = '';
        this.projectOld = '';
        this.ready = false;
        this.storage = resewbApiService;
        if (appService.isDemoApp) {
            this.storage = resDemoService;
        }
        else if (appService.isClientApp) {
            this.storage = resClientService;
        }
        console.log("mode:", _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].type);
        this.storage.getAppId = function () { return _this.getAppId(); };
        this.storage.onRefreshProject = function () { return _this.onRefreshProject(); };
        this.storage.checkServer().subscribe(function (result) {
            if (result) {
                _this.serverSettings = result;
                _this.load();
            }
        }, function (error) {
            console.error('project.service err: ' + error);
            _this.load();
            _this.notifyServerError();
        });
    }
    ProjectService.prototype.getAppId = function () {
        return this.AppId;
    };
    ProjectService.prototype.init = function (bridge) {
        this.storage.init(bridge);
        if (this.appService.isClientApp) {
        }
        this.reload();
    };
    ProjectService.prototype.onRefreshProject = function () {
        var _this = this;
        console.log('FUXA onRefreshProject: ', this.AppId);
        this.storage.getStorageProject().subscribe(function (prj) {
            if (prj) {
                _this.projectData = prj;
                // copy to check before save
                _this.projectOld = JSON.parse(JSON.stringify(_this.projectData));
                _this.ready = true;
                _this.notifyToLoadHmi();
            }
            else {
                var msg_1 = '';
                _this.translateService.get('msg.get-project-void').subscribe(function (txt) { msg_1 = txt; });
                console.warn(msg_1);
                // this.notifySaveError(msg);
            }
        }, function (err) {
            console.error('FUXA onRefreshProject error', err);
        });
        return true;
    };
    //#region Load and Save
    /**
     * Load Project from Server if enable.
     * From Local Storage, from 'assets' if demo or create a local project
     */
    ProjectService.prototype.load = function () {
        var _this = this;
        this.storage.getStorageProject().subscribe(function (prj) {
            if (!prj && _this.appService.isDemoApp) {
                console.log('create demo');
                _this.setNewProject();
            }
            else if (_this.appService.isClientApp) {
                console.log('FUXA load project: ', prj);
                if (!prj && _this.storage.isReady) {
                    _this.setNewProject();
                }
                else {
                    _this.projectData = prj;
                }
                _this.ready = true;
                _this.notifyToLoadHmi();
            }
            else {
                _this.projectData = prj;
                // copy to check before save
                _this.projectOld = JSON.parse(JSON.stringify(_this.projectData));
                _this.ready = true;
                _this.notifyToLoadHmi();
            }
        }, function (err) {
            console.error('FUXA load error', err);
        });
    };
    /**
     * Save Project
     */
    ProjectService.prototype.save = function () {
        var _this = this;
        // check project change don't work some svg object change the order and this to check isn't easy...boooo
        this.storage.setServerProject(this.projectData).subscribe(function (result) {
            _this.load();
            var msg = '';
            _this.translateService.get('msg.project-save-success').subscribe(function (txt) { msg = txt; });
            _this.toastr.success(msg);
        }, function (err) {
            console.log(err);
            var msg = '';
            _this.translateService.get('msg.project-save-error').subscribe(function (txt) { msg = txt; });
            _this.toastr.error(msg, '', {
                timeOut: 3000,
                closeButton: true,
                disableTimeOut: true
            });
        });
        return true;
    };
    ProjectService.prototype.saveAs = function () {
        var filename = 'fuxa-project.json';
        var date = new Date();
        var content = JSON.stringify(this.convertToSave(this.getProject()));
        var blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        file_saver__WEBPACK_IMPORTED_MODULE_13__["saveAs"](blob, filename);
    };
    ProjectService.prototype.reload = function () {
        this.load();
    };
    /**
     * Remove Tag value to save without value
     * Value was added by HmiService from socketIo event
     * @param prj
     */
    ProjectService.prototype.convertToSave = function (prj) {
        var result = JSON.parse(JSON.stringify(prj));
        if (this.appService.isClientApp) {
            var sprj = _rcgi_resource_storage_service__WEBPACK_IMPORTED_MODULE_7__["ResourceStorageService"].sanitizeProject(prj);
            result = JSON.parse(JSON.stringify(sprj));
        }
        for (var devid in result.devices) {
            for (var tagid in result.devices[devid].tags) {
                delete result.devices[devid].tags[tagid].value;
            }
        }
        return result;
    };
    //#endregion
    //#region Device to Save
    /**
     * Add or update Device to Project.
     * Save to Server
     * @param device
     * @param old
     */
    ProjectService.prototype.setDevice = function (device, old, security) {
        var _this = this;
        if (this.projectData.devices) {
            this.projectData.devices[device.id] = device;
            this.storage.setDeviceSecurity(device.id, security).subscribe(function () {
                _this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].SetDevice, device, _this.projectData).subscribe(function (result) {
                    if (old && old.id !== device.id) {
                        _this.removeDevice(old);
                    }
                }, function (err) {
                    console.log(err);
                    _this.notifySaveError(err);
                });
            }, function (err) {
                console.log(err);
                _this.notifySaveError(err);
            });
        }
    };
    ProjectService.prototype.setDeviceTags = function (device) {
        var _this = this;
        this.projectData.devices[device.id] = device;
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].SetDevice, device, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    /**
     * Remove Device from Project.
     * Save to Server
     * @param device
     */
    ProjectService.prototype.removeDevice = function (device) {
        var _this = this;
        delete this.projectData.devices[device.id];
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].DelDevice, device, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
        this.storage.setDeviceSecurity(device.id, '').subscribe(function () {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    ProjectService.prototype.getDeviceSecurity = function (id) {
        return this.storage.getDeviceSecurity(id);
    };
    //#endregion
    //#region View to Save
    /**
     * Add or update View to Project.
     * Save to Server
     * @param view
     */
    ProjectService.prototype.setView = function (view) {
        var _this = this;
        var v = null;
        for (var i = 0; i < this.projectData.hmi.views.length; i++) {
            if (this.projectData.hmi.views[i].id === view.id) {
                v = this.projectData.hmi.views[i];
            }
        }
        if (v) {
            v = view;
        }
        else {
            this.projectData.hmi.views.push(view);
        }
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].SetView, view, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    /**
     * Remove the View from Project
     * Delete from Server
     * @param view
     */
    ProjectService.prototype.removeView = function (view) {
        var _this = this;
        for (var i = 0; i < this.projectData.hmi.views.length; i++) {
            if (this.projectData.hmi.views[i].id === view.id) {
                this.projectData.hmi.views.splice(i, 1);
                break;
            }
        }
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].DelView, view, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    //#endregion
    //#region Hmi, Layout resource json struct
    /**
     * get hmi resource
     */
    ProjectService.prototype.getHmi = function () {
        return (this.ready && this.projectData) ? this.projectData.hmi : null;
    };
    ProjectService.prototype.setLayout = function (layout) {
        var _this = this;
        this.projectData.hmi.layout = layout;
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].HmiLayout, layout, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    //#endregion
    //#region Charts resource
    /**
     * get charts resource
     */
    ProjectService.prototype.getCharts = function () {
        return (this.projectData) ? (this.projectData.charts) ? this.projectData.charts : [] : null;
    };
    ProjectService.prototype.getChart = function (id) {
        for (var i = 0; i < this.projectData.charts.length; i++) {
            if (this.projectData.charts[i].id === id) {
                return this.projectData.charts[i];
            }
        }
    };
    /**
     * save the charts to project
     * @param charts
     */
    ProjectService.prototype.setCharts = function (charts) {
        var _this = this;
        this.projectData.charts = charts;
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].Charts, charts, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    //#endregion
    //#region Alarms resource    
    /**
     * get alarms resource
     */
    ProjectService.prototype.getAlarms = function () {
        return (this.projectData) ? (this.projectData.alarms) ? this.projectData.alarms : [] : null;
    };
    /**
     * save the alarm to project
     * @param text
     */
    ProjectService.prototype.setAlarm = function (alarm, old) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (observer) {
            if (!_this.projectData.alarms) {
                _this.projectData.alarms = [];
            }
            var exist = _this.projectData.alarms.find(function (tx) { return tx.name === alarm.name; });
            if (exist) {
                exist.property = alarm.property;
                exist.highhigh = alarm.highhigh;
                exist.high = alarm.high;
                exist.low = alarm.low;
                exist.info = alarm.info;
                exist.value = alarm.value;
            }
            else {
                _this.projectData.alarms.push(alarm);
            }
            _this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].SetAlarm, alarm, _this.projectData).subscribe(function (result) {
                if (old && old.name && old.name !== alarm.name) {
                    _this.removeAlarm(old).subscribe(function (result) {
                        observer.next();
                    });
                }
                else {
                    observer.next();
                }
            }, function (err) {
                console.log(err);
                _this.notifySaveError(err);
                observer.error(err);
            });
        });
    };
    /**
     * remove the text from project
     * @param text
     */
    ProjectService.prototype.removeAlarm = function (alarm) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (observer) {
            if (_this.projectData.alarms) {
                for (var i = 0; i < _this.projectData.alarms.length; i++) {
                    if (_this.projectData.alarms[i].name === alarm.name) {
                        _this.projectData.alarms.splice(i, 1);
                        break;
                    }
                }
            }
            _this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].DelAlarm, alarm, _this.projectData).subscribe(function (result) {
                observer.next();
            }, function (err) {
                console.log(err);
                _this.notifySaveError(err);
                observer.error(err);
            });
        });
    };
    ProjectService.prototype.getAlarmsValues = function () {
        return this.storage.getAlarmsValues();
    };
    ProjectService.prototype.setAlarmAck = function (name) {
        return this.storage.setAlarmAck(name);
    };
    //#endregion
    //#region Texts resource
    /**
     * get texts resource
     */
    ProjectService.prototype.getTexts = function () {
        return (this.projectData) ? (this.projectData.texts) ? this.projectData.texts : [] : null;
    };
    /**
     * save the text to project
     * @param text
     */
    ProjectService.prototype.setText = function (text, old) {
        var _this = this;
        if (!this.projectData.texts) {
            this.projectData.texts = [];
        }
        var exist = this.projectData.texts.find(function (tx) { return tx.name === text.name; });
        if (exist) {
            exist.group = text.group;
            exist.value = text.value;
        }
        else {
            this.projectData.texts.push(text);
        }
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].SetText, text, this.projectData).subscribe(function (result) {
            if (old && old.name && old.name !== text.name) {
                _this.removeText(old);
            }
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    /**
     * remove the text from project
     * @param text
     */
    ProjectService.prototype.removeText = function (text) {
        var _this = this;
        if (this.projectData.texts) {
            for (var i = 0; i < this.projectData.texts.length; i++) {
                if (this.projectData.texts[i].name === text.name) {
                    this.projectData.texts.splice(i, 1);
                    break;
                }
            }
        }
        this.storage.setServerProjectData(_models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].DelText, text, this.projectData).subscribe(function (result) {
        }, function (err) {
            console.log(err);
            _this.notifySaveError(err);
        });
    };
    //#endregion
    //#region Notify
    ProjectService.prototype.notifyToLoadHmi = function () {
        this.onLoadHmi.emit(true);
    };
    ProjectService.prototype.notifySaveError = function (err) {
        console.error('FUXA notifySaveError error', err);
        var msg = null;
        this.translateService.get('msg.project-save-error').subscribe(function (txt) { msg = txt; });
        if (err.status === 401) {
            this.translateService.get('msg.project-save-unauthorized').subscribe(function (txt) { msg = txt; });
        }
        if (msg) {
            this.toastr.error(msg, '', {
                timeOut: 3000,
                closeButton: true,
                disableTimeOut: true
            });
        }
    };
    ProjectService.prototype.notifyServerError = function () {
        console.error('FUXA notifyServerError error');
        var msg = null;
        this.translateService.get('msg.server-connection-error').subscribe(function (txt) { msg = txt; });
        if (msg) {
            this.toastr.error(msg, '', {
                timeOut: 3000,
                closeButton: true,
                disableTimeOut: true
            });
        }
    };
    //#endregion
    /**
     * Set Project data and save resource to backend
     * Used from open and upload JSON Project file
     * @param prj project data to save
     */
    ProjectService.prototype.setProject = function (prj, notify) {
        this.projectData = prj;
        if (this.appService.isClientApp) {
            this.projectData = _rcgi_resource_storage_service__WEBPACK_IMPORTED_MODULE_7__["ResourceStorageService"].defileProject(prj);
        }
        this.save();
    };
    ProjectService.prototype.setNewProject = function () {
        this.projectData = new _models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectData"]();
        var server = new _models_device__WEBPACK_IMPORTED_MODULE_4__["Device"](_helpers_utils__WEBPACK_IMPORTED_MODULE_12__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_4__["DEVICE_PREFIX"]));
        server.name = 'FUXA';
        server.id = '0';
        server.type = _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].FuxaServer;
        server.property = new _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceNetProperty"]();
        if (!this.appService.isClientApp) {
            this.projectData.server = server;
        }
        else {
            delete this.projectData.server;
        }
        this.save();
    };
    ProjectService.prototype.getProject = function () {
        return this.projectData;
    };
    ProjectService.prototype.checkServer = function () {
        return this.storage.checkServer();
    };
    ProjectService.prototype.getServer = function () {
        return (this.projectData) ? this.projectData.server : null;
    };
    ProjectService.prototype.getDevices = function () {
        return (this.projectData) ? this.projectData.devices : {};
    };
    ProjectService.prototype.getDeviceFromId = function (id) {
        var _this = this;
        var result;
        Object.keys(this.projectData.devices).forEach(function (k) {
            if (_this.projectData.devices[k].id === id) {
                result = _this.projectData.devices[k];
            }
        });
        return result;
    };
    ProjectService.prototype.getDeviceFromTagId = function (tagId) {
        var devices = Object.values(this.projectData.devices);
        for (var i = 0; i < devices.length; i++) {
            if (devices[i].tags[tagId]) {
                return devices[i];
            }
        }
    };
    /**
     * Send Save Project to to editor component
     * @param saveas
     */
    ProjectService.prototype.saveProject = function (mode) {
        if (mode === void 0) { mode = SaveMode.Save; }
        this.onSaveCurrent.emit(mode);
    };
    ProjectService.prototype.isSecurityEnabled = function () {
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].serverEnabled) {
            if (this.serverSettings && !this.serverSettings.secureEnabled) {
                return false;
            }
            return true;
        }
        else {
            return false;
        }
    };
    ProjectService.prototype._deepEquals = function (x, y) {
        if (JSON.stringify(x) === JSON.stringify(y)) {
            return true; // if both x and y are null or undefined and exactly the same
        }
        else {
            try {
                for (var p in x) {
                    if (!x.hasOwnProperty(p)) {
                        continue; // other properties were tested using x.constructor === y.constructor
                    }
                    if (!y.hasOwnProperty(p)) {
                        return false; // allows to compare x[ p ] and y[ p ] when set to undefined
                    }
                    if (p === 'svgcontent') {
                        // the xml have to be transform in json
                        var parser = new DOMParser(); // initialize dom parser
                        var aDOM = parser.parseFromString(x[p], "text/xml");
                        var bDOM = parser.parseFromString(y[p], "text/xml");
                        var a = this._xml2json(aDOM);
                        var b = this._xml2json(bDOM);
                        return this._deepEquals(a, b);
                    }
                    if (x[p] === y[p]) {
                        continue; // if they have the same strict value or identity then they are equal
                    }
                    if (!this._deepEquals(x[p], y[p])) {
                        return false;
                    }
                }
                for (var p in y) {
                    if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {
                        return false;
                    }
                }
            }
            catch (ex) {
                console.log(ex);
                return false;
            }
            return true;
        }
    };
    /**
     * This function coverts a DOM Tree into JavaScript Object.
     * @param srcDOM: DOM Tree to be converted.
     */
    ProjectService.prototype._xml2json = function (xml) {
        // Create the return object
        var obj = {};
        if (xml.nodeType == 1) {
            // do attributes
            if (xml.attributes.length > 0) {
                obj["@attributes"] = {};
                for (var j = 0; j < xml.attributes.length; j++) {
                    var attribute = xml.attributes.item(j);
                    obj["@attributes"][attribute.nodeName] = attribute.nodeValue;
                }
            }
        }
        else if (xml.nodeType == 3) {
            obj = xml.nodeValue;
        }
        // do children
        if (xml.hasChildNodes()) {
            for (var i = 0; i < xml.childNodes.length; i++) {
                var item = xml.childNodes.item(i);
                var nodeName = item.nodeName;
                if (typeof (obj[nodeName]) == "undefined") {
                    obj[nodeName] = this._xml2json(item);
                }
                else {
                    if (typeof (obj[nodeName].push) == "undefined") {
                        var old = obj[nodeName];
                        obj[nodeName] = [];
                        obj[nodeName].push(old);
                    }
                    obj[nodeName].push(this._xml2json(item));
                }
            }
        }
        return obj;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ProjectService.prototype, "onSaveCurrent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ProjectService.prototype, "onLoadHmi", void 0);
    ProjectService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_rcgi_reswebapi_service__WEBPACK_IMPORTED_MODULE_10__["ResWebApiService"],
            _rcgi_resdemo_service__WEBPACK_IMPORTED_MODULE_8__["ResDemoService"],
            _rcgi_resclient_service__WEBPACK_IMPORTED_MODULE_9__["ResClientService"],
            _app_service__WEBPACK_IMPORTED_MODULE_11__["AppService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], ProjectService);
    return ProjectService;
}());

var ServerSettings = /** @class */ (function () {
    function ServerSettings() {
    }
    return ServerSettings;
}());

var SaveMode;
(function (SaveMode) {
    SaveMode[SaveMode["Current"] = 0] = "Current";
    SaveMode[SaveMode["Save"] = 1] = "Save";
    SaveMode[SaveMode["SaveAs"] = 2] = "SaveAs";
})(SaveMode || (SaveMode = {}));


/***/ }),

/***/ "./app/_services/rcgi/resclient.service.ts":
/*!*************************************************!*\
  !*** ./app/_services/rcgi/resclient.service.ts ***!
  \*************************************************/
/*! exports provided: ResClientService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResClientService", function() { return ResClientService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_models/project */ "./app/_models/project.ts");
/* harmony import */ var _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resource-storage.service */ "./app/_services/rcgi/resource-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ResClientService = /** @class */ (function () {
    function ResClientService(http) {
        this.http = http;
        this.bridge = null;
        this.id = null;
    }
    Object.defineProperty(ResClientService.prototype, "isReady", {
        get: function () { return (this.bridge) ? true : false; },
        enumerable: true,
        configurable: true
    });
    ResClientService.prototype.init = function (bridge) {
        this.id = this.getAppId();
        if (!this.bindBridge(bridge)) {
            return false;
        }
        return true;
    };
    ResClientService.prototype.bindBridge = function (bridge) {
        console.log('FUXA bindBridge: ', (bridge) ? true : false);
        if (!bridge)
            return false;
        this.bridge = bridge;
        if (this.bridge) {
            this.bridge.onRefreshProject = this.onRefreshProject;
            return true;
        }
        return false;
    };
    ResClientService.prototype.getDemoProject = function () {
        return this.http.get('./assets/project.demo.fuxap', {});
    };
    ResClientService.prototype.getStorageProject = function () {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (_this.bridge) {
                var sprj = _this.bridge.loadProject();
                var prj = _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__["ResourceStorageService"].defileProject(sprj);
                console.log('FUXA bridge.loadProject (getStorageProject): ', prj);
                observer.next(prj);
            }
            else {
                var prj = localStorage.getItem(_this.getAppId());
                if (prj) {
                    observer.next(JSON.parse(prj));
                }
                else {
                    observer.next();
                }
            }
        });
    };
    ResClientService.prototype.setServerProject = function (prj) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (!prj) {
                observer.next();
            }
            else if (_this.bridge) {
                var sprj = _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__["ResourceStorageService"].sanitizeProject(prj);
                console.log('FUXA bridge.saveProject (setServerProject): ', sprj);
                if (_this.bridge.saveProject(sprj, true)) {
                    observer.next();
                }
                else {
                    observer.error();
                }
            }
            else {
                _this.saveInLocalStorage(prj);
                observer.next();
            }
        });
    };
    ResClientService.prototype.setServerProjectData = function (cmd, data, prj) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (!prj) {
                observer.next();
            }
            else if (_this.bridge) {
                var sprj = _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__["ResourceStorageService"].sanitizeProject(prj);
                console.log('FUXA bridge.saveProject (setServerProjectData): ', sprj);
                if (_this.bridge.saveProject(sprj, false)) {
                    // if (this.isDataCmdForDevice(cmd)) {
                    //     let sdevice = ResourceStorageService.sanitizeDevice(data);
                    //     this.bridge.deviceChange(sdevice);
                    // }
                    observer.next();
                }
                else {
                    observer.error();
                }
            }
            else {
                _this.saveInLocalStorage(prj);
                observer.next();
            }
        });
    };
    ResClientService.prototype.isDataCmdForDevice = function (cmd) {
        return (cmd === _models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].DelDevice || cmd === _models_project__WEBPACK_IMPORTED_MODULE_3__["ProjectDataCmdType"].SetDevice);
    };
    ResClientService.prototype.saveInLocalStorage = function (prj) {
        if (this.getAppId()) {
            localStorage.setItem(this.getAppId(), JSON.stringify(prj));
        }
    };
    ResClientService.prototype.getDeviceSecurity = function (id) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.error('Not supported!');
        });
    };
    ResClientService.prototype.setDeviceSecurity = function (name, value) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.next('Not supported!');
        });
    };
    ResClientService.prototype.getAlarmsValues = function () {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.error('Not supported!');
        });
    };
    ResClientService.prototype.setAlarmAck = function (name) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.error('Not supported!');
        });
    };
    ResClientService.prototype.checkServer = function () {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.next();
        });
    };
    ResClientService.prototype.getAppId = function () {
        return _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__["ResourceStorageService"].prjresource;
    };
    ResClientService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ResClientService);
    return ResClientService;
}());



/***/ }),

/***/ "./app/_services/rcgi/resdemo.service.ts":
/*!***********************************************!*\
  !*** ./app/_services/rcgi/resdemo.service.ts ***!
  \***********************************************/
/*! exports provided: ResDemoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResDemoService", function() { return ResDemoService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _resource_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resource-storage.service */ "./app/_services/rcgi/resource-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ResDemoService = /** @class */ (function () {
    function ResDemoService(http) {
        this.http = http;
    }
    ResDemoService.prototype.init = function () {
        return true;
    };
    ResDemoService.prototype.getDemoProject = function () {
        return this.http.get('./assets/project.demo.fuxap', {});
    };
    ResDemoService.prototype.getStorageProject = function () {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            var prj = localStorage.getItem(_this.getAppId());
            if (prj) {
                observer.next(JSON.parse(prj));
                console.log('get localStorage');
            }
            else {
                // try root path
                _this.getDemoProject().subscribe(function (demo) {
                    observer.next(demo);
                }, function (err) {
                    observer.error(err);
                });
            }
        });
    };
    ResDemoService.prototype.setServerProject = function (prj) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            localStorage.setItem(_this.getAppId(), JSON.stringify(prj));
            observer.next();
        });
    };
    ResDemoService.prototype.setServerProjectData = function (cmd, data) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.next('Not supported!');
        });
    };
    ResDemoService.prototype.getDeviceSecurity = function (id) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.error('Not supported!');
        });
    };
    ResDemoService.prototype.setDeviceSecurity = function (name, value) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.next('Not supported!');
        });
    };
    ResDemoService.prototype.getAlarmsValues = function () {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.error('Not supported!');
        });
    };
    ResDemoService.prototype.setAlarmAck = function (name) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.error('Not supported!');
        });
    };
    ResDemoService.prototype.checkServer = function () {
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            observer.next();
        });
    };
    ResDemoService.prototype.getAppId = function () {
        return _resource_storage_service__WEBPACK_IMPORTED_MODULE_3__["ResourceStorageService"].prjresource;
    };
    ResDemoService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ResDemoService);
    return ResDemoService;
}());



/***/ }),

/***/ "./app/_services/rcgi/resource-storage.service.ts":
/*!********************************************************!*\
  !*** ./app/_services/rcgi/resource-storage.service.ts ***!
  \********************************************************/
/*! exports provided: ResourceStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResourceStorageService", function() { return ResourceStorageService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ResourceStorageService = /** @class */ (function () {
    function ResourceStorageService() {
    }
    ResourceStorageService.defileProject = function (source) {
        if (!source)
            return source;
        var destination = JSON.parse(JSON.stringify(source));
        var devices = {};
        for (var i = 0; i < destination.devices.length; i++) {
            var tags = {};
            for (var x = 0; x < destination.devices[i].tags.length; x++) {
                tags[destination.devices[i].tags[x].id] = destination.devices[i].tags[x];
            }
            destination.devices[i].tags = tags;
            devices[destination.devices[i].id] = destination.devices[i];
        }
        destination.devices = devices;
        return destination;
    };
    ResourceStorageService.sanitizeProject = function (source) {
        var destination = JSON.parse(JSON.stringify(source));
        destination.devices = Object.values(destination.devices);
        for (var i = 0; i < destination.devices.length; i++) {
            destination.devices[i].tags = Object.values(destination.devices[i].tags);
            for (var x = 0; x < destination.devices[i].tags.length; x++) {
                delete destination.devices[i].tags[x].value;
            }
        }
        return destination;
    };
    ResourceStorageService.sanitizeDevice = function (source) {
        var destination = JSON.parse(JSON.stringify(source));
        destination.tags = Object.values(destination.tags);
        return destination;
    };
    ResourceStorageService.prjresource = 'prj-data';
    ResourceStorageService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], ResourceStorageService);
    return ResourceStorageService;
}());



/***/ }),

/***/ "./app/_services/rcgi/reswebapi.service.ts":
/*!*************************************************!*\
  !*** ./app/_services/rcgi/reswebapi.service.ts ***!
  \*************************************************/
/*! exports provided: ResWebApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResWebApiService", function() { return ResWebApiService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_helpers/endpointapi */ "./app/_helpers/endpointapi.ts");
/* harmony import */ var _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resource-storage.service */ "./app/_services/rcgi/resource-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ResWebApiService = /** @class */ (function () {
    function ResWebApiService(http) {
        this.http = http;
        this.endPointConfig = _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_3__["EndPointApi"].getURL();
    }
    ResWebApiService.prototype.init = function () {
        return true;
    };
    ResWebApiService.prototype.getDemoProject = function () {
        return this.http.get('./assets/project.demo.fuxap', {});
    };
    ResWebApiService.prototype.getStorageProject = function () {
        return this.http.get(this.endPointConfig + '/api/project', {});
    };
    ResWebApiService.prototype.setServerProject = function (prj) {
        // let header = new HttpHeaders();
        // header.append("Access-Control-Allow-Origin", "*");
        // header.append("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");
        var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
        return this.http.post(this.endPointConfig + '/api/project', prj, { headers: header });
    };
    ResWebApiService.prototype.setServerProjectData = function (cmd, data) {
        var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
        var params = { cmd: cmd, data: data };
        return this.http.post(this.endPointConfig + '/api/projectData', params, { headers: header });
    };
    ResWebApiService.prototype.getDeviceSecurity = function (id) {
        var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
        var params = { query: 'security', name: id };
        return this.http.get(this.endPointConfig + '/api/device', { headers: header, params: params });
    };
    ResWebApiService.prototype.setDeviceSecurity = function (id, value) {
        var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
        var params = { query: 'security', name: id, value: value };
        return this.http.post(this.endPointConfig + '/api/device', { headers: header, params: params });
    };
    ResWebApiService.prototype.getAlarmsValues = function () {
        return this.http.get(this.endPointConfig + '/api/alarms', {});
    };
    ResWebApiService.prototype.setAlarmAck = function (name) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
            _this.http.post(_this.endPointConfig + '/api/alarmack', { headers: header, params: name }).subscribe(function (result) {
                observer.next();
            }, function (err) {
                observer.error(err);
            });
        });
    };
    ResWebApiService.prototype.checkServer = function () {
        return this.http.get(this.endPointConfig + '/api/settings');
    };
    ResWebApiService.prototype.getAppId = function () {
        return _resource_storage_service__WEBPACK_IMPORTED_MODULE_4__["ResourceStorageService"].prjresource;
    };
    ResWebApiService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ResWebApiService);
    return ResWebApiService;
}());



/***/ }),

/***/ "./app/_services/settings.service.ts":
/*!*******************************************!*\
  !*** ./app/_services/settings.service.ts ***!
  \*******************************************/
/*! exports provided: SettingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsService", function() { return SettingsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_helpers/endpointapi */ "./app/_helpers/endpointapi.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _models_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_models/settings */ "./app/_models/settings.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SettingsService = /** @class */ (function () {
    function SettingsService(http, fuxaLanguage, translateService, toastr) {
        this.http = http;
        this.fuxaLanguage = fuxaLanguage;
        this.translateService = translateService;
        this.toastr = toastr;
        this.appSettings = new _models_settings__WEBPACK_IMPORTED_MODULE_6__["AppSettings"]();
        this.endPointConfig = _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_4__["EndPointApi"].getURL();
        this.editModeLocked = false;
    }
    SettingsService.prototype.init = function () {
        var _this = this;
        // this language will be used as a fallback when a translation isn't found in the current language
        this.fuxaLanguage.setDefaultLang('en');
        // the lang to use, if the lang isn't available, it will use the current loader to get them
        this.fuxaLanguage.use('en');
        // to load saved settings
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].serverEnabled) {
            this.http.get(this.endPointConfig + '/api/settings').subscribe(function (result) {
                _this.setSettings(result);
            }, function (error) {
                console.error('settings.service err: ' + error);
            });
        }
        // this.setLanguage(this.appSettings.language);
    };
    SettingsService.prototype.getSettings = function () {
        return this.appSettings;
    };
    SettingsService.prototype.setSettings = function (settings) {
        var dirty = false;
        if (settings.language && settings.language != this.appSettings.language) {
            this.fuxaLanguage.use(settings.language);
            this.appSettings.language = settings.language;
            dirty = true;
        }
        if (settings.uiPort && settings.uiPort != this.appSettings.uiPort) {
            this.appSettings.uiPort = settings.uiPort;
            dirty = true;
        }
        if (settings.secureEnabled != this.appSettings.secureEnabled || settings.tokenExpiresIn != this.appSettings.tokenExpiresIn) {
            this.appSettings.secureEnabled = settings.secureEnabled;
            this.appSettings.tokenExpiresIn = settings.tokenExpiresIn;
            dirty = true;
        }
        return dirty;
    };
    SettingsService.prototype.saveSettings = function () {
        var _this = this;
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].serverEnabled) {
            var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
            this.http.post(this.endPointConfig + '/api/settings', this.appSettings, { headers: header }).subscribe(function (result) {
            }, function (err) {
                _this.notifySaveError(err);
            });
        }
    };
    SettingsService.prototype.notifySaveError = function (err) {
        var msg = '';
        this.translateService.get('msg.settings-save-error').subscribe(function (txt) { msg = txt; });
        if (err.status === 401) {
            this.translateService.get('msg.settings-save-unauthorized').subscribe(function (txt) { msg = txt; });
        }
        this.toastr.error(msg, '', {
            timeOut: 3000,
            closeButton: true,
            disableTimeOut: true
        });
    };
    //#region Editor Mode Check
    SettingsService.prototype.lockEditMode = function () {
        this.editModeLocked = true;
    };
    SettingsService.prototype.unlockEditMode = function () {
        this.editModeLocked = false;
    };
    SettingsService.prototype.isEditModeLocked = function () {
        return this.editModeLocked;
    };
    SettingsService.prototype.notifyEditorLocked = function () {
        var msg = '';
        this.translateService.get('msg.editor-mode-locked').subscribe(function (txt) { msg = txt; });
        this.toastr.warning(msg, '', {
            timeOut: 3000,
            closeButton: true,
            disableTimeOut: false
        });
    };
    SettingsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], SettingsService);
    return SettingsService;
}());



/***/ }),

/***/ "./app/_services/user.service.ts":
/*!***************************************!*\
  !*** ./app/_services/user.service.ts ***!
  \***************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_helpers/endpointapi */ "./app/_helpers/endpointapi.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var UserService = /** @class */ (function () {
    function UserService(http, translateService, toastr) {
        this.http = http;
        this.translateService = translateService;
        this.toastr = toastr;
        this.endPointConfig = _helpers_endpointapi__WEBPACK_IMPORTED_MODULE_3__["EndPointApi"].getURL();
    }
    UserService.prototype.getUsers = function (user) {
        var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
        var params = user;
        return this.http.get(this.endPointConfig + '/api/users', { headers: header, params: params });
    };
    UserService.prototype.setUser = function (user) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].serverEnabled) {
                var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
                _this.http.post(_this.endPointConfig + '/api/users', { headers: header, params: user }).subscribe(function (result) {
                    observer.next();
                }, function (err) {
                    console.log(err);
                    _this.notifySaveError();
                    observer.error(err);
                });
            }
            else {
                observer.next();
            }
        });
    };
    UserService.prototype.removeUser = function (user) {
        var _this = this;
        return new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].serverEnabled) {
                var header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' });
                _this.http.delete(_this.endPointConfig + '/api/users', { headers: header, params: { param: user.username } }).subscribe(function (result) {
                    observer.next();
                }, function (err) {
                    console.log(err);
                    _this.notifySaveError();
                    observer.error(err);
                });
            }
            else {
                observer.next();
            }
        });
    };
    //#region Notify
    UserService.prototype.notifySaveError = function () {
        var msg = '';
        this.translateService.get('msg.users-save-error').subscribe(function (txt) { msg = txt; });
        this.toastr.error(msg, '', {
            timeOut: 3000,
            closeButton: true,
            disableTimeOut: true
        });
    };
    UserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./app/alarms/alarm-list/alarm-list.component.css":
/*!********************************************************!*\
  !*** ./app/alarms/alarm-list/alarm-list.component.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".header-panel {\r\n    /* z-index: 9999 !important; */\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: rgba(33,33,33,1);\r\n    /* background-color: rgba(33,33,33,0.92); */\r\n    color: rgba(255,255,255,1);\r\n    height: 40px;\r\n    width: 100%;\r\n    text-align: center;\r\n    line-height: 40px;\r\n}\r\n\r\n.work-panel {\r\n    position: absolute;\r\n    top: 40px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\n.container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 300px;\r\n    position: absolute;\r\n    bottom: 0px;\r\n    top: 0px;\r\n    left:0px;\r\n    right:0px;\r\n    background-color: white;\r\n}\r\n\r\n.filter {\r\n    display: inline-block;\r\n    min-height: 60px;\r\n    padding: 8px 24px 0;\r\n}\r\n\r\n.filter .mat-form-field {\r\n    font-size: 14px;\r\n    width: 100%;\r\n}\r\n\r\n.table {\r\n    height: 705px;\r\n}\r\n\r\n.mat-table {\r\n    overflow: auto;\r\n    min-width: 1560px;\r\n    /* margin: 5px; */\r\n    /* max-height: 500px; */\r\n}\r\n\r\n.mat-header-cell.mat-sort-header-sorted {\r\n    color: black;\r\n}\r\n\r\n.mat-header-row {\r\n    top: 0;\r\n    position: sticky;\r\n    z-index: 1;\r\n    background-color: rgb(58, 58, 58);\r\n    color: white;\r\n}\r\n\r\n.mat-header-cell {\r\n    color: white;\r\n    font-size: 14px;\r\n}\r\n\r\n.mat-column-select {\r\n    overflow: visible;\r\n    flex: 0 0 100px;\r\n}\r\n\r\n.mat-column-name {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-device {\r\n    flex: 0 0 350px;\r\n}\r\n\r\n.mat-column-highhigh {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-high {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-low {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-info {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-value {\r\n    flex: 0 0 800px;\r\n}\r\n\r\n.mat-column-remove {\r\n    flex: 0 0 60px;\r\n}\r\n\r\n.selectidthClass{\r\n    flex: 0 0 50px;\r\n }\r\n\r\n.message-error {\r\n    display: inline-block;\r\n    /* background-color: red;; */\r\n    color:red;\r\n}"

/***/ }),

/***/ "./app/alarms/alarm-list/alarm-list.component.html":
/*!*********************************************************!*\
  !*** ./app/alarms/alarm-list/alarm-list.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"header-panel\">\r\n    {{'alarms.list-title' | translate}}\r\n</div>\r\n<div class=\"work-panel\">\r\n    <!-- <div class=\"filter\">\r\n      <div class=\"my-form-field\" style=\"padding-right: 10px;\">\r\n          <span>{{'texts.list-filter-group' | translate}}</span>\r\n          <mat-select [(value)]=\"groupSelected\" style=\"width: 300px\" (selectionChange)=\"onGroupChange($event.source)\">\r\n              <mat-option *ngFor=\"let group of groups\" [value]=\"group\">\r\n                  {{ group }}\r\n              </mat-option>\r\n          </mat-select>\r\n      </div>\r\n      <div class=\"my-form-field\" style=\"padding-right: 10px;\">\r\n          <span>{{'texts.list-filter' | translate}}</span>\r\n          <input (keyup)=\"applyFilter($event.target.value)\" style=\"width: 450px\" type=\"text\">\r\n      </div>\r\n  </div> -->\r\n    <div class=\"container\">\r\n        <mat-table #table [dataSource]=\"dataSource\" matSort>\r\n            <!-- Checkbox Column -->\r\n            <ng-container matColumnDef=\"select\">\r\n                <mat-header-cell *matHeaderCellDef [ngClass]=\"'selectidthClass'\">\r\n                    <button mat-icon-button (click)=\"onAddAlarm()\" class=\"remove\">\r\n                        <mat-icon>add</mat-icon>\r\n                    </button>\r\n                </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\" [ngClass]=\"'selectidthClass'\">\r\n                    <button mat-icon-button (click)=\"onEditAlarm(element)\" class=\"remove\">\r\n                        <mat-icon>edit</mat-icon>\r\n                    </button>\r\n                </mat-cell>\r\n            </ng-container>\r\n\r\n            <!-- Name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.list-name' | translate}} </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\r\n            </ng-container>\r\n            <!-- Device Column -->\r\n            <ng-container matColumnDef=\"device\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.list-device' | translate}} </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\"> {{getVariableLabel(element.property)}}</mat-cell>\r\n            </ng-container>\r\n            <!-- HighHigh Column -->\r\n            <ng-container matColumnDef=\"highhigh\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.list-highhigh' | translate}} </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\"> {{getSubProperty(element.highhigh)}} </mat-cell>\r\n            </ng-container>\r\n            <!-- High Column -->\r\n            <ng-container matColumnDef=\"high\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.list-high' | translate}} </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\"> {{getSubProperty(element.high)}} </mat-cell>\r\n            </ng-container>\r\n            <!-- Low Column -->\r\n            <ng-container matColumnDef=\"low\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.list-low' | translate}} </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\"> {{getSubProperty(element.low)}} </mat-cell>\r\n            </ng-container>\r\n            <!-- Info Column -->\r\n            <ng-container matColumnDef=\"info\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.list-info' | translate}} </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\"> {{getSubProperty(element.info)}} </mat-cell>\r\n            </ng-container>\r\n\r\n            <!-- Button remove Column -->\r\n            <ng-container matColumnDef=\"remove\">\r\n                <mat-header-cell *matHeaderCellDef> </mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button (click)=\"$event.stopPropagation();onRemoveAlarm(element)\" class=\"remove\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </mat-cell>\r\n            </ng-container>\r\n\r\n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"my-mat-row\"></mat-row>\r\n        </mat-table>\r\n    </div>\r\n</div>\r\n<button mat-fab color=\"primary\" (click)=\"onAddAlarm()\" class=\"fab-add\">\r\n    <mat-icon class=\"\">add</mat-icon>\r\n</button>"

/***/ }),

/***/ "./app/alarms/alarm-list/alarm-list.component.ts":
/*!*******************************************************!*\
  !*** ./app/alarms/alarm-list/alarm-list.component.ts ***!
  \*******************************************************/
/*! exports provided: AlarmListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmListComponent", function() { return AlarmListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _alarm_property_alarm_property_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ..//alarm-property/alarm-property.component */ "./app/alarms/alarm-property/alarm-property.component.ts");
/* harmony import */ var _models_alarm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_models/alarm */ "./app/_models/alarm.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AlarmListComponent = /** @class */ (function () {
    function AlarmListComponent(dialog, translateService, projectService) {
        this.dialog = dialog;
        this.translateService = translateService;
        this.projectService = projectService;
        this.displayedColumns = ['select', 'name', 'device', 'highhigh', 'high', 'low', 'info', 'remove'];
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"]([]);
        this.enabledText = "";
    }
    AlarmListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.loadAlarms();
        this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (res) {
            _this.loadAlarms();
        });
        this.translateService.get('alarm.property-enabled').subscribe(function (txt) { _this.enabledText = txt; });
    };
    AlarmListComponent.prototype.ngAfterViewInit = function () {
        this.dataSource.sort = this.sort;
    };
    AlarmListComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    AlarmListComponent.prototype.onAddAlarm = function () {
        var alarm = new _models_alarm__WEBPACK_IMPORTED_MODULE_5__["Alarm"]();
        this.editAlarm(alarm, 1);
    };
    AlarmListComponent.prototype.onEditAlarm = function (alarm, toAdd) {
        this.editAlarm(alarm, 0);
    };
    AlarmListComponent.prototype.onRemoveAlarm = function (alarm) {
        this.editAlarm(alarm, -1);
    };
    AlarmListComponent.prototype.editAlarm = function (alarm, toAdd) {
        var _this = this;
        var malarm = JSON.parse(JSON.stringify(alarm));
        var dialogRef = this.dialog.open(_alarm_property_alarm_property_component__WEBPACK_IMPORTED_MODULE_4__["AlarmPropertyComponent"], {
            data: { alarm: malarm, editmode: toAdd, alarms: this.dataSource.data,
                devices: Object.values(this.projectService.getDevices()) },
            position: { top: '80px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                if (toAdd < 0) {
                    _this.projectService.removeAlarm(result).subscribe(function (result) {
                        _this.loadAlarms();
                    });
                }
                else {
                    _this.projectService.setAlarm(result, alarm).subscribe(function (result) {
                        _this.loadAlarms();
                    });
                }
            }
        });
    };
    AlarmListComponent.prototype.getSubProperty = function (alrSubPro) {
        if (alrSubPro && alrSubPro.enabled && alrSubPro.checkdelay > 0) {
            return this.enabledText;
        }
        return "";
    };
    AlarmListComponent.prototype.getVariableLabel = function (varProp) {
        return varProp.variableSrc + ' ' + varProp.variable;
    };
    AlarmListComponent.prototype.loadAlarms = function () {
        this.dataSource.data = this.projectService.getAlarms();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"])
    ], AlarmListComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], AlarmListComponent.prototype, "sort", void 0);
    AlarmListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-alarm-list',
            template: __webpack_require__(/*! ./alarm-list.component.html */ "./app/alarms/alarm-list/alarm-list.component.html"),
            styles: [__webpack_require__(/*! ./alarm-list.component.css */ "./app/alarms/alarm-list/alarm-list.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_2__["ProjectService"]])
    ], AlarmListComponent);
    return AlarmListComponent;
}());



/***/ }),

/***/ "./app/alarms/alarm-property/alarm-property.component.css":
/*!****************************************************************!*\
  !*** ./app/alarms/alarm-property/alarm-property.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.alarm-sample {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.message-error {\r\n    display: inline-block;\r\n    /* background-color: red;; */\r\n    color:red;\r\n}\r\n\r\n::ng-deep .mat-tab-label {\r\n    height: 34px !important;\r\n}"

/***/ }),

/***/ "./app/alarms/alarm-property/alarm-property.component.html":
/*!*****************************************************************!*\
  !*** ./app/alarms/alarm-property/alarm-property.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"position: relative;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'alarm.property-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;color:gray;cursor:pointer;\">clear</mat-icon>\r\n    <div mat-dialog-content *ngIf=\"data.editmode < 0\">\r\n        {{'msg.alarm-remove' | translate}} '{{data.alarm.name}}' ?\r\n    </div>\r\n    <div mat-dialog-content *ngIf=\"data.editmode >= 0\">\r\n        <div style=\"display: block;width: 660px; padding-bottom: 20px;\">\r\n            <div style=\"display: block;\">\r\n                <flex-auth [name]=\"data.alarm.name\" [permission]=\"property.permission\" #flexauth></flex-auth>\r\n            </div>\r\n            <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n                <flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head>\r\n            </div>\r\n        </div>\r\n        <mat-autocomplete #textAuto=\"matAutocomplete\">\r\n            <mat-option *ngFor=\"let option of existtexts\" [value]=\"option\">{{option}}</mat-option>\r\n        </mat-autocomplete>\r\n        <mat-autocomplete #groupAuto=\"matAutocomplete\">\r\n            <mat-option *ngFor=\"let option of existgroups\" [value]=\"option\">{{option}}</mat-option>\r\n        </mat-autocomplete>\r\n        <mat-tab-group style=\"width: 100%;min-height: 300px;\">\r\n            <mat-tab label=\"{{'alarm.property-highhigh' | translate}}\">\r\n                <div style=\"overflow: hidden; padding-top: 25px;\">\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;margin-left: 20px;\">\r\n                            <span>{{'alarm.property-enabled' | translate}}</span>\r\n                            <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.alarm.highhigh.enabled\"></mat-slide-toggle>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"margin-bottom: 10px; float:right\">\r\n                            <span>{{'alarm.property-ackmode' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.alarm.highhigh.ackmode\" style=\"width: 323px\">\r\n                                <mat-option *ngFor=\"let ev of ackMode | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: inline-table;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-checkdelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.highhigh.checkdelay\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.highhigh.min\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.highhigh.max\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-timedelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.highhigh.timedelay\" style=\"width: 158px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-text' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.highhigh.text\" [matAutocomplete]=\"textAuto\" style=\"width: 400px\" type=\"text\">\r\n                            <!-- <mat-autocomplete #highhighAuto=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of existtexts\" [value]=\"option\">{{option}}</mat-option>\r\n                            </mat-autocomplete>       -->\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-group' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.highhigh.group\" [matAutocomplete]=\"groupAuto\" style=\"width: 233px\" type=\"text\">\r\n                            <!-- <mat-autocomplete #highhighAuto=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of existgroups\" [value]=\"option\">{{option}}</mat-option>\r\n                            </mat-autocomplete>     -->\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block; height: 35px;margin-top: 15px;\" [style.background]=\"data.alarm.highhigh.bkcolor\" [style.color]=\"data.alarm.highhigh.color\">\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;padding-right: 13px;width: 403px;line-height: 35px;padding-left: 5px;\">\r\n                            <span>{{data.alarm.highhigh.text}}</span>\r\n                        </div>\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;width: 240px;line-height: 35px\">\r\n                            <span>{{data.alarm.highhigh.group}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </mat-tab>\r\n            <mat-tab label=\"{{'alarm.property-high' | translate}}\">\r\n                <div style=\"overflow: hidden; padding-top: 25px;\">\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;margin-left: 20px;\">\r\n                            <span>{{'alarm.property-enabled' | translate}}</span>\r\n                            <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.alarm.high.enabled\"></mat-slide-toggle>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"margin-bottom: 10px; float:right\">\r\n                            <span>{{'alarm.property-ackmode' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.alarm.high.ackmode\" style=\"width: 323px\">\r\n                                <mat-option *ngFor=\"let ev of ackMode | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: inline-table;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-checkdelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.high.checkdelay\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.high.min\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.high.max\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-timedelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.high.timedelay\" style=\"width: 158px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-text' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.high.text\" [matAutocomplete]=\"textAuto\" style=\"width: 400px\" type=\"text\">                    \r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-group' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.high.group\" [matAutocomplete]=\"groupAuto\" style=\"width: 233px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block; height: 35px;margin-top: 15px;\" [style.background]=\"data.alarm.high.bkcolor\" [style.color]=\"data.alarm.high.color\">\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;padding-right: 13px;width: 403px;line-height: 35px;padding-left: 5px;\">\r\n                            <span>{{data.alarm.high.text}}</span>\r\n                        </div>\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;width: 240px;line-height: 35px\">\r\n                            <span>{{data.alarm.high.group}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </mat-tab>\r\n            <mat-tab label=\"{{'alarm.property-low' | translate}}\">\r\n                <div style=\"overflow: hidden; padding-top: 25px;\">\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;margin-left: 20px;\">\r\n                            <span>{{'alarm.property-enabled' | translate}}</span>\r\n                            <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.alarm.low.enabled\"></mat-slide-toggle>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"margin-bottom: 10px; float:right\">\r\n                            <span>{{'alarm.property-ackmode' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.alarm.low.ackmode\" style=\"width: 323px\">\r\n                                <mat-option *ngFor=\"let ev of ackMode | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: inline-table;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-checkdelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.low.checkdelay\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.low.min\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.low.max\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-timedelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.low.timedelay\" style=\"width: 158px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-text' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.low.text\" [matAutocomplete]=\"textAuto\" style=\"width: 400px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-group' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.low.group\" [matAutocomplete]=\"groupAuto\" style=\"width: 233px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block; height: 35px;margin-top: 15px;\" [style.background]=\"data.alarm.low.bkcolor\" [style.color]=\"data.alarm.low.color\">\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;padding-right: 13px;width: 403px;line-height: 35px;padding-left: 5px;\">\r\n                            <span>{{data.alarm.low.text}}</span>\r\n                        </div>\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;width: 240px;line-height: 35px\">\r\n                            <span>{{data.alarm.low.group}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </mat-tab>\r\n            <mat-tab label=\"{{'alarm.property-info' | translate}}\">\r\n                <div style=\"overflow: hidden; padding-top: 25px;\">\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;margin-left: 20px;\">\r\n                            <span>{{'alarm.property-enabled' | translate}}</span>\r\n                            <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.alarm.info.enabled\"></mat-slide-toggle>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"margin-bottom: 10px; float:right\">\r\n                            <span>{{'alarm.property-ackmode' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.alarm.info.ackmode\" style=\"width: 323px\">\r\n                                <mat-option *ngFor=\"let ev of ackMode | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: inline-table;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-checkdelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.info.checkdelay\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.info.min\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.info.max\" style=\"width: 145px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-timedelay' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.alarm.info.timedelay\" style=\"width: 158px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 13px;\">\r\n                            <span>{{'alarm.property-text' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.info.text\" [matAutocomplete]=\"textAuto\" style=\"width: 400px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                            <span>{{'alarm.property-group' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.alarm.info.group\" [matAutocomplete]=\"groupAuto\" style=\"width: 233px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block; height: 35px;margin-top: 15px;\" [style.background]=\"data.alarm.info.bkcolor\" [style.color]=\"data.alarm.info.color\">\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;padding-right: 13px;width: 403px;line-height: 35px;padding-left: 5px;\">\r\n                            <span>{{data.alarm.info.text}}</span>\r\n                        </div>\r\n                        <div class=\"alarm-sample\" style=\"display: inline-block;width: 240px;line-height: 35px\">\r\n                            <span>{{data.alarm.info.group}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </mat-tab>\r\n        </mat-tab-group>\r\n        <div style=\"height: 20px\">\r\n            <div class=\"message-error\" *ngIf=\"errorExist\">\r\n                <span>{{'msg.alarmproperty-error-exist' | translate}}</span>\r\n            </div>\r\n            <div class=\"message-error\" *ngIf=\"errorMissingValue\">\r\n                <span>{{'msg.alarmproperty-missing-value' | translate}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/alarms/alarm-property/alarm-property.component.ts":
/*!***************************************************************!*\
  !*** ./app/alarms/alarm-property/alarm-property.component.ts ***!
  \***************************************************************/
/*! exports provided: AlarmPropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmPropertyComponent", function() { return AlarmPropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _gauges_gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../gauges/gauge-property/flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauges/gauge-property/flex-auth/flex-auth.component */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _models_alarm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_models/alarm */ "./app/_models/alarm.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var AlarmPropertyComponent = /** @class */ (function () {
    function AlarmPropertyComponent(dialogRef, translateService, data) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.translateService = translateService;
        this.data = data;
        this.ackMode = _models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"];
        this.errorExist = false;
        this.errorMissingValue = false;
        this.existnames = [];
        this.existtexts = [];
        this.existgroups = [];
        if (this.data.alarm.property) {
            this.property = JSON.parse(JSON.stringify(this.data.alarm.property));
        }
        else {
            this.property = new _models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmProperty"]();
        }
        if (!this.data.alarm.highhigh) {
            this.data.alarm.highhigh = new _models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmSubProperty"]();
            this.data.alarm.highhigh.bkcolor = "#FF4848";
            this.data.alarm.highhigh.color = "#FFF";
            this.data.alarm.highhigh.enabled = true;
            this.data.alarm.highhigh.ackmode = Object.keys(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"])[Object.values(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"]).indexOf(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"].ackactive)];
        }
        if (!this.data.alarm.high) {
            this.data.alarm.high = new _models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmSubProperty"]();
            this.data.alarm.high.bkcolor = "#F9CF59";
            this.data.alarm.high.color = "#000";
            this.data.alarm.high.enabled = true;
            this.data.alarm.high.ackmode = Object.keys(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"])[Object.values(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"]).indexOf(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"].ackactive)];
            // this.data.alarm.info = new AlarmSubProperty();
        }
        if (!this.data.alarm.low) {
            this.data.alarm.low = new _models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmSubProperty"]();
            this.data.alarm.low.bkcolor = "#EFF0F1";
            this.data.alarm.low.color = "#000";
            this.data.alarm.low.enabled = true;
            this.data.alarm.low.ackmode = Object.keys(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"])[Object.values(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"]).indexOf(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"].ackactive)];
        }
        if (!this.data.alarm.info) {
            this.data.alarm.info = new _models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmSubProperty"]();
            this.data.alarm.info.bkcolor = "#FFFFFF";
            this.data.alarm.info.color = "#000";
            this.data.alarm.info.enabled = true;
            this.data.alarm.info.ackmode = Object.keys(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"])[Object.values(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"]).indexOf(_models_alarm__WEBPACK_IMPORTED_MODULE_5__["AlarmAckMode"].float)];
        }
        Object.keys(this.ackMode).forEach(function (key) {
            _this.translateService.get(_this.ackMode[key]).subscribe(function (txt) { _this.ackMode[key] = txt; });
        });
        if (data.alarms) {
            this.existnames = data.alarms.filter(function (a) { return a.name !== data.alarm.name; });
            data.alarms.forEach(function (item) {
                if (item.highhigh.text && _this.existtexts.indexOf(item.highhigh.text) === -1)
                    _this.existtexts.push(item.highhigh.text);
                if (item.high.text && _this.existtexts.indexOf(item.high.text) === -1)
                    _this.existtexts.push(item.high.text);
                if (item.low.text && _this.existtexts.indexOf(item.low.text) === -1)
                    _this.existtexts.push(item.low.text);
                if (item.info.text && _this.existtexts.indexOf(item.info.text) === -1)
                    _this.existtexts.push(item.info.text);
                if (item.highhigh.group && _this.existgroups.indexOf(item.highhigh.group) === -1)
                    _this.existgroups.push(item.highhigh.group);
                if (item.high.group && _this.existgroups.indexOf(item.high.group) === -1)
                    _this.existgroups.push(item.high.group);
                if (item.low.group && _this.existgroups.indexOf(item.low.group) === -1)
                    _this.existgroups.push(item.low.group);
                if (item.info.group && _this.existgroups.indexOf(item.info.group) === -1)
                    _this.existgroups.push(item.info.group);
            });
        }
    }
    AlarmPropertyComponent.prototype.ngOnInit = function () {
    };
    AlarmPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    AlarmPropertyComponent.prototype.onOkClick = function () {
        if (this.data.editmode < 0) {
            this.dialogRef.close(this.data.alarm);
        }
        else if (this.checkValid()) {
            this.data.alarm.property = this.property;
            this.data.alarm.property.permission = this.flexAuth.permission;
            this.data.alarm.name = this.flexAuth.name;
            this.dialogRef.close(this.data.alarm);
        }
    };
    AlarmPropertyComponent.prototype.checkValid = function () {
        var _this = this;
        this.errorMissingValue = !this.flexAuth.name;
        this.errorExist = (this.existnames.find(function (a) { return a.name === _this.flexAuth.name; })) ? true : false;
        return !(this.errorMissingValue || this.errorExist);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexauth'),
        __metadata("design:type", _gauges_gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_3__["FlexAuthComponent"])
    ], AlarmPropertyComponent.prototype, "flexAuth", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexhead'),
        __metadata("design:type", _gauges_gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_2__["FlexHeadComponent"])
    ], AlarmPropertyComponent.prototype, "flexHead", void 0);
    AlarmPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-alarm-property',
            template: __webpack_require__(/*! ./alarm-property.component.html */ "./app/alarms/alarm-property/alarm-property.component.html"),
            styles: [__webpack_require__(/*! ./alarm-property.component.css */ "./app/alarms/alarm-property/alarm-property.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"], Object])
    ], AlarmPropertyComponent);
    return AlarmPropertyComponent;
}());



/***/ }),

/***/ "./app/alarms/alarm-view/alarm-view.component.css":
/*!********************************************************!*\
  !*** ./app/alarms/alarm-view/alarm-view.component.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".header-panel {\r\n    /* z-index: 9999 !important; */\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: rgba(33,33,33,1);\r\n    /* background-color: rgba(33,33,33,0.92); */\r\n    color: rgba(255,255,255,1);\r\n    height: 40px;\r\n    width: 100%;\r\n    text-align: center;\r\n    line-height: 40px;\r\n}\r\n\r\n.work-panel {\r\n    position: absolute;\r\n    top: 40px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\n.filter {\r\n    display: inline-block;\r\n    min-height: 60px;\r\n    padding: 8px 24px 0;\r\n}\r\n\r\n.filter .mat-form-field {\r\n    font-size: 14px;\r\n    width: 100%;\r\n}\r\n\r\n.table {\r\n    height: 705px;\r\n}\r\n\r\n.mat-table {\r\n    overflow: auto;\r\n    min-width: 1560px;\r\n    /* margin: 5px; */\r\n    /* max-height: 500px; */\r\n}\r\n\r\n.mat-header-cell.mat-sort-header-sorted {\r\n    color: black;\r\n}\r\n\r\n.mat-header-row {\r\n    top: 0;\r\n    position: relative;\r\n    z-index: 1;\r\n    background-color: rgba(76,76,76,1);\r\n    color: white;\r\n    min-height: 35px;\r\n}\r\n\r\n.mat-header-cell {\r\n    color: white;\r\n    font-size: 14px;\r\n}\r\n\r\n.mat-row {\r\n    min-height: 35px;\r\n}\r\n\r\n.mat-column-ontime {\r\n    flex: 0 0 160px;\r\n}\r\n\r\n.mat-column-text {\r\n    flex: 0 0 400px;\r\n}\r\n\r\n.mat-column-type {\r\n    flex: 0 0 120px;\r\n}\r\n\r\n.mat-column-group {\r\n    flex: 0 0 250px;\r\n}\r\n\r\n.mat-column-status {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-ack {\r\n    flex: 0 0 60px;\r\n}\r\n\r\n.header-tools {\r\n    position: fixed;\r\n    right: 30px;\r\n}\r\n\r\n.header-tools div {\r\n    display: inline-block;\r\n    padding-left: 10px;\r\n}"

/***/ }),

/***/ "./app/alarms/alarm-view/alarm-view.component.html":
/*!*********************************************************!*\
  !*** ./app/alarms/alarm-view/alarm-view.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"header-panel\" *ngIf=\"fullview\">\r\n    {{'alarms.view-title' | translate}}\r\n</div>\r\n<div class=\"work-panel\" [ngStyle]=\"{'top': fullview ? '40px' : '0px'}\">\r\n    <mat-table #table [dataSource]=\"dataSource\" matSort>\r\n        <ng-container matColumnDef=\"ontime\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.view-ontime' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [style.color]=\"element.color\"> {{element.ontime | date: 'yyyy.MM.dd HH:mm:ss'}} </mat-cell>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"text\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.view-text' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [style.color]=\"element.color\"> {{element.text}} </mat-cell>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"type\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.view-type' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [style.color]=\"element.color\"> {{element.type}}</mat-cell>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"group\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.view-group' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [style.color]=\"element.color\"> {{element.group}}</mat-cell>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"status\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'alarms.view-status' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [style.color]=\"element.color\"> {{element.status}} </mat-cell>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"ack\">\r\n            <mat-header-cell *matHeaderCellDef>\r\n                <div class=\"header-tools\" *ngIf=\"!fullview\">\r\n                    <div (click)=\"$event.stopPropagation();onShowMode('expand')\" *ngIf=\"currentShowMode === 'collapse'\" style=\"cursor: pointer;\">\r\n                        <mat-icon>vertical_align_top</mat-icon>\r\n                    </div>\r\n                    <div (click)=\"$event.stopPropagation();onShowMode('collapse')\" *ngIf=\"currentShowMode === 'expand'\" style=\"cursor: pointer;\">\r\n                        <mat-icon>vertical_align_bottom</mat-icon>\r\n                    </div>\r\n                    <div (click)=\"onClose();$event.stopPropagation()\" style=\"cursor: pointer;\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </div>\r\n                </div>\r\n            </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [style.color]=\"element.color\">\r\n                <button mat-icon-button (click)=\"onAckAlarm(element)\" *ngIf=\"element.toack >= 0\" [disabled]=\"element.toack == 0\" class=\"remove\">\r\n                    <mat-icon>check_circle_outline</mat-icon>\r\n                </button>\r\n            </mat-cell>\r\n        </ng-container>\r\n        <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let element; columns: displayedColumns;\" class=\"my-mat-row\" \r\n                        [style.background-color]=\"element.bkcolor\"></mat-row>\r\n    </mat-table>\r\n</div>"

/***/ }),

/***/ "./app/alarms/alarm-view/alarm-view.component.ts":
/*!*******************************************************!*\
  !*** ./app/alarms/alarm-view/alarm-view.component.ts ***!
  \*******************************************************/
/*! exports provided: AlarmViewComponent, AlarmStatus, AlarmPriority */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmViewComponent", function() { return AlarmViewComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmStatus", function() { return AlarmStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlarmPriority", function() { return AlarmPriority; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AlarmViewComponent = /** @class */ (function () {
    function AlarmViewComponent(translateService, hmiService) {
        this.translateService = translateService;
        this.hmiService = hmiService;
        this.displayedColumns = ['ontime', 'text', 'type', 'group', 'status', 'ack'];
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"]([]);
        this.showheader = false;
        this.currentShowMode = 'collapse';
        this.statusText = AlarmStatus;
        this.priorityText = AlarmPriority;
        this.fullview = true;
        this.showMode = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.rxjsPollingTimer = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["timer"])(0, 2000);
        this.destroy = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    AlarmViewComponent.prototype.ngOnInit = function () {
        var _this = this;
        Object.keys(this.statusText).forEach(function (key) {
            _this.translateService.get(_this.statusText[key]).subscribe(function (txt) { _this.statusText[key] = txt; });
        });
        Object.keys(this.priorityText).forEach(function (key) {
            _this.translateService.get(_this.priorityText[key]).subscribe(function (txt) { _this.priorityText[key] = txt; });
        });
    };
    AlarmViewComponent.prototype.ngAfterViewInit = function () {
        this.dataSource.sort = this.sort;
    };
    AlarmViewComponent.prototype.ngOnDestroy = function () {
        this.stopAskAlarmsValues();
    };
    AlarmViewComponent.prototype.startAskAlarmsValues = function () {
        this.startPolling();
    };
    AlarmViewComponent.prototype.stopAskAlarmsValues = function () {
        this.stopPolling();
    };
    AlarmViewComponent.prototype.stopPolling = function () {
        this.alarmsPolling = 0;
        this.destroy.next();
        this.destroy.complete();
    };
    AlarmViewComponent.prototype.startPolling = function () {
        var _this = this;
        try {
            if (!this.alarmsPolling) {
                this.alarmsPolling = 1;
                this.destroy = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
                this.rxjsPollingTimer.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroy), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function () {
                    return _this.hmiService.getAlarmsValues().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (er) { return _this.handleError(er); }));
                })).subscribe(function (result) {
                    _this.updateAlarmsList(result);
                });
            }
        }
        catch (error) {
        }
    };
    AlarmViewComponent.prototype.handleError = function (error) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["empty"])();
    };
    AlarmViewComponent.prototype.updateAlarmsList = function (alr) {
        var _this = this;
        alr.forEach(function (alr) {
            alr.status = _this.getStatus(alr.status);
            alr.type = _this.getPriority(alr.type);
        });
        this.dataSource.data = alr;
    };
    AlarmViewComponent.prototype.getStatus = function (status) {
        return this.statusText[status];
    };
    AlarmViewComponent.prototype.getPriority = function (type) {
        return this.priorityText[type];
    };
    AlarmViewComponent.prototype.onAckAlarm = function (alarm) {
        this.hmiService.setAlarmAck(alarm.name).subscribe(function (result) {
        }, function (error) {
            console.log('Error setAlarmAck');
        });
    };
    AlarmViewComponent.prototype.onShowMode = function (mode) {
        this.currentShowMode = mode;
        this.showMode.emit(this.currentShowMode);
    };
    AlarmViewComponent.prototype.onClose = function () {
        this.currentShowMode = 'collapse';
        this.showMode.emit('close');
        this.stopAskAlarmsValues();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AlarmViewComponent.prototype, "fullview", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AlarmViewComponent.prototype, "showMode", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"])
    ], AlarmViewComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], AlarmViewComponent.prototype, "sort", void 0);
    AlarmViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-alarm-view',
            template: __webpack_require__(/*! ./alarm-view.component.html */ "./app/alarms/alarm-view/alarm-view.component.html"),
            styles: [__webpack_require__(/*! ./alarm-view.component.css */ "./app/alarms/alarm-view/alarm-view.component.css")]
        }),
        __metadata("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"],
            _services_hmi_service__WEBPACK_IMPORTED_MODULE_4__["HmiService"]])
    ], AlarmViewComponent);
    return AlarmViewComponent;
}());

var AlarmStatus;
(function (AlarmStatus) {
    AlarmStatus["N"] = "alarm.status-active";
    AlarmStatus["NF"] = "alarm.status-passive";
    AlarmStatus["NA"] = "alarm.status-active-ack";
})(AlarmStatus || (AlarmStatus = {}));
var AlarmPriority;
(function (AlarmPriority) {
    AlarmPriority["highhigh"] = "alarm.property-highhigh";
    AlarmPriority["high"] = "alarm.property-high";
    AlarmPriority["low"] = "alarm.property-low";
    AlarmPriority["info"] = "alarm.property-info";
})(AlarmPriority || (AlarmPriority = {}));


/***/ }),

/***/ "./app/app.component.css":
/*!*******************************!*\
  !*** ./app/app.component.css ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.container {\r\n    width: 100%;\r\n    height: 100% !important;\r\n    background-color:#FFFFFF\r\n}\r\n\r\n.work-void {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.work-editor {\r\n    background-color:#FFFFFF;\r\n    height: calc(100% - (46px));\r\n    min-width: 800px;\r\n}\r\n\r\n.work-home {\r\n    background-color:#FFFFFF;\r\n    height: 100%;\r\n    min-width: 800px;\r\n}\r\n\r\n.header {\r\n    /* height: 40px !important;     */\r\n}\r\n\r\n.footer {\r\n    height: 20px;\r\n    position:absolute;\r\n    bottom:0px;\r\n}\r\n\r\n.fab-button {\r\n    position: absolute;\r\n    bottom: 20px;\r\n    left: 10px;\r\n    color: rgba(255,255,255,1);\r\n    background-color: rgba(68,138,255, 0);\r\n    /* background-color: rgba(0,0,0,0.9); */\r\n}"

/***/ }),

/***/ "./app/app.component.html":
/*!********************************!*\
  !*** ./app/app.component.html ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div id=\"main-container\" class=\"container\">\r\n    <app-header class=\"header\" [hidden]=\"isHidden()\"></app-header>\r\n    <div [ngClass]=\"getClass()\">\r\n        <router-outlet></router-outlet>\r\n        <ngx-fab-button *ngIf=\"showDevNavigation()\" #fabmenu icon=\"menu\" iconOpen=\"menu\" class=\"fab-button\" color=\"rgba(68,138,255, 1)\">\r\n            <ngx-fab-item-button color=\"rgba(68,138,255, 1)\" content=\"{{'app.editor' | translate}}\" (click)=\"onGoTo('editor')\" (touchend)=\"onGoTo('editor')\"></ngx-fab-item-button>\r\n            <ngx-fab-item-button color=\"rgba(68,138,255, 1)\" content=\"{{'app.lab' | translate}}\" (click)=\"onGoTo('lab')\" (touchend)=\"onGoTo('lab')\"></ngx-fab-item-button>\r\n            <ngx-fab-item-button color=\"rgba(68,138,255, 1)\" content=\"{{'app.home' | translate}}\" (click)=\"onGoTo('home')\" (touchend)=\"onGoTo('home')\"></ngx-fab-item-button>\r\n        </ngx-fab-button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/app.component.ts":
/*!******************************!*\
  !*** ./app/app.component.ts ***!
  \******************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "../node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_settings_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./_services/settings.service */ "./app/_services/settings.service.ts");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./_models/user */ "./app/_models/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AppComponent = /** @class */ (function () {
    function AppComponent(router, projectService, settingsService, translateService, location) {
        this.router = router;
        this.projectService = projectService;
        this.settingsService = settingsService;
        this.translateService = translateService;
        this.title = 'app';
        this.showdev = false;
        this.location = location;
    }
    AppComponent.prototype.ngOnInit = function () {
    };
    AppComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        try {
            this.settingsService.init();
            var hmi = this.projectService.getHmi();
            if (hmi) {
                this.checkSettings();
            }
            this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (load) {
                _this.checkSettings();
            }, function (error) {
                console.log('Error loadHMI');
            });
            // define user groups text
            this.translateService.get('general.usergroups').subscribe(function (txt) {
                var grpLabels = txt.split(',');
                if (grpLabels && grpLabels.length > 0) {
                    for (var i = 0; i < grpLabels.length && i < _models_user__WEBPACK_IMPORTED_MODULE_6__["UserGroups"].Groups.length; i++) {
                        _models_user__WEBPACK_IMPORTED_MODULE_6__["UserGroups"].Groups[i].label = grpLabels[i];
                    }
                }
            });
        }
        catch (err) {
            console.log(err);
        }
    };
    AppComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    AppComponent.prototype.checkSettings = function () {
        var hmi = this.projectService.getHmi();
        if (hmi && hmi.layout && hmi.layout.showdev === false) {
            this.showdev = false;
        }
        else {
            this.showdev = true;
        }
    };
    AppComponent.prototype.isHidden = function () {
        var list = ['', '/lab', '/home'], route = this.location.path();
        return (list.indexOf(route) > -1);
    };
    AppComponent.prototype.getClass = function () {
        var route = this.location.path();
        if (route.startsWith('/view')) {
            return 'work-void';
        }
        return (this.isHidden()) ? 'work-home' : 'work-editor';
    };
    AppComponent.prototype.showDevNavigation = function () {
        var route = this.location.path();
        if (route.startsWith('/view')) {
            return false;
        }
        return this.showdev;
    };
    AppComponent.prototype.onGoTo = function (goto) {
        this.router.navigate([goto]);
        this.fabmenu.toggle();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('fabmenu'),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "fabmenu", void 0);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./app/app.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"],
            _services_settings_service__WEBPACK_IMPORTED_MODULE_5__["SettingsService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./app/app.config.ts":
/*!***************************!*\
  !*** ./app/app.config.ts ***!
  \***************************/
/*! exports provided: appConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appConfig", function() { return appConfig; });
var appConfig = {
    apiUrl: 'http://localhost:3000'
};


/***/ }),

/***/ "./app/app.module.ts":
/*!***************************!*\
  !*** ./app/app.module.ts ***!
  \***************************/
/*! exports provided: createTranslateLoader, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTranslateLoader", function() { return createTranslateLoader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./material.module */ "./app/material.module.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser/animations */ "../node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var ngx_color_picker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-color-picker */ "../node_modules/ngx-color-picker/fesm2015/ngx-color-picker.js");
/* harmony import */ var ng5_slider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ng5-slider */ "../node_modules/ng5-slider/esm5/ng5-slider.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-translate/http-loader */ "../node_modules/@ngx-translate/http-loader/esm5/ngx-translate-http-loader.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var angular2_draggable__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! angular2-draggable */ "../node_modules/angular2-draggable/fesm5/angular2-draggable.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./app.component */ "./app/app.component.ts");
/* harmony import */ var _app_routing__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./app.routing */ "./app/app.routing.ts");
/* harmony import */ var _auth_guard__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./auth.guard */ "./app/auth.guard.ts");
/* harmony import */ var _home_home_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./home/home.component */ "./app/home/home.component.ts");
/* harmony import */ var _header_header_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./header/header.component */ "./app/header/header.component.ts");
/* harmony import */ var _iframe_iframe_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./iframe/iframe.component */ "./app/iframe/iframe.component.ts");
/* harmony import */ var _view_view_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./view/view.component */ "./app/view/view.component.ts");
/* harmony import */ var _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./sidenav/sidenav.component */ "./app/sidenav/sidenav.component.ts");
/* harmony import */ var _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./editor/editor.component */ "./app/editor/editor.component.ts");
/* harmony import */ var _editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editor/layout-property/layout-property.component */ "./app/editor/layout-property/layout-property.component.ts");
/* harmony import */ var _editor_plugins_plugins_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./editor/plugins/plugins.component */ "./app/editor/plugins/plugins.component.ts");
/* harmony import */ var _editor_app_settings_app_settings_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./editor/app-settings/app-settings.component */ "./app/editor/app-settings/app-settings.component.ts");
/* harmony import */ var _editor_setup_setup_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./editor/setup/setup.component */ "./app/editor/setup/setup.component.ts");
/* harmony import */ var _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./editor/chart-config/chart-config.component */ "./app/editor/chart-config/chart-config.component.ts");
/* harmony import */ var _editor_card_config_card_config_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./editor/card-config/card-config.component */ "./app/editor/card-config/card-config.component.ts");
/* harmony import */ var _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./alarms/alarm-view/alarm-view.component */ "./app/alarms/alarm-view/alarm-view.component.ts");
/* harmony import */ var _alarms_alarm_list_alarm_list_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./alarms/alarm-list/alarm-list.component */ "./app/alarms/alarm-list/alarm-list.component.ts");
/* harmony import */ var _alarms_alarm_property_alarm_property_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./alarms/alarm-property/alarm-property.component */ "./app/alarms/alarm-property/alarm-property.component.ts");
/* harmony import */ var _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./text-list/text-list.component */ "./app/text-list/text-list.component.ts");
/* harmony import */ var _lab_lab_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./lab/lab.component */ "./app/lab/lab.component.ts");
/* harmony import */ var _device_device_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./device/device.component */ "./app/device/device.component.ts");
/* harmony import */ var _device_device_property_device_property_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./device/device-property/device-property.component */ "./app/device/device-property/device-property.component.ts");
/* harmony import */ var _device_tag_property_tag_property_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./device/tag-property/tag-property.component */ "./app/device/tag-property/tag-property.component.ts");
/* harmony import */ var _device_topic_property_topic_property_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./device/topic-property/topic-property.component */ "./app/device/topic-property/topic-property.component.ts");
/* harmony import */ var _device_device_list_device_list_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./device/device-list/device-list.component */ "./app/device/device-list/device-list.component.ts");
/* harmony import */ var _device_device_map_device_map_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./device/device-map/device-map.component */ "./app/device/device-map/device-map.component.ts");
/* harmony import */ var _fuxa_view_fuxa_view_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./fuxa-view/fuxa-view.component */ "./app/fuxa-view/fuxa-view.component.ts");
/* harmony import */ var _cards_view_cards_view_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./cards-view/cards-view.component */ "./app/cards-view/cards-view.component.ts");
/* harmony import */ var _tester_tester_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./tester/tester.component */ "./app/tester/tester.component.ts");
/* harmony import */ var _helpers_custom_http__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./_helpers/custom-http */ "./app/_helpers/custom-http.ts");
/* harmony import */ var _tester_tester_service__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./tester/tester.service */ "./app/tester/tester.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./_services/user.service */ "./app/_services/user.service.ts");
/* harmony import */ var _services_settings_service__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./_services/settings.service */ "./app/_services/settings.service.ts");
/* harmony import */ var _services_plugin_service__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./_services/plugin.service */ "./app/_services/plugin.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./_services/auth.service */ "./app/_services/auth.service.ts");
/* harmony import */ var _services_rcgi_reswebapi_service__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./_services/rcgi/reswebapi.service */ "./app/_services/rcgi/reswebapi.service.ts");
/* harmony import */ var _services_rcgi_resdemo_service__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./_services/rcgi/resdemo.service */ "./app/_services/rcgi/resdemo.service.ts");
/* harmony import */ var _services_rcgi_resclient_service__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./_services/rcgi/resclient.service */ "./app/_services/rcgi/resclient.service.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./_services/app.service */ "./app/_services/app.service.ts");
/* harmony import */ var _help_tutorial_tutorial_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./help/tutorial/tutorial.component */ "./app/help/tutorial/tutorial.component.ts");
/* harmony import */ var _helpers_windowref__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./_helpers/windowref */ "./app/_helpers/windowref.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./_helpers/define */ "./app/_helpers/define.ts");
/* harmony import */ var _helpers_dictionary__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./_helpers/dictionary */ "./app/_helpers/dictionary.ts");
/* harmony import */ var _gui_helpers_fab_button_ngx_fab_button_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./gui-helpers/fab-button/ngx-fab-button.component */ "./app/gui-helpers/fab-button/ngx-fab-button.component.ts");
/* harmony import */ var _gui_helpers_fab_button_ngx_fab_item_button_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./gui-helpers/fab-button/ngx-fab-item-button.component */ "./app/gui-helpers/fab-button/ngx-fab-item-button.component.ts");
/* harmony import */ var _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./gui-helpers/treetable/treetable.component */ "./app/gui-helpers/treetable/treetable.component.ts");
/* harmony import */ var _gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./gui-helpers/confirm-dialog/confirm-dialog.component */ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./gui-helpers/sel-options/sel-options.component */ "./app/gui-helpers/sel-options/sel-options.component.ts");
/* harmony import */ var _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./gui-helpers/ngx-switch/ngx-switch.component */ "./app/gui-helpers/ngx-switch/ngx-switch.component.ts");
/* harmony import */ var _directives_dialog_draggable_directive__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./_directives/dialog-draggable.directive */ "./app/_directives/dialog-draggable.directive.ts");
/* harmony import */ var _directives_modal_position_cache__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./_directives/modal-position.cache */ "./app/_directives/modal-position.cache.ts");
/* harmony import */ var _directives_ngx_draggable_directive__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./_directives/ngx-draggable.directive */ "./app/_directives/ngx-draggable.directive.ts");
/* harmony import */ var _directives_number_directive__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./_directives/number.directive */ "./app/_directives/number.directive.ts");
/* harmony import */ var _directives_lazyFor_directive__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./_directives/lazyFor.directive */ "./app/_directives/lazyFor.directive.ts");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var _gauges_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./gauges/gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _gauges_controls_value_value_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./gauges/controls/value/value.component */ "./app/gauges/controls/value/value.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_variables_mapping_flex_variables_mapping_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component */ "./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_variable_map_flex_variable_map_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./gauges/gauge-property/flex-variable-map/flex-variable-map.component */ "./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.ts");
/* harmony import */ var _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./gauges/gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _gauges_controls_html_chart_chart_property_chart_property_component__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./gauges/controls/html-chart/chart-property/chart-property.component */ "./app/gauges/controls/html-chart/chart-property/chart-property.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_input_flex_input_component__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./gauges/gauge-property/flex-input/flex-input.component */ "./app/gauges/gauge-property/flex-input/flex-input.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./gauges/gauge-property/flex-auth/flex-auth.component */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./gauges/gauge-property/flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_event_flex_event_component__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./gauges/gauge-property/flex-event/flex-event.component */ "./app/gauges/gauge-property/flex-event/flex-event.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_action_flex_action_component__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./gauges/gauge-property/flex-action/flex-action.component */ "./app/gauges/gauge-property/flex-action/flex-action.component.ts");
/* harmony import */ var _gauges_gauge_property_flex_variable_flex_variable_component__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./gauges/gauge-property/flex-variable/flex-variable.component */ "./app/gauges/gauge-property/flex-variable/flex-variable.component.ts");
/* harmony import */ var _gui_helpers_mat_select_search_mat_select_search_module__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./gui-helpers/mat-select-search/mat-select-search.module */ "./app/gui-helpers/mat-select-search/mat-select-search.module.ts");
/* harmony import */ var _gauges_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./gauges/controls/html-input/html-input.component */ "./app/gauges/controls/html-input/html-input.component.ts");
/* harmony import */ var _gauges_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./gauges/controls/html-button/html-button.component */ "./app/gauges/controls/html-button/html-button.component.ts");
/* harmony import */ var _gauges_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./gauges/controls/html-select/html-select.component */ "./app/gauges/controls/html-select/html-select.component.ts");
/* harmony import */ var _gauges_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./gauges/controls/html-chart/html-chart.component */ "./app/gauges/controls/html-chart/html-chart.component.ts");
/* harmony import */ var _gauges_controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./gauges/controls/html-bag/html-bag.component */ "./app/gauges/controls/html-bag/html-bag.component.ts");
/* harmony import */ var _gauges_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ./gauges/controls/html-switch/html-switch.component */ "./app/gauges/controls/html-switch/html-switch.component.ts");
/* harmony import */ var _gauges_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ./gauges/controls/gauge-progress/gauge-progress.component */ "./app/gauges/controls/gauge-progress/gauge-progress.component.ts");
/* harmony import */ var _gauges_controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ./gauges/controls/gauge-semaphore/gauge-semaphore.component */ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.ts");
/* harmony import */ var _users_users_component__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ./users/users.component */ "./app/users/users.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ./login/login.component */ "./app/login/login.component.ts");
/* harmony import */ var _gauges_shapes_shapes_component__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ./gauges/shapes/shapes.component */ "./app/gauges/shapes/shapes.component.ts");
/* harmony import */ var _gauges_shapes_proc_eng_proc_eng_component__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ./gauges/shapes/proc-eng/proc-eng.component */ "./app/gauges/shapes/proc-eng/proc-eng.component.ts");
/* harmony import */ var _gauges_shapes_ape_shapes_ape_shapes_component__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ./gauges/shapes/ape-shapes/ape-shapes.component */ "./app/gauges/shapes/ape-shapes/ape-shapes.component.ts");
/* harmony import */ var _gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ./gui-helpers/ngx-gauge/ngx-gauge.component */ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.ts");
/* harmony import */ var _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ./gui-helpers/ngx-nouislider/ngx-nouislider.component */ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.ts");
/* harmony import */ var _gauges_controls_html_bag_bag_property_bag_property_component__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ./gauges/controls/html-bag/bag-property/bag-property.component */ "./app/gauges/controls/html-bag/bag-property/bag-property.component.ts");
/* harmony import */ var _gauges_controls_pipe_pipe_property_pipe_property_component__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ./gauges/controls/pipe/pipe-property/pipe-property.component */ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.ts");
/* harmony import */ var _gauges_controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ./gauges/controls/pipe/pipe.component */ "./app/gauges/controls/pipe/pipe.component.ts");
/* harmony import */ var _gauges_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ./gauges/controls/slider/slider.component */ "./app/gauges/controls/slider/slider.component.ts");
/* harmony import */ var _gauges_controls_slider_slider_property_slider_property_component__WEBPACK_IMPORTED_MODULE_103__ = __webpack_require__(/*! ./gauges/controls/slider/slider-property/slider-property.component */ "./app/gauges/controls/slider/slider-property/slider-property.component.ts");
/* harmony import */ var _gauges_controls_html_switch_html_switch_property_html_switch_property_component__WEBPACK_IMPORTED_MODULE_104__ = __webpack_require__(/*! ./gauges/controls/html-switch/html-switch-property/html-switch-property.component */ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.ts");
/* harmony import */ var _gui_helpers_ngx_uplot_ngx_uplot_component__WEBPACK_IMPORTED_MODULE_105__ = __webpack_require__(/*! ./gui-helpers/ngx-uplot/ngx-uplot.component */ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.ts");
/* harmony import */ var _gauges_controls_html_chart_chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_106__ = __webpack_require__(/*! ./gauges/controls/html-chart/chart-uplot/chart-uplot.component */ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.ts");
/* harmony import */ var angular_gridster2__WEBPACK_IMPORTED_MODULE_107__ = __webpack_require__(/*! angular-gridster2 */ "../node_modules/angular-gridster2/fesm5/angular-gridster2.js");
/* harmony import */ var _helpers_auth_interceptor__WEBPACK_IMPORTED_MODULE_108__ = __webpack_require__(/*! ./_helpers/auth-interceptor */ "./app/_helpers/auth-interceptor.ts");
// the start/root module that tells Angular how to assemble the application.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















































































































function createTranslateLoader(http) {
    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_10__["TranslateHttpLoader"](http, './assets/i18n/', '.json');
}
// console.log("environment: " + environment.type);
// var providersResourceService: Provider = { provide: ResourceStorageService, useClass: ResWebApiService };
// switch (environment.type) {
// 	case "demo":
// 		console.log("Found:", "ResDemoService");
// 		providersResourceService = { provide: ResourceStorageService, useClass: ResDemoService };
// 	break;
// 	case "client":
// 		console.log("Found:", "ResClientService");
// 		providersResourceService = { provide: ResourceStorageService, useClass: ResClientService };
// 	break;
// }
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _home_home_component__WEBPACK_IMPORTED_MODULE_16__["HomeComponent"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["EditorComponent"],
                _header_header_component__WEBPACK_IMPORTED_MODULE_17__["HeaderComponent"],
                _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_20__["SidenavComponent"],
                _iframe_iframe_component__WEBPACK_IMPORTED_MODULE_18__["IframeComponent"],
                _app_component__WEBPACK_IMPORTED_MODULE_13__["AppComponent"],
                _lab_lab_component__WEBPACK_IMPORTED_MODULE_32__["LabComponent"],
                _device_device_component__WEBPACK_IMPORTED_MODULE_33__["DeviceComponent"],
                _device_tag_property_tag_property_component__WEBPACK_IMPORTED_MODULE_35__["TagPropertyComponent"],
                _device_topic_property_topic_property_component__WEBPACK_IMPORTED_MODULE_36__["TopicPropertyComponent"],
                _device_device_property_device_property_component__WEBPACK_IMPORTED_MODULE_34__["DevicePropertyComponent"],
                _editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_22__["LayoutPropertyComponent"],
                _editor_plugins_plugins_component__WEBPACK_IMPORTED_MODULE_23__["PluginsComponent"],
                _editor_app_settings_app_settings_component__WEBPACK_IMPORTED_MODULE_24__["AppSettingsComponent"],
                _editor_setup_setup_component__WEBPACK_IMPORTED_MODULE_25__["SetupComponent"],
                _editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_22__["DialogMenuItem"],
                _device_device_list_device_list_component__WEBPACK_IMPORTED_MODULE_37__["DeviceListComponent"],
                _device_device_map_device_map_component__WEBPACK_IMPORTED_MODULE_38__["DeviceMapComponent"],
                _fuxa_view_fuxa_view_component__WEBPACK_IMPORTED_MODULE_39__["FuxaViewComponent"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogDocProperty"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogDocName"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogNewDoc"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogLinkProperty"],
                _gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_62__["ConfirmDialogComponent"],
                _header_header_component__WEBPACK_IMPORTED_MODULE_17__["DialogInfo"],
                _gauges_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_71__["GaugeBaseComponent"],
                _gauges_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_84__["HtmlInputComponent"],
                _gauges_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_85__["HtmlButtonComponent"],
                _gauges_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_86__["HtmlSelectComponent"],
                _gauges_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_87__["HtmlChartComponent"],
                _gauges_controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_88__["HtmlBagComponent"],
                _gauges_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_90__["GaugeProgressComponent"],
                _gauges_controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_91__["GaugeSemaphoreComponent"],
                _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_75__["GaugePropertyComponent"],
                _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_75__["DialogGaugePermission"],
                _gauges_controls_html_chart_chart_property_chart_property_component__WEBPACK_IMPORTED_MODULE_76__["ChartPropertyComponent"],
                _gauges_controls_html_bag_bag_property_bag_property_component__WEBPACK_IMPORTED_MODULE_99__["BagPropertyComponent"],
                _gauges_controls_pipe_pipe_property_pipe_property_component__WEBPACK_IMPORTED_MODULE_100__["PipePropertyComponent"],
                _gauges_controls_slider_slider_property_slider_property_component__WEBPACK_IMPORTED_MODULE_103__["SliderPropertyComponent"],
                _gauges_controls_html_switch_html_switch_property_html_switch_property_component__WEBPACK_IMPORTED_MODULE_104__["HtmlSwitchPropertyComponent"],
                _gauges_shapes_shapes_component__WEBPACK_IMPORTED_MODULE_94__["ShapesComponent"],
                _gauges_shapes_proc_eng_proc_eng_component__WEBPACK_IMPORTED_MODULE_95__["ProcEngComponent"],
                _gauges_shapes_ape_shapes_ape_shapes_component__WEBPACK_IMPORTED_MODULE_96__["ApeShapesComponent"],
                _tester_tester_component__WEBPACK_IMPORTED_MODULE_41__["TesterComponent"],
                _help_tutorial_tutorial_component__WEBPACK_IMPORTED_MODULE_54__["TutorialComponent"],
                _gauges_gauge_property_flex_input_flex_input_component__WEBPACK_IMPORTED_MODULE_77__["FlexInputComponent"],
                _gauges_gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_78__["FlexAuthComponent"],
                _gauges_gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_79__["FlexHeadComponent"],
                _gauges_gauge_property_flex_event_flex_event_component__WEBPACK_IMPORTED_MODULE_80__["FlexEventComponent"],
                _gauges_gauge_property_flex_action_flex_action_component__WEBPACK_IMPORTED_MODULE_81__["FlexActionComponent"],
                _gauges_gauge_property_flex_variable_flex_variable_component__WEBPACK_IMPORTED_MODULE_82__["FlexVariableComponent"],
                _gauges_gauge_property_flex_variables_mapping_flex_variables_mapping_component__WEBPACK_IMPORTED_MODULE_73__["FlexVariablesMappingComponent"],
                _gauges_gauge_property_flex_variable_map_flex_variable_map_component__WEBPACK_IMPORTED_MODULE_74__["FlexVariableMapComponent"],
                _gauges_controls_value_value_component__WEBPACK_IMPORTED_MODULE_72__["ValueComponent"],
                _directives_dialog_draggable_directive__WEBPACK_IMPORTED_MODULE_65__["DialogDraggableDirective"],
                _helpers_utils__WEBPACK_IMPORTED_MODULE_56__["EnumToArrayPipe"],
                _helpers_utils__WEBPACK_IMPORTED_MODULE_56__["EscapeHtmlPipe"],
                _directives_ngx_draggable_directive__WEBPACK_IMPORTED_MODULE_67__["DraggableDirective"],
                _directives_number_directive__WEBPACK_IMPORTED_MODULE_68__["NumberOnlyDirective"],
                _gui_helpers_fab_button_ngx_fab_button_component__WEBPACK_IMPORTED_MODULE_59__["NgxFabButtonComponent"],
                _gui_helpers_fab_button_ngx_fab_item_button_component__WEBPACK_IMPORTED_MODULE_60__["NgxFabItemButtonComponent"],
                _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_61__["TreetableComponent"],
                _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_63__["SelOptionsComponent"],
                _directives_lazyFor_directive__WEBPACK_IMPORTED_MODULE_69__["LazyForDirective"],
                _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_64__["NgxSwitchComponent"],
                _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__["ChartConfigComponent"],
                _editor_card_config_card_config_component__WEBPACK_IMPORTED_MODULE_27__["CardConfigComponent"],
                _alarms_alarm_list_alarm_list_component__WEBPACK_IMPORTED_MODULE_29__["AlarmListComponent"],
                _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_28__["AlarmViewComponent"],
                _alarms_alarm_property_alarm_property_component__WEBPACK_IMPORTED_MODULE_30__["AlarmPropertyComponent"],
                _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_31__["TextListComponent"],
                _gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_97__["NgxGaugeComponent"],
                _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_98__["NgxNouisliderComponent"],
                _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__["DialogListItem"],
                _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__["DialogChartLine"],
                _users_users_component__WEBPACK_IMPORTED_MODULE_92__["UsersComponent"],
                _users_users_component__WEBPACK_IMPORTED_MODULE_92__["DialogUser"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_93__["LoginComponent"],
                _home_home_component__WEBPACK_IMPORTED_MODULE_16__["DialogUserInfo"],
                _view_view_component__WEBPACK_IMPORTED_MODULE_19__["ViewComponent"],
                _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_31__["DialogItemText"],
                _gui_helpers_ngx_uplot_ngx_uplot_component__WEBPACK_IMPORTED_MODULE_105__["NgxUplotComponent"],
                _gauges_controls_html_chart_chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_106__["ChartUplotComponent"],
                _cards_view_cards_view_component__WEBPACK_IMPORTED_MODULE_40__["CardsViewComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _app_routing__WEBPACK_IMPORTED_MODULE_14__["routing"],
                _material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__["BrowserAnimationsModule"],
                ngx_color_picker__WEBPACK_IMPORTED_MODULE_6__["ColorPickerModule"],
                ng5_slider__WEBPACK_IMPORTED_MODULE_7__["Ng5SliderModule"],
                angular2_draggable__WEBPACK_IMPORTED_MODULE_12__["AngularDraggableModule"],
                _gui_helpers_mat_select_search_mat_select_search_module__WEBPACK_IMPORTED_MODULE_83__["MatSelectSearchModule"],
                ngx_toastr__WEBPACK_IMPORTED_MODULE_8__["ToastrModule"].forRoot({
                    timeOut: 3000,
                    positionClass: "toast-bottom-right",
                    preventDuplicates: false
                }),
                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslateModule"].forRoot({
                    loader: {
                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslateLoader"],
                        useFactory: createTranslateLoader,
                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]]
                    }
                }),
                angular_gridster2__WEBPACK_IMPORTED_MODULE_107__["GridsterModule"]
            ],
            providers: [
                // providersResourceService,
                _services_rcgi_resclient_service__WEBPACK_IMPORTED_MODULE_50__["ResClientService"],
                _services_rcgi_reswebapi_service__WEBPACK_IMPORTED_MODULE_48__["ResWebApiService"],
                _services_rcgi_resdemo_service__WEBPACK_IMPORTED_MODULE_49__["ResDemoService"],
                _services_hmi_service__WEBPACK_IMPORTED_MODULE_52__["HmiService"],
                _services_app_service__WEBPACK_IMPORTED_MODULE_53__["AppService"],
                _services_project_service__WEBPACK_IMPORTED_MODULE_51__["ProjectService"],
                _services_user_service__WEBPACK_IMPORTED_MODULE_44__["UserService"],
                _services_plugin_service__WEBPACK_IMPORTED_MODULE_46__["PluginService"],
                _services_settings_service__WEBPACK_IMPORTED_MODULE_45__["SettingsService"],
                _tester_tester_service__WEBPACK_IMPORTED_MODULE_43__["TesterService"],
                _helpers_custom_http__WEBPACK_IMPORTED_MODULE_42__["customHttpProvider"],
                _helpers_auth_interceptor__WEBPACK_IMPORTED_MODULE_108__["httpInterceptorProviders"],
                _services_auth_service__WEBPACK_IMPORTED_MODULE_47__["AuthService"],
                _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_70__["GaugesManager"],
                _helpers_windowref__WEBPACK_IMPORTED_MODULE_55__["WindowRef"],
                _helpers_utils__WEBPACK_IMPORTED_MODULE_56__["Utils"],
                _gauges_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_89__["HtmlSwitchComponent"],
                _gauges_controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_101__["PipeComponent"],
                _gauges_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_102__["SliderComponent"],
                _helpers_dictionary__WEBPACK_IMPORTED_MODULE_58__["Dictionary"],
                _directives_modal_position_cache__WEBPACK_IMPORTED_MODULE_66__["ModalPositionCache"],
                _helpers_define__WEBPACK_IMPORTED_MODULE_57__["Define"],
                _auth_guard__WEBPACK_IMPORTED_MODULE_15__["AuthGuard"],
                { provide: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["HAMMER_GESTURE_CONFIG"], useClass: _angular_material__WEBPACK_IMPORTED_MODULE_11__["GestureConfig"] }
            ],
            entryComponents: [
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogDocProperty"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogDocName"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogNewDoc"],
                _editor_editor_component__WEBPACK_IMPORTED_MODULE_21__["DialogLinkProperty"],
                _header_header_component__WEBPACK_IMPORTED_MODULE_17__["DialogInfo"],
                _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_75__["GaugePropertyComponent"],
                _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_75__["DialogGaugePermission"],
                _gauges_controls_html_chart_chart_property_chart_property_component__WEBPACK_IMPORTED_MODULE_76__["ChartPropertyComponent"],
                _gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_97__["NgxGaugeComponent"],
                _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_98__["NgxNouisliderComponent"],
                _gauges_controls_html_bag_bag_property_bag_property_component__WEBPACK_IMPORTED_MODULE_99__["BagPropertyComponent"],
                _gauges_controls_pipe_pipe_property_pipe_property_component__WEBPACK_IMPORTED_MODULE_100__["PipePropertyComponent"],
                _gauges_controls_slider_slider_property_slider_property_component__WEBPACK_IMPORTED_MODULE_103__["SliderPropertyComponent"],
                _gauges_controls_html_switch_html_switch_property_html_switch_property_component__WEBPACK_IMPORTED_MODULE_104__["HtmlSwitchPropertyComponent"],
                _device_device_property_device_property_component__WEBPACK_IMPORTED_MODULE_34__["DevicePropertyComponent"],
                _device_tag_property_tag_property_component__WEBPACK_IMPORTED_MODULE_35__["TagPropertyComponent"],
                _device_topic_property_topic_property_component__WEBPACK_IMPORTED_MODULE_36__["TopicPropertyComponent"],
                _gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_62__["ConfirmDialogComponent"],
                _editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_22__["LayoutPropertyComponent"],
                _editor_plugins_plugins_component__WEBPACK_IMPORTED_MODULE_23__["PluginsComponent"],
                _editor_app_settings_app_settings_component__WEBPACK_IMPORTED_MODULE_24__["AppSettingsComponent"],
                _editor_setup_setup_component__WEBPACK_IMPORTED_MODULE_25__["SetupComponent"],
                _editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_22__["DialogMenuItem"],
                _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_64__["NgxSwitchComponent"],
                _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__["ChartConfigComponent"],
                _editor_card_config_card_config_component__WEBPACK_IMPORTED_MODULE_27__["CardConfigComponent"],
                _alarms_alarm_list_alarm_list_component__WEBPACK_IMPORTED_MODULE_29__["AlarmListComponent"],
                _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_28__["AlarmViewComponent"],
                _alarms_alarm_property_alarm_property_component__WEBPACK_IMPORTED_MODULE_30__["AlarmPropertyComponent"],
                _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_31__["TextListComponent"],
                _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__["DialogListItem"],
                _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_26__["DialogChartLine"],
                _users_users_component__WEBPACK_IMPORTED_MODULE_92__["DialogUser"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_93__["LoginComponent"],
                _home_home_component__WEBPACK_IMPORTED_MODULE_16__["DialogUserInfo"],
                _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_31__["DialogItemText"],
                _gauges_controls_html_chart_chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_106__["ChartUplotComponent"],
                _gui_helpers_ngx_uplot_ngx_uplot_component__WEBPACK_IMPORTED_MODULE_105__["NgxUplotComponent"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_13__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./app/app.routing.ts":
/*!****************************!*\
  !*** ./app/app.routing.ts ***!
  \****************************/
/*! exports provided: routing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routing", function() { return routing; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _auth_guard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth.guard */ "./app/auth.guard.ts");
/* harmony import */ var _home_home_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home/home.component */ "./app/home/home.component.ts");
/* harmony import */ var _editor_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor/editor.component */ "./app/editor/editor.component.ts");
/* harmony import */ var _device_device_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./device/device.component */ "./app/device/device.component.ts");
/* harmony import */ var _lab_lab_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lab/lab.component */ "./app/lab/lab.component.ts");
/* harmony import */ var _users_users_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./users/users.component */ "./app/users/users.component.ts");
/* harmony import */ var _view_view_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./view/view.component */ "./app/view/view.component.ts");
/* harmony import */ var _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./alarms/alarm-view/alarm-view.component */ "./app/alarms/alarm-view/alarm-view.component.ts");
/* harmony import */ var _alarms_alarm_list_alarm_list_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./alarms/alarm-list/alarm-list.component */ "./app/alarms/alarm-list/alarm-list.component.ts");
/* harmony import */ var _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./text-list/text-list.component */ "./app/text-list/text-list.component.ts");











var appRoutes = [
    { path: '', component: _home_home_component__WEBPACK_IMPORTED_MODULE_2__["HomeComponent"] },
    { path: 'home', component: _home_home_component__WEBPACK_IMPORTED_MODULE_2__["HomeComponent"] },
    { path: 'editor', component: _editor_editor_component__WEBPACK_IMPORTED_MODULE_3__["EditorComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'lab', component: _lab_lab_component__WEBPACK_IMPORTED_MODULE_5__["LabComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'device', component: _device_device_component__WEBPACK_IMPORTED_MODULE_4__["DeviceComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'users', component: _users_users_component__WEBPACK_IMPORTED_MODULE_6__["UsersComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'alarms', component: _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_8__["AlarmViewComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'messages', component: _alarms_alarm_list_alarm_list_component__WEBPACK_IMPORTED_MODULE_9__["AlarmListComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'text', component: _text_list_text_list_component__WEBPACK_IMPORTED_MODULE_10__["TextListComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_1__["AuthGuard"]] },
    { path: 'view', component: _view_view_component__WEBPACK_IMPORTED_MODULE_7__["ViewComponent"] },
    // otherwise redirect to home
    { path: '**', redirectTo: '' }
];
var routing = _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forRoot(appRoutes);


/***/ }),

/***/ "./app/auth.guard.ts":
/*!***************************!*\
  !*** ./app/auth.guard.ts ***!
  \***************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_services/auth.service */ "./app/_services/auth.service.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-toastr */ "../node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs_observable_of__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/observable/of */ "../node_modules/rxjs-compat/_esm5/observable/of.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "../node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AuthGuard = /** @class */ (function () {
    function AuthGuard(authService, translateService, toastr, projectService, router) {
        this.authService = authService;
        this.translateService = translateService;
        this.toastr = toastr;
        this.projectService = projectService;
        this.router = router;
    }
    AuthGuard.prototype.canActivate = function (next, state) {
        if (!this.projectService.isSecurityEnabled()) {
            return Object(rxjs_observable_of__WEBPACK_IMPORTED_MODULE_6__["of"])(true);
        }
        if (this.authService.isAdmin()) {
            return Object(rxjs_observable_of__WEBPACK_IMPORTED_MODULE_6__["of"])(true);
        }
        return this.projectService.checkServer().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(function (response) {
            if (response && !response.secureEnabled) {
                return true;
            }
            return false;
        }));
    };
    AuthGuard.prototype.notifySaveError = function () {
        var msg = '';
        this.translateService.get('msg.signin-failed').subscribe(function (txt) { msg = txt; });
        this.toastr.error(msg, '', {
            timeOut: 3000,
            closeButton: true,
            disableTimeOut: true
        });
    };
    AuthGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_4__["ToastrService"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./app/cards-view/cards-view.component.css":
/*!*************************************************!*\
  !*** ./app/cards-view/cards-view.component.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/cards-view/cards-view.component.html":
/*!**************************************************!*\
  !*** ./app/cards-view/cards-view.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<gridster [options]=\"gridOptions\">\r\n    <gridster-item [item]=\"item\" *ngFor=\"let item of dashboard\">\r\n        <div *ngIf=\"item.content\" style=\"position:absolute;top:0px;left:0px;right:0px;bottom:0px;\">\r\n            <app-fuxa-view class=\"lab-body\" id=\"lab\" [view]=\"item.content\" [hmi]=\"hmi\" [gaugesManager]=\"gaugesManager\"></app-fuxa-view>\r\n            <div *ngIf=\"edit\" style=\"position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(87, 87, 87, 0.4) !important;\"></div>\r\n        </div>\r\n        <div *ngIf=\"edit\" style=\"position:absolute;top: 50%;left: 50%;transform:translate(-50%, -50%); width: 100px\">\r\n            <button mat-mini-fab color=\"white\" style=\"float: left;\" (click)=\"onEditCard(item)\">\r\n                <mat-icon>edit</mat-icon>\r\n            </button>\r\n            <button mat-mini-fab color=\"white\" style=\"float: right;\" (click)=\"onRemoveCard(item)\">\r\n                <mat-icon>delete</mat-icon>\r\n            </button>\r\n        </div>\r\n    </gridster-item>\r\n</gridster>"

/***/ }),

/***/ "./app/cards-view/cards-view.component.ts":
/*!************************************************!*\
  !*** ./app/cards-view/cards-view.component.ts ***!
  \************************************************/
/*! exports provided: CardsViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardsViewComponent", function() { return CardsViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var angular_gridster2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular-gridster2 */ "../node_modules/angular-gridster2/fesm5/angular-gridster2.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_helpers/utils */ "./app/_helpers/utils.ts");
var __assign = (undefined && undefined.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CardsViewComponent = /** @class */ (function () {
    function CardsViewComponent() {
        this.edit = true;
        this.editCard = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.dashboard = [];
        this.widgetView = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"].view);
        this.widgetAlarms = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"].alarms);
        this.widgetTable = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"].table);
        this.gridOptions = {
            gridType: angular_gridster2__WEBPACK_IMPORTED_MODULE_3__["GridType"].Fixed,
            compactType: angular_gridster2__WEBPACK_IMPORTED_MODULE_3__["CompactType"].None,
            maxCols: 100,
            maxRows: 100,
            fixedColWidth: 35,
            fixedRowHeight: 35,
            margin: 10,
            disableWarnings: true,
            draggable: {
                enabled: true,
            },
            resizable: {
                enabled: true,
            },
            itemChangeCallback: this.itemChange,
            itemResizeCallback: this.itemChange,
        };
    }
    CardsViewComponent.prototype.ngOnInit = function () {
    };
    CardsViewComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.gridOptions = __assign({}, this.gridOptions, this.options);
        setTimeout(function () {
            _this.initCardsEditor(_this.view.svgcontent);
        }, 200);
    };
    CardsViewComponent.prototype.reload = function () {
        var element = document.querySelector('gridster');
        if (element && this.view.profile.bkcolor) {
            element.style.backgroundColor = this.view.profile.bkcolor;
        }
        if (this.view.profile.margin >= 0) {
            this.gridOptions.margin = this.view.profile.margin;
            this.gridOptions.api.optionsChanged();
        }
        this.initCardsEditor(this.view.svgcontent);
    };
    CardsViewComponent.prototype.initCardsEditor = function (dashboardContent) {
        this.dashboard = [];
        if (dashboardContent) {
            var dashboard = JSON.parse(dashboardContent);
            for (var i = 0; i < dashboard.length; i++) {
                this.addCardsWidget(dashboard[i].x, dashboard[i].y, dashboard[i].cols, dashboard[i].rows, dashboard[i].card);
            }
        }
        else {
            this.addCardsWidget(0, 0, 10, 8, { type: _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"].view) });
        }
    };
    CardsViewComponent.prototype.onEditCard = function (item) {
        this.editCard.emit(item);
    };
    CardsViewComponent.prototype.onRemoveCard = function (item) {
        this.dashboard.splice(this.dashboard.indexOf(item), 1);
        this.view.svgcontent = JSON.stringify(this.dashboard);
    };
    CardsViewComponent.prototype.addCardsWidget = function (x, y, cols, rows, card) {
        var _this = this;
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        if (cols === void 0) { cols = 10; }
        if (rows === void 0) { rows = 8; }
        if (card === void 0) { card = { type: _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"].view) }; }
        var content = null;
        var background = '';
        var item = { x: x, y: y, cols: cols, rows: rows, card: card, content: content, background: background };
        item.initCallback = function () {
            if (card) {
                var views = _this.hmi.views.filter(function (v) { return v.name === card.data; });
                if (views && views.length) {
                    if (views[0].svgcontent) {
                        item.content = views[0]; //.svgcontent.replace('<title>Layer 1</title>', '');
                    }
                    if (views[0].profile.bkcolor) {
                        item.background = views[0].profile.bkcolor;
                    }
                }
            }
        };
        this.dashboard.push(item);
    };
    CardsViewComponent.prototype.render = function () {
        this.initCardsEditor(this.view.svgcontent);
    };
    CardsViewComponent.prototype.getContent = function () {
        return JSON.stringify(this.dashboard);
    };
    CardsViewComponent.prototype.getWindgetViewName = function () {
        var widgetType = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_2__["CardWidgetType"].view);
        var viewsName = this.dashboard.filter(function (c) { return c.card.type === widgetType && c.card.data; }).map(function (c) { return c.card.data; });
        return viewsName;
    };
    CardsViewComponent.prototype.itemChange = function (item, itemComponent) {
        // console.info('itemResized', item, itemComponent);
        if (item.background && itemComponent.el) {
            itemComponent.el.style.backgroundColor = item.background;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], CardsViewComponent.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], CardsViewComponent.prototype, "edit", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_2__["View"])
    ], CardsViewComponent.prototype, "view", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_2__["Hmi"])
    ], CardsViewComponent.prototype, "hmi", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_1__["GaugesManager"])
    ], CardsViewComponent.prototype, "gaugesManager", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], CardsViewComponent.prototype, "editCard", void 0);
    CardsViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-cards-view',
            template: __webpack_require__(/*! ./cards-view.component.html */ "./app/cards-view/cards-view.component.html"),
            styles: [__webpack_require__(/*! ./cards-view.component.css */ "./app/cards-view/cards-view.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], CardsViewComponent);
    return CardsViewComponent;
}());



/***/ }),

/***/ "./app/device/device-list/device-list.component.css":
/*!**********************************************************!*\
  !*** ./app/device/device-list/device-list.component.css ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 300px;\r\n    position: absolute;\r\n    bottom: 0px;\r\n    top: 0px;\r\n    left:0px;\r\n    right:0px;\r\n    background-color: white;\r\n}\r\n\r\n.filter {\r\n    display: inline-block;\r\n    min-height: 64px;\r\n    padding: 8px 24px 0;\r\n}\r\n\r\n.filter .mat-form-field {\r\n    font-size: 14px;\r\n    width: 100%;\r\n}\r\n\r\n.mat-table {\r\n    overflow: auto;\r\n    /* min-width: 1500px; */\r\n    height: 100%;\r\n}\r\n\r\n.mat-header-cell.mat-sort-header-sorted {\r\n    color: black;\r\n}\r\n\r\n.mat-header-row {\r\n    top: 0;\r\n    position: sticky;\r\n    z-index: 1;\r\n    /* background-color: rgba(0,0,0,0.7); */\r\n    background-color: rgb(58, 58, 58);\r\n    color: white;\r\n}\r\n\r\n.mat-header-cell {\r\n    color: white;\r\n    font-size: 14px;\r\n}\r\n\r\n.mat-column-select {\r\n    overflow: visible;\r\n    flex: 0 0 100px;\r\n}\r\n\r\n.mat-column-name {\r\n    flex: 0 0 180px;\r\n}\r\n\r\n.mat-column-address {\r\n    flex: 0 0 360px;\r\n}\r\n\r\n.mat-column-device {\r\n    flex: 0 0 180px;\r\n}\r\n\r\n.mat-column-type {\r\n    flex: 0 0 160px;\r\n}\r\n\r\n.mat-column-value {\r\n    flex: 0 0 180px;\r\n}\r\n\r\n.mat-column-min {\r\n    flex: 0 0 100px;\r\n}\r\n\r\n.mat-column-max {\r\n    flex: 0 0 100px;\r\n}\r\n\r\n.mat-column-remove {\r\n    flex: 0 0 60px;\r\n}\r\n\r\n.selectidthClass{\r\n    flex: 0 0 50px;\r\n }"

/***/ }),

/***/ "./app/device/device-list/device-list.component.html":
/*!***********************************************************!*\
  !*** ./app/device/device-list/device-list.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"filter\" *ngIf=\"deviceSelected\">\r\n        <button mat-icon-button title=\"Device Map\" (click)=\"onGoBack()\" style=\"margin-right:10px;margin-left:-10px; color: black\">\r\n            <mat-icon aria-label=\"Show devices map\">arrow_back</mat-icon>\r\n        </button>\r\n        <div class=\"my-form-field\" style=\"padding-right: 10px;\">\r\n            <span>{{'device.list-device' | translate}}</span>\r\n            <mat-select [(value)]=\"deviceSelected\" style=\"width: 300px\"\r\n                (selectionChange)=\"onDeviceChange($event.source)\">\r\n                <mat-option *ngFor=\"let device of devicesValue()\" [value]=\"device\">\r\n                    {{ device.name }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"padding-right: 10px;\">\r\n            <span>{{'device.list-filter' | translate}}</span>\r\n            <input (keyup)=\"applyFilter($event.target.value)\" style=\"width: 450px\" type=\"text\">\r\n        </div>\r\n        <!-- <mat-form-field>\r\n      <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\r\n    </mat-form-field> -->\r\n        <!-- <div class=\"my-form-field\" style=\"padding: 10 20 10 20\">\r\n      <input (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\" type=\"text\" style=\"width: 100%\">\r\n    </div> -->\r\n    </div>\r\n    <mat-table #table [dataSource]=\"dataSource\" matSort>\r\n        <!-- Checkbox Column -->\r\n        <ng-container matColumnDef=\"select\">\r\n            <mat-header-cell *matHeaderCellDef [ngClass]=\"'selectidthClass'\">\r\n                <button mat-icon-button (click)=\"onAddTag()\" class=\"remove\">\r\n                    <mat-icon>add</mat-icon>\r\n                </button>\r\n                <!-- <mat-checkbox (change)=\"$event ? masterToggle() : null\" [checked]=\"selection.hasValue() && isAllSelected()\"\r\n          [indeterminate]=\"selection.hasValue() && !isAllSelected()\">\r\n        </mat-checkbox> -->\r\n            </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [ngClass]=\"'selectidthClass'\">\r\n                <button mat-icon-button (click)=\"onEditRow(element)\" class=\"remove\"\r\n                    *ngIf=\"isToEdit(deviceSelected.type)\">\r\n                    <mat-icon>edit</mat-icon>\r\n                </button>\r\n                <!-- <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\">\r\n        </mat-checkbox> -->\r\n            </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Name Column -->\r\n        <ng-container matColumnDef=\"name\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-name' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{getTagLabel(element)}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Address Column -->\r\n        <ng-container matColumnDef=\"address\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-address' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{getAddress(element)}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Device Column -->\r\n        <ng-container matColumnDef=\"device\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-device' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{deviceSelected.name}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Device Column -->\r\n        <ng-container matColumnDef=\"type\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-type' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.type}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Min Column -->\r\n        <ng-container matColumnDef=\"min\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-min' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.min}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Max Column -->\r\n        <ng-container matColumnDef=\"max\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-max' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.max}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Value Column -->\r\n        <ng-container matColumnDef=\"value\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'device.list-value' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.value}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Button remove Column -->\r\n        <ng-container matColumnDef=\"remove\">\r\n            <mat-header-cell *matHeaderCellDef [ngClass]=\"'selectidthClass'\">\r\n                <button mat-icon-button (click)=\"onRemoveAll()\" class=\"remove\">\r\n                    <mat-icon>clear</mat-icon>\r\n                </button>\r\n            </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\">\r\n                <button mat-icon-button (click)=\"$event.stopPropagation();onRemoveRow(element)\" class=\"remove\">\r\n                    <mat-icon>clear</mat-icon>\r\n                </button>\r\n            </mat-cell>\r\n        </ng-container>\r\n\r\n        <mat-header-row *matHeaderRowDef=\"displayedColumns\" [ngStyle]=\"{'min-width.px': tableWidth}\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"my-mat-row\" [ngStyle]=\"{'min-width.px': tableWidth}\"></mat-row>\r\n    </mat-table>\r\n</div>"

/***/ }),

/***/ "./app/device/device-list/device-list.component.ts":
/*!*********************************************************!*\
  !*** ./app/device/device-list/device-list.component.ts ***!
  \*********************************************************/
/*! exports provided: DeviceListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceListComponent", function() { return DeviceListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/collections */ "../node_modules/@angular/cdk/esm5/collections.es5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _tag_property_tag_property_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../tag-property/tag-property.component */ "./app/device/tag-property/tag-property.component.ts");
/* harmony import */ var _topic_property_topic_property_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../topic-property/topic-property.component */ "./app/device/topic-property/topic-property.component.ts");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_models/device */ "./app/_models/device.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../gui-helpers/treetable/treetable.component */ "./app/gui-helpers/treetable/treetable.component.ts");
/* harmony import */ var _gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../gui-helpers/confirm-dialog/confirm-dialog.component */ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var DeviceListComponent = /** @class */ (function () {
    function DeviceListComponent(dialog, hmiService, translateService, changeDetector, projectService) {
        this.dialog = dialog;
        this.hmiService = hmiService;
        this.translateService = translateService;
        this.changeDetector = changeDetector;
        this.projectService = projectService;
        this.defAllColumns = ['select', 'name', 'address', 'device', 'type', 'min', 'max', 'value', 'remove'];
        this.defClientColumns = ['select', 'name', 'address', 'device', 'type', 'min', 'max', 'value', 'remove'];
        this.defInternalColumns = ['select', 'name', 'device', 'type', 'min', 'max', 'value', 'remove'];
        this.defAllRowWidth = 1400;
        this.defClientRowWidth = 1400;
        this.defInternalRowWidth = 1200;
        this.displayedColumns = this.defAllColumns;
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"]([]);
        this.selection = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_2__["SelectionModel"](true, []);
        this.dirty = false;
        this.deviceType = _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"];
        this.tableWidth = this.defAllRowWidth;
        this.tagsMap = {};
        this.save = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.goto = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    DeviceListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.devices = this.projectService.getDevices();
        if (!this.deviceSelected && this.devices) {
            this.deviceSelected = this.devices[0];
        }
        Object.values(this.devices).forEach(function (d) {
            Object.values(d.tags).forEach(function (t) {
                _this.tagsMap[t.id] = t;
            });
        });
    };
    DeviceListComponent.prototype.ngAfterViewInit = function () {
        if (this.deviceSelected) {
            this.bindToTable(this.deviceSelected.tags);
        }
        this.dataSource.sort = this.sort;
        this.table.renderRows();
    };
    DeviceListComponent.prototype.bindToTable = function (tags) {
        this.dataSource.data = Object.values(tags);
    };
    DeviceListComponent.prototype.onDeviceChange = function (source) {
        this.dataSource.data = [];
        this.deviceSelected = source.value;
        this.setSelectedDevice(this.deviceSelected);
    };
    DeviceListComponent.prototype.setSelectedDevice = function (device) {
        var _this = this;
        this.devices = this.projectService.getDevices();
        this.updateDeviceValue();
        // this.devices = JSON.parse(JSON.stringify(this.projectService.getDevices()));
        Object.values(this.devices).forEach(function (d) {
            if (d.name === device.name) {
                _this.deviceSelected = d;
                _this.bindToTable(_this.deviceSelected.tags);
            }
        });
        if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].external) {
            this.displayedColumns = this.defClientColumns;
            this.tableWidth = this.defClientRowWidth;
        }
        else if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].internal) {
            this.displayedColumns = this.defInternalColumns;
            this.tableWidth = this.defInternalRowWidth;
        }
        else {
            this.displayedColumns = this.defAllColumns;
            this.tableWidth = this.defAllRowWidth;
        }
    };
    DeviceListComponent.prototype.onGoBack = function () {
        this.goto.emit();
    };
    DeviceListComponent.prototype.onRemoveRow = function (row) {
        var index = this.dataSource.data.indexOf(row, 0);
        // if (index > -1) {
        //   this.dataSource.data.splice(index, 1);
        //   this.dirty = true;
        // }
        if (this.dataSource.data[index]) {
            delete this.deviceSelected.tags[this.dataSource.data[index].id];
        }
        this.bindToTable(this.deviceSelected.tags);
        this.projectService.setDeviceTags(this.deviceSelected);
    };
    DeviceListComponent.prototype.onRemoveAll = function () {
        var _this = this;
        var msg = '';
        this.translateService.get('msg.tags-remove-all').subscribe(function (txt) { msg = txt; });
        var dialogRef = this.dialog.open(_gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_10__["ConfirmDialogComponent"], {
            data: { msg: msg },
            position: { top: '60px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.clearTags();
            }
        });
    };
    DeviceListComponent.prototype.clearTags = function () {
        this.deviceSelected.tags = {};
        this.bindToTable(this.deviceSelected.tags);
    };
    /** Whether the number of selected elements matches the total number of rows. */
    DeviceListComponent.prototype.isAllSelected = function () {
        var numSelected = this.selection.selected.length;
        var numRows = this.dataSource.data.length;
        return numSelected === numRows;
    };
    /** Selects all rows if they are not all selected; otherwise clear selection. */
    DeviceListComponent.prototype.masterToggle = function () {
        var _this = this;
        this.isAllSelected() ?
            this.selection.clear() :
            this.dataSource.data.forEach(function (row) { return _this.selection.select(row); });
    };
    DeviceListComponent.prototype.applyFilter = function (filterValue) {
        filterValue = filterValue.trim(); // Remove whitespace
        filterValue = filterValue.toLowerCase(); // MatTableDataSource defaults to lowercase matches
        this.dataSource.filter = filterValue;
    };
    DeviceListComponent.prototype.onEditRow = function (row) {
        this.editTag(row, false);
    };
    DeviceListComponent.prototype.onAddTag = function () {
        if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].OPCUA || this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].BACnet || this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].WebAPI) {
            this.addOpcTags(null);
        }
        else if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].MQTTclient) {
            this.editTopics();
        }
        else {
            var tag = new _models_device__WEBPACK_IMPORTED_MODULE_6__["Tag"](_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_6__["TAG_PREFIX"]));
            this.editTag(tag, true);
        }
    };
    DeviceListComponent.prototype.addOpcTags = function (tag) {
        var _this = this;
        var dialogRef = this.dialog.open(_tag_property_tag_property_component__WEBPACK_IMPORTED_MODULE_4__["TagPropertyComponent"], {
            panelClass: 'dialog-property',
            data: { device: this.deviceSelected, tag: tag, devices: this.devices },
            position: { top: '60px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.dirty = true;
                if (_this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].WebAPI) {
                    _this.clearTags();
                }
                result.nodes.forEach(function (n) {
                    var tag = new _models_device__WEBPACK_IMPORTED_MODULE_6__["Tag"](_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_6__["TAG_PREFIX"]));
                    tag.name = n.id;
                    tag.type = n.type;
                    if (_this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].BACnet) {
                        tag.label = n.text;
                    }
                    else if (_this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].WebAPI) {
                        tag.label = n.text;
                        if (n.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_9__["NodeType"].Reference) {
                            tag.memaddress = n.property; // in memaddress save the address of the value
                            tag.options = n.todefine; // save the id and value in text to set by select list
                            tag.type = n.type;
                        }
                    }
                    tag.address = n.id;
                    _this.checkToAdd(tag, result.device);
                });
                _this.projectService.setDeviceTags(_this.deviceSelected);
            }
        });
    };
    DeviceListComponent.prototype.getTagLabel = function (tag) {
        if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].BACnet || this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].WebAPI) {
            return tag.label;
        }
        else if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].OPCUA) {
            return tag.label;
        }
        else {
            return tag.name;
        }
    };
    DeviceListComponent.prototype.getAddress = function (tag) {
        if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].ModbusRTU || this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].ModbusTCP) {
            return parseInt(tag.address) + parseInt(tag.memaddress);
        }
        else if (this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].WebAPI) {
            if (tag.options) {
                return tag.address + ' / ' + tag.options.selval;
            }
            return tag.address;
        }
        return tag.address;
    };
    DeviceListComponent.prototype.isToEdit = function (type) {
        return (type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].SiemensS7 || type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].ModbusTCP || type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].ModbusRTU || type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].external ||
            type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].internal);
    };
    DeviceListComponent.prototype.editTag = function (tag, checkToAdd) {
        var _this = this;
        var oldtag = tag.name;
        var temptag = JSON.parse(JSON.stringify(tag));
        var dialogRef = this.dialog.open(_tag_property_tag_property_component__WEBPACK_IMPORTED_MODULE_4__["TagPropertyComponent"], {
            panelClass: 'dialog-property',
            data: { device: this.deviceSelected, tag: temptag, devices: this.devices },
            position: { top: '60px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                if (_this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].MQTTclient) {
                    result.nodes.forEach(function (ta) {
                        _this.checkToAdd(tag, result.device);
                    });
                    _this.projectService.setDeviceTags(_this.deviceSelected);
                }
                else {
                    _this.dirty = true;
                    tag.name = temptag.name;
                    tag.type = temptag.type;
                    tag.address = temptag.address;
                    tag.memaddress = temptag.memaddress;
                    tag.min = temptag.min;
                    tag.max = temptag.max;
                    tag.divisor = temptag.divisor;
                    if (_this.deviceSelected.type === _models_device__WEBPACK_IMPORTED_MODULE_6__["DeviceType"].internal) {
                        tag.value = '0';
                    }
                    if (checkToAdd) {
                        _this.checkToAdd(tag, result.device);
                    }
                    else if (tag.id !== oldtag) {
                        //remove old tag device reference
                        delete result.device.tags[oldtag];
                        _this.checkToAdd(tag, result.device);
                    }
                    _this.projectService.setDeviceTags(_this.deviceSelected);
                }
            }
        });
    };
    DeviceListComponent.prototype.checkToAdd = function (tag, device) {
        var exist = false;
        Object.keys(device.tags).forEach(function (key) {
            if (device.tags[key].id) {
                if (device.tags[key].id === tag.id) {
                    exist = true;
                }
            }
            else if (device.tags[key].name === tag.name) {
                exist = true;
            }
        });
        if (!exist) {
            device.tags[tag.id] = tag;
        }
        this.tagsMap[tag.id] = tag;
        this.bindToTable(this.deviceSelected.tags);
    };
    DeviceListComponent.prototype.updateDeviceValue = function () {
        var sigs = this.hmiService.getAllSignals();
        for (var id in sigs) {
            if (this.tagsMap[id]) {
                this.tagsMap[id].value = sigs[id].value;
            }
            // let vartoken = id.split(HmiService.separator);
            // if (vartoken.length > 1 && this.devices[vartoken[0]] && this.devices[vartoken[0]].tags[vartoken[1]]) {
            //     this.devices[vartoken[0]].tags[vartoken[1]].value = sigs[id].value;
            // }
        }
        this.changeDetector.detectChanges();
    };
    DeviceListComponent.prototype.devicesValue = function () {
        return Object.values(this.devices);
    };
    /**
     * to add MQTT topic for subscription or publish
     */
    DeviceListComponent.prototype.editTopics = function () {
        var _this = this;
        var dialogRef = this.dialog.open(_topic_property_topic_property_component__WEBPACK_IMPORTED_MODULE_5__["TopicPropertyComponent"], {
            panelClass: 'dialog-property',
            data: { device: this.deviceSelected, devices: this.devices },
            position: { top: '60px' }
        });
        dialogRef.componentInstance.invokeSubscribe = function (topics) { return _this.addTopicSubscription(topics); };
        dialogRef.afterClosed().subscribe(function (result) {
        });
    };
    DeviceListComponent.prototype.addTopicSubscription = function (topics) {
        var _this = this;
        if (topics) {
            topics.forEach(function (tag) {
                _this.checkToAdd(tag, _this.deviceSelected);
            });
            this.projectService.setDeviceTags(this.deviceSelected);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_device__WEBPACK_IMPORTED_MODULE_6__["Device"])
    ], DeviceListComponent.prototype, "deviceSelected", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DeviceListComponent.prototype, "save", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DeviceListComponent.prototype, "goto", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"])
    ], DeviceListComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], DeviceListComponent.prototype, "sort", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatMenuTrigger"])
    ], DeviceListComponent.prototype, "trigger", void 0);
    DeviceListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-device-list',
            template: __webpack_require__(/*! ./device-list.component.html */ "./app/device/device-list/device-list.component.html"),
            styles: [__webpack_require__(/*! ./device-list.component.css */ "./app/device/device-list/device-list.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _services_hmi_service__WEBPACK_IMPORTED_MODULE_8__["HmiService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_7__["ProjectService"]])
    ], DeviceListComponent);
    return DeviceListComponent;
}());



/***/ }),

/***/ "./app/device/device-map/device-map.component.html":
/*!*********************************************************!*\
  !*** ./app/device/device-map/device-map.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"server && server.property\">\r\n    <div class=\"main-line-flow\" [style.left.px]=\"getMainLineLeftPosition()\" [style.top.px]=\"getMainLineTopPosition('flow')\" [style.width.px]=\"lineFlowSize\"\r\n        [style.height.px]=\"getMainLineHeight('flow')\"></div>\r\n    <div *ngFor=\"let flow of devicesValue('flow'); index as i\" class=\"flow-line\" [style.left.px]=\"getDeviceLineLeftPosition(i, 'flow')\"\r\n        [style.top.px]=\"getDeviceLineTopPosition('flow')\" [style.width.px]=\"lineFlowSize\" [style.height.px]=\"flowLineHeight\"></div>\r\n    <div class=\"connection-line\" [style.left.px]=\"getDeviceConnectionLeftPosition('flow')\" [style.top.px]=\"getDeviceConnectionTopPosition('flow')\"\r\n        [style.width.px]=\"getDeviceConnectionWidth('flow')\" [style.height.px]=\"lineFlowSize\"></div>\r\n\r\n    <div class=\"main-line\" [style.left.px]=\"getMainLineLeftPosition()\" [style.top.px]=\"getMainLineTopPosition()\" [style.width.px]=\"lineDeviceSize\" [style.height.px]=\"getMainLineHeight()\">\r\n    </div>\r\n    <div *ngFor=\"let device of devicesValue(); index as i\" class=\"device-line\" [style.left.px]=\"getDeviceLineLeftPosition(i)\" [style.top.px]=\"getDeviceLineTopPosition()\"\r\n        [style.width.px]=\"lineDeviceSize\" [style.height.px]=\"deviceLineHeight\"></div>\r\n    <div class=\"connection-line\" [style.left.px]=\"getDeviceConnectionLeftPosition()\" [style.top.px]=\"getDeviceConnectionTopPosition()\"\r\n        [style.width.px]=\"getDeviceConnectionWidth()\" [style.height.px]=\"lineDeviceSize\"></div>\r\n</div>\r\n<div class=\"container\">\r\n    <div class=\"main-device\" *ngIf=\"server && server.property\" [style.left.px]=\"getMainLeftPosition()\" [style.top.px]=\"getMainTopPosition()\" [style.width.px]=\"mainWidth\"\r\n        [style.height.px]=\"mainHeight\" [style.borderWidth.px]=\"mainBorder\">\r\n        <span class=\"device-header\" style=\"padding-top: 10px;\">{{ server.name }}</span>\r\n        <span class=\"device-pro\">{{ server.property.address }}</span>\r\n        <mat-icon (click)=\"onListDevice(server)\" class=\"device-icon device-list\">list_alt</mat-icon>\r\n        <mat-icon (click)=\"onEditDevice(server)\" class=\"device-icon device-edit\">edit</mat-icon>\r\n    </div>\r\n\r\n    <div *ngFor=\"let flow of devicesValue('flow'); index as i\" class=\"node-flow\" [style.color]=\"(flow.enabled) ? '#000000' : '#828282'\" [style.left.px]=\"getDeviceLeftPosition(i, 'flow')\"\r\n        [style.top.px]=\"getDeviceTopPosition('flow')\" [style.width.px]=\"flowWidth\" [style.height.px]=\"flowHeight\" [style.borderWidth.px]=\"flowBorder\">\r\n        <span class=\"device-header\">{{ flow.name }}</span>\r\n        <span class=\"device-pro\" *ngIf=\"flow.property\">{{ flow.property.address }}</span>\r\n        <span class=\"device-pro\" style=\"padding-bottom: 10px;\">{{ getDevicePropertyToShow(flow) }}</span>\r\n        <div class=\"device-status\" *ngIf=\"flow.enabled\" [style.background-color]=\"getDeviceStatusColor(flow)\"></div>\r\n        <mat-icon (click)=\"onListDevice(flow)\" class=\"device-icon device-list\">list_alt</mat-icon>\r\n        <mat-icon (click)=\"onEditDevice(flow)\" class=\"device-icon device-edit\">edit</mat-icon>\r\n        <mat-icon (click)=\"onRemoveDevice(flow)\" class=\"device-icon device-delete\">clear</mat-icon>\r\n    </div>\r\n\r\n    <div *ngFor=\"let device of devicesValue(); index as i\" [ngClass]=\"getNodeClass(device)\" [style.color]=\"(device.enabled) ? '#FFFFFF' : '#C5C5C5'\" [style.left.px]=\"getDeviceLeftPosition(i)\"\r\n        [style.top.px]=\"getDeviceTopPosition()\" [style.width.px]=\"deviceWidth\" [style.height.px]=\"deviceHeight\" [style.borderWidth.px]=\"deviceBorder\">\r\n        <span class=\"device-header\">{{ device.name }}</span>\r\n        <span class=\"device-pro\" *ngIf=\"device.property\">{{ device.property.address }}</span>\r\n        <span class=\"device-pro\" style=\"padding-bottom: 10px;\">{{ getDevicePropertyToShow(device) }}</span>\r\n        <div class=\"device-status\" *ngIf=\"device.enabled\" [style.background-color]=\"getDeviceStatusColor(device)\"></div>\r\n        <mat-icon (click)=\"onListDevice(device)\" class=\"device-icon device-list\">list_alt</mat-icon>\r\n        <mat-icon (click)=\"onEditDevice(device)\" class=\"device-icon device-edit\">edit</mat-icon>\r\n        <mat-icon (click)=\"onRemoveDevice(device)\" class=\"device-icon device-delete\">clear</mat-icon>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/device/device-map/device-map.component.scss":
/*!*********************************************************!*\
  !*** ./app/device/device-map/device-map.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".main-device{position:absolute;text-align:center;background-color:#0c65bd;color:white;border-style:solid;border-color:#3C3C3C}.node-device{position:absolute;background-color:#4f565d;text-align:center;padding-top:17px;border-style:solid;border-color:#3C3C3C}.node-device mat-icon{color:white}.node-internal{position:absolute;background-color:#72787d;text-align:center;padding-top:17px;border-style:solid;border-color:#3C3C3C}.node-internal mat-icon{color:white}.node-flow{position:absolute;background-color:#dadada;text-align:center;padding-top:17px;border-style:solid;border-color:#3C3C3C}.node-flow mat-icon{color:black}.main-line{position:absolute;background-color:#3C3C3C}.main-line-flow{position:absolute;background-color:#3C3C3C}.device-line{position:absolute;background-color:#3C3C3C}.flow-line{position:absolute;background-color:#3C3C3C}.connection-line{position:absolute;background-color:#3C3C3C}.device-header{display:block;font-size:17px;padding-bottom:7px;padding-top:0px;min-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.device-pro{display:block;font-size:12px;padding-top:0px;min-height:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.device-pro-line{display:inline-block;font-size:12px;padding-top:5px}.device-icon{position:absolute;font-size:17px;cursor:pointer}.device-edit{bottom:0px;right:2px}.device-edit-disabled{color:#888 !important;cursor:default}.device-delete{top:2px;right:2px;font-size:17px}.device-list{right:28px;font-size:24px;bottom:2px}.device-status{position:absolute;bottom:10px;left:10px;width:10px;height:10px;border-radius:4px}\n"

/***/ }),

/***/ "./app/device/device-map/device-map.component.ts":
/*!*******************************************************!*\
  !*** ./app/device/device-map/device-map.component.ts ***!
  \*******************************************************/
/*! exports provided: DeviceMapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceMapComponent", function() { return DeviceMapComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _device_property_device_property_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../device-property/device-property.component */ "./app/device/device-property/device-property.component.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_plugin_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_services/plugin.service */ "./app/_services/plugin.service.ts");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../_models/device */ "./app/_models/device.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_services/app.service */ "./app/_services/app.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var DeviceMapComponent = /** @class */ (function () {
    function DeviceMapComponent(dialog, elementRef, appService, pluginService, projectService) {
        this.dialog = dialog;
        this.elementRef = elementRef;
        this.appService = appService;
        this.pluginService = pluginService;
        this.projectService = projectService;
        this.goto = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.flowBorder = 5;
        this.flowWidth = 160;
        this.flowHeight = 70;
        this.flowLineHeight = 60;
        this.deviceBorder = 5;
        this.deviceWidth = 160;
        this.deviceHeight = 90;
        this.deviceLineHeight = 60;
        this.lineFlowSize = 6;
        this.lineFlowHeight = 60;
        this.lineDeviceSize = 6;
        this.mainDeviceLineHeight = 60;
        this.mainWidth = 160;
        this.mainHeight = 90;
        this.mainBorder = 5;
        this.devices = {};
        this.plugins = [];
        this.devicesStatus = {};
        this.dirty = false;
        this.domArea = this.elementRef.nativeElement.parent;
    }
    DeviceMapComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.loadCurrentProject();
        this.loadAvailableType();
        this.subscriptionPluginsChange = this.pluginService.onPluginsChanged.subscribe(function (event) {
            _this.loadAvailableType();
        });
    };
    DeviceMapComponent.prototype.ngAfterViewInit = function () {
        if (this.appService.isClientApp) {
            this.mainDeviceLineHeight = 0;
            this.mainHeight = 0;
            this.flowLineHeight = 0;
            this.flowHeight = 0;
            this.lineFlowHeight = 0;
            this.deviceLineHeight = 0;
        }
    };
    DeviceMapComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionPluginsChange) {
                this.subscriptionPluginsChange.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    DeviceMapComponent.prototype.onEditDevice = function (device) {
        this.editDevice(device, false);
    };
    DeviceMapComponent.prototype.loadCurrentProject = function () {
        // take the copy of devices to save by leave
        var prj = this.projectService.getProject();
        if (prj && prj.server) {
            this.server = prj.server;
        }
        if (prj && prj.devices) {
            this.devices = prj.devices;
        }
    };
    DeviceMapComponent.prototype.checkLayout = function () {
        if (this.devices) {
            if (this.plcs().length && this.flows().length) {
            }
        }
    };
    DeviceMapComponent.prototype.loadAvailableType = function () {
        var _this = this;
        // define available device type (plugins)
        this.plugins = [];
        if (!this.appService.isClientApp && !this.appService.isDemoApp) {
            this.pluginService.getPlugins().subscribe(function (plugins) {
                Object.values(plugins).forEach(function (pg) {
                    if (pg.current.length) {
                        _this.plugins.push(pg.type);
                    }
                });
            }, function (error) {
            });
            this.plugins.push(_models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].WebAPI);
            this.plugins.push(_models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].MQTTclient);
            this.plugins.push(_models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].internal);
        }
        else {
            this.plugins.push(_models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].external);
            this.plugins.push(_models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].internal);
        }
    };
    DeviceMapComponent.prototype.addDevice = function () {
        var device = new _models_device__WEBPACK_IMPORTED_MODULE_5__["Device"](_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_5__["DEVICE_PREFIX"]));
        device.property = new _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceNetProperty"]();
        device.enabled = false;
        device.tags = {};
        this.editDevice(device, false);
    };
    DeviceMapComponent.prototype.onRemoveDevice = function (device) {
        this.editDevice(device, true);
    };
    DeviceMapComponent.prototype.removeDevice = function (device) {
        delete this.devices[device.id];
    };
    DeviceMapComponent.prototype.getWindowWidth = function () {
        if (!this.elementRef.nativeElement || !this.elementRef.nativeElement.parentElement) {
            return 0;
        }
        var result = this.elementRef.nativeElement.parentElement.clientWidth;
        if (this.devices) {
            if (result < (this.plcs().length + 2) * this.deviceWidth) {
                result = (this.plcs().length + 2) * this.deviceWidth;
            }
            if (result < (this.flows().length + 2) * this.deviceWidth) {
                result = (this.flows().length + 2) * this.deviceWidth;
            }
        }
        return result;
    };
    DeviceMapComponent.prototype.getHorizontalCenter = function () {
        return this.getWindowWidth() / 2;
    };
    DeviceMapComponent.prototype.getVerticalCenter = function () {
        if (this.devices && this.plcs().length && this.flows().length) {
            return window.innerHeight / 5 * 2;
        }
        else if (this.flows().length) {
            return window.innerHeight / 2;
        }
        else {
            return window.innerHeight / 3;
        }
    };
    DeviceMapComponent.prototype.getMainLeftPosition = function () {
        return this.getHorizontalCenter() - this.mainWidth / 2;
    };
    DeviceMapComponent.prototype.getMainTopPosition = function () {
        return this.getVerticalCenter() - this.mainHeight / 2;
    };
    DeviceMapComponent.prototype.getMainLineLeftPosition = function () {
        return this.getHorizontalCenter() - 1 + this.lineDeviceSize / 2;
    };
    DeviceMapComponent.prototype.getMainLineTopPosition = function (type) {
        if (type === void 0) { type = null; }
        if (type === 'flow') {
            return this.getVerticalCenter() + this.mainBorder - (this.lineFlowHeight + this.mainHeight / 2);
        }
        return this.getVerticalCenter() + this.mainBorder + this.mainHeight / 2;
    };
    DeviceMapComponent.prototype.getMainLineHeight = function (type) {
        if (type === void 0) { type = null; }
        if (this.devices) {
            if (type === 'flow') {
                if (this.flows().length) {
                    return this.lineFlowHeight;
                }
            }
            else {
                if (this.plcs().length) {
                    return this.mainDeviceLineHeight;
                }
            }
        }
        return 0;
    };
    DeviceMapComponent.prototype.getDeviceLeftPosition = function (index, type) {
        if (type === void 0) { type = null; }
        if (this.devices) {
            if (type === 'flow') {
                if (this.flows().length) {
                    var pos = index + 1;
                    var centerd = this.flows().length + 1;
                    var result = ((this.getWindowWidth() - this.flowWidth) / centerd) * pos;
                    return result;
                }
            }
            else {
                if (this.plcs().length) {
                    var pos = index + 1;
                    var centerd = this.plcs().length + 1;
                    var result = ((this.getWindowWidth() - this.deviceWidth) / centerd) * pos;
                    return result;
                }
            }
        }
        return 0;
    };
    DeviceMapComponent.prototype.getDeviceTopPosition = function (type) {
        if (type === void 0) { type = null; }
        if (!this.server) {
            var pos = this.elementRef.nativeElement.parentElement.clientHeight / 2;
            if (pos < 200) {
                pos = 200;
            }
            if (type === 'flow') {
                pos -= (this.mainHeight * 2);
            }
            else {
                pos += (this.mainHeight / 2);
            }
            return pos;
        }
        else if (type === 'flow') {
            return this.getDeviceLineTopPosition(type) - (this.flowHeight + this.flowBorder * 2);
        }
        else {
            return this.getVerticalCenter() + (this.mainHeight / 2 + this.deviceLineHeight + this.mainDeviceLineHeight);
        }
    };
    DeviceMapComponent.prototype.getDeviceLineLeftPosition = function (index, type) {
        if (type === void 0) { type = null; }
        if (this.devices) {
            if (type === 'flow') {
                if (this.flows().length) {
                    var pos = index + 1;
                    var centerd = this.flows().length + 1;
                    var result = ((this.getWindowWidth() - this.flowWidth) / centerd) * pos;
                    result += this.flowBorder + this.flowWidth / 2 - this.lineDeviceSize / 2;
                    return result;
                }
            }
            else {
                if (this.plcs().length) {
                    var pos = index + 1;
                    var centerd = this.plcs().length + 1;
                    var result = ((this.getWindowWidth() - this.deviceWidth) / centerd) * pos;
                    result += this.deviceBorder + this.deviceWidth / 2 - this.lineDeviceSize / 2;
                    return result;
                }
            }
        }
        return 0;
    };
    DeviceMapComponent.prototype.getDeviceLineTopPosition = function (type) {
        if (type === void 0) { type = null; }
        if (type === 'flow') {
            return this.getDeviceConnectionTopPosition(type) + this.lineFlowSize - this.flowLineHeight;
        }
        else {
            return this.getDeviceTopPosition(type) - this.deviceLineHeight;
        }
    };
    DeviceMapComponent.prototype.getDeviceConnectionLeftPosition = function (type) {
        if (type === void 0) { type = null; }
        if (type === 'flow') {
            var centerd = this.flows().length + 1;
            var result = ((this.getWindowWidth() - this.flowWidth) / centerd) * 1;
            result += this.deviceBorder + (this.flowWidth - this.lineFlowSize) / 2;
            return result;
        }
        else {
            var centerd = this.plcs().length + 1;
            var result = ((this.getWindowWidth() - this.deviceWidth) / centerd) * 1;
            result += this.deviceBorder + (this.deviceWidth - this.lineDeviceSize) / 2;
            return result;
        }
    };
    DeviceMapComponent.prototype.getDeviceConnectionTopPosition = function (type) {
        if (type === void 0) { type = null; }
        if (type === 'flow') {
            return this.getMainLineTopPosition(type) - this.lineFlowSize;
        }
        else {
            return this.getDeviceLineTopPosition();
        }
    };
    DeviceMapComponent.prototype.getDeviceConnectionWidth = function (type) {
        if (type === void 0) { type = null; }
        if (this.devices) {
            if (type === 'flow') {
                var count = this.flows().length;
                if (count) {
                    var centerd = this.flows().length + 1;
                    var result = (((this.getWindowWidth() - this.flowWidth) / centerd) * count) - (((this.getWindowWidth() - this.flowWidth) / centerd) * 1);
                    return result;
                }
            }
            else {
                var count = this.plcs().length;
                if (count) {
                    var centerd = this.plcs().length + 1;
                    var result = (((this.getWindowWidth() - this.deviceWidth) / centerd) * count) - (((this.getWindowWidth() - this.deviceWidth) / centerd) * 1);
                    return result;
                }
            }
        }
        return 0;
    };
    DeviceMapComponent.prototype.devicesValue = function (type) {
        if (type === void 0) { type = null; }
        if (this.devices) {
            if (type === 'flow') {
                if (this.flows().length) {
                    var result = this.flows();
                    return result.sort(function (a, b) { return (a.name > b.name) ? 1 : -1; });
                }
            }
            else {
                if (this.plcs().length) {
                    var result = this.plcs();
                    return result.sort(function (a, b) { return (a.name > b.name) ? 1 : -1; });
                }
            }
        }
        return [];
    };
    DeviceMapComponent.prototype.onListDevice = function (device) {
        this.goto.emit(device);
    };
    DeviceMapComponent.prototype.isDevicePropertyToShow = function (device) {
        if (device.property && device.type !== 'OPCUA') {
            return true;
        }
    };
    DeviceMapComponent.prototype.isClientDevice = function (device) {
        return (device.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].external && this.appService.isClientApp);
    };
    DeviceMapComponent.prototype.getDevicePropertyToShow = function (device) {
        var result = '';
        if (device.property) {
            if (device.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].OPCUA) {
                result = 'OPC-UA';
            }
            else if (device.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].SiemensS7) {
                result = 'Port: ';
                if (device.property.port) {
                    result += device.property.port;
                }
                result += ' / Rack: ';
                if (device.property.rack) {
                    result += device.property.rack;
                }
                result += ' / Slot: ';
                if (device.property.slot) {
                    result += device.property.slot;
                }
            }
            else if (device.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].ModbusTCP) {
                result = 'Modbus-TCP  ' + 'Slave ID: ';
                if (device.property.slaveid) {
                    result += device.property.slaveid;
                }
            }
            else if (device.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].ModbusRTU) {
                result = 'Modbus-RTU  ' + 'Slave ID: ';
                if (device.property.slaveid) {
                    result += device.property.slaveid;
                }
            }
        }
        return result;
    };
    DeviceMapComponent.prototype.getDeviceStatusColor = function (device) {
        if (this.devicesStatus[device.name]) {
            var milli = new Date().getTime();
            if (this.devicesStatus[device.name].last + 15000 < milli) {
                this.devicesStatus[device.name].status = 'connect-error';
                this.devicesStatus[device.name].last = new Date().getTime();
            }
            var st = this.devicesStatus[device.name].status;
            if (st === 'connect-ok') {
                return '#00b050';
            }
            else if (st === 'connect-error' || st === 'connect-failed') {
                return '#ff2d2d';
            }
            else if (st === 'connect-off' || st === 'connect-busy') {
                return '#ffc000';
            }
        }
    };
    DeviceMapComponent.prototype.getNodeClass = function (device) {
        if (device.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].internal) {
            return 'node-internal';
        }
        return 'node-device';
    };
    DeviceMapComponent.prototype.setDeviceStatus = function (event) {
        this.devicesStatus[event.id] = { status: event.status, last: new Date().getTime() };
    };
    DeviceMapComponent.prototype.editDevice = function (device, toremove) {
        var _this = this;
        var exist = Object.values(this.devices).filter(function (d) { return d.id !== device.id; }).map(function (d) { return d.name; });
        exist.push('server');
        var tempdevice = JSON.parse(JSON.stringify(device));
        var dialogRef = this.dialog.open(_device_property_device_property_component__WEBPACK_IMPORTED_MODULE_2__["DevicePropertyComponent"], {
            panelClass: 'dialog-property',
            data: { device: tempdevice, remove: toremove, exist: exist, availableType: this.plugins,
                projectService: this.projectService },
            position: { top: '60px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.dirty = true;
                if (toremove) {
                    _this.removeDevice(device);
                    _this.projectService.removeDevice(device);
                }
                else {
                    var olddevice = JSON.parse(JSON.stringify(device));
                    device.name = tempdevice.name;
                    device.type = tempdevice.type;
                    device.enabled = tempdevice.enabled;
                    device.polling = tempdevice.polling;
                    if (_this.appService.isClientApp || _this.appService.isDemoApp) {
                        delete device.property;
                    }
                    if (device.property && tempdevice.property) {
                        device.property.address = tempdevice.property.address;
                        device.property.port = parseInt(tempdevice.property.port);
                        device.property.slot = parseInt(tempdevice.property.slot);
                        device.property.rack = parseInt(tempdevice.property.rack);
                        device.property.slaveid = tempdevice.property.slaveid;
                        device.property.baudrate = tempdevice.property.baudrate;
                        device.property.databits = tempdevice.property.databits;
                        device.property.stopbits = tempdevice.property.stopbits;
                        device.property.parity = tempdevice.property.parity;
                        device.property.options = tempdevice.property.options;
                        device.property.method = tempdevice.property.method;
                        device.property.format = tempdevice.property.format;
                    }
                    _this.projectService.setDevice(device, olddevice, result.security);
                }
            }
            _this.checkLayout();
        });
    };
    DeviceMapComponent.prototype.plcs = function () {
        return Object.values(this.devices).filter(function (d) { return d.type !== _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].WebAPI; });
    };
    DeviceMapComponent.prototype.flows = function () {
        return Object.values(this.devices).filter(function (d) { return d.type === _models_device__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].WebAPI; });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DeviceMapComponent.prototype, "goto", void 0);
    DeviceMapComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-device-map',
            template: __webpack_require__(/*! ./device-map.component.html */ "./app/device/device-map/device-map.component.html"),
            styles: [__webpack_require__(/*! ./device-map.component.scss */ "./app/device/device-map/device-map.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
            _services_app_service__WEBPACK_IMPORTED_MODULE_7__["AppService"],
            _services_plugin_service__WEBPACK_IMPORTED_MODULE_4__["PluginService"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"]])
    ], DeviceMapComponent);
    return DeviceMapComponent;
}());



/***/ }),

/***/ "./app/device/device-property/device-property.component.css":
/*!******************************************************************!*\
  !*** ./app/device/device-property/device-property.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "::ng-deep .mat-expansion-panel-body {\r\n    padding-left: 5px !important;\r\n    padding-right: 5px !important;\r\n}\r\n\r\n.multiline {\r\n    overflow: auto;\r\n    max-height: 300px;\r\n}\r\n"

/***/ }),

/***/ "./app/device/device-property/device-property.component.html":
/*!*******************************************************************!*\
  !*** ./app/device/device-property/device-property.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 100%;position: relative;\">\r\n    <div *ngIf=\"isToRemove\" style=\"margin-top: 20px;margin-bottom: 20px;\">\r\n        {{'msg.device-remove' | translate}} '{{data.device.name}}' ?\r\n    </div>\r\n    <div *ngIf=\"!isToRemove\">\r\n        <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable *ngIf=\"!isFuxaServer\">\r\n            {{'device.property-client' | translate}}</h1>\r\n        <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable *ngIf=\"isFuxaServer\">\r\n            {{'device.property-server' | translate}}</h1>\r\n        <mat-icon (click)=\"onNoClick()\" style=\"float:right;cursor:pointer;color:gray;position: relative; top: 10px; right: 0px\">clear</mat-icon>\r\n    </div>\r\n    <div style=\"overflow-y: hidden; overflow-x: hidden; padding-top: 5px;\" *ngIf=\"!isToRemove\">\r\n        <div style=\"display: block;\">\r\n            <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                <span>{{'device.property-name' | translate}}</span>\r\n                <input [(ngModel)]=\"data.device.name\" style=\"width: 350px\" type=\"text\">\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\" *ngIf=\"!isFuxaServer\">\r\n                <span>{{'device.property-type' | translate}}</span>\r\n                <mat-select [(value)]=\"data.device.type\" (selectionChange)=\"onDeviceTypeChanged($event)\" #devicetype style=\"width: 160px\" [disabled]=\"isFuxaServer\">\r\n                    <mat-option *ngFor=\"let type of deviceType | enumToArray\" [value]=\"type.key\">\r\n                        {{ type.value }}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"display: inline-block;margin-left: 15px;\" *ngIf=\"!isFuxaServer\">\r\n                <span>{{'device.property-polling' | translate}}</span>\r\n                <mat-select [(value)]=\"data.device.polling\" style=\"width: 80px\" [disabled]=\"isFuxaServer\">\r\n                    <mat-option *ngFor=\"let polling of pollingType\" [value]=\"polling.value\">\r\n                        {{ polling.text }}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;text-align: center;width: 80px;\" *ngIf=\"!isFuxaServer\">\r\n                <span>{{'device.property-enable' | translate}}</span>\r\n                <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.device.enabled\"></mat-slide-toggle>\r\n            </div>\r\n            <div *ngIf=\"data.device.property && data.device.type\" [ngSwitch]=\"data.device.type\">\r\n                <div *ngSwitchCase=\"deviceType.OPCUA\">\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-address' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.device.property.address\" style=\"width: 350px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width: 356px\">\r\n                        <mat-expansion-panel #panelProperty class=\"my-expansion-panel\" style=\"box-shadow:none !important; background-color: #f1f3f4;border-radius: 2px;\"\r\n                            (closed)=\"onPropertyExpand(false)\" (opened)=\"onPropertyExpand(true);onCheckOpcUaServer()\">\r\n                            <mat-expansion-panel-header class=\"header\" [collapsedHeight]=\"'32px'\" [expandedHeight]=\"'32px'\"\r\n                                style=\"padding-left:5px !important;padding-right:17px !important; font-size: 13px;\">\r\n                                <mat-panel-title>\r\n                                    <span *ngIf=\"propertyExpanded\">{{'device.property-security' | translate}}</span>\r\n                                    <span *ngIf=\"!propertyExpanded\">{{'device.not-property-security' | translate}}</span>\r\n                                </mat-panel-title>\r\n                            </mat-expansion-panel-header>\r\n                            <div *ngIf=\"propertyLoading\">\r\n                                <mat-spinner style=\"margin: auto\" diameter=\"20\"></mat-spinner>\r\n                            </div>\r\n                            <div *ngIf=\"!propertyLoading\">\r\n                                <mat-radio-group [(ngModel)]=\"securityRadio\">\r\n                                    <mat-radio-button style=\"display:block;padding-left:10px;padding-bottom:2px;font-size: 13px;\" *ngFor=\"let sec of securityMode;\"\r\n                                        [value]=\"sec.value\">{{sec.text}}</mat-radio-button>\r\n                                </mat-radio-group>\r\n                                <div style=\"display: block;margin: 5px 10px 0px 10px;\">\r\n                                    <div class=\"my-form-field\">\r\n                                        <span>{{'general.username' | translate}}</span>\r\n                                        <input [(ngModel)]=\"security.username\" style=\"width: 315px;background-color:#fff\" type=\"text\">\r\n                                    </div>\r\n                                    <div class=\"my-form-field\" style=\"margin-top: 5px;\">\r\n                                        <span>{{'general.password' | translate}}</span>\r\n                                        <input autocomplete=\"off\" [type]=\"showPassword ? 'text' : 'password'\" [(ngModel)]=\"security.password\" style=\"width: 315px;background-color:#fff\">\r\n                                        <mat-icon matSuffix (click)=\"showPassword = !showPassword\" class=\"show-password\">{{showPassword ? 'visibility' : 'visibility_off'}}</mat-icon>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </mat-expansion-panel>\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"deviceType.BACnet\">\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-device-port' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.device.property.address\" style=\"width: 350px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"deviceType.SiemensS7\">\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-address' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.device.property.address\" style=\"width: 350px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                        <span>{{'device.property-port' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"data.device.property.port\" style=\"width: 80px\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                        <span>{{'device.property-rack' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"data.device.property.rack\" style=\"width: 80px\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-slot' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"data.device.property.slot\" style=\"width: 80px\" type=\"text\">\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"deviceType.ModbusRTU\">\r\n                    <div style=\"display: block;margin-bottom: 10px;\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;\">\r\n                            <span>{{'device.property-serialport' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.device.property.address\" style=\"width: 262px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-left: 15px;\">\r\n                            <span>{{'device.property-slave-id' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.device.property.slaveid\" style=\"width: 65px\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                        <span>{{'device.property-baudrate' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.property.baudrate\" style=\"width: 75px\">\r\n                            <mat-option *ngFor=\"let value of baudrateType\" [value]=\"value\">\r\n                                {{ value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                        <span>{{'device.property-databits' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.property.databits\" style=\"width: 50px\">\r\n                            <mat-option *ngFor=\"let value of databitsType\" [value]=\"value\">\r\n                                {{ value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                        <span>{{'device.property-stopbits' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.property.stopbits\" style=\"width: 50px\">\r\n                            <mat-option *ngFor=\"let value of stopbitsType\" [value]=\"value\">\r\n                                {{ value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-parity' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.property.parity\" style=\"width: 74px\">\r\n                            <mat-option *ngFor=\"let value of parityType\" [value]=\"value\">\r\n                                {{ value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px; width: 100px; text-align: center;\">\r\n                        <span>{{'device.property-tockenized' | translate}}</span>\r\n                        <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.device.property.options\"></mat-slide-toggle>\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"deviceType.ModbusTCP\">\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-address-port' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.device.property.address\" style=\"width: 262px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-left: 15px;\">\r\n                        <span>{{'device.property-slave-id' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"data.device.property.slaveid\" style=\"width: 65px\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px; width: 100px; text-align: center;\">\r\n                        <span>{{'device.property-tockenized' | translate}}</span>\r\n                        <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.device.property.options\"></mat-slide-toggle>\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"deviceType.WebAPI\">\r\n                    <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-method' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.property.method\" style=\"width: 160px\">\r\n                            <mat-option *ngFor=\"let value of methodType\" [value]=\"value\">\r\n                                {{ value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"margin-bottom: 10px; float: right;\">\r\n                        <span>{{'device.property-format' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.property.format\" style=\"width: 168px\">\r\n                            <mat-option *ngFor=\"let value of parserType\" [value]=\"value\">\r\n                                {{ value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-url' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.device.property.address\" style=\"width: 350px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width: 356px\">\r\n                        <mat-expansion-panel [disabled]=\"!data.device.property.method || !data.device.property.address\" #panelProperty class=\"my-expansion-panel\"\r\n                            style=\"box-shadow:none !important; background-color: #f1f3f4;border-radius: 2px;\" (closed)=\"onPropertyExpand(false)\"\r\n                            (opened)=\"onPropertyExpand(true);onCheckWebApi()\">\r\n                            <mat-expansion-panel-header class=\"header\" [collapsedHeight]=\"'32px'\" [expandedHeight]=\"'32px'\"\r\n                                style=\"padding-left:5px !important;padding-right:17px !important;font-size: 13px;\">\r\n                                <mat-panel-title>\r\n                                    <span *ngIf=\"propertyExpanded\">{{'device.property-webapi-result' | translate}}</span>\r\n                                    <span *ngIf=\"!propertyExpanded\">{{'device.not-webapi-result' | translate}}</span>\r\n                                </mat-panel-title>\r\n                            </mat-expansion-panel-header>\r\n                            <div *ngIf=\"propertyLoading\">\r\n                                <mat-spinner style=\"margin: auto\" diameter=\"20\"></mat-spinner>\r\n                            </div>\r\n                            <div *ngIf=\"!propertyLoading\">\r\n                                <div class=\"my-form-field multiline\" style=\"display: block;margin: 5px 5px 0px 5px;font-size: 13px;\">\r\n                                    {{result}}\r\n                                </div>\r\n                            </div>\r\n                        </mat-expansion-panel>\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"deviceType.MQTTclient\">\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.property-mqtt-address' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.device.property.address\" style=\"width: 350px\" type=\"ip\" (click)=\"onAddressChanged()\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width: 356px\">\r\n                        <mat-expansion-panel #panelProperty class=\"my-expansion-panel\" style=\"box-shadow:none !important; background-color: #f1f3f4;border-radius: 2px;\"\r\n                            (closed)=\"onPropertyExpand(false)\" (opened)=\"onPropertyExpand(true);\">\r\n                            <mat-expansion-panel-header class=\"header\" [collapsedHeight]=\"'32px'\" [expandedHeight]=\"'32px'\"\r\n                                style=\"padding-left:5px !important;padding-right:17px !important;font-size: 13px;\">\r\n                                <mat-panel-title>\r\n                                    <span *ngIf=\"propertyExpanded\">{{'device.property-security' | translate}}</span>\r\n                                    <span *ngIf=\"!propertyExpanded\">{{'device.not-property-security' | translate}}</span>\r\n                                </mat-panel-title>\r\n                            </mat-expansion-panel-header>\r\n                            <div *ngIf=\"propertyLoading\">\r\n                                <mat-spinner style=\"margin: auto\" diameter=\"20\"></mat-spinner>\r\n                            </div>\r\n                            <div *ngIf=\"!propertyLoading\">\r\n                                <div style=\"display: block;margin: 5px 10px 0px 10px;\">\r\n                                    <div class=\"my-form-field\" style=\"display: block;\">\r\n                                        <span>{{'general.clientId' | translate}}</span>\r\n                                        <input [(ngModel)]=\"security.clientId\" style=\"width: 315px;background-color:#fff\" type=\"text\">\r\n                                    </div>\r\n                                    <div class=\"my-form-field\" style=\"display: block;margin-top: 5px;\">\r\n                                        <span>{{'general.username' | translate}}</span>\r\n                                        <input [(ngModel)]=\"security.username\" style=\"width: 315px;background-color:#fff\" type=\"text\">\r\n                                    </div>\r\n                                    <div class=\"my-form-field\" style=\"display: block;margin-top: 5px;\">\r\n                                        <span>{{'general.password' | translate}}</span>\r\n                                        <input autocomplete=\"off\" [type]=\"showPassword ? 'text' : 'password'\" [(ngModel)]=\"security.password\" style=\"width: 315px;background-color:#fff\">\r\n                                        <mat-icon matSuffix (click)=\"showPassword = !showPassword\" class=\"show-password\">{{showPassword ? 'visibility' : 'visibility_off'}}</mat-icon>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </mat-expansion-panel>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" [disabled]=\"!isValid(data.device)\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' |\r\n            translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/device/device-property/device-property.component.ts":
/*!*****************************************************************!*\
  !*** ./app/device/device-property/device-property.component.ts ***!
  \*****************************************************************/
/*! exports provided: DevicePropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DevicePropertyComponent", function() { return DevicePropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../_models/device */ "./app/_models/device.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var DevicePropertyComponent = /** @class */ (function () {
    function DevicePropertyComponent(hmiService, translateService, dialogRef, data) {
        this.hmiService = hmiService;
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.data = data;
        this.deviceType = {};
        this.pollingPlcType = [{ text: '200 ms', value: 200 }, { text: '500 ms', value: 500 }, { text: '700 ms', value: 700 }, { text: '1 sec', value: 1000 },
            { text: '1.5 sec', value: 1500 }, { text: '2 sec', value: 2000 }, { text: '3 sec', value: 3000 },
            { text: '4 sec', value: 4000 }, { text: '5 sec', value: 5000 }];
        this.pollingWebApiType = [{ text: '1 sec', value: 1000 }, { text: '2 sec', value: 2000 }, { text: '3 sec', value: 3000 }, { text: '5 sec', value: 5000 },
            { text: '10 sec', value: 10000 }, { text: '30 sec', value: 30000 }, { text: '1 min', value: 60000 }, { text: '2 min', value: 60000 * 2 },
            { text: '5 min', value: 60000 * 5 }, { text: '10 min', value: 60000 * 10 }, { text: '30 min', value: 60000 * 30 }, { text: '60 min', value: 60000 * 60 }];
        this.pollingType = this.pollingPlcType;
        this.isFuxaServer = false;
        this.isToRemove = false;
        this.securityMode = [];
        this.security = new _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceSecurity"]();
        this.baudrateType = [110, 300, 600, 1200, 2400, 4800, 9600, 14400, 19200, 28800, 38400, 57600, 115200, 128000, 256000, 921600];
        this.databitsType = [7, 8];
        this.stopbitsType = [1, 1.5, 2];
        this.parityType = ['None', 'Odd', 'Even'];
        this.methodType = ['GET']; //, 'POST'];
        this.parserType = ['JSON']; //, 'CSV'];
        this.hostInterfaces = [];
        this.result = '';
        this.projectService = data.projectService;
    }
    DevicePropertyComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isToRemove = this.data.remove;
        this.isFuxaServer = (this.data.device.type && this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].FuxaServer) ? true : false;
        for (var key in _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"]) {
            if (!this.isFuxaServer && key !== _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].FuxaServer) {
                for (var idx = 0; idx < this.data.availableType.length; idx++) {
                    if (key.startsWith(this.data.availableType[idx])) {
                        this.deviceType[key] = _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"][key];
                    }
                }
            }
        }
        // set default is only one type
        if (this.data.availableType.length === 1) {
            this.data.device.type = this.data.availableType[0];
        }
        this.subscriptionDeviceProperty = this.hmiService.onDeviceProperty.subscribe(function (res) {
            if (res.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].OPCUA) {
                _this.securityMode = [];
                if (res.result) {
                    var secPol = _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"];
                    for (var idx = 0; idx < res.result.length; idx++) {
                        var sec = res.result[idx];
                        var mode = _this.securityModeToString(sec.securityMode);
                        if (sec.securityPolicy.indexOf(secPol.None) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].None.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic128Rsa15) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic128Rsa15.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic128) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic128.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic192Rsa15) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic192Rsa15.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic192) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic192.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic256Rsa15) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic256Rsa15.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic256Sha256) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic256Sha256.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Basic256) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Basic256.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Aes128_Sha256_RsaOaep) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Aes128_Sha256_RsaOaep.toString() + ' - ' + mode });
                        }
                        else if (sec.securityPolicy.indexOf(secPol.Aes256_Sha256_RsaPss) !== -1) {
                            _this.securityMode.push({ value: sec, text: _models_device__WEBPACK_IMPORTED_MODULE_4__["SecurityPolicy"].Aes256_Sha256_RsaPss.toString() + ' - ' + mode });
                        }
                        if (_this.isSecurityMode(sec)) {
                            _this.securityRadio = sec;
                        }
                    }
                }
                else if (res.error) {
                }
            }
            else if (res.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].BACnet) {
            }
            _this.propertyLoading = false;
        });
        // check security
        if (this.data.device.id && (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].OPCUA || this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].MQTTclient)) {
            this.projectService.getDeviceSecurity(this.data.device.id).subscribe(function (result) {
                _this.setSecurity(result.value);
            }, function (err) {
                console.error('get Device Security err: ' + err);
            });
        }
        if (this.data.device.property) {
            if (!this.data.device.property.baudrate) {
                this.data.device.property.baudrate = 9600;
            }
            if (!this.data.device.property.databits) {
                this.data.device.property.databits = 8;
            }
            if (!this.data.device.property.stopbits) {
                this.data.device.property.stopbits = 1;
            }
            if (!this.data.device.property.parity) {
                this.data.device.property.parity = 'None';
            }
        }
        this.subscriptionHostInterfaces = this.hmiService.onHostInterfaces.subscribe(function (res) {
            if (res.result) {
                _this.hostInterfaces = res;
            }
        });
        this.subscriptionDeviceWebApiRequest = this.hmiService.onDeviceWebApiRequest.subscribe(function (res) {
            console.log(res);
            if (res.result) {
                _this.result = JSON.stringify(res.result);
            }
            _this.propertyLoading = false;
        });
        this.onDeviceTypeChanged();
        // this.hmiService.askHostInterface();
    };
    DevicePropertyComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionDeviceProperty) {
                this.subscriptionDeviceProperty.unsubscribe();
            }
            if (this.subscriptionHostInterfaces) {
                this.subscriptionHostInterfaces.unsubscribe();
            }
            if (this.subscriptionDeviceWebApiRequest) {
                this.subscriptionDeviceWebApiRequest.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    DevicePropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DevicePropertyComponent.prototype.onOkClick = function () {
        this.data.security = this.getSecurity();
    };
    DevicePropertyComponent.prototype.onCheckOpcUaServer = function () {
        this.propertyLoading = true;
        this.hmiService.askDeviceProperty(this.data.device.property.address, this.data.device.type);
    };
    DevicePropertyComponent.prototype.onCheckWebApi = function () {
        this.propertyLoading = true;
        this.result = '';
        this.hmiService.askWebApiProperty(this.data.device.property);
    };
    // onCheckBACnetDevice() {
    // 	this.propertyLoading = true;
    // 	this.hmiService.askDeviceProperty(this.data.device.property.address, this.data.device.type);
    // }
    DevicePropertyComponent.prototype.onPropertyExpand = function (status) {
        this.propertyExpanded = status;
    };
    DevicePropertyComponent.prototype.onAddressChanged = function () {
        this.propertyLoading = false;
    };
    DevicePropertyComponent.prototype.onDeviceTypeChanged = function () {
        if (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].WebAPI) {
            this.pollingType = this.pollingWebApiType;
        }
        else {
            this.pollingType = this.pollingPlcType;
        }
    };
    DevicePropertyComponent.prototype.isValid = function (device) {
        if (!device.name || !device.type) {
            return false;
        }
        return (this.data.exist.find(function (n) { return n === device.name; })) ? false : true;
    };
    DevicePropertyComponent.prototype.isSecurityMode = function (sec) {
        if (JSON.stringify(this.mode) === JSON.stringify(sec)) {
            return true;
        }
        else {
            return false;
        }
    };
    DevicePropertyComponent.prototype.getSecurity = function () {
        if (!this.propertyExpanded || (this.data.device.type !== _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].OPCUA && this.data.device.type !== _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].MQTTclient)) {
            return null;
        }
        else {
            if (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].OPCUA) {
                if (this.securityRadio || this.security.username || this.security.password) {
                    var result = { mode: this.securityRadio, uid: this.security.username, pwd: this.security.password };
                    return result;
                }
            }
            else if (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].MQTTclient) {
                if (this.security.clientId || this.security.username || this.security.password) {
                    var result = { clientId: this.security.clientId, uid: this.security.username, pwd: this.security.password };
                    return result;
                }
            }
            return null;
        }
    };
    DevicePropertyComponent.prototype.setSecurity = function (security) {
        if (security && security !== 'null') {
            var value = JSON.parse(security);
            this.mode = value.mode;
            this.security.username = value.uid;
            this.security.password = value.pwd;
            this.security.clientId = value.clientId;
            this.security.grant_type = value.gt;
            this.panelProperty.open();
        }
    };
    DevicePropertyComponent.prototype.securityModeToString = function (mode) {
        var secMode = _models_device__WEBPACK_IMPORTED_MODULE_4__["MessageSecurityMode"];
        var result = '';
        if (mode === secMode.NONE) {
            this.translateService.get('device.security-none').subscribe(function (txt) { result = txt; });
        }
        else if (mode === secMode.SIGN) {
            this.translateService.get('device.security-sign').subscribe(function (txt) { result = txt; });
        }
        else if (mode === secMode.SIGNANDENCRYPT) {
            this.translateService.get('device.security-signandencrypt').subscribe(function (txt) { result = txt; });
        }
        return result;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatExpansionPanel"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatExpansionPanel"])
    ], DevicePropertyComponent.prototype, "panelProperty", void 0);
    DevicePropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-device-property',
            template: __webpack_require__(/*! ./device-property.component.html */ "./app/device/device-property/device-property.component.html"),
            styles: [__webpack_require__(/*! ./device-property.component.css */ "./app/device/device-property/device-property.component.css")]
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_services_hmi_service__WEBPACK_IMPORTED_MODULE_3__["HmiService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DevicePropertyComponent);
    return DevicePropertyComponent;
}());



/***/ }),

/***/ "./app/device/device.component.css":
/*!*****************************************!*\
  !*** ./app/device/device.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".header-panel {\r\n    /* z-index: 9999 !important; */\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: rgba(33,33,33,1);\r\n    /* background-color: rgba(33,33,33,0.92); */\r\n    color: rgba(255,255,255,1);\r\n    height: 40px;\r\n    width: 100%;\r\n    text-align: center;\r\n    line-height: 40px;\r\n}\r\n\r\n.device-btn {\r\n    height: 34px;\r\n    width: 34px;\r\n    min-width: unset !important;\r\n    padding:unset !important;\r\n    line-height: 34px;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    float: right;\r\n}\r\n\r\n.device-btn mat-icon {\r\n    font-size: 24px;\r\n    height: unset;\r\n    width: unset;\r\n}\r\n\r\n.work-panel {\r\n    position: absolute;\r\n    top: 40px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n    overflow: auto;\r\n}\r\n"

/***/ }),

/***/ "./app/device/device.component.html":
/*!******************************************!*\
  !*** ./app/device/device.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 100%;height: 100% !important;position: absolute;\">\r\n    <div class=\"header-panel\">\r\n        {{'device.list-title' | translate}}\r\n    </div>\r\n    <diV class=\"work-panel\">\r\n        <app-device-list [hidden]=\"showMode === 'map'\" #devicelist (goto)=\"gotoMap()\"></app-device-list>\r\n        <app-device-map [hidden]=\"showMode === 'tags'\" #devicemap (goto)=\"gotoList($event)\"></app-device-map>\r\n    </diV>\r\n</div>\r\n\r\n<button mat-fab color=\"primary\" (click)=\"addItem()\" class=\"fab-add\">\r\n    <mat-icon class=\"\">add</mat-icon>\r\n</button>"

/***/ }),

/***/ "./app/device/device.component.ts":
/*!****************************************!*\
  !*** ./app/device/device.component.ts ***!
  \****************************************/
/*! exports provided: DeviceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceComponent", function() { return DeviceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _device_list_device_list_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./device-list/device-list.component */ "./app/device/device-list/device-list.component.ts");
/* harmony import */ var _device_map_device_map_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./device-map/device-map.component */ "./app/device/device-map/device-map.component.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_services/hmi.service */ "./app/_services/hmi.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DeviceComponent = /** @class */ (function () {
    function DeviceComponent(projectService, hmiService) {
        this.projectService = projectService;
        this.hmiService = hmiService;
        this.showMode = 'map';
    }
    DeviceComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (res) {
            _this.deviceMap.loadCurrentProject();
            // this.deviceList.loadCurrentProject();
        });
        this.subscriptionDeviceChange = this.hmiService.onDeviceChanged.subscribe(function (event) {
            _this.deviceMap.setDeviceStatus(event);
        });
        this.subscriptionVariableChange = this.hmiService.onVariableChanged.subscribe(function (event) {
            _this.deviceList.updateDeviceValue();
        });
        this.subscriptionSave = this.projectService.onSaveCurrent.subscribe(function (mode) {
            if (mode === _services_project_service__WEBPACK_IMPORTED_MODULE_3__["SaveMode"].SaveAs) {
                _this.projectService.saveAs();
            }
            else if (mode === _services_project_service__WEBPACK_IMPORTED_MODULE_3__["SaveMode"].Save) {
                _this.projectService.save();
            }
        });
        this.askStatusTimer = setInterval(function () {
            _this.hmiService.askDeviceStatus();
        }, 10000);
        this.hmiService.askDeviceStatus();
    };
    DeviceComponent.prototype.ngAfterViewInit = function () {
        this.showMode = 'map';
    };
    DeviceComponent.prototype.ngOnDestroy = function () {
        // this.checkToSave();
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
            if (this.subscriptionDeviceChange) {
                this.subscriptionDeviceChange.unsubscribe();
            }
            if (this.subscriptionVariableChange) {
                this.subscriptionVariableChange.unsubscribe();
            }
            if (this.subscriptionSave) {
                this.subscriptionSave.unsubscribe();
            }
        }
        catch (e) {
        }
        try {
            clearInterval(this.askStatusTimer);
            this.askStatusTimer = null;
        }
        catch (_a) { }
    };
    DeviceComponent.prototype.show = function (mode) {
        // this.checkToSave();
        this.showMode = mode;
        if (this.showMode === 'tags') {
            this.deviceList.updateDeviceValue();
            try {
                if (Object.values(this.deviceMap.devicesValue()).length > 0) {
                    this.deviceList.setSelectedDevice(this.deviceMap.devicesValue()[0]);
                }
            }
            catch (e) {
            }
        }
    };
    DeviceComponent.prototype.gotoMap = function () {
        this.show('map');
    };
    DeviceComponent.prototype.gotoList = function (device) {
        this.show('tags');
        this.deviceList.setSelectedDevice(device);
    };
    DeviceComponent.prototype.addItem = function () {
        if (this.showMode === 'tags') {
            this.deviceList.onAddTag();
        }
        else if (this.showMode === 'map') {
            this.deviceMap.addDevice();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('devicelist'),
        __metadata("design:type", _device_list_device_list_component__WEBPACK_IMPORTED_MODULE_1__["DeviceListComponent"])
    ], DeviceComponent.prototype, "deviceList", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('devicemap'),
        __metadata("design:type", _device_map_device_map_component__WEBPACK_IMPORTED_MODULE_2__["DeviceMapComponent"])
    ], DeviceComponent.prototype, "deviceMap", void 0);
    DeviceComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-device',
            template: __webpack_require__(/*! ./device.component.html */ "./app/device/device.component.html"),
            styles: [__webpack_require__(/*! ./device.component.css */ "./app/device/device.component.css")]
        }),
        __metadata("design:paramtypes", [_services_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"],
            _services_hmi_service__WEBPACK_IMPORTED_MODULE_4__["HmiService"]])
    ], DeviceComponent);
    return DeviceComponent;
}());



/***/ }),

/***/ "./app/device/tag-property/tag-property.component.css":
/*!************************************************************!*\
  !*** ./app/device/tag-property/tag-property.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n\r\n.topic {\r\n    width: 100%;\r\n    height: 34px;\r\n}\r\n\r\n.topic-text {\r\n    width: 450px;\r\n    display: inline-block;\r\n    overflow: hidden; \r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    line-height: 30px;\r\n}\r\n\r\n.topic-value {\r\n    font-size: 12px;\r\n    color: gray;\r\n    width: 150px;\r\n    display: inline-block;\r\n    overflow-wrap: break-word;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    line-height: 30px;\r\n}\r\n\r\n.topic-check {\r\n    float: right;\r\n    margin-right: 20px;\r\n    line-height: 30px;\r\n    /* display: inline-block; */\r\n}\r\n\r\n.separator-line {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    height: 1px;\r\n    width: 100%;\r\n}"

/***/ }),

/***/ "./app/device/tag-property/tag-property.component.html":
/*!*************************************************************!*\
  !*** ./app/device/tag-property/tag-property.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 100%;position: relative;\">\r\n    <div [ngSwitch]=\"dialogType\">\r\n        <div *ngSwitchCase=\"TypeOfDialog.Standard\">\r\n            <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable>\r\n                {{'device.tag-property-title' | translate}}\r\n            </h1>\r\n            <mat-icon (click)=\"onNoClick()\" style=\"float:right;cursor:pointer;color:gray;position: relative; top: 10px; right: 0px\">clear</mat-icon>\r\n            <div style=\"max-height: 540px; overflow-y: auto; overflow-x: hidden;\">\r\n                <div style=\"display: block;\">\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.tag-property-device' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.name\" style=\"width: 350px\" [disabled]=\"true\">\r\n                            <mat-option *ngFor=\"let device of devicesValue()\" [value]=\"device.name\">\r\n                                {{ device.name }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.tag-property-name' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.tag.name\" style=\"width: 350px\" type=\"text\" (input)=\"onCheckValue($event)\">\r\n                    </div>\r\n                    <div *ngIf=\"isSiemensS7()\">\r\n                        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                            <span>{{'device.tag-property-type' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.tag.type\" style=\"width: 350px\">\r\n                                <mat-option *ngFor=\"let type of tagType | enumToArray\" [value]=\"type.key\">\r\n                                    {{ type.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                            <span>{{'device.tag-property-address' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.tag.address\" style=\"width: 350px\" type=\"text\">\r\n                        </div>\r\n                        <!-- <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                            <span>{{'device.tag-property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.tag.min\" style=\"width: 80px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                            <span>{{'device.tag-property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.tag.max\" style=\"width: 80px\" type=\"text\">\r\n                        </div> -->\r\n                    </div>\r\n                    <div *ngIf=\"isModbus()\">\r\n                        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                            <span>{{'device.tag-property-register' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.tag.memaddress\" style=\"width: 350px\" #memaddress (selectionChange)=\"checkMemAddress(data.tag.memaddress)\">\r\n                                <mat-option *ngFor=\"let type of memAddress | enumToArray\" [value]=\"type.value\">\r\n                                    {{ type.key }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>                \r\n                        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                            <span>{{'device.tag-property-type' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.tag.type\" style=\"width: 350px\" [disabled]=\"!memaddress.value || memaddress.value == '000000' || memaddress.value == '100000'\">\r\n                                <mat-option *ngFor=\"let type of tagType | enumToArray\" [value]=\"type.key\">\r\n                                    {{ type.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                            <span>{{'device.tag-property-address-offset' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.tag.address\" style=\"width: 350px\" type=\"text\" [disabled]=\"!memaddress.value\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                            <span>{{'device.tag-property-divisor' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.tag.divisor\" style=\"width: 80px\" type=\"text\">\r\n                        </div>                        \r\n                        <!-- <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                            <span>{{'device.tag-property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.tag.min\" style=\"width: 80px\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;padding-right: 10px;\">\r\n                            <span>{{'device.tag-property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"data.tag.max\" style=\"width: 80px\" type=\"text\">\r\n                        </div> -->\r\n                    </div>\r\n                    <div class=\"error\" *ngIf=\"error\">\r\n                        <span>{{error}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngSwitchCase=\"TypeOfDialog.Simple\">\r\n            <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable>\r\n                {{'device.tag-property-title' | translate}}\r\n            </h1>\r\n            <mat-icon (click)=\"onNoClick()\" style=\"float:right;cursor:pointer;color:gray;position: relative; top: 10px; right: 0px\">clear</mat-icon>\r\n            <div style=\"max-height: 540px; overflow-y: auto; overflow-x: hidden;\">\r\n                <div style=\"display: block;\">\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.tag-property-device' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.device.name\" style=\"width: 550px\" [disabled]=\"true\">\r\n                            <mat-option *ngFor=\"let device of devicesValue()\" [value]=\"device.name\">\r\n                                {{ device.name }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n                        <span>{{'device.tag-property-obj-name' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.tag.name\" style=\"width: 550px\" type=\"text\" (input)=\"onCheckValue($event)\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\" *ngIf=\"!isInternal()\">\r\n                        <span>{{'device.tag-property-path' | translate}}</span>\r\n                        <input [(ngModel)]=\"data.tag.address\" style=\"width: 550px\" type=\"text\" (input)=\"onCheckValue($event)\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"error\" *ngIf=\"error\" style=\"display: block; color: red;\">\r\n                    <span>{{error}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngSwitchCase=\"TypeOfDialog.List\" style=\"width: 670px;\">\r\n            <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable>\r\n                {{'device.browsetopics-property-title' | translate}}\r\n            </h1>\r\n            <mat-icon (click)=\"onNoClick()\" style=\"float:right;cursor:pointer;color:gray;position: relative; top: 10px; right: 0px\">clear</mat-icon>\r\n            <div style=\"display: block; margin-bottom: 10px;\">\r\n                <div class=\"my-form-field\" style=\"display:inline-block; margin-right: 10px;\">\r\n                    <span>{{'device.add-topics' | translate}}</span>\r\n                    <input [(ngModel)]=\"topicToAdd\" style=\"width: 350px\" type=\"text\">\r\n                </div>\r\n                <button mat-icon-button (click)=\"onAddTopics(topicToAdd)\" style=\"display:inline-block;\">\r\n                    <mat-icon>add</mat-icon>\r\n                </button>\r\n            </div>\r\n            <div style=\"overflow-y: auto; overflow-x: hidden; min-height: 200px; max-height: 200px;\">\r\n                <div *ngFor=\"let addtopic of topicsToAdd | keyvalue\">\r\n                    <div class=\"topic\">\r\n                        <div class=\"topic-text\">\r\n                            {{addtopic.key}}\r\n                        </div>                     \r\n                        <div (click)=\"onRemoveAddedTopics(addtopic.key)\" style=\"float: right;cursor: pointer;margin-right: 5px;\">\r\n                            <mat-icon>clear</mat-icon>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separator-line\"></div>\r\n            <div style=\"display: block; margin-bottom: 10px;margin-top: 10px\">\r\n                <div class=\"my-form-field\" style=\"display:inline-block; margin-right: 10px;\">\r\n                    <span>{{'device.discovery-topics' | translate}}</span>\r\n                    <input [(ngModel)]=\"topicSource\" style=\"width: 350px\" type=\"text\">\r\n                </div>\r\n                <button mat-icon-button (click)=\"onDiscoveryTopics(topicSource)\" style=\"display:inline-block;\" *ngIf=\"!discoveryWait\">\r\n                    <mat-icon>search</mat-icon>\r\n                </button>\r\n                <div style=\"display:inline-block; margin-left: 10px;width: 30px; vertical-align: middle;\" *ngIf=\"discoveryWait\">\r\n                    <mat-spinner diameter=\"20\"></mat-spinner>\r\n                </div>\r\n                <button mat-icon-button (click)=\"onClearDiscovery()\" style=\"display:inline-block;\">\r\n                    <mat-icon>delete_outline</mat-icon>\r\n                </button>                \r\n                <div *ngIf=\"discoveryError\" style=\"display: block; color: red;\">\r\n                    {{discoveryError}}\r\n                </div>\r\n            </div>\r\n            <div style=\"overflow-y: auto; overflow-x: hidden; min-height: 300px; max-height: 300px;\">\r\n                <div *ngFor=\"let topic of topicsList | keyvalue\">\r\n                    <div class=\"topic\">\r\n                        <div class=\"topic-text\">\r\n                            {{topic.key}}\r\n                        </div>\r\n                        <div class=\"topic-value\">\r\n                            {{topic.value.value}}\r\n                        </div>\r\n                        <div class=\"topic-check\">\r\n                            <mat-checkbox [(ngModel)]=\"topic.value.checked\" [disabled]=\"!topic.value.enabled\"></mat-checkbox>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngSwitchCase=\"TypeOfDialog.Tree\">\r\n            <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable>\r\n                {{'device.browsetag-property-title' | translate}}\r\n            </h1>\r\n            <mat-icon (click)=\"onNoClick()\" style=\"float:right;cursor:pointer;color:gray;position: relative; top: 10px; right: 0px\">clear</mat-icon>\r\n            <div style=\"overflow-y: auto; overflow-x: hidden;\">\r\n                <ngx-treetable #treetable [config]=\"config\" (expand)=\"queryNext($event)\"></ngx-treetable>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button [disabled]=\"!isValidate()\" color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/device/tag-property/tag-property.component.ts":
/*!***********************************************************!*\
  !*** ./app/device/tag-property/tag-property.component.ts ***!
  \***********************************************************/
/*! exports provided: TagPropertyComponent, EditTagDialogType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagPropertyComponent", function() { return TagPropertyComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditTagDialogType", function() { return EditTagDialogType; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../_models/device */ "./app/_models/device.ts");
/* harmony import */ var _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gui-helpers/treetable/treetable.component */ "./app/gui-helpers/treetable/treetable.component.ts");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var TagPropertyComponent = /** @class */ (function () {
    function TagPropertyComponent(hmiService, translateService, dialogRef, data) {
        var _this = this;
        this.hmiService = hmiService;
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.data = data;
        this.existing = [];
        this.TypeOfDialog = EditTagDialogType;
        this.dialogType = EditTagDialogType.Standard;
        this.config = { width: '100%', height: '600px', type: '' };
        this.memAddress = { 'Coil Status (Read/Write 000001-065536)': '000000', 'Digital Inputs (Read 100001-165536)': '100000', 'Input Registers (Read  300001-365536)': '300000', 'Holding Registers (Read/Write  400001-465535)': '400000' };
        this.topicSource = '';
        this.topicsList = {};
        this.topicsToAdd = {};
        this.discoveryError = '';
        this.discoveryWait = false;
        this.discoveryTimer = null;
        this.tagType = _models_device__WEBPACK_IMPORTED_MODULE_2__["TagType"];
        if (this.isOpcua() || this.isBACnet() || this.isWebApi()) {
            this.dialogType = EditTagDialogType.Tree;
            this.config.height = '640px';
            this.config.width = '1000px';
            this.config.type = (this.isWebApi()) ? 'todefine' : '';
        }
        else if (this.isMqtt()) {
            this.dialogType = EditTagDialogType.List;
        }
        else if (this.isExternal()) {
            this.dialogType = EditTagDialogType.Simple;
        }
        else if (this.isInternal()) {
            this.dialogType = EditTagDialogType.Simple;
        }
        else {
            if (this.isModbus()) {
                this.tagType = _models_device__WEBPACK_IMPORTED_MODULE_2__["ModbusTagType"];
            }
            this.config.height = '0px';
            Object.keys(this.data.device.tags).forEach(function (key) {
                var tag = _this.data.device.tags[key];
                if (tag.id) {
                    if (tag.id !== _this.data.tag.id) {
                        _this.existing.push(tag.name);
                    }
                }
                else if (tag.name !== _this.data.tag.name) {
                    _this.existing.push(tag.name);
                }
            });
        }
    }
    TagPropertyComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.dialogType === EditTagDialogType.Tree) {
            if (this.isOpcua() || this.isBACnet()) {
                this.subscriptionBrowse = this.hmiService.onDeviceBrowse.subscribe(function (values) {
                    if (_this.data.device.name === values.device) {
                        if (values.error) {
                            _this.addError(values.node, values.error);
                        }
                        else {
                            _this.addNodes(values.node, values.result);
                        }
                    }
                });
                this.subscriptionNodeAttribute = this.hmiService.onDeviceNodeAttribute.subscribe(function (values) {
                    if (_this.data.device.name === values.device) {
                        if (values.error) {
                            //   this.addError(values.node, values.error);
                        }
                        else if (values.node) {
                            if (values.node.attribute[14]) {
                                values.node.type = values.node.attribute[14];
                            }
                            _this.treetable.setNodeProperty(values.node, _this.attributeToString(values.node.attribute));
                        }
                    }
                });
            }
            else if (this.isWebApi()) {
                this.hmiService.onDeviceWebApiRequest.subscribe(function (res) {
                    if (res.result) {
                        _this.addTreeNodes(res.result);
                        _this.treetable.update(false);
                    }
                });
                this.hmiService.askWebApiProperty(this.data.device.property);
            }
            this.queryNext(null);
        }
        else if (this.dialogType === EditTagDialogType.List && this.isMqtt()) {
            this.subscriptionBrowse = this.hmiService.onDeviceBrowse.subscribe(function (value) {
                if (value.result === 'error') {
                    _this.discoveryError = value.result;
                }
                else if (value.topic) {
                    if (_this.topicsList[value.topic]) {
                        _this.topicsList[value.topic].value = value.msg;
                    }
                    else {
                        var checked = false;
                        var enabled = true;
                        if (_this.data.device.tags[value.topic]) {
                            checked = true;
                            enabled = false;
                        }
                        _this.topicsList[value.topic] = { name: value.topic, value: value.msg, checked: checked, enabled: enabled };
                    }
                }
            });
        }
    };
    TagPropertyComponent.prototype.ngOnDestroy = function () {
        // this.checkToSave();
        try {
            if (this.subscriptionBrowse) {
                this.subscriptionBrowse.unsubscribe();
            }
            if (this.subscriptionNodeAttribute) {
                this.subscriptionNodeAttribute.unsubscribe();
            }
            if (this.subscriptionDeviceWebApiRequest) {
                this.subscriptionDeviceWebApiRequest.unsubscribe();
            }
        }
        catch (e) {
        }
        if (this.discoveryTimer) {
            clearInterval(this.discoveryTimer);
        }
        this.discoveryTimer = null;
    };
    TagPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    TagPropertyComponent.prototype.onOkClick = function () {
        var _this = this;
        this.data.nodes = [];
        if (this.isWebApi()) {
            var result = this.getSelectedTreeNodes(Object.values(this.treetable.nodes), null);
            this.data.nodes = result;
        }
        else if (this.isMqtt()) {
            var listcheck_1 = {};
            Object.values(this.topicsList).forEach(function (topic) {
                if (topic.checked && topic.enabled) {
                    listcheck_1[topic.name] = 1;
                    var t_1 = new _models_device__WEBPACK_IMPORTED_MODULE_2__["Tag"](_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_2__["TAG_PREFIX"]));
                    t_1.name = topic.name;
                    t_1.address = topic.name;
                    _this.data.nodes.push(t_1);
                }
            });
            Object.values(this.topicsToAdd).forEach(function (topic) {
                if (!listcheck_1[topic.name]) {
                    listcheck_1[topic.name] = 1;
                    var t_2 = new _models_device__WEBPACK_IMPORTED_MODULE_2__["Tag"](_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_2__["TAG_PREFIX"]));
                    t_2.name = topic.name;
                    t_2.address = topic.name;
                    _this.data.nodes.push(t_2);
                }
            });
        }
        else if (this.isModbus()) {
        }
        else if (this.isInternal()) {
            var tags = Object.values(this.data.device.tags);
            this.error = '';
            for (var i = 0; i < tags.length; i++) {
                if (tags[i].id !== this.data.tag.id && tags[i].name === this.data.tag.name) {
                    this.error = '';
                    this.translateService.get('msg.device-tag-exist').subscribe(function (txt) { _this.error = txt; });
                    return;
                }
            }
        }
        else if (this.isExternal()) {
            var tags = Object.values(this.data.device.tags);
            this.error = '';
            for (var i = 0; i < tags.length; i++) {
                if (tags[i].id !== this.data.tag.id && tags[i].address === this.data.tag.address) {
                    this.error = '';
                    this.translateService.get('msg.device-tag-exist').subscribe(function (txt) { _this.error = txt; });
                    return;
                }
            }
            if (!this.data.tag.name) {
                this.data.tag.name = this.data.tag.address;
            }
        }
        else {
            Object.keys(this.treetable.nodes).forEach(function (key) {
                var n = _this.treetable.nodes[key];
                if (n.checked) {
                    _this.data.nodes.push(_this.treetable.nodes[key]);
                }
            });
        }
        this.dialogRef.close(this.data);
    };
    TagPropertyComponent.prototype.onCheckValue = function (tag) {
        var _this = this;
        if (this.existing.indexOf(tag.target.value) !== -1) {
            this.error = '';
            this.translateService.get('msg.device-tag-exist').subscribe(function (txt) { _this.error = txt; });
        }
        else {
            this.error = '';
        }
    };
    TagPropertyComponent.prototype.onDiscoveryTopics = function (source) {
        var _this = this;
        this.discoveryError = '';
        this.discoveryWait = true;
        this.discoveryTimer = setTimeout(function () {
            _this.discoveryWait = false;
        }, 10000);
        this.hmiService.askDeviceBrowse(this.data.device.name, source);
    };
    TagPropertyComponent.prototype.onClearDiscovery = function () {
        this.topicsList = {};
        this.discoveryError = '';
        this.discoveryWait = false;
        try {
            if (this.discoveryTimer) {
                clearInterval(this.discoveryTimer);
            }
        }
        catch (_a) { }
    };
    TagPropertyComponent.prototype.onAddTopics = function (topic) {
        if (topic && !this.topicsToAdd[topic]) {
            this.topicsToAdd[topic] = { name: topic };
        }
    };
    TagPropertyComponent.prototype.onRemoveAddedTopics = function (topic) {
        if (this.topicsToAdd[topic]) {
            delete this.topicsToAdd[topic];
        }
    };
    TagPropertyComponent.prototype.addNodes = function (parent, nodes) {
        var _this = this;
        if (nodes) {
            nodes.forEach(function (n) {
                var node = new _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["Node"](n.id, n.name);
                node.class = n.class;
                node.property = _this.getProperty(n);
                if (_this.isBACnet()) {
                    node.class = _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["Node"].strToType(n.class);
                    node.type = n.type;
                    var typetext = Object.values(_models_device__WEBPACK_IMPORTED_MODULE_2__["BACnetObjectType"])[n.type];
                    if (typetext) {
                        node.property = typetext;
                    }
                    // node.property = Object.keys(BACnetObjectType)[Object.values(BACnetObjectType).indexOf(n.type)] + '   ' + node.property;
                    // Object.keys(AlarmAckMode)[Object.values(AlarmAckMode).indexOf(AlarmAckMode.float)]
                }
                var enabled = true;
                if (_this.data.device.tags[n.id] && node.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Variable) {
                    // node allready selected
                    enabled = false;
                }
                _this.treetable.addNode(node, parent, enabled);
                if (node.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Variable && _this.data.device.type !== _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].BACnet) {
                    _this.hmiService.askNodeAttributes(_this.data.device.name, n);
                }
            });
            this.treetable.update();
        }
    };
    TagPropertyComponent.prototype.addTreeNodes = function (nodes, id, parent) {
        if (id === void 0) { id = ''; }
        if (parent === void 0) { parent = null; }
        var nodeId = id;
        var nodeName = id;
        if (parent && parent.id) {
            nodeId = parent.id + ':' + nodeId;
        }
        var node = new _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["Node"](nodeId, nodeName);
        node.parent = parent;
        if (Array.isArray(nodes)) {
            // nodeId = nodeId + '[]';
            node.class = _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Array;
            node.setToDefine();
            node.expanded = true;
            this.treetable.addNode(node, parent, true);
            var idx = 0;
            for (var n in nodes) {
                this.addTreeNodes(nodes[n], '[' + idx++ + ']', node);
            }
        }
        else if (nodes && typeof nodes === 'object') {
            // for(var n in nodes) {
            //     this.addTreeNodes(nodes[n], n, nodes);
            // }
            // let node = new Node(nodeId, nodeName);
            node.expanded = true;
            node.class = _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Object;
            this.treetable.addNode(node, parent, true);
            // console.log(`o: ${nodeId} ${nodeName}`);
            for (var n in nodes) {
                this.addTreeNodes(nodes[n], n, node);
                if (parent) {
                    parent.addToDefine(n);
                }
            }
        }
        else {
            // let node = new Node(nodeId, nodeName);
            node.expandable = false;
            node.class = _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Variable;
            node.childs = [];
            node.property = nodes;
            var enabled = true;
            if (node.parent && node.parent.parent && node.parent.parent.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Array) {
                node.class = _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Item;
                if (!node.parent.parent.todefine.id && this.data.device.tags[nodeId] && this.data.device.tags[nodeId].options) {
                    node.parent.parent.todefine.id = this.data.device.tags[nodeId].options.selid;
                    node.parent.parent.todefine.value = this.data.device.tags[nodeId].options.selval;
                }
            }
            else if (this.data.device.tags[nodeId]) {
                // console.log(`f: ${nodeId} ${nodeName}`);
                enabled = false;
            }
            this.treetable.addNode(node, parent, enabled);
        }
    };
    TagPropertyComponent.prototype.getSelectedTreeNodes = function (nodes, defined) {
        var result = [];
        for (var key in nodes) {
            var n = nodes[key];
            // console.log(`id:${n.id} (childs:${n.childs.length})`);
            if (n.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Array && n.todefine && n.todefine.id && n.todefine.value) {
                var arrayResult = this.getSelectedTreeNodes(n.childs, n.todefine);
                for (var ak in arrayResult) {
                    result.push(arrayResult[ak]);
                }
                // console.log(`id:${n.id} childs:${n.childs.length}`);
            }
            else if (n.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Object && defined && defined.id && defined.value) {
                // search defined attributes
                var childId = null, childValue = null;
                for (var childKey in n.childs) {
                    var child = n.childs[childKey];
                    if (child.text === defined.id) {
                        childId = child;
                    }
                    else if (child.text === defined.value) {
                        childValue = child;
                    }
                }
                if (childId && childValue) {
                    var objNode = new _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["Node"](childId.id, childId.property); // node array element (id: id:id, text: current id value)
                    objNode.class = _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Reference; // to check
                    objNode.property = childValue.id; // value:id
                    objNode.todefine = { selid: childId.text, selval: childValue.text };
                    objNode.type = _helpers_utils__WEBPACK_IMPORTED_MODULE_6__["Utils"].getType(childValue.property);
                    result.push(objNode);
                }
                // console.log(`id:${n.id} childs:${n.childs.length}`);
            }
            else if (n.class === _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["NodeType"].Variable && n.checked) {
                // let objNode = new Node(n.id.split('>').join(''), n.text);
                var objNode = new _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["Node"](n.id, n.text);
                objNode.type = _helpers_utils__WEBPACK_IMPORTED_MODULE_6__["Utils"].getType(n.property);
                result.push(objNode);
            }
        }
        return result;
    };
    TagPropertyComponent.prototype.getProperty = function (n) {
        if (n.class === 'Object') {
            return '';
        }
        else if (n.class === 'Variable') {
            return 'Variable';
        }
        else if (n.class === 'Method') {
            return 'Method';
        }
        return '';
    };
    TagPropertyComponent.prototype.addError = function (parent, error) {
    };
    TagPropertyComponent.prototype.devicesValue = function () {
        return Object.values(this.data.devices);
    };
    TagPropertyComponent.prototype.queryNext = function (node) {
        var n = (node) ? { id: node.id } : null;
        if (this.isBACnet() && node) {
            n['parent'] = (node.parent) ? node.parent.id : null;
        }
        this.hmiService.askDeviceBrowse(this.data.device.name, n);
    };
    TagPropertyComponent.prototype.attributeToString = function (attribute) {
        var result = '';
        if (attribute) {
            Object.values(attribute).forEach(function (x) {
                if (result.length) {
                    result += ', ';
                }
                result += x;
            });
        }
        return result;
    };
    TagPropertyComponent.prototype.isSiemensS7 = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].SiemensS7) ? true : false;
    };
    TagPropertyComponent.prototype.isModbus = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].ModbusRTU || this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].ModbusTCP) ? true : false;
    };
    TagPropertyComponent.prototype.isOpcua = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].OPCUA) ? true : false;
    };
    TagPropertyComponent.prototype.isWebApi = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].WebAPI) ? true : false;
    };
    TagPropertyComponent.prototype.isMqtt = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].MQTTclient) ? true : false;
    };
    TagPropertyComponent.prototype.isBACnet = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].BACnet) ? true : false;
    };
    TagPropertyComponent.prototype.isExternal = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].external) ? true : false;
    };
    TagPropertyComponent.prototype.isInternal = function () {
        return (this.data.device.type === _models_device__WEBPACK_IMPORTED_MODULE_2__["DeviceType"].internal) ? true : false;
    };
    TagPropertyComponent.prototype.checkMemAddress = function (memaddress) {
        if (memaddress === '000000' || memaddress === '100000') {
            this.data.tag.type = _models_device__WEBPACK_IMPORTED_MODULE_2__["ModbusTagType"].Bool;
        }
    };
    TagPropertyComponent.prototype.isValidate = function () {
        if (this.error) {
            return false;
        }
        else if (this.isOpcua() || this.isWebApi()) {
            return true;
        }
        else if (this.isMqtt()) {
            return true;
        }
        else if (this.isExternal()) {
            return (this.data.tag.address) ? true : false;
        }
        else if (this.isInternal()) {
            return (this.data.tag.name) ? true : false;
        }
        else if (this.data.tag && !this.data.tag.name) {
            return false;
        }
        else if (this.isModbus() && (!this.data.tag.address || parseInt(this.data.tag.address) <= 0)) {
            return false;
        }
        return true;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["TreetableComponent"]),
        __metadata("design:type", _gui_helpers_treetable_treetable_component__WEBPACK_IMPORTED_MODULE_3__["TreetableComponent"])
    ], TagPropertyComponent.prototype, "treetable", void 0);
    TagPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-property',
            template: __webpack_require__(/*! ./tag-property.component.html */ "./app/device/tag-property/tag-property.component.html"),
            styles: [__webpack_require__(/*! ./tag-property.component.css */ "./app/device/tag-property/tag-property.component.css")]
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_services_hmi_service__WEBPACK_IMPORTED_MODULE_4__["HmiService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], TagPropertyComponent);
    return TagPropertyComponent;
}());

var EditTagDialogType;
(function (EditTagDialogType) {
    EditTagDialogType["Standard"] = "standard";
    EditTagDialogType["Simple"] = "simple";
    EditTagDialogType["Tree"] = "tree";
    EditTagDialogType["List"] = "list";
})(EditTagDialogType || (EditTagDialogType = {}));


/***/ }),

/***/ "./app/device/topic-property/topic-property.component.css":
/*!****************************************************************!*\
  !*** ./app/device/topic-property/topic-property.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".topic {\r\n    font-size: 12px;\r\n    width: 100%;\r\n    height: 26px;\r\n    padding-left: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.topic-active {\r\n    width: 100%;\r\n    height: 26px;\r\n    background-color: violet;\r\n}\r\n\r\n.topic-text {\r\n    width: 450px;\r\n    display: inline-block;\r\n    overflow: hidden; \r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    line-height: 26px;\r\n}\r\n\r\n.topic-value {\r\n    font-size: 12px;\r\n    color: gray;\r\n    width: 150px;\r\n    display: inline-block;\r\n    overflow-wrap: break-word;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    line-height: 26px;\r\n}\r\n\r\n.topic-check {\r\n    float: right;\r\n    margin-right: 20px;\r\n    line-height: 26px;\r\n    /* display: inline-block; */\r\n}\r\n\r\n.separator-line {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    height: 1px;\r\n    width: 100%;\r\n}\r\n\r\n::ng-deep .mytoogle .mat-button-toggle-label-content {\r\n    line-height: 28px;\r\n}"

/***/ }),

/***/ "./app/device/topic-property/topic-property.component.html":
/*!*****************************************************************!*\
  !*** ./app/device/topic-property/topic-property.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 100%;position: relative;\">\n    <div style=\"width: 700px;\">\n        <h1 mat-dialog-title style=\"display:inline-block; cursor:move; padding-top: 15px\" mat-dialog-draggable>\n            {{'device.browsetopics-property-title' | translate}}\n        </h1>\n        <mat-icon (click)=\"onNoClick()\" style=\"float:right;cursor:pointer;color:gray;position: relative; top: 10px; right: 0px\">clear</mat-icon>\n        <mat-tab-group style=\"width: 100%; height: 100%\">\n            <mat-tab label=\"{{'device.browsetopics-property-sub' | translate}}\">\n                <div style=\"display: block; margin-bottom: 10px;margin-top: 10px\">\n                    <div class=\"my-form-field\" style=\"display:inline-block; margin-right: 10px;\">\n                        <span>{{'device.discovery-topics' | translate}}</span>\n                        <input [(ngModel)]=\"topicSource\" style=\"width: 400px\" type=\"text\">\n                    </div>\n                    <button mat-icon-button (click)=\"onDiscoveryTopics(topicSource)\" style=\"display:inline-block;\" *ngIf=\"!discoveryWait\">\n                        <mat-icon>search</mat-icon>\n                    </button>\n                    <div style=\"display:inline-block; margin-left: 10px;width: 30px; vertical-align: middle;\" *ngIf=\"discoveryWait\">\n                        <mat-spinner diameter=\"20\"></mat-spinner>\n                    </div>\n                    <button mat-icon-button (click)=\"onClearDiscovery()\" style=\"display:inline-block;\">\n                        <mat-icon>delete_outline</mat-icon>\n                    </button>\n                    <div *ngIf=\"discoveryError\" style=\"display: block; color: red;\">\n                        {{discoveryError}}\n                    </div>\n                </div>\n                <div style=\"overflow-y: auto; overflow-x: hidden; height: 300px;\">\n                    <div *ngFor=\"let topic of topicsList | keyvalue\">\n                        <div class=\"topic\" (click)=\"selectTopic(topic);\" [ngClass]=\"{'topic-active': isTopicSelected(topic)}\">\n                            <div class=\"topic-text\">\n                                {{topic.key}}\n                            </div>\n                            <div class=\"topic-value\">\n                                {{topic.value.value}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"separator-line\"></div>\n                <div style=\"margin-top: 5px; display: block;\">\n                    <div class=\"my-form-field\" style=\"display:inline-block; margin-right: 10px;\">\n                        <span>{{'device.topic-selected' | translate}}</span>\n                        <input [(ngModel)]=\"selectedTopic.key\" class=\"my-form-readonly-input\" style=\"width: 400px;\" type=\"text\" [readonly]=\"true\">\n                    </div>\n                    <mat-button-toggle-group [(ngModel)]=\"topicSelectedType\" (change)=\"onSubTopicValChange($event.value)\">\n                        <mat-button-toggle class=\"mytoogle\" value=\"raw\">{{'device.topic-raw' | translate}}</mat-button-toggle>\n                        <mat-button-toggle class=\"mytoogle\" value=\"json\">{{'device.topic-json' | translate}}</mat-button-toggle>\n                    </mat-button-toggle-group>\n                    <button style=\"margin-left: 20px\" mat-raised-button (click)=\"onAddToSubscribe()\" [disabled]=\"!isSubscriptionValid()\" color=\"primary\">{{'general.subscribe' | translate}}</button>\n                </div>\n                <div style=\"overflow-y: auto; overflow-x: hidden; height: 160px; width: 100%; padding-top: 12px;\">\n                    <div *ngFor=\"let tcontent of topicContent\">\n                        <div class=\"topic\">\n                            <div class=\"topic-text\">\n                                {{tcontent.key}}\n                            </div>\n                            <div class=\"topic-value\">\n                                {{tcontent.value}}\n                            </div>\n                            <div class=\"topic-check\">\n                                <mat-checkbox [(ngModel)]=\"tcontent.checked\" value=\"true\"></mat-checkbox>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </mat-tab>\n            <mat-tab label=\"{{'device.browsetopics-property-pub' | translate}}\">\n                <div style=\"display: block; margin-bottom: 10px;\">\n                    <div class=\"my-form-field\" style=\"display:inline-block; margin-right: 10px;\">\n                        <span>{{'device.add-topics' | translate}}</span>\n                        <input [(ngModel)]=\"topicToAdd\" style=\"width: 350px\" type=\"text\">\n                    </div>\n                    <button mat-icon-button (click)=\"onAddTopics(topicToAdd)\" style=\"display:inline-block;\">\n                        <mat-icon>add</mat-icon>\n                    </button>\n                </div>\n                <div style=\"overflow-y: auto; overflow-x: hidden; min-height: 200px; max-height: 200px;\">\n                    <div *ngFor=\"let addtopic of topicsToAdd | keyvalue\">\n                        <div class=\"topic\">\n                            <div class=\"topic-text\">\n                                {{addtopic.key}}\n                            </div>\n                            <div (click)=\"onRemoveAddedTopics(addtopic.key)\" style=\"float: right;cursor: pointer;margin-right: 5px;\">\n                                <mat-icon>clear</mat-icon>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </mat-tab>\n        </mat-tab-group>\n    </div>\n    <div mat-dialog-actions class=\"dialog-action\">\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.close' | translate}}</button>\n    </div>\n</div>"

/***/ }),

/***/ "./app/device/topic-property/topic-property.component.ts":
/*!***************************************************************!*\
  !*** ./app/device/topic-property/topic-property.component.ts ***!
  \***************************************************************/
/*! exports provided: TopicPropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopicPropertyComponent", function() { return TopicPropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_models/device */ "./app/_models/device.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var TopicPropertyComponent = /** @class */ (function () {
    function TopicPropertyComponent(hmiService, translateService, dialogRef, data) {
        this.hmiService = hmiService;
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.data = data;
        this.topicSource = '#';
        this.topicsList = {};
        this.topicContent = [];
        this.topicSelectedType = 'raw';
        this.discoveryError = '';
        this.discoveryWait = false;
        this.discoveryTimer = null;
        this.selectedTopic = { key: '', value: null };
        this.invokeSubscribe = null;
    }
    TopicPropertyComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptionBrowse = this.hmiService.onDeviceBrowse.subscribe(function (value) {
            if (value.result === 'error') {
                _this.discoveryError = value.result;
            }
            else if (value.topic) {
                if (_this.topicsList[value.topic]) {
                    _this.topicsList[value.topic].value = value.msg;
                }
                else {
                    var checked = false;
                    var enabled = true;
                    if (_this.data.device.tags[value.topic]) {
                        checked = true;
                        enabled = false;
                    }
                    _this.topicsList[value.topic] = { name: value.topic, value: value.msg, checked: checked, enabled: enabled };
                }
            }
        });
    };
    TopicPropertyComponent.prototype.ngOnDestroy = function () {
        // this.checkToSave();
        try {
            if (this.subscriptionBrowse) {
                this.subscriptionBrowse.unsubscribe();
            }
        }
        catch (e) {
        }
        if (this.discoveryTimer) {
            clearInterval(this.discoveryTimer);
        }
        this.discoveryTimer = null;
    };
    TopicPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    TopicPropertyComponent.prototype.onDiscoveryTopics = function (source) {
        var _this = this;
        this.discoveryError = '';
        this.discoveryWait = true;
        this.discoveryTimer = setTimeout(function () {
            _this.discoveryWait = false;
        }, 10000);
        this.hmiService.askDeviceBrowse(this.data.device.name, source);
    };
    TopicPropertyComponent.prototype.onClearDiscovery = function () {
        this.topicsList = {};
        this.discoveryError = '';
        this.discoveryWait = false;
        try {
            if (this.discoveryTimer) {
                clearInterval(this.discoveryTimer);
            }
        }
        catch (_a) { }
    };
    TopicPropertyComponent.prototype.selectTopic = function (topic) {
        this.selectedTopic = topic;
        this.loadSelectedTopic();
    };
    TopicPropertyComponent.prototype.loadSelectedTopic = function () {
        var _this = this;
        this.topicContent = [];
        if (this.topicSelectedType === 'json') {
            var obj_1 = JSON.parse(this.selectedTopic.value.value);
            Object.keys(obj_1).forEach(function (key) {
                _this.topicContent.push({ key: key, value: obj_1[key], checked: true, type: _this.topicSelectedType });
            });
        }
        else {
            this.topicContent = [{ key: this.selectedTopic.key, value: this.selectedTopic.value.value, checked: true, type: this.topicSelectedType }];
        }
    };
    TopicPropertyComponent.prototype.onSubTopicValChange = function (topicSelType) {
        this.loadSelectedTopic();
    };
    TopicPropertyComponent.prototype.isTopicSelected = function (topic) {
        return (this.selectedTopic === topic.key) ? true : false;
    };
    TopicPropertyComponent.prototype.isSubscriptionValid = function () {
        return (this.topicContent && this.topicContent.length) ? true : false;
    };
    TopicPropertyComponent.prototype.onAddToSubscribe = function () {
        var _this = this;
        if (this.topicContent && this.topicContent.length && this.invokeSubscribe) {
            var topics = this.topicContent.filter(function (t) { return t.checked; });
            var tags = topics.map(function (t) {
                var tag = new _models_device__WEBPACK_IMPORTED_MODULE_5__["Tag"](_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getGUID(_models_device__WEBPACK_IMPORTED_MODULE_5__["TAG_PREFIX"]));
                tag.name = t.key;
                tag.type = t.type;
                tag.address = _this.selectedTopic.key;
                return tag;
            });
            this.invokeSubscribe(tags);
        }
    };
    TopicPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-topic-property',
            template: __webpack_require__(/*! ./topic-property.component.html */ "./app/device/topic-property/topic-property.component.html"),
            styles: [__webpack_require__(/*! ./topic-property.component.css */ "./app/device/topic-property/topic-property.component.css")]
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_services_hmi_service__WEBPACK_IMPORTED_MODULE_2__["HmiService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], TopicPropertyComponent);
    return TopicPropertyComponent;
}());



/***/ }),

/***/ "./app/editor/app-settings/app-settings.component.css":
/*!************************************************************!*\
  !*** ./app/editor/app-settings/app-settings.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n::ng-deep .mat-tab-label {\r\n    height: 34px !important;\r\n}"

/***/ }),

/***/ "./app/editor/app-settings/app-settings.component.html":
/*!*************************************************************!*\
  !*** ./app/editor/app-settings/app-settings.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.app-settings-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;color:gray;cursor:pointer;\">clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <mat-tab-group style=\"height: 500px; width: 620px;\">\r\n            <mat-tab label=\"{{'dlg.app-settings-system' | translate}}\">\r\n                <div style=\"width: 420px; margin-top: 20px;\">\r\n                    <div style=\"display: block; margin-top: 10px\">\r\n                        <div class=\"my-form-field\">\r\n                            <span>{{'dlg.app-settings-language' | translate}}</span>\r\n                            <mat-select [(value)]=\"settings.language\" style=\"width: 320px\" (selectionChange)=\"onLanguageChange($event.value)\">\r\n                                <mat-option *ngFor=\"let language of languageType\" [value]=\"language.value\">\r\n                                    {{ language.text }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block; margin-top: 20px\">\r\n                        <div class=\"my-form-field\">\r\n                            <span>{{'dlg.app-settings-server-port' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"settings.uiPort\" style=\"width: 320px\" type=\"text\" disabled=\"true\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: block; margin-top: 20px\">\r\n                        <div class=\"my-form-field\">\r\n                            <span style=\"display: inline-block;\">{{'dlg.app-settings-auth-token' | translate}}</span>\r\n                            <mat-icon class=\"my-form-field-info\" style=\"display: block;\" matTooltip=\"{{authenticationTooltip}}\">info</mat-icon>\r\n                            <mat-select [(value)]=\"authentication\" style=\"width: 320px\">\r\n                                <mat-option *ngFor=\"let auth of authType\" [value]=\"auth.value\">\r\n                                    {{ auth.text }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </mat-tab>\r\n        </mat-tab-group>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/app-settings/app-settings.component.ts":
/*!***********************************************************!*\
  !*** ./app/editor/app-settings/app-settings.component.ts ***!
  \***********************************************************/
/*! exports provided: AppSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppSettingsComponent", function() { return AppSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_services/settings.service */ "./app/_services/settings.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _models_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_models/settings */ "./app/_models/settings.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AppSettingsComponent = /** @class */ (function () {
    function AppSettingsComponent(settingsService, translateService, dialogRef) {
        this.settingsService = settingsService;
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.languageType = [{ text: 'dlg.app-language-en', value: 'en' }, { text: 'dlg.app-language-ru', value: 'ru' },
            { text: 'dlg.app-language-ua', value: 'ua' }, { text: 'dlg.app-language-zh-cn', value: 'zh-cn' },
            { text: 'dlg.app-language-pt', value: 'pt' }, { text: 'dlg.app-language-tr', value: 'tr' }];
        this.authType = [{ text: 'dlg.app-auth-disabled', value: '' }, { text: 'dlg.app-auth-expiration-15m', value: '15m' },
            { text: 'dlg.app-auth-expiration-1h', value: '1h' }, { text: 'dlg.app-auth-expiration-3h', value: '3h' },
            { text: 'dlg.app-auth-expiration-1d', value: '1d' }];
        this.settings = new _models_settings__WEBPACK_IMPORTED_MODULE_4__["AppSettings"]();
        this.authentication = '';
        this.authenticationTooltip = '';
    }
    AppSettingsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.settings = JSON.parse(JSON.stringify(this.settingsService.getSettings()));
        var _loop_1 = function (i) {
            this_1.translateService.get(this_1.languageType[i].text).subscribe(function (txt) { _this.languageType[i].text = txt; });
        };
        var this_1 = this;
        for (var i = 0; i < this.languageType.length; i++) {
            _loop_1(i);
        }
        var _loop_2 = function (i) {
            this_2.translateService.get(this_2.authType[i].text).subscribe(function (txt) { _this.authType[i].text = txt; });
        };
        var this_2 = this;
        for (var i = 0; i < this.authType.length; i++) {
            _loop_2(i);
        }
        this.translateService.get('dlg.app-auth-tooltip').subscribe(function (txt) { _this.authenticationTooltip = txt; });
        if (this.settings.secureEnabled) {
            this.authentication = this.settings.tokenExpiresIn;
        }
    };
    AppSettingsComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    AppSettingsComponent.prototype.onOkClick = function () {
        this.settings.secureEnabled = (this.authentication) ? true : false;
        this.settings.tokenExpiresIn = this.authentication;
        if (this.settingsService.setSettings(this.settings)) {
            this.settingsService.saveSettings();
        }
        this.dialogRef.close();
    };
    AppSettingsComponent.prototype.onLanguageChange = function (language) {
        this.settings.language = language;
    };
    AppSettingsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-app-settings',
            template: __webpack_require__(/*! ./app-settings.component.html */ "./app/editor/app-settings/app-settings.component.html"),
            styles: [__webpack_require__(/*! ./app-settings.component.css */ "./app/editor/app-settings/app-settings.component.css")]
        }),
        __metadata("design:paramtypes", [_services_settings_service__WEBPACK_IMPORTED_MODULE_2__["SettingsService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]])
    ], AppSettingsComponent);
    return AppSettingsComponent;
}());



/***/ }),

/***/ "./app/editor/card-config/card-config.component.css":
/*!**********************************************************!*\
  !*** ./app/editor/card-config/card-config.component.css ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/editor/card-config/card-config.component.html":
/*!***********************************************************!*\
  !*** ./app/editor/card-config/card-config.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'card.config-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" class=\"dialog-close-btn\" cdkFocusInitial>clear</mat-icon>\r\n    <div mat-dialog-content  style=\"width: 700px; height: 500px\">\r\n        <div class=\"my-form-field\" style=\"margin-bottom: 10px;\">\r\n            <span>{{'card.config-content-type' | translate}}</span>\r\n            <mat-select [(value)]=\"card.type\" style=\"width: 320px;\">\r\n                <mat-option *ngFor=\"let type of cardType | enumToArray\" [value]=\"type.key\">\r\n                    {{ type.value }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field\" *ngIf=\"card.type === widgetView\" style=\"float: right; margin-bottom: 10px;\">\r\n            <span>{{'card.config-content-view' | translate}}</span>\r\n            <mat-select [(value)]=\"card.data\" style=\"width: 320px;\">\r\n                <mat-option *ngFor=\"let view of data.views\" [value]=\"view\">\r\n                    {{ view }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div [ngSwitch]=\"card.type\">\r\n            <div *ngSwitchCase=\"widgetView\">\r\n            </div>\r\n            <div *ngSwitchCase=\"widgetAlarms\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/card-config/card-config.component.ts":
/*!*********************************************************!*\
  !*** ./app/editor/card-config/card-config.component.ts ***!
  \*********************************************************/
/*! exports provided: CardConfigComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardConfigComponent", function() { return CardConfigComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var CardConfigComponent = /** @class */ (function () {
    function CardConfigComponent(translateService, dialogRef, data) {
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.data = data;
        this.widgetView = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"].view);
        this.widgetAlarms = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"].alarms);
        this.widgetTable = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"], _models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"].table);
        this.card = this.data.item.card;
    }
    CardConfigComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.cardType = _models_hmi__WEBPACK_IMPORTED_MODULE_3__["CardWidgetType"];
        Object.keys(this.cardType).forEach(function (key) {
            _this.translateService.get(_this.cardType[key]).subscribe(function (txt) { _this.cardType[key] = txt; });
        });
    };
    CardConfigComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    CardConfigComponent.prototype.onOkClick = function () {
        this.dialogRef.close(this.card);
    };
    CardConfigComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-card-config',
            template: __webpack_require__(/*! ./card-config.component.html */ "./app/editor/card-config/card-config.component.html"),
            styles: [__webpack_require__(/*! ./card-config.component.css */ "./app/editor/card-config/card-config.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], CardConfigComponent);
    return CardConfigComponent;
}());



/***/ }),

/***/ "./app/editor/chart-config/chart-config.component.css":
/*!************************************************************!*\
  !*** ./app/editor/chart-config/chart-config.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.panelTop {\r\n    display: block;\r\n    width: 100%;\r\n    height: 480px;\r\n}\r\n\r\n.panelTop .chart-list, .device-list, .tag-list {\r\n    height: 480px;\r\n}\r\n\r\n.panelBottom {\r\n    display: block;\r\n    width: 100%;\r\n    height: 160px;\r\n}\r\n\r\n.list {\r\n    width: 100% !important; \r\n    height: 100% !important; \r\n    font-size: 16px !important; \r\n    padding-top: 0px !important;\r\n}\r\n\r\n.list > span  {\r\n    padding-left: 10px;\r\n}\r\n\r\n.list mat-list-option  {\r\n    padding-left: 10px;\r\n}\r\n\r\n.chart-list {\r\n    overflow-y: auto;\r\n}\r\n\r\n.list-item {\r\n    display: block;\r\n    font-size: 14px;\r\n    height: 26px !important;\r\n    cursor: pointer;\r\n    overflow: hidden;\r\n    padding-left: 10px;\r\n}\r\n\r\n.list-item mat-icon {\r\n    font-size: 20px;\r\n}\r\n\r\n.list-item span {\r\n    width: calc(100% - 26px);\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n\r\n.list-item-text {\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n\r\n.list-item-hover:hover {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.list-item-selected {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.list-header {\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    color: #ffffff;\r\n    line-height: 26px;\r\n}\r\n\r\n.device-list {\r\n    margin-right: 2px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.tag-list {\r\n    margin-right: 2px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.color-line {\r\n    width: 30px;\r\n    border: unset;\r\n    border: 1px solid rgba(0,0,0,0.1);\r\n    border-radius: 2px;\r\n    opacity: 1;\r\n    background-color: #f1f3f4;\r\n}\r\n\r\n.color-field input {\r\n    padding: 0 !important;\r\n    height: 29px;\r\n}"

/***/ }),

/***/ "./app/editor/chart-config/chart-config.component.html":
/*!*************************************************************!*\
  !*** ./app/editor/chart-config/chart-config.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 1150px;\" class=\"dialog-mdsd-vh\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor: move\" mat-dialog-draggable>{{'chart.config-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div style=\"display: inline-block; width: 100%\">\r\n        <div class=\"panelTop\">\r\n            <mat-grid-list cols=\"3\" rowHeight=\"100%\">\r\n                <mat-grid-tile class=\"chart-list\">\r\n                    <mat-list class=\"list\" >\r\n                        <mat-list-item class=\"list-item list-header\">\r\n                            <span>{{'chart.config-charts' | translate}}</span>\r\n                            <mat-icon style=\"position: absolute; right: 10px;cursor:pointer;color:rgba(255, 255, 255, 0.9);\" (click)=\"editChart(null)\">add</mat-icon>\r\n                        </mat-list-item>\r\n                        <mat-list-item *ngFor=\"let chart of data.charts\" matTooltip=\"{{chart.name}}\" class=\"list-item list-item-text\" [ngClass]=\"isChartSelected(chart)\" (click)=\"selectedChart = chart;loadChartConfig();\">\r\n                            <span>{{chart.name}}</span>\r\n                            <mat-icon [matMenuTriggerFor]=\"configMenu\" style=\"position: absolute; right: 10px;cursor:pointer;color:gray;\">more_vert</mat-icon>\r\n                            <mat-menu #configMenu [overlapTrigger]=\"false\" style=\"color:#000000\">\r\n                                <button mat-menu-item (click)=\"editChart(chart)\" style=\"color:#000000;font-size: 14px;\">{{'chart.config-rename' | translate}}</button>\r\n                                <button mat-menu-item (click)=\"deleteChart(chart)\" style=\"color:#000000;font-size: 14px;\">{{'chart.config-delete' | translate}}</button>\r\n                            </mat-menu>\r\n                        </mat-list-item>\r\n                    </mat-list>\r\n                </mat-grid-tile>\r\n                <mat-grid-tile class=\"device-list\">\r\n                    <mat-list class=\"list\">\r\n                        <mat-list-item class=\"list-item list-header\">\r\n                            <span>{{'chart.config-devices' | translate}}</span>\r\n                        </mat-list-item>\r\n                        <mat-list-item *ngFor=\"let device of data.devices;\" matTooltip=\"{{device.name}}\" class=\"list-item list-item-text\" [ngClass]=\"isDeviceSelected(device)\" (click)=\"selectDevice(device);\">\r\n                            <span>{{device.name}}</span>\r\n                        </mat-list-item>\r\n                    </mat-list>\r\n                </mat-grid-tile>\r\n                <mat-grid-tile class=\"tag-list\">\r\n                    <mat-list class=\"list\">\r\n                        <mat-list-item class=\"list-item list-header\">\r\n                            <span>{{'chart.config-tags' | translate}}</span>\r\n                        </mat-list-item>\r\n                        <mat-selection-list #selTags [(ngModel)]=\"selectedTags\" [disabled]=\"(selectedChart.id)?false:true\" (selectionChange)=\"tagSelectionChanged($event)\" style=\"padding-top: 0px;\">\r\n                            <mat-list-option *ngFor=\"let tag of selectedDevice.tags\" matTooltip=\"{{getTagLabel(tag)}}\" [selected]=\"tag.selected\" [value]=\"tag\" class=\"list-item list-item-text\" checkboxPosition=\"before\">\r\n                                {{getTagLabel(tag)}}\r\n                            </mat-list-option>\r\n                        </mat-selection-list>\r\n                    </mat-list>\r\n                </mat-grid-tile>\r\n            </mat-grid-list>\r\n        </div>\r\n        <div class=\"panelBottom\">\r\n            <mat-list class=\"list\">\r\n                <mat-list-item class=\"list-item list-header\">\r\n                    <span style=\"width: 30%;max-width: 30%;\">{{'chart.config-line-name' | translate}}</span>\r\n                    <span style=\"width: 25%;max-width: 25%;\">{{'chart.config-line-label' | translate}}</span>\r\n                    <span style=\"width: 25%;max-width: 25%;\">{{'chart.config-devices' | translate}}</span>\r\n                    <span style=\"width: 10%;max-width: 10%;\">{{'chart.config-line-yaxis' | translate}}</span>\r\n                </mat-list-item>\r\n                <div style=\"height: calc(100% - 36px); overflow-y: auto\">\r\n                    <mat-list-item *ngFor=\"let line of selectedChart.lines\" class=\"list-item list-item-hover\" (click)=\"editChartLine(line)\">\r\n                        <mat-icon (click)=\"$event.stopPropagation();removeChartLine(line)\" style=\"color:gray;font-size: 20px\">delete</mat-icon>\r\n                        <div class=\"list-item-text\" style=\"width: 30%;max-width: 30%;\">\r\n                            <span>{{getDeviceTagName(line)}}</span>\r\n                        </div>\r\n                        <div class=\"list-item-text\" style=\"width: 25%;max-width: 25%;\">\r\n                            <span>{{line.label}}</span>\r\n                        </div>                        \r\n                        <div class=\"list-item-text\" style=\"width: 25%;max-width: 25%;\">\r\n                            <span>{{line.device}}</span>\r\n                        </div>\r\n                        <div class=\"list-item-text\" style=\"width: 10%;max-width: 10%;\">\r\n                            <span>{{line.yaxis}}</span>\r\n                        </div>                        \r\n                        <div [style.background-color]=\"line.color\" style=\"height:20px; width:30px\"></div>\r\n                    </mat-list-item>\r\n                </div>\r\n            </mat-list>\r\n        </div>\r\n    </div>\r\n\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./app/editor/chart-config/chart-config.component.ts":
/*!***********************************************************!*\
  !*** ./app/editor/chart-config/chart-config.component.ts ***!
  \***********************************************************/
/*! exports provided: ChartConfigComponent, DialogListItem, DialogChartLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartConfigComponent", function() { return ChartConfigComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogListItem", function() { return DialogListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogChartLine", function() { return DialogChartLine; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var ChartConfigComponent = /** @class */ (function () {
    function ChartConfigComponent(dialog, dialogRef, param) {
        var _this = this;
        this.dialog = dialog;
        this.dialogRef = dialogRef;
        this.param = param;
        this.selectedChart = { id: null, name: null, lines: [] };
        this.selectedDevice = { id: null, name: null, tags: [] };
        this.selectedTags = [];
        this.data = { charts: [], devices: [] };
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].defaultColor;
        this.lineColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].lineColor;
        this.data.charts = param.charts;
        Object.values(param.devices).forEach(function (device) {
            var devicobj = Object.assign({}, device);
            devicobj.tags = Object.values(device.tags);
            _this.data.devices.push(devicobj);
        });
    }
    ChartConfigComponent.prototype.ngOnInit = function () {
    };
    ChartConfigComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    ChartConfigComponent.prototype.onOkClick = function () {
        this.dialogRef.close({ charts: this.data.charts });
    };
    ChartConfigComponent.prototype.editChart = function (chart) {
        var _this = this;
        var dialogRef = this.dialog.open(DialogListItem, {
            position: { top: '60px' },
            data: { name: (chart) ? chart.name : '' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result.name && result.name.length > 0) {
                // this.dirty = true;
                if (chart) {
                    chart.name = result.name;
                }
                else {
                    _this.data.charts.push({ id: _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].getShortGUID(), name: result.name, lines: [] });
                }
            }
        });
    };
    ChartConfigComponent.prototype.deleteChart = function (chart) {
        var found = -1;
        for (var i = 0; i < this.data.charts.length; i++) {
            if (chart.id === this.data.charts[i].id) {
                found = i;
            }
        }
        if (found >= 0) {
            this.data.charts.splice(found, 1);
            this.selectedChart = { id: null, name: null, lines: [] };
        }
    };
    ChartConfigComponent.prototype.selectDevice = function (device) {
        this.selectedDevice = JSON.parse(JSON.stringify(device));
        this.loadDeviceConfig();
    };
    ChartConfigComponent.prototype.loadChartConfig = function () {
        this.selectedDevice = { id: null, name: null, tags: [] };
        this.loadDeviceConfig();
    };
    ChartConfigComponent.prototype.loadDeviceConfig = function () {
        var _this = this;
        if (this.selectedChart && this.selectedChart.lines && this.selectedDevice && this.selectedDevice.name) {
            this.selectedDevice.tags.forEach(function (tag) {
                tag.selected = false;
                _this.selectedChart.lines.forEach(function (line) {
                    if (line.device === _this.selectedDevice.name && line.id === tag.id) {
                        tag.selected = true;
                    }
                });
            });
        }
    };
    /**
     * add or remove the selected device tags to the selected chart in char-line list
     * @param chart
     * @param device
     * @param tags
     */
    ChartConfigComponent.prototype.checkChartTags = function (chart, device, tags) {
        if (chart && chart.id) {
            var toremove = [];
            // check to remove
            if (chart.lines) {
                for (var i = 0; i < chart.lines.length; i++) {
                    if (chart.lines[i].device === device.name) {
                        var found = -1;
                        for (var x = 0; x < tags.length; x++) {
                            if (chart.lines[i].id === tags[x].id) {
                                found = i;
                                break;
                            }
                        }
                        if (found < 0) {
                            toremove.push(i);
                        }
                        // if (tags.map(x => x.id).indexOf(chart.lines[i].id) === -1) {
                        //     toremove.push(i);
                        // }
                    }
                }
            }
            // remove
            for (var i = 0; i < toremove.length; i++) {
                chart.lines.splice(toremove[i], 1);
            }
            // add if not exist
            for (var x = 0; x < tags.length; x++) {
                var found = false;
                if (chart.lines) {
                    for (var i = 0; i < chart.lines.length; i++) {
                        if (chart.lines[i].device === device.name && chart.lines[i].id === tags[x].id) {
                            found = true;
                        }
                    }
                }
                if (!found) {
                    var myCopiedObject = { id: tags[x].id, name: this.getTagLabel(tags[x]), device: device.name, color: this.getNextColor(),
                        label: this.getTagLabel(tags[x]), yaxis: 1 };
                    chart.lines.push(myCopiedObject);
                }
            }
        }
    };
    ChartConfigComponent.prototype.tagSelectionChanged = function (event) {
        this.checkChartTags(this.selectedChart, this.selectedDevice, this.selectedTags);
    };
    ChartConfigComponent.prototype.editChartLine = function (line) {
        var dialogRef = this.dialog.open(DialogChartLine, {
            position: { top: '60px' },
            data: { id: line.id, device: line.device, name: line.name, label: line.label, color: line.color, yaxis: line.yaxis }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                line.label = result.label;
                line.color = result.color;
                line.yaxis = result.yaxis;
            }
        });
    };
    ChartConfigComponent.prototype.removeChartLine = function (tag) {
        for (var i = 0; i < this.selectedTags.length; i++) {
            if (tag.id === this.selectedTags[i].id) {
                this.selectedTags.splice(i, 1);
                break;
            }
        }
        for (var i = 0; i < this.selectedChart.lines.length; i++) {
            if (this.selectedChart.lines[i].id === tag.id) {
                this.selectedChart.lines.splice(i, 1);
                break;
            }
        }
        this.loadDeviceConfig();
    };
    ChartConfigComponent.prototype.isChartSelected = function (chart) {
        if (chart === this.selectedChart) {
            return 'list-item-selected';
        }
    };
    ChartConfigComponent.prototype.isDeviceSelected = function (device) {
        if (device && device.name === this.selectedDevice.name) {
            return 'list-item-selected';
        }
    };
    ChartConfigComponent.prototype.getTagLabel = function (tag) {
        if (tag.label) {
            return tag.label;
        }
        else {
            return tag.name;
        }
    };
    ChartConfigComponent.prototype.getDeviceTagName = function (line) {
        var devices = this.data.devices.filter(function (x) { return x.name === line.device; });
        if (devices && devices.length > 0) {
            var tags = devices[0].tags;
            for (var i = 0; i < tags.length; i++) {
                if (line.id === tags[i].id) {
                    return this.getTagLabel(tags[i]);
                }
            }
        }
        return '';
    };
    ChartConfigComponent.prototype.getNextColor = function () {
        for (var x = 0; x < this.lineColor.length; x++) {
            var found = false;
            if (this.selectedChart.lines) {
                for (var i = 0; i < this.selectedChart.lines.length; i++) {
                    if (this.selectedChart.lines[i].color === this.lineColor[x]) {
                        found = true;
                    }
                }
            }
            if (!found) {
                return this.lineColor[x];
            }
        }
        return _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].lineColor[0];
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSelectionList"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSelectionList"])
    ], ChartConfigComponent.prototype, "selTags", void 0);
    ChartConfigComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-chart-config',
            template: __webpack_require__(/*! ./chart-config.component.html */ "./app/editor/chart-config/chart-config.component.html"),
            styles: [__webpack_require__(/*! ./chart-config.component.css */ "./app/editor/chart-config/chart-config.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], ChartConfigComponent);
    return ChartConfigComponent;
}());

var DialogListItem = /** @class */ (function () {
    // defaultColor = Utils.defaultColor;
    function DialogListItem(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    DialogListItem.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogListItem.prototype.onOkClick = function () {
        this.dialogRef.close(true);
    };
    DialogListItem = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-list-item',
            template: __webpack_require__(/*! ./list-item.dialog.html */ "./app/editor/chart-config/list-item.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogListItem);
    return DialogListItem;
}());

var DialogChartLine = /** @class */ (function () {
    function DialogChartLine(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].defaultColor;
        this.chartAxesType = [1, 2, 3, 4];
    }
    DialogChartLine.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogChartLine.prototype.onOkClick = function () {
        this.dialogRef.close(this.data);
    };
    DialogChartLine = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-chart-line',
            template: __webpack_require__(/*! ./chart-line.dialog.html */ "./app/editor/chart-config/chart-line.dialog.html"),
            styles: [__webpack_require__(/*! ./chart-config.component.css */ "./app/editor/chart-config/chart-config.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogChartLine);
    return DialogChartLine;
}());



/***/ }),

/***/ "./app/editor/chart-config/chart-line.dialog.html":
/*!********************************************************!*\
  !*** ./app/editor/chart-config/chart-line.dialog.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block; cursor:move;\" mat-dialog-draggable>{{'chart.config-name-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'chart.config-line-name' | translate}}</span>\r\n            <input [(ngModel)]=\"data.name\" type=\"text\" style=\"width:300px\" [disabled]=\"true\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'chart.config-line-label' | translate}}</span>\r\n            <input [(ngModel)]=\"data.label\" type=\"text\" style=\"width:300px\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"width: 140px;\">\r\n            <span>{{'chart.config-line-yaxis' | translate}}</span>\r\n            <mat-select [(value)]=\"data.yaxis\">\r\n                <mat-option *ngFor=\"let yaxis of chartAxesType\" [value]=\"yaxis\">\r\n                    {{ yaxis }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 30px;\">\r\n            <span>{{'chart.property-color.background' | translate}}</span>\r\n            <input [(colorPicker)]=\"data.color\" [cpAlphaChannel]=\"'always'\" class=\"input-color\" [style.background]=\"data.color\"\r\n                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 88px\"\r\n                [cpPosition]=\"'right'\" />\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;height: 10px;\">\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/chart-config/list-item.dialog.html":
/*!*******************************************************!*\
  !*** ./app/editor/chart-config/list-item.dialog.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block; cursor:move;\" mat-dialog-draggable>{{'chart.config-name-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'chart.config-name' | translate}}</span>\r\n            <input [(ngModel)]=\"data.name\" type=\"text\" style=\"width:300px\">\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/docname.dialog.html":
/*!****************************************!*\
  !*** ./app/editor/docname.dialog.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.docname-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" class=\"dialog-close-btn\" cdkFocusInitial>clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.docname-name' | translate}}</span>\r\n            <input [(ngModel)]=\"data.name\" type=\"text\" style=\"width:300px\" [readonly]=\"data.readonly\">\r\n        </div>\r\n        <!-- <div style=\"display: grid; margin-bottom: 20px;\">\r\n      <input [(ngModel)]=\"data.name\" type=\"text\" width=\"100%\" [readonly]=\"data.readonly\">\r\n    </div> -->\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button [disabled]=\"!isValid(data.name)\" color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/docproperty.dialog.css":
/*!*******************************************!*\
  !*** ./app/editor/docproperty.dialog.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".slider-field span {\r\n    padding-left: 2px;\r\n    text-overflow: clip;\r\n    max-width: 125px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n\r\n.slider-field mat-slider {\r\n    background-color: #f1f3f4;\r\n    height: 30px;\r\n}"

/***/ }),

/***/ "./app/editor/docproperty.dialog.html":
/*!********************************************!*\
  !*** ./app/editor/docproperty.dialog.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block; cursor:move;\" mat-dialog-draggable>{{'dlg.docproperty-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" class=\"dialog-close-btn\" cdkFocusInitial>clear</mat-icon>\r\n    <div mat-dialog-content style=\"width: 300px;\">\r\n        <div *ngIf=\"data.type !== cardViewType\">\r\n            <div style=\"display: block; width: 100%; margin-top: 10px;\">\r\n                <div class=\"my-form-field\" style=\"display: inline-block;\">\r\n                    <span>{{'dlg.docproperty-width' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"data.profile.width\" style=\"width: 120px\" type=\"text\">\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"float: right\">\r\n                    <span>{{'dlg.docproperty-height' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"data.profile.height\" style=\"width: 120px\" type=\"text\">\r\n                </div>\r\n            </div>\r\n            <div style=\"display: block; margin-top: 20px; width: 100%\">\r\n                <div class=\"my-form-field\">\r\n                    <span>{{'dlg.docproperty-size' | translate}}</span>\r\n                    <mat-select placeholder=\"{{'dlg.docproperty-select' | translate}}\" (selectionChange)=\"onSizeChange($event.value)\" style=\"width: 293px;\">\r\n                        <mat-option *ngFor=\"let prop of propSizeType\" [value]=\"prop.value\">\r\n                            {{ prop.text }}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"data.type === cardViewType\">\r\n            <div class=\"my-form-field slider-field\" style=\"margin-top: 10px\">\r\n                <span>{{'dlg.docproperty-margin' | translate}}</span>\r\n                <mat-slider style=\"display:inline-block;width: 100px;\" [max]=\"20\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"data.profile.margin\">\r\n                </mat-slider>\r\n            </div>\r\n        </div>\r\n        <div style=\"display: block; margin-top: 20px; margin-bottom: 20px; width: 100%\">\r\n            <div class=\"my-form-field\" style=\"width: 300px;\">\r\n                <span style=\"font-size:12px;\">{{'dlg.docproperty-background' | translate}}</span>\r\n                <input style=\"width: 292px; border: 1px solid rgba(0,0,0,0.2); height:15px !important\" readonly [(colorPicker)]=\"data.profile.bkcolor\" class=\"input-color\"\r\n                    title=\"Change stroke color\" [style.background]=\"data.profile.bkcolor\" [cpPresetColors]=\"defaultColor\" [cpAlphaChannel]=\"'always'\" [cpPosition]=\"'bottom'\"\r\n                    [value]=\"data.profile.bkcolor\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButton]=\"true\"\r\n                    [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/editor.component.css":
/*!*****************************************!*\
  !*** ./app/editor/editor.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#svg_editor_container {\r\n    /* position: absolute; */\r\n    /* bottom: 0px; */\r\n    /* left: 0px; */\r\n    /* right: 0px; */\r\n    /* display: block; */\r\n    background: #aaa;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n}\r\n\r\n.svg-workarea-toolbar {\r\n    min-height: 46px;\r\n    height: 46px;\r\n}\r\n\r\n.svg-workarea-leftbar-p {\r\n    box-shadow: none !important;\r\n    background-color: rgba(33, 33, 33, 1);\r\n}\r\n\r\n.svg-workarea-leftbar-h {\r\n    max-height: 26px;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    padding-left: 0px;\r\n    padding-right: 0px;\r\n    background-color: rgba(33, 33, 33, 1) !important;\r\n    color: rgba(255, 255, 255, 1);\r\n    /* border-bottom: solid 1px rgba(0, 0, 0, 0.07); */\r\n}\r\n\r\n.svg-workarea-leftbar-h mat-icon {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.svg-workarea-leftbar-h span {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n    padding-top: 5px !important;\r\n    padding-left: 3px;\r\n    font-size: 11px;\r\n}\r\n\r\n/* .svg-workarea-leftbar-h:hover {\r\n} */\r\n\r\n.svg-workarea-leftbar-h:enabled .svg-workarea-leftbar-h::-moz-selection {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.svg-workarea-leftbar-h:enabled .svg-workarea-leftbar-h::selection {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n/* .mat-expansion-panel-content {\r\n  background-color: rgb(53, 3, 3);\r\n} */\r\n\r\n.svg-workarea-flybar-h {\r\n    max-height: 26px;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    padding-left: 0px;\r\n    padding-right: 0px;\r\n    background-color: rgba(33,33,33,1);\r\n    color: rgba(255,255,255,1);\r\n    /* border-bottom: solid 1px rgba(0, 0, 0, 0.07); */\r\n }\r\n\r\n.svg-workarea-flybar-h mat-icon {\r\n     background-color: rgba(33,33,33,1);\r\n     color: rgba(255,255,255,1);\r\n }\r\n\r\n.svg-workarea-flybar-h span {\r\n     background-color: rgba(33,33,33,1);\r\n     color: rgba(255,255,255,1);\r\n     padding-top: 5px !important;\r\n     padding-left: 3px;\r\n     font-size: 11px;\r\n }\r\n\r\n/* .svg-workarea-flybar-h:hover {\r\n } */\r\n\r\n.svg-workarea-flybar-h:enabled .svg-workarea-flybar-h::-moz-selection{\r\n     background-color: rgba(33,33,33,1);\r\n     color: rgba(255,255,255,1);\r\n }\r\n\r\n.svg-workarea-flybar-h:enabled .svg-workarea-flybar-h::selection{\r\n     background-color: rgba(33,33,33,1);\r\n     color: rgba(255,255,255,1);\r\n }\r\n\r\n.svg-workarea-fly-p {\r\n    box-shadow: none !important;\r\n    background-color: rgba(33, 33, 33, 1);\r\n    width: 200px;\r\n    padding-left: 0px;\r\n    padding-right: 0px;\r\n}\r\n\r\n.svg-property-split3:after {\r\n    display: table;\r\n    clear: both;\r\n}\r\n\r\n.svg-property-split3 div {\r\n    /* float: left; */\r\n    /* width: 49%; */\r\n    display: inline-block;\r\n}\r\n\r\n.svg-property-split2:after {\r\n    display: table;\r\n    clear: both;\r\n}\r\n\r\n.svg-property-split2 div {\r\n    /* float: left; */\r\n    /* width: 49%; */\r\n    display: inline-block;\r\n}\r\n\r\n.svg-property {\r\n    /* display: block; */\r\n    color: rgba(255, 255, 255, 0.75);\r\n    /* position: relative; */\r\n    /* left: 5px; */\r\n    /* right: 5px; */\r\n    /* width: 100%; */\r\n}\r\n\r\n.svg-property span {\r\n    /* float: left; */\r\n    display: block;\r\n    font-size: 10px;\r\n    margin: 0px 5px 0px 10px;\r\n}\r\n\r\n.svg-property input {\r\n    /* float: right; */\r\n    /* position: relative; */\r\n    /* left: 0px; */\r\n    /* right: 0px; */\r\n    display: block;\r\n    margin: 0px 10px 12px 10px;\r\n    border: unset;\r\n    background-color: inherit;\r\n    color: inherit;\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0.75);\r\n}\r\n\r\n.svg-workarea-container {\r\n    /* position: relative; */\r\n    display: block;\r\n    height: 100%;\r\n    /* height: calc(100% - 46px);  */\r\n    /* bottom: 0px; */\r\n    /* top: 0px; */\r\n    /* left: 0px; */\r\n    /* right: 0px; */\r\n}\r\n\r\n.svg-tools-fly {\r\n    z-index: 9999;\r\n    position: absolute;\r\n    right: 25px;\r\n    top: 55px;\r\n    overflow-y: auto;\r\n    max-height: calc(100% - 75px);\r\n}\r\n\r\n.svg-tool-button {\r\n    vertical-align: middle;\r\n    display: inline-table;\r\n    /* display: inline-block; */\r\n    cursor: pointer;\r\n    height: 30px;\r\n    width: 30px;\r\n    border-radius: 50%;\r\n    margin: 2px 2px 2px 2px;\r\n    /* padding-top: 5px; */\r\n}\r\n\r\n.svg-tool-button span {\r\n    display: block;\r\n    margin: auto;\r\n    /* height: 30px; */\r\n    /* width: 30px; */\r\n}\r\n\r\n.svg-tool-button:hover {\r\n    background: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.svg-tool-active, .svg-tool-active:active, .svg-tool-active:hover {\r\n    /* border: 1px solid #000000; */\r\n    background-color: rgba(48,89,175,1);\r\n}\r\n\r\n.leave-header-area {\r\n    margin-top: 36px;\r\n}\r\n\r\n.svg-sidenav {\r\n    min-width: 160px;\r\n    max-width: 200px;\r\n    width: 200px;\r\n    background: rgba(33, 33, 33, 1);\r\n}\r\n\r\n/* tool bar top */\r\n\r\n.tools_panel {\r\n    background-color: rgba(33, 33, 33, 0.92);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.main-btn {\r\n    height: 34px;\r\n    width: 34px;\r\n    min-width: unset !important;\r\n    padding: unset !important;\r\n    line-height: 34px;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.main-btn mat-icon {\r\n    font-size: 24px;\r\n    height: unset;\r\n    width: unset;\r\n}\r\n\r\n.main-btn .to-top {\r\n    background: url(\"/assets/images/to-top.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    display: inline-block;\r\n    height: 34px;\r\n    width: 34px;\r\n}\r\n\r\n.main-btn .to-bottom {\r\n    background: url(\"/assets/images/to-bottom.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    display: inline-block;\r\n    height: 34px;\r\n    width: 34px;\r\n}\r\n\r\n.main-btn .to-path {\r\n    background: url(\"/assets/images/to-path.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    display: inline-block;\r\n    height: 34px;\r\n    width: 34px;\r\n}\r\n\r\n.main-btn .group {\r\n    background: url(\"/assets/images/group.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    display: inline-block;\r\n    height: 34px;\r\n    width: 34px;\r\n}\r\n\r\n.main-btn .ungroup {\r\n    background: url(\"/assets/images/ungroup.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    display: inline-block;\r\n    height: 34px;\r\n    width: 34px;\r\n}\r\n\r\n.main-btn-sep {\r\n    width: 1px;\r\n    background: #888;\r\n    border-left: 1px outset #888;\r\n    margin: 5px 3px;\r\n    padding: 0;\r\n    height: 24px;\r\n}\r\n\r\n/* --------------- */\r\n\r\n/* left panel */\r\n\r\n/* --------------- */\r\n\r\n.view-panel {\r\n    max-height: 400px;\r\n    overflow: auto;\r\n}\r\n\r\n.leftbar-edit-btn {\r\n    margin-top: 2px;\r\n    font-size: 18px;\r\n    height: 18px;\r\n    width: 18px;\r\n    padding-right: 15px;\r\n}\r\n\r\n.leftbar-panel {\r\n    padding: 0px 0px 0px 0px;\r\n    font-size: 11px;\r\n    /* background-color: rgb(34, 107, 241); */\r\n    background-color: rgba(47, 47, 47, 1);\r\n    overflow: auto;\r\n    max-height: 200px;\r\n}\r\n\r\n.leftbar-item {\r\n    /* padding-top: 6px; */\r\n    /* padding-bottom: 6px; */\r\n    /* width: 100%; */\r\n    padding: 3px 0px 1px 0px;\r\n    display: flow-root;\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.leftbar-item-active {\r\n    /* font-weight: 600; */\r\n    background-color: rgba(48, 89, 175, 1);\r\n}\r\n\r\n.leftbar-item span {\r\n    padding-left: 15px;\r\n    float: left;\r\n}\r\n\r\n.leftbar-item mat-icon {\r\n    float: right;\r\n    font-size: 18px;\r\n    /* color: rgba(0, 0, 0, 0.4); */\r\n}\r\n\r\n::ng-deep .leftbar-item-menu {\r\n    background-color: rgba(47, 47, 47, 1);\r\n}\r\n\r\n::ng-deep .svg-workarea-leftbar-p .mat-expansion-panel-body {\r\n    margin: 0px 0px 0px 0px !important;\r\n    padding: 0px 0px 0px 0px !important;\r\n    /* padding-left: 10px !important; */\r\n    flex-wrap: wrap !important;\r\n}\r\n\r\n::ng-deep .svg-workarea-fly-p .mat-expansion-panel-body {\r\n    margin: 0px 0px 0px 0px !important;\r\n    padding: 0px 0px 0px 0px !important;\r\n    /* padding-left: 10px !important; */\r\n    flex-wrap: wrap !important;\r\n    background-color: rgba(47, 47, 47, 1);\r\n}\r\n\r\n::ng-deep .mat-menu-item {\r\n    font-size: 11px;\r\n    color: rgba(255, 255, 255, 1);\r\n    height: 30px !important;\r\n    line-height: unset !important;\r\n}\r\n\r\n.rightbar-panel {\r\n    /* padding: 0px 0px 0px 0px; */\r\n    /* font-size: 11px; */\r\n    /* background-color: rgb(34, 107, 241); */\r\n    background-color: rgba(47, 47, 47, 1);\r\n    /* overflow: auto; */\r\n}\r\n\r\n.mat-expansion-panel-header-title span {\r\n    padding-top: 3px;\r\n}\r\n\r\n.mat-expansion-panel-spacing {\r\n    margin: 0px 0px 0px 0px !important;\r\n}\r\n\r\n.bottom-bar {\r\n    position: absolute;\r\n    left: 0px;\r\n    right: 0;\r\n    bottom: 0;\r\n    height: 30px;\r\n    overflow: visible;\r\n}\r\n\r\n.zoom-menu {\r\n    float: left;\r\n    padding-left: 5px;\r\n    width: 90px;\r\n}\r\n\r\n.zoom-value {\r\n    background-color: inherit;\r\n    color: rgba(255, 255, 255, 1);\r\n    border: unset;\r\n    display: inline-block;\r\n}\r\n\r\n.zoom-label {\r\n    display: inline-block;\r\n    height: 25px;\r\n}\r\n\r\n.zoom-value span {\r\n    display: inline-block;\r\n    /* position: absolute; */\r\n    /* top: 5px; */\r\n    /* left: 5px; */\r\n    /* height: 10px; */\r\n    /* width: 10px; */\r\n}\r\n\r\n.zoom-value .selection,\r\nbutton {\r\n    display: inline-block;\r\n    /* height: 10px; */\r\n    /* width: 10px; */\r\n    /* position: absolute; */\r\n    /* top: 3px; */\r\n    /* left: 55px; */\r\n}\r\n\r\n.zoom-value button {\r\n    /* width: unset; */\r\n    z-index: 9999;\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n    border: unset;\r\n}\r\n\r\n.zoom-value ul,\r\nli {\r\n    /* width: unset; */\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n    border: unset;\r\n}\r\n\r\n.zoom-value ul {\r\n    left: 0px;\r\n}\r\n\r\n.zoom-value li:hover {\r\n    background-color: rgb(22, 22, 22);\r\n}\r\n\r\n.colors {\r\n    position: absolute;\r\n    left: 25px;\r\n    top: 0px;\r\n}\r\n\r\n.colors-palette {\r\n    position: absolute;\r\n    left: 165px;\r\n    top: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\n.color-fill {\r\n    position: relative;\r\n    top: 3px;\r\n    left: 10px;\r\n    cursor: pointer;\r\n    width: 14px;\r\n    height: 14px;\r\n    border: 1px solid rgba(255, 255, 255, 0.75);\r\n}\r\n\r\n.color-stroke {\r\n    position: absolute;\r\n    top: 3px;\r\n    left: 30px;\r\n    cursor: pointer;\r\n    width: 14px;\r\n    height: 14px;\r\n    border: 1px solid rgba(255, 255, 255, 0.75);\r\n}\r\n\r\n.style-stroke {\r\n    display: block !important;\r\n    margin: 0px 10px 12px 10px;\r\n    background-color: inherit;\r\n    color: inherit;\r\n}\r\n\r\n.style-stroke option {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.font-family {\r\n    display: block;\r\n    margin: 0px 10px 12px 10px;\r\n    background-color: inherit;\r\n    color: inherit;\r\n}\r\n\r\n.font-family option {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.text-align {\r\n    display: block;\r\n    margin: 0px 10px 12px 10px;\r\n    background-color: inherit;\r\n    color: inherit;\r\n}\r\n\r\n.text-align option {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    color: rgba(255, 255, 255, 1);\r\n}\r\n\r\nselect#start_marker option[value=\"A\"] {\r\n    background: url(\"/assets/images/select-pointer.svg\");\r\n}\r\n\r\nselect#start_marker option[value=\"B\"] {\r\n    background: url(\"/assets/images/select-pointer.svg\");\r\n}\r\n\r\nselect#start_marker option[value=\"C\"] {\r\n    background: url(\"/assets/images/select-pointer.svg\");\r\n}\r\n\r\nselect#start_marker option[value=\"D\"] {\r\n    background: url(\"/assets/images/select-pointer.svg\");\r\n}\r\n\r\n.icon-select {\r\n    background: url(\"/assets/images/select-pointer.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-pencil {\r\n    background: url(\"/assets/images/pencil.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-line {\r\n    background: url(\"/assets/images/line.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-rect {\r\n    background: url(\"/assets/images/rect.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-circle {\r\n    background: url(\"/assets/images/circle.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-ellipse {\r\n    background: url(\"/assets/images/ellipse.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-path {\r\n    background: url(\"/assets/images/path.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-text {\r\n    background: url(\"/assets/images/text.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-image {\r\n    background: url(\"/assets/images/image.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-align-left {\r\n    background: url(\"/assets/images/align-left.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-align-center {\r\n    background: url(\"/assets/images/align-center.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-align-right {\r\n    background: url(\"/assets/images/align-right.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-align-top {\r\n    background: url(\"/assets/images/align-top.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-align-middle {\r\n    background: url(\"/assets/images/align-middle.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-align-bottom {\r\n    background: url(\"/assets/images/align-bottom.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-flip-orizontal {\r\n    background: url(\"/assets/images/flip-orizontal.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-flip-vertical {\r\n    background: url(\"/assets/images/flip-vertical.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-linejoin-miter {\r\n    background: url(\"/assets/images/linejoin-miter.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-linejoin-round {\r\n    background: url(\"/assets/images/linejoin-round.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-linejoin-bevel {\r\n    background: url(\"/assets/images/linejoin-bevel.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-linecap-butt {\r\n    background: url(\"/assets/images/linecap-butt.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-linecap-square {\r\n    background: url(\"/assets/images/linecap-square.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-linecap-round {\r\n    background: url(\"/assets/images/linecap-round.svg\") no-repeat center center;\r\n    background-size: contain;\r\n    height: 30px;\r\n    width: 30px;\r\n}\r\n\r\n.icon-tool {\r\n    background-size: auto;\r\n    height: 30px;\r\n    width: 30px;\r\n    color: rgba(255, 255, 255, 1);\r\n    background-position: center; /* Center the image */\r\n    background-repeat: no-repeat; /* Do not repeat the image */\r\n}\r\n\r\n.icon-switch {\r\n    background: url(\"/assets/images/switch.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-value {\r\n    background: url(\"/assets/images/value.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-editvalue {\r\n    background: url(\"/assets/images/editvalue.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-selectvalue {\r\n    background: url(\"/assets/images/selectvalue.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-progress-v {\r\n    background: url(\"/assets/images/progress-v.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-semaphore {\r\n    background: url(\"/assets/images/semaphore.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-button {\r\n    background: url(\"/assets/images/button.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-chart {\r\n    background: url(\"/assets/images/chart.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-bag {\r\n    background: url(\"/assets/images/bag.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-pipe {\r\n    background: url(\"/assets/images/pipe.svg\") no-repeat center center;\r\n}\r\n\r\n.icon-slider {\r\n    background: url(\"/assets/images/slider.svg\") no-repeat center center;\r\n}\r\n"

/***/ }),

/***/ "./app/editor/editor.component.html":
/*!******************************************!*\
  !*** ./app/editor/editor.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isLoading\" style=\"position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(0,0,0,0.2); z-index: 99999;\">\r\n    <mat-progress-bar mode=\"indeterminate\" color=\"warn\" style=\"position: absolute; top: 0px; left: 0px; right: 0px; z-index: 99999;\">\r\n    </mat-progress-bar>\r\n</div>\r\n<div id=\"svg_editor_container\">\r\n    <mat-drawer-container class=\"svg-workarea-container\">\r\n        <!-- LEFT BAR -->\r\n        <mat-drawer mode=\"side\" opened=\"true\" class=\"svg-sidenav leave-header-area\">\r\n            <mat-accordion multi=\"true\">\r\n                <mat-expansion-panel class=\"svg-workarea-leftbar-p\" (opened)=\"panelsState.panelView=true;savePanelState()\" (closed)=\"panelsState.panelView=false;savePanelState()\"\r\n                    hideToggle=\"true\" [expanded]=\"panelsState.panelView\">\r\n                    <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                        <mat-panel-title>\r\n                            <mat-icon aria-label=\"Select\" *ngIf=\"panelsState.panelView\">expand_less</mat-icon>\r\n                            <mat-icon aria-label=\"Select\" *ngIf=\"!panelsState.panelView\">expand_more</mat-icon>\r\n                            <span>{{'editor.views' | translate}}</span> <!-- PROJECT VIEWS -->\r\n                        </mat-panel-title>\r\n                        <mat-icon aria-label=\"Add\" title=\"Add View\" *ngIf=\"panelsState.panelView\" class=\"leftbar-edit-btn\" (click)=\"onAddDoc();$event.stopPropagation()\">add\r\n                        </mat-icon>\r\n                        <mat-icon aria-label=\"Import\" title=\"{{'editor.view-import' | translate}}\" *ngIf=\"panelsState.panelView\" class=\"leftbar-edit-btn\"\r\n                            (click)=\"onImportView($event);$event.stopPropagation()\">system_update_alt</mat-icon>\r\n                        <input type=\"file\" #viewFileImportInput style=\"display: none\" id=\"viewFileUpload\" (click)=\"$event.stopPropagation()\"\r\n                            (change)=\"onViewFileChangeListener($event)\" accept=\".fuxav\" />\r\n                    </mat-expansion-panel-header>\r\n                    <div class=\"leftbar-panel view-panel\">\r\n                        <div *ngIf=\"hmi.views && hmi.views.length <= 0\">\r\n                            <br>\r\n                        </div>\r\n                        <div *ngFor=\"let item of getViewsSorted()\" (click)=\"onSelectView(item)\" [ngClass]=\"{'leftbar-item-active': isViewActive(item)}\"\r\n                            class=\"leftbar-item mycursor-pointer\">\r\n                            <span>{{item.name}}</span>\r\n                            <mat-icon aria-label=\"More\" [matMenuTriggerFor]=\"menuview\" class=\"\">more_vert</mat-icon>\r\n                            <mat-menu #menuview=\"matMenu\" class=\"leftbar-item-menu\">\r\n                                <button mat-menu-item (click)=\"onDeleteView(item)\">{{'editor.view-delete' | translate}}</button>\r\n                                <button mat-menu-item (click)=\"onRenameView(item)\">{{'editor.view-rename' | translate}}</button>\r\n                                <button mat-menu-item (click)=\"onPropertyView(item)\">{{'editor.view-property' | translate}}</button>\r\n                                <button mat-menu-item (click)=\"onCloneView(item)\" *ngIf=\"item.type !== cardViewType\">{{'editor.view-clone' | translate}}</button>\r\n                                <button mat-menu-item (click)=\"onExportView(item)\" *ngIf=\"item.type !== cardViewType\">{{'editor.view-export' | translate}}</button>\r\n                            </mat-menu>\r\n                        </div>\r\n                    </div>\r\n                </mat-expansion-panel>\r\n                <div *ngIf=\"editorMode === editorModeType.SVG\">\r\n                    <mat-expansion-panel class=\"svg-workarea-leftbar-p\" (opened)=\"panelsState.panelGeneral=true;savePanelState()\"\r\n                        (closed)=\"panelsState.panelGeneral=false;savePanelState()\" hideToggle=\"true\" [expanded]=\"panelsState.panelGeneral\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelsState.panelGeneral\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelsState.panelGeneral\">expand_more</mat-icon>\r\n                                <span>{{'editor.general' | translate}}</span> <!-- GENERAL -->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n\r\n                        <div id=\"__tools_left\" class=\"leftbar-panel\">\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('select')}\" (click)=\"setMode('select')\">\r\n                                <span class=\"icon-select\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('fhpath')}\" (click)=\"setMode('fhpath')\">\r\n                                <span class=\"icon-pencil\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('line')}\" (click)=\"setMode('line')\">\r\n                                <span class=\"icon-line\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('rect')}\" (click)=\"setMode('rect')\">\r\n                                <span class=\"icon-rect\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('circle')}\" (click)=\"setMode('circle')\">\r\n                                <span class=\"icon-circle\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('ellipse')}\" (click)=\"setMode('ellipse')\">\r\n                                <span class=\"icon-ellipse\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('path')}\" (click)=\"setMode('path')\">\r\n                                <span class=\"icon-path\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': isModeActive('text')}\" (click)=\"setMode('text')\">\r\n                                <span class=\"icon-text\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" [ngClass]=\"{'svg-tool-active': (isModeActive('image') || isModeActive('svg-image'))}\"\r\n                                (click)=\"imagefile.value = '';imagefile.click();\">\r\n                                <span class=\"icon-image\"></span>\r\n                                <input #imagefile type=\"file\" style=\"display: none;\" (change)=\"onSetImage($event)\" accept=\"image/png|jpg|svg\" />\r\n                            </div>\r\n                            <div id=\"tool_line\" style=\"display: none;\">\r\n                                <span class=\"icon-image\"></span>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <!-- CONTROLS  -->\r\n                    <mat-expansion-panel class=\"svg-workarea-leftbar-p\" (opened)=\"panelsState.panelD=true;savePanelState()\" (closed)=\"panelsState.panelD=false;savePanelState()\"\r\n                        hideToggle=\"true\" [expanded]=\"panelsState.panelD\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelsState.panelD\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelsState.panelD\">expand_more</mat-icon>\r\n                                <span>{{'editor.controls' | translate}}</span>\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"__tools_left\" class=\"leftbar-panel\">\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-input' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_input')}\"\r\n                                (click)=\"setMode('html_input')\">\r\n                                <span class=\"icon-tool icon-editvalue\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-output' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('value')}\"\r\n                                (click)=\"setMode('value')\">\r\n                                <span class=\"icon-tool icon-value\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-button' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_button')}\"\r\n                                (click)=\"setMode('html_button')\">\r\n                                <span class=\"icon-tool icon-button\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-select' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_select')}\"\r\n                                (click)=\"setMode('html_select')\">\r\n                                <span class=\"icon-tool icon-selectvalue\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-progress' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('gauge_progress')}\"\r\n                                (click)=\"setMode('gauge_progress')\">\r\n                                <span class=\"icon-tool icon-progress-v\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-semaphore' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('gauge_semaphore')}\"\r\n                                (click)=\"setMode('gauge_semaphore')\">\r\n                                <span class=\"icon-tool icon-semaphore\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-chart' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_chart')}\"\r\n                                (click)=\"setMode('html_chart')\">\r\n                                <span class=\"icon-tool icon-chart\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-bag' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_bag')}\"\r\n                                (click)=\"setMode('html_bag')\">\r\n                                <span class=\"icon-tool icon-bag\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-pipe' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('pipe')}\"\r\n                                (click)=\"setMode('pipe')\">\r\n                                <span class=\"icon-tool icon-pipe\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-slider' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_slider')}\"\r\n                                (click)=\"setMode('html_slider')\">\r\n                                <span class=\"icon-tool icon-slider\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" title=\"{{'editor.controls-switch' | translate}}\" [ngClass]=\"{'svg-tool-active': isModeActive('html_switch')}\"\r\n                                (click)=\"setMode('html_switch')\">\r\n                                <span class=\"icon-tool icon-switch\"></span>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <!-- SHAPES -->\r\n                    <mat-expansion-panel *ngFor=\"let shGrp of shapesGrps\" class=\"svg-workarea-leftbar-p\" (opened)=\"panelsState[shGrp.name]=true;savePanelState()\"\r\n                        (closed)=\"panelsState[shGrp.name]=false;savePanelState()\" hideToggle=\"true\" [expanded]=\"panelsState[shGrp.name]\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelsState[shGrp.name]\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelsState[shGrp.name]\">expand_more</mat-icon>\r\n                                <span>{{shGrp.name | translate}}</span>\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"__tools_left\" class=\"leftbar-panel\">\r\n                            <div *ngFor=\"let shape of shGrp.shapes\" style=\"margin-left: 3px;margin-right: 3px;\" class=\"svg-tool-button\"\r\n                                [ngClass]=\"{'svg-tool-active': isModeActive(shape.name)}\" (click)=\"setMode(shape.name)\">\r\n                                <span class=\"icon-tool\" [style.backgroundImage]=\"'url(' + shape.ico + ')'\"> </span>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                </div>\r\n            </mat-accordion>\r\n        </mat-drawer>\r\n        <!-- END LEFT BAR -->\r\n        <!-- WORK AREA -->\r\n        <mat-drawer-content>\r\n            <!-- SVG-EDITOR -->\r\n            <div [style.display]=\"(editorMode === editorModeType.SVG)?'block':'none' \">\r\n                <!-- RIGHT BAR -->\r\n                <div class=\"svg-tools-fly\">\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelPropertyIdOpenState = true\" (closed)=\"panelPropertyIdOpenState = false\" hideToggle=\"true\"\r\n                        expanded=\"true\" style=\"display:none\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-flybar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelPropertyIdOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelPropertyIdOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.interactivity' | translate}}</span> <!-- INTERACTIVITY -->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"_selected_panel\">\r\n                            <div class=\"_toolset\">\r\n                                <label id=\"idLabel\" title=\"{{'editor.interactivity-id-title' | translate}}\" class=\"svg-property\">\r\n                                    <span>{{'editor.interactivity-id' | translate}}</span>\r\n                                    <input id=\"elem_id\" #selid class=\"attr_changer\" data-attr=\"id\" type=\"text\" />\r\n                                </label>\r\n                                <label id=\"classLabel\" title=\"{{'editor.interactivity-class-title' | translate}}\" class=\"svg-property\">\r\n                                    <span>{{'editor.interactivity-class' | translate}}</span>\r\n                                    <input id=\"elem_class\" class=\"attr_changer\" data-attr=\"class\" type=\"text\" />\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelPropertyTransformOpenState = true\" (closed)=\"panelPropertyTransformOpenState = false\"\r\n                        hideToggle=\"true\" expanded=\"true\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelPropertyTransformOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelPropertyTransformOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.transform' | translate}}</span> <!-- TRANSFORM SIZE/POSITION-->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"_selected_panel\" class=\"rightbar-panel\">\r\n                            <div class=\"_toolset\">\r\n                                <div id=\"xy_panel\" class=\"_toolset\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-x' | translate}}</span>\r\n                                            <input id=\"selected_x\" class=\"attr_changer\" title=\"{{'editor.transform-x-title' | translate}}\" size=\"4\" data-attr=\"x\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-y' | translate}}</span>\r\n                                            <input id=\"selected_y\" class=\"attr_changer\" title=\"{{'editor.transform-y-title' | translate}}\" size=\"4\" data-attr=\"y\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"line_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-x1' | translate}}</span>\r\n                                            <input id=\"line_x1\" class=\"attr_changer\" title=\"{{'editor.transform-x1-title' | translate}}\" size=\"4\" data-attr=\"x1\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-y1' | translate}}</span>\r\n                                            <input id=\"line_y1\" class=\"attr_changer\" title=\"{{'editor.transform-y1-title' | translate}}\" size=\"4\" data-attr=\"y1\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-x2' | translate}}</span>\r\n                                            <input id=\"line_x2\" class=\"attr_changer\" title=\"{{'editor.transform-x2-title' | translate}}\" size=\"4\" data-attr=\"x2\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-y2' | translate}}</span>\r\n                                            <input id=\"line_y2\" class=\"attr_changer\" title=\"{{'editor.transform-y2-title' | translate}}\" size=\"4\" data-attr=\"y2\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"rect_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-width-title' | translate}}\">\r\n                                            <span>{{'editor.transform-width' | translate}}</span>\r\n                                            <input id=\"rect_width\" class=\"attr_changer\" size=\"4\" data-attr=\"width\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-height-title' | translate}}\">\r\n                                            <span>{{'editor.transform-height' | translate}}</span>\r\n                                            <input id=\"rect_height\" class=\"attr_changer\" size=\"4\" data-attr=\"height\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-radius-title' | translate}}\">\r\n                                            <span>{{'editor.transform-radiuscorner' | translate}}</span>\r\n                                            <input id=\"rect_rx\" size=\"4\" value=\"0\" type=\"text\" data-attr=\"Corner Radius\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"htmlctrl_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-width-title' | translate}}\">\r\n                                            <span>{{'editor.transform-width' | translate}}</span>\r\n                                            <input id=\"htmlctrl_width\" class=\"attr_changer\" size=\"4\" data-attr=\"width\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-height-title' | translate}}\">\r\n                                            <span>{{'editor.transform-height' | translate}}</span>\r\n                                            <input id=\"htmlctrl_height\" class=\"attr_changer\" size=\"4\" data-attr=\"height\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"shape_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-width-title' | translate}}\">\r\n                                            <span>{{'editor.transform-width' | translate}}</span>\r\n                                            <input id=\"shape_width\" class=\"attr_changer\" size=\"4\" data-attr=\"width\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\" title=\"{{'editor.transform-rect-height-title' | translate}}\">\r\n                                            <span>{{'editor.transform-height' | translate}}</span>\r\n                                            <input id=\"shape_height\" class=\"attr_changer\" size=\"4\" data-attr=\"height\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"circle_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-circlecx' | translate}}</span>\r\n                                            <input id=\"circle_cx\" class=\"attr_changer\" title=\"{{'editor.transform-circlecx-title' | translate}}\" size=\"4\" data-attr=\"cx\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-circlecy' | translate}}</span>\r\n                                            <input id=\"circle_cy\" class=\"attr_changer\" title=\"{{'editor.transform-circlecy-title' | translate}}\" size=\"4\" data-attr=\"cy\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-circler' | translate}}</span>\r\n                                            <input id=\"circle_r\" class=\"attr_changer\" title=\"{{'editor.transform-circler-title' | translate}}\" size=\"4\" data-attr=\"r\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"ellipse_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-ellipsecx' | translate}}</span>\r\n                                            <input id=\"ellipse_cx\" class=\"attr_changer\" title=\"{{'editor.transform-ellipsecx-title' | translate}}\" size=\"4\" data-attr=\"cx\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-ellipsecy' | translate}}</span>\r\n                                            <input id=\"ellipse_cy\" class=\"attr_changer\" title=\"{{'editor.transform-ellipsecy-title' | translate}}\" size=\"4\" data-attr=\"cy\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-ellipserx' | translate}}</span>\r\n                                            <input id=\"ellipse_rx\" class=\"attr_changer\" title=\"{{'editor.transform-ellipserx-title' | translate}}\" size=\"4\" data-attr=\"rx\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-ellipsery' | translate}}</span>\r\n                                            <input id=\"ellipse_ry\" class=\"attr_changer\" title=\"{{'editor.transform-ellipsery-title' | translate}}\" size=\"4\" data-attr=\"ry\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"text_panel\">\r\n                                    <div class=\"svg-property\">\r\n                                        <span>{{'editor.transform-fontfamily' | translate}}</span>\r\n                                        <select class=\"font-family\" id=\"font_family\" #fontfamily (change)=\"onFontFamilyChange(fontfamily.value)\">\r\n                                            <option *ngFor=\"let font of fonts\" [style.fontFamily]=\"font\" [value]=\"font\">{{font}}</option>\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-fontsize' | translate}}</span>\r\n                                            <input id=\"font_size\" size=\"4\" value=\"0\" class=\"attr_changer\" title=\"{{'editor.transform-fontsize-title' | translate}}\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-textalign' | translate}}</span>\r\n                                            <select class=\"text-align\" id=\"text_anchor\" #textalign (change)=\"onTextAlignChange(textalign.value)\">\r\n                                                <option value=\"start\">{{'editor.transform-left' | translate}}</option>\r\n                                                <option value=\"middle\">{{'editor.transform-center' | translate}}</option>\r\n                                                <option value=\"end\">{{'editor.transform-right' | translate}}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <!-- Not visible, but still used -->\r\n                                    <input id=\"text\" type=\"text\" size=\"35\" />\r\n                                </div>\r\n                                <div id=\"image_panel\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-width' | translate}}</span>\r\n                                            <input id=\"image_width\" class=\"attr_changer\" title=\"{{'editor.transform-image-width-title' | translate}}\" size=\"4\" data-attr=\"width\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-height' | translate}}</span>\r\n                                            <input id=\"image_height\" class=\"attr_changer\" title=\"{{'editor.transform-image-height-title' | translate}}\" size=\"4\"\r\n                                                data-attr=\"height\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"svg-property\" style=\"display: none;\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-url' | translate}}</span>\r\n                                            <input id=\"image_url\" class=\"attr_changer\" type=\"text\" title=\"{{'editor.transform-image-url-title' | translate}}\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <div class=\"svg-property\">\r\n                                                <button id=\"change_image_url\" style=\"display:none;\">{{'editor.transform-change-image' | translate}}</button>\r\n                                                <span id=\"url_notice\" title=\"{{'editor.transform-change-image-title' | translate}}\"></span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"tool_angle\" title=\"{{'editor.transform-angle-title' | translate}}\" class=\"svg-property\">\r\n                                    <div class=\"svg-property-split2\">\r\n                                        <div class=\"svg-property\">\r\n                                            <span>{{'editor.transform-angle' | translate}}</span>\r\n                                            <input id=\"angle\" size=\"4\" value=\"0\" type=\"text\" />\r\n                                        </div>\r\n                                        <div class=\"svg-property\">\r\n                                            <!-- <div class=\"svg-tool-button\" (click)=\"flipSelected('vertical')\" title=\"Flip vertically\">\r\n                                        <span class=\"icon-flip-vertical\"></span>\r\n                                        </div>\r\n                                        <div class=\"svg-tool-button\" (click)=\"flipSelected('orizontal')\" title=\"Flip orizontally\">\r\n                                        <span class=\"icon-flip-orizontal\"></span>\r\n                                        </div> -->\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelAlignOpenState = true\" (closed)=\"panelAlignOpenState = false\" hideToggle=\"true\" expanded=\"true\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelAlignOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelAlignOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.align' | translate}}</span> <!-- ALIGN-->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"align_panel\" class=\"rightbar_panel\">\r\n                            <div class=\"svg-tool-button\" (click)=\"onAlignSelected('left')\" title=\"{{'editor.align-left-title' | translate}}\">\r\n                                <span class=\"icon-align-left\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" (click)=\"onAlignSelected('center')\" title=\"{{'editor.align-center-title' | translate}}Align Center\">\r\n                                <span class=\"icon-align-center\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" (click)=\"onAlignSelected('right')\" title=\"{{'editor.align-right-title' | translate}}Align Right\">\r\n                                <span class=\"icon-align-right\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" (click)=\"onAlignSelected('top')\" title=\"{{'editor.align-top-title' | translate}}Align Top\">\r\n                                <span class=\"icon-align-top\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" (click)=\"onAlignSelected('middle')\" title=\"{{'editor.align-middle-title' | translate}}Align Middle\">\r\n                                <span class=\"icon-align-middle\"></span>\r\n                            </div>\r\n                            <div class=\"svg-tool-button\" (click)=\"onAlignSelected('bottom')\" title=\"{{'editor.align-bottom-title' | translate}}Align Bottom\">\r\n                                <span class=\"icon-align-bottom\"></span>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelFillOpenState = true\" (closed)=\"panelFillOpenState = false\" hideToggle=\"true\" expanded=\"true\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelFillOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelFillOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.stroke' | translate}}</span> <!-- STROKE-->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div class=\"rightbar_panel\">\r\n                            <div class=\"_color_tool\" id=\"tool_stroke\">\r\n                                <div class=\"svg-property-split2\">\r\n                                    <div class=\"svg-property\">\r\n                                        <span>{{'editor.stroke-width' | translate}}</span>\r\n                                        <input id=\"stroke_width\" title=\"{{'editor.stroke-width-title' | translate}}\" size=\"4\" value=\"1\" type=\"text\" data-attr=\"Stroke Width\" />\r\n                                    </div>\r\n                                    <div class=\"svg-property\">\r\n                                        <span>{{'editor.stroke-style' | translate}}</span>\r\n                                        <select id=\"stroke_style\" class=\"style-stroke\" title=\"{{'editor.stroke-style-title' | translate}}\">\r\n                                            <option selected=\"selected\" value=\"none\">&#8212;</option>\r\n                                            <option value=\"2,2\">...</option>\r\n                                            <option value=\"5,5\">- -</option>\r\n                                            <option value=\"5,2,2,2\">- .</option>\r\n                                            <option value=\"5,2,2,2,2,2\">- ..</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"svg-property\">\r\n                                    <div class=\"svg-tool-button\" id=\"linejoin_miter\" #linejoinmiter (click)=\"onSetStrokeOption(linejoinmiter)\"\r\n                                        title=\"{{'editor.stroke-joinmiter-title' | translate}}\">\r\n                                        <span class=\"icon-linejoin-miter\"></span>\r\n                                    </div>\r\n                                    <div class=\"svg-tool-button\" id=\"linejoin_round\" #linejoinround (click)=\"onSetStrokeOption(linejoinround)\"\r\n                                        title=\"{{'editor.stroke-joinround-title' | translate}}\">\r\n                                        <span class=\"icon-linejoin-round\"></span>\r\n                                    </div>\r\n                                    <div class=\"svg-tool-button\" id=\"linejoin_bevel\" #linejoinbevel (click)=\"onSetStrokeOption(linejoinbevel)\"\r\n                                        title=\"{{'editor.stroke-joinbevel-title' | translate}}\">\r\n                                        <span class=\"icon-linejoin-bevel\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"svg-property\">\r\n                                    <div class=\"svg-tool-button\" id=\"linecap_butt\" #linecapbutt (click)=\"onSetStrokeOption(linecapbutt)\"\r\n                                        title=\"{{'editor.stroke-capbutt-title' | translate}}\">\r\n                                        <span class=\"icon-linecap-butt\"></span>\r\n                                    </div>\r\n                                    <div class=\"svg-tool-button\" id=\"linecap_square\" #linecapsquare (click)=\"onSetStrokeOption(linecapsquare)\"\r\n                                        title=\"{{'editor.stroke-capsquare-title' | translate}}\">\r\n                                        <span class=\"icon-linecap-square\"></span>\r\n                                    </div>\r\n                                    <div class=\"svg-tool-button\" id=\"linecap_round\" #linecapround (click)=\"onSetStrokeOption(linecapround)\"\r\n                                        title=\"{{'editor.stroke-capround-title' | translate}}\">\r\n                                        <span class=\"icon-linecap-round\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"svg-property-split2\" style=\"display: none\">\r\n                                    <div class=\"svg-property\">\r\n                                        <span for=\"class_shadow\">{{'editor.stroke-shadow' | translate}}</span>\r\n                                        <input type=\"checkbox\" id=\"class_shadow\" name=\"class_shadow\" class=\"attr_changer\" title=\"{{'editor.stroke-shadow-title' | translate}}\"\r\n                                            (change)=\"onSetShadowOption($event.target.checked)\" label=\"shadow\" />\r\n                                    </div>\r\n                                    <div class=\"svg-property\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelMarkerOpenState = true\" (closed)=\"panelMarkerOpenState = false\" hideToggle=\"true\"\r\n                        expanded=\"true\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelMarkerOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelMarkerOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.marker' | translate}}</span> <!-- MARKER-->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"marker_panel\" class=\"rightbar_panel\">\r\n                            <div class=\"svg-property-split3\">\r\n                                <div class=\"svg-property\">\r\n                                    <span>{{'editor.marker-start' | translate}}</span>\r\n                                    <select id=\"start_marker\" #smarker class=\"style-stroke\" title=\"{{'editor.marker-start-title' | translate}}\"\r\n                                        (click)=\"onSetMarker('start_marker', smarker.selectedIndex);\" onfocus=\"this.selectedIndex=-1;this.blur();\">\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"svg-property\">\r\n                                    <span>{{'editor.marker-middle' | translate}}</span>\r\n                                    <select id=\"mid_marker\" #mmarker class=\"style-stroke\" title=\"{{'editor.marker-middle-title' | translate}}\"\r\n                                        (click)=\"onSetMarker('mid_marker', mmarker.selectedIndex);\" onfocus=\"this.selectedIndex=-1;this.blur();\">\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"svg-property\">\r\n                                    <span>{{'editor.marker-end' | translate}}</span>\r\n                                    <select id=\"end_marker\" #emarker class=\"style-stroke\" title=\"{{'editor.marker-end-title' | translate}}\"\r\n                                        (click)=\"onSetMarker('end_marker', emarker.selectedIndex);\" onfocus=\"this.selectedIndex=-1;this.blur();\">\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelHyperlinkOpenState = true\" (closed)=\"panelHyperlinkOpenState = false\" hideToggle=\"true\"\r\n                        expanded=\"true\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelHyperlinkOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelHyperlinkOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.hyperlink' | translate}}</span> <!-- HYPELINK -->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"a_panel\" class=\"rightbar_panel\">\r\n                            <div class=\"svg-property\" style=\"display:table\">\r\n                                <span>{{'editor.hyperlink-url' | translate}}</span>\r\n                                <input id=\"link_url\" type=\"text\" />\r\n                            </div>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                    <mat-expansion-panel class=\"svg-workarea-fly-p\" (opened)=\"panelEventOpenState = true\" (closed)=\"panelEventOpenState = false\" hideToggle=\"true\" expanded=\"true\">\r\n                        <mat-expansion-panel-header class=\"svg-workarea-leftbar-h\">\r\n                            <mat-panel-title>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"panelEventOpenState\">expand_less</mat-icon>\r\n                                <mat-icon aria-label=\"Select\" *ngIf=\"!panelEventOpenState\">expand_more</mat-icon>\r\n                                <span>{{'editor.interactivity' | translate}}</span> <!-- INTERACTIVITY -->\r\n                            </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                        <div id=\"interaction_panel\" class=\"rightbar_panel\">\r\n                            <gauge-base #gaugepanel *ngIf=\"selectedElement\" [settings]=getGaugeSettings(selectedElement) (edit)=\"onGaugeEdit($event)\"></gauge-base>\r\n                        </div>\r\n                    </mat-expansion-panel>\r\n                </div>\r\n                <!-- END RIGHT BAR -->\r\n                <!-- Work Area -->\r\n                <div id=\"svg_editor\" style=\"z-index:-1\">\r\n                    <!-- Rules bar -->\r\n                    <div id=\"rulers\">\r\n                        <div id=\"ruler_corner\"></div>\r\n                        <div id=\"ruler_x\">\r\n                            <div>\r\n                                <canvas height=\"15\"></canvas>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"ruler_y\">\r\n                            <div>\r\n                                <canvas width=\"15\"></canvas>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END Rules bar -->\r\n                    <!-- Draw Area -->\r\n                    <div id=\"workarea\">\r\n                        <style id=\"styleoverrides\" type=\"text/css\" media=\"screen\" scoped=\"scoped\"></style>\r\n                        <div id=\"svgcanvas\" style=\"position:relative\">\r\n                        </div>\r\n                    </div>\r\n                    <!-- END Draw Area -->\r\n                    <!-- Draw top tool bar -->\r\n                    <div id=\"tools_top\" class=\"tools_panel\">\r\n                        <div id=\"editor_panel\">\r\n                            <div class=\"main-btn-sep\"></div>\r\n                            <button mat-button title=\"{{'editor.tools-launch-title' | translate}}\" class=\"main-btn\" (click)=\"onStartCurrent()\">\r\n                                <mat-icon aria-label=\"Launch Current View\">play_arrow</mat-icon>\r\n                            </button>\r\n                            <div class=\"main-btn-sep\"></div>\r\n                            <button mat-button title=\"{{'editor.tools-zoom-title' | translate}}\" class=\"main-btn\" (click)=\"onZoomSelect()\">\r\n                                <mat-icon aria-label=\"Zoom Tool [Ctrl+Up/Down]\">zoom_in</mat-icon>\r\n                            </button>\r\n                            <button mat-button title=\"{{'editor.tools-grid-title' | translate}}\" class=\"main-btn\" (click)=\"onShowGrid()\">\r\n                                <mat-icon aria-label=\"Show Hide Grid\" *ngIf=\"!gridOn\">grid_on</mat-icon>\r\n                                <mat-icon aria-label=\"Show Hide Grid\" *ngIf=\"gridOn\">grid_off</mat-icon>\r\n                            </button>\r\n                            <div id=\"history_panel\">\r\n                                <button mat-button id=\"tool_undo\" title=\"{{'editor.tools-undo-title' | translate}}\" class=\"main-btn\">\r\n                                    <mat-icon aria-label=\"Undo [Z]\">undo</mat-icon>\r\n                                </button>\r\n                                <button mat-button id=\"tool_redo\" title=\"{{'editor.tools-redo-title' | translate}}\" class=\"main-btn\">\r\n                                    <mat-icon aria-label=\"Redo [Y]\">redo</mat-icon>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"selected_panel\">\r\n                            <div class=\"main-btn-sep\"></div>\r\n                            <button mat-button id=\"tool_clone\" title=\"{{'editor.tools-clone-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon aria-label=\"Duplicate Element [D]\">content_copy</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_delete\" title=\"{{'editor.tools-delete-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon aria-label=\"Delete Element [Delete/Backspace]\">content_cut</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_move_bottom\" title=\"{{'editor.tools-movebottom-title' | translate}}\" class=\"main-btn\">\r\n                                <span class=\"to-bottom\"></span>\r\n                            </button>\r\n                            <button mat-button id=\"tool_move_top\" title=\"{{'editor.tools-movetop-title' | translate}}\" class=\"main-btn\">\r\n                                <span class=\"to-top\"></span>\r\n                            </button>\r\n                            <button mat-button id=\"tool_topath\" title=\"{{'editor.tools-topath-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>linear_scale</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_make_link\" title=\"{{'editor.tools-hyperlink-title' | translate}}\" class=\"main-btn\" (click)=\"onMakeHyperlink()\">\r\n                                <mat-icon>link</mat-icon>\r\n                            </button>\r\n                        </div>\r\n                        <div id=\"multiselected_panel\">\r\n                            <div class=\"main-btn-sep\"></div>\r\n                            <button mat-button id=\"tool_clone_multi\" title=\"{{'editor.tools-clonemulti-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon aria-label=\"Clone Elements [C]\">content_copy</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_delete_multi\" title=\"{{'editor.tools-deletemulti-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon aria-label=\"Delete Selected Elements [Delete/Backspace]\">content_cut</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_group_elements\" title=\"{{'editor.tools-group-title' | translate}}\" class=\"main-btn\">\r\n                                <span class=\"group\"></span>\r\n                            </button>\r\n                            <button mat-button id=\"tool_alignleft\" title=\"{{'editor.tools-alignleft-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>format_align_left</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_aligncenter\" title=\"{{'editor.tools-aligncenter-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>format_align_center</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_alignright\" title=\"{{'editor.tools-alignright-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>format_align_right</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_aligntop\" title=\"{{'editor.tools-aligntop-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>vertical_align_top</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_alignmiddle\" title=\"{{'editor.tools-alignmiddle-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>vertical_align_center</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_alignbottom\" title=\"{{'editor.tools-alignbottom-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>vertical_align_bottom</mat-icon>\r\n                            </button>\r\n                        </div>\r\n                        <div id=\"threemoreselected_panel\">\r\n                            <button mat-button id=\"tool_dividevertical\" title=\"{{'editor.tools-dividevertical-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon>format_line_spacing</mat-icon>\r\n                            </button>\r\n                            <button mat-button id=\"tool_dividehorizontal\" title=\"{{'editor.tools-dividehorizontal-title' | translate}}\" class=\"main-btn\">\r\n                                <mat-icon style=\"transform-origin: center center;transform: rotate(90deg);\">format_line_spacing</mat-icon>\r\n                            </button>\r\n                        </div>\r\n                        <div id=\"g_panel\">\r\n                            <button mat-button id=\"tool_ungroup\" title=\"{{'editor.tools-ungroup-title' | translate}}\" class=\"main-btn\">\r\n                                <span class=\"ungroup\"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- tools_top -->\r\n                    <div id=\"cur_context_panel\">\r\n\r\n                    </div>\r\n\r\n                    <!-- tool bottom -->\r\n                    <div class=\"bottom-bar tools_panel\">\r\n                        <!-- Zoom buttons -->\r\n                        <div class=\"zoom-menu\" title=\"{{'editor.tools-zoomlevel-title' | translate}}\">\r\n                            <div class=\"zoom-value\">\r\n                                <input id=\"zoom\" size=\"3\" value=\"100\" type=\"text\" #zoomValue hidden />\r\n                                <div id=\"zoom_dropdown\" class=\"dropdown selection\" style=\"margin-top: 0px; margin-bottom: 0px;margin-right: 0px;\">\r\n                                    <button style=\"margin-top: 2px; width: 80px;cursor: pointer; font-size: 12px;\">\r\n                                        {{zoomValue.value}} %\r\n                                    </button>\r\n                                    <ul>\r\n                                        <li>1000%</li>\r\n                                        <li>400%</li>\r\n                                        <li>200%</li>\r\n                                        <li>100%</li>\r\n                                        <li>50%</li>\r\n                                        <li>25%</li>\r\n                                        <li id=\"fit_to_canvas\" data-val=\"canvas\">{{'editor.tools-zoomlevel-fitcanvas' | translate}}</li>\r\n                                        <li id=\"fit_to_sel\" data-val=\"selection\">{{'editor.tools-zoomlevel-fitsection' | translate}}</li>\r\n                                        <li id=\"fit_to_all\" data-val=\"content\">{{'editor.tools-zoomlevel-fitcontent' | translate}}</li>\r\n                                        <li>100%</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id=\"tools_bottom_2\" class=\"colors\">\r\n                            <input readonly [(colorPicker)]=\"colorFill\" class=\"color-fill\" title=\"{{'editor.tools-fillcolor-title' | translate}}\" [style.background]=\"colorFill\"\r\n                                [cpAlphaChannel]=\"'always'\" [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeFillColor($event)\" [cpPresetColors]=\"defaultColor\"\r\n                                [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButton]=\"true\" [cpOKButtonText]=\"'OK'\"\r\n                                [cpOKButtonClass]=\"'cpOKButtonClass'\" />\r\n                            <input readonly [(colorPicker)]=\"colorStroke\" class=\"color-stroke\" title=\"{{'editor.tools-strokecolor-title' | translate}}\"\r\n                                [style.background]=\"colorStroke\" [cpAlphaChannel]=\"'always'\" [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeStrokeColor($event)\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\"\r\n                                [cpOKButton]=\"true\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" />\r\n                            <div class=\"color_tool\" id=\"tool_fill\" hidden>\r\n                                <label class=\"icon_label\" for=\"fill_color\" title=\"{{'editor.tools-fillcolor-title' | translate}}\"></label>\r\n                                <div class=\"color_block\">\r\n                                    <div id=\"fill_color\" class=\"color_block\" [style.border-color]=\"colorFill\"></div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"color_tool\" id=\"tool_stroke\" hidden>\r\n                                <label class=\"icon_label\" title=\"Change stroke color\"></label>\r\n                                <div class=\"color_block\">\r\n                                    <div id=\"stroke_bg\"></div>\r\n                                    <div id=\"stroke_color\" class=\"color_block\" title=\"{{'editor.tools-strokecolor-title' | translate}}\" [style.border-color]=\"colorStroke\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id=\"tools_bottom_3\" class=\"colors-palette\">\r\n                            <div id=\"palette_holder\">\r\n                                <div id=\"palette\" title=\"{{'editor.tools-palettecolor-title' | translate}}\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id=\"option_lists\" class=\"dropdown\">\r\n                        <ul id=\"position_opts\" class=\"optcols3\">\r\n                            <li class=\"push_button\" id=\"tool_posleft\" title=\"Align Left\"></li>\r\n                            <li class=\"push_button\" id=\"tool_poscenter\" title=\"Align Center\"></li>\r\n                            <li class=\"push_button\" id=\"tool_posright\" title=\"Align Right\"></li>\r\n                            <li class=\"push_button\" id=\"tool_postop\" title=\"Align Top\"></li>\r\n                            <li class=\"push_button\" id=\"tool_posmiddle\" title=\"Align Middle\"></li>\r\n                            <li class=\"push_button\" id=\"tool_posbottom\" title=\"Align Bottom\"></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"editorMode === editorModeType.CARDS\" style=\"width:100%; height:100%\">\r\n                <div class=\"tools_panel\" style=\"display: inline-flex; width: 100%; height: 37px;\">\r\n                    <div class=\"main-btn-sep\" style=\"display: inline-block;\"></div>\r\n                    <button mat-button class=\"main-btn\" style=\"display: inline-block;\" title=\"{{'editor.tools-launch-title' | translate}}\" (click)=\"onStartCurrent()\">\r\n                        <mat-icon aria-label=\"Launch Current View\">play_arrow</mat-icon>\r\n                    </button>\r\n                </div>\r\n                <div style=\"position: absolute; top: 37px; left: 0px;right: 0px; bottom: 0px; background-color: rgba(247, 247, 247, 1);\">\r\n                    <app-cards-view #cardsview [edit]=\"true\" [view]=\"currentView\" [hmi]=\"hmi\" [gaugesManager]=\"gaugesManager\" \r\n                                (editCard)=\"editCardsWidget($event)\" (save)=\"onSaveProject()\"></app-cards-view>\r\n                    <!-- <div class=\"grid-stack\"></div> -->\r\n                    <button mat-fab color=\"primary\" (click)=\"addCard()\" class=\"fab-add\">\r\n                        <mat-icon class=\"\">add</mat-icon>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </mat-drawer-content>\r\n        <!-- work area END -->\r\n    </mat-drawer-container>\r\n\r\n    <!-- svg_editor -->\r\n\r\n    <!-- NOT USED -->\r\n    <div id=\"svg_source_editor\">\r\n        <div class=\"overlay\"></div>\r\n        <div id=\"svg_source_container\">\r\n            <div id=\"tool_source_back\" class=\"toolbar_button\">\r\n                <button id=\"tool_source_save\">Apply Changes</button>\r\n                <button id=\"tool_source_cancel\">Cancel</button>\r\n            </div>\r\n            <div id=\"save_output_btns\">\r\n                <p id=\"copy_save_note\">Copy the contents of this box into a text editor, then save the file with a .svg\r\n                    extension.</p>\r\n                <button id=\"copy_save_done\">Done</button>\r\n            </div>\r\n            <form>\r\n                <textarea id=\"svg_source_textarea\" spellcheck=\"false\"></textarea>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"svg_docprops\">\r\n        <div class=\"overlay\"></div>\r\n        <div id=\"svg_docprops_container\">\r\n            <div id=\"tool_docprops_back\" class=\"toolbar_button\">\r\n                <button id=\"tool_docprops_save\">OK</button>\r\n                <button id=\"tool_docprops_cancel\">Cancel</button>\r\n            </div>\r\n\r\n\r\n            <fieldset id=\"svg_docprops_docprops\">\r\n                <legend id=\"svginfo_image_props\">Image Properties</legend>\r\n                <label>\r\n                    <span id=\"svginfo_title\">Title:</span>\r\n                    <input type=\"text\" id=\"canvas_title\" />\r\n                </label>\r\n\r\n                <fieldset id=\"change_resolution\">\r\n                    <legend id=\"svginfo_dim\">Canvas Dimensions</legend>\r\n\r\n                    <label>\r\n                        <span id=\"svginfo_width\">width:</span>\r\n                        <input type=\"text\" id=\"canvas_width\" size=\"6\" />\r\n                    </label>\r\n\r\n                    <label>\r\n                        <span id=\"svginfo_height\">height:</span>\r\n                        <input type=\"text\" id=\"canvas_height\" size=\"6\" />\r\n                    </label>\r\n\r\n                    <label>\r\n                        <select id=\"resolution\">\r\n                            <option id=\"selectedPredefined\" selected=\"selected\">Select predefined:</option>\r\n                            <option>640x480</option>\r\n                            <option>800x600</option>\r\n                            <option>1024x768</option>\r\n                            <option>1280x960</option>\r\n                            <option>1600x1200</option>\r\n                            <option id=\"fitToContent\" value=\"content\">Fit to Content</option>\r\n                        </select>\r\n                    </label>\r\n                </fieldset>\r\n\r\n                <fieldset id=\"image_save_opts\">\r\n                    <legend id=\"includedImages\">Included Images</legend>\r\n                    <label>\r\n                        <input type=\"radio\" name=\"image_opt\" value=\"embed\" checked=\"checked\" />\r\n                        <span id=\"image_opt_embed\">Embed data (local files)</span>\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"radio\" name=\"image_opt\" value=\"ref\" />\r\n                        <span id=\"image_opt_ref\">Use file reference</span>\r\n                    </label>\r\n                </fieldset>\r\n            </fieldset>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"svg_prefs\">\r\n        <div class=\"overlay\"></div>\r\n        <div id=\"svg_prefs_container\">\r\n            <div id=\"tool_prefs_back\" class=\"toolbar_button\">\r\n                <button id=\"tool_prefs_save\">OK</button>\r\n                <button id=\"tool_prefs_cancel\">Cancel</button>\r\n            </div>\r\n\r\n            <fieldset>\r\n                <legend id=\"svginfo_editor_prefs\">Editor Preferences</legend>\r\n\r\n                <label>\r\n                    <span id=\"svginfo_lang\">Language:</span>\r\n                    <select id=\"lang_select\">\r\n                        <option id=\"lang_ar\" value=\"ar\"></option>\r\n                        <option id=\"lang_cs\" value=\"cs\">etina</option>\r\n                        <option id=\"lang_de\" value=\"de\">Deutsch</option>\r\n                        <option id=\"lang_en\" value=\"en\" selected=\"selected\">English</option>\r\n                        <option id=\"lang_es\" value=\"es\">Espaol</option>\r\n                        <option id=\"lang_fa\" value=\"fa\"></option>\r\n                        <option id=\"lang_fr\" value=\"fr\">Franais</option>\r\n                        <option id=\"lang_fy\" value=\"fy\">Frysk</option>\r\n                        <option id=\"lang_hi\" value=\"hi\">&#2361;&#2367;&#2344;&#2381;&#2342;&#2368;,\r\n                            &#2361;&#2367;&#2306;&#2342;&#2368;</option>\r\n                        <option id=\"lang_it\" value=\"it\">Italiano</option>\r\n                        <option id=\"lang_ja\" value=\"ja\"></option>\r\n                        <option id=\"lang_nl\" value=\"nl\">Nederlands</option>\r\n                        <option id=\"lang_pl\" value=\"pl\">Polski</option>\r\n                        <option id=\"lang_pt-BR\" value=\"pt-BR\">Portugus (BR)</option>\r\n                        <option id=\"lang_ro\" value=\"ro\">Romn</option>\r\n                        <option id=\"lang_ru\" value=\"ru\"></option>\r\n                        <option id=\"lang_sk\" value=\"sk\">Slovenina</option>\r\n                        <option id=\"lang_sl\" value=\"sl\">Slovenina</option>\r\n                        <option id=\"lang_zh-TW\" value=\"zh-TW\"></option>\r\n                    </select>\r\n                </label>\r\n\r\n                <label>\r\n                    <span id=\"svginfo_icons\">Icon size:</span>\r\n                    <select id=\"iconsize\">\r\n                        <option id=\"icon_small\" value=\"s\">Small</option>\r\n                        <option id=\"icon_medium\" value=\"m\" selected=\"selected\">Medium</option>\r\n                        <option id=\"icon_large\" value=\"l\">Large</option>\r\n                        <option id=\"icon_xlarge\" value=\"xl\">Extra Large</option>\r\n                    </select>\r\n                </label>\r\n\r\n                <fieldset id=\"change_background\">\r\n                    <legend id=\"svginfo_change_background\">Editor Background</legend>\r\n                    <div id=\"bg_blocks\"></div>\r\n                    <label>\r\n                        <span id=\"svginfo_bg_url\">URL:</span>\r\n                        <input type=\"text\" id=\"canvas_bg_url\" />\r\n                    </label>\r\n                    <p id=\"svginfo_bg_note\">Note: Background will not be saved with image.</p>\r\n                </fieldset>\r\n\r\n                <fieldset id=\"change_grid\">\r\n                    <legend id=\"svginfo_grid_settings\">Grid</legend>\r\n                    <label>\r\n                        <span id=\"svginfo_snap_onoff\">Snapping on/off</span>\r\n                        <input type=\"checkbox\" value=\"snapping_on\" id=\"grid_snapping_on\" />\r\n                    </label>\r\n                    <label>\r\n                        <span id=\"svginfo_snap_step\">Snapping Step-Size:</span>\r\n                        <input type=\"text\" id=\"grid_snapping_step\" size=\"3\" value=\"10\" />\r\n                    </label>\r\n                    <label>\r\n                        <span id=\"svginfo_grid_color\">Grid color:</span>\r\n                        <input type=\"text\" id=\"grid_color\" size=\"3\" value=\"#000\" />\r\n                    </label>\r\n                </fieldset>\r\n\r\n                <fieldset id=\"units_rulers\">\r\n                    <legend id=\"svginfo_units_rulers\">Units &amp; Rulers</legend>\r\n                    <label>\r\n                        <span id=\"svginfo_rulers_onoff\">Show rulers</span>\r\n                        <input type=\"checkbox\" value=\"show_rulers\" id=\"show_rulers\" checked=\"checked\" />\r\n                    </label>\r\n                    <label>\r\n                        <span id=\"svginfo_unit\">Base Unit:</span>\r\n                        <select id=\"base_unit\">\r\n                            <option value=\"px\">Pixels</option>\r\n                            <option value=\"cm\">Centimeters</option>\r\n                            <option value=\"mm\">Millimeters</option>\r\n                            <option value=\"in\">Inches</option>\r\n                            <option value=\"pt\">Points</option>\r\n                            <option value=\"pc\">Picas</option>\r\n                            <option value=\"em\">Ems</option>\r\n                            <option value=\"ex\">Exs</option>\r\n                        </select>\r\n                    </label>\r\n                </fieldset>\r\n\r\n            </fieldset>\r\n\r\n        </div>\r\n    </div>\r\n    <!-- NOT USED END -->\r\n\r\n    <div id=\"dialog_box\">\r\n        <div class=\"overlay\"></div>\r\n        <div id=\"dialog_container\">\r\n            <div id=\"dialog_content\"></div>\r\n            <div id=\"dialog_buttons\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- canvas context menu -->\r\n    <ul id=\"cmenu_canvas\" class=\"contextMenu svg-workarea-contextmenu\">\r\n        <li>\r\n            <a id=\"#interactivity\" (click)=\"isInteractivtyEnabled(selectedElement) && onGaugeEditEx()\">{{'editor.interactivity' | translate}}</a>\r\n        </li>\r\n        <li class=\"separator\">\r\n            <a id=\"#cut\">{{'editor.cmenu-cut' | translate}}</a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#copy\">{{'editor.cmenu-copy' | translate}}</a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#paste\">{{'editor.cmenu-paste' | translate}}</a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#paste_in_place\">{{'editor.cmenu-paste-place' | translate}}</a>\r\n        </li>\r\n        <li class=\"separator\">\r\n            <a id=\"#delete\">{{'editor.cmenu-delete' | translate}}</a>\r\n        </li>\r\n        <li class=\"separator\">\r\n            <a id=\"#group\">{{'editor.cmenu-group' | translate}}\r\n                <span class=\"shortcut\">G</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#ungroup\">{{'editor.cmenu-ungroup' | translate}}\r\n                <span class=\"shortcut\">G</span>\r\n            </a>\r\n        </li>\r\n        <li class=\"separator\">\r\n            <a id=\"#move_front\">{{'editor.cmenu-bring-front' | translate}}\r\n                <span class=\"shortcut\">SHFT+CTRL+]</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#move_up\">{{'editor.cmenu-bring-forward' | translate}}\r\n                <span class=\"shortcut\">CTRL+]</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#move_down\">{{'editor.cmenu-send-backward' | translate}}\r\n                <span class=\"shortcut\">CTRL+[</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a id=\"#move_back\">{{'editor.cmenu-send-back' | translate}}\r\n                <span class=\"shortcut\">SHFT+CTRL+[</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    <!-- canvas context menu END -->\r\n\r\n    <!-- layers context menu -->\r\n    <ul id=\"cmenu_layers\" class=\"contextMenu\" style=\"display: none\">\r\n        <li>\r\n            <a href=\"#dupe\">{{'editor.cmenu-layer-duplicate' | translate}}</a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#delete\">{{'editor.cmenu-layer-delete' | translate}}</a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#merge_down\">{{'editor.cmenu-layer-marge-down' | translate}}</a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#merge_all\">{{'editor.cmenu-layer-marge-all' | translate}}</a>\r\n        </li>\r\n    </ul>\r\n    <!-- layers context menu END -->\r\n</div>"

/***/ }),

/***/ "./app/editor/editor.component.ts":
/*!****************************************!*\
  !*** ./app/editor/editor.component.ts ***!
  \****************************************/
/*! exports provided: EditorComponent, DialogNewDoc, DialogDocProperty, DialogDocName, DialogLinkProperty, EditorModeType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorComponent", function() { return EditorComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogNewDoc", function() { return DialogNewDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogDocProperty", function() { return DialogDocProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogDocName", function() { return DialogDocName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogLinkProperty", function() { return DialogLinkProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorModeType", function() { return EditorModeType; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_windowref__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_helpers/windowref */ "./app/_helpers/windowref.ts");
/* harmony import */ var _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gauges/gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _gauges_controls_html_chart_chart_property_chart_property_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../gauges/controls/html-chart/chart-property/chart-property.component */ "./app/gauges/controls/html-chart/chart-property/chart-property.component.ts");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var _gauges_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../gauges/gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../gui-helpers/confirm-dialog/confirm-dialog.component */ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../_helpers/define */ "./app/_helpers/define.ts");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! file-saver */ "../node_modules/file-saver/FileSaver.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _gauges_controls_html_bag_bag_property_bag_property_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../gauges/controls/html-bag/bag-property/bag-property.component */ "./app/gauges/controls/html-bag/bag-property/bag-property.component.ts");
/* harmony import */ var _gauges_controls_pipe_pipe_property_pipe_property_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../gauges/controls/pipe/pipe-property/pipe-property.component */ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.ts");
/* harmony import */ var _gauges_controls_slider_slider_property_slider_property_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../gauges/controls/slider/slider-property/slider-property.component */ "./app/gauges/controls/slider/slider-property/slider-property.component.ts");
/* harmony import */ var _gauges_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../gauges/controls/html-input/html-input.component */ "./app/gauges/controls/html-input/html-input.component.ts");
/* harmony import */ var _gauges_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../gauges/controls/html-button/html-button.component */ "./app/gauges/controls/html-button/html-button.component.ts");
/* harmony import */ var _gauges_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../gauges/controls/html-select/html-select.component */ "./app/gauges/controls/html-select/html-select.component.ts");
/* harmony import */ var _gauges_controls_value_value_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../gauges/controls/value/value.component */ "./app/gauges/controls/value/value.component.ts");
/* harmony import */ var _gauges_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../gauges/controls/gauge-progress/gauge-progress.component */ "./app/gauges/controls/gauge-progress/gauge-progress.component.ts");
/* harmony import */ var _gauges_controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../gauges/controls/gauge-semaphore/gauge-semaphore.component */ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.ts");
/* harmony import */ var _gauges_controls_html_switch_html_switch_property_html_switch_property_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../gauges/controls/html-switch/html-switch-property/html-switch-property.component */ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.ts");
/* harmony import */ var _card_config_card_config_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./card-config/card-config.component */ "./app/editor/card-config/card-config.component.ts");
/* harmony import */ var _cards_view_cards_view_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../cards-view/cards-view.component */ "./app/cards-view/cards-view.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





























var EditorComponent = /** @class */ (function () {
    function EditorComponent(projectService, winRef, dialog, changeDetector, translateService, gaugesManager, viewContainerRef, resolver, mdIconRegistry, sanitizer) {
        this.projectService = projectService;
        this.winRef = winRef;
        this.dialog = dialog;
        this.changeDetector = changeDetector;
        this.translateService = translateService;
        this.gaugesManager = gaugesManager;
        this.viewContainerRef = viewContainerRef;
        this.resolver = resolver;
        this.mdIconRegistry = mdIconRegistry;
        this.sanitizer = sanitizer;
        this.colorDefault = { fill: '#FFFFFF', stroke: '#000000' };
        this.fonts = _helpers_define__WEBPACK_IMPORTED_MODULE_13__["Define"].fonts;
        this.isLoading = true;
        this.editorModeType = EditorModeType;
        this.editorMode = EditorModeType.SVG;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].defaultColor;
        this.colorFill = this.colorDefault.fill;
        this.colorStroke = this.colorDefault.stroke;
        this.currentView = null;
        this.hmi = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["Hmi"](); // = {_id: '', name: '', networktype: '', ipaddress: '', maskaddress: '' };
        this.currentMode = '';
        this.gridOn = false;
        this.selectedElement = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["SelElement"]();
        this.panelsState = {
            enabled: false,
            panelView: true,
            panelGeneral: true,
            panelC: true,
            panelD: true,
            panelS: true
        };
        this.cardViewType = _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].cards);
        this.shapesGrps = [];
        this.gaugesRef = [];
        mdIconRegistry.addSvgIcon('group', sanitizer.bypassSecurityTrustResourceUrl('/assets/images/group.svg'));
        mdIconRegistry.addSvgIcon('to_bottom', sanitizer.bypassSecurityTrustResourceUrl('/assets/images/to-bottom.svg'));
        mdIconRegistry.addSvgIcon('to_top', sanitizer.bypassSecurityTrustResourceUrl('/assets/images/to-top.svg'));
        // this.gaugesManager.stopDemo();
    }
    //#region Implemented onInit / onAfterInit event
    /**
     * Init Save Project event and clear gauge memory (to manage event signal/gauge)
     */
    EditorComponent.prototype.ngOnInit = function () {
        var _this = this;
        try {
            this.subscriptionSave = this.projectService.onSaveCurrent.subscribe(function (mode) {
                if (mode === _services_project_service__WEBPACK_IMPORTED_MODULE_4__["SaveMode"].Current) {
                    _this.onSaveProject();
                }
                else if (mode === _services_project_service__WEBPACK_IMPORTED_MODULE_4__["SaveMode"].SaveAs) {
                    _this.projectService.saveAs();
                }
                else if (mode === _services_project_service__WEBPACK_IMPORTED_MODULE_4__["SaveMode"].Save) {
                    _this.onSaveProject();
                }
            });
            this.gaugesManager.clearMemory();
        }
        catch (err) {
            console.log(err);
        }
    };
    /**
     * after init event
     */
    EditorComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.myInit();
        this.setMode('select');
        var hmi = this.projectService.getHmi();
        if (hmi) {
            this.loadHmi();
        }
        this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (load) {
            _this.loadHmi();
        }, function (error) {
            console.log('Error loadHMI');
        });
        this.changeDetector.detectChanges();
    };
    EditorComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionSave) {
                this.subscriptionSave.unsubscribe();
            }
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
        }
        catch (e) {
        }
        this.onSaveProject();
    };
    //#endregion
    //#region General private function
    /**
     * Init, first init the svg-editor component
     */
    EditorComponent.prototype.myInit = function () {
        var _this = this;
        try {
            // first init svg-editor component
            mypathseg.initPathSeg();
            mybrowser.initBrowser();
            mysvgutils.initSvgutils();
            myselect.initSelect();
            mydraw.initDraw();
            mysvgcanvas.initSvgCanvas();
            // init svg-editor
            var toinit = mysvgeditor.initSvgEditor($, function (selected) {
                _this.onSelectedElement(selected);
                var ga = _this.getGaugeSettings(selected);
            }, function (type, args) {
                _this.onExtensionLoaded(args);
                _this.clearSelection();
                if (type === 'shapes') {
                    _this.setShapes();
                }
            }, function (type, color) {
                if (type === 'fill') {
                    _this.colorFill = color;
                    _this.setFillColor(_this.colorFill);
                    _this.checkMySelectedToSetColor(_this.colorFill, null, _this.winRef.nativeWindow.svgEditor.getSelectedElements());
                    // console.log('fill ' + color);
                }
                else if (type === 'stroke') {
                    _this.colorStroke = color;
                    _this.checkMySelectedToSetColor(null, _this.colorStroke, _this.winRef.nativeWindow.svgEditor.getSelectedElements());
                    // console.log('stroke ' + color);
                }
            }, function (eleadded) {
                console.log('added: ' + eleadded.id + ' ' + eleadded.type);
                var ga = _this.getGaugeSettings(eleadded);
                _this.checkGaugeAdded(ga);
                // this.hmiService.addGauge(this.hmi, eleadded);
            }, function (eleremoved) {
                _this.onRemoveElement(eleremoved);
            }, function (eleresized) {
                if (eleresized && eleresized.id) {
                    var ga = _this.getGaugeSettings(eleresized);
                    _this.gaugesManager.checkElementToResize(ga, _this.resolver, _this.viewContainerRef);
                }
            }, function (copiedpasted) {
                if (copiedpasted && copiedpasted.copy && copiedpasted.past) {
                    copiedpasted.copy = copiedpasted.copy.filter(function (e) { return e; });
                    if (copiedpasted.copy.length == copiedpasted.past.length) {
                        for (var i = 0; i < copiedpasted.copy.length; i++) {
                            var srctype = copiedpasted.copy[i].getAttribute("type");
                            var srcid = copiedpasted.copy[i].getAttribute("id");
                            if (srcid && srctype) {
                                var gasrc = _this.searchGaugeSettings({ id: srcid, type: srctype });
                                var gadest = _this.gaugesManager.createSettings(copiedpasted.past[i].id, gasrc.type);
                                gadest.property = JSON.parse(JSON.stringify(gasrc.property));
                                _this.setGaugeSettings(gadest);
                                _this.checkGaugeAdded(gadest);
                            }
                        }
                    }
                }
            });
            this.winRef.nativeWindow.svgEditor.init();
            $(initContextmenu);
        }
        catch (err) {
            console.log(err);
        }
        this.setFillColor(this.colorFill);
        this.setFillColor(this.colorStroke);
    };
    /**
     * Load the hmi resource and bind it
     */
    EditorComponent.prototype.loadHmi = function () {
        this.currentView = null;
        this.hmi = this.projectService.getHmi();
        // check new hmi
        if (!this.hmi.views || this.hmi.views.length <= 0) {
            this.hmi.views = [];
            this.addView();
            // this.selectView(this.hmi.views[0].name);
        }
        else {
            var oldsel = localStorage.getItem("@frango.webeditor.currentview");
            if (!oldsel && this.hmi.views.length) {
                oldsel = this.hmi.views[0].name;
            }
            for (var i = 0; i < this.hmi.views.length; i++) {
                if (this.hmi.views[i].name === oldsel) {
                    this.onSelectView(this.hmi.views[i]);
                    break;
                }
            }
        }
        this.loadPanelState();
        this.isLoading = false;
    };
    /**
     * Set or Add the View to Project
     * Save the View to Server
     */
    EditorComponent.prototype.saveView = function (view) {
        this.projectService.setView(view);
    };
    /**
     * Remove the View from Project
     * Remove the View from Server
     * @param view
     */
    EditorComponent.prototype.removeView = function (view) {
        this.projectService.removeView(view);
    };
    EditorComponent.prototype.getContent = function () {
        if (this.currentView.type === _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].cards)) {
            this.currentView.svgcontent = this.cardsview.getContent();
            return this.currentView.svgcontent;
            // let temp = JSON.parse(JSON.stringify(this.dashboard));
            // for (let i = 0; i < temp.length; i++) {
            //     delete temp[i]['content'];
            //     delete temp[i]['background'];
            // }
            // return JSON.stringify(temp);
        }
        else {
            return this.winRef.nativeWindow.svgEditor.getSvgString();
        }
    };
    /**
     * Take shapes from svg-editor to show in panel
     */
    EditorComponent.prototype.setShapes = function () {
        var temp = this.winRef.nativeWindow.svgEditor.getShapes();
        var grps = [];
        Object.keys(temp).forEach(function (grpk) {
            grps.push({ name: grpk, shapes: temp[grpk] });
        }),
            this.shapesGrps = grps;
    };
    /**
     * get gauge settings from current view items, if not exist create void settings from GaugesManager
     * @param ele gauge id
     */
    EditorComponent.prototype.getGaugeSettings = function (ele) {
        if (ele && this.currentView) {
            if (this.currentView.items[ele.id]) {
                return this.currentView.items[ele.id];
            }
            return this.gaugesManager.createSettings(ele.id, ele.type);
        }
        return null;
    };
    /**
     * search gauge settings on all views items, if not exist create void settings from GaugesManager
     * @param ele gauge element
     */
    EditorComponent.prototype.searchGaugeSettings = function (ele) {
        if (ele) {
            if (this.currentView) {
                if (this.currentView.items[ele.id]) {
                    return this.currentView.items[ele.id];
                }
            }
            for (var i = 0; i < this.hmi.views.length; i++) {
                if (this.hmi.views[i].items[ele.id]) {
                    return this.hmi.views[i].items[ele.id];
                }
            }
            return this.gaugesManager.createSettings(ele.id, ele.type);
        }
        return null;
    };
    /**
     * add the gauge settings to the current view items list
     * @param ga GaugeSettings
     */
    EditorComponent.prototype.setGaugeSettings = function (ga) {
        this.currentView.items[ga.id] = ga;
    };
    /**
     * check the gauge in current view of element
     * @param ele element to check
     */
    EditorComponent.prototype.checkGaugeInView = function (ele) {
        var g = this.getGaugeSettings(ele);
        if (!g) {
        }
    };
    /**
     * check and set the color panel with selected element
     * @param ele selected element
     */
    EditorComponent.prototype.checkColors = function (ele) {
        var eles = this.winRef.nativeWindow.svgEditor.getSelectedElements();
        var clrfill = null;
        var clrstroke = null;
        if (eles && (eles.length <= 1 || !eles[1]) && eles[0]) {
            // check for gauge fill and stroke color
            var colors = { fill: clrfill, stroke: clrstroke };
            if (_gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"].checkGaugeColor(ele, eles, colors)) {
                if (colors.fill) {
                    this.colorFill = colors.fill;
                }
                if (colors.stroke) {
                    this.colorStroke = colors.stroke;
                }
            }
            else {
                if (eles[0].attributes['fill']) {
                    clrfill = eles[0].attributes['fill'].value;
                    this.colorFill = clrfill;
                }
                if (eles[0].attributes['stroke']) {
                    clrstroke = eles[0].attributes['stroke'].value;
                    this.colorStroke = clrstroke;
                }
                // this.setFillColor(this.colorFill);
                // console.log('f:' + this.colorFill + ' s:' + this.colorStroke);
            }
        }
    };
    /**
     * return the fill color of svg element 'g'
     * @param eleId
     */
    EditorComponent.prototype.getFillColor = function (eleId) {
        if (eleId) {
            var ele = document.getElementById(eleId);
            if (ele) {
                return ele.getAttribute('fill');
            }
        }
    };
    /**
     * load the view to svg-editor and canvas
     * @param view view to load
     */
    EditorComponent.prototype.loadView = function (view) {
        var _this = this;
        if (view) {
            this.clearEditor();
            if (this.editorMode !== EditorModeType.CARDS) {
                var svgcontent = '';
                var v_1 = this.getView(view.name);
                if (v_1) {
                    svgcontent = v_1.svgcontent;
                }
                if (svgcontent.length <= 0) {
                    svgcontent = '<svg id="' + view.name + '" width="' + view.profile.width + '" height="' + view.profile.height +
                        '" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">' +
                        '<filter id="blur-filter" x="-3" y="-3" width="200" height="200"><feGaussianBlur in="SourceGraphic" stdDeviation="3" /></filter>' +
                        '<g><title>Layer 1</title></g></svg>';
                }
                if (this.winRef.nativeWindow.svgEditor) {
                    this.winRef.nativeWindow.svgEditor.setDocProperty(view.name, view.profile.width, view.profile.height, view.profile.bkcolor);
                    this.winRef.nativeWindow.svgEditor.setSvgString(svgcontent);
                }
                // check gauge to init
                this.gaugesRef = [];
                setTimeout(function () {
                    for (var key in v_1.items) {
                        var ga = _this.getGaugeSettings(v_1.items[key]);
                        _this.checkGaugeAdded(ga);
                    }
                    _this.winRef.nativeWindow.svgEditor.refreshCanvas();
                }, 500);
            }
            else if (this.cardsview) {
                this.cardsview.view = view;
                this.cardsview.reload();
            }
        }
    };
    /**
     * get view from hmi views list
     * @param name view name
     */
    EditorComponent.prototype.getView = function (name) {
        for (var i = 0; i < this.hmi.views.length; i++) {
            if (this.hmi.views[i].name === name) {
                return this.hmi.views[i];
            }
        }
        return null;
    };
    EditorComponent.prototype.getViewsSorted = function () {
        return this.hmi.views.sort(function (a, b) {
            if (a.name > b.name) {
                return 1;
            }
            return -1;
        });
    };
    //#endregion
    //#region Cards Widget
    EditorComponent.prototype.editCardsWidget = function (item) {
        var _this = this;
        var exist = this.cardsview.getWindgetViewName();
        if (item.card.data && exist.indexOf(item.card.data) >= 0) {
            exist = exist.filter(function (n) { return n !== item.card.data; });
        }
        var cardType = _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].cards);
        var views = this.hmi.views.filter(function (v) { return v.type !== cardType && exist.indexOf(v.name) < 0; }).map(function (v) { return v.name; });
        var dialogRef = this.dialog.open(_card_config_card_config_component__WEBPACK_IMPORTED_MODULE_25__["CardConfigComponent"], {
            position: { top: '60px' },
            data: { item: item, views: views }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                var view = _this.hmi.views.filter(function (v) { return v.name === item.card.data; });
                if (view && view.length) {
                    item.content = view[0];
                }
                else {
                    item.content = null;
                }
                _this.onSaveProject();
                _this.cardsview.render();
            }
        });
    };
    EditorComponent.prototype.addCard = function () {
        this.cardsview.addCardsWidget();
    };
    EditorComponent.prototype.saveCards = function (dashboard) {
        // this.dashboard.splice(this.dashboard.indexOf(item), 1);
    };
    // #region 
    //#region Svg-editor event and function interface
    /**
     * set the mode to svg-editor (line,text,...)
     * @param mode mode to set
     */
    EditorComponent.prototype.setMode = function (mode) {
        this.currentMode = mode;
        this.clearSelection();
        this.checkFillAndStrokeColor();
        this.winRef.nativeWindow.svgEditor.clickToSetMode(mode);
    };
    /**
     * check with the current mode
     * @param mode mode to check
     */
    EditorComponent.prototype.isModeActive = function (mode) {
        return (this.currentMode === mode);
    };
    /**
     * clear svg-editor and the canvas
     */
    EditorComponent.prototype.clearEditor = function () {
        if (this.winRef.nativeWindow.svgEditor) {
            this.winRef.nativeWindow.svgEditor.clickClearAll();
        }
    };
    /**
     * check if fill and stroke not the same color is, text and label set all to black
     */
    EditorComponent.prototype.checkFillAndStrokeColor = function () {
        if (this.colorFill && this.colorStroke && this.colorFill === this.colorStroke) {
            this.setFillColor(this.colorDefault.fill);
            this.setStrokeColor(this.colorDefault.stroke);
        }
    };
    /**
     * event from svg-editor by new selection svg element
     * @param event svg element
     */
    EditorComponent.prototype.onSelectedElement = function (elems) {
        this.selectedElement = null;
        try {
            // to remove some strange effects
            if (document.activeElement !== document.body)
                document.activeElement.blur();
        }
        catch (e) { }
        if (elems) {
            for (var i = 0; i < elems.length; i++) {
                // console.log('selected: ' + event[i].id + ' ' + event[i].type);
            }
            if (elems.length <= 1) {
                this.selectedElement = elems[0];
                this.selectedElement.type = elems[0].type || 'svg-ext-shapes-' + (this.currentMode || 'default');
                this.checkColors(this.selectedElement);
                this.checkGaugeInView(this.selectedElement);
            }
        }
    };
    /**
     * event from svg-editor: for every loaded extension
     * @param args
     */
    EditorComponent.prototype.onExtensionLoaded = function (args) {
        if (args && args.length) {
            // console.log('ext \'' + args[0] + '\' loaded');
        }
    };
    /**
     * event from svg-editor: change fill color
     * @param event color code
     */
    EditorComponent.prototype.onChangeFillColor = function (event) {
        this.setFillColor(event);
        this.checkMySelectedToSetColor(this.colorFill, null, this.winRef.nativeWindow.svgEditor.getSelectedElements());
    };
    /**
     * event change stroke color (from bottom color panel)
     * @param event color code
     */
    EditorComponent.prototype.onChangeStrokeColor = function (event) {
        this.setStrokeColor(event);
        this.checkMySelectedToSetColor(null, this.colorStroke, this.winRef.nativeWindow.svgEditor.getSelectedElements());
    };
    /**
     * event from svg-editor: svg element removed
     * @param ele svg element
     */
    EditorComponent.prototype.onRemoveElement = function (ele) {
        if (this.currentView && this.currentView.items && ele) {
            for (var i = 0; i < ele.length; i++) {
                if (this.currentView.items[ele[i].id]) {
                    delete this.currentView.items[ele[i].id];
                }
            }
        }
    };
    /**
     * set the fill color (to svg-editor)
     * @param event color code
     */
    EditorComponent.prototype.setFillColor = function (event) {
        var color = event;
        if (color.charAt(0) === '#')
            color = color.slice(1);
        var alfa = 100;
        if (this.winRef.nativeWindow.svgEditor) {
            this.winRef.nativeWindow.svgEditor.setColor(color, alfa, "fill");
        }
        // this.fillcolor;
    };
    /**
     * set stroke color (to svg-editor)
     * @param event color code
     */
    EditorComponent.prototype.setStrokeColor = function (event) {
        var color = event;
        if (color.charAt(0) === '#')
            color = color.slice(1);
        var alfa = 100;
        this.winRef.nativeWindow.svgEditor.setColor(color, alfa, "stroke");
        // this.fillcolor;
    };
    /**
     * set the marker to selected element (->, <->, <-)
     * @param id marker id (start,mid,end)
     * @param marker marker type
     */
    EditorComponent.prototype.onSetMarker = function (id, marker) {
        if (marker >= 0) {
            this.winRef.nativeWindow.svgEditor.setMarker(id, marker);
        }
    };
    /**
     * align the selected element
     * @param letter align type (left,center,right,top,middle,bottom)
     */
    EditorComponent.prototype.onAlignSelected = function (letter) {
        this.winRef.nativeWindow.svgEditor.alignSelectedElements(letter.charAt(0));
    };
    /**
     * select the zoom area function
     */
    EditorComponent.prototype.onZoomSelect = function () {
        this.winRef.nativeWindow.svgEditor.clickZoom();
    };
    /**
     * show grid in canvas
     */
    EditorComponent.prototype.onShowGrid = function () {
        this.gridOn = this.gridOn = !this.gridOn;
        this.winRef.nativeWindow.svgEditor.clickExtension("view_grid");
        this.winRef.nativeWindow.svgEditor.enableGridSnapping(this.gridOn);
    };
    /**
     * add image to view
     * @param event selected file
     */
    EditorComponent.prototype.onSetImage = function (event) {
        if (event.target.files) {
            this.imagefile = 'assets/images/' + event.target.files[0].name;
            var self_1 = this;
            if (this.imagefile.split('.').pop().toLowerCase() === 'svg') {
                var reader = new FileReader();
                reader.onloadend = function (e) {
                    self_1.winRef.nativeWindow.svgEditor.setSvgImageToAdd(e.target.result);
                    self_1.setMode('svg-image');
                };
                reader.readAsText(event.target.files[0]);
            }
            else {
                this.getBase64Image(event.target.files[0], function (imgdata) {
                    var data = imgdata;
                    self_1.winRef.nativeWindow.svgEditor.promptImgURLcallback = data;
                    self_1.setMode('image');
                });
            }
        }
    };
    /**
     * convert image file to code to attach in svg
     * @param file image file
     * @param callback event for end load image
     */
    EditorComponent.prototype.getBase64Image = function (file, callback) {
        var fr = new FileReader();
        fr.onload = function () {
            callback(fr.result);
        };
        fr.readAsDataURL(file);
    };
    /**
     * set stroke to svg selected (joinmieter, joinround, joinbevel, capbutt, capsquare, capround)
     * @param option stroke type
     */
    EditorComponent.prototype.onSetStrokeOption = function (option) {
        this.winRef.nativeWindow.svgEditor.setStrokeOption(option);
    };
    /**
     * set shadow to svg selected
     * @param event shadow
     */
    EditorComponent.prototype.onSetShadowOption = function (event) {
        this.winRef.nativeWindow.svgEditor.onSetShadowOption(event);
    };
    /**
     * set font to svg selected
     * @param font font family
     */
    EditorComponent.prototype.onFontFamilyChange = function (font) {
        this.winRef.nativeWindow.svgEditor.setFontFamily(font);
    };
    /**
     * align the svg text (left,middle,right)
     * @param align type
     */
    EditorComponent.prototype.onTextAlignChange = function (align) {
        this.winRef.nativeWindow.svgEditor.setTextAlign(align);
    };
    EditorComponent.prototype.checkMySelectedToSetColor = function (bkcolor, color, elems) {
        _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"].initElementColor(bkcolor, color, elems);
    };
    /**
     * check and set the special gauge like ngx-uplot, ngx-gauge, ... if added
     * if return true then the GaugeSettings is changed have to set again
     * @param ga
     */
    EditorComponent.prototype.checkGaugeAdded = function (ga) {
        var gauge = this.gaugesManager.initElementAdded(ga, this.resolver, this.viewContainerRef, false);
        if (gauge) {
            if (gauge !== true) {
                if (this.gaugesRef.indexOf(ga.id) === -1) {
                    this.gaugesRef[ga.id] = { type: ga.type, ref: gauge };
                }
            }
            this.setGaugeSettings(ga);
        }
    };
    /**
     * dialog to define hyperlink
     */
    EditorComponent.prototype.onMakeHyperlink = function () {
        var _this = this;
        var dialogRef = this.dialog.open(DialogLinkProperty, {
            data: { url: 'https://' },
            position: { top: '60px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result.url) {
                _this.winRef.nativeWindow.svgEditor.makeHyperlink(result.url);
            }
        });
    };
    //#endregion
    //#region Toolbar Top Events
    /**
     * save current project and launch the Test in new Windows 'lab'
     */
    EditorComponent.prototype.onStartCurrent = function () {
        this.onSaveProject();
        this.winRef.nativeWindow.open('lab', 'MyTest', 'width=800,height=640,menubar=0');
    };
    //#endregion
    //#region Project Events
    /**
     * Save Project
     * Save the current View
     */
    EditorComponent.prototype.onSaveProject = function () {
        if (this.currentView) {
            this.currentView.svgcontent = this.getContent();
            this.saveView(this.currentView);
        }
    };
    //#endregion
    //#region View Events (Add/Rename/Delete/...)
    EditorComponent.prototype.onAddDoc = function () {
        var _this = this;
        var exist = this.hmi.views.map(function (v) { return v.name; });
        var dialogRef = this.dialog.open(DialogNewDoc, {
            position: { top: '60px' },
            data: { name: '', type: _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].svg), exist: exist }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result.name && result.type) {
                _this.addView(result.name, result.type);
            }
        });
    };
    /**
     * Add View to Project with a default name View_[x]
     */
    EditorComponent.prototype.addView = function (name, type) {
        if (this.hmi.views) {
            var nn = "View_";
            var idx = 1;
            for (idx = 1; idx < this.hmi.views.length + 2; idx++) {
                var found = false;
                for (var i = 0; i < this.hmi.views.length; i++) {
                    if (this.hmi.views[i].name === nn + idx) {
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
            var v = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["View"]();
            v.type = type;
            if (name) {
                v.name = name;
            }
            else if (this.hmi.views.length <= 0) {
                v.name = 'MainView';
            }
            else {
                v.name = nn + idx;
                v.profile.bkcolor = '#ffffffff';
            }
            if (type === _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].cards)) {
                v.profile.bkcolor = 'rgba(67, 67, 67, 1)';
            }
            v.id = 'v_' + _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getShortGUID();
            this.hmi.views.push(v);
            this.onSelectView(v);
            this.saveView(this.currentView);
        }
    };
    /**
     * Clone the View, copy and change all ids
     * @param view
     */
    EditorComponent.prototype.onCloneView = function (view) {
        if (view) {
            var nn = "View_";
            var idx = 1;
            for (idx = 1; idx < this.hmi.views.length + 2; idx++) {
                var found = false;
                for (var i = 0; i < this.hmi.views.length; i++) {
                    if (this.hmi.views[i].name === nn + idx) {
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
            var torename = { content: JSON.stringify(view), id: '' };
            // change all gauge ids
            var idrenamed = [];
            for (var key in view.items) {
                torename.id = key;
                var newid = this.winRef.nativeWindow.svgEditor.renameSvgExtensionId(torename);
                idrenamed.push(newid);
            }
            var strv = this.winRef.nativeWindow.svgEditor.renameAllSvgExtensionId(torename.content, idrenamed);
            var v = JSON.parse(strv);
            v.id = 'v_' + _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getShortGUID();
            v.name = nn + idx;
            this.hmi.views.push(v);
            this.onSelectView(v);
            this.saveView(this.currentView);
        }
    };
    /**
     * Delete the View from hmi.views list
     * @param view View to delete
     */
    EditorComponent.prototype.onDeleteView = function (view) {
        var _this = this;
        var msg = '';
        this.translateService.get('msg.view-remove', { value: view.name }).subscribe(function (txt) { msg = txt; });
        var dialogRef = this.dialog.open(_gui_helpers_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_12__["ConfirmDialogComponent"], {
            data: { msg: msg },
            position: { top: '60px' }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && _this.hmi.views) {
                var toselect = null;
                for (var i = 0; i < _this.hmi.views.length; i++) {
                    if (_this.hmi.views[i].id === view.id) {
                        _this.hmi.views.splice(i, 1);
                        if (i > 0 && i < _this.hmi.views.length) {
                            toselect = _this.hmi.views[i];
                        }
                        break;
                    }
                }
                _this.currentView = null;
                if (toselect) {
                    _this.onSelectView(toselect);
                }
                else if (_this.hmi.views.length > 0) {
                    _this.onSelectView(_this.hmi.views[0]);
                }
                _this.removeView(view);
            }
        });
    };
    /**
     * Rename the View (only name)
     * @param view View to rename
     */
    EditorComponent.prototype.onRenameView = function (view) {
        var _this = this;
        var exist = this.hmi.views.filter(function (v) { return v.id !== view.id; }).map(function (v) { return v.name; });
        var dialogRef = this.dialog.open(DialogDocName, {
            position: { top: '60px' },
            data: { name: view.name, exist: exist }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result.name) {
                view.name = result.name;
                _this.saveView(view);
            }
        });
    };
    /**
     * Edit View property
     * @param view View to change property (height, width, background)
     */
    EditorComponent.prototype.onPropertyView = function (view) {
        var _this = this;
        var dialogRef = this.dialog.open(DialogDocProperty, {
            position: { top: '60px' },
            data: { name: view.name, type: view.type, profile: view.profile }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result.profile) {
                if (result.profile.height)
                    view.profile.height = parseInt(result.profile.height);
                if (result.profile.width)
                    view.profile.width = parseInt(result.profile.width);
                if (result.profile.margin >= 0)
                    view.profile.margin = parseInt(result.profile.margin);
                view.profile.bkcolor = result.profile.bkcolor;
                _this.winRef.nativeWindow.svgEditor.setDocProperty(view.name, view.profile.width, view.profile.height, view.profile.bkcolor);
                _this.onSelectView(view);
            }
        });
    };
    /**
     * select the view, save current vieww before
     * @param view selected view to load resource
     */
    EditorComponent.prototype.onSelectView = function (view) {
        if (this.currentView) {
            this.currentView.svgcontent = this.getContent();
            // this.hmi.views[this.currentView].svgcontent = this.winRef.nativeWindow.svgEditor.getSvgString();
        }
        else {
            this.setFillColor(this.colorFill);
        }
        if (this.currentView) {
            this.saveView(this.currentView);
        }
        this.currentView = view;
        if (this.currentView.type === _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].cards)) {
            this.editorMode = EditorModeType.CARDS;
        }
        else {
            this.editorMode = EditorModeType.SVG;
        }
        localStorage.setItem("@frango.webeditor.currentview", this.currentView.name);
        this.loadView(this.currentView);
    };
    /**
     * check with the current view
     * @param view view to check
     */
    EditorComponent.prototype.isViewActive = function (view) {
        return (this.currentView && this.currentView.name === view.name);
    };
    /**
     * Export view in a file json format MyView.fuxav
     * @param view
     */
    EditorComponent.prototype.onExportView = function (view) {
        var filename = 'fuxa-view.json';
        var date = new Date();
        var content = JSON.stringify(view);
        var blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        file_saver__WEBPACK_IMPORTED_MODULE_14__["saveAs"](blob, filename);
    };
    /**
     * Import view from file (exported in json format MyView.fuxav)
     */
    EditorComponent.prototype.onImportView = function () {
        var ele = document.getElementById('viewFileUpload');
        ele.click();
    };
    /**
 * open Project event file loaded
 * @param event file resource
 */
    EditorComponent.prototype.onViewFileChangeListener = function (event) {
        var _this = this;
        var text = [];
        var files = event.srcElement.files;
        var input = event.target;
        var reader = new FileReader();
        reader.onload = function (data) {
            var view = JSON.parse(reader.result.toString());
            if (view) {
                var idx = 1;
                var startname = view.name;
                var existView = null;
                while (existView = _this.hmi.views.find(function (v) { return v.name === view.name; })) {
                    view.name = startname + '_' + idx++;
                }
                view.id = 'v_' + _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getShortGUID();
                _this.hmi.views.push(view);
                _this.onSelectView(view);
                _this.saveView(_this.currentView);
            }
            // this.projectService.setProject(prj, true);
        };
        reader.onerror = function () {
            var msg = 'Unable to read ' + input.files[0];
            // this.translateService.get('msg.project-load-error', {value: input.files[0]}).subscribe((txt: string) => { msg = txt });
            alert(msg);
        };
        reader.readAsText(input.files[0]);
        this.viewFileImportInput.nativeElement.value = null;
    };
    //#endregion
    //#region Panels State
    /**
     * Load the left panels state copied in localstorage
     */
    EditorComponent.prototype.loadPanelState = function () {
        var ps = localStorage.getItem("@frango.webeditor.panelsState");
        this.panelsState.enabled = true;
        if (ps) {
            this.panelsState = JSON.parse(ps);
        }
    };
    /**
     * Save the panels state in localstorage (after every toggled)
     */
    EditorComponent.prototype.savePanelState = function () {
        if (this.panelsState.enabled) {
            localStorage.setItem("@frango.webeditor.panelsState", JSON.stringify(this.panelsState));
        }
    };
    //#endregion
    //#region Interactivity
    /**
     * to check from DOM and to control open close interaction panel
     * @param ele selected gauge element
     */
    EditorComponent.prototype.isInteractivtyEnabled = function (ele) {
        if (ele && ele.type) {
            return this.gaugesManager.isGauge(ele.type);
        }
        return false;
    };
    /**
     * callback to open edit gauge property form (from GaugeBase)
     * @param event
     */
    EditorComponent.prototype.onGaugeEdit = function (event) {
        var _this = this;
        var settings = this.gaugePanelComponent.settings;
        this.openEditGauge(settings, function (data) {
            _this.setGaugeSettings(data);
        });
    };
    /**
     * callback to open edit gauge property form (from selected element context menu)
     */
    EditorComponent.prototype.onGaugeEditEx = function () {
        var _this = this;
        setTimeout(function () {
            _this.gaugePanelComponent.onEdit();
        }, 500);
    };
    EditorComponent.prototype.isWithEvents = function (type) {
        return this.gaugesManager.isWithEvents(type);
    };
    EditorComponent.prototype.isWithActions = function (type) {
        return this.gaugesManager.isWithActions(type);
    };
    /**
     * edit the gauges/chart settings property, the settings are composed from gauge id... and property
     * in property will be the result values saved
     *
     * @param settings
     * @param callback
     */
    EditorComponent.prototype.openEditGauge = function (settings, callback) {
        var _this = this;
        var tempsettings = JSON.parse(JSON.stringify(settings));
        var hmi = this.projectService.getHmi();
        var dlgType = _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"].getEditDialogTypeToUse(settings.type);
        var eventsSupported = this.isWithEvents(settings.type);
        var actionsSupported = this.isWithActions(settings.type);
        var defaultValue = _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"].getDefaultValue(settings.type);
        var names = Object.values(this.currentView.items).map(function (gs) { return gs.name; });
        // set default name
        if (!tempsettings.name) {
            tempsettings.name = _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getNextName(_gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"].getPrefixGaugeName(settings.type), names);
        }
        // settings.property = JSON.parse(settings.property);
        var dialogRef;
        if (dlgType === _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugeDialogType"].Chart) {
            dialogRef = this.dialog.open(_gauges_controls_html_chart_chart_property_chart_property_component__WEBPACK_IMPORTED_MODULE_8__["ChartPropertyComponent"], {
                position: { top: '60px' },
                data: {
                    settings: tempsettings, devices: Object.values(this.projectService.getDevices()),
                    views: hmi.views, dlgType: dlgType, charts: this.projectService.getCharts(),
                    names: names
                }
            });
        }
        else if (dlgType === _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugeDialogType"].Gauge) {
            dialogRef = this.dialog.open(_gauges_controls_html_bag_bag_property_bag_property_component__WEBPACK_IMPORTED_MODULE_15__["BagPropertyComponent"], {
                position: { top: '30px' },
                data: {
                    settings: tempsettings, devices: Object.values(this.projectService.getDevices()), dlgType: dlgType,
                    names: names
                }
            });
        }
        else if (dlgType === _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugeDialogType"].Pipe) {
            dialogRef = this.dialog.open(_gauges_controls_pipe_pipe_property_pipe_property_component__WEBPACK_IMPORTED_MODULE_16__["PipePropertyComponent"], {
                position: { top: '60px' },
                data: {
                    settings: tempsettings, devices: Object.values(this.projectService.getDevices()),
                    withEvents: eventsSupported, withActions: actionsSupported,
                    names: names
                }
            });
        }
        else if (dlgType === _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugeDialogType"].Slider) {
            dialogRef = this.dialog.open(_gauges_controls_slider_slider_property_slider_property_component__WEBPACK_IMPORTED_MODULE_17__["SliderPropertyComponent"], {
                position: { top: '60px' },
                data: {
                    settings: tempsettings, devices: Object.values(this.projectService.getDevices()),
                    withEvents: eventsSupported, withActions: actionsSupported,
                    names: names
                }
            });
        }
        else if (dlgType === _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugeDialogType"].Switch) {
            dialogRef = this.dialog.open(_gauges_controls_html_switch_html_switch_property_html_switch_property_component__WEBPACK_IMPORTED_MODULE_24__["HtmlSwitchPropertyComponent"], {
                position: { top: '60px' },
                data: {
                    settings: tempsettings, devices: Object.values(this.projectService.getDevices()),
                    withEvents: eventsSupported, withActions: actionsSupported,
                    names: names
                }
            });
        }
        else {
            var title = this.getGaugeTitle(settings.type);
            dialogRef = this.dialog.open(_gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugePropertyComponent"], {
                position: { top: '60px' },
                data: {
                    settings: tempsettings, devices: Object.values(this.projectService.getDevices()), title: title,
                    views: hmi.views, dlgType: dlgType, withEvents: eventsSupported, withActions: actionsSupported, default: defaultValue,
                    inputs: Object.values(this.currentView.items).filter(function (gs) { return gs.name && (gs.id.startsWith('HXS_') || gs.id.startsWith('HXI_')); }),
                    names: names
                }
            });
        }
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                callback(result.settings);
                _this.saveView(_this.currentView);
                var result_gauge = _this.gaugesManager.initInEditor(result.settings, _this.resolver, _this.viewContainerRef);
                if (dlgType === _gauges_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_7__["GaugeDialogType"].Pipe && result_gauge && result_gauge.element && result_gauge.element.id !== result.settings.id) {
                    // by init a path we need to change the id
                    delete _this.currentView.items[result.settings.id];
                    result.settings.id = result_gauge.element.id;
                    callback(result.settings);
                    _this.saveView(_this.currentView);
                }
            }
        });
    };
    EditorComponent.prototype.getGaugeTitle = function (type) {
        var msg = '';
        if (type.startsWith(_gauges_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_18__["HtmlInputComponent"].TypeTag)) {
            this.translateService.get('editor.controls-input-settings').subscribe(function (txt) { msg = txt; });
        }
        else if (type.startsWith(_gauges_controls_value_value_component__WEBPACK_IMPORTED_MODULE_21__["ValueComponent"].TypeTag)) {
            this.translateService.get('editor.controls-output-settings').subscribe(function (txt) { msg = txt; });
        }
        else if (type.startsWith(_gauges_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_19__["HtmlButtonComponent"].TypeTag)) {
            this.translateService.get('editor.controls-button-settings').subscribe(function (txt) { msg = txt; });
        }
        else if (type.startsWith(_gauges_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_20__["HtmlSelectComponent"].TypeTag)) {
            this.translateService.get('editor.controls-select-settings').subscribe(function (txt) { msg = txt; });
        }
        else if (type.startsWith(_gauges_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_22__["GaugeProgressComponent"].TypeTag)) {
            this.translateService.get('editor.controls-progress-settings').subscribe(function (txt) { msg = txt; });
        }
        else if (type.startsWith(_gauges_controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_23__["GaugeSemaphoreComponent"].TypeTag)) {
            this.translateService.get('editor.controls-semaphore-settings').subscribe(function (txt) { msg = txt; });
        }
        else {
            this.translateService.get('editor.controls-shape-settings').subscribe(function (txt) { msg = txt; });
        }
        return msg;
    };
    //#endregion
    EditorComponent.prototype.isWithShadow = function () {
        if (this.selectedElement) {
        }
        return false;
    };
    EditorComponent.prototype.fileNew = function () {
    };
    EditorComponent.prototype.checkValid = function (hmi) {
        if (!hmi.views) {
            hmi.views = [];
            return false;
        }
        return true;
    };
    EditorComponent.prototype.clearSelection = function () {
        this.winRef.nativeWindow.svgEditor.clearSelection();
    };
    EditorComponent.prototype.cloneElement = function () {
        this.winRef.nativeWindow.svgEditor.clickExtension("view_grid");
    };
    EditorComponent.prototype.flipSelected = function (fliptype) {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('gaugepanel'),
        __metadata("design:type", _gauges_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_10__["GaugeBaseComponent"])
    ], EditorComponent.prototype, "gaugePanelComponent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('viewFileImportInput'),
        __metadata("design:type", Object)
    ], EditorComponent.prototype, "viewFileImportInput", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('cardsview'),
        __metadata("design:type", _cards_view_cards_view_component__WEBPACK_IMPORTED_MODULE_26__["CardsViewComponent"])
    ], EditorComponent.prototype, "cardsview", void 0);
    EditorComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            moduleId: module.i,
            template: __webpack_require__(/*! ./editor.component.html */ "./app/editor/editor.component.html"),
            styles: [__webpack_require__(/*! ./editor.component.css */ "./app/editor/editor.component.css")]
        }),
        __metadata("design:paramtypes", [_services_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"],
            _helpers_windowref__WEBPACK_IMPORTED_MODULE_6__["WindowRef"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatIconRegistry"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["DomSanitizer"]])
    ], EditorComponent);
    return EditorComponent;
}());

var DialogNewDoc = /** @class */ (function () {
    function DialogNewDoc(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.docType = _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"];
    }
    DialogNewDoc.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogNewDoc.prototype.isValid = function (name) {
        if (!this.data.type)
            return false;
        if (!this.data.name)
            return false;
        return (this.data.exist.find(function (n) { return n === name; })) ? false : true;
    };
    DialogNewDoc = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-new-doc',
            template: __webpack_require__(/*! ./newdoc.dialog.html */ "./app/editor/newdoc.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogNewDoc);
    return DialogNewDoc;
}());

var DialogDocProperty = /** @class */ (function () {
    function DialogDocProperty(translateService, dialogRef, data) {
        var _this = this;
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.data = data;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].defaultColor;
        this.cardViewType = _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_5__["ViewType"].cards);
        this.propSizeType = [{ text: 'dlg.docproperty-size-320-240', value: { width: 320, height: 240 } }, { text: 'dlg.docproperty-size-460-360', value: { width: 460, height: 360 } },
            { text: 'dlg.docproperty-size-640-480', value: { width: 640, height: 480 } }, { text: 'dlg.docproperty-size-800-600', value: { width: 800, height: 600 } },
            { text: 'dlg.docproperty-size-1024-768', value: { width: 1024, height: 768 } }, { text: 'dlg.docproperty-size-1280-960', value: { width: 1280, height: 960 } },
            { text: 'dlg.docproperty-size-1600-1200', value: { width: 1600, height: 1200 } }, { text: 'dlg.docproperty-size-1920-1080', value: { width: 1920, height: 1080 } }];
        var _loop_1 = function (i) {
            this_1.translateService.get(this_1.propSizeType[i].text).subscribe(function (txt) { _this.propSizeType[i].text = txt; });
        };
        var this_1 = this;
        for (var i = 0; i < this.propSizeType.length; i++) {
            _loop_1(i);
        }
    }
    DialogDocProperty.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogDocProperty.prototype.onSizeChange = function (size) {
        if (size && size.width && size.height) {
            this.data.profile.width = size.width;
            this.data.profile.height = size.height;
        }
    };
    DialogDocProperty = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-doc-property',
            template: __webpack_require__(/*! ./docproperty.dialog.html */ "./app/editor/docproperty.dialog.html"),
            styles: [__webpack_require__(/*! ./docproperty.dialog.css */ "./app/editor/docproperty.dialog.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogDocProperty);
    return DialogDocProperty;
}());

var DialogDocName = /** @class */ (function () {
    function DialogDocName(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    DialogDocName.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogDocName.prototype.isValid = function (name) {
        return (this.data.exist.find(function (n) { return n === name; })) ? false : true;
    };
    DialogDocName = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-doc-name',
            template: __webpack_require__(/*! ./docname.dialog.html */ "./app/editor/docname.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogDocName);
    return DialogDocName;
}());

var DialogLinkProperty = /** @class */ (function () {
    function DialogLinkProperty(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    DialogLinkProperty.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogLinkProperty = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-link-property',
            template: __webpack_require__(/*! ./linkproperty.dialog.html */ "./app/editor/linkproperty.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogLinkProperty);
    return DialogLinkProperty;
}());

var EditorModeType;
(function (EditorModeType) {
    EditorModeType[EditorModeType["SVG"] = 0] = "SVG";
    EditorModeType[EditorModeType["CARDS"] = 1] = "CARDS";
})(EditorModeType || (EditorModeType = {}));


/***/ }),

/***/ "./app/editor/layout-property/layout-property.component.html":
/*!*******************************************************************!*\
  !*** ./app/editor/layout-property/layout-property.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"position: relative;\" class=\"dialog-mdsd-v\">\r\n    <h1 mat-dialog-title style=\"display:inline-block; cursor:move\" mat-dialog-draggable>{{'dlg.layout-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <mat-tab-group style=\"width: 950px;height: 700px\">\r\n        <mat-tab label=\"{{'dlg.layout-general' | translate}}\">\r\n            <div style=\"display: block;\">\r\n                <div class=\"my-form-field\" style=\"display: inline-block;margin-top: 25px;\">\r\n                    <span>{{'dlg.layout-lbl-sview' | translate}}</span>\r\n                    <mat-select [(value)]=\"data.layout.start\" style=\"width: 400px\">\r\n                        <mat-option *ngFor=\"let view of data.views\" [value]=\"view.id\">\r\n                            {{ view.name }}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 25px;margin-left: 180px;\">\r\n                    <ngx-fab-button #fabmenu icon=\"menu\" iconOpen=\"menu\" color=\"rgba(68,138,255, 1)\" style=\"color: rgba(255,255,255,1);background-color: rgba(68,138,255, 0);\">\r\n                    </ngx-fab-button>\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 25px;margin-left: 60px;\">\r\n                    <span>{{'dlg.layout-show-dev' | translate}}</span>\r\n                    <mat-slide-toggle color=\"primary\" [(ngModel)]=\"data.layout.showdev\"></mat-slide-toggle>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: block;\">\r\n                <div class=\"my-form-field\" style=\"display: inline-block;margin-top: 5px;\">\r\n                    <span>{{'dlg.layout-lbl-zoom' | translate}}</span>\r\n                    <mat-select [(value)]=\"data.layout.zoom\" style=\"width: 400px\">\r\n                        <mat-option *ngFor=\"let type of zoomMode | enumToArray\" [value]=\"type.key\">\r\n                            {{ type.value }}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n        <mat-tab label=\"{{'dlg.layout-navigation' | translate}}\">\r\n            <div style=\"display: inline-block;margin-top: 10px;width:100%; min-height: 500px; overflow-y: auto; height: 620px\">\r\n                <div [style.background-color]=\"data.layout.header.bkcolor\" [style.color]=\"data.layout.header.fgcolor\">\r\n                    <button mat-icon-button>\r\n                        <mat-icon aria-label=\"Menu\">menu</mat-icon>\r\n                    </button>\r\n                    <div style=\"display: inline-block;padding-left: 140px\">\r\n                        <button mat-icon-button (click)=\"onAddMenuItem(null)\">\r\n                            <mat-icon aria-label=\"Add\">control_point</mat-icon>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"sidenav-menu\" [style.background-color]=\"data.layout.navigation.bkcolor\" [style.color]=\"data.layout.navigation.fgcolor\"\r\n                    style=\"height: calc(100% - 50px);\" [ngClass]=\"'sidenav-menu-' + data.layout.navigation.type\">\r\n                    <mat-list class=\"dndList\"\r\n                        style=\"padding-top: 10px;\">\r\n                        <mat-list-item *ngFor=\"let item of draggableListLeft; let i = index\"\r\n                            [ngClass]=\"'menu-item-' + data.layout.navigation.type\" [style.color]=\"data.layout.navigation.fgcolor\">\r\n                            <button type=\"button\" mat-button class=\"sidenav-btn\" [ngSwitch]=\"data.layout.navigation.type\">\r\n                                <!-- <mat-icon *ngIf=\"mode.value === navMode.icon || mode.value === navMode.block\">{{item.icon}}</mat-icon> -->\r\n                                <div *ngSwitchCase=\"'icon'\" class=\"menu-item-content-icon\">\r\n                                    <mat-icon>{{item.icon}}</mat-icon>\r\n                                </div>\r\n                                <div *ngSwitchCase=\"'text'\" class=\"menu-item-content-text\">\r\n                                    <span>{{item.text}}</span>\r\n                                </div>\r\n                                <div *ngSwitchCase=\"'block'\" class=\"menu-item-content-block\">\r\n                                    <mat-icon style=\"display: block;\">{{item.icon}}</mat-icon>\r\n                                    <span>{{item.text}}</span>\r\n                                </div>\r\n                                <div *ngSwitchCase=\"'inline'\" class=\"menu-item-content-inline\">\r\n                                    <mat-icon style=\"display: inline-block\">{{item.icon}}</mat-icon>\r\n                                    <span style=\"display: inline-block\">{{item.text}}</span>\r\n                                </div>\r\n                            </button>\r\n                            <div style=\"padding-left:15px;padding-top: 3px;color:black;display: block;width: 50px;\">\r\n                                <mat-icon (click)=\"onMoveMenuItem(i, 'top')\"  class=\"layout-menu-item-icon\" style=\"display: block;\">arrow_upward</mat-icon>\r\n                                <mat-icon (click)=\"onMoveMenuItem(i, 'bottom')\" class=\"layout-menu-item-icon\" style=\"display: block;\">arrow_downward</mat-icon>\r\n                            </div>\r\n                            <div style=\"padding-left:15px; color:black\">\r\n                                <div style=\"display: block;width: 50px;\">\r\n                                    <mat-icon (click)=\"onAddMenuItem(item)\" class=\"layout-menu-item-icon layout-menu-item-edit\">edit</mat-icon>\r\n                                    <mat-icon (click)=\"onRemoveMenuItem(i, item)\" class=\"layout-menu-item-icon layout-menu-item-delete\">clear</mat-icon>\r\n                                </div>\r\n                                <div class=\"layout-menu-item-link\">{{getViewName(item)}}</div>\r\n                            </div>\r\n                        </mat-list-item>\r\n                    </mat-list>\r\n                </div>\r\n                <div style=\"top: 70px; right: 10px;position: absolute;\">\r\n                    <div class=\"my-form-field\" style=\"display: block;\">\r\n                        <span>{{'dlg.layout-lbl-smode' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.layout.navigation.mode\" style=\"width: 300px\">\r\n                            <mat-option *ngFor=\"let mode of navMode | enumToArray\" [value]=\"mode.key\">\r\n                                {{ mode.value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"display: block; margin-top: 10px\">\r\n                        <span>{{'dlg.layout-lbl-type' | translate}}</span>\r\n                        <mat-select [(value)]=\"data.layout.navigation.type\" style=\"width: 300px\">\r\n                            <mat-option *ngFor=\"let type of navType | enumToArray\" [value]=\"type.key\">\r\n                                {{ type.value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div style=\"display: block; margin-top: 10px\">\r\n                        <div class=\"my-form-field\" style=\"display: inline-block\">\r\n                            <span>{{'dlg.layout-nav-bkcolor' | translate}}</span>\r\n                            <input [(colorPicker)]=\"data.layout.navigation.bkcolor\" [style.background]=\"data.layout.navigation.bkcolor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0;width:126px;height:20px !important\"\r\n                                [cpPosition]=\"'bottom'\"/>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"float:right\">\r\n                            <span>{{'dlg.layout-nav-fgcolor' | translate}}</span>\r\n                            <input [(colorPicker)]=\"data.layout.navigation.fgcolor\" [style.background]=\"data.layout.navigation.fgcolor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0;width:126px;height:20px !important\"\r\n                                [cpPosition]=\"'bottom'\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>                \r\n            </div>\r\n        </mat-tab>\r\n        <mat-tab label=\"{{'dlg.layout-header' | translate}}\">\r\n            <div style=\"overflow-y: hidden; overflow-x: hidden; margin-top: 10px; min-height: 500px;\">\r\n                <div class=\"header-layout\" [style.background-color]=\"data.layout.header.bkcolor\" [style.color]=\"data.layout.header.fgcolor\">\r\n                    <div class=\"header-menu\">\r\n                        <button mat-icon-button>\r\n                            <mat-icon aria-label=\"Menu\">menu</mat-icon>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"header-title\">\r\n                        {{data.layout.header.title}}\r\n                    </div>\r\n                    <div style=\"float: right; line-height: 46px;\">\r\n                        <button mat-icon-button class=\"header-login\">\r\n                            <mat-icon aria-label=\"Login\">account_circle</mat-icon>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"header-button\">\r\n                        <button mat-icon-button class=\"alarm-layout\">\r\n                            <mat-icon aria-label=\"Alarms\">notifications_none</mat-icon>\r\n                        </button>\r\n                        <button mat-icon-button class=\"info-layout\">\r\n                            <mat-icon aria-label=\"Info\">error_outline</mat-icon>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"header-config\">\r\n                    <div class=\"config\">\r\n                        <div class=\"my-form-field\" style=\"width: 300px\">\r\n                            <span>{{'dlg.layout-lbl-title' | translate}}</span>\r\n                            <input [(ngModel)]=\"data.layout.header.title\" type=\"text\" style=\"width:293px\">\r\n                        </div>\r\n                        <div style=\"display: block; margin-top: 20px;width: 300px\">\r\n                            <div class=\"my-form-field\" style=\"display: inline-block\">\r\n                                <span>{{'dlg.layout-header-bkcolor' | translate}}</span>\r\n                                <input [(colorPicker)]=\"data.layout.header.bkcolor\" [style.background]=\"data.layout.header.bkcolor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                    [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                    [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0;width:126px;height:20px !important\"\r\n                                    [cpPosition]=\"'bottom'\"/>\r\n                            </div>\r\n                            <div class=\"my-form-field\" style=\"float: right;\">\r\n                                <span>{{'dlg.layout-header-fgcolor' | translate}}</span>\r\n                                <input [(colorPicker)]=\"data.layout.header.fgcolor\" [style.background]=\"data.layout.header.fgcolor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                    [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                    [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0;width:126px;height:20px !important\"\r\n                                    [cpPosition]=\"'bottom'\"/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"config\">\r\n                        <div class=\"my-form-field\">\r\n                            <span>{{'dlg.layout-lbl-alarms' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.layout.header.alarms\" style=\"width: 260px\">\r\n                                <mat-option *ngFor=\"let mode of notifyMode | enumToArray\" [value]=\"mode.key\">\r\n                                    {{ mode.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                            <mat-icon aria-label=\"Alarms\">notifications_none</mat-icon>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"margin-top: 20px;\">\r\n                            <span>{{'dlg.layout-lbl-infos' | translate}}</span>\r\n                            <mat-select [(value)]=\"data.layout.header.infos\" style=\"width: 260px\">\r\n                                <mat-option *ngFor=\"let mode of notifyMode | enumToArray\" [value]=\"mode.key\">\r\n                                    {{ mode.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                            <mat-icon aria-label=\"Info\">error_outline</mat-icon>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button [mat-dialog-close]=\"\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/layout-property/layout-property.component.scss":
/*!*******************************************************************!*\
  !*** ./app/editor/layout-property/layout-property.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".layout-menu-item-icon{font-size:17px;height:18px;width:18px;cursor:pointer}.layout-menu-item-link{display:block;font-size:12px;white-space:nowrap}.header-layout{display:block;box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2) !important;height:46px !important;padding-left:4px;padding-right:10px;background-color:#fff}.header-menu{display:inline-block}.header-title{display:inline-block;margin-left:20px;min-width:200px;text-align:right;line-height:46px}.header-login{float:right}.header-button{float:right;width:240px;line-height:46px;text-align:right;margin-right:10px;padding-right:50px;border-right-width:1px;border-right-style:solid}.header-button mat-icon{font-size:28px;width:28px;height:28px}.alarm-layout{margin-right:20px}.header-config{display:flex;padding-top:30px;margin-left:80px}.config{display:inline-block;width:50%}.my-form-field mat-icon{padding-left:10px;vertical-align:middle}.dndList{transition:all 600ms ease}::ng-deep .mat-tab-label{height:34px !important}\n"

/***/ }),

/***/ "./app/editor/layout-property/layout-property.component.ts":
/*!*****************************************************************!*\
  !*** ./app/editor/layout-property/layout-property.component.ts ***!
  \*****************************************************************/
/*! exports provided: LayoutPropertyComponent, DialogMenuItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutPropertyComponent", function() { return LayoutPropertyComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogMenuItem", function() { return DialogMenuItem; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gui-helpers/sel-options/sel-options.component */ "./app/gui-helpers/sel-options/sel-options.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_helpers/define */ "./app/_helpers/define.ts");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_models/user */ "./app/_models/user.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var LayoutPropertyComponent = /** @class */ (function () {
    function LayoutPropertyComponent(data, dialog, dialogRef, translateService) {
        this.data = data;
        this.dialog = dialog;
        this.dialogRef = dialogRef;
        this.translateService = translateService;
        this.draggableListLeft = [];
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_7__["Utils"].defaultColor;
        if (!data.layout) {
            data.layout = new _models_hmi__WEBPACK_IMPORTED_MODULE_4__["LayoutSettings"]();
        }
        this.startView = data.layout.start;
        this.sideMode = data.layout.navigation.mode;
        if (!data.layout.navigation.items) {
            data.layout.navigation.items = [];
        }
        this.draggableListLeft = data.layout.navigation.items;
    }
    LayoutPropertyComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.navMode = _models_hmi__WEBPACK_IMPORTED_MODULE_4__["NaviModeType"];
        this.navType = _models_hmi__WEBPACK_IMPORTED_MODULE_4__["NaviItemType"];
        this.notifyMode = _models_hmi__WEBPACK_IMPORTED_MODULE_4__["NotificationModeType"];
        this.zoomMode = _models_hmi__WEBPACK_IMPORTED_MODULE_4__["ZoomModeType"];
        Object.keys(this.navMode).forEach(function (key) {
            _this.translateService.get(_this.navMode[key]).subscribe(function (txt) { _this.navMode[key] = txt; });
        });
        Object.keys(this.navType).forEach(function (key) {
            _this.translateService.get(_this.navType[key]).subscribe(function (txt) { _this.navType[key] = txt; });
        });
        Object.keys(this.notifyMode).forEach(function (key) {
            _this.translateService.get(_this.notifyMode[key]).subscribe(function (txt) { _this.notifyMode[key] = txt; });
        });
        Object.keys(this.zoomMode).forEach(function (key) {
            _this.translateService.get(_this.zoomMode[key]).subscribe(function (txt) { _this.zoomMode[key] = txt; });
        });
    };
    LayoutPropertyComponent.prototype.onAddMenuItem = function (item) {
        var _this = this;
        var eitem = new _models_hmi__WEBPACK_IMPORTED_MODULE_4__["NaviItem"]();
        if (item) {
            eitem = JSON.parse(JSON.stringify(item));
        }
        var views = JSON.parse(JSON.stringify(this.data.views));
        views.unshift({ id: '', name: '' });
        var dialogRef = this.dialog.open(DialogMenuItem, {
            position: { top: '60px' },
            data: { item: eitem, views: views, permission: eitem.permission }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                if (item) {
                    item.icon = result.item.icon;
                    item.text = result.item.text;
                    item.view = result.item.view;
                    item.link = result.item.link;
                    item.permission = result.permission;
                    if (item.view) {
                        item.link = '';
                    }
                }
                else {
                    var nitem = new _models_hmi__WEBPACK_IMPORTED_MODULE_4__["NaviItem"]();
                    nitem.icon = result.item.icon;
                    nitem.text = result.item.text;
                    nitem.view = result.item.view;
                    nitem.link = result.item.link;
                    nitem.permission = result.permission;
                    if (nitem.view) {
                        nitem.link = '';
                    }
                    _this.draggableListLeft.push(nitem);
                }
            }
        });
        // this.winRef.nativeWindow.svgEditor.showDocProperties();
    };
    LayoutPropertyComponent.prototype.onRemoveMenuItem = function (index, item) {
        this.draggableListLeft.splice(index, 1);
    };
    LayoutPropertyComponent.prototype.onMoveMenuItem = function (index, direction) {
        if (direction === 'top' && index > 0) {
            this.draggableListLeft.splice(index - 1, 0, this.draggableListLeft.splice(index, 1)[0]);
        }
        else if (direction === 'bottom' && index < this.draggableListLeft.length) {
            this.draggableListLeft.splice(index + 1, 0, this.draggableListLeft.splice(index, 1)[0]);
        }
    };
    LayoutPropertyComponent.prototype.onOkClick = function () {
        var _this = this;
        this.data.layout.navigation.items = [];
        this.draggableListLeft.forEach(function (item) {
            var nitem = new _models_hmi__WEBPACK_IMPORTED_MODULE_4__["NaviItem"]();
            nitem.icon = item.icon;
            nitem.text = item.text;
            nitem.view = item.view;
            nitem.link = item.link;
            _this.data.layout.navigation.items.push(nitem);
        });
    };
    LayoutPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    LayoutPropertyComponent.prototype.getViewName = function (vid) {
        if (vid.view) {
            var view = this.data.views.find(function (x) { return x.id === vid.view; });
            if (view) {
                return view.name;
            }
        }
        else if (vid.link) {
            return vid.link;
        }
        else {
            return '';
        }
    };
    LayoutPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-layout-property',
            template: __webpack_require__(/*! ./layout-property.component.html */ "./app/editor/layout-property/layout-property.component.html"),
            styles: [__webpack_require__(/*! ./layout-property.component.scss */ "./app/editor/layout-property/layout-property.component.scss")]
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [Object, _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"]])
    ], LayoutPropertyComponent);
    return LayoutPropertyComponent;
}());

var DialogMenuItem = /** @class */ (function () {
    function DialogMenuItem(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        // defaultColor = Utils.defaultColor;
        this.selectedGroups = [];
        this.groups = _models_user__WEBPACK_IMPORTED_MODULE_6__["UserGroups"].Groups;
        this.icons = _helpers_define__WEBPACK_IMPORTED_MODULE_5__["Define"].materialIcons;
        this.selectedGroups = _models_user__WEBPACK_IMPORTED_MODULE_6__["UserGroups"].ValueToGroups(this.data.permission);
    }
    DialogMenuItem.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogMenuItem.prototype.onOkClick = function () {
        this.data.permission = _models_user__WEBPACK_IMPORTED_MODULE_6__["UserGroups"].GroupsToValue(this.seloptions.selected);
        this.dialogRef.close(this.data);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_3__["SelOptionsComponent"]),
        __metadata("design:type", _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_3__["SelOptionsComponent"])
    ], DialogMenuItem.prototype, "seloptions", void 0);
    DialogMenuItem = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-menuitem',
            template: __webpack_require__(/*! ./menuitem.dialog.html */ "./app/editor/layout-property/menuitem.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogMenuItem);
    return DialogMenuItem;
}());



/***/ }),

/***/ "./app/editor/layout-property/menuitem.dialog.html":
/*!*********************************************************!*\
  !*** ./app/editor/layout-property/menuitem.dialog.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor: move;\" mat-dialog-draggable>{{'dlg.menuitem-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.menuitem-icon' | translate}}</span>\r\n            <mat-select [(value)]=\"data.item.icon\" style=\"width: 60px; height: 30px\" #iconsel>\r\n                <mat-select-trigger>\r\n                    <mat-icon>{{iconsel.value}}</mat-icon>\r\n                </mat-select-trigger>\r\n                <mat-option *ngFor=\"let icon of icons\" [value]=\"icon\" style=\"display: inline-block !important;\">\r\n                    <mat-icon class=\"\">{{ icon }}</mat-icon>\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.menuitem-text' | translate}}</span>\r\n            <input [(ngModel)]=\"data.item.text\" type=\"text\" style=\"width: 300px\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.menuitem-view' | translate}}</span>\r\n            <mat-select [(value)]=\"data.item.view\" style=\"width: 300px\">\r\n                <mat-option *ngFor=\"let view of data.views\" [value]=\"view.id\">\r\n                    {{ view.name }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.menuitem-link' | translate}}</span>\r\n            <input [(ngModel)]=\"data.item.link\" type=\"text\" style=\"width: 300px\" [readonly]=\"data.item.view\">\r\n        </div>    \r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.useraccess-groups' | translate}}</span>\r\n            <sel-options #seloptions [selected]=\"selectedGroups\" [options]=\"groups\"></sel-options>\r\n        </div>   \r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/linkproperty.dialog.html":
/*!*********************************************!*\
  !*** ./app/editor/linkproperty.dialog.html ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.linkproperty-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px\">\r\n            <span>{{'dlg.linkproperty-url' | translate}}</span>\r\n            <input [(ngModel)]=\"data.url\" type=\"text\" style=\"width: 300px\">\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/newdoc.dialog.html":
/*!***************************************!*\
  !*** ./app/editor/newdoc.dialog.html ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.docname-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" class=\"dialog-close-btn\" cdkFocusInitial>clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.docname-name' | translate}}</span>\r\n            <input [(ngModel)]=\"data.name\" type=\"text\" style=\"width:300px\" [readonly]=\"data.readonly\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"margin-bottom: 10px;;\">\r\n            <span>{{'dlg.docproperty-type' | translate}}</span>\r\n            <mat-select [(value)]=\"data.type\" placeholder=\"{{'dlg.doctype' | translate}}\" style=\"width: 300px;\">\r\n                <mat-option *ngFor=\"let type of docType | enumToArray\" [value]=\"type.key\">\r\n                    {{ type.value }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button [disabled]=\"!isValid(data.name)\" color=\"primary\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/plugins/plugins.component.css":
/*!**************************************************!*\
  !*** ./app/editor/plugins/plugins.component.css ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".list {\r\n    min-width: 600px;\r\n    height: 400px; \r\n    font-size: 16px !important; \r\n    padding-top: 0px !important;\r\n}\r\n\r\n.list-header {\r\n    display: block;\r\n    height: 20px !important;\r\n}\r\n\r\n.list-header span {\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    color: gray;\r\n    font-size: 12px;\r\n}\r\n\r\n.list-item {\r\n    display: block;\r\n    font-size: 14px;\r\n    height: 40px !important;\r\n    /* cursor: pointer; */\r\n    overflow: hidden;\r\n}\r\n\r\n.list-item span {\r\n    width: 160px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n\r\n.list-item-text {\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}"

/***/ }),

/***/ "./app/editor/plugins/plugins.component.html":
/*!***************************************************!*\
  !*** ./app/editor/plugins/plugins.component.html ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"position: relative;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.plugins-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;color:gray;cursor:pointer;\">clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <mat-list class=\"list\" >\r\n            <mat-list-item class=\"list-header\">\r\n                <span style=\"width:320px\">{{'dlg.plugins-name' | translate}}</span>\r\n                <span style=\"width:160px\">{{'dlg.plugins-version' | translate}}</span>\r\n                <span style=\"width:160px\">{{'dlg.plugins-current' | translate}}</span>\r\n            </mat-list-item>\r\n            <mat-list-item *ngFor=\"let plugin of plugins\" class=\"list-item list-item-text\">\r\n                <span style=\"font-weight: 700;\">{{plugin.type}}</span>\r\n                <span>{{plugin.name}}</span>\r\n                <span>{{plugin.version}}</span>\r\n                <span>{{plugin.current}}</span>\r\n                <span style=\"width:200px\">{{plugin.status}}</span>\r\n                <div style=\"width:40px\">\r\n\t\t\t\t\t<mat-spinner *ngIf=\"plugin.working\" diameter=\"20\"></mat-spinner>\r\n                </div>\r\n                <div *ngIf=\"plugin.dinamic\">\r\n                    <button mat-icon-button [disabled]=\"plugin.current.length > 0\" (click)=\"install(plugin)\">\r\n                        <mat-icon>add_circle_outline</mat-icon>\r\n                    </button>\r\n                    <button mat-icon-button [disabled]=\"!plugin.pkg || !plugin.current.length\" (click)=\"remove(plugin)\">\r\n                        <mat-icon>remove_circle_outline</mat-icon>\r\n                    </button>\r\n                </div>\r\n            </mat-list-item>\r\n        </mat-list>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button [mat-dialog-close]=\"\">{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/plugins/plugins.component.ts":
/*!*************************************************!*\
  !*** ./app/editor/plugins/plugins.component.ts ***!
  \*************************************************/
/*! exports provided: PluginsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PluginsComponent", function() { return PluginsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_plugin_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_services/plugin.service */ "./app/_services/plugin.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var PluginsComponent = /** @class */ (function () {
    function PluginsComponent(data, dialog, dialogRef, translateService, pluginService, projectService) {
        this.data = data;
        this.dialog = dialog;
        this.dialogRef = dialogRef;
        this.translateService = translateService;
        this.pluginService = pluginService;
        this.projectService = projectService;
        this.plugins = [];
    }
    PluginsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.translateService.get('dlg.plugins-status-installing').subscribe(function (txt) { _this.installing = txt; });
        this.translateService.get('dlg.plugins-status-removing').subscribe(function (txt) { _this.removing = txt; });
        this.translateService.get('dlg.plugins-status-installed').subscribe(function (txt) { _this.installed = txt; });
        this.translateService.get('dlg.plugins-status-removed').subscribe(function (txt) { _this.removed = txt; });
        this.translateService.get('dlg.plugins-status-error').subscribe(function (txt) { _this.error = txt; });
        this.pluginService.getPlugins().subscribe(function (plugins) {
            _this.plugins = plugins;
        }, function (error) {
            console.log('Error getPlugin');
        });
    };
    PluginsComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    PluginsComponent.prototype.install = function (plugin) {
        var _this = this;
        plugin.status = this.installing;
        plugin['working'] = true;
        var pg = JSON.parse(JSON.stringify(plugin));
        pg.pkg = true;
        this.pluginService.installPlugin(pg).subscribe(function (plugins) {
            plugin.status = _this.installed;
            plugin.current = plugin.version;
            plugin['working'] = false;
        }, function (error) {
            plugin.status = _this.error + error;
            plugin['working'] = false;
        });
    };
    PluginsComponent.prototype.remove = function (plugin) {
        var _this = this;
        plugin.status = this.removing;
        plugin['working'] = true;
        this.pluginService.removePlugin(plugin).subscribe(function (plugins) {
            plugin.status = _this.removed;
            plugin.current = '';
            plugin['working'] = false;
        }, function (error) {
            plugin.status = _this.error + error;
            plugin['working'] = false;
        });
    };
    PluginsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-plugins',
            template: __webpack_require__(/*! ./plugins.component.html */ "./app/editor/plugins/plugins.component.html"),
            styles: [__webpack_require__(/*! ./plugins.component.css */ "./app/editor/plugins/plugins.component.css")]
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [Object, _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"],
            _services_plugin_service__WEBPACK_IMPORTED_MODULE_4__["PluginService"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"]])
    ], PluginsComponent);
    return PluginsComponent;
}());



/***/ }),

/***/ "./app/editor/setup/setup.component.html":
/*!***********************************************!*\
  !*** ./app/editor/setup/setup.component.html ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"dlg-container\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.setup-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" class=\"dialog-close-btn\" cdkFocusInitial >clear</mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"separator\">\r\n            <div class=\"separator-text\">\r\n                {{'dlg.setup-gui' | translate}}\r\n            </div>\r\n            <div class=\"separator-line\"></div>\r\n        </div>\r\n        <div class=\"btn-cards\">\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"goTo('/editor')\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>dashboard</mat-icon>\r\n                        <span>{{'dlg.setup-views' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"onChartConfig()\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>multiline_chart</mat-icon>\r\n                        <span>{{'dlg.setup-line-charts' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"onLayoutConfig()\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>view_compact</mat-icon>\r\n                        <span>{{'dlg.setup-layout' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"onChartConfig()\" class=\"card-btn\" [disabled]=\"true\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>insert_chart</mat-icon>\r\n                        <span>{{'dlg.setup-bar-charts' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>            \r\n        </div>\r\n        <div class=\"separator\">\r\n            <div class=\"separator-text\">\r\n                {{'dlg.setup-diverse' | translate}}\r\n            </div>\r\n            <div class=\"separator-line\"></div>\r\n        </div>\r\n        <div class=\"btn-cards\">\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"goTo('/device')\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>device_hub</mat-icon>\r\n                        <span>{{'dlg.setup-connections' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"goTo('/users')\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>people</mat-icon>\r\n                        <span>{{'dlg.setup-users' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"onPlugins()\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>extension</mat-icon>\r\n                        <span>{{'dlg.setup-plugins' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"onSettings()\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>settings</mat-icon>\r\n                        <span>{{'dlg.setup-settings' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>            \r\n        </div>        \r\n        <div class=\"separator\">\r\n            <div class=\"separator-text\">\r\n                {{'dlg.setup-logic' | translate}}\r\n            </div>\r\n            <div class=\"separator-line\"></div>\r\n        </div>\r\n        <div class=\"btn-cards\">\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"goTo('/messages')\" class=\"card-btn\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>warning</mat-icon>\r\n                        <span>{{'dlg.setup-alarms' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n            <div class=\"btn-card\">\r\n                <button mat-button (click)=\"goTo('/scripts')\" class=\"card-btn\" [disabled]=\"true\">\r\n                    <div class=\"card-btn-content\">\r\n                        <mat-icon>code</mat-icon>\r\n                        <span>{{'dlg.setup-scripts' | translate}}</span>\r\n                    </div>\r\n                </button>\r\n            </div>                \r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/editor/setup/setup.component.scss":
/*!***********************************************!*\
  !*** ./app/editor/setup/setup.component.scss ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-button .mat-button-focus-overlay{background-color:transparent}.dlg-container{position:relative;height:500px}.separator{align-items:center;display:flex;position:relative;margin-top:10px;margin-bottom:10px}.separator-line{border-bottom:1px solid rgba(0,0,0,0.1);height:1px;width:100%}.separator-text{background:#FFF;left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);padding-left:10px;padding-right:10px;font-size:13px}.btn-cards{display:flex;flex-wrap:wrap;margin-left:-8px;margin-right:-8px;margin-top:15px;margin-bottom:20px}.btn-card{margin-left:10px;margin-right:10px;padding-left:8px;padding-right:8px}.card-btn{min-width:100px;font-size:16px;text-align:center;align-content:center}.card-btn span{display:block;font-weight:normal !important;font-size:13px;text-align:center}.card-btn-content{display:block;padding:10px 0px 5px 0px;text-align:-webkit-center;text-align:-moz-center}.card-btn-content .mat-icon{display:block;font-size:32px;height:32px;width:32px}.card-btn-content span{display:block;font-size:14px}\n"

/***/ }),

/***/ "./app/editor/setup/setup.component.ts":
/*!*********************************************!*\
  !*** ./app/editor/setup/setup.component.ts ***!
  \*********************************************/
/*! exports provided: SetupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupComponent", function() { return SetupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../editor/chart-config/chart-config.component */ "./app/editor/chart-config/chart-config.component.ts");
/* harmony import */ var _editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../editor/layout-property/layout-property.component */ "./app/editor/layout-property/layout-property.component.ts");
/* harmony import */ var _editor_plugins_plugins_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../editor/plugins/plugins.component */ "./app/editor/plugins/plugins.component.ts");
/* harmony import */ var _editor_app_settings_app_settings_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../editor/app-settings/app-settings.component */ "./app/editor/app-settings/app-settings.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SetupComponent = /** @class */ (function () {
    function SetupComponent(router, dialog, projectService, dialogRef) {
        this.router = router;
        this.dialog = dialog;
        this.projectService = projectService;
        this.dialogRef = dialogRef;
    }
    SetupComponent.prototype.ngOnInit = function () {
    };
    SetupComponent.prototype.ngAfterViewInit = function () {
    };
    SetupComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    SetupComponent.prototype.goTo = function (destination) {
        this.onNoClick();
        this.router.navigate([destination]);
    };
    /**
     * edit the chart configuration
     */
    SetupComponent.prototype.onChartConfig = function () {
        var _this = this;
        this.onNoClick();
        var chartscopy = JSON.parse(JSON.stringify(this.projectService.getCharts()));
        var devices = this.projectService.getDevices();
        var dialogRef = this.dialog.open(_editor_chart_config_chart_config_component__WEBPACK_IMPORTED_MODULE_4__["ChartConfigComponent"], {
            position: { top: '60px' },
            data: { charts: chartscopy, devices: devices }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.projectService.setCharts(result.charts);
            }
        });
    };
    /**
     * edit the layout property of views: menu, header
     */
    SetupComponent.prototype.onLayoutConfig = function () {
        var _this = this;
        this.onNoClick();
        var templayout = null;
        var hmi = this.projectService.getHmi();
        if (hmi.layout) {
            templayout = JSON.parse(JSON.stringify(hmi.layout));
        }
        if (templayout && templayout.showdev !== false) {
            templayout.showdev = true;
        }
        var dialogRef = this.dialog.open(_editor_layout_property_layout_property_component__WEBPACK_IMPORTED_MODULE_5__["LayoutPropertyComponent"], {
            position: { top: '60px' },
            data: { layout: templayout, views: hmi.views }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                hmi.layout = JSON.parse(JSON.stringify(result.layout));
                _this.projectService.setLayout(hmi.layout);
            }
        });
    };
    /**
     * edit the plugins to install or remove
     */
    SetupComponent.prototype.onPlugins = function () {
        this.onNoClick();
        var dialogRef = this.dialog.open(_editor_plugins_plugins_component__WEBPACK_IMPORTED_MODULE_6__["PluginsComponent"], {
            position: { top: '60px' },
        });
        dialogRef.afterClosed().subscribe(function (result) {
        });
    };
    /**
     * edit application settings
     */
    SetupComponent.prototype.onSettings = function () {
        this.onNoClick();
        var dialogRef = this.dialog.open(_editor_app_settings_app_settings_component__WEBPACK_IMPORTED_MODULE_7__["AppSettingsComponent"], {
            position: { top: '60px' },
        });
        dialogRef.afterClosed().subscribe(function (result) {
        });
    };
    SetupComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-setup',
            template: __webpack_require__(/*! ./setup.component.html */ "./app/editor/setup/setup.component.html"),
            styles: [__webpack_require__(/*! ./setup.component.scss */ "./app/editor/setup/setup.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]])
    ], SetupComponent);
    return SetupComponent;
}());



/***/ }),

/***/ "./app/fuxa-view/fuxa-view.component.css":
/*!***********************************************!*\
  !*** ./app/fuxa-view/fuxa-view.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".view-container {\r\n    display: table;\r\n}\r\n\r\n.fab-card {\r\n    position: absolute;\r\n    width: 1300px;\r\n    height: 800px;\r\n    /* background-color:black; */\r\n    /* box-shadow: 0 2px 5px 0 rgba(0,0,0,.26); */\r\n    box-shadow: 0px 1px 4px 1px #888888;\r\n}\r\n\r\n.card-close {\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    height: 22px;\r\n    width: 100%;\r\n    color: rgba(0, 0, 0, 0.7);\r\n    background-color: transparent;\r\n    font-size: 12px;\r\n    cursor: move !important;\r\n}\r\n\r\n.card-close i {\r\n    float: right;\r\n}\r\n\r\n.fab-iframe {\r\n    position: absolute;\r\n    width: 800px;\r\n    height: 600px;\r\n    background-color: black;\r\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\r\n    /* box-shadow: 0px 2px 6px -1px #888888; */\r\n}\r\n\r\n.iframe-header {\r\n    display: block;\r\n    height: 22px;\r\n    width: 100%;\r\n    color: white;\r\n    background-color: black;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    line-height: 22px;\r\n}\r\n\r\n.iframe-header i {\r\n    float: right;\r\n    color: white;\r\n}\r\n\r\n.iframe-class {\r\n    display: block;\r\n    height: 100%;\r\n    -webkit-transform-origin: 0 0;\r\n            transform-origin: 0 0;\r\n    /* transform-origin:left top; */\r\n}\r\n\r\n.ng-draggable {\r\n    cursor: move;\r\n}\r\n\r\n.dialog-modal {\r\n    /* display: none; */\r\n    position: fixed; /* Stay in place */\r\n    z-index: 1; /* Sit on top */\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%; /* Full width */\r\n    height: 100%; /* Full height */\r\n    overflow: auto; /* Enable scroll if needed */\r\n    /*background-color: rgb(0,0,0); /* Fallback color */\r\n    /*background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\r\n}\r\n\r\n/* Modal Content/Box */\r\n\r\n.dialog-modal-content {\r\n    border: 1px solid #888;\r\n    box-shadow: 0 0 12px #000000 !important;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n            transform: translate(-50%, -50%);\r\n}\r\n\r\n.dialog-modal-close {\r\n    position: relative;\r\n    top: 0px;\r\n    right: 0px;\r\n    height: 22px;\r\n    width: 100%;\r\n    color: rgba(0, 0, 0, 0.7);\r\n    background-color: transparent;\r\n    font-size: 12px;\r\n    cursor: move !important;\r\n}\r\n\r\n.dialog-modal-close i {\r\n    float: right;\r\n}\r\n"

/***/ }),

/***/ "./app/fuxa-view/fuxa-view.component.html":
/*!************************************************!*\
  !*** ./app/fuxa-view/fuxa-view.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #dataContainer class=\"view-container\" id=\"content\">\r\n</div>\r\n<div *ngFor=\"let card of cards; let i = index\" [style.height]=\"getCardHeight(card.height) + 'px'\" [style.left]=\"card.x + 'px'\" [style.top]=\"card.y +'px'\"\r\n    [style.width]=\"card.width +'px'\" class=\"fab-card\" style=\"cursor: auto  !important;\" ngDraggable>\r\n    <a (click)=\"onCloseCard(card);\" class=\"card-close\">\r\n        <i class=\"material-icons\" style=\"font-size: 22px; cursor: pointer;\">close</i>\r\n    </a>\r\n    <app-fuxa-view (onclose)=\"onCloseCard(card)\" [child]='true' [gaugesManager]=\"gaugesManager\" [hmi]=\"hmi\" [parentcards]=\"cards\" [variablesMapping]=\"card.variablesMapping\"\r\n        [view]=\"card.view\"></app-fuxa-view>\r\n</div>\r\n<div *ngIf=\"dialog\" class=\"dialog-modal\">\r\n    <div [style.background-color]=\"dialog.bkcolor\" [style.height]=\"dialog.height + 'px'\" [style.width]=\"dialog.width +'px'\" class=\"dialog-modal-content\">\r\n        <a (click)=\"onCloseDialog();\" class=\"dialog-modal-close\">\r\n            <i class=\"material-icons\" style=\"font-size: 22px; cursor: pointer;\">close</i>\r\n        </a>\r\n        <app-fuxa-view (onclose)=\"onCloseDialog()\" [child]='true' [gaugesManager]=\"gaugesManager\" [hmi]=\"hmi\" [variablesMapping]=\"dialog.variablesMapping\" [view]=\"dialog.view\">\r\n        </app-fuxa-view>\r\n    </div>\r\n</div>\r\n<div (rzResizing)=\"onIframeResizing(iframe, $event)\" *ngFor=\"let iframe of iframes; let i = index\" [handle]=\"iframeHandle\" [style.height]=\"(iframe.height + 22) + 'px'\"\r\n    [style.left]=\"iframe.x + 'px'\" [style.top]=\"iframe.y + 'px'\" [style.width]=\"iframe.width + 'px'\" class=\"fab-iframe\" ngDraggable ngResizable>\r\n    <div #iframeHandle class=\"iframe-header\">\r\n        <span>{{iframe.name}}</span>\r\n        <a (click)=\"onCloseIframe(iframe);\">\r\n            <i class=\"material-icons\" style=\"font-size: 22px; cursor: pointer;\">close</i>\r\n        </a>\r\n    </div>\r\n    <app-iframe [link]=\"iframe.link\" [style.height]=\"iframe.height + 'px'\" [style.transform]=\"'scale(' + iframe.scale + ')'\" [style.width]=\"iframe.width + 'px'\"\r\n        [style.zoom]=\"1 / iframe.scale\" class=\"iframe-class\"></app-iframe>\r\n</div>"

/***/ }),

/***/ "./app/fuxa-view/fuxa-view.component.ts":
/*!**********************************************!*\
  !*** ./app/fuxa-view/fuxa-view.component.ts ***!
  \**********************************************/
/*! exports provided: FuxaViewComponent, CardModel, DialogModalModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FuxaViewComponent", function() { return FuxaViewComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardModel", function() { return CardModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogModalModel", function() { return DialogModalModel; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util */ "../node_modules/util/util.js");
/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FuxaViewComponent = /** @class */ (function () {
    function FuxaViewComponent(el, changeDetector, viewContainerRef, resolver) {
        this.el = el;
        this.changeDetector = changeDetector;
        this.viewContainerRef = viewContainerRef;
        this.resolver = resolver;
        this.variablesMapping = [];
        this.child = false;
        this.onclose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.cards = [];
        this.iframes = [];
        this.mapGaugeStatus = {};
        this.cardViewType = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_1__["ViewType"].cards);
        this.staticValues = {};
        this.plainVariableMapping = {};
    }
    FuxaViewComponent_1 = FuxaViewComponent;
    FuxaViewComponent.prototype.ngOnInit = function () {
        var _this = this;
        try {
            if (this.variablesMapping) {
                this.variablesMapping.forEach(function (variableMapping) {
                    _this.plainVariableMapping[variableMapping.from.variableId] = variableMapping.to.variableId;
                });
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    FuxaViewComponent.prototype.ngAfterViewInit = function () {
        this.loadHmi(this.view);
        try {
            this.gaugesManager.emitBindedSignals(this.id);
        }
        catch (err) {
            console.log(err);
        }
    };
    FuxaViewComponent.prototype.ngOnDestroy = function () {
        try {
            this.gaugesManager.unbindGauge(this.id);
            this.clearGaugeStatus();
            if (this.subscriptionOnChange) {
                this.subscriptionOnChange.unsubscribe();
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    FuxaViewComponent.prototype.clearGaugeStatus = function () {
        Object.values(this.mapGaugeStatus).forEach(function (gs) {
            try {
                if (gs.actionRef) {
                    if (gs.actionRef.timer) {
                        clearTimeout(gs.actionRef.timer);
                        gs.actionRef.timer = null;
                    }
                    if (gs.actionRef.animr) {
                        gs.actionRef.animr.reset();
                        delete gs.actionRef.animr;
                    }
                }
            }
            catch (err) {
                console.log(err);
            }
        });
        this.mapGaugeStatus = {};
    };
    /**
     * load the svg content to show in browser, clear all binded to this view
     * @param view
     */
    FuxaViewComponent.prototype.loadHmi = function (view) {
        if (this.id) {
            try {
                this.gaugesManager.unbindGauge(this.id);
                this.clearGaugeStatus();
                this.viewContainerRef.clear();
                this.dataContainer.nativeElement.innerHTML = '';
            }
            catch (err) {
                console.log(err);
            }
        }
        if (view) {
            this.id = view.id;
            this.view = view;
            if (view.type === this.cardViewType) {
                var cards = JSON.parse(view.svgcontent);
                if (cards.content) {
                    this.dataContainer.nativeElement.innerHTML = cards.content.replace('<title>Layer 1</title>', '');
                }
            }
            else {
                this.dataContainer.nativeElement.innerHTML = view.svgcontent.replace('<title>Layer 1</title>', '');
            }
            if (view.profile.bkcolor && this.child) {
                this.dataContainer.nativeElement.style.backgroundColor = view.profile.bkcolor;
            }
        }
        this.changeDetector.detectChanges();
        this.loadWatch(this.view);
    };
    /**
     * load all gauge settings, bind gauge with signals, bind gauge event
     * @param view
     */
    FuxaViewComponent.prototype.loadWatch = function (view) {
        var _this = this;
        if (view && view.items) {
            var items = this.applyVariableMapping(view.items);
            // this.gaugesManager.initGaugesMap();
            for (var key in items) {
                if (!items.hasOwnProperty(key)) {
                    continue;
                }
                try {
                    var gauge = this.gaugesManager.initElementAdded(items[key], this.resolver, this.viewContainerRef, true);
                    this.gaugesManager.bindGauge(gauge, this.id, items[key], function (gatobindclick) {
                        _this.onBindClick(gatobindclick);
                    }, function (gatobindhtmlevent) {
                        _this.onBindHtmlEvent(gatobindhtmlevent);
                    });
                }
                catch (err) {
                    console.log('loadWatch: ' + err);
                }
            }
            if (!this.subscriptionOnChange) {
                this.subscriptionOnChange = this.gaugesManager.onchange.subscribe(this.handleSignal.bind(this));
            }
            for (var variableId in this.staticValues) {
                if (!this.staticValues.hasOwnProperty(variableId)) {
                    continue;
                }
                this.handleSignal({
                    id: variableId,
                    value: this.staticValues[variableId]
                });
            }
        }
    };
    FuxaViewComponent.prototype.handleSignal = function (sig) {
        if (!Object(util__WEBPACK_IMPORTED_MODULE_3__["isUndefined"])(sig.value)) {
            try {
                // take all gauges settings binded to the signal id in this view
                var gas = this.gaugesManager.getGaugeSettings(this.id, sig.id);
                if (gas) {
                    for (var i = 0; i < gas.length; i++) {
                        var gaugeSetting = gas[i];
                        var gaugeStatus = this.getGaugeStatus(gaugeSetting);
                        if (this.checkStatusValue(gaugeSetting.id, gaugeStatus, sig)) {
                            var svgeles = FuxaViewComponent_1.getSvgElements(gaugeSetting.id);
                            for (var y = 0; y < svgeles.length; y++) {
                                this.gaugesManager.processValue(gaugeSetting, svgeles[y], sig, gaugeStatus);
                            }
                        }
                    }
                }
            }
            catch (err) {
            }
        }
    };
    /**
     * return the mapped gauge status, if it doesn't exist add it
     * @param ga
     */
    FuxaViewComponent.prototype.getGaugeStatus = function (ga) {
        if (this.mapGaugeStatus[ga.id]) {
            return this.mapGaugeStatus[ga.id];
        }
        else {
            this.mapGaugeStatus[ga.id] = this.gaugesManager.createGaugeStatus(ga);
            return this.mapGaugeStatus[ga.id];
        }
    };
    /**
     * Replace variables by defined mapping
     * @param items
     * @protected
     */
    FuxaViewComponent.prototype.applyVariableMapping = function (items) {
        var _this = this;
        // Deep clone
        items = JSON.parse(JSON.stringify(items));
        for (var gaId in items) {
            if (!items.hasOwnProperty(gaId)) {
                continue;
            }
            var property = items[gaId].property;
            if (!property) {
                continue;
            }
            this.applyVariableMappingTo(property);
            if (property.actions) {
                property.actions.forEach(function (action) {
                    _this.applyVariableMappingTo(action);
                });
            }
            if (property.events) {
                property.events.forEach(function (event) {
                    if (event.actoptions) {
                        if (_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].isObject(event.actoptions['variable'])) {
                            _this.applyVariableMappingTo(event.actoptions['variable']);
                        }
                        else {
                            _this.applyVariableMappingTo(event.actoptions);
                        }
                    }
                });
            }
        }
        return items;
    };
    FuxaViewComponent.prototype.applyVariableMappingTo = function (target) {
        if (!target || !target['variableId']) {
            return;
        }
        if (this.plainVariableMapping.hasOwnProperty(target.variableId)) {
            target.variableId = this.plainVariableMapping[target.variableId];
        }
    };
    /**
     * check the change of variable value in gauge status
     * @param gaugeId
     * @param gaugeStatus
     * @param signal
     */
    FuxaViewComponent.prototype.checkStatusValue = function (gaugeId, gaugeStatus, signal) {
        var result = true;
        if (gaugeStatus.onlyChange) {
            if (gaugeStatus.takeValue) {
                var value = this.gaugesManager.getGaugeValue(gaugeId);
                gaugeStatus.variablesValue[signal.id] = value;
            }
            if (gaugeStatus.variablesValue[signal.id] === signal.value) {
                result = false;
            }
        }
        gaugeStatus.variablesValue[signal.id] = signal.value;
        return result;
    };
    /**
     * bind the gauge svg element with click event
     * @param ga
     */
    FuxaViewComponent.prototype.onBindClick = function (ga) {
        var self = this;
        var svgele = FuxaViewComponent_1.getSvgElement(ga.id);
        if (svgele) {
            svgele.click(function (ev) {
                var event = self.gaugesManager.getBindClick(ga);
                if (event && event.length > 0) {
                    for (var i = 0; i < event.length; i++) {
                        var actindex = Object.keys(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"]).indexOf(event[i].action);
                        var eventTypes = Object.values(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"]);
                        if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].onpage) === actindex) {
                            self.loadPage(ev, event[i].actparam);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].onwindow) === actindex) {
                            self.onOpenCard(ga.id, ev, event[i].actparam, event[i].actoptions);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].ondialog) === actindex) {
                            self.openDialog(ev, event[i].actparam, event[i].actoptions);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].onSetValue) === actindex) {
                            self.onSetValue(ga, event[i]);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].onToggleValue) === actindex) {
                            self.onToggleValue(ga, event[i]);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].onSetInput) === actindex) {
                            self.onSetInput(ga, event[i]);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].oniframe) === actindex) {
                            self.openIframe(ga.id, ev, event[i].actparam, event[i].actoptions);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].oncard) === actindex) {
                            self.openWindow(ga.id, ev, event[i].actparam, event[i].actoptions);
                        }
                        else if (eventTypes.indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventActionType"].onclose) === actindex) {
                            self.onClose(ev);
                        }
                    }
                }
            });
        }
    };
    FuxaViewComponent.prototype.onToggleValue = function (ga, event) {
        if (event.actoptions && event.actoptions['variableId']) {
            this.gaugesManager.toggleSignalValue(event.actoptions['variableId']);
        }
        else if (ga.property && ga.property.variableId) {
            this.gaugesManager.toggleSignalValue(ga.property.variableId);
        }
    };
    /**
     * bind the html input control with key-enter event and select control with change event
     * @param htmlevent
     */
    FuxaViewComponent.prototype.onBindHtmlEvent = function (htmlevent) {
        var self = this;
        // let htmlevent = this.getHtmlElement(ga.id);
        if (htmlevent.type === 'key-enter') {
            htmlevent.dom.onkeypress = function (ev) {
                if (ev.keyCode === 13) {
                    console.log('enter sig ' + htmlevent.dom.id + ' ' + htmlevent.dom.value);
                    htmlevent.dbg = 'key pressed ' + htmlevent.dom.id + ' ' + htmlevent.dom.value;
                    htmlevent.id = htmlevent.dom.id;
                    htmlevent.value = htmlevent.dom.value;
                    self.gaugesManager.putEvent(htmlevent);
                }
            };
        }
        else if (htmlevent.type === 'change') {
            htmlevent.dom.onchange = function (ev) {
                console.log('change sig ' + htmlevent.dom.id + ' ' + htmlevent.dom.value);
                htmlevent.dbg = 'key pressed ' + htmlevent.dom.id + ' ' + htmlevent.dom.value;
                htmlevent.id = htmlevent.dom.id;
                htmlevent.value = htmlevent.dom.value;
                self.gaugesManager.putEvent(htmlevent);
            };
        }
    };
    FuxaViewComponent.prototype.getView = function (viewref) {
        var view;
        for (var i = 0; this.hmi.views.length; i++) {
            if (this.hmi.views[i] && this.hmi.views[i].id === viewref) {
                view = this.hmi.views[i];
                break;
            }
        }
        return view;
    };
    FuxaViewComponent.getSvgElements = function (svgid) {
        var ele = document.getElementsByTagName('svg');
        var result = [];
        for (var i = 0; i < ele.length; i++) {
            var svgItems = ele[i].getElementById(svgid);
            if (svgItems) {
                result.push(SVG.adopt(svgItems));
            }
        }
        return result;
    };
    FuxaViewComponent.getSvgElement = function (svgid) {
        var ele = document.getElementsByTagName('svg');
        for (var i = 0; i < ele.length; i++) {
            var svgItems = ele[i].getElementById(svgid);
            if (svgItems) {
                return SVG.adopt(svgItems);
            }
        }
    };
    FuxaViewComponent.prototype.loadPage = function (event, viewref) {
        var view = this.getView(viewref);
        if (view) {
            this.loadHmi(view);
        }
    };
    FuxaViewComponent.prototype.openDialog = function (event, viewref, options) {
        if (options === void 0) { options = {}; }
        var view = this.getView(viewref);
        if (!view) {
            return;
        }
        this.dialog = new DialogModalModel(viewref);
        this.dialog.width = view.profile.width;
        this.dialog.height = view.profile.height + 26;
        this.dialog.view = view;
        this.dialog.bkcolor = 'trasparent';
        this.dialog.variablesMapping = options.variablesMapping;
        if (view.profile.bkcolor) {
            this.dialog.bkcolor = view.profile.bkcolor;
        }
    };
    FuxaViewComponent.prototype.onOpenCard = function (id, event, viewref, options) {
        if (options === void 0) { options = {}; }
        var view = this.getView(viewref);
        if (!view) {
            return;
        }
        // check existing card
        var card = null;
        this.cards.forEach(function (c) {
            if (c.id === id) {
                card = c;
            }
        });
        if (card) {
            return;
        }
        card = new CardModel(id);
        card.x = event.clientX;
        card.y = event.clientY;
        card.width = view.profile.width;
        card.height = view.profile.height;
        card.view = view;
        card.variablesMapping = options.variablesMapping;
        if (this.parentcards) {
            this.parentcards.push(card);
        }
        else {
            this.cards.push(card);
        }
    };
    FuxaViewComponent.prototype.openIframe = function (id, event, link, options) {
        // check existing iframe
        var iframe = null;
        this.iframes.forEach(function (f) {
            if (f.id === id) {
                iframe = f;
            }
        });
        if (iframe) {
            return;
        }
        iframe = new CardModel(id);
        iframe.x = event.clientX;
        iframe.y = event.clientY;
        iframe.width = 600;
        iframe.height = 400;
        iframe.scale = 1;
        if (!isNaN(parseInt(options.width))) {
            iframe.width = parseInt(options.width);
        }
        if (!isNaN(parseInt(options.height))) {
            iframe.height = parseInt(options.height);
        }
        if (!isNaN(parseFloat(options.scale))) {
            iframe.scale = parseFloat(options.scale);
        }
        iframe.link = link;
        iframe.name = link;
        this.iframes.push(iframe);
        this.onIframeResizing(iframe, { size: { width: iframe.width, height: iframe.height } });
    };
    FuxaViewComponent.prototype.onIframeResizing = function (iframe, event) {
        iframe.width = event.size.width;
        iframe.height = event.size.height;
    };
    FuxaViewComponent.prototype.onCloseIframe = function (iframe) {
        var _this = this;
        this.iframes.forEach(function (f) {
            if (f.id === iframe.id) {
                _this.iframes.splice(_this.cards.indexOf(f), 1);
            }
        });
    };
    FuxaViewComponent.prototype.openWindow = function (id, event, link, options) {
        var width = 600;
        var height = 400;
        if (!isNaN(parseInt(options.width))) {
            width = parseInt(options.width);
        }
        if (!isNaN(parseInt(options.height))) {
            height = parseInt(options.height);
        }
        window.open(link, '_blank', 'height=' + height + ',width=' + width + ',left=' + event.clientX + ',top=' + event.clientY);
    };
    FuxaViewComponent.prototype.onCloseCard = function (card) {
        this.cards.splice(this.cards.indexOf(card), 1);
    };
    FuxaViewComponent.prototype.onCloseDialog = function () {
        delete this.dialog;
    };
    FuxaViewComponent.prototype.onClose = function ($event) {
        if (this.onclose) {
            this.onclose.emit($event);
        }
        // if (this.dialog && this.dialog.view && this.dialog.view.name === viewref) {
        // 	this.onCloseDialog();
        // } else if (this.cards.find((c) => c.name === viewref)) {
        // 	this.onCloseCard(this.cards.find((c) => c.name === viewref));
        // }
    };
    FuxaViewComponent.prototype.onSetValue = function (ga, event) {
        if (event.actparam) {
            var variableId = this.fetchVariableId(event) || ga.property.variableId;
            this.gaugesManager.putSignalValue(variableId, event.actparam);
        }
    };
    FuxaViewComponent.prototype.onSetInput = function (ga, event) {
        if (event.actparam) {
            var ele = document.getElementById(event.actparam);
            if (ele) {
                var input = null;
                for (var i = 0; i < _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_2__["GaugesManager"].GaugeWithInput.length; i++) {
                    input = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].searchTreeStartWith(ele, _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_2__["GaugesManager"].GaugeWithInput[i]);
                    if (input) {
                        break;
                    }
                }
                if (input && !isNaN(input.value)) {
                    var variableId = this.fetchVariableId(event) || ga.property.variableId;
                    this.gaugesManager.putSignalValue(variableId, input.value);
                }
            }
        }
    };
    FuxaViewComponent.prototype.getCardHeight = function (height) {
        return parseInt(height) + 4;
    };
    FuxaViewComponent.prototype.fetchVariableId = function (event) {
        if (!event.actoptions) {
            return null;
        }
        if (_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].isObject(event.actoptions['variable']) && event.actoptions['variable']['variableId']) {
            return event.actoptions['variable']['variableId'];
        }
        // For legacy events
        if (event.actoptions['variableId']) {
            return event.actoptions['variableId'];
        }
        return null;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], FuxaViewComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FuxaViewComponent.prototype, "variablesMapping", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_1__["View"])
    ], FuxaViewComponent.prototype, "view", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_1__["Hmi"])
    ], FuxaViewComponent.prototype, "hmi", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FuxaViewComponent.prototype, "child", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_2__["GaugesManager"])
    ], FuxaViewComponent.prototype, "gaugesManager", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FuxaViewComponent.prototype, "parentcards", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], FuxaViewComponent.prototype, "onclose", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('dataContainer'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], FuxaViewComponent.prototype, "dataContainer", void 0);
    FuxaViewComponent = FuxaViewComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-fuxa-view',
            template: __webpack_require__(/*! ./fuxa-view.component.html */ "./app/fuxa-view/fuxa-view.component.html"),
            styles: [__webpack_require__(/*! ./fuxa-view.component.css */ "./app/fuxa-view/fuxa-view.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]])
    ], FuxaViewComponent);
    return FuxaViewComponent;
    var FuxaViewComponent_1;
}());

var CardModel = /** @class */ (function () {
    function CardModel(id) {
        this.variablesMapping = [];
        this.id = id;
    }
    return CardModel;
}());

var DialogModalModel = /** @class */ (function () {
    function DialogModalModel(id) {
        this.variablesMapping = [];
        this.id = id;
    }
    return DialogModalModel;
}());



/***/ }),

/***/ "./app/gauges/controls/gauge-progress/gauge-progress.component.css":
/*!*************************************************************************!*\
  !*** ./app/gauges/controls/gauge-progress/gauge-progress.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/gauge-progress/gauge-progress.component.html":
/*!**************************************************************************!*\
  !*** ./app/gauges/controls/gauge-progress/gauge-progress.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/gauge-progress/gauge-progress.component.ts":
/*!************************************************************************!*\
  !*** ./app/gauges/controls/gauge-progress/gauge-progress.component.ts ***!
  \************************************************************************/
/*! exports provided: GaugeProgressComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeProgressComponent", function() { return GaugeProgressComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var GaugeProgressComponent = /** @class */ (function (_super) {
    __extends(GaugeProgressComponent, _super);
    function GaugeProgressComponent() {
        return _super.call(this) || this;
    }
    GaugeProgressComponent.prototype.ngOnInit = function () {
    };
    GaugeProgressComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        return res;
    };
    GaugeProgressComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__["GaugeDialogType"].MinMax;
    };
    GaugeProgressComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node && svgele.node.children && svgele.node.children.length === 3 && ga.property && ga.property.ranges.length > 0) {
                var gap = ga.property.ranges[0];
                var g = svgele.node.children[0];
                var val = parseFloat(sig.value);
                var rectBase = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(svgele.node, this.prefixA);
                var heightBase = parseFloat(rectBase.getAttribute('height'));
                var yBase = parseFloat(rectBase.getAttribute('y'));
                var rect = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(svgele.node, this.prefixB);
                if (rectBase && rect) {
                    if (val > gap.max)
                        val = gap.max;
                    if (val < gap.min)
                        val = gap.min;
                    var k = (heightBase - 0) / (gap.max - gap.min);
                    var vtoy = k * (val - gap.min);
                    rect.setAttribute('y', yBase + heightBase - vtoy);
                    rect.setAttribute('height', vtoy);
                    if (gap.style[1]) {
                        var htmlValue = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(svgele.node, this.prefixValue);
                        if (htmlValue) {
                            htmlValue.innerHTML = val;
                            if (gap.text) {
                                htmlValue.innerHTML += ' ' + gap.text;
                            }
                            htmlValue.style.top = (heightBase - vtoy - 7).toString() + 'px';
                        }
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    GaugeProgressComponent.initElement = function (ga, isview) {
        if (isview === void 0) { isview = false; }
        var ele = document.getElementById(ga.id);
        if (ele) {
            if (!ga.property) {
                ga.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeProperty"]();
                var ip = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeRangeProperty"]();
                ip.type = this.getDialogType();
                ip.min = 0;
                ip.max = 100;
                ip.style = [true, true];
                ip.color = '#1565c0';
                ga.property.ranges = [ip];
            }
            if (ga.property.ranges.length > 0) {
                var gap = ga.property.ranges[0];
                // label min
                var htmlLabel = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixMin);
                if (htmlLabel) {
                    htmlLabel.innerHTML = gap.min.toString();
                    htmlLabel.style.display = (gap.style[0]) ? 'block' : 'none';
                }
                // label max
                htmlLabel = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixMax);
                if (htmlLabel) {
                    htmlLabel.innerHTML = gap.max.toString();
                    htmlLabel.style.display = (gap.style[0]) ? 'block' : 'none';
                }
                // value
                var htmlValue = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixValue);
                if (htmlValue) {
                    htmlValue.style.display = (gap.style[1]) ? 'block' : 'none';
                }
                // bar color
                var rect = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixB);
                if (rect) {
                    rect.setAttribute('fill', gap.color);
                }
            }
        }
    };
    GaugeProgressComponent.initElementColor = function (bkcolor, color, ele) {
        var rectArea = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixA);
        if (rectArea) {
            if (bkcolor) {
                rectArea.setAttribute('fill', bkcolor);
            }
            if (color) {
                rectArea.setAttribute('stroke', color);
            }
        }
        rectArea = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixB);
        if (rectArea) {
            if (color) {
                rectArea.setAttribute('stroke', color);
            }
        }
    };
    GaugeProgressComponent.getFillColor = function (ele) {
        var rectArea = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixA);
        if (rectArea) {
            return rectArea.getAttribute('fill');
        }
    };
    GaugeProgressComponent.getStrokeColor = function (ele) {
        var rectArea = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixA);
        if (rectArea) {
            return rectArea.getAttribute('stroke');
        }
    };
    GaugeProgressComponent.getDefaultValue = function () {
        return { color: this.barColor };
    };
    GaugeProgressComponent.TypeTag = 'svg-ext-gauge_progress';
    GaugeProgressComponent.LabelTag = 'HtmlProgress';
    GaugeProgressComponent.prefixA = 'A-GXP_';
    GaugeProgressComponent.prefixB = 'B-GXP_';
    GaugeProgressComponent.prefixH = 'H-GXP_';
    GaugeProgressComponent.prefixMax = 'M-GXP_';
    GaugeProgressComponent.prefixMin = 'm-GXP_';
    GaugeProgressComponent.prefixValue = 'V-GXP_';
    GaugeProgressComponent.barColor = '#1565c0';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GaugeProgressComponent.prototype, "data", void 0);
    GaugeProgressComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-progress',
            template: __webpack_require__(/*! ./gauge-progress.component.html */ "./app/gauges/controls/gauge-progress/gauge-progress.component.html"),
            styles: [__webpack_require__(/*! ./gauge-progress.component.css */ "./app/gauges/controls/gauge-progress/gauge-progress.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], GaugeProgressComponent);
    return GaugeProgressComponent;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.css":
/*!***************************************************************************!*\
  !*** ./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.html":
/*!****************************************************************************!*\
  !*** ./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.ts":
/*!**************************************************************************!*\
  !*** ./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.ts ***!
  \**************************************************************************/
/*! exports provided: GaugeSemaphoreComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeSemaphoreComponent", function() { return GaugeSemaphoreComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GaugeSemaphoreComponent = /** @class */ (function (_super) {
    __extends(GaugeSemaphoreComponent, _super);
    function GaugeSemaphoreComponent() {
        return _super.call(this) || this;
    }
    GaugeSemaphoreComponent_1 = GaugeSemaphoreComponent;
    GaugeSemaphoreComponent.prototype.ngOnInit = function () {
    };
    GaugeSemaphoreComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    GaugeSemaphoreComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].Range;
    };
    GaugeSemaphoreComponent.getActions = function () {
        return this.actionsType;
    };
    GaugeSemaphoreComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node && svgele.node.children && svgele.node.children.length <= 1) {
                var g = svgele.node.children[0];
                var clr = '';
                var val_1 = parseFloat(sig.value);
                if (Number.isNaN(val_1)) {
                    // maybe boolean
                    val_1 = Number(sig.value);
                }
                if (ga.property && ga.property.ranges) {
                    for (var idx = 0; idx < ga.property.ranges.length; idx++) {
                        if (ga.property.ranges[idx].min <= val_1 && ga.property.ranges[idx].max >= val_1) {
                            clr = ga.property.ranges[idx].color;
                        }
                    }
                    g.setAttribute('fill', clr);
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                GaugeSemaphoreComponent_1.processAction(act, svgele, val_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    GaugeSemaphoreComponent.getFillColor = function (ele) {
        if (ele.children && ele.children[0]) {
            return ele.children[0].getAttribute('fill');
        }
        return ele.getAttribute('fill');
    };
    GaugeSemaphoreComponent.getStrokeColor = function (ele) {
        if (ele.children && ele.children[0]) {
            return ele.children[0].getAttribute('stroke');
        }
        return ele.getAttribute('stroke');
    };
    GaugeSemaphoreComponent.processAction = function (act, svgele, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.blink) {
            var element = SVG.adopt(svgele.node);
            var inRange = (act.range.min <= value && act.range.max >= value);
            this.checkActionBlink(element, act.type, gaugeStatus, inRange, act.options, false);
        }
    };
    GaugeSemaphoreComponent.TypeTag = 'svg-ext-gauge_semaphore';
    GaugeSemaphoreComponent.LabelTag = 'HtmlSemaphore';
    GaugeSemaphoreComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show, blink: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].blink };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GaugeSemaphoreComponent.prototype, "data", void 0);
    GaugeSemaphoreComponent = GaugeSemaphoreComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-semaphore',
            template: __webpack_require__(/*! ./gauge-semaphore.component.html */ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.html"),
            styles: [__webpack_require__(/*! ./gauge-semaphore.component.css */ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], GaugeSemaphoreComponent);
    return GaugeSemaphoreComponent;
    var GaugeSemaphoreComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/html-bag/bag-property/bag-property.component.css":
/*!******************************************************************************!*\
  !*** ./app/gauges/controls/html-bag/bag-property/bag-property.component.css ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.slider {\r\n    display:inline-block; \r\n    width: 100px;\r\n}\r\n\r\n.gauge {\r\n    display: inline-block;\r\n    position: absolute;\r\n    top: 0px;\r\n    width: 360px;\r\n    height: 350px;\r\n    margin: 0 auto;\r\n    padding-top: 30px;\r\n    padding-left: 70px;\r\n}\r\n\r\n.gauge-select {\r\n    width: 280px; \r\n    text-align: center;\r\n}\r\n\r\n.gauge-view {\r\n    border: 1px solid rgba(0, 0, 0, 0.1);\r\n    width: 280px; \r\n    height: 220px;\r\n    margin-top: -5px;\r\n    padding-top: 30px;\r\n}\r\n\r\n.btn-gauge {\r\n    z-index: 99;\r\n    display: inline-block;\r\n    width: 50px;\r\n    height:38px;\r\n    border: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.btn-gauge-mat {\r\n    background: url('/assets/images/gauge-mat.png') no-repeat center center;\r\n}\r\n\r\n.btn-gauge-donut {\r\n    background: url('/assets/images/gauge-donut.png') no-repeat center center;\r\n}\r\n\r\n.btn-gauge-zone {\r\n    background: url('/assets/images/gauge-zone.png') no-repeat center center;\r\n}\r\n\r\n.toolbox {\r\n    /* display: inline-block; */\r\n    /* width: 460px; */\r\n    position: absolute;\r\n    /* bottom: 0px; */\r\n    /* left: 0px; */\r\n    width: 100%;\r\n    height: 310px;\r\n}\r\n\r\n.toolbox-left {\r\n    display: inline-block;\r\n    width: 460px;\r\n    padding-top: 20px;\r\n}\r\n\r\n.toolbox-right {\r\n    width: 300px;\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    height: 270px;\r\n}\r\n\r\n.toolbox-det {\r\n    display: inline-block;\r\n    width: 312px;\r\n    height: 300px;\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 0px;\r\n}\r\n\r\n.slider-field span {\r\n    padding-left: 2px;\r\n    text-overflow: clip;\r\n    max-width: 125px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n\r\n.slider-field mat-slider {\r\n    background-color: #f1f3f4;\r\n    height: 30px;\r\n}\r\n\r\n.field-row {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.color-field input {\r\n    padding: 0 !important;\r\n    height: 29px;\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/controls/html-bag/bag-property/bag-property.component.html":
/*!*******************************************************************************!*\
  !*** ./app/gauges/controls/html-bag/bag-property/bag-property.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"background-color: white; width: 750px;height: 810px; position: relative\" class=\"dialog-mdsd-v\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'editor.controls-bag-settings' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div style=\"display: block; width: 660px\">\r\n        <div style=\"display: block;\">\r\n            <div class=\"my-form-field\">\r\n                <span>{{'gauges.property-name' | translate}}</span>\r\n                <input [(ngModel)]=\"data.settings.name\" style=\"width: 220px\" type=\"text\">\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"vertical-align: bottom; margin-left: 13px;\">\r\n                <span>{{'gauges.property-permission' | translate}}</span>\r\n                <div style=\"width:80px;height:30px;background-color:#f1f3f4;text-align:center;cursor:pointer;\" (click)=\"onEditPermission()\">\r\n                    <mat-icon class=\"header-icon\" style=\"line-height: 30px;\" *ngIf=\"!property || !property.permission\">lock_open</mat-icon>\r\n                    <mat-icon class=\"header-icon\" style=\"line-height: 30px;\" *ngIf=\"property && property.permission\">lock</mat-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n            <flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head>\r\n        </div>\r\n    </div>\r\n    <div style=\"width: 750px; height: 660px; position: relative\">\r\n        <div style=\"display: block; height: 360px;\">\r\n            <div class=\"gauge\">\r\n                <div class=\"gauge-select\">\r\n                    <div (click)=\"onGaugeChange(gaugeTypeEnum.Gauge)\" class=\"btn-gauge btn-gauge-mat\"\r\n                        [ngStyle]=\"{'border-bottom-color': gaugeType == gaugeTypeEnum.Gauge ? 'white' : ''}\"></div>\r\n                    <div (click)=\"onGaugeChange(gaugeTypeEnum.Donut)\" class=\"btn-gauge btn-gauge-donut\"\r\n                        [ngStyle]=\"{'border-bottom-color': gaugeType == gaugeTypeEnum.Donut ? 'white' : ''}\"></div>\r\n                    <div (click)=\"onGaugeChange(gaugeTypeEnum.Zones)\" class=\"btn-gauge btn-gauge-zone\"\r\n                        [ngStyle]=\"{'border-bottom-color': gaugeType == gaugeTypeEnum.Zones ? 'white' : ''}\"></div>\r\n                </div>\r\n                <div class=\"gauge-view\">\r\n                    <ngx-gauge [options]=\"options\" #ngauge [value]=\"gauge.value\"></ngx-gauge>\r\n                </div>\r\n            </div>\r\n            <div class=\"toolbox-det\" *ngIf=\"gaugeType!=gaugeTypeEnum.Donut\">\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-ticks' | translate}}</span>\r\n                        <mat-slide-toggle color=\"primary\" [(ngModel)]=\"optcfg.ticksEnabled\" (change)=\"onChangeTicks($event.checked)\"></mat-slide-toggle>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-divisions' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"20\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.renderTicks.divisions\" (input)=\"onChangeOptionsTicks('divisions', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-subdivisions' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"20\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.renderTicks.subDivisions\" (input)=\"onChangeOptionsTicks('subDivisions', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-divisions-length' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.renderTicks.divLength\" (input)=\"onChangeOptionsTicks('divLength', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-subdivisions-length' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.renderTicks.subLength\" (input)=\"onChangeOptionsTicks('subLength', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-divisions-width' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.renderTicks.divWidth\" (input)=\"onChangeOptionsTicks('divWidth', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-subdivisions-width' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.renderTicks.subWidth\" (input)=\"onChangeOptionsTicks('subWidth', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-divisions-color' | translate}}</span>\r\n                        <input [disabled]=\"!optcfg.ticksEnabled\" [(colorPicker)]=\"optcfg.renderTicks.divColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [style.background]=\"optcfg.renderTicks.divColor\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                            [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\"\r\n                            style=\"padding: 8px 0 0 0; width: 126px\" [cpPosition]=\"'left'\" (colorPickerChange)=\"onChangeOptionsTicks('divColor', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px;\">\r\n                        <span>{{'bag.property-subdivisions-color' | translate}}</span>\r\n                        <input [disabled]=\"!optcfg.ticksEnabled\" [(colorPicker)]=\"optcfg.renderTicks.subColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [style.background]=\"optcfg.renderTicks.subColor\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                            [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\"\r\n                            style=\"padding: 8px 0 0 0; width: 126px\" [cpPosition]=\"'left'\" (colorPickerChange)=\"onChangeOptionsTicks('subColor', $event)\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-divisionfont-size' | translate}}</span>\r\n                        <mat-slider [disabled]=\"!optcfg.ticksEnabled\" style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            [(ngModel)]=\"optcfg.staticFontSize\" (input)=\"onChangeOptionsLabels('fontSize', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-divisionfont-color' | translate}}</span>\r\n                        <input [(colorPicker)]=\"optcfg.staticFontColor\" [cpDisabled]=\"!optcfg.ticksEnabled\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [style.background]=\"optcfg.staticFontColor\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                            [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\"\r\n                            style=\"padding: 8px 0 0 0; width: 126px\" [cpPosition]=\"'left'\" (colorPickerChange)=\"onChangeOptionsLabels('labelsColor', $event)\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span style=\"max-width: 180px\">{{'bag.property-divisions-labels' | translate}}</span>\r\n                        <input [disabled]=\"!optcfg.ticksEnabled\" [(ngModel)]=\"optcfg.staticLabelsText\" (change)=\"onChangeOptionsLabels('labels', optcfg.staticLabelsText)\"\r\n                            style=\"width: 265px;\" type=\"text\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"toolbox\">\r\n            <div class=\"toolbox-left\">\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-current-value' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"optcfg.maxValue\" [min]=\"optcfg.minValue\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"gauge.value\"\r\n                            (input)=\"onChangeValue($event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 11px\">\r\n                        <span>{{'bag.property-min' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"optcfg.minValue\" (change)=\"onChangeOptions('minValue', optcfg.minValue)\"\r\n                            style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-max' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"optcfg.maxValue\" (change)=\"onChangeOptions('maxValue', optcfg.maxValue)\"\r\n                            style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-bar-width' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"70\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.lineWidth\"\r\n                            (input)=\"onChangeOptions('lineWidth', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-animation-speed' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"128\" [min]=\"1\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.animationSpeed\"\r\n                            (input)=\"onChangeOptions('animationSpeed', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-angle' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"50\" [min]=\"-50\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.angle\"\r\n                            (input)=\"onChangeOptions('angle', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-radius' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"50\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.radiusScale\"\r\n                            (input)=\"onChangeOptions('radiusScale', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-font-size' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.fontSize\"\r\n                            (input)=\"onChangeOptions('fontSize', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-textfield-position' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.textFilePosition\"\r\n                            (input)=\"onChangeOptions('textFilePosition', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-format-digits' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"5\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.fractionDigits\"\r\n                            (input)=\"onChangeOptions('fractionDigits', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-pointer-length' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.pointer.length\"\r\n                            (input)=\"onChangeOptionsPointer('pointerLength', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-pointer-stroke' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"300\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"optcfg.pointer.strokeWidth\"\r\n                            (input)=\"onChangeOptionsPointer('pointerStrokeWidth', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-pointer-color' | translate}}</span>\r\n                        <input [(colorPicker)]=\"optcfg.pointer.color\" [cpAlphaChannel]=\"'always'\" [style.background]=\"optcfg.pointer.color\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptionsPointer('color', $event)\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row slider-field\">\r\n                    <div class=\"my-form-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-color-start' | translate}}</span>\r\n                        <input [(colorPicker)]=\"optcfg.colorStart\" [style.background]=\"optcfg.colorStart\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('colorStart', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-color-stop' | translate}}</span>\r\n                        <input [(colorPicker)]=\"optcfg.colorStop\" [style.background]=\"optcfg.colorStop\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('colorStop', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-background' | translate}}</span>\r\n                        <input [(colorPicker)]=\"optcfg.strokeColor\" [style.background]=\"optcfg.strokeColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('strokeColor', $event)\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row slider-field\">\r\n                    <div class=\"my-form-field\" style=\"padding-left: 12px;width:160px\">\r\n                        <span>{{'bag.property-font' | translate}}</span>\r\n                        <mat-select [(value)]=\"options.fontFamily\" (selectionChange)=\"onChangeOptionsLabels('fontFamily',  $event.value)\">\r\n                            <mat-option *ngFor=\"let font of fonts\" [style.fontFamily]=\"font\" [value]=\"font\">\r\n                                {{font}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <!-- <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'bag.property-background' | translate}}</span>\r\n                        <input [(colorPicker)]=\"optcfg.backgroundColor\" [style.background]=\"optcfg.backgroundColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\" [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('backgroundColor', $event)\" />\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"toolbox-right\" *ngIf=\"gaugeType==gaugeTypeEnum.Zones\">\r\n                <div style=\"position: absolute; top: 0px; right: 0px\">\r\n                    <span>{{'bag.property-zones' | translate}}</span>\r\n                    <button mat-icon-button (click)=\"onAddZone()\" [disabled]=\"optcfg.staticZones && optcfg.staticZones.length >= 5\">\r\n                        <mat-icon>add_circle_outline</mat-icon>\r\n                    </button>\r\n                </div>\r\n                <div style=\"margin-top: 20px; margin-bottom:20px; height:250px\">\r\n                    <div *ngFor=\"let item of optcfg.staticZones; index as i\" style=\"display: block;\">\r\n                        <div class=\"my-form-field slider-field\">\r\n                            <span>{{'bag.property-min' | translate}}</span>\r\n                            <input [(ngModel)]=\"item.min\" style=\"width: 60px; text-align: center;\" type=\"text\" (change)=\"onChangeStaticZones()\">\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 12px;\">\r\n                            <span>{{'bag.property-max' | translate}}</span>\r\n                            <input [(ngModel)]=\"item.max\" style=\"width: 60px\" type=\"text\" (change)=\"onChangeStaticZones()\">\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                            <span>{{'bag.property-color' | translate}}</span>\r\n                            <input [cpDialogDisplay]=\"'popup'\" [(colorPicker)]=\"item.strokeStyle\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [style.background]=\"item.strokeStyle\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                                [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\"\r\n                                style=\"padding: 8px 0 0 0; width: 58px\" [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeStaticZones()\" />\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"line-height: 40px;\">\r\n                            <button mat-icon-button (click)=\"onRemoveZone(i)\" class=\"remove\">\r\n                                <mat-icon>clear</mat-icon>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/controls/html-bag/bag-property/bag-property.component.ts":
/*!*****************************************************************************!*\
  !*** ./app/gauges/controls/html-bag/bag-property/bag-property.component.ts ***!
  \*****************************************************************************/
/*! exports provided: BagPropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BagPropertyComponent", function() { return BagPropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../gui-helpers/ngx-gauge/gaugeOptions */ "./app/gui-helpers/ngx-gauge/gaugeOptions.ts");
/* harmony import */ var _gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../gui-helpers/ngx-gauge/ngx-gauge.component */ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../gauge-property/flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../_helpers/define */ "./app/_helpers/define.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var BagPropertyComponent = /** @class */ (function () {
    function BagPropertyComponent(cdRef, dialog, dialogRef, data) {
        this.cdRef = cdRef;
        this.dialog = dialog;
        this.dialogRef = dialogRef;
        this.data = data;
        this.gauge = {
            value: 30
        };
        this.gaugeTypeEnum = _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"];
        this.gaugeType = _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Gauge;
        this.options = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
        this.optionsGauge = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
        this.optionsDonut = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
        this.optionsZones = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
        this.optcfg = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_1__["Utils"].defaultColor;
        this.fonts = _helpers_define__WEBPACK_IMPORTED_MODULE_8__["Define"].fonts;
        this.optionsGauge = this.getDefaultOptions(_gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Gauge);
        this.optionsDonut = this.getDefaultOptions(_gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut);
        this.optionsZones = this.getDefaultOptions(_gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones);
        this.options = this.optionsGauge;
        this.property = JSON.parse(JSON.stringify(this.data.settings.property));
        if (!this.property) {
            this.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["GaugeProperty"]();
        }
    }
    BagPropertyComponent.prototype.ngOnInit = function () {
    };
    BagPropertyComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            _this.gaugeType = _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Gauge;
            if (_this.property.options) {
                _this.options = _this.property.options;
                _this.gaugeType = _this.options.type;
                if (_this.gaugeType === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut) {
                    _this.optionsDonut = _this.options;
                }
                else if (_this.gaugeType === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones) {
                    _this.optionsZones = _this.options;
                }
                else {
                    _this.optionsGauge = _this.options;
                }
            }
            _this.onGaugeChange(_this.gaugeType);
            _this.cdRef.detectChanges();
        }, 500);
    };
    BagPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    BagPropertyComponent.prototype.onOkClick = function () {
        this.data.settings.property = this.flexHead.getProperty();
        this.options.type = this.gaugeType;
        this.data.settings.property.options = this.options;
    };
    BagPropertyComponent.prototype.onEditPermission = function () {
        var _this = this;
        var permission = this.property.permission;
        var dialogRef = this.dialog.open(_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_6__["DialogGaugePermission"], {
            position: { top: '60px' },
            data: { permission: permission }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.property.permission = result.permission;
            }
        });
    };
    BagPropertyComponent.prototype.ngOnChanges = function (changes) {
        console.log('changes');
    };
    BagPropertyComponent.prototype.onGaugeChange = function (type) {
        if (type === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut) {
            this.gaugeType = _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut;
            this.initOptionsToConfig(this.optionsDonut);
            this.initDonut();
        }
        else if (type === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones) {
            this.gaugeType = _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones;
            this.initOptionsToConfig(this.optionsZones);
            this.initZones();
        }
        else {
            this.gaugeType = _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Gauge;
            this.initOptionsToConfig(this.optionsGauge);
            this.initGauge();
        }
        this.cdRef.detectChanges();
    };
    BagPropertyComponent.prototype.onChangeValue = function (value) {
        this.ngauge.setValue(value);
    };
    BagPropertyComponent.prototype.onChangeOptions = function (opt, value) {
        this.optcfg[opt] = value;
        this.configToOptions(this.optcfg[opt], opt);
        this.setGaugeOptions();
    };
    BagPropertyComponent.prototype.onChangeOptionsPointer = function (opt, value) {
        this.options.pointer[opt] = value;
        if (opt === 'pointerLength') {
            this.options.pointer.length = value / 100;
        }
        else if (opt === 'pointerStrokeWidth') {
            this.options.pointer.strokeWidth = value / 1000;
        }
        this.setGaugeOptions();
    };
    BagPropertyComponent.prototype.onChangeOptionsTicks = function (opt, value) {
        this.options.renderTicks[opt] = value;
        if (opt === 'divLength') {
            this.options.renderTicks.divLength = value / 100;
        }
        else if (opt === 'divWidth') {
            this.options.renderTicks.divWidth = value / 10;
        }
        else if (opt === 'subLength') {
            this.options.renderTicks.subLength = value / 100;
        }
        else if (opt === 'subWidth') {
            this.options.renderTicks.subWidth = value / 10;
        }
        this.setGaugeOptions();
    };
    BagPropertyComponent.prototype.onChangeTicks = function (event) {
        this.options.ticksEnabled = event;
        if (event) {
            var opt = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
            this.options.renderTicks = JSON.parse(JSON.stringify(opt.renderTicks));
        }
        else {
            this.options.renderTicks = {};
        }
        this.onGaugeChange(this.gaugeType);
    };
    BagPropertyComponent.prototype.onChangeOptionsLabels = function (opt, value) {
        if (opt === 'labels') {
            var labels_1 = [];
            if (value) {
                var tks = value.split(';');
                tks.forEach(function (tk) {
                    var v = parseFloat(tk);
                    if (!isNaN(v)) {
                        labels_1.push(v);
                    }
                });
            }
            this.options.staticLabels = { labels: labels_1, font: this.options.staticFontSize + 'px Sans-serif', color: this.options.staticFontColor };
            this.checkFontFamily();
            this.onGaugeChange(this.gaugeType);
        }
        else if (opt === 'fontSize') {
            this.options.staticFontSize = value;
            if (this.options.staticLabels) {
                this.options.staticLabels.font = this.options.staticFontSize + 'px Sans-serif';
                this.checkFontFamily();
                this.setGaugeOptions();
            }
        }
        else if (opt === 'labelsColor') {
            this.options.staticFontColor = value;
            if (this.options.staticLabels) {
                this.options.staticLabels.color = this.options.staticFontColor;
                this.setGaugeOptions();
            }
        }
        else if (opt === 'fontFamily') {
            this.options.fontFamily = value;
            this.checkFontFamily();
            this.setGaugeOptions();
        }
    };
    BagPropertyComponent.prototype.onAddZone = function () {
        if (!this.optcfg.staticZones) {
            this.optcfg.staticZones = [];
        }
        if (this.optcfg.staticZones.length < 5) {
            this.optcfg.staticZones.push({ min: null, max: null, strokeStyle: null });
        }
        this.options.staticZones = this.optcfg.staticZones;
        this.onGaugeChange(this.gaugeType);
    };
    BagPropertyComponent.prototype.onRemoveZone = function (index) {
        this.optcfg.staticZones.splice(index, 1);
        if (this.optcfg.staticZones.length <= 0) {
            delete this.optcfg.staticZones;
            delete this.options.staticZones;
        }
        else {
            this.options.staticZones = this.optcfg.staticZones;
        }
        this.onGaugeChange(this.gaugeType);
    };
    BagPropertyComponent.prototype.onChangeStaticZones = function () {
        this.options.staticZones = this.optcfg.staticZones;
        this.setGaugeOptions();
    };
    BagPropertyComponent.prototype.checkFontFamily = function () {
        if (this.options.staticLabels && this.options.fontFamily) {
            this.options.staticLabels.font = this.options.staticFontSize + 'px ' + this.options.fontFamily;
        }
    };
    BagPropertyComponent.prototype.initGauge = function () {
        this.setGaugeOptions();
        this.options = this.optionsGauge;
        this.ngauge.init(_gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Gauge);
    };
    BagPropertyComponent.prototype.initDonut = function () {
        this.setGaugeOptions();
        this.options = this.optionsDonut;
        this.ngauge.init(_gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut);
    };
    BagPropertyComponent.prototype.initZones = function () {
        this.setGaugeOptions();
        this.options = this.optionsZones;
        this.ngauge.init(_gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones);
    };
    BagPropertyComponent.prototype.setGaugeOptions = function () {
        if (this.gaugeType === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut) {
            this.ngauge.setOptions(this.optionsDonut);
        }
        else if (this.gaugeType === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones) {
            this.ngauge.setOptions(this.optionsZones);
        }
        else {
            this.ngauge.setOptions(this.optionsGauge);
        }
    };
    BagPropertyComponent.prototype.initOptionsToConfig = function (options) {
        var _this = this;
        this.optcfg = JSON.parse(JSON.stringify(options));
        this.optcfg.angle *= 100;
        this.optcfg.lineWidth *= 100;
        this.optcfg.radiusScale *= 100;
        this.optcfg.pointer.length *= 100;
        this.optcfg.pointer.strokeWidth *= 1000;
        if (this.optcfg.renderTicks) {
            if (this.optcfg.renderTicks.divLength) {
                this.optcfg.renderTicks.divLength *= 100;
            }
            if (this.optcfg.renderTicks.divWidth) {
                this.optcfg.renderTicks.divWidth *= 10;
            }
            if (this.optcfg.renderTicks.subLength) {
                this.optcfg.renderTicks.subLength *= 100;
            }
            if (this.optcfg.renderTicks.subWidth) {
                this.optcfg.renderTicks.subWidth *= 10;
            }
        }
        this.optcfg.staticLabelsText = '';
        if (this.optcfg.staticLabels && this.optcfg.staticLabels.labels.length) {
            this.optcfg.staticLabels.labels.forEach(function (lb) {
                if (_this.optcfg.staticLabelsText) {
                    _this.optcfg.staticLabelsText += ';';
                }
                _this.optcfg.staticLabelsText += lb;
            });
        }
    };
    BagPropertyComponent.prototype.configToOptions = function (value, opt) {
        if (opt === 'angle' || opt === 'lineWidth' || opt === 'radiusScale') {
            value /= 100;
        }
        this.options[opt] = value;
    };
    BagPropertyComponent.prototype.getDefaultOptions = function (type) {
        if (type === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Zones) {
            var opts = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
            opts.angle = -0.25;
            opts.lineWidth = 0.2;
            opts.radiusScale = 0.9;
            opts.pointer.length = 0.6;
            opts.pointer.strokeWidth = 0.05;
            return opts;
        }
        else if (type === _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeType"].Donut) {
            var optsd = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
            optsd.angle = 0.3;
            optsd.lineWidth = 0.1;
            optsd.radiusScale = 0.8;
            optsd.renderTicks.divisions = 0;
            optsd.renderTicks.divWidth = 0;
            optsd.renderTicks.divLength = 0;
            optsd.renderTicks.subDivisions = 0;
            optsd.renderTicks.subWidth = 0;
            optsd.renderTicks.subLength = 0;
            delete optsd.staticLabels;
            delete optsd.staticZones;
            optsd.ticksEnabled = false;
            return optsd;
        }
        else {
            var optsa = new _gui_helpers_ngx_gauge_gaugeOptions__WEBPACK_IMPORTED_MODULE_3__["GaugeOptions"]();
            delete optsa.staticLabels;
            delete optsa.staticZones;
            optsa.ticksEnabled = false;
            optsa.renderTicks = {};
            optsa.staticFontSize = 0;
            optsa.staticLabelsText = '';
            return optsa;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("ngauge"),
        __metadata("design:type", _gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_4__["NgxGaugeComponent"])
    ], BagPropertyComponent.prototype, "ngauge", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexhead'),
        __metadata("design:type", _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_7__["FlexHeadComponent"])
    ], BagPropertyComponent.prototype, "flexHead", void 0);
    BagPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'bag-property',
            template: __webpack_require__(/*! ./bag-property.component.html */ "./app/gauges/controls/html-bag/bag-property/bag-property.component.html"),
            styles: [__webpack_require__(/*! ./bag-property.component.css */ "./app/gauges/controls/html-bag/bag-property/bag-property.component.css")]
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], BagPropertyComponent);
    return BagPropertyComponent;
}());



/***/ }),

/***/ "./app/gauges/controls/html-bag/html-bag.component.css":
/*!*************************************************************!*\
  !*** ./app/gauges/controls/html-bag/html-bag.component.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-bag/html-bag.component.html":
/*!**************************************************************!*\
  !*** ./app/gauges/controls/html-bag/html-bag.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-bag/html-bag.component.ts":
/*!************************************************************!*\
  !*** ./app/gauges/controls/html-bag/html-bag.component.ts ***!
  \************************************************************/
/*! exports provided: HtmlBagComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlBagComponent", function() { return HtmlBagComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../gui-helpers/ngx-gauge/ngx-gauge.component */ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HtmlBagComponent = /** @class */ (function (_super) {
    __extends(HtmlBagComponent, _super);
    function HtmlBagComponent(resolver) {
        var _this = _super.call(this) || this;
        _this.resolver = resolver;
        return _this;
    }
    HtmlBagComponent_1 = HtmlBagComponent;
    HtmlBagComponent.prototype.ngOnInit = function () { };
    HtmlBagComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        return res;
    };
    HtmlBagComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].Gauge;
    };
    HtmlBagComponent.processValue = function (ga, svgele, sig, gaugeStatus, gauge) {
        try {
            gauge.setValue(sig.value);
        }
        catch (err) {
            console.log(err);
        }
    };
    HtmlBagComponent.initElement = function (gab, resolver, viewContainerRef, isview) {
        var ele = document.getElementById(gab.id);
        if (ele) {
            var htmlBag = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].searchTreeStartWith(ele, this.prefixD);
            if (htmlBag) {
                var factory = resolver.resolveComponentFactory(_gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_4__["NgxGaugeComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                htmlBag.innerHTML = '';
                componentRef.changeDetectorRef.detectChanges();
                var loaderComponentElement = componentRef.location.nativeElement;
                htmlBag.appendChild(loaderComponentElement);
                componentRef.instance.resize(htmlBag.clientHeight, htmlBag.clientWidth);
                if (gab.property && gab.property.options) {
                    componentRef.instance.setOptions(gab.property.options);
                    componentRef.instance.init(gab.property.options.type);
                }
                return componentRef.instance;
            }
        }
    };
    HtmlBagComponent.resize = function (gab, resolver, viewContainerRef, options) {
        var ele = document.getElementById(gab.id);
        if (ele) {
            var htmlBag = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].searchTreeStartWith(ele, this.prefixD);
            if (htmlBag) {
                var factory = resolver.resolveComponentFactory(_gui_helpers_ngx_gauge_ngx_gauge_component__WEBPACK_IMPORTED_MODULE_4__["NgxGaugeComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                htmlBag.innerHTML = '';
                componentRef.changeDetectorRef.detectChanges();
                var loaderComponentElement = componentRef.location.nativeElement;
                htmlBag.appendChild(loaderComponentElement);
                componentRef.instance.resize(htmlBag.clientHeight, htmlBag.clientWidth);
                if (options) {
                    componentRef.instance.setOptions(options);
                    componentRef.instance.init(options.type);
                }
                return componentRef.instance;
            }
        }
    };
    HtmlBagComponent.detectChange = function (gab, res, ref) {
        var options;
        if (gab.property && gab.property.options) {
            options = gab.property.options;
        }
        return HtmlBagComponent_1.resize(gab, res, ref, options);
    };
    HtmlBagComponent.TypeTag = "svg-ext-html_bag";
    HtmlBagComponent.LabelTag = "HtmlBag";
    HtmlBagComponent.prefixD = "D-BAG_";
    HtmlBagComponent = HtmlBagComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-html-bag',
            template: __webpack_require__(/*! ./html-bag.component.html */ "./app/gauges/controls/html-bag/html-bag.component.html"),
            styles: [__webpack_require__(/*! ./html-bag.component.css */ "./app/gauges/controls/html-bag/html-bag.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]])
    ], HtmlBagComponent);
    return HtmlBagComponent;
    var HtmlBagComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/html-button/html-button.component.css":
/*!*******************************************************************!*\
  !*** ./app/gauges/controls/html-button/html-button.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-button/html-button.component.html":
/*!********************************************************************!*\
  !*** ./app/gauges/controls/html-button/html-button.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-button/html-button.component.ts":
/*!******************************************************************!*\
  !*** ./app/gauges/controls/html-button/html-button.component.ts ***!
  \******************************************************************/
/*! exports provided: HtmlButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlButtonComponent", function() { return HtmlButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HtmlButtonComponent = /** @class */ (function (_super) {
    __extends(HtmlButtonComponent, _super);
    // static actionBlink = Object.keys(GaugeActionsType).find(key => GaugeActionsType[key] === GaugeActionsType.blink);
    function HtmlButtonComponent() {
        return _super.call(this) || this;
    }
    HtmlButtonComponent_1 = HtmlButtonComponent;
    HtmlButtonComponent.prototype.ngOnInit = function () {
    };
    HtmlButtonComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    HtmlButtonComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__["GaugeDialogType"].Range;
    };
    HtmlButtonComponent.getActions = function () {
        return this.actionsType;
    };
    HtmlButtonComponent.initElement = function (gab) {
        var ele = document.getElementById(gab.id);
        if (ele && gab.property) {
            var htmlButton = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixB);
            if (htmlButton) {
                htmlButton.innerHTML = (gab.name) ? gab.name : '<span>&nbsp;</span>';
            }
        }
    };
    HtmlButtonComponent.initElementColor = function (bkcolor, color, ele) {
        var htmlButton = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixB);
        if (htmlButton) {
            ele.setAttribute('fill', 'rgba(0, 0, 0, 0)');
            ele.setAttribute('stroke', 'rgba(0, 0, 0, 0)');
            for (var i = 0; i < ele.children.length; i++) {
                ele.children[i].removeAttribute('fill');
                ele.children[i].removeAttribute('stroke');
            }
            if (bkcolor) {
                htmlButton.style.backgroundColor = bkcolor;
            }
            if (color) {
                htmlButton.style.color = color;
            }
        }
    };
    HtmlButtonComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node && svgele.node.children && svgele.node.children.length >= 1) {
                var button_1 = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(svgele.node, this.prefixB);
                var clr = '';
                var val_1 = parseFloat(sig.value);
                if (Number.isNaN(val_1)) {
                    // maybe boolean
                    val_1 = Number(sig.value);
                }
                if (ga.property) {
                    if (ga.property.ranges) {
                        for (var idx = 0; idx < ga.property.ranges.length; idx++) {
                            if (ga.property.ranges[idx].min <= val_1 && ga.property.ranges[idx].max >= val_1) {
                                clr = ga.property.ranges[idx].color;
                            }
                        }
                        if (clr) {
                            button_1.style.backgroundColor = clr;
                        }
                    }
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                HtmlButtonComponent_1.processAction(act, svgele, button_1, val_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    HtmlButtonComponent.getFillColor = function (ele) {
        if (ele.children && ele.children[0]) {
            var htmlButton = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixB);
            if (htmlButton) {
                var result = htmlButton.style['background-color'];
                if (!result) {
                    result = htmlButton.getAttribute('fill');
                }
                if (result) {
                    return result;
                }
            }
        }
        return ele.getAttribute('fill');
    };
    HtmlButtonComponent.getStrokeColor = function (ele) {
        if (ele.children && ele.children[0]) {
            var htmlButton = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefixB);
            if (htmlButton) {
                var result = htmlButton.style['color'];
                if (!result) {
                    result = htmlButton.getAttribute('stroke');
                }
                if (result) {
                    return result;
                }
            }
        }
        return ele.getAttribute('stroke');
    };
    HtmlButtonComponent.processAction = function (act, svgele, button, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.blink) {
            var inRange = (act.range.min <= value && act.range.max >= value);
            this.checkActionBlink(button, act.type, gaugeStatus, inRange, act.options, true);
        }
    };
    HtmlButtonComponent.TypeTag = 'svg-ext-html_button';
    HtmlButtonComponent.LabelTag = 'HtmlButton';
    HtmlButtonComponent.prefixB = 'B-HXB_';
    HtmlButtonComponent.prefixRect = 'svg_';
    HtmlButtonComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show, blink: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].blink };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HtmlButtonComponent.prototype, "data", void 0);
    HtmlButtonComponent = HtmlButtonComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'html-button',
            template: __webpack_require__(/*! ./html-button.component.html */ "./app/gauges/controls/html-button/html-button.component.html"),
            styles: [__webpack_require__(/*! ./html-button.component.css */ "./app/gauges/controls/html-button/html-button.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], HtmlButtonComponent);
    return HtmlButtonComponent;
    var HtmlButtonComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/html-chart/chart-property/chart-property.component.css":
/*!************************************************************************************!*\
  !*** ./app/gauges/controls/html-chart/chart-property/chart-property.component.css ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mychart-graph {\r\n    display: block;\r\n    margin: 0 auto;\r\n    margin-top: 30px;\r\n    overflow: hidden;\r\n    width: 360px;\r\n}\r\n\r\n.toolbox {\r\n    padding-top: 25px;\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n\r\n.field-row {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.slider-field span {\r\n    padding-left: 2px;\r\n    text-overflow: clip;\r\n    max-width: 125px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n\r\n::ng-deep .slider-field mat-slider {\r\n    background-color: #f1f3f4;\r\n    height: 30px;\r\n    width: 100px;\r\n}\r\n\r\n::ng-deep .mat-tab-label {\r\n    height: 34px !important;\r\n}\r\n\r\n.color-field input {\r\n    padding: 0 !important;\r\n    height: 29px;\r\n}"

/***/ }),

/***/ "./app/gauges/controls/html-chart/chart-property/chart-property.component.html":
/*!*************************************************************************************!*\
  !*** ./app/gauges/controls/html-chart/chart-property/chart-property.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 680px;position: relative;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'editor.controls-chart-settings' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <mat-tab-group style=\"width: 100%;height: 500px\" (selectedIndexChange)=\"onTabChanged()\">\r\n        <mat-tab label=\"{{'chart.property-props' | translate}}\">\r\n            <div style=\"max-height: 540px; overflow-y: auto; overflow-x: hidden; padding-top: 15px;\">\r\n                <div style=\"display: block;\">\r\n                    <div class=\"my-form-field\" style=\"width: 320px;\">\r\n                        <span>{{'chart.property-chart' | translate}}</span>\r\n                        <mat-select [formControl]=\"chartCtrl\">\r\n                            <mat-select-search [formControl]=\"chartFilterCtrl\"></mat-select-search>\r\n                            <mat-option *ngFor=\"let chart of filteredChart | async\" [value]=\"chart\">\r\n                                {{ chart.name }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width: 140px;margin-left: 20px;\">\r\n                        <span>{{'chart.property-chart-type' | translate}}</span>\r\n                        <mat-select [(value)]=\"chartViewValue\">\r\n                            <mat-option *ngFor=\"let ev of chartViewType | enumToArray\" [value]=\"ev.key\">\r\n                                {{ ev.value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div *ngIf=\"chartViewValue === chartViewRealtime\" class=\"my-form-field\" style=\"margin-left: 20px;\">\r\n                        <span>{{'chart.property-realtime-max' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"options.realtime\" type=\"text\" style=\"width: 80px\">\r\n                    </div>\r\n                </div>\r\n                <div style=\"display: block; width:100%\">\r\n                    <mat-list class=\"list\" style=\"padding-left: 8px;padding-right: 8px;\">\r\n                        <div style=\"height: calc(100% - 36px); overflow-y: auto\" *ngIf=\"chartCtrl.value\">\r\n                            <mat-list-item *ngFor=\"let tag of chartCtrl.value.lines\" style=\"font-size:14px;height: 27px;\">\r\n                                <div style=\"width: 50%;text-overflow: ellipsis;display: block; overflow: hidden; white-space: nowrap;\">\r\n                                    <span matTooltip=\"{{tag.name}}\">{{tag.name}}</span>\r\n                                </div>\r\n                                <div style=\"width: 40%;text-overflow: ellipsis;display: block; overflow: hidden; white-space: nowrap;\">\r\n                                    <span matTooltip=\"{{tag.device}}\">{{tag.device}}</span>\r\n                                </div>\r\n                                <div [style.background-color]=\"tag.color\" style=\"height:20px; width:30px\">\r\n                                </div>\r\n                            </mat-list-item>\r\n                        </div>\r\n                    </mat-list>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n        <mat-tab label=\"{{'chart.property-layout' | translate}}\">\r\n            <chart-uplot #chartuplot [options]=\"options\" class=\"mychart-graph\"></chart-uplot>\r\n            <div class=\"toolbox\">\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field\" style=\"width:160px\">\r\n                        <span>{{'chart.property-font' | translate}}</span>\r\n                        <mat-select [(value)]=\"options.fontFamily\" (selectionChange)=\"onChangeOptions('fontFamily',  $event.value)\">\r\n                            <mat-option *ngFor=\"let font of fonts\" [style.fontFamily]=\"font\" [value]=\"font\">\r\n                                {{font}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 15px;\">\r\n                        <span>{{'chart.property-color.text' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.axisLabelColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\" [style.background]=\"options.axisLabelColor\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 88px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('axisLabelColor', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 30px;\">\r\n                        <span>{{'chart.property-color.background' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.colorBackground\" [cpAlphaChannel]=\"'always'\" class=\"input-color\" [style.background]=\"options.colorBackground\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 88px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('colorBackground', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width:120px;padding-left: 30px\">\r\n                        <span>{{'chart.property-date.format' | translate}}</span>\r\n                        <mat-select [(value)]=\"options.dateFormat\" (selectionChange)=\"onChangeOptions('date',  $event.value)\">\r\n                            <mat-option *ngFor=\"let ev of dateFormat | enumToArray\" [value]=\"ev.key\">\r\n                                {{ ev.value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width:120px;padding-left: 15px\">\r\n                        <span>{{'chart.property-time.format' | translate}}</span>\r\n                        <mat-select [(value)]=\"options.timeFormat\" (selectionChange)=\"onChangeOptions('time',  $event.value)\">\r\n                            <mat-option *ngFor=\"let ev of timeFormat | enumToArray\" [value]=\"ev.key\">\r\n                                {{ ev.value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <!-- <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 30px;\">\r\n                        <span>{{'chart.property-color.legend' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.legendBackground\" [cpAlphaChannel]=\"'always'\" class=\"input-color\" [style.background]=\"options.legendBackground\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 88px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('legendBackground', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 8px\">\r\n                        <span>{{'chart.property-font.legendsize' | translate}}</span>\r\n                        <mat-slider [(ngModel)]=\"options.legendFontSize\" style=\"display:inline-block;width:80px\" [min]=\"0\" [max]=\"16\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            (input)=\"onChangeOptions('legendFontSize', $event.value)\">\r\n                        </mat-slider>\r\n                    </div> -->\r\n                </div>\r\n                <div class=\"field-row\" style=\"padding-top: 5px;\">\r\n                    <div class=\"my-form-field slider-field\">\r\n                        <span>{{'chart.property-font.titlesize' | translate}}</span>\r\n                        <mat-slider [(ngModel)]=\"options.titleHeight\" style=\"display:inline-block;\" [min]=\"0\" [max]=\"36\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            (input)=\"onChangeOptions('titleHeight', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 8px\">\r\n                        <span>{{'chart.property-font.axissize' | translate}}</span>\r\n                        <mat-slider [(ngModel)]=\"options.axisLabelFontSize\" style=\"display:inline-block;\" [min]=\"0\" [max]=\"15\" [step]=\"1\" [thumbLabel]=\"true\"\r\n                            (input)=\"onChangeOptions('axisLabelFontSize', $event.value)\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 30px\">\r\n                        <span>{{'chart.property-color.grid' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.gridLineColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\" [style.background]=\"options.gridLineColor\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 88px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"onChangeOptions('gridLineColor', $event)\" />\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width:120px;padding-left: 30px\">\r\n                        <span>{{'chart.property-legend.mode' | translate}}</span>\r\n                        <mat-select [(value)]=\"options.legendMode\" (selectionChange)=\"onChangeOptions('legend',  $event.value)\">\r\n                            <mat-option *ngFor=\"let ev of legendModes | enumToArray\" [value]=\"ev.key\">\r\n                                {{ ev.value }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <!-- <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'chart.property-scala.auto' | translate}}</span>\r\n                        <mat-slide-toggle color=\"primary\" [(ngModel)]=\"autoScala.enabled\" (change)=\"onChangeOptions('autoscala', $event.value)\"></mat-slide-toggle>\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'chart.property-scala.min' | translate}}</span>\r\n                        <input numberOnly [disabled]=\"autoScala.enabled\" [(ngModel)]=\"autoScala.min\" (change)=\"onChangeOptions('minscala', $event.value)\" style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'chart.property-scala.max' | translate}}</span>\r\n                        <input numberOnly [disabled]=\"autoScala.enabled\" [(ngModel)]=\"autoScala.max\" (change)=\"onChangeOptions('maxscala', $event.value)\" style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n    <div mat-dialog-actions style=\"float:right; padding-bottom: 20px;\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/controls/html-chart/chart-property/chart-property.component.ts":
/*!***********************************************************************************!*\
  !*** ./app/gauges/controls/html-chart/chart-property/chart-property.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ChartPropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartPropertyComponent", function() { return ChartPropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _models_chart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_models/chart */ "./app/_models/chart.ts");
/* harmony import */ var _chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chart-uplot/chart-uplot.component */ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../_helpers/define */ "./app/_helpers/define.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};












var ChartPropertyComponent = /** @class */ (function () {
    function ChartPropertyComponent(dialogRef, translateService, data) {
        this.dialogRef = dialogRef;
        this.translateService = translateService;
        this.data = data;
        this.chartViewType = _models_chart__WEBPACK_IMPORTED_MODULE_7__["ChartViewType"];
        this.chartViewRealtime = _helpers_utils__WEBPACK_IMPORTED_MODULE_10__["Utils"].getEnumKey(_models_chart__WEBPACK_IMPORTED_MODULE_7__["ChartViewType"], _models_chart__WEBPACK_IMPORTED_MODULE_7__["ChartViewType"].realtime1);
        this.dateFormat = _models_hmi__WEBPACK_IMPORTED_MODULE_6__["DateFormatType"];
        this.timeFormat = _models_hmi__WEBPACK_IMPORTED_MODULE_6__["TimeFormatType"];
        this.legendModes = _models_chart__WEBPACK_IMPORTED_MODULE_7__["ChartLegendMode"];
        this.fonts = _helpers_define__WEBPACK_IMPORTED_MODULE_9__["Define"].fonts;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_10__["Utils"].defaultColor;
        this.chartCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]();
        this.chartFilterCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]();
        this.options = _chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_8__["ChartUplotComponent"].DefaultOptions();
        this.autoScala = { enabled: true, min: 0, max: 10 };
        this.filteredChart = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this._onDestroy = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    ChartPropertyComponent.prototype.ngOnInit = function () {
        var _this = this;
        Object.keys(this.chartViewType).forEach(function (key) {
            _this.translateService.get(_this.chartViewType[key]).subscribe(function (txt) { _this.chartViewType[key] = txt; });
        });
        Object.keys(this.legendModes).forEach(function (key) {
            _this.translateService.get(_this.legendModes[key]).subscribe(function (txt) { _this.legendModes[key] = txt; });
        });
        this.loadChart();
        var selected = null;
        if (this.data.settings.property) {
            this.chartViewValue = this.data.settings.property.type;
            this.data.charts.forEach(function (chart) {
                if (chart.id === _this.data.settings.property.id) {
                    selected = chart;
                }
            });
            if (this.data.settings.property.options) {
                this.options = Object.assign(this.options, this.data.settings.property.options);
            }
        }
        if (selected) {
            this.chartCtrl.setValue(selected);
        }
    };
    ChartPropertyComponent.prototype.ngAfterViewInit = function () {
        this.chartuplot.withToolbar = false;
        this.chartuplot.setOptions(this.options);
    };
    ChartPropertyComponent.prototype.ngOnDestroy = function () {
        this._onDestroy.next();
        this._onDestroy.complete();
    };
    ChartPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    ChartPropertyComponent.prototype.onOkClick = function () {
        this.data.settings.property = { id: null, type: this.chartViewValue, options: this.options };
        if (this.chartCtrl.value) {
            this.data.settings.name = this.chartCtrl.value.name;
            this.data.settings.property.id = this.chartCtrl.value.id;
        }
        else {
            this.data.settings.name = '';
        }
    };
    ChartPropertyComponent.prototype.onChangeOptions = function (option, value) {
        if (option === 'titleHeight') {
            this.options.titleHeight = value;
        }
        else if (option === 'axisLabelFontSize') {
            this.options.axisLabelFontSize = value;
        }
        else if (option === 'axisLabelColor') {
            this.options.axisLineColor = value;
            this.options.axisLabelColor = value;
        }
        else if (option === 'fontFamily') {
            this.options.fontFamily = value;
        }
        else if (option === 'colorBackground') {
            this.options.colorBackground = value;
        }
        else if (option === 'gridLineColor') {
            this.options.gridLineColor = value;
        }
        else if (option === 'legend') {
            this.options.legendMode = value;
        }
        else if (option === 'date') {
            this.options.dateFormat = value;
        }
        else if (option === 'time') {
            this.options.timeFormat = value;
        }
        this.chartuplot.setOptions(this.options);
    };
    ChartPropertyComponent.prototype.onTabChanged = function () {
    };
    ChartPropertyComponent.prototype.loadChart = function (toset) {
        var _this = this;
        // load the initial chart list
        this.filteredChart.next(this.data.charts.slice());
        // listen for search field value changes
        this.chartFilterCtrl.valueChanges
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this._onDestroy))
            .subscribe(function () {
            _this.filterChart();
        });
        if (toset) {
            var idx_1 = -1;
            this.data.charts.every(function (value, index, _arr) {
                if (value.id === toset) {
                    idx_1 = index;
                    return false;
                }
                return true;
            });
            if (idx_1 >= 0) {
                this.chartCtrl.setValue(this.data.charts[idx_1]);
            }
        }
    };
    ChartPropertyComponent.prototype.filterChart = function () {
        if (!this.data.charts) {
            return;
        }
        // get the search keyword
        var search = this.chartFilterCtrl.value;
        if (!search) {
            this.filteredChart.next(this.data.charts.slice());
            return;
        }
        else {
            search = search.toLowerCase();
        }
        // filter the variable
        this.filteredChart.next(this.data.charts.filter(function (chart) { return chart.name.toLowerCase().indexOf(search) > -1; }));
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('chartuplot'),
        __metadata("design:type", _chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_8__["ChartUplotComponent"])
    ], ChartPropertyComponent.prototype, "chartuplot", void 0);
    ChartPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-chart-property',
            template: __webpack_require__(/*! ./chart-property.component.html */ "./app/gauges/controls/html-chart/chart-property/chart-property.component.html"),
            styles: [__webpack_require__(/*! ./chart-property.component.css */ "./app/gauges/controls/html-chart/chart-property/chart-property.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"], Object])
    ], ChartPropertyComponent);
    return ChartPropertyComponent;
}());



/***/ }),

/***/ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.css":
/*!******************************************************************************!*\
  !*** ./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.css ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mychart-panel {\r\n    display: block;\r\n    margin: 0 auto;\r\n    height: inherit;\r\n    width: inherit;\r\n}\r\n\r\n.mychart-graph {\r\n    display: block;\r\n    margin: 0 auto;\r\n}\r\n\r\n.mychar-toolbar {\r\n    display: block;\r\n    height: 34px !important;\r\n    width: 100% !important;\r\n    background-color: transparent;\r\n}"

/***/ }),

/***/ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.html":
/*!*******************************************************************************!*\
  !*** ./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"mychart-panel\" #chartPanel>\r\n    <div class=\"mychar-toolbar\" *ngIf=\"withToolbar\">\r\n        <div style=\"display: block; padding-right: 5px;text-align: center;\" class=\"my-form-field\">\r\n            <button *ngIf=\"isEditor\" style=\"margin-left:5px; border: 0px; height: 28px; width: 200px; cursor: pointer; vertical-align: middle;\">\r\n            </button>\r\n            <mat-select *ngIf=\"!isEditor\" [(value)]=\"rangeTypeValue\" style=\"width: 200px\" (selectionChange)=\"onRangeChanged($event.source.value)\">\r\n                <mat-option *ngFor=\"let ev of rangeType | enumToArray\" [value]=\"ev.key\">\r\n                    {{ ev.value }}\r\n                </mat-option>\r\n            </mat-select>\r\n            <button style=\"margin-left:5px; border: 0px; height: 28px; width: 40px; cursor: pointer; vertical-align: middle;\" (click)=\"onClick('B')\">\r\n\t\t\t\t<mat-icon aria-label=\"<<\">skip_previous</mat-icon>\r\n            </button>\r\n            <button style=\"margin-left:5px; border: 0px; height: 28px; width: 40px; cursor: pointer; vertical-align: middle;\" (click)=\"onClick('F')\">\r\n\t\t\t\t<mat-icon aria-label=\">>\">skip_next</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <ngx-uplot class=\"mychart-graph\" #nguplot></ngx-uplot>\r\n    <!-- <div class=\"loader-holder\"> -->\r\n        <!-- <div class=\"loader\"></div> -->\r\n    <!-- </div> -->\r\n</div>"

/***/ }),

/***/ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.ts":
/*!*****************************************************************************!*\
  !*** ./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.ts ***!
  \*****************************************************************************/
/*! exports provided: ChartUplotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartUplotComponent", function() { return ChartUplotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_chart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_models/chart */ "./app/_models/chart.ts");
/* harmony import */ var _gui_helpers_ngx_uplot_ngx_uplot_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../gui-helpers/ngx-uplot/ngx-uplot.component */ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __assign = (undefined && undefined.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ChartUplotComponent = /** @class */ (function () {
    function ChartUplotComponent(translateService) {
        this.translateService = translateService;
        this.onTimeRange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.withToolbar = false;
        this.isEditor = false;
        this.rangeTypeValue = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartRangeType"], _models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartRangeType"].last8h);
        this.range = { from: Date.now(), to: Date.now() };
        this.mapData = {};
    }
    ChartUplotComponent_1 = ChartUplotComponent;
    ChartUplotComponent.prototype.ngOnInit = function () {
        if (!this.options) {
            this.options = ChartUplotComponent_1.DefaultOptions();
        }
    };
    ChartUplotComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.translateService.get('chart.labels-serie').subscribe(function (txt) { if (_this.nguplot)
            _this.nguplot.languageLabels.serie = txt; });
        this.translateService.get('chart.labels-time').subscribe(function (txt) { if (_this.nguplot)
            _this.nguplot.languageLabels.time = txt; });
        this.translateService.get('chart.labels-title').subscribe(function (txt) { if (_this.nguplot)
            _this.nguplot.languageLabels.title = txt; });
    };
    ChartUplotComponent.prototype.ngOnDestroy = function () {
        try {
            delete this.chartPanel;
            delete this.nguplot;
        }
        catch (e) {
            console.log(e);
        }
    };
    ChartUplotComponent.prototype.onClick = function (ev) {
        if (this.isEditor) {
            return;
        }
        var msg = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["DaqQuery"]();
        msg.gid = this.id;
        msg.event = ev;
        if (ev === 'B') {
            this.range.to = new Date(this.range.from).getTime();
            this.range.from = new Date(this.range.from).setTime(new Date(this.range.from).getTime() - (_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartRangeConverter"].ChartRangeToHours(this.rangeTypeValue) * 60 * 60 * 1000));
        }
        else if (ev === 'F') {
            this.range.from = new Date(this.range.to).getTime();
            this.range.to = new Date(this.range.from).setTime(new Date(this.range.from).getTime() + (_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartRangeConverter"].ChartRangeToHours(this.rangeTypeValue) * 60 * 60 * 1000));
        }
        msg.sids = Object.keys(this.mapData);
        msg.from = this.range.from;
        msg.to = this.range.to;
        this.onTimeRange.emit(msg);
    };
    ChartUplotComponent.prototype.onRangeChanged = function (ev) {
        if (this.isEditor) {
            return;
        }
        if (ev) {
            this.range.from = Date.now();
            this.range.to = Date.now();
            this.range.from = new Date(this.range.from).setTime(new Date(this.range.from).getTime() - (_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartRangeConverter"].ChartRangeToHours(ev) * 60 * 60 * 1000));
            var msg = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["DaqQuery"]();
            msg.event = ev;
            msg.gid = this.id;
            msg.sids = Object.keys(this.mapData);
            msg.from = this.range.from;
            msg.to = this.range.to;
            this.onTimeRange.emit(msg);
        }
    };
    ChartUplotComponent.prototype.resize = function (height, width) {
        var chart = this.chartPanel.nativeElement;
        if (!height && chart.offsetParent) {
            height = chart.offsetParent.clientHeight;
        }
        if (!width && chart.offsetParent) {
            width = chart.offsetParent.clientWidth;
        }
        if (height && width) {
            this.options.panel.width = width;
            this.options.width = width;
            this.options.panel.height = height;
            this.options.height = height;
            this.options.height -= 40; // legend
            if (this.withToolbar) {
                this.options.height -= 34; // toolbar
            }
            var size = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getDomTextHeight(this.options.titleHeight, this.options.fontFamily);
            this.options.height -= size; // title
            size = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getDomTextHeight(this.options.axisLabelFontSize, this.options.fontFamily);
            if (size < 10)
                size = 10;
            this.options.height -= size; // axis
            this.nguplot.resize(this.options.height, this.options.width);
        }
    };
    ChartUplotComponent.prototype.init = function (options) {
        if (options === void 0) { options = null; }
        this.mapData = {};
        if (options) {
            this.options = options;
        }
        this.updateCanvasOptions(this.nguplot);
        if (this.options.panel) {
            this.resize(this.options.panel.height, this.options.panel.width);
        }
        this.nguplot.init(this.options);
        this.updateDomOptions(this.nguplot);
    };
    ChartUplotComponent.prototype.setRange = function (startRange) {
        if (this.withToolbar) {
            this.onRangeChanged(startRange);
        }
    };
    ChartUplotComponent.prototype.setOptions = function (options, clear) {
        if (clear === void 0) { clear = false; }
        this.options = __assign({}, this.options, options);
        if (clear) {
            this.options = __assign({}, this.options, { series: [{}] });
        }
        this.init(this.options);
        this.redraw();
    };
    ChartUplotComponent.prototype.addLine = function (id, name, color, label, yaxis) {
        if (!this.mapData[id]) {
            var linelabel = label || name;
            var serie = { label: linelabel, stroke: color, spanGaps: true };
            if (yaxis > 1) {
                serie.scale = yaxis.toString();
            }
            else {
                serie.scale = '1';
            }
            this.mapData[id] = { index: Object.keys(this.mapData).length + 1,
                attribute: serie };
            this.nguplot.addSerie(this.mapData[id].index, this.mapData[id].attribute);
        }
        if (this.isEditor) {
            this.nguplot.setSample();
        }
    };
    /**
     * add value to a realtime chart
     * @param id
     * @param x
     * @param y
     */
    ChartUplotComponent.prototype.addValue = function (id, x, y) {
        if (this.mapData[id]) {
            this.nguplot.addValue(this.mapData[id].index, x, y, this.options.realtime * 60);
        }
    };
    /**
     * set values to a history chart
     * the values is composed of a matrix of array, array of lines values[]<datetime, value> [line][pos]{dt, value}
     * the have to be transform in uplot format. a matrix with array of datetime and arrays of values [datetime[dt], lineN[value]]
     * @param values
     */
    ChartUplotComponent.prototype.setValues = function (values) {
        var result = [];
        result.push([]); // timestamp, index 0
        var xmap = {};
        for (var i = 0; i < values.length; i++) {
            result.push([]); // line
            for (var x = 0; x < values[i].length; x++) {
                var t = values[i][x].dt / 1e3;
                if (!result[0][t]) {
                    result[0].push(t);
                    xmap[t] = {};
                }
                xmap[t][i] = values[i][x].value;
            }
        }
        result[0].sort(function (a, b) { return a - b; });
        for (var i = 0; i < result[0].length; i++) {
            var t = result[0][i];
            for (var x = 1; x < result.length; x++) {
                if (xmap[t][x - 1] !== undefined) {
                    result[x].push(xmap[t][x - 1]);
                }
                else {
                    result[x].push(null);
                }
            }
        }
        this.nguplot.setData(result);
        this.nguplot.setXScala(this.range.from / 1e3, this.range.to / 1e3);
    };
    ChartUplotComponent.prototype.redraw = function () {
        this.nguplot.redraw();
    };
    ChartUplotComponent.DefaultOptions = function () {
        return { title: 'Title', fontFamily: 'Roboto-Regular', legendFontSize: 12, colorBackground: 'rgba(0,0,0,0)', legendBackground: 'rgba(0,0,0,0)',
            titleHeight: 18, axisLabelFontSize: 12, labelsDivWidth: 0, axisLineColor: 'rgba(0,0,0,1)', axisLabelColor: 'rgba(0,0,0,1)',
            legendMode: 'always', series: [], width: 360, height: 200, decimalsPrecision: 2, realtime: 60,
            dateFormat: _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_3__["DateFormatType"], _models_hmi__WEBPACK_IMPORTED_MODULE_3__["DateFormatType"].MM_DD_YYYY),
            timeFormat: _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_3__["TimeFormatType"], _models_hmi__WEBPACK_IMPORTED_MODULE_3__["TimeFormatType"].hh_mm_ss_AA) };
    };
    ChartUplotComponent.prototype.updateCanvasOptions = function (ngup) {
        if (!this.options.axes) {
            this.options.axes = [{ label: 'Time', grid: { show: true, width: 1 / devicePixelRatio }, ticks: {} }];
            this.options.axes.push({ grid: { show: true, width: 1 / devicePixelRatio }, ticks: {}, scale: '1' });
            this.options.axes.push({ grid: { show: false, width: 1 / devicePixelRatio }, ticks: {}, side: 1, scale: '2' });
            this.options.axes.push({ grid: { show: false, width: 1 / devicePixelRatio }, ticks: {}, side: 3, scale: '3' });
            this.options.axes.push({ grid: { show: false, width: 1 / devicePixelRatio }, ticks: {}, side: 1, scale: '4' });
        }
        for (var i = 0; i < this.options.axes.length; i++) {
            var font = '';
            if (this.options.axisLabelFontSize) {
                font = this.options.axisLabelFontSize + 'px';
            }
            if (this.options.fontFamily)
                font += ' ' + this.options.fontFamily;
            this.options.axes[i].font = font;
            this.options.axes[i].labelFont = font;
            this.options.axes[i].ticks = { width: 1 / devicePixelRatio };
            if (this.options.gridLineColor) {
                this.options.axes[i].grid.stroke = this.options.gridLineColor;
                this.options.axes[i].ticks.stroke = this.options.gridLineColor;
            }
            if (this.options.axisLabelColor)
                this.options.axes[i].stroke = this.options.axisLabelColor;
        }
        var always = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartLegendMode"], _models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartLegendMode"].always);
        var bottom = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartLegendMode"], _models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartLegendMode"].bottom);
        var follow = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].getEnumKey(_models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartLegendMode"], _models_chart__WEBPACK_IMPORTED_MODULE_1__["ChartLegendMode"].follow);
        this.options.legend = { show: (this.options.legendMode === always || this.options.legendMode === bottom), width: 1 };
        this.options.tooltip = { show: (this.options.legendMode === always || this.options.legendMode === follow) };
    };
    ChartUplotComponent.prototype.updateDomOptions = function (ngup) {
        var ele = this.chartPanel.nativeElement.getElementsByClassName('u-title');
        if (ele) {
            var title = ele[0];
            if (this.options.titleHeight) {
                if (this.options.axisLabelColor)
                    title.style.color = this.options.axisLabelColor;
                if (this.options.titleHeight)
                    title.style.fontSize = this.options.titleHeight + "px";
                if (this.options.fontFamily)
                    title.style.fontFamily = this.options.fontFamily;
            }
            else {
                title.style.display = 'none';
            }
        }
        this.chartPanel.nativeElement.style.backgroundColor = this.options.colorBackground;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('chartPanel'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ChartUplotComponent.prototype, "chartPanel", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('nguplot'),
        __metadata("design:type", _gui_helpers_ngx_uplot_ngx_uplot_component__WEBPACK_IMPORTED_MODULE_2__["NgxUplotComponent"])
    ], ChartUplotComponent.prototype, "nguplot", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ChartUplotComponent.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ChartUplotComponent.prototype, "onTimeRange", void 0);
    ChartUplotComponent = ChartUplotComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'chart-uplot',
            template: __webpack_require__(/*! ./chart-uplot.component.html */ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.html"),
            styles: [__webpack_require__(/*! ./chart-uplot.component.css */ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.css")]
        }),
        __metadata("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"]])
    ], ChartUplotComponent);
    return ChartUplotComponent;
    var ChartUplotComponent_1;
}());



/***/ }),

/***/ "./app/gauges/controls/html-chart/html-chart.component.css":
/*!*****************************************************************!*\
  !*** ./app/gauges/controls/html-chart/html-chart.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-chart/html-chart.component.html":
/*!******************************************************************!*\
  !*** ./app/gauges/controls/html-chart/html-chart.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-chart/html-chart.component.ts":
/*!****************************************************************!*\
  !*** ./app/gauges/controls/html-chart/html-chart.component.ts ***!
  \****************************************************************/
/*! exports provided: HtmlChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlChartComponent", function() { return HtmlChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chart-uplot/chart-uplot.component */ "./app/gauges/controls/html-chart/chart-uplot/chart-uplot.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HtmlChartComponent = /** @class */ (function (_super) {
    __extends(HtmlChartComponent, _super);
    function HtmlChartComponent(resolver) {
        var _this = _super.call(this) || this;
        _this.resolver = resolver;
        return _this;
    }
    HtmlChartComponent_1 = HtmlChartComponent;
    HtmlChartComponent.prototype.ngOnInit = function () { };
    HtmlChartComponent.getSignals = function (pro) {
        return pro.variableIds;
    };
    HtmlChartComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].Chart;
    };
    HtmlChartComponent.processValue = function (ga, svgele, sig, gaugeStatus, gauge) {
        try {
            gauge.addValue(sig.id, new Date().getTime() / 1000, sig.value);
        }
        catch (err) {
            console.log(err);
        }
    };
    HtmlChartComponent.initElement = function (gab, resolver, viewContainerRef, isview, chartRange) {
        var ele = document.getElementById(gab.id);
        if (ele) {
            var htmlChart = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].searchTreeStartWith(ele, this.prefixD);
            if (htmlChart) {
                var factory = resolver.resolveComponentFactory(_chart_uplot_chart_uplot_component__WEBPACK_IMPORTED_MODULE_4__["ChartUplotComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                if (gab.property) {
                    componentRef.instance.withToolbar = (gab.property.type === 'history') ? true : false;
                }
                htmlChart.innerHTML = '';
                componentRef.instance.isEditor = !isview;
                componentRef.instance.rangeType = chartRange;
                componentRef.instance.id = gab.id;
                componentRef.changeDetectorRef.detectChanges();
                htmlChart.appendChild(componentRef.location.nativeElement);
                var opt = { title: '', panel: { height: htmlChart.clientHeight, width: htmlChart.clientWidth } };
                componentRef.instance.setOptions(opt);
                componentRef.instance['myComRef'] = componentRef;
                return componentRef.instance;
            }
        }
    };
    HtmlChartComponent.detectChange = function (gab, res, ref) {
        return HtmlChartComponent_1.initElement(gab, res, ref, false, null);
    };
    HtmlChartComponent.TypeTag = "svg-ext-html_chart";
    HtmlChartComponent.LabelTag = "HtmlChart";
    HtmlChartComponent.prefixD = "D-HXC_";
    HtmlChartComponent = HtmlChartComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "html-chart",
            template: __webpack_require__(/*! ./html-chart.component.html */ "./app/gauges/controls/html-chart/html-chart.component.html"),
            styles: [__webpack_require__(/*! ./html-chart.component.css */ "./app/gauges/controls/html-chart/html-chart.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]])
    ], HtmlChartComponent);
    return HtmlChartComponent;
    var HtmlChartComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/html-input/html-input.component.css":
/*!*****************************************************************!*\
  !*** ./app/gauges/controls/html-input/html-input.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-input/html-input.component.html":
/*!******************************************************************!*\
  !*** ./app/gauges/controls/html-input/html-input.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-input/html-input.component.ts":
/*!****************************************************************!*\
  !*** ./app/gauges/controls/html-input/html-input.component.ts ***!
  \****************************************************************/
/*! exports provided: HtmlInputComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlInputComponent", function() { return HtmlInputComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HtmlInputComponent = /** @class */ (function (_super) {
    __extends(HtmlInputComponent, _super);
    function HtmlInputComponent() {
        return _super.call(this) || this;
    }
    HtmlInputComponent_1 = HtmlInputComponent;
    HtmlInputComponent.prototype.ngOnInit = function () {
    };
    HtmlInputComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    HtmlInputComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__["GaugeDialogType"].OnlyValue;
    };
    HtmlInputComponent.getActions = function () {
        return this.actionsType;
    };
    HtmlInputComponent.getHtmlEvents = function (ga) {
        var ele = document.getElementById(ga.id);
        if (ele) {
            var input = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (input) {
                var event_1 = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["Event"]();
                event_1.dom = input;
                event_1.type = 'key-enter';
                event_1.ga = ga;
                return event_1;
            }
        }
        return null;
    };
    HtmlInputComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node && svgele.node.children && svgele.node.children.length >= 1) {
                var input_1 = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(svgele.node, this.prefix);
                if (input_1) {
                    var val_1 = parseFloat(sig.value);
                    if (Number.isNaN(val_1)) {
                        // maybe boolean
                        val_1 = Number(sig.value);
                    }
                    else {
                        val_1 = parseFloat(val_1.toFixed(5));
                    }
                    if (!input_1.value || input_1.value.length <= 0) {
                        input_1.value = val_1;
                    }
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                HtmlInputComponent_1.processAction(act, svgele, input_1, val_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    HtmlInputComponent.initElement = function (gab, isview) {
        if (isview) {
            var ele = document.getElementById(gab.id);
            if (ele && gab.property) {
                var input = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
                if (input) {
                    input.value = '';
                }
            }
        }
    };
    HtmlInputComponent.initElementColor = function (bkcolor, color, ele) {
        var htmlInput = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
        if (htmlInput) {
            if (bkcolor) {
                htmlInput.style.backgroundColor = bkcolor;
            }
            if (color) {
                htmlInput.style.color = color;
            }
        }
    };
    HtmlInputComponent.getFillColor = function (ele) {
        if (ele.children && ele.children[0]) {
            var htmlInput = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlInput) {
                return htmlInput.style.backgroundColor;
            }
        }
        return ele.getAttribute('fill');
    };
    HtmlInputComponent.getStrokeColor = function (ele) {
        if (ele.children && ele.children[0]) {
            var htmlInput = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlInput) {
                return htmlInput.style.color;
            }
        }
        return ele.getAttribute('stroke');
    };
    HtmlInputComponent.processAction = function (act, svgele, input, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
    };
    HtmlInputComponent.TypeTag = 'svg-ext-html_input';
    HtmlInputComponent.LabelTag = 'HtmlInput';
    HtmlInputComponent.prefix = 'I-HXI_';
    HtmlInputComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HtmlInputComponent.prototype, "data", void 0);
    HtmlInputComponent = HtmlInputComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'html-input',
            template: __webpack_require__(/*! ./html-input.component.html */ "./app/gauges/controls/html-input/html-input.component.html"),
            styles: [__webpack_require__(/*! ./html-input.component.css */ "./app/gauges/controls/html-input/html-input.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], HtmlInputComponent);
    return HtmlInputComponent;
    var HtmlInputComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/html-select/html-select.component.css":
/*!*******************************************************************!*\
  !*** ./app/gauges/controls/html-select/html-select.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-select/html-select.component.html":
/*!********************************************************************!*\
  !*** ./app/gauges/controls/html-select/html-select.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/html-select/html-select.component.ts":
/*!******************************************************************!*\
  !*** ./app/gauges/controls/html-select/html-select.component.ts ***!
  \******************************************************************/
/*! exports provided: HtmlSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlSelectComponent", function() { return HtmlSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HtmlSelectComponent = /** @class */ (function (_super) {
    __extends(HtmlSelectComponent, _super);
    function HtmlSelectComponent() {
        return _super.call(this) || this;
    }
    HtmlSelectComponent_1 = HtmlSelectComponent;
    HtmlSelectComponent.prototype.ngOnInit = function () {
    };
    HtmlSelectComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    HtmlSelectComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_4__["GaugeDialogType"].Step;
    };
    HtmlSelectComponent.getActions = function () {
        return this.actionsType;
    };
    HtmlSelectComponent.getHtmlEvents = function (ga) {
        var ele = document.getElementById(ga.id);
        if (ele) {
            var select = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (select) {
                var event_1 = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["Event"]();
                event_1.dom = select;
                event_1.type = 'change';
                event_1.ga = ga;
                return event_1;
            }
        }
        return null;
    };
    HtmlSelectComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            var select_1 = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(svgele.node, this.prefix);
            if (select_1) {
                var val_1 = parseFloat(sig.value);
                if (Number.isNaN(val_1)) {
                    // maybe boolean
                    val_1 = Number(sig.value);
                }
                else {
                    val_1 = parseFloat(val_1.toFixed(5));
                }
                select_1.value = val_1;
                // check actions
                if (ga.property.actions) {
                    ga.property.actions.forEach(function (act) {
                        if (act.variableId === sig.id) {
                            HtmlSelectComponent_1.processAction(act, svgele, select_1, val_1, gaugeStatus);
                        }
                    });
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    HtmlSelectComponent.initElement = function (ga, isview) {
        if (isview === void 0) { isview = false; }
        var ele = document.getElementById(ga.id);
        if (ele) {
            var select_2 = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (select_2) {
                if (ga.property) {
                    if (ga.property.readonly) {
                        select_2.disabled = true;
                        select_2.style['appearance'] = "none";
                        select_2.style['border-width'] = "0px";
                    }
                    else {
                        select_2.style['appearance'] = "menulist";
                    }
                    var align = select_2.style['text-align'];
                    if (align) {
                        select_2.style['text-align-last'] = align;
                    }
                }
                select_2.innerHTML = "";
                if (!isview) {
                    var option = document.createElement("option");
                    option.disabled = true;
                    option.selected = true; //'<option value="" selected disabled hidden>Choose here</option>';
                    option.innerHTML = "Choose...";
                    select_2.appendChild(option);
                }
                else {
                    ga.property.ranges.forEach(function (element) {
                        var option = document.createElement("option");
                        option.value = element.min;
                        if (element.text) {
                            option.text = element.text;
                        }
                        select_2.appendChild(option);
                    });
                }
            }
        }
    };
    HtmlSelectComponent.initElementColor = function (bkcolor, color, ele) {
        var select = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
        if (select) {
            if (bkcolor) {
                select.style.backgroundColor = bkcolor;
            }
            if (color) {
                select.style.color = color;
            }
        }
    };
    HtmlSelectComponent.getFillColor = function (ele) {
        if (ele.children && ele.children[0]) {
            var select = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (select) {
                return select.style.backgroundColor;
            }
        }
        return ele.getAttribute('fill');
    };
    HtmlSelectComponent.getStrokeColor = function (ele) {
        if (ele.children && ele.children[0]) {
            var select = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (select) {
                return select.style.color;
            }
        }
        return ele.getAttribute('stroke');
    };
    HtmlSelectComponent.processAction = function (act, svgele, select, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
    };
    HtmlSelectComponent.TypeTag = 'svg-ext-html_select';
    HtmlSelectComponent.LabelTag = 'HtmlSelect';
    HtmlSelectComponent.prefix = 'S-HXS_';
    HtmlSelectComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HtmlSelectComponent.prototype, "data", void 0);
    HtmlSelectComponent = HtmlSelectComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'html-select',
            template: __webpack_require__(/*! ./html-select.component.html */ "./app/gauges/controls/html-select/html-select.component.html"),
            styles: [__webpack_require__(/*! ./html-select.component.css */ "./app/gauges/controls/html-select/html-select.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], HtmlSelectComponent);
    return HtmlSelectComponent;
    var HtmlSelectComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.html":
/*!**************************************************************************************************!*\
  !*** ./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 650px;position: relative;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'editor.controls-html-switch-settings' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <mat-tab-group style=\"width: 100%;\">\r\n        <mat-tab label=\"{{'gauges.property-props' | translate}}\">\r\n            <div style=\"height: 500px; overflow-y: auto; overflow-x: hidden; padding-top: 15px;\">\r\n                <div style=\"display: block;\">\r\n                    <flex-auth [name]=\"name\" [permission]=\"property.permission\" #flexauth></flex-auth>\r\n                </div>\r\n                <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n                    <flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head>\r\n                </div>\r\n                <div class=\"field-row\" style=\"padding-top: 10px;\">\r\n                    <div class=\"my-form-field\" style=\"padding-left: 60px;\">\r\n                        <span>{{'html-switch.property-off-value' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"options.offValue\" style=\"width: 80px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"float: right;padding-right: 60px\">\r\n                        <span>{{'html-switch.property-on-value' | translate}}</span>\r\n                        <input numberOnly [(ngModel)]=\"options.onValue\" style=\"width: 80px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\" style=\"padding-top: 10px;\">\r\n                    <div class=\"my-form-field color-field\">\r\n                        <span>{{'html-switch.property-off-background' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.offBackground\" [style.background]=\"options.offBackground\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 98px\"\r\n                            [cpPosition]=\"'right'\" (colorPickerChange)=\"updateOptions()\" />\r\n                    </div>\r\n                    <div class=\"my-form-field color-field\" style=\"padding-left: 12px\">\r\n                        <span>{{'html-switch.property-off-slider-color' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.offSliderColor\" [style.background]=\"options.offSliderColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 98px\"\r\n                            [cpPosition]=\"'right'\" (colorPickerChange)=\"updateOptions()\" />\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field\" style=\"padding-left: 50px; top: -1px;\">\r\n                        <span>{{'html-switch.property-radius' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.radius\" (input)=\"updateOptions()\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field color-field\" style=\"float: right;padding-left: 12px;\">\r\n                        <span>{{'html-switch.property-on-background' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.onBackground\" [style.background]=\"options.onBackground\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 98px\"\r\n                            [cpPosition]=\"'left'\" (colorPickerChange)=\"updateOptions()\" />\r\n                    </div>\r\n                    <div class=\"my-form-field color-field\" style=\"float: right;\">\r\n                        <span>{{'html-switch.property-on-slider-color' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.onSliderColor\" [style.background]=\"options.onSliderColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 98px\"\r\n                            [cpPosition]=\"'left'\" (colorPickerChange)=\"updateOptions()\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\">\r\n                    <div class=\"my-form-field color-field\">\r\n                        <span>{{'html-switch.property-off-text-color' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.offTextColor\" [style.background]=\"options.offTextColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 98px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"updateOptions()\" />\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"padding-left: 12px;\">\r\n                        <span>{{'html-switch.property-off-text' | translate}}</span>\r\n                        <input [(ngModel)]=\"options.offText\" (change)=\"updateOptions()\" style=\"width: 60px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                    <div class=\"my-form-field slider-field slider-small\" style=\"padding-left: 17px; top: -2px;width: 80px;\">\r\n                        <span>{{'html-switch.property-font-size' | translate}}</span>\r\n                        <mat-slider style=\"display:inline-block;\" [max]=\"50\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.fontSize\" (input)=\"updateOptions()\">\r\n                        </mat-slider>\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"width:160px;padding-left: 12px;\">\r\n                        <span>{{'html-switch.property-font' | translate}}</span>\r\n                        <mat-select [(value)]=\"options.fontFamily\" (selectionChange)=\"updateOptions()\">\r\n                            <mat-option *ngFor=\"let font of fonts\" [style.fontFamily]=\"font\" [value]=\"font\">\r\n                                {{font}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </div>\r\n                    <div class=\"my-form-field color-field\" style=\"float: right;padding-left: 12px\">\r\n                        <span>{{'html-switch.property-on-text-color' | translate}}</span>\r\n                        <input [(colorPicker)]=\"options.onTextColor\" [style.background]=\"options.onTextColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                            [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                            [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 98px\"\r\n                            [cpPosition]=\"'top'\" (colorPickerChange)=\"updateOptions()\" />\r\n                    </div>\r\n                    <div class=\"my-form-field\" style=\"float: right;padding-left: 12px;\">\r\n                        <span>{{'html-switch.property-on-text' | translate}}</span>\r\n                        <input [(ngModel)]=\"options.onText\" (change)=\"updateOptions()\" style=\"width: 60px;text-align: center;display:inline-block;\" type=\"text\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"field-row\" style=\"position: absolute;height:210px;width:650px;margin-top: 16px;max-width: 650px; max-height: 210px;overflow: hidden;\">\r\n                    <ngx-switch #switcher style=\"position: absolute;left: 50%;top: 50%;transform: translateX(-50%) translateY(-50%);\" [style.width]=\"switchWidth + 'px'\"\r\n                        [style.height]=\"switchHeight + 'px'\"></ngx-switch>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.scss":
/*!**************************************************************************************************!*\
  !*** ./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.scss ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".field-row{display:block;margin-bottom:5px}.color-field input{padding:0 !important;height:29px}.slider-field span{padding-left:2px;text-overflow:clip;width:150px;white-space:nowrap;overflow:hidden}.slider-field mat-slider{background-color:#f1f3f4;height:29px}.slider-small>.mat-slider-horizontal{min-width:80px}::ng-deep .mat-tab-label{height:34px !important}\n"

/***/ }),

/***/ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.ts":
/*!************************************************************************************************!*\
  !*** ./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.ts ***!
  \************************************************************************************************/
/*! exports provided: HtmlSwitchPropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlSwitchPropertyComponent", function() { return HtmlSwitchPropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../gauge-property/flex-auth/flex-auth.component */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.ts");
/* harmony import */ var _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../gauge-property/flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _html_switch_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../html-switch.component */ "./app/gauges/controls/html-switch/html-switch.component.ts");
/* harmony import */ var _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../gui-helpers/ngx-switch/ngx-switch.component */ "./app/gui-helpers/ngx-switch/ngx-switch.component.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_helpers/define */ "./app/_helpers/define.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var HtmlSwitchPropertyComponent = /** @class */ (function () {
    function HtmlSwitchPropertyComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.switchWidth = 80;
        this.switchHeight = 40;
        this.fonts = _helpers_define__WEBPACK_IMPORTED_MODULE_7__["Define"].fonts;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_8__["Utils"].defaultColor;
        this.property = JSON.parse(JSON.stringify(this.data.settings.property));
        if (!this.property) {
            this.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeProperty"]();
        }
        this.name = this.data.settings.name;
        this.options = this.property.options;
        if (!this.options) {
            this.options = new _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_6__["SwitchOptions"]();
        }
        var switchsize = _html_switch_component__WEBPACK_IMPORTED_MODULE_5__["HtmlSwitchComponent"].getSize(this.data.settings);
        this.switchHeight = switchsize.height;
        this.switchWidth = switchsize.width;
        this.options.height = this.switchHeight;
    }
    HtmlSwitchPropertyComponent.prototype.ngAfterContentInit = function () {
        this.updateOptions();
    };
    HtmlSwitchPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    HtmlSwitchPropertyComponent.prototype.onOkClick = function () {
        this.data.settings.property = this.property;
        this.data.settings.property.permission = this.flexauth.permission;
        this.data.settings.property.options = this.options;
        this.data.settings.name = this.flexauth.name;
    };
    HtmlSwitchPropertyComponent.prototype.updateOptions = function () {
        this.switcher.setOptions(this.options);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('switcher'),
        __metadata("design:type", _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_6__["NgxSwitchComponent"])
    ], HtmlSwitchPropertyComponent.prototype, "switcher", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexhead'),
        __metadata("design:type", _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_4__["FlexHeadComponent"])
    ], HtmlSwitchPropertyComponent.prototype, "flexhead", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexauth'),
        __metadata("design:type", _gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_3__["FlexAuthComponent"])
    ], HtmlSwitchPropertyComponent.prototype, "flexauth", void 0);
    HtmlSwitchPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-html-switch-property',
            template: __webpack_require__(/*! ./html-switch-property.component.html */ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.html"),
            styles: [__webpack_require__(/*! ./html-switch-property.component.scss */ "./app/gauges/controls/html-switch/html-switch-property/html-switch-property.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], HtmlSwitchPropertyComponent);
    return HtmlSwitchPropertyComponent;
}());



/***/ }),

/***/ "./app/gauges/controls/html-switch/html-switch.component.ts":
/*!******************************************************************!*\
  !*** ./app/gauges/controls/html-switch/html-switch.component.ts ***!
  \******************************************************************/
/*! exports provided: HtmlSwitchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlSwitchComponent", function() { return HtmlSwitchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../gui-helpers/ngx-switch/ngx-switch.component */ "./app/gui-helpers/ngx-switch/ngx-switch.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HtmlSwitchComponent = /** @class */ (function () {
    function HtmlSwitchComponent() {
    }
    HtmlSwitchComponent_1 = HtmlSwitchComponent;
    HtmlSwitchComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.alarmId) {
            res.push(pro.alarmId);
        }
        if (pro.actions) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    HtmlSwitchComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_2__["GaugeDialogType"].Switch;
    };
    HtmlSwitchComponent.bindEvents = function (ga, slider, callback) {
        if (slider) {
            slider.bindUpdate(function (val) {
                var event = new _models_hmi__WEBPACK_IMPORTED_MODULE_1__["Event"]();
                event.type = 'on';
                event.ga = ga;
                event.value = val;
                callback(event);
            });
        }
        return null;
    };
    HtmlSwitchComponent.processValue = function (ga, svgele, sig, gaugeStatus, switcher) {
        try {
            if (switcher) {
                var val = parseFloat(sig.value);
                if (Number.isNaN(val)) {
                    // maybe boolean
                    val = Number(sig.value);
                }
                else {
                    val = parseFloat(val.toFixed(5));
                }
                switcher.setValue(val);
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    HtmlSwitchComponent.initElement = function (ga, resolver, viewContainerRef, options) {
        var ele = document.getElementById(ga.id);
        if (ele) {
            var htmlSwitch = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlSwitch) {
                var factory = resolver.resolveComponentFactory(_gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_3__["NgxSwitchComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                htmlSwitch.innerHTML = '';
                componentRef.changeDetectorRef.detectChanges();
                var loaderComponentElement = componentRef.location.nativeElement;
                htmlSwitch.appendChild(loaderComponentElement);
                if (ga.property && ga.property.options) {
                    ga.property.options.height = htmlSwitch.clientHeight;
                    if (componentRef.instance.setOptions(ga.property.options)) {
                        if (ga.property.options.radius) {
                            htmlSwitch.style.borderRadius = ga.property.options.radius + 'px';
                        }
                    }
                }
                return componentRef.instance;
            }
        }
    };
    HtmlSwitchComponent.resize = function (ga, resolver, viewContainerRef, options) {
        var ele = document.getElementById(ga.id);
        if (ele) {
            var htmlSwitch = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlSwitch) {
                var factory = resolver.resolveComponentFactory(_gui_helpers_ngx_switch_ngx_switch_component__WEBPACK_IMPORTED_MODULE_3__["NgxSwitchComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                htmlSwitch.innerHTML = '';
                componentRef.changeDetectorRef.detectChanges();
                var loaderComponentElement = componentRef.location.nativeElement;
                htmlSwitch.appendChild(loaderComponentElement);
                if (ga.property && ga.property.options) {
                    ga.property.options.height = htmlSwitch.clientHeight;
                    if (!componentRef.instance.setOptions(ga.property.options, true)) {
                        // componentRef.instance.init();
                    }
                }
                return componentRef.instance;
            }
        }
    };
    HtmlSwitchComponent.detectChange = function (ga, res, ref) {
        var options;
        if (ga.property && ga.property.options) {
            options = ga.property.options;
        }
        return HtmlSwitchComponent_1.initElement(ga, res, ref, options);
    };
    HtmlSwitchComponent.getSize = function (ga) {
        var result = { height: 0, width: 0 };
        var ele = document.getElementById(ga.id);
        if (ele) {
            var htmlSwitch = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlSwitch) {
                result.height = htmlSwitch.clientHeight;
                result.width = htmlSwitch.clientWidth;
            }
        }
        return result;
    };
    HtmlSwitchComponent.TypeTag = 'svg-ext-html_switch';
    HtmlSwitchComponent.LabelTag = 'HtmlSwitch';
    HtmlSwitchComponent.prefix = 'T-HXT_';
    HtmlSwitchComponent = HtmlSwitchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], HtmlSwitchComponent);
    return HtmlSwitchComponent;
    var HtmlSwitchComponent_1;
}());



/***/ }),

/***/ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.css":
/*!****************************************************************************!*\
  !*** ./app/gauges/controls/pipe/pipe-property/pipe-property.component.css ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".toolbox {\r\n    display: inline-block;\r\n    float: right;\r\n    margin-top: 10px;\r\n    margin-bottom: 3px;\r\n}\r\n  \r\n.toolbox button {\r\n    margin-right: 8px;\r\n    margin-left: 8px;\r\n}\r\n  \r\n.toolbox-right {\r\n    width: 300px;\r\n    position: absolute;\r\n    top: 85px;\r\n    right: 20px;\r\n    height: 200px;\r\n    overflow: hidden;\r\n}\r\n  \r\n.slider-field span {\r\n    padding-left: 2px;\r\n    text-overflow: clip;\r\n    max-width: 125px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n  \r\n.slider-field mat-slider {\r\n    background-color: #f1f3f4;\r\n    height: 30px;\r\n}\r\n  \r\n.field-row {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n}\r\n  \r\n.color-field input {\r\n    padding: 0 !important;\r\n    height: 29px;\r\n}\r\n  \r\n::ng-deep .input-text .mat-form-field-wrapper {\r\n    /* margin-bottom: -15px !important; */\r\n}\r\n  \r\n::ng-deep .input-text .mat-form-field-infix {\r\n    padding-top: 5px;\r\n    padding-bottom: 0px;\r\n}\r\n  \r\n::ng-deep .mat-dialog-container {\r\n    display: inline-table !important;\r\n}\r\n  \r\n::ng-deep .mat-tab-label {\r\n    height: 34px !important;\r\n}"

/***/ }),

/***/ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.html":
/*!*****************************************************************************!*\
  !*** ./app/gauges/controls/pipe/pipe-property/pipe-property.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width:700px;position: relative;margin-bottom: 40px\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'editor.controls-pipe-settings' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <mat-tab-group style=\"width: 100%;height: 560px;\">\r\n        <mat-tab label=\"{{'pipe.property-props' | translate}}\">\r\n            <div style=\"max-height: 495px; overflow-y: auto; overflow-x: hidden; padding-top: 15px;\">\r\n                <div style=\"display: block;\">\r\n                    <flex-auth [name]=\"name\" [permission]=\"property.permission\" #flexauth></flex-auth>\r\n                </div>\r\n                <div mat-dialog-content style=\"overflow: hidden; width:100%;padding-top: 20px;\">\r\n                    <div id=\"pipe\" style=\"width: 200px; height: 240px;margin-left: 20px;\"></div>\r\n                    <!-- <flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head> -->\r\n                    <div class=\"toolbox-right\">\r\n                        <div class=\"field-row\">\r\n                            <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-border-width' | translate}}</span>\r\n                                <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.borderWidth\"\r\n                                    (input)=\"onChangeValue('borderWidth', $event.value)\">\r\n                                </mat-slider>\r\n                            </div>\r\n                            <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-border-color' | translate}}</span>\r\n                                <input [(colorPicker)]=\"options.border\" [style.background]=\"options.border\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                    [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                    [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                                    [cpPosition]=\"'bottom'\" (colorPickerChange)=\"onChangeValue('border', $event)\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field-row\">\r\n                            <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-pipe-width' | translate}}</span>\r\n                                <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.pipeWidth\"\r\n                                    (input)=\"onChangeValue('pipeWidth', $event.value)\">\r\n                                </mat-slider>\r\n                            </div>\r\n                            <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-pipe-color' | translate}}</span>\r\n                                <input [(colorPicker)]=\"options.pipe\" [style.background]=\"options.pipe\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                    [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                    [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                                    [cpPosition]=\"'bottom'\" (colorPickerChange)=\"onChangeValue('pipe', $event)\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field-row\">\r\n                            <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-content-width' | translate}}</span>\r\n                                <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.contentWidth\"\r\n                                    (input)=\"onChangeValue('contentWidth', $event.value)\">\r\n                                </mat-slider>\r\n                            </div>\r\n                            <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-content-color' | translate}}</span>\r\n                                <input [(colorPicker)]=\"options.content\" [style.background]=\"options.content\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                    [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                    [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 126px\"\r\n                                    [cpPosition]=\"'bottom'\" (colorPickerChange)=\"onChangeValue('content', $event)\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field-row\">\r\n                            <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                                <span>{{'pipe.property-content-space' | translate}}</span>\r\n                                <mat-slider style=\"display:inline-block;\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.contentSpace\"\r\n                                    (input)=\"onChangeValue('contentSpace', $event.value)\">\r\n                                </mat-slider>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n        <mat-tab label=\"{{'gauges.property-events' | translate}}\" *ngIf=\"eventsSupported\">\r\n            <div style=\"max-height: 495px; overflow-y: auto; overflow-x: hidden; padding-top: 15px;\">\r\n                <div style=\"display: block;\">\r\n                    <div class=\"toolbox\">\r\n                        <button mat-icon-button (click)=\"onAddEvent()\">\r\n                            <mat-icon>add_circle_outline</mat-icon>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n                    <flex-event [property]=\"property\" [views]=\"views\" #flexevent *ngIf=\"eventsSupported\" style=\"padding-bottom: 5px\"></flex-event>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n        <mat-tab label=\"{{'gauges.property-actions' | translate}}\" *ngIf=\"actionsSupported\">\r\n            <div style=\"max-height: 495px; overflow-y: auto; overflow-x: hidden; padding-top: 15px;\">\r\n                <div style=\"display: block;\">\r\n                    <div class=\"toolbox\">\r\n                        <button mat-icon-button (click)=\"onAddAction()\">\r\n                            <mat-icon>add_circle_outline</mat-icon>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n                    <flex-action [data]=\"data\" [property]=\"property\" #flexaction *ngIf=\"actionsSupported\" style=\"padding-bottom: 5px\"></flex-action>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n    <!-- \r\n    <div style=\"display: block; width: 660px;padding-top: 30px\">\r\n        <div style=\"display: block;\">\r\n            <flex-auth [name]=\"name\" [permission]=\"property.permission\" #flexauth></flex-auth>\r\n        </div>\r\n        <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n            <flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head>\r\n        </div>\r\n    </div> -->\r\n    <!-- <div style=\"width: 760px; height: 620px; position: relative\"> -->\r\n    <!-- </div> -->\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.ts":
/*!***************************************************************************!*\
  !*** ./app/gauges/controls/pipe/pipe-property/pipe-property.component.ts ***!
  \***************************************************************************/
/*! exports provided: PipePropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipePropertyComponent", function() { return PipePropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../gauge-property/flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../gauge-property/flex-auth/flex-auth.component */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.ts");
/* harmony import */ var _gauge_property_flex_event_flex_event_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../gauge-property/flex-event/flex-event.component */ "./app/gauges/gauge-property/flex-event/flex-event.component.ts");
/* harmony import */ var _gauge_property_flex_action_flex_action_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../gauge-property/flex-action/flex-action.component */ "./app/gauges/gauge-property/flex-action/flex-action.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _pipe_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pipe.component */ "./app/gauges/controls/pipe/pipe.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var PipePropertyComponent = /** @class */ (function () {
    function PipePropertyComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_7__["Utils"].defaultColor;
        this.pipepath = { bk: null, fg: null, hp: null };
    }
    PipePropertyComponent.prototype.ngOnInit = function () {
        this.eventsSupported = this.data.withEvents;
        this.actionsSupported = this.data.withActions;
        this.property = JSON.parse(JSON.stringify(this.data.settings.property));
        if (!this.property) {
            this.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeProperty"]();
        }
        this.name = this.data.settings.name;
        this.options = this.property.options;
        if (!this.options) {
            this.options = new _pipe_component__WEBPACK_IMPORTED_MODULE_8__["PipeOptions"]();
            this.options.borderWidth = 40;
            this.options.border = '#000000';
            this.options.pipeWidth = 30;
            this.options.pipe = '#0000ff';
            this.options.contentWidth = 30;
            this.options.content = '#0044ff';
            this.options.contentSpace = 48;
        }
        // this.permission = this.property.permission;
    };
    PipePropertyComponent.prototype.ngAfterViewInit = function () {
        // var draw = SVG().addTo('#pipe').size('100%', '100%');
        var draw = SVG('pipe');
        this.pipepath.bk = draw.path('m 1,120 200,0');
        this.pipepath.fg = draw.path('m 1,120 200,0');
        this.pipepath.hp = draw.path('m 1,120 200,0');
        this.redrawPipe();
    };
    PipePropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    PipePropertyComponent.prototype.onOkClick = function () {
        this.data.settings.property = this.property;
        this.data.settings.property.permission = this.flexAuth.permission;
        this.data.settings.property.options = this.options;
        this.data.settings.name = this.flexAuth.name;
        if (this.flexEvent) {
            this.data.settings.property.events = this.flexEvent.getEvents();
        }
        if (this.flexAction) {
            this.data.settings.property.actions = this.flexAction.getActions();
        }
    };
    PipePropertyComponent.prototype.redrawPipe = function () {
        this.pipepath.fg.stroke({ color: this.options.pipe, width: this.options.pipeWidth });
        this.pipepath.fg.fill('none');
        this.pipepath.bk.stroke({ color: this.options.border, width: this.options.borderWidth });
        this.pipepath.bk.fill('none');
        var space = '' + this.options.contentSpace + ' ' + this.options.contentSpace;
        this.pipepath.hp.stroke({ color: this.options.content, width: this.options.contentWidth, dasharray: space });
        this.pipepath.hp.fill('none');
    };
    PipePropertyComponent.prototype.onChangeValue = function (type, value) {
        if (type == 'borderWidth') {
            this.options.borderWidth = value;
        }
        else if (type == 'border') {
            this.options.border = value;
        }
        else if (type == 'pipeWidth') {
            this.options.pipeWidth = value;
        }
        else if (type == 'pipe') {
            this.options.pipe = value;
        }
        else if (type == 'contentWidth') {
            this.options.contentWidth = value;
        }
        else if (type == 'content') {
            this.options.content = value;
        }
        else if (type == 'contentSpace') {
            this.options.contentSpace = value;
        }
        this.redrawPipe();
    };
    PipePropertyComponent.prototype.onAddEvent = function () {
        this.flexEvent.onAddEvent();
    };
    PipePropertyComponent.prototype.onAddAction = function () {
        this.flexAction.onAddAction();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexauth'),
        __metadata("design:type", _gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_4__["FlexAuthComponent"])
    ], PipePropertyComponent.prototype, "flexAuth", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexhead'),
        __metadata("design:type", _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_3__["FlexHeadComponent"])
    ], PipePropertyComponent.prototype, "flexHead", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexevent'),
        __metadata("design:type", _gauge_property_flex_event_flex_event_component__WEBPACK_IMPORTED_MODULE_5__["FlexEventComponent"])
    ], PipePropertyComponent.prototype, "flexEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexaction'),
        __metadata("design:type", _gauge_property_flex_action_flex_action_component__WEBPACK_IMPORTED_MODULE_6__["FlexActionComponent"])
    ], PipePropertyComponent.prototype, "flexAction", void 0);
    PipePropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'pipe-property',
            template: __webpack_require__(/*! ./pipe-property.component.html */ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.html"),
            styles: [__webpack_require__(/*! ./pipe-property.component.css */ "./app/gauges/controls/pipe/pipe-property/pipe-property.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], PipePropertyComponent);
    return PipePropertyComponent;
}());



/***/ }),

/***/ "./app/gauges/controls/pipe/pipe.component.ts":
/*!****************************************************!*\
  !*** ./app/gauges/controls/pipe/pipe.component.ts ***!
  \****************************************************/
/*! exports provided: PipeComponent, PipeOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipeComponent", function() { return PipeComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipeOptions", function() { return PipeOptions; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var PipeComponent = /** @class */ (function () {
    function PipeComponent() {
    }
    PipeComponent_1 = PipeComponent;
    PipeComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.alarmId) {
            res.push(pro.alarmId);
        }
        if (pro.actions) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    PipeComponent.getActions = function () {
        return this.actionsType;
    };
    PipeComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_2__["GaugeDialogType"].Pipe;
    };
    PipeComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node) {
                var clr = '';
                var value_1 = parseFloat(sig.value);
                if (Number.isNaN(value_1)) {
                    // maybe boolean
                    value_1 = Number(sig.value);
                }
                else {
                    value_1 = parseFloat(value_1.toFixed(5));
                }
                if (ga.property) {
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                PipeComponent_1.processAction(act, svgele, value_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    PipeComponent.processAction = function (act, svgele, value, gaugeStatus) {
        if (act.range.min <= value && act.range.max >= value) {
            var element = SVG.adopt(svgele.node);
            PipeComponent_1.runMyAction(element, act.type, gaugeStatus);
        }
    };
    PipeComponent.runMyAction = function (element, type, gaugeStatus) {
        if (PipeComponent_1.actionsType[type] === PipeComponent_1.actionsType.stop) {
            if (gaugeStatus.actionRef && gaugeStatus.actionRef.timer) {
                clearTimeout(gaugeStatus.actionRef.timer);
                gaugeStatus.actionRef.timer = null;
            }
        }
        else {
            if (gaugeStatus.actionRef && gaugeStatus.actionRef.timer) {
                if (gaugeStatus.actionRef.type === type) {
                    return;
                }
                clearTimeout(gaugeStatus.actionRef.timer);
                gaugeStatus.actionRef.timer = null;
            }
            var eletoanim = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].searchTreeStartWith(element.node, 'c' + this.prefixB);
            if (eletoanim) {
                var len_1 = 1000;
                if (PipeComponent_1.actionsType[type] === PipeComponent_1.actionsType.clockwise) {
                    var timeout = setInterval(function () {
                        if (len_1 < 0)
                            len_1 = 1000;
                        eletoanim.style.strokeDashoffset = len_1;
                        len_1--;
                    }, 20);
                    gaugeStatus.actionRef = { type: type, timer: timeout };
                }
                else if (PipeComponent_1.actionsType[type] === PipeComponent_1.actionsType.anticlockwise) {
                    var timeout = setInterval(function () {
                        if (len_1 > 1000)
                            len_1 = 0;
                        eletoanim.style.strokeDashoffset = len_1;
                        len_1++;
                    }, 20);
                    gaugeStatus.actionRef = { type: type, timer: timeout };
                }
            }
        }
    };
    PipeComponent.detectChange = function (gab, res, ref) {
        var data = { id: gab.id, property: gab.property.options };
        var result = ref.nativeWindow.svgEditor.runExtension('pipe', 'initPipe', data);
        return result;
    };
    PipeComponent.TypeId = 'pipe';
    PipeComponent.TypeTag = 'svg-ext-' + PipeComponent_1.TypeId; // used to identify shapes type, binded with the library svgeditor
    PipeComponent.LabelTag = 'Pipe';
    PipeComponent.prefixB = 'PIE_';
    PipeComponent.actionsType = { stop: _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeActionsType"].stop, clockwise: _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeActionsType"].clockwise, anticlockwise: _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeActionsType"].anticlockwise };
    PipeComponent = PipeComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], PipeComponent);
    return PipeComponent;
    var PipeComponent_1;
}());

var PipeOptions = /** @class */ (function () {
    function PipeOptions() {
    }
    return PipeOptions;
}());



/***/ }),

/***/ "./app/gauges/controls/slider/slider-property/slider-property.component.css":
/*!**********************************************************************************!*\
  !*** ./app/gauges/controls/slider/slider-property/slider-property.component.css ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.field-row {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.slider-field span {\r\n    padding-left: 2px;\r\n    text-overflow: clip;\r\n    max-width: 125px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n\r\n.slider-field mat-slider {\r\n    background-color: #f1f3f4;\r\n    height: 30px;\r\n}\r\n\r\n.color-field input {\r\n    padding: 0 !important;\r\n    height: 29px;\r\n}\r\n\r\n::ng-deep .mat-tab-label {\r\n    height: 34px !important;\r\n}"

/***/ }),

/***/ "./app/gauges/controls/slider/slider-property/slider-property.component.html":
/*!***********************************************************************************!*\
  !*** ./app/gauges/controls/slider/slider-property/slider-property.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 790px;height: 730px;position: relative;\" class=\"dialog-mdsd-v\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'editor.controls-slider-settings' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <mat-tab-group style=\"width: 100%;\">\r\n        <mat-tab label=\"{{'slider.property-props' | translate}}\">\r\n            <div style=\"display: block;width: 660px;padding-top: 20px\">\r\n                <div style=\"display: block;\">\r\n                    <flex-auth [name]=\"name\" [permission]=\"property.permission\" #flexauth></flex-auth>\r\n                </div>\r\n                <div mat-dialog-content style=\"overflow: hidden; width:100%\">\r\n                    <flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head>\r\n                </div>\r\n            </div>\r\n            <div style=\"width: 100%; height: 515px; position: relative;\">\r\n                <div style=\"position: absolute;\" [style.width]=\"sliderLayout.width + 'px'\" [style.height]=\"sliderLayout.height + 'px'\" [style.top]=\"sliderLayout.top + 'px'\"\r\n                    [style.left]=\"sliderLayout.left + 'px'\">\r\n                    <ngx-nouislider #slider></ngx-nouislider>\r\n                </div>\r\n                <div style=\"width: 280px;height: 100%;float: right;\">\r\n                    <div class=\"field-row\" style=\"margin-top: 20px;\">\r\n                        <div class=\"my-form-field\" style=\"width: 120px;\">\r\n                            <span>{{'slider.property-orientation' | translate}}</span>\r\n                            <mat-select [(value)]=\"options.orientation\" (selectionChange)=\"setSliderOptions()\">\r\n                                <mat-option *ngFor=\"let ev of orientationType | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                        <div class=\"my-form-field\" style=\"width: 120px;margin-left: 20px;\">\r\n                            <span>{{'slider.property-direction' | translate}}</span>\r\n                            <mat-select [(value)]=\"options.direction\" (selectionChange)=\"setSliderOptions()\">\r\n                                <mat-option *ngFor=\"let ev of directionType | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row slider-field\">\r\n                        <div class=\"my-form-field\" style=\"width:163px\">\r\n                            <span>{{'slider.property-font' | translate}}</span>\r\n                            <mat-select [(value)]=\"options.fontFamily\" (selectionChange)=\"onChangeOptions('fontFamily',  $event.value)\">\r\n                                <mat-option *ngFor=\"let font of fonts\" [style.fontFamily]=\"font\" [value]=\"font\">\r\n                                    {{font}}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\" style=\"margin-top: 20px;\">\r\n                        <div class=\"my-form-field slider-field color-field\">\r\n                            <span>{{'slider.property-slider-color' | translate}}</span>\r\n                            <input [(colorPicker)]=\"options.shape.connectColor\" [style.background]=\"options.shape.connectColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 78px\"\r\n                                [cpPosition]=\"'left'\" (colorPickerChange)=\"setSliderOptions()\" />\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-slider-background' | translate}}</span>\r\n                            <input [(colorPicker)]=\"options.shape.baseColor\" [style.background]=\"options.shape.baseColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 78px\"\r\n                                [cpPosition]=\"'left'\" (colorPickerChange)=\"setSliderOptions()\" />\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-slider-handle' | translate}}</span>\r\n                            <input [(colorPicker)]=\"options.shape.handleColor\" [style.background]=\"options.shape.handleColor\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 78px\"\r\n                                [cpPosition]=\"'left'\" (colorPickerChange)=\"setSliderOptions()\" />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\">\r\n                        <div class=\"my-form-field slider-field\">\r\n                            <span>{{'slider.property-min' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"options.range.min\" (change)=\"onChangeOptions('min', options.range.min)\"\r\n                                style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                            <span>{{'slider.property-max' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"options.range.max\" (change)=\"onChangeOptions('max', options.range.max)\"\r\n                                style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 12px\">\r\n                            <span>{{'slider.property-step' | translate}}</span>\r\n                            <input numberOnly [(ngModel)]=\"options.step\" (change)=\"onChangeOptions('step', options.step)\"\r\n                                style=\"width: 50px;text-align: center;display:inline-block;\" type=\"text\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\" style=\"margin-top: 20px;\">\r\n                        <div class=\"my-form-field slider-field\">\r\n                            <div class=\"my-form-field slider-field\">\r\n                                <span style=\"max-width: 180px\">{{'slider.property-scala' | translate}}</span>\r\n                                <input [(ngModel)]=\"staticScala\" (change)=\"onChangeOptions('staticScala', staticScala)\" style=\"width: 160px;\" type=\"text\">\r\n                            </div>\r\n                            <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 10px\">\r\n                                <span>{{'slider.property-marker-color' | translate}}</span>\r\n                                <input [(colorPicker)]=\"options.marker.color\" [style.background]=\"options.marker.color\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                    [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                    [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 78px\"\r\n                                    [cpPosition]=\"'top'\" (colorPickerChange)=\"setSliderOptions()\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\">\r\n                        <div class=\"my-form-field slider-field\">\r\n                            <span>{{'slider.property-font-size' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;\" [max]=\"50\" [min]=\"6\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.marker.fontSize\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-divisions-height' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;min-width: 60px;\" [max]=\"15\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.marker.divHeight\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-divisions-width' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;min-width: 60px;\" [max]=\"15\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.marker.divWidth\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\">\r\n                        <div class=\"my-form-field slider-field\">\r\n                            <span>{{'slider.property-subdivisions' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;\" [max]=\"50\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.pips.density\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-subdivisions-height' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;min-width: 60px;\" [max]=\"15\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.marker.subHeight\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-subdivisions-width' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;min-width: 60px;\" [max]=\"15\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.marker.subWidth\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\" style=\"margin-top: 20px;\">\r\n                        <div class=\"my-form-field\" style=\"width: 80px;\">\r\n                            <span>{{'slider.property-tooltip' | translate}}</span>\r\n                            <mat-select [(value)]=\"options.tooltip.type\" (selectionChange)=\"onChangeOptions('tooltipType', options.tooltip.type)\">\r\n                                <mat-option *ngFor=\"let ev of tooltipType | enumToArray\" [value]=\"ev.key\">\r\n                                    {{ ev.value }}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 17px\">\r\n                            <span>{{'slider.property-tooltip-color' | translate}}</span>\r\n                            <input [(colorPicker)]=\"options.tooltip.color\" [style.background]=\"options.tooltip.color\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 78px\"\r\n                                [cpPosition]=\"'top'\" (colorPickerChange)=\"setSliderOptions()\" />\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field color-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-tooltip-background' | translate}}</span>\r\n                            <input [(colorPicker)]=\"options.tooltip.background\" [style.background]=\"options.tooltip.background\" [cpAlphaChannel]=\"'always'\" class=\"input-color\"\r\n                                [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpCancelButtonClass]=\"'cpCancelButtonClass'\"\r\n                                [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" style=\"padding: 8px 0 0 0; width: 78px\"\r\n                                [cpPosition]=\"'top'\" (colorPickerChange)=\"setSliderOptions()\" />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field-row\">\r\n                        <div class=\"my-form-field slider-field\">\r\n                            <span>{{'slider.property-tooltip-font-size' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;\" [max]=\"50\" [min]=\"6\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.tooltip.fontSize\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                        <div class=\"my-form-field slider-field\" style=\"padding-left: 10px\">\r\n                            <span>{{'slider.property-tooltip-decimals' | translate}}</span>\r\n                            <mat-slider style=\"display:inline-block;min-width: 60px;\" [max]=\"3\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"options.tooltip.decimals\"\r\n                                (change)=\"setSliderOptions()\">\r\n                            </mat-slider>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/controls/slider/slider-property/slider-property.component.ts":
/*!*********************************************************************************!*\
  !*** ./app/gauges/controls/slider/slider-property/slider-property.component.ts ***!
  \*********************************************************************************/
/*! exports provided: SliderPropertyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SliderPropertyComponent", function() { return SliderPropertyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../gauge-property/flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../gauge-property/flex-auth/flex-auth.component */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.ts");
/* harmony import */ var _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../gui-helpers/ngx-nouislider/ngx-nouislider.component */ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.ts");
/* harmony import */ var _helpers_define__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../_helpers/define */ "./app/_helpers/define.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};










var SliderPropertyComponent = /** @class */ (function () {
    function SliderPropertyComponent(dialogRef, translateService, changeDetector, data) {
        this.dialogRef = dialogRef;
        this.translateService = translateService;
        this.changeDetector = changeDetector;
        this.data = data;
        this.options = new _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_7__["NgxNouisliderOptions"]();
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_3__["Utils"].defaultColor;
        this.fonts = _helpers_define__WEBPACK_IMPORTED_MODULE_8__["Define"].fonts;
        this.layoutHorizontal = { width: 400, height: 80, top: 180, left: 0 };
        this.layoutVertical = { width: 80, height: 400, top: 20, left: 150 };
        this.sliderLayout = this.layoutVertical;
        this.orientationType = { horizontal: 'horizontal', vertical: 'vertical' };
        this.directionType = { ltr: 'ltr', rtl: 'rtl' };
        this.tooltipType = { none: 'none', hide: 'hide', show: 'show' };
        this.staticScala = "";
        this.property = JSON.parse(JSON.stringify(this.data.settings.property));
        if (!this.property) {
            this.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_4__["GaugeProperty"]();
        }
        this.name = this.data.settings.name;
        this.options = this.property.options;
        if (!this.options) {
            this.options = new _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_7__["NgxNouisliderOptions"]();
        }
    }
    SliderPropertyComponent.prototype.ngOnInit = function () {
        var _this = this;
        Object.keys(this.orientationType).forEach(function (key) {
            _this.translateService.get('slider.property-' + _this.orientationType[key]).subscribe(function (txt) { _this.orientationType[key] = txt; });
        });
        Object.keys(this.directionType).forEach(function (key) {
            _this.translateService.get('slider.property-' + _this.directionType[key]).subscribe(function (txt) { _this.directionType[key] = txt; });
        });
        Object.keys(this.tooltipType).forEach(function (key) {
            _this.translateService.get('slider.property-tooltip-' + _this.tooltipType[key]).subscribe(function (txt) { _this.tooltipType[key] = txt; });
        });
        this.sliderLayout = (this.options.orientation === 'vertical') ? this.layoutVertical : this.layoutHorizontal;
        this.options.pips.values.forEach(function (k) {
            if (_this.staticScala.length) {
                _this.staticScala += ';';
            }
            _this.staticScala += k.toString();
        });
    };
    SliderPropertyComponent.prototype.ngAfterViewInit = function () {
        this.setSliderOptions();
    };
    SliderPropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    SliderPropertyComponent.prototype.onOkClick = function () {
        this.data.settings.property = this.property;
        this.data.settings.property.permission = this.flexAuth.permission;
        this.data.settings.property.options = this.options;
        this.data.settings.name = this.flexAuth.name;
    };
    SliderPropertyComponent.prototype.onChangeOptions = function (opt, value) {
        var _this = this;
        if (opt === 'min' || opt === 'max') {
            this.options.range[opt] = parseFloat(value);
        }
        else if (opt === 'step') {
            this.options[opt] = parseFloat(value);
        }
        else if (opt === 'staticScala') {
            this.options.pips.values = [];
            if (value) {
                var tks = value.split(';');
                tks.forEach(function (tk) {
                    var v = parseFloat(tk);
                    if (!isNaN(v)) {
                        _this.options.pips.values.push(v);
                    }
                });
            }
        }
        else if (opt === 'tooltipType') {
            this.options.tooltip.type = value;
        }
        else {
            this.options[opt] = value;
        }
        this.setSliderOptions();
    };
    SliderPropertyComponent.prototype.onChangeDirection = function (event) {
        this.setSliderOptions();
    };
    SliderPropertyComponent.prototype.setSliderOptions = function () {
        this.sliderLayout = (this.options.orientation === 'vertical') ? this.layoutVertical : this.layoutHorizontal;
        this.changeDetector.detectChanges();
        var opt = JSON.parse(JSON.stringify(this.options));
        this.slider.setOptions(opt);
        this.slider.resize(this.sliderLayout.height, this.sliderLayout.width);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexauth'),
        __metadata("design:type", _gauge_property_flex_auth_flex_auth_component__WEBPACK_IMPORTED_MODULE_6__["FlexAuthComponent"])
    ], SliderPropertyComponent.prototype, "flexAuth", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexhead'),
        __metadata("design:type", _gauge_property_flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_5__["FlexHeadComponent"])
    ], SliderPropertyComponent.prototype, "flexHead", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('slider'),
        __metadata("design:type", _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_7__["NgxNouisliderComponent"])
    ], SliderPropertyComponent.prototype, "slider", void 0);
    SliderPropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-slider-property',
            template: __webpack_require__(/*! ./slider-property.component.html */ "./app/gauges/controls/slider/slider-property/slider-property.component.html"),
            styles: [__webpack_require__(/*! ./slider-property.component.css */ "./app/gauges/controls/slider/slider-property/slider-property.component.css")]
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"], Object])
    ], SliderPropertyComponent);
    return SliderPropertyComponent;
}());



/***/ }),

/***/ "./app/gauges/controls/slider/slider.component.ts":
/*!********************************************************!*\
  !*** ./app/gauges/controls/slider/slider.component.ts ***!
  \********************************************************/
/*! exports provided: SliderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SliderComponent", function() { return SliderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../gui-helpers/ngx-nouislider/ngx-nouislider.component */ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var SliderComponent = /** @class */ (function () {
    function SliderComponent() {
    }
    SliderComponent_1 = SliderComponent;
    SliderComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.alarmId) {
            res.push(pro.alarmId);
        }
        if (pro.actions) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    SliderComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].Slider;
    };
    SliderComponent.bindEvents = function (ga, slider, callback) {
        if (slider) {
            slider.bindUpdate(function (val) {
                var event = new _models_hmi__WEBPACK_IMPORTED_MODULE_1__["Event"]();
                event.type = 'on';
                event.ga = ga;
                event.value = val;
                callback(event);
            });
        }
        return null;
    };
    SliderComponent.processValue = function (ga, svgele, sig, gaugeStatus, slider) {
        try {
            if (slider) {
                var val = parseFloat(sig.value);
                if (Number.isNaN(val)) {
                    // maybe boolean
                    val = Number(sig.value);
                }
                else {
                    val = parseFloat(val.toFixed(5));
                }
                slider.setValue(val);
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    SliderComponent.initElement = function (gab, resolver, viewContainerRef, options) {
        var ele = document.getElementById(gab.id);
        if (ele) {
            var htmlSlider = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlSlider) {
                var factory = resolver.resolveComponentFactory(_gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_4__["NgxNouisliderComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                htmlSlider.innerHTML = '';
                componentRef.changeDetectorRef.detectChanges();
                var loaderComponentElement = componentRef.location.nativeElement;
                htmlSlider.appendChild(loaderComponentElement);
                componentRef.instance.resize(htmlSlider.clientHeight, htmlSlider.clientWidth);
                if (gab.property && gab.property.options) {
                    if (!componentRef.instance.setOptions(gab.property.options)) {
                        componentRef.instance.init();
                    }
                }
                componentRef.instance['myComRef'] = componentRef;
                return componentRef.instance;
            }
        }
    };
    SliderComponent.initElementColor = function (bkcolor, color, ele) {
        if (ele) {
            ele.setAttribute('fill', bkcolor);
        }
    };
    SliderComponent.resize = function (gab, resolver, viewContainerRef, options) {
        var ele = document.getElementById(gab.id);
        if (ele) {
            var htmlSlider = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].searchTreeStartWith(ele, this.prefix);
            if (htmlSlider) {
                var factory = resolver.resolveComponentFactory(_gui_helpers_ngx_nouislider_ngx_nouislider_component__WEBPACK_IMPORTED_MODULE_4__["NgxNouisliderComponent"]);
                var componentRef = viewContainerRef.createComponent(factory);
                htmlSlider.innerHTML = '';
                componentRef.changeDetectorRef.detectChanges();
                var loaderComponentElement = componentRef.location.nativeElement;
                htmlSlider.appendChild(loaderComponentElement);
                componentRef.instance.resize(htmlSlider.clientHeight, htmlSlider.clientWidth);
                if (options) {
                    componentRef.instance.setOptions(options);
                }
                return componentRef.instance;
            }
        }
    };
    SliderComponent.getFillColor = function (ele) {
        if (ele) {
            return ele.getAttribute('fill');
        }
    };
    SliderComponent.detectChange = function (gab, res, ref) {
        var options;
        if (gab.property && gab.property.options) {
            options = gab.property.options;
        }
        return SliderComponent_1.initElement(gab, res, ref, options);
    };
    SliderComponent.TypeId = 'html_slider';
    SliderComponent.TypeTag = 'svg-ext-' + SliderComponent_1.TypeId;
    SliderComponent.LabelTag = 'HtmlSlider';
    SliderComponent.prefix = 'D-SLI_';
    SliderComponent = SliderComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], SliderComponent);
    return SliderComponent;
    var SliderComponent_1;
}());



/***/ }),

/***/ "./app/gauges/controls/value/value.component.css":
/*!*******************************************************!*\
  !*** ./app/gauges/controls/value/value.component.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/value/value.component.html":
/*!********************************************************!*\
  !*** ./app/gauges/controls/value/value.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/controls/value/value.component.ts":
/*!******************************************************!*\
  !*** ./app/gauges/controls/value/value.component.ts ***!
  \******************************************************/
/*! exports provided: ValueComponent, ValueProperty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValueComponent", function() { return ValueComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValueProperty", function() { return ValueProperty; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ValueComponent = /** @class */ (function (_super) {
    __extends(ValueComponent, _super);
    function ValueComponent() {
        return _super.call(this) || this;
    }
    ValueComponent_1 = ValueComponent;
    ValueComponent.prototype.ngOnInit = function () {
    };
    ValueComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    ValueComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].ValueAndUnit;
    };
    ValueComponent.getActions = function () {
        return this.actionsType;
    };
    ValueComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node && svgele.node.children && svgele.node.children.length <= 1) {
                var g = svgele.node.children[0];
                var val_1 = parseFloat(sig.value);
                var isString = false;
                if (Number.isNaN(val_1)) {
                    // maybe boolean
                    val_1 = Number(sig.value);
                    // maybe string
                    if (Number.isNaN(val_1)) {
                        val_1 = sig.value;
                        isString = true;
                    }
                }
                else {
                    val_1 = parseFloat(val_1.toFixed(5));
                }
                if (ga.property) {
                    var unit = _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"].getUnit(ga.property);
                    var digit = _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"].getDigits(ga.property);
                    if (!isString && !_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].isNullOrUndefined(digit)) {
                        val_1 = parseFloat(val_1).toFixed(digit);
                    }
                    g.textContent = val_1;
                    if (unit) {
                        g.textContent += ' ' + unit;
                    }
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                ValueComponent_1.processAction(act, svgele, parseFloat(val_1), gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    ValueComponent.processAction = function (act, svgele, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.blink) {
            var element = SVG.adopt(svgele.node.children[0]);
            var inRange = (act.range.min <= value && act.range.max >= value);
            this.checkActionBlink(element, act.type, gaugeStatus, inRange, act.options, false);
        }
    };
    ValueComponent.TypeTag = 'svg-ext-value';
    ValueComponent.LabelTag = 'Value';
    ValueComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show, blink: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].blink };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ValueComponent.prototype, "data", void 0);
    ValueComponent = ValueComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-value',
            template: __webpack_require__(/*! ./value.component.html */ "./app/gauges/controls/value/value.component.html"),
            styles: [__webpack_require__(/*! ./value.component.css */ "./app/gauges/controls/value/value.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], ValueComponent);
    return ValueComponent;
    var ValueComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));

var ValueProperty = /** @class */ (function () {
    function ValueProperty() {
        this.signalid = '';
        this.format = '##.##';
    }
    return ValueProperty;
}());



/***/ }),

/***/ "./app/gauges/gauge-base/gauge-base.component.css":
/*!********************************************************!*\
  !*** ./app/gauges/gauge-base/gauge-base.component.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".svg-property-split2:after {\r\n    display: table;\r\n    clear: both;\r\n}\r\n\r\n.svg-property-split2 div {\r\n    /* float: left; */\r\n    /* width: 49%; */\r\n    display: inline-block;\r\n}\r\n\r\n.svg-property {\r\n    /* display: block; */\r\n    color: rgba(255, 255, 255, 0.75);\r\n    /* position: relative; */\r\n    /* left: 5px; */\r\n    /* right: 5px; */\r\n    /* width: 100%; */\r\n}\r\n\r\n.svg-property span {\r\n    /* float: left; */\r\n    display: block;\r\n    font-size: 10px;\r\n    margin: 0px 5px 0px 10px;\r\n}\r\n\r\n.svg-property input {\r\n    /* float: right; */\r\n    /* position: relative; */\r\n    /* left: 0px; */\r\n    /* right: 0px; */\r\n    display: block;\r\n    margin: 0px 10px 12px 10px;\r\n    border: unset;\r\n    background-color: inherit;\r\n    color: inherit;\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0.75);\r\n}\r\n\r\n.mat-button {\r\n    min-width: 60px;\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/gauge-base/gauge-base.component.html":
/*!*********************************************************!*\
  !*** ./app/gauges/gauge-base/gauge-base.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"svg-property-split2\" *ngIf=\"settings\">\r\n    <div class=\"svg-property\" title=\"Gauge name\">\r\n        <span>{{'editor.interactivity-name' | translate}}</span>\r\n        <input type=\"text\" id=\"gaugename\" [(ngModel)]=\"settings.name\" type=\"text\" readonly />\r\n    </div>\r\n    <div class=\"svg-property\" style=\"display:block !important; padding: 0px 10px 5px 10px;\" title=\"Change rectangle height\">\r\n        <button mat-button color=\"primary\" style=\"background-color: dimgrey;color:white; display: inline-block\" (click)=\"onEdit()\">{{'gauges.property-title' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-base/gauge-base.component.ts":
/*!*******************************************************!*\
  !*** ./app/gauges/gauge-base/gauge-base.component.ts ***!
  \*******************************************************/
/*! exports provided: GaugeBaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeBaseComponent", function() { return GaugeBaseComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_models/hmi */ "./app/_models/hmi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// declare var SVG: any;
var GaugeBaseComponent = /** @class */ (function () {
    function GaugeBaseComponent() {
        this.edit = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    GaugeBaseComponent.prototype.ngOnInit = function () {
    };
    GaugeBaseComponent.prototype.onEdit = function () {
        this.edit.emit(this.settings);
    };
    GaugeBaseComponent.pathToAbsolute = function (relativePath) {
        var pattern = /([ml])\s*(-?\d*\.?\d+)\s*,\s*(-?\d*\.?\d+)/ig, coords = [];
        relativePath.replace(pattern, function (match, command, x, y) {
            var prev;
            x = parseFloat(x);
            y = parseFloat(y);
            if (coords.length === 0 || command.toUpperCase() === command) {
                coords.push([x, y]);
            }
            else {
                prev = coords[coords.length - 1];
                coords.push([x + prev[0], y + prev[1]]);
            }
        });
        return coords;
    };
    GaugeBaseComponent.getEvents = function (pro, type) {
        var res = [];
        if (!pro || !pro.events) {
            return null;
        }
        var idxtype = Object.values(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventType"]).indexOf(type);
        pro.events.forEach(function (ev) {
            if (Object.keys(_models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeEventType"]).indexOf(ev.type) === idxtype) {
                res.push(ev);
            }
        });
        return res;
    };
    GaugeBaseComponent.getUnit = function (pro) {
        if (pro) {
            if (pro.ranges && pro.ranges.length > 0 && pro.ranges[0].type === 'unit') {
                return pro.ranges[0].text;
            }
        }
        return '';
    };
    GaugeBaseComponent.getDigits = function (pro) {
        if (pro) {
            if (pro.ranges && pro.ranges.length > 0 && pro.ranges[0]['fractionDigits']) {
                return pro.ranges[0]['fractionDigits'];
            }
        }
        return 0;
    };
    GaugeBaseComponent.runActionHide = function (element, type, gaugeStatus) {
        var actionRef = { type: type, animr: element.hide() };
        if (gaugeStatus.actionRef) {
            actionRef.spool = gaugeStatus.actionRef.spool;
            actionRef.timer = gaugeStatus.actionRef.timer;
        }
        gaugeStatus.actionRef = actionRef;
    };
    GaugeBaseComponent.runActionShow = function (element, type, gaugeStatus) {
        var actionRef = { type: type, animr: element.show() };
        if (gaugeStatus.actionRef) {
            actionRef.spool = gaugeStatus.actionRef.spool;
            actionRef.timer = gaugeStatus.actionRef.timer;
        }
        gaugeStatus.actionRef = actionRef;
    };
    GaugeBaseComponent.checkActionBlink = function (element, type, gaugeStatus, toEnable, options, dom) {
        if (!gaugeStatus.actionRef) {
            gaugeStatus.actionRef = new _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeActionStatus"](type);
        }
        gaugeStatus.actionRef.type = type;
        if (toEnable && options.interval && !gaugeStatus.actionRef.timer) {
            var blinkStatus = false;
            // save colors to restore on break
            try {
                if (dom)
                    gaugeStatus.actionRef.spool = { bk: element.style.backgroundColor, clr: element.style.color };
                else
                    gaugeStatus.actionRef.spool = { bk: element.node.getAttribute('fill'), clr: element.node.getAttribute('stroke') };
            }
            catch (err) {
                console.log(err);
            }
            gaugeStatus.actionRef.timer = setInterval(function () {
                blinkStatus = (blinkStatus) ? false : true;
                try {
                    if (blinkStatus) {
                        if (dom) {
                            element.style.backgroundColor = options.fillA;
                            element.style.color = options.strokeA;
                        }
                        else {
                            element.node.setAttribute('fill', options.fillA);
                            element.node.setAttribute('stroke', options.strokeA);
                        }
                    }
                    else {
                        if (dom) {
                            element.style.backgroundColor = options.fillB;
                            element.style.color = options.strokeB;
                        }
                        else {
                            element.node.setAttribute('fill', options.fillB);
                            element.node.setAttribute('stroke', options.strokeB);
                        }
                    }
                }
                catch (err) {
                    console.log(err);
                }
            }, options.interval);
        }
        else if (!toEnable) {
            try {
                if (gaugeStatus.actionRef.timer) {
                    clearInterval(gaugeStatus.actionRef.timer);
                    gaugeStatus.actionRef.timer = null;
                }
                // restore gauge
                if (gaugeStatus.actionRef.spool) {
                    if (dom) {
                        element.style.backgroundColor = gaugeStatus.actionRef.spool.bk;
                        element.style.color = gaugeStatus.actionRef.spool.clr;
                    }
                    else {
                        element.node.setAttribute('fill', gaugeStatus.actionRef.spool.bk);
                        element.node.setAttribute('stroke', gaugeStatus.actionRef.spool.clr);
                    }
                }
            }
            catch (err) {
                console.log(err);
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GaugeBaseComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeSettings"])
    ], GaugeBaseComponent.prototype, "settings", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], GaugeBaseComponent.prototype, "edit", void 0);
    GaugeBaseComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-base',
            template: __webpack_require__(/*! ./gauge-base.component.html */ "./app/gauges/gauge-base/gauge-base.component.html"),
            styles: [__webpack_require__(/*! ./gauge-base.component.css */ "./app/gauges/gauge-base/gauge-base.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], GaugeBaseComponent);
    return GaugeBaseComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-action/flex-action.component.css":
/*!*************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-action/flex-action.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".item {\r\n    display: block;\r\n    min-height: 100px;\r\n    width: 100%;\r\n    border-bottom: 1px solid rgba(0,0,0,0.1);\r\n    padding: 5px 0px 0px 0px;\r\n    margin-bottom: -1px;\r\n}\r\n\r\n.item-head {\r\n    display: block;\r\n}\r\n\r\n.remove {\r\n    position: relative;\r\n    top: 4px;\r\n    right: 0px;\r\n}\r\n\r\n.item-remove {\r\n    float: right;\r\n    /* padding-top: 6px; */\r\n    /* min-width: 140px; */\r\n}\r\n\r\n.action-content {\r\n    display: block;\r\n    padding-top: 2px;\r\n    margin-left: 30px;\r\n}\r\n\r\n.item-range {\r\n    display: inline-block;\r\n    min-width: 240px;\r\n    width: 240px;\r\n}\r\n\r\n.action-blink {\r\n    display: inline-block;\r\n    padding-top: 5px;\r\n}\r\n\r\n::ng-deep .ng5-slider .ng5-slider-pointer { \r\n    width: 16px !important;\r\n    height: 16px !important;\r\n    border-radius: 8px !important; \r\n    top: -7px !important \r\n}\r\n\r\n::ng-deep .ng5-slider .ng5-slider-pointer:after { \r\n    top: 6px !important;\r\n    left: 6px !important;\r\n    width: 4px !important;\r\n    height: 4px !important; \r\n    border-radius: 2px !important \r\n}\r\n\r\n.input-slider {\r\n    display: inline;\r\n    /* max-width: 160px; */\r\n}\r\n\r\n::ng-deep .input-slider span {\r\n    font-size: 14px !important;\r\n}\r\n\r\n.input-slider ng5-slider {\r\n    /* display: block; */\r\n    max-width: 300px;\r\n    margin-top: 29px;\r\n    margin-right: 20px;\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-action/flex-action.component.html":
/*!**************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-action/flex-action.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngFor=\"let item of actions; index as i\" class=\"item\" style=\"padding-bottom: 4px;\">\r\n    <flex-variable class=\"item-head\" [data]=\"data\" (onchange)=\"setVariable(i, $event)\" [variableId]=\"item.variableId\" [tobind]=\"true\">\r\n    </flex-variable>\r\n    <div class=\"action-content\">\r\n        <div *ngIf=\"slideView\" class=\"item-range\">\r\n            <div class=\"my-form-field\">\r\n                <span>{{'gauges.property-input-min' | translate}}</span>\r\n                <input numberOnly [(ngModel)]=\"item.range.min\" type=\"text\" style=\"width: 80px\">\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n                <span>{{'gauges.property-input-max' | translate}}</span>\r\n                <input numberOnly [(ngModel)]=\"item.range.max\" type=\"text\" style=\"width: 80px\">\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"item-range input-slider\" *ngIf=\"!slideView\">\r\n            <ng5-slider [(value)]=\"item.min\" [(highValue)]=\"item.max\" [options]=\"options\"></ng5-slider>\r\n        </div> -->\r\n        <div class=\"my-form-field\" style=\"width: 300px;\">\r\n            <span>{{'gauges.property-action-type' | translate}}</span>\r\n            <mat-select [(value)]=\"item.type\" (selectionChange)=\"onCheckActionType(item.type, item)\">\r\n                <mat-option *ngFor=\"let ev of actionsSupported | enumToArray\" [value]=\"ev.key\">\r\n                    {{ ev.value }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"item-remove\">\r\n            <button mat-icon-button (click)=\"onRemoveAction(i)\" class=\"_remove\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </div>\r\n        <div [ngSwitch]=\"item.type\">\r\n            <div *ngSwitchCase=\"actionBlink\" class=\"action-blink\">\r\n                <div class=\"my-form-field\">\r\n                    <span>{{'gauges.property-input-color' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.options.fillA\" [value]=\"item.options.fillA\" [style.background]=\"item.options.fillA\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" class=\"input-color\"\r\n                        style=\"width:70px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" [cpOutputFormat]=\"'hex'\"/>\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"margin-left: 10px;\">\r\n                    <span>{{'gauges.property-input-stroke' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.options.strokeA\" [value]=\"item.options.strokeA\" [style.background]=\"item.options.strokeA\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" class=\"input-color\"\r\n                        style=\"width:70px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" [cpOutputFormat]=\"'hex'\"/>\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"padding-left: 35px;padding-right: 35px;\">\r\n                    <span>{{'gauges.property-interval-msec' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"item.options.interval\" type=\"text\" style=\"width: 80px\">\r\n                </div>\r\n                <div class=\"my-form-field\">\r\n                    <span>{{'gauges.property-input-color' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.options.fillB\" [value]=\"item.options.fillB\" [style.background]=\"item.options.fillB\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" class=\"input-color\"\r\n                        style=\"width:70px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" [cpOutputFormat]=\"'hex'\"/>\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"margin-left: 10px;\">\r\n                    <span>{{'gauges.property-input-stroke' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.options.strokeB\" [value]=\"item.options.strokeB\" [style.background]=\"item.options.strokeB\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" class=\"input-color\"\r\n                        style=\"width:70px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" [cpOutputFormat]=\"'hex'\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-action/flex-action.component.ts":
/*!************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-action/flex-action.component.ts ***!
  \************************************************************************/
/*! exports provided: FlexActionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexActionComponent", function() { return FlexActionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FlexActionComponent = /** @class */ (function () {
    function FlexActionComponent(translateService) {
        this.translateService = translateService;
        this.actionBlink = Object.keys(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"]).find(function (key) { return _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"][key] === _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].blink; });
        this.slideView = true;
    }
    FlexActionComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.property) {
            this.actions = this.property.actions;
        }
        if (!this.actions || this.actions.length <= 0) {
            this.onAddAction();
        }
        // this.itemtype = this.data.withActions.clockwise;
        if (this.data.withActions) {
            this.actionsSupported = this.data.withActions;
            Object.keys(this.actionsSupported).forEach(function (key) {
                _this.translateService.get(_this.actionsSupported[key]).subscribe(function (txt) { _this.actionsSupported[key] = txt; });
            });
        }
    };
    FlexActionComponent.prototype.getActions = function () {
        var result = null;
        if (this.actions) {
            result = [];
            this.actions.forEach(function (act) {
                if (act.variableId) {
                    result.push(act);
                }
            });
        }
        return result;
    };
    FlexActionComponent.prototype.onAddAction = function () {
        var ga = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeAction"]();
        ga.range = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeRangeProperty"]();
        this.addAction(ga);
    };
    FlexActionComponent.prototype.onRemoveAction = function (index) {
        this.actions.splice(index, 1);
    };
    FlexActionComponent.prototype.onRangeViewToggle = function (slideView) {
        this.slideView = slideView;
        // this.flexInput.changeTag(this.currentTag);
    };
    FlexActionComponent.prototype.setVariable = function (index, event) {
        this.actions[index].variableId = event.variableId;
    };
    FlexActionComponent.prototype.addAction = function (ga) {
        if (!this.actions) {
            this.actions = [];
        }
        this.actions.push(ga);
    };
    FlexActionComponent.prototype.onCheckActionType = function (type, ga) {
        if (type === this.actionBlink && typeof (ga.options) !== typeof (_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionBlink"])) {
            ga.options = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionBlink"]();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexActionComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeProperty"])
    ], FlexActionComponent.prototype, "property", void 0);
    FlexActionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-action',
            template: __webpack_require__(/*! ./flex-action.component.html */ "./app/gauges/gauge-property/flex-action/flex-action.component.html"),
            styles: [__webpack_require__(/*! ./flex-action.component.css */ "./app/gauges/gauge-property/flex-action/flex-action.component.css")]
        }),
        __metadata("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"]])
    ], FlexActionComponent);
    return FlexActionComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-auth/flex-auth.component.css":
/*!*********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-auth/flex-auth.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/gauge-property/flex-auth/flex-auth.component.html":
/*!**********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-auth/flex-auth.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"my-form-field\">\n    <span>{{'gauges.property-name' | translate}}</span>\n    <input [(ngModel)]=\"name\" style=\"width: 220px\" type=\"text\">\n</div>\n<div class=\"my-form-field\" style=\"vertical-align: bottom; margin-left: 13px;\">\n    <span>{{'gauges.property-permission' | translate}}</span>\n    <div style=\"width:80px;height:30px;background-color:#f1f3f4;text-align:center;cursor:pointer;\" (click)=\"onEditPermission()\">\n        <mat-icon class=\"header-icon\" style=\"line-height: 30px;\" *ngIf=\"!permission\">lock_open</mat-icon>\n        <mat-icon class=\"header-icon\" style=\"line-height: 30px;\" *ngIf=\"permission\">lock</mat-icon>\n    </div>\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-auth/flex-auth.component.ts":
/*!********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-auth/flex-auth.component.ts ***!
  \********************************************************************/
/*! exports provided: FlexAuthComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexAuthComponent", function() { return FlexAuthComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FlexAuthComponent = /** @class */ (function () {
    function FlexAuthComponent(dialog) {
        this.dialog = dialog;
    }
    FlexAuthComponent.prototype.ngOnInit = function () {
        // this.property = JSON.parse(JSON.stringify(this.data.settings.property));
    };
    FlexAuthComponent.prototype.onEditPermission = function () {
        var _this = this;
        var permission = this.permission;
        var dialogRef = this.dialog.open(_gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_2__["DialogGaugePermission"], {
            position: { top: '60px' },
            data: { permission: permission }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.permission = result.permission;
            }
        });
    };
    FlexAuthComponent.prototype.getResult = function () {
        return { name: this.name, pemission: this.permission };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], FlexAuthComponent.prototype, "name", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], FlexAuthComponent.prototype, "permission", void 0);
    FlexAuthComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-auth',
            template: __webpack_require__(/*! ./flex-auth.component.html */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.html"),
            styles: [__webpack_require__(/*! ./flex-auth.component.css */ "./app/gauges/gauge-property/flex-auth/flex-auth.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], FlexAuthComponent);
    return FlexAuthComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-event/flex-event.component.css":
/*!***********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-event/flex-event.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".item {\r\n    display: block;\r\n    min-height: 54px;\r\n    width: 100%;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    padding: 5px 0px 0px 0px;\r\n    margin-bottom: -1px;\r\n    min-width: 664px;\r\n}\r\n\r\n.remove {\r\n    position: relative;\r\n    top: 4px;\r\n    right: 0px;\r\n}\r\n\r\n.item-remove {\r\n    /* display: inline-block; */\r\n    float: right;\r\n    /* padding-top: 6px; */\r\n    /* min-width: 140px; */\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-event/flex-event.component.html":
/*!************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-event/flex-event.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngFor=\"let item of events; index as i\" class=\"item\">\r\n    <div class=\"item-remove\">\r\n        <button mat-icon-button (click)=\"onRemoveEvent(i)\" class=\"remove\">\r\n            <mat-icon>clear</mat-icon>\r\n        </button>\r\n    </div>\r\n    <div style=\"display: inline-block;\">\r\n        <div class=\"my-form-field\" style=\"width: 140px;\">\r\n            <span>{{'gauges.property-event-type' | translate}}</span>\r\n            <mat-select [(value)]=\"item.type\">\r\n                <mat-option *ngFor=\"let ev of eventType | enumToArray\" [value]=\"ev.key\">\r\n                    {{ ev.value }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"width: 140px;padding-left: 20px\">\r\n            <span>{{'gauges.property-event-action' | translate}}</span>\r\n            <mat-select [(value)]=\"item.action\" (change)=\"item.actparam = '';\">\r\n                <mat-option *ngFor=\"let type of actionType | enumToArray\" [value]=\"type.key\">\r\n                    {{ type.value }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n    </div>\r\n    <div class=\"my-form-field\" style=\"width: 260px;padding-left: 20px\" *ngIf=\"withDestination(item.action)\">\r\n        <span>{{'gauges.property-event-destination' | translate}}</span>\r\n        <mat-select [(value)]=\"item.actparam\">\r\n            <mat-option *ngFor=\"let v of views; index as i\" [value]=\"v.id\">{{v.name}}</mat-option>\r\n        </mat-select>\r\n    </div>\r\n    <div *ngIf=\"withDestination(item.action)\">\r\n        <flex-variables-mapping [(mapping)]=\"item.actoptions['variablesMapping']\" [view]=\"getView(item.actparam)\" [data]=\"data\"></flex-variables-mapping>\r\n    </div>\r\n    <div style=\"display: inline-block\" *ngIf=\"withSetInput(item.action)\">\r\n        <div class=\"my-form-field\" style=\"width: 260px;padding-left: 20px;\">\r\n            <span>{{'gauges.property-event-input' | translate}}</span>\r\n            <mat-select [(value)]=\"item.actparam\">\r\n                <mat-option *ngFor=\"let v of inputs; index as i\" [value]=\"v.id\">{{v.name}}</mat-option>\r\n            </mat-select>\r\n        </div>\r\n    </div>\r\n    <div style=\"display: inline-block\" *ngIf=\"withSetValue(item.action)\">\r\n        <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n            <span>{{'gauges.property-event-value' | translate}}</span>\r\n            <input numberOnly [(ngModel)]=\"item.actparam\" type=\"text\" style=\"width: 260px\">\r\n        </div>\r\n    </div>\r\n    <div style=\"display: block; padding-bottom: 10px; padding-top: 5px;padding-left: 25px;\"\r\n        *ngIf=\"withToggleValue(item.action) || withSetValue(item.action) || withSetInput(item.action)\">\r\n        <flex-variable style=\"display: block\" [data]=\"data\" [(value)]=\"item.actoptions.variable\"></flex-variable>\r\n    </div>\r\n    <div style=\"display: inline-block\" *ngIf=\"withAddress(item.action)\">\r\n        <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n            <span>{{'gauges.property-event-address' | translate}}</span>\r\n            <input [(ngModel)]=\"item.actparam\" type=\"text\" style=\"width: 260px\">\r\n        </div>\r\n        <div style=\"display: table; padding-left: 20px; padding-bottom: 10px; padding-top: 5px;\" *ngIf=\"withAddress(item.action)\">\r\n            <div class=\"my-form-field\">\r\n                <span>{{'gauges.property-event-width' | translate}}</span>\r\n                <input numberOnly [(ngModel)]=\"item.actoptions.width\" type=\"text\" style=\"width: 60px\">\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n                <span>{{'gauges.property-event-height' | translate}}</span>\r\n                <input numberOnly [(ngModel)]=\"item.actoptions.height\" type=\"text\" style=\"width: 60px\">\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"padding-left: 20px;\" *ngIf=\"withScale(item.action)\">\r\n                <span>{{'gauges.property-event-scale' | translate}}</span>\r\n                <input numberOnly [(ngModel)]=\"item.actoptions.scale\" type=\"text\" style=\"width: 60px\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-event/flex-event.component.ts":
/*!**********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-event/flex-event.component.ts ***!
  \**********************************************************************/
/*! exports provided: FlexEventComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexEventComponent", function() { return FlexEventComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FlexEventComponent = /** @class */ (function () {
    function FlexEventComponent(translateService) {
        this.translateService = translateService;
    }
    FlexEventComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.eventType = _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventType"];
        this.actionType = _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"];
        Object.keys(this.eventType).forEach(function (key) {
            _this.translateService.get(_this.eventType[key]).subscribe(function (txt) { _this.eventType[key] = txt; });
        });
        Object.keys(this.actionType).forEach(function (key) {
            _this.translateService.get(_this.actionType[key]).subscribe(function (txt) { _this.actionType[key] = txt; });
        });
        if (this.property) {
            this.events = this.property.events;
            // compatibility with <= 1.0.4
            this.events.forEach(function (element) {
                if (!element.actoptions || Object.keys(element.actoptions).length == 0) {
                    element.actoptions = { variablesMapping: [] };
                }
            });
        }
        if (!this.events || this.events.length <= 0) {
            this.onAddEvent();
        }
    };
    FlexEventComponent.prototype.getEvents = function () {
        var result = [];
        if (this.events) {
            this.events.forEach(function (element) {
                if (element.type) {
                    result.push(element);
                }
            });
        }
        return result;
    };
    FlexEventComponent.prototype.onAddEvent = function () {
        var ga = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEvent"]();
        this.addEvent(ga);
    };
    FlexEventComponent.prototype.onRemoveEvent = function (index) {
        this.events.splice(index, 1);
    };
    FlexEventComponent.prototype.withDestination = function (action) {
        var a = Object.keys(this.actionType).indexOf(action);
        var b = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].onpage);
        var c = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].onwindow);
        var d = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].ondialog);
        return a === b || a === c || a === d;
    };
    FlexEventComponent.prototype.withSetValue = function (action) {
        var a = Object.keys(this.actionType).indexOf(action);
        var b = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].onSetValue);
        return a === b;
    };
    FlexEventComponent.prototype.withToggleValue = function (action) {
        var a = Object.keys(this.actionType).indexOf(action);
        var b = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].onToggleValue);
        return a === b;
    };
    FlexEventComponent.prototype.withSetInput = function (action) {
        var a = Object.keys(this.actionType).indexOf(action);
        var b = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].onSetInput);
        return a === b;
    };
    FlexEventComponent.prototype.withAddress = function (action) {
        var a = Object.keys(this.actionType).indexOf(action);
        var b = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].oniframe);
        var c = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].oncard);
        return a === b || a === c;
    };
    FlexEventComponent.prototype.withScale = function (action) {
        var a = Object.keys(this.actionType).indexOf(action);
        var b = Object.values(this.actionType).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeEventActionType"].oniframe);
        return a === b;
    };
    FlexEventComponent.prototype.getView = function (viewId) {
        return this.views.find(function (item) {
            return item.id == viewId;
        });
    };
    FlexEventComponent.prototype.addEvent = function (ge) {
        if (!this.events) {
            this.events = [];
        }
        this.events.push(ge);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeProperty"])
    ], FlexEventComponent.prototype, "property", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FlexEventComponent.prototype, "views", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FlexEventComponent.prototype, "inputs", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexEventComponent.prototype, "data", void 0);
    FlexEventComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-event',
            template: __webpack_require__(/*! ./flex-event.component.html */ "./app/gauges/gauge-property/flex-event/flex-event.component.html"),
            styles: [__webpack_require__(/*! ./flex-event.component.css */ "./app/gauges/gauge-property/flex-event/flex-event.component.css")]
        }),
        __metadata("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"]])
    ], FlexEventComponent);
    return FlexEventComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-head/flex-head.component.css":
/*!*********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-head/flex-head.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\r\n    /* border: 1px solid rgba(248,249,250, 1); */\r\n}\r\n\r\n.head {\r\n    /* background-color: rgba(243,243,243, 1); */\r\n    /* padding-left: 10px; */\r\n    /* padding-right: 10px; */\r\n    padding-top: 0;\r\n}\r\n\r\n.selection {\r\n    margin-right: 20px;\r\n    margin-bottom: -10px;\r\n    margin-top: 2px;\r\n    width: 220px;\r\n}\r\n\r\n.selection .mat-form-field-wrapper {\r\n    padding-bottom: 15px !important;\r\n}\r\n\r\n.item-set {\r\n    display: inline-block;\r\n    float: right;\r\n    padding-top: 13px;\r\n    min-width: 140px;\r\n}\r\n\r\n.panel-color-class {\r\n    position: relative;\r\n    top: 30px;\r\n}\r\n\r\n.panel-color {\r\n    display: inline-block;\r\n    padding-top: 10px;\r\n    max-width: 60px;\r\n    /* border: 1px solid rgba(0,0,0,0.1); */\r\n    height: 20px;\r\n    line-height: 12px;\r\n    margin-right: 25px;\r\n}\r\n\r\n.option-color {\r\n    height: 32px !important;\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-head/flex-head.component.html":
/*!**********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-head/flex-head.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"head\" style=\"padding-top: 10px;\">\r\n        <flex-variable [data]=\"data\" (onchange)=\"setVariable($event)\" [variableId]=\"property.variableId\" [tobind]=\"true\">\r\n        </flex-variable>\r\n    </div>\r\n    <flex-input [ranges]=\"property.ranges\" [default]=\"defaultValue\" #flexinput *ngIf=\"withInput\" [inputType]=\"withInput\" style=\"padding-bottom: 5px\"></flex-input>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-head/flex-head.component.ts":
/*!********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-head/flex-head.component.ts ***!
  \********************************************************************/
/*! exports provided: FlexHeadComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexHeadComponent", function() { return FlexHeadComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _flex_input_flex_input_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flex-input/flex-input.component */ "./app/gauges/gauge-property/flex-input/flex-input.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FlexHeadComponent = /** @class */ (function () {
    function FlexHeadComponent() {
        this.withInput = null;
        this.currentTag = null;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_5__["Utils"].defaultColor;
        // alarm: string;
        this.alarmDeviceCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        this.alarmDeviceFilterCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        this.alarmCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        this.alarmFilterCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        /** list of variable filtered by search keyword */
        this.filteredAlarmDevice = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        /** list of variable filtered by search keyword */
        this.filteredAlarm = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        /** Subject that emits when the component has been destroyed. */
        this._onDestroy = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    FlexHeadComponent.prototype.ngOnInit = function () {
        if (!this.property) {
            this.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_4__["GaugeProperty"]();
        }
    };
    FlexHeadComponent.prototype.ngAfterViewInit = function () {
    };
    FlexHeadComponent.prototype.ngOnDestroy = function () {
        this._onDestroy.next();
        this._onDestroy.complete();
    };
    FlexHeadComponent.prototype.getProperty = function () {
        if (this.withInput) {
            this.property.ranges = this.flexInput.getRanges();
        }
        return this.property;
    };
    FlexHeadComponent.prototype.getVariableLabel = function (vari) {
        if (vari.label) {
            return vari.label;
        }
        else {
            return vari.name;
        }
    };
    FlexHeadComponent.prototype.setVariable = function (event) {
        this.property.variableId = event.variableId;
        if (this.flexInput) {
            this.flexInput.changeTag(event.variableRaw);
        }
    };
    FlexHeadComponent.prototype.onAddInput = function () {
        this.flexInput.onAddInput();
    };
    FlexHeadComponent.prototype.onRangeViewToggle = function (slideView) {
        this.flexInput.onRangeViewToggle(slideView);
        this.flexInput.changeTag(this.currentTag);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexHeadComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_4__["GaugeProperty"])
    ], FlexHeadComponent.prototype, "property", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexinput'),
        __metadata("design:type", _flex_input_flex_input_component__WEBPACK_IMPORTED_MODULE_3__["FlexInputComponent"])
    ], FlexHeadComponent.prototype, "flexInput", void 0);
    FlexHeadComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-head',
            template: __webpack_require__(/*! ./flex-head.component.html */ "./app/gauges/gauge-property/flex-head/flex-head.component.html"),
            styles: [__webpack_require__(/*! ./flex-head.component.css */ "./app/gauges/gauge-property/flex-head/flex-head.component.css")],
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [])
    ], FlexHeadComponent);
    return FlexHeadComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-input/flex-input.component.css":
/*!***********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-input/flex-input.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".grid-conta {\r\n    margin-left: 30px;\r\n    /* max-height: 260px; */\r\n    /* overflow: auto; */\r\n}\r\n\r\n.item {\r\n    display: block;\r\n    min-height: 54px;\r\n    width: 100%;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    padding: 5px 0px 0px 0px;\r\n    margin-bottom: -1px;\r\n}\r\n\r\n.item-alarm {\r\n    margin-left: -30px;\r\n    width: calc(100% + 30px);\r\n}\r\n\r\n.remove {\r\n    position: relative;\r\n    top: 4px;\r\n    right: 0px;\r\n}\r\n\r\n.item-range {\r\n    display: inline-block;\r\n    min-width: 320px;\r\n    max-width: 320px;\r\n    width: 320px;\r\n}\r\n\r\n.item-minmax {\r\n    display: inline-block;\r\n    width: 100%;\r\n}\r\n\r\n.item-step {\r\n    display: inline-block;\r\n    width: 100%;\r\n}\r\n\r\n.item-unit {\r\n    display: inline-block;\r\n    width: 520px;\r\n}\r\n\r\n.item-remove {\r\n    float: right;\r\n    /* padding-top: 6px; */\r\n    /* min-width: 140px; */\r\n}\r\n\r\n.panel-color-class {\r\n    position: relative;\r\n    top: 30px;\r\n}\r\n\r\n.panel-color {\r\n    display: inline-block;\r\n    padding-top: 10px;\r\n    max-width: 60px;\r\n    /* border: 1px solid rgba(0,0,0,0.1); */\r\n    height: 21px;\r\n    line-height: 12px;\r\n    margin-right: 25px;\r\n}\r\n\r\n.option-color {\r\n    height: 32px !important;\r\n}\r\n\r\n.panel-color-class {\r\n    margin-top: 30px !important;\r\n}\r\n\r\n.input-range {\r\n    display: inline-block;\r\n    max-width: 80px;\r\n}\r\n\r\n.input-range input {\r\n    font-size: 15px;\r\n    text-align: center;\r\n}\r\n\r\n.input-minmax {\r\n    display: inline-block;\r\n    max-width: 80px;\r\n}\r\n\r\n.input-minmax input {\r\n    font-size: 15px;\r\n    text-align: center;\r\n}\r\n\r\n.input-step {\r\n    display: inline-block;\r\n    max-width: 80px;\r\n}\r\n\r\n.input-step input {\r\n    font-size: 15px;\r\n    text-align: center;\r\n}\r\n\r\n.input-minmax-cb {\r\n    font-size: 15px;\r\n}\r\n\r\n::ng-deep .ng5-slider .ng5-slider-pointer {\r\n    width: 16px !important;\r\n    height: 16px !important;\r\n    border-radius: 8px !important;\r\n    top: -7px !important;\r\n}\r\n\r\n::ng-deep .ng5-slider .ng5-slider-pointer:after {\r\n    top: 6px !important;\r\n    left: 6px !important;\r\n    width: 4px !important;\r\n    height: 4px !important;\r\n    border-radius: 2px !important;\r\n}\r\n\r\n::ng-deep .input-range .input-step .input-minmax .mat-form-field-wrapper {\r\n    margin-bottom: -15px !important;\r\n}\r\n\r\n::ng-deep .input-range .input-step .input-minmax .mat-form-field-infix {\r\n    padding-top: 1px;\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.input-step input {\r\n    font-size: 15px;\r\n    text-align: center;\r\n}\r\n\r\n.input-slider {\r\n    display: inline;\r\n    /* max-width: 160px; */\r\n}\r\n\r\n::ng-deep .input-slider span {\r\n    font-size: 14px !important;\r\n}\r\n\r\n.input-slider ng5-slider {\r\n    /* display: block; */\r\n    max-width: 300px;\r\n    margin-top: 29px;\r\n    margin-right: 20px;\r\n}\r\n\r\n.toolbox {\r\n    margin-top: 3px;\r\n    margin-bottom: 3px;\r\n}\r\n\r\n.toolbox button {\r\n    margin-right: 8px;\r\n    margin-left: 8px;\r\n}\r\n\r\n.slider-field span {\r\n    padding-left: 2px;\r\n    text-overflow: clip;\r\n    max-width: 125px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n\r\n.slider-field mat-slider {\r\n    background-color: #f1f3f4;\r\n    height: 30px;\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-input/flex-input.component.html":
/*!************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-input/flex-input.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"grid-conta\">\r\n    <div *ngFor=\"let item of ranges; index as i\" class=\"item\">\r\n        <div *ngIf=\"isWithRange()\">\r\n            <div *ngIf=\"slideView\" class=\"item-range\">\r\n                <div class=\"my-form-field\">\r\n                    <span>{{'gauges.property-input-min' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"item.min\" type=\"text\" style=\"width: 80px\">\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n                    <span>{{'gauges.property-input-max' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"item.max\" type=\"text\" style=\"width: 80px\">\r\n                </div>\r\n            </div>\r\n            <div class=\"item-range input-slider\" *ngIf=\"!slideView\">\r\n                <ng5-slider [(value)]=\"item.min\" [(highValue)]=\"item.max\" [options]=\"options\"></ng5-slider>\r\n            </div>\r\n            <div *ngIf=\"isWithRangeColor()\" style=\"display: inline-block;\">\r\n                <div class=\"my-form-field\">\r\n                    <span>{{'gauges.property-input-color' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.color\" [value]=\"item.color\" [style.background]=\"item.color\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" class=\"input-color\"\r\n                        style=\"width:70px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" [cpOutputFormat]=\"'hex'\"/>\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"margin-left: 10px;\">\r\n                    <span>{{'gauges.property-input-stroke' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.stroke\" [value]=\"item.stroke\" [style.background]=\"item.stroke\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\" class=\"input-color\"\r\n                        style=\"width:70px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" [cpOutputFormat]=\"'hex'\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"item-remove\">\r\n                <button mat-icon-button (click)=\"onRemoveInput(i)\" class=\"remove\">\r\n                    <mat-icon>clear</mat-icon>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"isMinMax()\">\r\n            <div class=\"item-minmax\">\r\n                <div class=\"my-form-field\">\r\n                    <span>{{'gauges.property-input-min' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"item.min\" type=\"text\" style=\"width: 80px\">\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n                    <span>{{'gauges.property-input-max' | translate}}</span>\r\n                    <input numberOnly [(ngModel)]=\"item.max\" type=\"text\" style=\"width: 80px\">\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"padding-left: 30px\">\r\n                    <!-- <span>Unit</span>\r\n                    <input [(ngModel)]=\"item.text\" type=\"text\" style=\"width: 60px;text-align: center !important\"> -->\r\n                </div>\r\n                <div class=\"my-form-field\" style=\"width: 60px;padding-left: 20px; top: 4px;\">\r\n                    <span>{{'gauges.property-input-color' | translate}}</span>\r\n                    <input [(colorPicker)]=\"item.color\" [style.background]=\"getColor(item)\" [cpPresetColors]=\"defaultColor\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\r\n                        [cpCancelButtonClass]=\"'cpCancelButtonClass'\" [cpCancelButtonText]=\"'Cancel'\" [cpOKButtonText]=\"'OK'\" [cpOKButtonClass]=\"'cpOKButtonClass'\"\r\n                        class=\"input-color\" style=\"padding: 8px 0 0 0;height:20px;width:58px;\" [cpPosition]=\"'auto'\" [cpAlphaChannel]=\"'always'\" />\r\n                </div>\r\n                <!-- <mat-checkbox class=\"input-minmax-cb\" style=\"padding-left: 30px\" [(ngModel)]=\"withLabel\">Range</mat-checkbox> -->\r\n                <!-- <mat-checkbox class=\"input-minmax-cb\" style=\"padding-left: 20px\" [(ngModel)]=\"withValue\">Value</mat-checkbox> -->\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"isWithStep()\" class=\"item-step\">\r\n            <div class=\"my-form-field\">\r\n                <span>{{'gauges.property-input-value' | translate}}</span>\r\n                <input numberOnly [(ngModel)]=\"item.min\" type=\"text\" style=\"width: 80px\">\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"padding-left: 20px;\">\r\n                <span>{{'gauges.property-input-label' | translate}}</span>\r\n                <input [(ngModel)]=\"item.text\" type=\"text\" style=\"width: 160px;text-align: left !important\">\r\n            </div>\r\n            <div class=\"item-remove\">\r\n                <button mat-icon-button (click)=\"onRemoveInput(i)\" class=\"remove\">\r\n                    <mat-icon>clear</mat-icon>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"isWithUnit()\" class=\"item-unit\">\r\n            <div class=\"my-form-field\">\r\n                <span>{{'gauges.property-input-unit' | translate}}</span>\r\n                <input [(ngModel)]=\"item.text\" type=\"text\" style=\"width: 60px;text-align: center !important\">\r\n            </div>\r\n            <div class=\"my-form-field slider-field\" style=\"padding-left: 20px\">\r\n                <span>{{'gauges.property-format-digits' | translate}}</span>\r\n                <mat-slider style=\"display:inline-block;min-width: 110px;\" [max]=\"5\" [min]=\"0\" [step]=\"1\" [thumbLabel]=\"true\" [(ngModel)]=\"item.fractionDigits\"\r\n                    (input)=\"onChangeFormat('fractionDigits', $event.value)\">\r\n                </mat-slider>\r\n            </div>\r\n            <div class=\"my-form-field\" style=\"padding-left: 30px\">\r\n                <span></span>\r\n                {{valueresult}} {{item.text}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-input/flex-input.component.ts":
/*!**********************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-input/flex-input.component.ts ***!
  \**********************************************************************/
/*! exports provided: FlexInputComponent, InputItemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexInputComponent", function() { return FlexInputComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputItemType", function() { return InputItemType; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FlexInputComponent = /** @class */ (function () {
    function FlexInputComponent() {
        this.tag = null;
        this.withLabel = true;
        this.withValue = true;
        this.slideView = true;
        this.defaultColor = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].defaultColor;
        this.options = {
            floor: 0,
            ceil: 100
        };
        this.valueresult = '123';
    }
    FlexInputComponent.prototype.ngOnInit = function () {
        if (!this.ranges) {
            this.ranges = [];
            var ip = new _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeRangeProperty"]();
            if (this.isWithStep()) {
                ip.type = this.type;
                ip.min = 1;
                ip.max = 1;
            }
            else if (this.isMinMax()) {
                ip.type = this.type;
                ip.min = 0;
                ip.max = 100;
                ip.style = [true, true];
            }
            else {
                ip.type = this.type;
                ip.min = 20;
                ip.max = 80;
            }
            this.addInput(ip);
        }
        else if (this.isMinMax()) {
            if (this.ranges.length > 0 && this.ranges[0].style.length === 2) {
                this.withLabel = this.ranges[0].style[0];
                this.withValue = this.ranges[0].style[1];
            }
        }
        else if (this.isWithUnit()) {
            if (this.ranges[0]['fractionDigits']) {
                this.onChangeFormat('fractionDigits', this.ranges[0]['fractionDigits']);
            }
        }
        this.ranges.forEach(function (range) {
            if (!range.color) {
                range.color = '';
            }
            if (!range.stroke) {
                range.stroke = '';
            }
        });
    };
    FlexInputComponent.prototype.onAddInput = function () {
        var gap = new _models_hmi__WEBPACK_IMPORTED_MODULE_1__["GaugeRangeProperty"]();
        gap.type = this.type;
        gap.color = '';
        gap.stroke = '';
        this.addInput(gap);
    };
    FlexInputComponent.prototype.onRemoveInput = function (index) {
        this.ranges.splice(index, 1);
    };
    FlexInputComponent.prototype.onRangeViewToggle = function (slideView) {
        this.slideView = slideView;
    };
    FlexInputComponent.prototype.getRanges = function () {
        var _this = this;
        var result = [];
        this.ranges.forEach(function (element) {
            element.type = _this.inputType;
            if (_this.isWithStep()) {
                element.max = element.min;
                if (element.min !== null && element.max !== null) {
                    result.push(element);
                }
            }
            else if (_this.isMinMax()) {
                element.style = [_this.withLabel, _this.withValue];
                result.push(element);
            }
            else {
                if (!_helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNullOrUndefined(element.min) && !_helpers_utils__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNullOrUndefined(element.max)) {
                    result.push(element);
                }
            }
        });
        return result;
    };
    FlexInputComponent.prototype.getColor = function (item) {
        if (item && item.color) {
            return item.color;
        }
        else if (this.default && this.default.color) {
            return this.default.color;
        }
    };
    FlexInputComponent.prototype.changeTag = function (_tag) {
        this.tag = _tag;
        if (this.tag) {
            var newOptions = Object.assign({}, this.options);
            try {
                if (this.tag.min != null) {
                    newOptions.floor = parseInt(this.tag.min);
                }
                if (this.tag.max != null) {
                    newOptions.ceil = parseInt(this.tag.max);
                }
                this.options = newOptions;
            }
            catch (e) {
            }
            for (var i = 0; i < this.ranges.length; i++) {
                if (!this.ranges[i].min || this.ranges[i].min <= newOptions.floor) {
                    this.ranges[i].min = newOptions.floor;
                }
                if (!this.ranges[i].max || this.ranges[i].max >= newOptions.ceil) {
                    this.ranges[i].max = newOptions.ceil;
                }
            }
        }
    };
    FlexInputComponent.prototype.isWithRange = function () {
        if (this.inputType === 'range') {
            return true;
        }
        return false;
    };
    FlexInputComponent.prototype.isMinMax = function () {
        if (this.inputType === 'minmax') {
            return true;
        }
        return false;
    };
    FlexInputComponent.prototype.isWithRangeColor = function () {
        if (this.inputType === 'range') {
            return true;
        }
        return false;
    };
    FlexInputComponent.prototype.isWithStep = function () {
        if (this.inputType === 'step') {
            return true;
        }
        return false;
    };
    FlexInputComponent.prototype.isWithUnit = function () {
        if (this.inputType === 'unit') {
            return true;
        }
        return false;
    };
    FlexInputComponent.prototype.onChangeFormat = function (formattype, value) {
        this.valueresult = parseFloat(this.valueresult).toFixed(value);
    };
    FlexInputComponent.prototype.addInput = function (gap) {
        this.ranges.push(gap);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], FlexInputComponent.prototype, "ranges", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], FlexInputComponent.prototype, "type", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], FlexInputComponent.prototype, "inputType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexInputComponent.prototype, "default", void 0);
    FlexInputComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-input',
            template: __webpack_require__(/*! ./flex-input.component.html */ "./app/gauges/gauge-property/flex-input/flex-input.component.html"),
            styles: [__webpack_require__(/*! ./flex-input.component.css */ "./app/gauges/gauge-property/flex-input/flex-input.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], FlexInputComponent);
    return FlexInputComponent;
}());

var InputItemType;
(function (InputItemType) {
    InputItemType[InputItemType["Color"] = 0] = "Color";
})(InputItemType || (InputItemType = {}));


/***/ }),

/***/ "./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.css":
/*!*************************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".flex-variable-mapping {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n    padding-bottom: 3px;\r\n    padding-top: 3px;\r\n}\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.html":
/*!**************************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"flex-variable-mapping\">\r\n    <!-- <div class=\"my-form-field\" style=\"min-width: 200px;margin-right: 10px\">\r\n        <span>{{'gauges.property-events-mapping-from' | translate}}</span>\r\n        <mat-select class=\"my-form-field\" [compareWith]=\"compareVariables\" [(value)]=\"value.from\" (valueChange)=\"onValueChange()\">\r\n            <mat-option *ngFor=\"let vr of fromVariables\" [value]=\"vr\">{{ vr.variable }}</mat-option>\r\n        </mat-select>\r\n    </div> -->\r\n    <flex-variable style=\"display: inline-block\" [data]=\"data\" [(value)]=\"value.from\" (valueChange)=\"onValueChange()\" [allowManualEdit]=\"true\"></flex-variable>\r\n    <div style=\"display: inline-block; vertical-align: bottom; margin-left: 14px;\">\r\n        <mat-icon>link</mat-icon>\r\n    </div>\r\n    <div style=\"height:6px;\">&nbsp;</div>\r\n    <flex-variable style=\"display: inline-block\" [data]=\"data\" [(value)]=\"value.to\" (valueChange)=\"onValueChange()\" [allowManualEdit]=\"false\"></flex-variable>\r\n    <div style=\"display: inline-block; vertical-align: bottom; margin-left: 10px;\">\r\n        <mat-icon>subdirectory_arrow_left</mat-icon>\r\n    </div>\r\n    <ng-content></ng-content>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.ts":
/*!************************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.ts ***!
  \************************************************************************************/
/*! exports provided: FlexVariableMapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexVariableMapComponent", function() { return FlexVariableMapComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FlexVariableMapComponent = /** @class */ (function () {
    function FlexVariableMapComponent() {
        this.fromVariables = [];
        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    FlexVariableMapComponent.prototype.ngOnInit = function () {
        if (!this.value) {
            this.value = {};
        }
        this.value.from = this.value.from || {};
        this.value.to = this.value.to || {};
    };
    FlexVariableMapComponent.prototype.ngOnChanges = function (changes) {
    };
    FlexVariableMapComponent.prototype.onValueChange = function () {
        this.valueChange.emit(this.value);
    };
    FlexVariableMapComponent.prototype.compareVariables = function (v1, v2) {
        return v1 && v2 && v1.variableId == v2.variableId;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_1__["View"])
    ], FlexVariableMapComponent.prototype, "view", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariableMapComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariableMapComponent.prototype, "value", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariableMapComponent.prototype, "fromVariables", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FlexVariableMapComponent.prototype, "valueChange", void 0);
    FlexVariableMapComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-variable-map',
            template: __webpack_require__(/*! ./flex-variable-map.component.html */ "./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.html"),
            styles: [__webpack_require__(/*! ./flex-variable-map.component.css */ "./app/gauges/gauge-property/flex-variable-map/flex-variable-map.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], FlexVariableMapComponent);
    return FlexVariableMapComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-variable/flex-variable.component.css":
/*!*****************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variable/flex-variable.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/gauge-property/flex-variable/flex-variable.component.html":
/*!******************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variable/flex-variable.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"display: block;\">\r\n    <div *ngIf=\"manualEdit\" class=\"my-form-field\">\r\n        <span>{{((tobind) ? 'gauges.property-head-mapvariable' : 'gauges.property-head-value') | translate}}</span>\r\n        <input name=\"test\" style=\"width: 220px\" type=\"text\" [(ngModel)]=\"this.value.variable\" (change)=\"onChanged()\">\r\n    </div>\r\n    <div *ngIf=\"!manualEdit\" class=\"my-form-field\" style=\"min-width: 200px;\">\r\n        <span>{{'gauges.property-head-device' | translate}}</span>\r\n        <mat-select [formControl]=\"deviceCtrl\" (selectionChange)=\"onDeviceChange($event.source)\">\r\n            <mat-select-search [formControl]=\"deviceFilterCtrl\"></mat-select-search>\r\n            <mat-option *ngFor=\"let device of filteredDevice | async\" [value]=\"device\">\r\n                {{ device.name }}\r\n            </mat-option>\r\n        </mat-select>\r\n    </div>\r\n    <div *ngIf=\"!manualEdit\" class=\"my-form-field\" style=\"width: 360px;display:inline-block;padding-left: 20px;\">\r\n        <span>{{'gauges.property-head-variable' | translate}}</span>\r\n        <mat-select [formControl]=\"variableCtrl\" (selectionChange)=\"onVariableChange($event.source)\">\r\n            <mat-select-search [formControl]=\"variableFilterCtrl\"></mat-select-search>\r\n            <mat-option *ngFor=\"let vari of filteredVariable | async\" [value]=\"vari\">\r\n                {{ getVariableLabel(vari) }}\r\n            </mat-option>\r\n        </mat-select>\r\n    </div>\r\n\r\n    <!-- <button *ngIf=\"allowManualEdit && !manualEdit\" mat-icon-button (click)=\"toggleView($event)\" matTooltip=\"{{'gauges.property-head-tomapvariable' | translate}}\" \r\n    style=\"margin-left: 2px; font-weight: bold; font-size: 20px;margin-bottom: 2px; color: gray;\">\r\n        {{'{x}'}}\r\n    </button>\r\n    <button *ngIf=\"manualEdit\" mat-icon-button (click)=\"toggleView($event)\" matTooltip=\"{{'gauges.property-head-todevice' | translate}}\" style=\"color: gray;\">\r\n        <mat-icon>device_hub</mat-icon>\r\n    </button> -->\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-variable/flex-variable.component.ts":
/*!****************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variable/flex-variable.component.ts ***!
  \****************************************************************************/
/*! exports provided: FlexVariableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexVariableComponent", function() { return FlexVariableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _models_device__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_models/device */ "./app/_models/device.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FlexVariableComponent = /** @class */ (function () {
    function FlexVariableComponent() {
        this.tobind = false;
        this.allowManualEdit = false;
        this.onchange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.manualEdit = false;
        this.variableList = [];
        this.currentVariable = null;
        this.deviceCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]();
        this.deviceFilterCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]();
        this.variableCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]();
        this.variableFilterCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]();
        /** list of variable filtered by search keyword */
        this.filteredDevice = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        /** list of variable filtered by search keyword */
        this.filteredVariable = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        /** Subject that emits when the component has been destroyed. */
        this._onDestroy = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    FlexVariableComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.initInput();
        var selDevice = null;
        if (this.data.devices) {
            if (this.value.variableId) {
                this.data.devices.forEach(function (dev) {
                    if (dev.tags[_this.value.variableId]) {
                        selDevice = dev;
                    }
                });
            }
            this.loadDevices();
        }
        // set value
        if (selDevice) {
            this.deviceCtrl.setValue(selDevice);
            this.setDevice(this.deviceCtrl);
            if (this.variableList) {
                for (var i = 0; i < this.variableList.length; i++) {
                    if (this.variableList[i].id === this.variableId) {
                        this.currentVariable = this.variableList[i];
                    }
                }
            }
        }
    };
    FlexVariableComponent.prototype.ngOnChanges = function (changes) {
    };
    FlexVariableComponent.prototype.initInput = function () {
        if (!this.value) {
            this.value = {
                variableId: this.variableId
            };
        }
        if (typeof this.value.variable == 'undefined') {
            this.value.variable = '';
        }
    };
    FlexVariableComponent.prototype.getVariableLabel = function (vari) {
        return vari.label || vari.name;
    };
    FlexVariableComponent.prototype.setDevice = function (event) {
        if (event.value) {
            this.variableList = [];
            this.currentVariable = null;
            if (event.value.tags) {
                this.variableList = Object.values(event.value.tags);
                this.loadVariable(this.value.variableId);
            }
        }
    };
    FlexVariableComponent.prototype.onDeviceChange = function (event) {
        this.setDevice(event);
        this.onChanged();
    };
    FlexVariableComponent.prototype.onVariableChange = function (event) {
        if (event.value) {
            this.value.variable = event.value.name;
        }
        this.currentVariable = event.value;
        this.onChanged();
    };
    FlexVariableComponent.prototype.onChanged = function () {
        if (this.currentVariable) {
            this.value.variableId = this.currentVariable.id;
            this.value.variableRaw = this.currentVariable;
        }
        this.onchange.emit(this.value); // Legacy
        this.valueChange.emit(this.value);
    };
    FlexVariableComponent.prototype.getDevices = function () {
        if (this.allowManualEdit) {
            var result = this.data.devices.filter(function (d) { return d.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].internal; });
            return result;
        }
        return this.data.devices.slice();
    };
    FlexVariableComponent.prototype.loadDevices = function () {
        var _this = this;
        // load the initial variable list
        this.filteredDevice.next(this.getDevices());
        // listen for search field value changes
        this.deviceFilterCtrl.valueChanges
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this._onDestroy))
            .subscribe(function () {
            _this.filterDevice();
        });
    };
    FlexVariableComponent.prototype.filterDevice = function () {
        if (!this.data.devices) {
            return;
        }
        // get the search keyword
        var search = this.deviceFilterCtrl.value;
        if (!search) {
            this.filteredDevice.next(this.getDevices());
            return;
        }
        else {
            search = search.toLowerCase();
        }
        // filter the device
        this.filteredDevice.next(this.getDevices().filter(function (dev) { return dev.name.toLowerCase().indexOf(search) > -1; }));
    };
    FlexVariableComponent.prototype.loadVariable = function (toset) {
        var _this = this;
        // load the initial variable list
        this.filteredVariable.next(this.variableList.slice());
        // listen for search field value changes
        this.variableFilterCtrl.valueChanges
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this._onDestroy))
            .subscribe(function () {
            _this.filterVariable();
        });
        if (toset) {
            var idx_1 = -1;
            this.variableList.every(function (value, index, _arr) {
                if (value.id === toset) {
                    idx_1 = index;
                    return false;
                }
                return true;
            });
            if (idx_1 >= 0) {
                this.variableCtrl.setValue(this.variableList[idx_1]);
            }
        }
    };
    FlexVariableComponent.prototype.filterVariable = function () {
        if (!this.variableList) {
            return;
        }
        // get the search keyword
        var search = this.variableFilterCtrl.value;
        if (!search) {
            this.filteredVariable.next(this.variableList.slice());
            return;
        }
        else {
            search = search.toLowerCase();
        }
        // filter the variable
        if (this.deviceCtrl.value.type === _models_device__WEBPACK_IMPORTED_MODULE_4__["DeviceType"].external) {
            this.filteredVariable.next(this.variableList.filter(function (vari) { return (vari.name && vari.name.toLowerCase().indexOf(search) > -1) || (vari.address && vari.address.toLowerCase().indexOf(search) > -1); }));
        }
        else {
            this.filteredVariable.next(this.variableList.filter(function (vari) { return vari.name.toLowerCase().indexOf(search) > -1; }));
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariableComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], FlexVariableComponent.prototype, "variableId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariableComponent.prototype, "value", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariableComponent.prototype, "tobind", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FlexVariableComponent.prototype, "allowManualEdit", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FlexVariableComponent.prototype, "onchange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FlexVariableComponent.prototype, "valueChange", void 0);
    FlexVariableComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-variable',
            template: __webpack_require__(/*! ./flex-variable.component.html */ "./app/gauges/gauge-property/flex-variable/flex-variable.component.html"),
            styles: [__webpack_require__(/*! ./flex-variable.component.css */ "./app/gauges/gauge-property/flex-variable/flex-variable.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], FlexVariableComponent);
    return FlexVariableComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.css":
/*!***********************************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.css ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.html":
/*!************************************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"flex-variable-mapping\">\r\n    <button mat-icon-button (click)=\"addVariableMapping($event)\">\r\n        <mat-icon>add_circle_outline</mat-icon>\r\n        {{'gauges.property-map-variable' | translate}}\r\n    </button>\r\n\r\n    <div *ngFor=\"let variableMap of this.mapping;index as i\">\r\n        <flex-variable-map [data]=\"data\" [view]=\"view\" [value]=\"mapping[i]\" [fromVariables]=\"viewVars\" (valueChange)=\"onChange()\">\r\n            <button style=\"float: right; margin-top: 7px;\" mat-icon-button (click)=\"removeVariableMapping($event, i)\"  matTooltip=\"{{'gauges.property-head-remove-mapvariable' | translate}}\">\r\n                <mat-icon>clear</mat-icon>\r\n            </button>\r\n        </flex-variable-map>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.ts":
/*!**********************************************************************************************!*\
  !*** ./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: FlexVariablesMappingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlexVariablesMappingComponent", function() { return FlexVariablesMappingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FlexVariablesMappingComponent = /** @class */ (function () {
    function FlexVariablesMappingComponent() {
        this.mappingChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    FlexVariablesMappingComponent.prototype.ngOnInit = function () {
        if (!this.mapping) {
            this.mapping = [];
        }
    };
    FlexVariablesMappingComponent.prototype.ngOnChanges = function (changes) {
        if (changes.view) {
            this.viewVariables = null;
        }
    };
    Object.defineProperty(FlexVariablesMappingComponent.prototype, "viewVars", {
        get: function () {
            var _this = this;
            if (this.viewVariables) {
                return this.viewVariables;
            }
            var viewVariables = {};
            if (this.view) {
                Object.values(this.view.items).forEach(function (item) {
                    if (item && item.property) {
                        if (item.property.variableId) {
                            _this.assignVariableTo(item.property, viewVariables);
                        }
                        if (item.property.actions) {
                            Object.values(item.property.actions).forEach(function (action) {
                                _this.assignVariableTo(action, viewVariables);
                            });
                        }
                        if (item.property.events) {
                            Object.values(item.property.events).forEach(function (event) {
                                if (event['actoptions'] && event['actoptions']['variableId']) {
                                    _this.assignVariableTo(event['actoptions'], viewVariables);
                                }
                                else if (event['actoptions'] && event['actoptions']['variable']) {
                                    _this.assignVariableTo(event['actoptions']['variable'], viewVariables);
                                }
                            });
                        }
                    }
                });
            }
            this.viewVariables = Object.values(viewVariables);
            return this.viewVariables;
        },
        enumerable: true,
        configurable: true
    });
    FlexVariablesMappingComponent.prototype.assignVariableTo = function (object, target) {
        var variable = {
            variableId: object['variableId']
        };
        target[variable.variableId] = variable;
    };
    FlexVariablesMappingComponent.prototype.addVariableMapping = function ($event) {
        $event.preventDefault();
        this.mapping.push({ from: {}, to: {} });
    };
    FlexVariablesMappingComponent.prototype.removeVariableMapping = function ($event, i) {
        $event.preventDefault();
        this.mapping.splice(i, 1);
    };
    FlexVariablesMappingComponent.prototype.onChange = function () {
        this.mappingChange.emit(this.mapping);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_hmi__WEBPACK_IMPORTED_MODULE_1__["View"])
    ], FlexVariablesMappingComponent.prototype, "view", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariablesMappingComponent.prototype, "mapping", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FlexVariablesMappingComponent.prototype, "data", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FlexVariablesMappingComponent.prototype, "mappingChange", void 0);
    FlexVariablesMappingComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'flex-variables-mapping',
            template: __webpack_require__(/*! ./flex-variables-mapping.component.html */ "./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.html"),
            styles: [__webpack_require__(/*! ./flex-variables-mapping.component.css */ "./app/gauges/gauge-property/flex-variables-mapping/flex-variables-mapping.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], FlexVariablesMappingComponent);
    return FlexVariablesMappingComponent;
}());



/***/ }),

/***/ "./app/gauges/gauge-property/gauge-permission.dialog.html":
/*!****************************************************************!*\
  !*** ./app/gauges/gauge-property/gauge-permission.dialog.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 350px;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor: move;\" mat-dialog-draggable>{{'dlg.gauge-permission-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">\r\n        clear\r\n    </mat-icon>\r\n    <div mat-dialog-content>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span style=\"display:inline-block; width: 45px; text-align: center;\">{{'dlg.gauge-permission-show' | translate}}</span>\r\n            <span style=\"display:inline-block; width: 70px;\">{{'dlg.gauge-permission-enabled' | translate}}</span>\r\n            <span style=\"display:inline-block\">{{'dlg.gauge-permission-label' | translate}}</span>\r\n            <sel-options style=\"display:block\" #seloptions [selected]=\"selectedGroups\" [options]=\"groups\" [extSelected]=\"extensionGroups\"></sel-options>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gauges/gauge-property/gauge-property.component.css":
/*!****************************************************************!*\
  !*** ./app/gauges/gauge-property/gauge-property.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".toolbox {\r\n    float: right;\r\n    line-height: 44px;\r\n}\r\n\r\n.toolbox button {\r\n    margin-right: 8px;\r\n    margin-left: 8px;\r\n}\r\n\r\n::ng-deep .input-text .mat-form-field-infix {\r\n    padding-top: 5px;\r\n    padding-bottom: 0px;\r\n}\r\n\r\n::ng-deep .mat-dialog-container {\r\n    display: inline-table !important;\r\n}\r\n\r\n::ng-deep .mat-tab-label {\r\n  height: 34px !important;\r\n}\r\n\r\n.mat-tab-container {\r\n  min-height:300px;\r\n  height:60vmin;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding-top: 15px;\r\n}\r\n\r\n.mat-tab-container > div {\r\n  display: block;\r\n}"

/***/ }),

/***/ "./app/gauges/gauge-property/gauge-property.component.html":
/*!*****************************************************************!*\
  !*** ./app/gauges/gauge-property/gauge-property.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 740px;position: relative;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{data.title}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n\t<mat-tab-group style=\"width: 100%;\">\r\n\t\t<mat-tab label=\"{{'gauges.property-props' | translate}}\">\r\n            <div class=\"mat-tab-container\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"my-form-field\">\r\n\t\t\t\t\t\t<span>{{'gauges.property-name' | translate}}</span>\r\n\t\t\t\t\t\t<input [(ngModel)]=\"data.settings.name\" style=\"width: 220px\" type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"my-form-field\" style=\"vertical-align: bottom; margin-left: 13px;\">\r\n\t\t\t\t\t\t<span>{{'gauges.property-permission' | translate}}</span>\r\n\t\t\t\t\t\t<div style=\"width:80px;height:30px;background-color:#f1f3f4;text-align:center;cursor:pointer;\" (click)=\"onEditPermission()\">\r\n\t\t\t\t\t\t\t<mat-icon class=\"header-icon\" style=\"line-height: 30px;\" *ngIf=\"!property || !property.permission\">lock_open</mat-icon>\r\n\t\t\t\t\t\t\t<mat-icon class=\"header-icon\" style=\"line-height: 30px;\" *ngIf=\"property && property.permission\">lock</mat-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"my-form-field\" style=\"padding-left: 100px\" *ngIf=\"isReadonlyToShow()\">\r\n\t\t\t\t\t\t<span>{{'gauges.property-readonly' | translate}}</span>\r\n\t\t\t\t\t\t<mat-slide-toggle color=\"primary\" [(ngModel)]=\"property.readonly\"></mat-slide-toggle>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"toolbox\" *ngIf=\"isToolboxToShow()\">\r\n\t\t\t\t\t\t<button mat-icon-button (click)=\"onAddInput()\">\r\n\t\t\t\t\t\t\t<mat-icon>add_circle_outline</mat-icon>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div mat-dialog-content style=\"overflow: visible; width:100%;\">\r\n\t\t\t\t\t<flex-head [data]=\"data\" [property]=\"property\" #flexhead></flex-head>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</mat-tab>\r\n\t\t<mat-tab label=\"{{'gauges.property-events' | translate}}\" *ngIf=\"eventsSupported\">\r\n            <div class=\"mat-tab-container\">\r\n\t\t\t\t<div class=\"toolbox\">\r\n\t\t\t\t\t<button mat-icon-button (click)=\"onAddEvent()\" matTooltip=\"{{'gauges.property-tooltip-add-event' | translate}}\">\r\n\t\t\t\t\t\t<mat-icon>add_circle_outline</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div mat-dialog-content style=\"overflow: visible; width:100%;\">\r\n\t\t\t\t\t<flex-event [property]=\"property\" [views]=\"views\" [data]=\"data\" [inputs]=\"inputs\" #flexevent *ngIf=\"eventsSupported\" style=\"padding-bottom: 5px\"></flex-event>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        </mat-tab>\r\n        <mat-tab label=\"{{'gauges.property-actions' | translate}}\" *ngIf=\"actionsSupported\">\r\n            <div class=\"mat-tab-container\">\r\n                <div class=\"toolbox\">\r\n                    <button mat-icon-button (click)=\"onAddAction()\">\r\n                        <mat-icon>add_circle_outline</mat-icon>\r\n                    </button>\r\n                    <!-- <button mat-icon-button (click)=\"slideActionView = !slideActionView; onActionRangeViewToggle()\">\r\n                        <mat-icon class=\"header-icon\" *ngIf=\"slideActionView\">toll</mat-icon>\r\n                        <mat-icon class=\"header-icon\" *ngIf=\"!slideActionView\">input</mat-icon>\r\n                    </button>-->\r\n                </div>\r\n                <div mat-dialog-content style=\"overflow: visible; width:100%\">\r\n                    <flex-action [data]=\"data\" [property]=\"property\" #flexaction *ngIf=\"actionsSupported\" style=\"padding-bottom: 5px\"></flex-action>\r\n                </div>\r\n            </div>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./app/gauges/gauge-property/gauge-property.component.ts":
/*!***************************************************************!*\
  !*** ./app/gauges/gauge-property/gauge-property.component.ts ***!
  \***************************************************************/
/*! exports provided: GaugePropertyComponent, GaugeDialogType, DialogGaugePermission */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugePropertyComponent", function() { return GaugePropertyComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeDialogType", function() { return GaugeDialogType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogGaugePermission", function() { return DialogGaugePermission; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../gui-helpers/sel-options/sel-options.component */ "./app/gui-helpers/sel-options/sel-options.component.ts");
/* harmony import */ var _flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flex-head/flex-head.component */ "./app/gauges/gauge-property/flex-head/flex-head.component.ts");
/* harmony import */ var _flex_event_flex_event_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./flex-event/flex-event.component */ "./app/gauges/gauge-property/flex-event/flex-event.component.ts");
/* harmony import */ var _flex_action_flex_action_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./flex-action/flex-action.component */ "./app/gauges/gauge-property/flex-action/flex-action.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_models/user */ "./app/_models/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var GaugePropertyComponent = /** @class */ (function () {
    function GaugePropertyComponent(dialog, dialogRef, data) {
        this.dialog = dialog;
        this.dialogRef = dialogRef;
        this.data = data;
        this.slideView = true;
        this.slideActionView = true;
        this.dialogType = GaugeDialogType.RangeWithAlarm;
    }
    GaugePropertyComponent.prototype.ngOnInit = function () {
        this.dialogType = this.data.dlgType;
        this.eventsSupported = this.data.withEvents;
        this.actionsSupported = this.data.withActions;
        this.views = this.data.views;
        this.inputs = this.data.inputs;
        this.property = JSON.parse(JSON.stringify(this.data.settings.property));
        if (!this.property) {
            this.property = new _models_hmi__WEBPACK_IMPORTED_MODULE_6__["GaugeProperty"]();
        }
        this.defaultValue = this.data.default;
        if (this.dialogType === GaugeDialogType.OnlyValue) {
            this.flexHead.withInput = null;
        }
        else if (this.dialogType === GaugeDialogType.ValueAndUnit) {
            this.flexHead.withInput = 'unit';
        }
        else {
            this.flexHead.defaultValue = this.defaultValue;
            this.flexHead.withInput = 'range';
            if (this.dialogType === GaugeDialogType.ValueWithRef) {
                this.flexHead.withInput = 'text';
            }
            else if (this.dialogType === GaugeDialogType.Step) {
                this.flexHead.withInput = 'step';
            }
            else if (this.dialogType === GaugeDialogType.MinMax) {
                this.flexHead.withInput = 'minmax';
            }
        }
    };
    GaugePropertyComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    GaugePropertyComponent.prototype.onOkClick = function () {
        // this.data.settings.property = this.flexHead.property;
        this.data.settings.property = this.flexHead.getProperty();
        if (this.flexEvent) {
            this.data.settings.property.events = this.flexEvent.getEvents();
        }
        if (this.flexAction) {
            this.data.settings.property.actions = this.flexAction.getActions();
        }
        if (this.property.readonly) {
            this.property.readonly = true;
        }
        else {
            delete this.property.readonly;
        }
    };
    GaugePropertyComponent.prototype.onAddInput = function () {
        this.flexHead.onAddInput();
    };
    GaugePropertyComponent.prototype.onAddEvent = function () {
        this.flexEvent.onAddEvent();
    };
    GaugePropertyComponent.prototype.onAddAction = function () {
        this.flexAction.onAddAction();
    };
    GaugePropertyComponent.prototype.onRangeViewToggle = function () {
        this.flexHead.onRangeViewToggle(this.slideView);
    };
    GaugePropertyComponent.prototype.onActionRangeViewToggle = function () {
        this.flexAction.onRangeViewToggle(this.slideActionView);
    };
    GaugePropertyComponent.prototype.isToolboxToShow = function () {
        if (this.dialogType === GaugeDialogType.RangeWithAlarm || this.dialogType === GaugeDialogType.Range || this.dialogType === GaugeDialogType.Step) {
            return true;
        }
        return false;
    };
    GaugePropertyComponent.prototype.isRangeToShow = function () {
        if (this.dialogType === GaugeDialogType.RangeWithAlarm || this.dialogType === GaugeDialogType.Range) {
            return true;
        }
        return false;
    };
    GaugePropertyComponent.prototype.isAlarmToShow = function () {
        if (this.dialogType === GaugeDialogType.RangeWithAlarm) {
            return true;
        }
        return false;
    };
    GaugePropertyComponent.prototype.isReadonlyToShow = function () {
        if (this.dialogType === GaugeDialogType.Step) {
            return true;
        }
        return false;
    };
    GaugePropertyComponent.prototype.onEditPermission = function () {
        var _this = this;
        var permission = this.property.permission;
        var dialogRef = this.dialog.open(DialogGaugePermission, {
            position: { top: '60px' },
            data: { permission: permission }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.property.permission = result.permission;
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], GaugePropertyComponent.prototype, "name", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexhead'),
        __metadata("design:type", _flex_head_flex_head_component__WEBPACK_IMPORTED_MODULE_3__["FlexHeadComponent"])
    ], GaugePropertyComponent.prototype, "flexHead", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexevent'),
        __metadata("design:type", _flex_event_flex_event_component__WEBPACK_IMPORTED_MODULE_4__["FlexEventComponent"])
    ], GaugePropertyComponent.prototype, "flexEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('flexaction'),
        __metadata("design:type", _flex_action_flex_action_component__WEBPACK_IMPORTED_MODULE_5__["FlexActionComponent"])
    ], GaugePropertyComponent.prototype, "flexAction", void 0);
    GaugePropertyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-property',
            template: __webpack_require__(/*! ./gauge-property.component.html */ "./app/gauges/gauge-property/gauge-property.component.html"),
            styles: [__webpack_require__(/*! ./gauge-property.component.css */ "./app/gauges/gauge-property/gauge-property.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], GaugePropertyComponent);
    return GaugePropertyComponent;
}());

var GaugeDialogType;
(function (GaugeDialogType) {
    GaugeDialogType[GaugeDialogType["Range"] = 0] = "Range";
    GaugeDialogType[GaugeDialogType["RangeWithAlarm"] = 1] = "RangeWithAlarm";
    GaugeDialogType[GaugeDialogType["OnlyValue"] = 2] = "OnlyValue";
    GaugeDialogType[GaugeDialogType["ValueAndUnit"] = 3] = "ValueAndUnit";
    GaugeDialogType[GaugeDialogType["ValueWithRef"] = 4] = "ValueWithRef";
    GaugeDialogType[GaugeDialogType["Step"] = 5] = "Step";
    GaugeDialogType[GaugeDialogType["MinMax"] = 6] = "MinMax";
    GaugeDialogType[GaugeDialogType["Chart"] = 7] = "Chart";
    GaugeDialogType[GaugeDialogType["Gauge"] = 8] = "Gauge";
    GaugeDialogType[GaugeDialogType["Pipe"] = 9] = "Pipe";
    GaugeDialogType[GaugeDialogType["Slider"] = 10] = "Slider";
    GaugeDialogType[GaugeDialogType["Switch"] = 11] = "Switch";
})(GaugeDialogType || (GaugeDialogType = {}));
var DialogGaugePermission = /** @class */ (function () {
    function DialogGaugePermission(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        // defaultColor = Utils.defaultColor;
        this.selectedGroups = [];
        this.extensionGroups = [];
        this.groups = _models_user__WEBPACK_IMPORTED_MODULE_7__["UserGroups"].Groups;
        this.selectedGroups = _models_user__WEBPACK_IMPORTED_MODULE_7__["UserGroups"].ValueToGroups(this.data.permission);
        this.extensionGroups = _models_user__WEBPACK_IMPORTED_MODULE_7__["UserGroups"].ValueToGroups(this.data.permission, true);
    }
    DialogGaugePermission.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogGaugePermission.prototype.onOkClick = function () {
        this.data.permission = _models_user__WEBPACK_IMPORTED_MODULE_7__["UserGroups"].GroupsToValue(this.seloptions.selected);
        this.data.permission += _models_user__WEBPACK_IMPORTED_MODULE_7__["UserGroups"].GroupsToValue(this.seloptions.extSelected, true);
        this.dialogRef.close(this.data);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_2__["SelOptionsComponent"]),
        __metadata("design:type", _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_2__["SelOptionsComponent"])
    ], DialogGaugePermission.prototype, "seloptions", void 0);
    DialogGaugePermission = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-gaugepermission',
            template: __webpack_require__(/*! ./gauge-permission.dialog.html */ "./app/gauges/gauge-property/gauge-permission.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogGaugePermission);
    return DialogGaugePermission;
}());



/***/ }),

/***/ "./app/gauges/gauges.component.ts":
/*!****************************************!*\
  !*** ./app/gauges/gauges.component.ts ***!
  \****************************************/
/*! exports provided: GaugesManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugesManager", function() { return GaugesManager; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _models_chart__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_models/chart */ "./app/_models/chart.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _controls_value_value_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./controls/value/value.component */ "./app/gauges/controls/value/value.component.ts");
/* harmony import */ var _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controls/html-input/html-input.component */ "./app/gauges/controls/html-input/html-input.component.ts");
/* harmony import */ var _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./controls/html-button/html-button.component */ "./app/gauges/controls/html-button/html-button.component.ts");
/* harmony import */ var _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./controls/html-select/html-select.component */ "./app/gauges/controls/html-select/html-select.component.ts");
/* harmony import */ var _controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./controls/html-chart/html-chart.component */ "./app/gauges/controls/html-chart/html-chart.component.ts");
/* harmony import */ var _controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controls/html-bag/html-bag.component */ "./app/gauges/controls/html-bag/html-bag.component.ts");
/* harmony import */ var _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./controls/html-switch/html-switch.component */ "./app/gauges/controls/html-switch/html-switch.component.ts");
/* harmony import */ var _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./controls/gauge-progress/gauge-progress.component */ "./app/gauges/controls/gauge-progress/gauge-progress.component.ts");
/* harmony import */ var _controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./controls/gauge-semaphore/gauge-semaphore.component */ "./app/gauges/controls/gauge-semaphore/gauge-semaphore.component.ts");
/* harmony import */ var _shapes_shapes_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./shapes/shapes.component */ "./app/gauges/shapes/shapes.component.ts");
/* harmony import */ var _shapes_proc_eng_proc_eng_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./shapes/proc-eng/proc-eng.component */ "./app/gauges/shapes/proc-eng/proc-eng.component.ts");
/* harmony import */ var _shapes_ape_shapes_ape_shapes_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./shapes/ape-shapes/ape-shapes.component */ "./app/gauges/shapes/ape-shapes/ape-shapes.component.ts");
/* harmony import */ var _controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./controls/pipe/pipe.component */ "./app/gauges/controls/pipe/pipe.component.ts");
/* harmony import */ var _controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./controls/slider/slider.component */ "./app/gauges/controls/slider/slider.component.ts");
/* harmony import */ var _helpers_windowref__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../_helpers/windowref */ "./app/_helpers/windowref.ts");
var __assign = (undefined && undefined.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





















var GaugesManager = /** @class */ (function () {
    function GaugesManager(hmiService, winRef, translateService, dialog) {
        var _this = this;
        this.hmiService = hmiService;
        this.winRef = winRef;
        this.translateService = translateService;
        this.dialog = dialog;
        this.onchange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onevent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // signalGaugeMap = new ViewSignalGaugeMap();      // map of all gauges (GaugeSettings) pro signals
        // map of gauges that have a click/html event
        this.eventGauge = {};
        // map of gauges with views
        this.mapGaugeView = {};
        // map of all signals and binded gauges of current view
        this.memorySigGauges = {};
        this.mapChart = {};
        this.mapGauges = {};
        // list of gauges tags to speed up the check
        this.gaugesTags = [];
        // subscription to the change of variable value, then emit to the gauges of fuxa-view
        this.hmiService.onVariableChanged.subscribe(function (sig) {
            try {
                _this.onchange.emit(sig);
            }
            catch (err) {
            }
        });
        // subscription to DAQ values, then emit to charts gauges of fuxa-view
        this.hmiService.onDaqResult.subscribe(function (message) {
            try {
                if (_this.mapChart[message.gid]) {
                    var gauge = _this.mapChart[message.gid];
                    gauge.setValues(message.values);
                }
            }
            catch (err) {
            }
        });
        // make the list of gauges tags to speed up the check
        GaugesManager_1.Gauges.forEach(function (g) {
            _this.gaugesTags.push(g.TypeTag);
        });
    }
    GaugesManager_1 = GaugesManager;
    GaugesManager.prototype.ngOnDestroy = function () {
        console.log('GaugesManager destroy');
    };
    GaugesManager.prototype.createSettings = function (id, type) {
        var gs = null;
        if (type) {
            for (var i = 0; i < GaugesManager_1.Gauges.length; i++) {
                if (type.startsWith(GaugesManager_1.Gauges[i].TypeTag)) {
                    gs = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["GaugeSettings"](id, type);
                    gs.label = GaugesManager_1.Gauges[i].LabelTag;
                    return gs;
                }
            }
        }
        return gs;
    };
    GaugesManager.prototype.createGaugeStatus = function (ga) {
        var result = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["GaugeStatus"]();
        if (!ga.type.startsWith(_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].TypeTag)) {
            result.onlyChange = true;
        }
        if (ga.type.startsWith(_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].TypeTag)) {
            result.takeValue = true;
        }
        return result;
    };
    GaugesManager.prototype.isWithEvents = function (type) {
        if (type) {
            for (var i = 0; i < GaugesManager_1.GaugeWithEvents.length; i++) {
                if (type.startsWith(GaugesManager_1.GaugeWithEvents[i])) {
                    return true;
                }
            }
        }
        return false;
    };
    GaugesManager.prototype.isWithActions = function (type) {
        if (type) {
            for (var i = 0; i < GaugesManager_1.GaugeWithActions.length; i++) {
                if (type.startsWith(GaugesManager_1.GaugeWithActions[i].TypeTag)) {
                    if (typeof GaugesManager_1.GaugeWithActions[i]['getActions'] === 'function') {
                        return GaugesManager_1.GaugeWithActions[i]['getActions']();
                    }
                }
            }
        }
        return false;
    };
    /**
     * Return if is a gauge by check the svg attribute 'type' = 'svg-ext-...'
     * @param type
     * @returns
     */
    GaugesManager.prototype.isGauge = function (type) {
        for (var tag in this.gaugesTags) {
            if (type.startsWith(this.gaugesTags[tag])) {
                return true;
            }
        }
        return false;
    };
    /**
     * gauges to update in editor after changed property (GaugePropertyComponent, ChartPropertyComponent)
     * @param ga
     */
    GaugesManager.prototype.initInEditor = function (ga, res, ref) {
        if (ga.type.startsWith(_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].TypeTag)) {
            _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].initElement(ga);
        }
        else if (ga.type.startsWith(_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].TypeTag)) {
            _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].initElement(ga);
        }
        else if (ga.type.startsWith(_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].TypeTag)) {
            delete this.mapGauges[ga.id];
            var gauge = _controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].detectChange(ga, res, ref);
            this.setChartPropety(gauge, ga.property);
            this.mapGauges[ga.id] = gauge;
        }
        else if (ga.type.startsWith(_controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].TypeTag)) {
            this.mapGauges[ga.id] = _controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].detectChange(ga, res, ref);
        }
        else if (ga.type.startsWith(_controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_18__["PipeComponent"].TypeTag)) {
            return this.mapGauges[ga.id] = _controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_18__["PipeComponent"].detectChange(ga, res, this.winRef);
        }
        else if (ga.type.startsWith(_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].TypeTag)) {
            return this.mapGauges[ga.id] = _controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].detectChange(ga, res, ref);
        }
        else if (ga.type.startsWith(_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].TypeTag)) {
            return this.mapGauges[ga.id] = _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].detectChange(ga, res, ref);
        }
        return false;
    };
    /**
     * emit the signal value to the frontend, used for user_defined variable to make logic in frontend
     * @param sigId
     * @param value
     */
    GaugesManager.prototype.setSignalValue = function (sigId, value) {
        var variable = new _models_hmi__WEBPACK_IMPORTED_MODULE_5__["Variable"](sigId, null, null);
        variable.value = value;
        this.onchange.emit(variable);
    };
    //! toremove
    GaugesManager.prototype.initGaugesMap = function () {
        this.eventGauge = {};
        this.mapGaugeView = {};
    };
    /**
     * called from fuxa-view, is used to emit message for a refresh of all signals values and the gauges of view
     * @param domViewId
     */
    GaugesManager.prototype.emitBindedSignals = function (domViewId) {
        this.hmiService.emitMappedSignalsGauge(domViewId);
    };
    /**
     * called from fuxa-view, bind dom view, gauge with signal (for animation) and event
     * @param gaugekey
     * @param gauge
     * @param domViewId
     * @param ga
     * @param bindclick
     * @param bindhtmlevent
     */
    GaugesManager.prototype.bindGauge = function (gauge, domViewId, ga, bindclick, bindhtmlevent) {
        var sigsid = this.getBindSignals(ga);
        if (sigsid) {
            for (var i = 0; i < sigsid.length; i++) {
                this.hmiService.addSignalGaugeToMap(domViewId, sigsid[i], ga);
                // check for special gauge to save in memory binded to sigid (chart-html)
                if (gauge) {
                    if (!this.memorySigGauges[sigsid[i]]) {
                        this.memorySigGauges[sigsid[i]] = {};
                        this.memorySigGauges[sigsid[i]][ga.id] = gauge;
                    }
                    else if (!this.memorySigGauges[sigsid[i]][ga.id]) {
                        this.memorySigGauges[sigsid[i]][ga.id] = gauge;
                    }
                }
            }
        }
        var clicks = this.getBindClick(ga);
        if (clicks && clicks.length > 0) {
            this.eventGauge[ga.id] = ga;
            if (!this.mapGaugeView[ga.id]) {
                this.mapGaugeView[ga.id] = {};
                this.mapGaugeView[ga.id][domViewId] = ga;
                bindclick(ga);
            }
            else if (!this.mapGaugeView[ga.id][domViewId]) {
                this.mapGaugeView[ga.id][domViewId] = ga;
                bindclick(ga);
            }
            // add pointer
            var ele = document.getElementById(ga.id);
            if (ele) {
                ele.style.cursor = "pointer";
            }
            // bindclick(ga);
        }
        var htmlEvents = this.getHtmlEvents(ga);
        if (htmlEvents) {
            this.eventGauge[htmlEvents.dom.id] = ga;
            bindhtmlevent(htmlEvents);
        }
        this.bindGaugeEventToSignal(ga);
        this.checkElementToInit(ga);
    };
    /**
     * @param domViewId
     * called from fuxa-view, remove bind of dom view gauge
     */
    GaugesManager.prototype.unbindGauge = function (domViewId) {
        var _this = this;
        // first remove special gauge like chart from memorySigGauges
        var sigGaugeSettingsIdremoved = this.hmiService.removeSignalGaugeFromMap(domViewId);
        Object.keys(sigGaugeSettingsIdremoved).forEach(function (sid) {
            if (_this.memorySigGauges[sid]) {
                for (var i = 0; i < sigGaugeSettingsIdremoved[sid].length; i++) {
                    var gsId = sigGaugeSettingsIdremoved[sid][i];
                    if (_this.memorySigGauges[sid][gsId]) {
                        var g = _this.memorySigGauges[sid][gsId];
                        try {
                            if (g.myComRef) {
                                g.myComRef.destroy();
                            }
                            delete _this.memorySigGauges[sid][gsId];
                            if (_this.mapChart[g.id]) {
                                delete _this.mapChart[g.id];
                            }
                            if (_this.mapGauges[g.id]) {
                                delete _this.mapGauges[g.id];
                            }
                        }
                        catch (err) {
                            console.log(err);
                        }
                    }
                }
            }
        });
        // remove mapped gauge for events of this view
        Object.values(this.mapGaugeView).forEach(function (val) {
            if (val[domViewId]) {
                var g = val[domViewId];
                if (g.myComRef) {
                    g.myComRef.destroy();
                }
                delete val[domViewId];
            }
        });
    };
    /**
     * init element of fuxa-view,
     * @param ga
     */
    GaugesManager.prototype.checkElementToInit = function (ga) {
        if (ga.type.startsWith(_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].TypeTag)) {
            return _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].initElement(ga, true);
        }
        return null;
    };
    GaugesManager.prototype.checkElementToResize = function (ga, res, ref) {
        if (ga && this.mapGauges[ga.id]) {
            if (typeof this.mapGauges[ga.id]['resize'] === 'function') {
                this.mapGauges[ga.id]['resize']();
            }
            else {
                for (var i = 0; i < GaugesManager_1.Gauges.length; i++) {
                    if (ga.type.startsWith(GaugesManager_1.Gauges[i].TypeTag)) {
                        if (typeof GaugesManager_1.Gauges[i]['resize'] === 'function') {
                            var options = void 0;
                            if (this.mapGauges[ga.id].options) {
                                options = this.mapGauges[ga.id].options;
                            }
                            return GaugesManager_1.Gauges[i]['resize'](ga, res, ref, options);
                        }
                        return;
                    }
                }
            }
        }
    };
    GaugesManager.prototype.getGaugeValue = function (gaugeId) {
        if (this.mapGauges[gaugeId] && this.mapGauges[gaugeId].currentValue) {
            return this.mapGauges[gaugeId].currentValue();
        }
    };
    /**
     * get all gauge settings binded to dom view with the signal
     * @param domViewId
     * @param sigid
     */
    GaugesManager.prototype.getGaugeSettings = function (domViewId, sigid) {
        var gslist = this.hmiService.getMappedSignalsGauges(domViewId, sigid);
        return gslist;
    };
    /**
     * get all signals mapped in all dom views, used from LabComponent
     * @param fulltext a copy with item name and source
     */
    GaugesManager.prototype.getMappedGaugesSignals = function (fulltext) {
        return this.hmiService.getMappedVariables(fulltext);
    };
    /**
     * return all signals binded to the gauge
     * @param ga
     */
    GaugesManager.prototype.getBindSignals = function (ga) {
        if (ga.property) {
            for (var i = 0; i < GaugesManager_1.Gauges.length; i++) {
                if (ga.type.startsWith(GaugesManager_1.Gauges[i].TypeTag)) {
                    if (ga.type.startsWith(_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].TypeTag)) {
                        var sigs = this.hmiService.getChartSignal(ga.property.id);
                        return sigs;
                    }
                    else if (typeof GaugesManager_1.Gauges[i]['getSignals'] === 'function') {
                        return GaugesManager_1.Gauges[i]['getSignals'](ga.property);
                    }
                    else {
                        return null;
                    }
                }
            }
        }
        return null;
    };
    /**
     * return all events binded to the gauge with click event
     * @param ga
     */
    GaugesManager.prototype.getBindClick = function (ga) {
        for (var i = 0; i < GaugesManager_1.Gauges.length; i++) {
            if (ga.type.startsWith(GaugesManager_1.Gauges[i].TypeTag)) {
                if (typeof GaugesManager_1.Gauges[i]['getEvents'] === 'function') {
                    return GaugesManager_1.Gauges[i]['getEvents'](ga.property, _models_hmi__WEBPACK_IMPORTED_MODULE_5__["GaugeEventType"].click);
                }
                else {
                    return null;
                }
            }
        }
        return null;
    };
    /**
     * return all events binded to the html gauge ('key-enter' of input, 'change' of select)
     * @param ga
     */
    GaugesManager.prototype.getHtmlEvents = function (ga) {
        if (ga.type.startsWith(_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].TypeTag)) {
            return _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].getHtmlEvents(ga);
        }
        else if (ga.type.startsWith(_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].TypeTag)) {
            return _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].getHtmlEvents(ga);
        }
        return null;
    };
    GaugesManager.prototype.bindGaugeEventToSignal = function (ga) {
        if (ga.type.startsWith(_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].TypeTag)) {
            var self_1 = this;
            _controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].bindEvents(ga, this.mapGauges[ga.id], function (event) {
                self_1.putEvent(event);
            });
        }
        else if (ga.type.startsWith(_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].TypeTag)) {
            var self_2 = this;
            _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].bindEvents(ga, this.mapGauges[ga.id], function (event) {
                self_2.putEvent(event);
            });
        }
    };
    /**
     * manage to which gauge to forward the process function
     * @param ga
     * @param svgele
     * @param sig
     */
    GaugesManager.prototype.processValue = function (ga, svgele, sig, gaugeStatus) {
        var _this = this;
        for (var i = 0; i < GaugesManager_1.Gauges.length; i++) {
            if (ga.type.startsWith(GaugesManager_1.Gauges[i].TypeTag)) {
                if (ga.type.startsWith(_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].TypeTag)) {
                    if (ga.property.type !== 'history' && this.memorySigGauges[sig.id]) {
                        Object.keys(this.memorySigGauges[sig.id]).forEach(function (k) {
                            if (k === ga.id && _this.mapGauges[k]) {
                                _controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].processValue(ga, svgele, sig, gaugeStatus, _this.mapGauges[k]);
                            }
                        });
                    }
                    break;
                }
                else if (ga.type.startsWith(_controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].TypeTag)) {
                    Object.keys(this.memorySigGauges[sig.id]).forEach(function (k) {
                        if (k === ga.id && _this.mapGauges[k]) {
                            _controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].processValue(ga, svgele, sig, gaugeStatus, _this.mapGauges[k]);
                        }
                    });
                    break;
                }
                else if (ga.type.startsWith(_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].TypeTag)) {
                    Object.keys(this.memorySigGauges[sig.id]).forEach(function (k) {
                        if (k === ga.id && _this.mapGauges[k]) {
                            _controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].processValue(ga, svgele, sig, gaugeStatus, _this.mapGauges[k]);
                        }
                    });
                    break;
                }
                else if (ga.type.startsWith(_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].TypeTag)) {
                    Object.keys(this.memorySigGauges[sig.id]).forEach(function (k) {
                        if (k === ga.id && _this.mapGauges[k]) {
                            _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].processValue(ga, svgele, sig, gaugeStatus, _this.mapGauges[k]);
                        }
                    });
                    break;
                }
                else if (typeof GaugesManager_1.Gauges[i]['processValue'] === 'function') {
                    GaugesManager_1.Gauges[i]['processValue'](ga, svgele, sig, gaugeStatus);
                    break;
                }
                else {
                    break;
                }
            }
        }
    };
    GaugesManager.prototype.toggleSignalValue = function (sigid) {
        if (this.hmiService.variables.hasOwnProperty(sigid)) {
            var currentValue = this.hmiService.variables[sigid].value;
            // Only boolean values
            if (currentValue !== true && currentValue !== false && currentValue !== undefined) {
                return;
            }
            this.putSignalValue(sigid, String(!currentValue));
        }
    };
    /**
     * called from fuxa-view to emit and send signal value from a gauge event ('key-enter' of input, 'change' of select)
     * @param event
     */
    GaugesManager.prototype.putEvent = function (event) {
        if (event.ga.property && event.ga.property.variableId) {
            this.hmiService.putSignalValue(event.ga.property.variableId, event.value);
            event.dbg = 'put ' + event.ga.property.variableId + ' ' + event.value;
        }
        this.onevent.emit(event);
    };
    /**
     * called from fuxa-view to emit and send signal value from a gauge event (click)
     * @param sigid
     * @param val
     */
    GaugesManager.prototype.putSignalValue = function (sigid, val) {
        this.hmiService.putSignalValue(sigid, val);
    };
    GaugesManager.getEditDialogTypeToUse = function (type) {
        for (var i = 0; i < GaugesManager_1.Gauges.length; i++) {
            if (type.startsWith(GaugesManager_1.Gauges[i].TypeTag)) {
                if (typeof GaugesManager_1.Gauges[i]['getDialogType'] === 'function') {
                    return GaugesManager_1.Gauges[i]['getDialogType']();
                }
                else {
                    return null;
                }
            }
        }
    };
    /**
     * used from controls in editor to get default value of edit gauge property
     */
    GaugesManager.getDefaultValue = function (type) {
        if (type.startsWith(_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].TypeTag)) {
            return _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].getDefaultValue();
        }
        return null;
    };
    /**
     * used from controls in editor, to set the colorpicker of selected control
     */
    GaugesManager.checkGaugeColor = function (ele, eles, colors) {
        if (ele && ele.type && eles && (eles.length <= 1 || !eles[1]) && colors) {
            if (ele.type.startsWith(_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].TypeTag)) {
                colors.fill = _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].getFillColor(eles[0]);
                colors.stroke = _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].getStrokeColor(eles[0]);
                return true;
            }
            else if (ele.type.startsWith(_controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"].TypeTag)) {
                colors.fill = _controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"].getFillColor(eles[0]);
                colors.stroke = _controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"].getStrokeColor(eles[0]);
                return true;
            }
            else if (ele.type.startsWith(_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].TypeTag)) {
                colors.fill = _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].getFillColor(eles[0]);
                colors.stroke = _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].getStrokeColor(eles[0]);
                return true;
            }
            else if (ele.type.startsWith(_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].TypeTag)) {
                colors.fill = _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].getFillColor(eles[0]);
                colors.stroke = _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].getStrokeColor(eles[0]);
                return true;
            }
            else if (ele.type.startsWith(_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].TypeTag)) {
                colors.fill = _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].getFillColor(eles[0]);
                colors.stroke = _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].getStrokeColor(eles[0]);
                return true;
            }
        }
        return false;
    };
    /**
     * used from controls in editor to change fill and stroke colors
     * @param bkcolor
     * @param color
     * @param elements
     */
    GaugesManager.initElementColor = function (bkcolor, color, elements) {
        var elems = elements.filter(function (el) { return el; });
        for (var i = 0; i < elems.length; i++) {
            var type = elems[i].getAttribute('type');
            if (type.startsWith(_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].TypeTag)) {
                _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].initElementColor(bkcolor, color, elems[i]);
            }
            else if (type.startsWith(_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].TypeTag)) {
                _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].initElementColor(bkcolor, color, elems[i]);
            }
            else if (type.startsWith(_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].TypeTag)) {
                _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].initElementColor(bkcolor, color, elems[i]);
            }
            else if (type.startsWith(_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].TypeTag)) {
                _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].initElementColor(bkcolor, color, elems[i]);
            }
        }
    };
    /**
     * Return the default prefix of gauge name
     * @param type
     */
    GaugesManager.getPrefixGaugeName = function (type) {
        if (type.startsWith(_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].TypeTag)) {
            return 'progress_';
        }
        else if (type.startsWith(_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].TypeTag)) {
            return 'button_';
        }
        else if (type.startsWith(_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].TypeTag)) {
            return 'input_';
        }
        else if (type.startsWith(_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].TypeTag)) {
            return 'select_';
        }
        else if (type.startsWith(_controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"].TypeTag)) {
            return 'led_';
        }
        else if (type.startsWith(_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].TypeTag)) {
            return 'slider_';
        }
        else if (type.startsWith(_controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_18__["PipeComponent"].TypeTag)) {
            return 'pipe_';
        }
        else if (type.startsWith(_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].TypeTag)) {
            return 'chart_';
        }
        else if (type.startsWith(_controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].TypeTag)) {
            return 'gauge_';
        }
        else if (type.startsWith(_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].TypeTag)) {
            return 'switch_';
        }
        return 'shape_';
    };
    /**
     * initialize the gauge element found in svg view and editor, like ngx-uplot, ngx-gauge
     * in svg is only a 'div' that have to be dynamic build and render from angular
     * @param ga gauge settings
     * @param res reference to factory
     * @param ref reference to factory
     * @param isview in view or editor, in editor have to disable mouse activity
     */
    GaugesManager.prototype.initElementAdded = function (ga, res, ref, isview) {
        var _this = this;
        if (!ga) {
            return null;
        }
        // add variable
        var sigsid = this.getBindSignals(ga);
        if (sigsid) {
            for (var i = 0; i < sigsid.length; i++) {
                this.hmiService.addSignal(sigsid[i], ga);
            }
        }
        if (ga.type.startsWith(_controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].TypeTag)) {
            // prepare attribute
            var chartRange_1 = _models_chart__WEBPACK_IMPORTED_MODULE_4__["ChartRangeType"];
            Object.keys(chartRange_1).forEach(function (key) {
                _this.translateService.get(chartRange_1[key]).subscribe(function (txt) { chartRange_1[key] = txt; });
            });
            var gauge = _controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"].initElement(ga, res, ref, isview, chartRange_1);
            if (gauge) {
                this.setChartPropety(gauge, ga.property);
                this.mapChart[ga.id] = gauge;
                gauge.onTimeRange.subscribe(function (data) {
                    _this.hmiService.queryDaqValues(data);
                });
                if (isview) {
                    gauge.setRange(Object.keys(chartRange_1)[0]);
                }
                this.mapGauges[ga.id] = gauge;
            }
            return gauge;
        }
        else if (ga.type.startsWith(_controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].TypeTag)) {
            var gauge = _controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"].initElement(ga, res, ref, isview);
            this.mapGauges[ga.id] = gauge;
            return gauge;
        }
        else if (ga.type.startsWith(_controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].TypeTag)) {
            var gauge = _controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"].initElement(ga, res, ref, isview);
            this.mapGauges[ga.id] = gauge;
            return gauge;
        }
        else if (ga.type.startsWith(_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].TypeTag)) {
            _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].initElement(ga, isview);
        }
        else if (ga.type.startsWith(_controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].TypeTag)) {
            _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].initElement(ga, isview);
        }
        else if (ga.type.startsWith(_controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].TypeTag)) {
            _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"].initElement(ga);
            return true;
        }
        else if (ga.type.startsWith(_controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].TypeTag)) {
            var gauge = _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].initElement(ga, res, ref, isview);
            this.mapGauges[ga.id] = gauge;
            return gauge;
        }
    };
    /**
     * add the chart settings (line) and property options to the gauge
     * @param gauge
     * @param chart
     * @param property
     */
    GaugesManager.prototype.setChartPropety = function (gauge, property) {
        if (property) {
            if (property.id) {
                var chart = this.hmiService.getChart(property.id);
                if (chart) {
                    var opt = __assign({}, property.options, { title: chart.name, id: chart.name, scales: { x: { time: true } } });
                    gauge.setOptions(opt, true);
                    for (var i = 0; i < chart.lines.length; i++) {
                        var line = chart.lines[i];
                        var sigid = line.id;
                        var sigProperty = this.hmiService.getMappedVariable(sigid, true);
                        if (sigProperty) {
                            gauge.addLine(sigid, sigProperty.name, line.color, line.label, line.yaxis);
                        }
                    }
                    gauge.redraw();
                }
            }
            else {
                gauge.setOptions(property.options, true);
            }
        }
    };
    /**
     * clear memory object used from view, some reset
     */
    GaugesManager.prototype.clearMemory = function () {
        this.memorySigGauges = {};
    };
    // list of gauges with input
    GaugesManager.GaugeWithInput = [_controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"].prefix, _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"].prefix, _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"].prefix];
    // list of gauges tags to check who as events like mouse click
    GaugesManager.GaugeWithEvents = [_controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"].TypeTag, _controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"].TypeTag, _shapes_shapes_component__WEBPACK_IMPORTED_MODULE_15__["ShapesComponent"].TypeTag, _shapes_proc_eng_proc_eng_component__WEBPACK_IMPORTED_MODULE_16__["ProcEngComponent"].TypeTag,
        _shapes_ape_shapes_ape_shapes_component__WEBPACK_IMPORTED_MODULE_17__["ApeShapesComponent"].TypeTag];
    // list of gauges tags to check who as events like mouse click
    GaugesManager.GaugeWithActions = [_shapes_ape_shapes_ape_shapes_component__WEBPACK_IMPORTED_MODULE_17__["ApeShapesComponent"], _controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_18__["PipeComponent"], _shapes_proc_eng_proc_eng_component__WEBPACK_IMPORTED_MODULE_16__["ProcEngComponent"], _shapes_shapes_component__WEBPACK_IMPORTED_MODULE_15__["ShapesComponent"], _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"], _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"],
        _controls_value_value_component__WEBPACK_IMPORTED_MODULE_6__["ValueComponent"], _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"], _controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"]];
    // list of gauges components
    GaugesManager.Gauges = [_controls_value_value_component__WEBPACK_IMPORTED_MODULE_6__["ValueComponent"], _controls_html_input_html_input_component__WEBPACK_IMPORTED_MODULE_7__["HtmlInputComponent"], _controls_html_button_html_button_component__WEBPACK_IMPORTED_MODULE_8__["HtmlButtonComponent"], _controls_html_bag_html_bag_component__WEBPACK_IMPORTED_MODULE_11__["HtmlBagComponent"],
        _controls_html_select_html_select_component__WEBPACK_IMPORTED_MODULE_9__["HtmlSelectComponent"], _controls_html_chart_html_chart_component__WEBPACK_IMPORTED_MODULE_10__["HtmlChartComponent"], _controls_gauge_progress_gauge_progress_component__WEBPACK_IMPORTED_MODULE_13__["GaugeProgressComponent"], _controls_gauge_semaphore_gauge_semaphore_component__WEBPACK_IMPORTED_MODULE_14__["GaugeSemaphoreComponent"], _shapes_shapes_component__WEBPACK_IMPORTED_MODULE_15__["ShapesComponent"], _shapes_proc_eng_proc_eng_component__WEBPACK_IMPORTED_MODULE_16__["ProcEngComponent"], _shapes_ape_shapes_ape_shapes_component__WEBPACK_IMPORTED_MODULE_17__["ApeShapesComponent"],
        _controls_pipe_pipe_component__WEBPACK_IMPORTED_MODULE_18__["PipeComponent"], _controls_slider_slider_component__WEBPACK_IMPORTED_MODULE_19__["SliderComponent"], _controls_html_switch_html_switch_component__WEBPACK_IMPORTED_MODULE_12__["HtmlSwitchComponent"]];
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], GaugesManager.prototype, "onchange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], GaugesManager.prototype, "onevent", void 0);
    GaugesManager = GaugesManager_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_services_hmi_service__WEBPACK_IMPORTED_MODULE_3__["HmiService"],
            _helpers_windowref__WEBPACK_IMPORTED_MODULE_20__["WindowRef"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], GaugesManager);
    return GaugesManager;
    var GaugesManager_1;
}());



/***/ }),

/***/ "./app/gauges/shapes/ape-shapes/ape-shapes.component.css":
/*!***************************************************************!*\
  !*** ./app/gauges/shapes/ape-shapes/ape-shapes.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/shapes/ape-shapes/ape-shapes.component.html":
/*!****************************************************************!*\
  !*** ./app/gauges/shapes/ape-shapes/ape-shapes.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/shapes/ape-shapes/ape-shapes.component.ts":
/*!**************************************************************!*\
  !*** ./app/gauges/shapes/ape-shapes/ape-shapes.component.ts ***!
  \**************************************************************/
/*! exports provided: ApeShapesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApeShapesComponent", function() { return ApeShapesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_helpers/utils */ "./app/_helpers/utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Shape extension
 */





var ApeShapesComponent = /** @class */ (function (_super) {
    __extends(ApeShapesComponent, _super);
    function ApeShapesComponent() {
        return _super.call(this) || this;
    }
    ApeShapesComponent_1 = ApeShapesComponent;
    ApeShapesComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.alarmId) {
            res.push(pro.alarmId);
        }
        if (pro.actions) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    ApeShapesComponent.getActions = function () {
        return this.actionsType;
    };
    ApeShapesComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].RangeWithAlarm;
    };
    ApeShapesComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node) {
                var clr = '';
                var value_1 = parseFloat(sig.value);
                if (Number.isNaN(value_1)) {
                    // maybe boolean
                    value_1 = Number(sig.value);
                }
                else {
                    value_1 = parseFloat(value_1.toFixed(5));
                }
                if (ga.property) {
                    if (ga.property.variableId === sig.id && ga.property.ranges) {
                        for (var idx = 0; idx < ga.property.ranges.length; idx++) {
                            if (ga.property.ranges[idx].min <= value_1 && ga.property.ranges[idx].max >= value_1) {
                                clr = ga.property.ranges[idx].color;
                            }
                        }
                        if (clr) {
                            svgele.node.setAttribute('fill', clr);
                        }
                    }
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                ApeShapesComponent_1.processAction(act, svgele, value_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    ApeShapesComponent.processAction = function (act, svgele, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element_1 = SVG.adopt(svgele.node);
                this.runActionHide(element_1, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element_2 = SVG.adopt(svgele.node);
                this.runActionShow(element_2, act.type, gaugeStatus);
            }
        }
        else {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                ApeShapesComponent_1.runMyAction(element, act.type, gaugeStatus);
            }
        }
    };
    ApeShapesComponent.runMyAction = function (element, type, gaugeStatus) {
        element.stop(true);
        if (ApeShapesComponent_1.actionsType[type] === ApeShapesComponent_1.actionsType.clockwise) {
            gaugeStatus.actionRef = { type: type, animr: element.animate(3000).rotate(365).loop() };
        }
        else if (ApeShapesComponent_1.actionsType[type] === ApeShapesComponent_1.actionsType.anticlockwise) {
            gaugeStatus.actionRef = { type: type, animr: element.animate(3000).rotate(-365).loop() };
        }
        else if (ApeShapesComponent_1.actionsType[type] === ApeShapesComponent_1.actionsType.downup) {
            if (gaugeStatus.actionRef && gaugeStatus.actionRef.type === type) {
                return;
            }
            var eletoanim = _helpers_utils__WEBPACK_IMPORTED_MODULE_4__["Utils"].searchTreeStartWith(element.node, 'pm');
            if (eletoanim) {
                element = SVG.adopt(eletoanim);
                var elebox = eletoanim.getBBox();
                var movefrom = { x: elebox.x, y: elebox.y };
                var moveto = { x: elebox.x, y: elebox.y - 25 };
                var timeout = setInterval(function () {
                    element.animate(1000).move(moveto.x, moveto.y).animate(1000).move(movefrom.x, movefrom.y);
                }, 2000);
                gaugeStatus.actionRef = { type: type, timer: timeout };
            }
        }
        else if (ApeShapesComponent_1.actionsType[type] === ApeShapesComponent_1.actionsType.stop) {
            if (gaugeStatus.actionRef && gaugeStatus.actionRef.timer) {
                clearTimeout(gaugeStatus.actionRef.timer);
                gaugeStatus.actionRef.timer = null;
            }
        }
    };
    ApeShapesComponent.firstAnimation = function (element, moveto, movefrom) {
        console.log('a');
        // element.animate(1000).move(moveto.x, moveto.y).animate(1000).move(movefrom.x, movefrom.y).after(function () {
        //     ApeShapesComponent.firstAnimation(element, moveto, movefrom);
        // });
        element.animate({ duration: 1000, delay: 6000, wait: 6000 }).move(moveto.x, moveto.y).after(function () {
            console.log('a');
            // element.animate(1000).move(movefrom.x, movefrom.y);
        }).loop(); //ApeShapesComponent.secondAnimation(element, moveto, movefrom));
    };
    ApeShapesComponent.secondAnimation = function (element, movefrom, moveto) {
        // element.animate(1000).move(moveto.x, moveto.y).after(ApeShapesComponent.firstAnimation(element, moveto, movefrom));
    };
    ApeShapesComponent.TypeId = 'ape';
    ApeShapesComponent.TypeTag = 'svg-ext-' + ApeShapesComponent_1.TypeId; // used to identify shapes type, binded with the library svgeditor
    ApeShapesComponent.LabelTag = 'AnimProcEng';
    ApeShapesComponent.actionsType = { stop: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].stop, clockwise: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].clockwise, anticlockwise: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].anticlockwise, downup: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].downup,
        hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show };
    ApeShapesComponent = ApeShapesComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ape-shapes',
            template: __webpack_require__(/*! ./ape-shapes.component.html */ "./app/gauges/shapes/ape-shapes/ape-shapes.component.html"),
            styles: [__webpack_require__(/*! ./ape-shapes.component.css */ "./app/gauges/shapes/ape-shapes/ape-shapes.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], ApeShapesComponent);
    return ApeShapesComponent;
    var ApeShapesComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/shapes/proc-eng/proc-eng.component.css":
/*!***********************************************************!*\
  !*** ./app/gauges/shapes/proc-eng/proc-eng.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/shapes/proc-eng/proc-eng.component.html":
/*!************************************************************!*\
  !*** ./app/gauges/shapes/proc-eng/proc-eng.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/shapes/proc-eng/proc-eng.component.ts":
/*!**********************************************************!*\
  !*** ./app/gauges/shapes/proc-eng/proc-eng.component.ts ***!
  \**********************************************************/
/*! exports provided: ProcEngComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProcEngComponent", function() { return ProcEngComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Shape extension
 */




var ProcEngComponent = /** @class */ (function (_super) {
    __extends(ProcEngComponent, _super);
    function ProcEngComponent() {
        return _super.call(this) || this;
    }
    ProcEngComponent_1 = ProcEngComponent;
    ProcEngComponent.prototype.ngOnInit = function () {
    };
    ProcEngComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.alarmId) {
            res.push(pro.alarmId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    ProcEngComponent.getActions = function () {
        return this.actionsType;
    };
    ProcEngComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].RangeWithAlarm;
    };
    ProcEngComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node) {
                var clr = '';
                var value_1 = parseFloat(sig.value);
                if (Number.isNaN(value_1)) {
                    // maybe boolean
                    value_1 = Number(sig.value);
                }
                else {
                    value_1 = parseFloat(value_1.toFixed(5));
                }
                if (ga.property) {
                    if (ga.property.variableId === sig.id && ga.property.ranges) {
                        for (var idx = 0; idx < ga.property.ranges.length; idx++) {
                            if (ga.property.ranges[idx].min <= value_1 && ga.property.ranges[idx].max >= value_1) {
                                clr = ga.property.ranges[idx].color;
                            }
                        }
                        if (clr) {
                            svgele.node.setAttribute('fill', clr);
                        }
                    }
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                ProcEngComponent_1.processAction(act, svgele, value_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    ProcEngComponent.processAction = function (act, svgele, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.blink) {
            var element = SVG.adopt(svgele.node);
            var inRange = (act.range.min <= value && act.range.max >= value);
            this.checkActionBlink(element, act.type, gaugeStatus, inRange, act.options, false);
        }
    };
    ProcEngComponent.TypeId = 'proceng';
    ProcEngComponent.TypeTag = 'svg-ext-' + ProcEngComponent_1.TypeId;
    ProcEngComponent.LabelTag = 'Proc-Eng';
    ProcEngComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show, blink: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].blink };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ProcEngComponent.prototype, "data", void 0);
    ProcEngComponent = ProcEngComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-proc-eng',
            template: __webpack_require__(/*! ./proc-eng.component.html */ "./app/gauges/shapes/proc-eng/proc-eng.component.html"),
            styles: [__webpack_require__(/*! ./proc-eng.component.css */ "./app/gauges/shapes/proc-eng/proc-eng.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], ProcEngComponent);
    return ProcEngComponent;
    var ProcEngComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gauges/shapes/shapes.component.css":
/*!************************************************!*\
  !*** ./app/gauges/shapes/shapes.component.css ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/shapes/shapes.component.html":
/*!*************************************************!*\
  !*** ./app/gauges/shapes/shapes.component.html ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gauges/shapes/shapes.component.ts":
/*!***********************************************!*\
  !*** ./app/gauges/shapes/shapes.component.ts ***!
  \***********************************************/
/*! exports provided: ShapesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShapesComponent", function() { return ShapesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gauge-base/gauge-base.component */ "./app/gauges/gauge-base/gauge-base.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gauge-property/gauge-property.component */ "./app/gauges/gauge-property/gauge-property.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ShapesComponent = /** @class */ (function (_super) {
    __extends(ShapesComponent, _super);
    function ShapesComponent() {
        return _super.call(this) || this;
    }
    ShapesComponent_1 = ShapesComponent;
    ShapesComponent.prototype.ngOnInit = function () {
    };
    ShapesComponent.getSignals = function (pro) {
        var res = [];
        if (pro.variableId) {
            res.push(pro.variableId);
        }
        if (pro.alarmId) {
            res.push(pro.alarmId);
        }
        if (pro.actions && pro.actions.length) {
            pro.actions.forEach(function (act) {
                res.push(act.variableId);
            });
        }
        return res;
    };
    ShapesComponent.getActions = function () {
        return this.actionsType;
    };
    ShapesComponent.getDialogType = function () {
        return _gauge_property_gauge_property_component__WEBPACK_IMPORTED_MODULE_3__["GaugeDialogType"].RangeWithAlarm;
    };
    ShapesComponent.processValue = function (ga, svgele, sig, gaugeStatus) {
        try {
            if (svgele.node) {
                var value_1 = parseFloat(sig.value);
                if (Number.isNaN(value_1)) {
                    // maybe boolean
                    value_1 = Number(sig.value);
                }
                else {
                    value_1 = parseFloat(value_1.toFixed(5));
                }
                if (ga.property) {
                    if (ga.property.variableId === sig.id && ga.property.ranges) {
                        var fill = '';
                        var stroke = '';
                        for (var idx = 0; idx < ga.property.ranges.length; idx++) {
                            if (ga.property.ranges[idx].min <= value_1 && ga.property.ranges[idx].max >= value_1) {
                                fill = ga.property.ranges[idx].color;
                                stroke = ga.property.ranges[idx].stroke;
                            }
                        }
                        // check if general shape (line/path/fpath/text) to set the stroke 
                        var mode = ga.type.replace('svg-ext-shapes-', '');
                        if (fill) {
                            svgele.node.setAttribute('fill', fill);
                        }
                        if (stroke) {
                            svgele.node.setAttribute('stroke', stroke);
                        }
                    }
                    // check actions
                    if (ga.property.actions) {
                        ga.property.actions.forEach(function (act) {
                            if (act.variableId === sig.id) {
                                ShapesComponent_1.processAction(act, svgele, value_1, gaugeStatus);
                            }
                        });
                    }
                }
            }
        }
        catch (err) {
            console.log(err);
        }
    };
    ShapesComponent.processAction = function (act, svgele, value, gaugeStatus) {
        if (this.actionsType[act.type] === this.actionsType.hide) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionHide(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.show) {
            if (act.range.min <= value && act.range.max >= value) {
                var element = SVG.adopt(svgele.node);
                this.runActionShow(element, act.type, gaugeStatus);
            }
        }
        else if (this.actionsType[act.type] === this.actionsType.blink) {
            var element = SVG.adopt(svgele.node);
            var inRange = (act.range.min <= value && act.range.max >= value);
            this.checkActionBlink(element, act.type, gaugeStatus, inRange, act.options, false);
        }
    };
    ShapesComponent.TypeId = 'shapes';
    ShapesComponent.TypeTag = 'svg-ext-' + ShapesComponent_1.TypeId; // used to identify shapes type, binded with the library svgeditor
    ShapesComponent.LabelTag = 'Shapes';
    ShapesComponent.actionsType = { hide: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].hide, show: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].show, blink: _models_hmi__WEBPACK_IMPORTED_MODULE_2__["GaugeActionsType"].blink };
    ShapesComponent = ShapesComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'gauge-shapes',
            template: __webpack_require__(/*! ./shapes.component.html */ "./app/gauges/shapes/shapes.component.html"),
            styles: [__webpack_require__(/*! ./shapes.component.css */ "./app/gauges/shapes/shapes.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], ShapesComponent);
    return ShapesComponent;
    var ShapesComponent_1;
}(_gauge_base_gauge_base_component__WEBPACK_IMPORTED_MODULE_1__["GaugeBaseComponent"]));



/***/ }),

/***/ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.css":
/*!*********************************************************************!*\
  !*** ./app/gui-helpers/confirm-dialog/confirm-dialog.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.html":
/*!**********************************************************************!*\
  !*** ./app/gui-helpers/confirm-dialog/confirm-dialog.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 100%;position: relative;padding-bottom: 40px\">\r\n    <div style=\"margin-top: 20px;margin-bottom: 20px;\">\r\n        {{msgtoconfirm}}\r\n    </div>\r\n\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [mat-dialog-close]=\"data\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.ts":
/*!********************************************************************!*\
  !*** ./app/gui-helpers/confirm-dialog/confirm-dialog.component.ts ***!
  \********************************************************************/
/*! exports provided: ConfirmDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmDialogComponent", function() { return ConfirmDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var ConfirmDialogComponent = /** @class */ (function () {
    function ConfirmDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.msgtoconfirm = '';
        this.msgtoconfirm = this.data.msg;
    }
    ConfirmDialogComponent.prototype.ngOnInit = function () {
    };
    ConfirmDialogComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    ConfirmDialogComponent.prototype.onOkClick = function () {
        this.dialogRef.close(true);
    };
    ConfirmDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-confirm-dialog',
            template: __webpack_require__(/*! ./confirm-dialog.component.html */ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.html"),
            styles: [__webpack_require__(/*! ./confirm-dialog.component.css */ "./app/gui-helpers/confirm-dialog/confirm-dialog.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], ConfirmDialogComponent);
    return ConfirmDialogComponent;
}());



/***/ }),

/***/ "./app/gui-helpers/fab-button/ngx-fab-button.component.ts":
/*!****************************************************************!*\
  !*** ./app/gui-helpers/fab-button/ngx-fab-button.component.ts ***!
  \****************************************************************/
/*! exports provided: NgxFabButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxFabButtonComponent", function() { return NgxFabButtonComponent; });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _ngx_fab_item_button_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ngx-fab-item-button.component */ "./app/gui-helpers/fab-button/ngx-fab-item-button.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __assign = (undefined && undefined.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NgxFabButtonComponent = /** @class */ (function () {
    function NgxFabButtonComponent(element, cd) {
        this.element = element;
        this.cd = cd;
        this.subs = [];
        this.spaceBetweenButtons = 45;
        this.color = '#dd0031';
        this.disabled = false;
        this.events = new rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"]();
        this.opened = false;
        this.elementref = element.nativeElement;
        this.state = new rxjs__WEBPACK_IMPORTED_MODULE_0__["BehaviorSubject"]({
            display: false,
            direction: 'top',
            event: 'start',
            spaceBetweenButtons: this.spaceBetweenButtons
        });
    }
    NgxFabButtonComponent.prototype.toggle = function () {
        if (this.disabled) {
            return this.disabled;
        }
        this.state.next(__assign({}, this.state.getValue(), { display: !this.state.getValue().display, event: !this.state.getValue().display ? 'open' : 'close' }));
        this.opened = this.state.getValue().display;
    };
    // only top and bottom support content element
    NgxFabButtonComponent.prototype.checkDirectionType = function () {
        if (this.buttons.toArray()) {
            var display_1 = 'block';
            if (this.direction === 'right' || this.direction === 'left') {
                display_1 = 'none';
            }
            this.buttons.toArray().forEach(function (element) {
                element.contentref.nativeElement.style.display = display_1;
            });
        }
    };
    // transition
    NgxFabButtonComponent.prototype.animateButtons = function (eventType) {
        var _this = this;
        this.buttons.toArray().forEach(function (btn, i) {
            i += 1;
            var style = btn.elementref.nativeElement.style;
            if (eventType !== 'directionChanged' && _this.state.getValue().display) {
                style['transform'] = 'scale(1)';
                style['transition-duration'] = '0s';
                if (btn.timeout) {
                    clearTimeout(btn.timeout);
                }
            }
            setTimeout(function () {
                style['transition-duration'] = _this.state.getValue().display ? 90 + (100 * i) + "ms" : '';
                style['transform'] = _this.state.getValue().display ? _this.getTranslate(i) : '';
            }, 50);
            if (eventType !== 'directionChanged' && !_this.state.getValue().display) {
                btn.timeout = setTimeout(function () {
                    style['transform'] = 'scale(0)';
                }, 90 + (100 * i));
            }
        });
    };
    // get transition direction
    NgxFabButtonComponent.prototype.getTranslate = function (i) {
        var animation;
        switch (this.direction) {
            case 'right':
                animation = "translate3d(" + this.state.getValue().spaceBetweenButtons * i + "px,0,0)";
                break;
            case 'bottom':
                animation = "translate3d(0," + this.state.getValue().spaceBetweenButtons * i + "px,0)";
                break;
            case 'left':
                animation = "translate3d(-" + this.state.getValue().spaceBetweenButtons * i + "px,0,0)";
                break;
            default:
                animation = "translate3d(0,-" + this.state.getValue().spaceBetweenButtons * i + "px,0)";
                break;
        }
        return animation;
    };
    /* some problems here */
    // @HostListener('document:click', ['$event.target']) private clickOutside(target) {
    //   if (this.state.getValue().display && !this.elementref.contains(target)) {
    //     this.state.next({
    //       ...this.state.getValue(),
    //       display: false,
    //       event: 'close'
    //     });
    //   }
    // }
    NgxFabButtonComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        if (this.direction) {
            // first time to check
            this.checkDirectionType();
        }
        this.buttons.toArray().map(function (v) {
            var sub = v.clicked.subscribe(function () {
                // this.state.next({
                //   ...this.state.getValue(),
                //   display: false,
                //   event: 'close'
                // });
            });
            _this.subs.push(sub);
        });
        var sub = this.state.subscribe(function (v) {
            _this.animateButtons(v.event);
            _this.events.next({
                display: v.display,
                event: v.event,
                direction: v.direction
            });
        });
        this.subs.push(sub);
    };
    // if @Input values changes, we need check the direction type
    NgxFabButtonComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        if (changes.direction && !changes.direction.firstChange) {
            this.state.next(__assign({}, this.state.getValue(), { event: 'directionChanged', direction: changes.direction.currentValue }));
            // if changes happens
            this.checkDirectionType();
        }
        if (changes.open && changes.open.currentValue) {
            var sub = this.open.subscribe(function (v) {
                if (v !== _this.state.getValue().display) {
                    _this.state.next(__assign({}, _this.state.getValue(), { event: v ? 'open' : 'close', display: v }));
                    // make angular happy
                    _this.cd.markForCheck();
                }
            });
            this.subs.push(sub);
        }
        if (changes.spaceBetweenButtons && changes.spaceBetweenButtons.currentValue) {
            this.state.next(__assign({}, this.state.getValue(), { event: 'spaceBetweenButtonsChanged', spaceBetweenButtons: changes.spaceBetweenButtons.currentValue }));
        }
    };
    NgxFabButtonComponent.prototype.ngOnDestroy = function () {
        this.subs.forEach(function (v) {
            v.unsubscribe();
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabButtonComponent.prototype, "icon", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabButtonComponent.prototype, "iconOpen", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabButtonComponent.prototype, "direction", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", Object)
    ], NgxFabButtonComponent.prototype, "spaceBetweenButtons", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"])
    ], NgxFabButtonComponent.prototype, "open", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", Object)
    ], NgxFabButtonComponent.prototype, "color", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        __metadata("design:type", Object)
    ], NgxFabButtonComponent.prototype, "disabled", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"])
    ], NgxFabButtonComponent.prototype, "events", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
        __metadata("design:type", Object)
    ], NgxFabButtonComponent.prototype, "opened", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ContentChildren"])(_ngx_fab_item_button_component__WEBPACK_IMPORTED_MODULE_1__["NgxFabItemButtonComponent"]),
        __metadata("design:type", Object)
    ], NgxFabButtonComponent.prototype, "buttons", void 0);
    NgxFabButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ChangeDetectionStrategy"].OnPush,
            selector: 'ngx-fab-button',
            styles: ["\n  :host {\n    position: absolute;\n  }\n  .fab-menu {\n      box-sizing: border-box;\n      font-size: 12px;\n      width:40px;\n      height: 40px;\n      text-align: left;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      z-index: 9;\n  }\n  .fab-toggle {\n    border-radius: 100%;\n    width: 36px;\n    height: 36px;\n    color: white;\n    text-align: center;\n    line-height: 50px;\n    transform: translate3d(0, 0, 0);\n    transition: all ease-out 200ms;\n    z-index: 2;\n    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    transition-duration: 400ms;\n    transform: scale(1, 1) translate3d(0, 0, 0);\n    cursor: pointer;\n    box-shadow: 0 2px 5px 0 rgba(0,0,0,.26);\n  }\n  .fab-menu .fab-toggle:hover {\n    transform: scale(1.2, 1.2) translate3d(0, 0, 0);\n  }\n  .fab-menu /deep/ .item {\n     opacity: 0;\n  }\n  .fab-menu.active /deep/ .item {\n     opacity: 1;\n  }\n  .fab-menu.active /deep/ .content-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .fab-menu.active /deep/ .content {\n    display: block;\n  }\n  .fab-menu.active .fab-toggle {\n    transition-timing-function: linear;\n    transition-duration: 200ms;\n    transform: scale(1, 1) translate3d(0, 0, 0);\n  }\n  "],
            template: "\n    <div class=\"fab-menu\" [class.active]=\"(state | async).display\">\n        <a class=\"fab-toggle\" (click)=\"toggle()\" (touchend)=\"toggle()\" [style.backgroundColor]=\"color\">\n          <i class=\"material-icons\" *ngIf=\"!opened\"> {{icon}} </i>\n          <i class=\"material-icons\" *ngIf=\"opened\"> {{iconOpen}} </i>\n        </a>\n        <ng-content></ng-content>\n    </div>\n  "
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_2__["ChangeDetectorRef"]])
    ], NgxFabButtonComponent);
    return NgxFabButtonComponent;
}());



/***/ }),

/***/ "./app/gui-helpers/fab-button/ngx-fab-item-button.component.ts":
/*!*********************************************************************!*\
  !*** ./app/gui-helpers/fab-button/ngx-fab-item-button.component.ts ***!
  \*********************************************************************/
/*! exports provided: NgxFabItemButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxFabItemButtonComponent", function() { return NgxFabItemButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NgxFabItemButtonComponent = /** @class */ (function () {
    function NgxFabItemButtonComponent() {
        this.color = 'white';
        this.clicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.exclicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.disabled = false;
    }
    NgxFabItemButtonComponent.prototype.emitClickEvent = function ($event) {
        if (this.disabled) {
            return this.disabled;
        }
        this.clicked.emit($event);
    };
    NgxFabItemButtonComponent.prototype.emitClickExEvent = function ($event) {
        if (this.disabled) {
            return this.disabled;
        }
        this.exclicked.emit($event);
    };
    NgxFabItemButtonComponent.prototype.stopPropagation = function ($event) {
        $event.stopPropagation();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabItemButtonComponent.prototype, "icon", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabItemButtonComponent.prototype, "svgicon", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabItemButtonComponent.prototype, "iconex", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabItemButtonComponent.prototype, "svgiconex", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxFabItemButtonComponent.prototype, "content", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], NgxFabItemButtonComponent.prototype, "color", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], NgxFabItemButtonComponent.prototype, "clicked", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], NgxFabItemButtonComponent.prototype, "exclicked", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], NgxFabItemButtonComponent.prototype, "disabled", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('elementref'),
        __metadata("design:type", Object)
    ], NgxFabItemButtonComponent.prototype, "elementref", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('contentref'),
        __metadata("design:type", Object)
    ], NgxFabItemButtonComponent.prototype, "contentref", void 0);
    NgxFabItemButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ngx-fab-item-button',
            styles: ["\n  .item {\n    /* width:40px; */\n    height: 36px;\n    left: 3px;\n    /* left: -3px; */\n    transform: translate3d(0, 0, 0);\n    transition: transform, opacity ease-out 200ms;\n    transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\n    transition-duration: 180ms;\n    position: absolute;\n    cursor: pointer;\n    top:5px;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    z-index: 9999;\n  }\n  .item.disabled {\n    pointer-events: none;\n  }\n  .item.disabled .fab-item {\n    background-color: lightgray;\n  }\n  .content {\n    z-index: 9999;\n    background: rgba(68,138,255, 1);\n    margin-left: 0px;\n    line-height: 25px;\n    color: white;\n    /* text-transform: lowercase; */\n    padding: 5px 20px 3px 20px;\n    border-top-right-radius: 18px;\n    border-bottom-right-radius: 18px;\n    border-bottom-left-radius: 18px;\n    border-top-left-radius: 18px;\n    display: none;\n    font-size: 13px;\n    height: 28px;\n    /* margin-top: 4px; */\n    box-shadow: 0 2px 5px 0 rgba(0,0,0,.26);\n    white-space:nowrap;\n  }\n  .fab-item {\n    left: 0;\n    background: rgba(68,138,255, 1);\n    border-radius: 100%;\n    width: 36px;\n    height: 36px;\n    position: absolute;\n    color: white;\n    text-align: center;\n    cursor: pointer;\n    line-height: 50px;\n    /* box-shadow: 0 2px 5px 0 rgba(0,0,0,.26); */\n  }\n  .fab-item-ex {\n    top: 0;\n    background: rgba(68,138,255, 1);\n    border-radius: 100%;\n    width: 36px;\n    height: 36px;\n    position: absolute;\n    color: white;\n    text-align: center;\n    cursor: pointer;\n    line-height: 45px;\n    /* box-shadow: 0 2px 5px 0 rgba(0,0,0,.26); */\n  }\n  .fab-item img {\n    padding-bottom: 2px;\n    padding-left: 5px;\n  }\n  "],
            template: "\n    <div #elementref class=\"item {{ disabled ? 'disabled' : ''}}\"\n    (click)=\"emitClickEvent($event)\">\n        <a class=\"fab-item\" [style.backgroundColor]=\"color\">\n          <img *ngIf=\"svgicon\" src=\"{{svgicon}}\"/>\n          <i class=\"material-icons\" *ngIf=\"!svgicon\"> {{ icon }} </i>\n        </a>\n        <div class=\"content-wrapper\" #contentref>\n          <div class=\"content\" [style.display]=\"content ? 'block' : 'none'\" [style.padding-right]=\"iconex ? '28px' : '20px'\">{{content}}\n            <a class=\"fab-item-ex\" [style.backgroundColor]=\"color\" *ngIf=\"iconex\" (click)=\"stopPropagation($event);emitClickExEvent($event)\">\n                <i class=\"material-icons\" style=\"font-size: 18px\"> {{ iconex }} </i>\n            </a>\n          </div>\n        </div>\n    </div>\n  ",
            changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
        })
    ], NgxFabItemButtonComponent);
    return NgxFabItemButtonComponent;
}());



/***/ }),

/***/ "./app/gui-helpers/mat-select-search/mat-select-search.component.html":
/*!****************************************************************************!*\
  !*** ./app/gui-helpers/mat-select-search/mat-select-search.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<input matInput class=\"mat-select-search-input mat-select-search-hidden\" />\r\n\r\n<div class=\"mat-select-search-inner\" [ngClass]=\"{'mat-select-search-inner-multiple': matSelect.multiple}\">\r\n    <input matInput class=\"mat-select-search-input\" #searchSelectInput (keydown)=\"_handleKeydown($event)\" (input)=\"onInputChange($event.target.value)\"\r\n        (blur)=\"onBlur($event.target.value)\" [placeholder]=\"placeholderLabel\" />\r\n    <button mat-button *ngIf=\"value\" mat-icon-button aria-label=\"Clear\" (click)=\"_reset(true)\" class=\"mat-select-search-clear\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n</div>\r\n\r\n<div *ngIf=\"noEntriesFoundLabel && value && _options?.length === 0\" class=\"mat-select-search-no-entries-found\">\r\n    {{noEntriesFoundLabel}}\r\n</div>"

/***/ }),

/***/ "./app/gui-helpers/mat-select-search/mat-select-search.component.scss":
/*!****************************************************************************!*\
  !*** ./app/gui-helpers/mat-select-search/mat-select-search.component.scss ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-select-search-hidden{visibility:hidden}.mat-select-search-inner{position:absolute;top:0;width:calc(100% + 22px);border-bottom:1px solid #cccccc;background:white;z-index:100}.mat-select-search-inner.mat-select-search-inner-multiple{width:calc(\r 100% + 55px)}::ng-deep .mat-select-search-panel{-webkit-transform:none !important;transform:none !important;max-height:350px}.mat-select-search-input{padding:16px;padding-right:36px;box-sizing:border-box;font-size:15px;border:none}.mat-select-search-no-entries-found{padding:16px}.mat-select-search-clear{position:absolute;right:0;top:4px}::ng-deep .cdk-overlay-pane-select-search{margin-top:40px}\n"

/***/ }),

/***/ "./app/gui-helpers/mat-select-search/mat-select-search.component.ts":
/*!**************************************************************************!*\
  !*** ./app/gui-helpers/mat-select-search/mat-select-search.component.ts ***!
  \**************************************************************************/
/*! exports provided: MatSelectSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatSelectSearchComponent", function() { return MatSelectSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






/* tslint:disable:member-ordering */
/**
 * Component providing an input field for searching MatSelect options.
 *
 * Example usage:
 *
 * interface Bank {
 *  id: string;
 *  name: string;
 * }
 *
 * @Component({
 *   selector: 'my-app-data-selection',
 *   template: `
 *     <mat-form-field>
 *       <mat-select [formControl]="bankCtrl" placeholder="Bank">
 *         <mat-select-search [formControl]="bankFilterCtrl"></mat-select-search>
 *         <mat-option *ngFor="let bank of filteredBanks | async" [value]="bank.id">
 *           {{bank.name}}
 *         </mat-option>
 *       </mat-select>
 *     </mat-form-field>
 *   `
 * })
 * export class DataSelectionComponent implements OnInit, OnDestroy {
 *
 *   // control for the selected bank
 *   public bankCtrl: FormControl = new FormControl();
 *   // control for the MatSelect filter keyword
 *   public bankFilterCtrl: FormControl = new FormControl();
 *
 *   // list of banks
 *   private banks: Bank[] = [{name: 'Bank A', id: 'A'}, {name: 'Bank B', id: 'B'}, {name: 'Bank C', id: 'C'}];
 *   // list of banks filtered by search keyword
 *   public filteredBanks: ReplaySubject<Bank[]> = new ReplaySubject<Bank[]>(1);
 *
 *   // Subject that emits when the component has been destroyed.
 *   private _onDestroy = new Subject<void>();
 *
 *
 *   ngOnInit() {
 *     // load the initial bank list
 *     this.filteredBanks.next(this.banks.slice());
 *     // listen for search field value changes
 *     this.bankFilterCtrl.valueChanges
 *       .pipe(takeUntil(this._onDestroy))
 *       .subscribe(() => {
 *         this.filterBanks();
 *       });
 *   }
 *
 *   ngOnDestroy() {
 *     this._onDestroy.next();
 *     this._onDestroy.complete();
 *   }
 *
 *   private filterBanks() {
 *     if (!this.banks) {
 *       return;
 *     }
 *
 *     // get the search keyword
 *     let search = this.bankFilterCtrl.value;
 *     if (!search) {
 *       this.filteredBanks.next(this.banks.slice());
 *       return;
 *     } else {
 *       search = search.toLowerCase();
 *     }
 *
 *     // filter the banks
 *     this.filteredBanks.next(
 *       this.banks.filter(bank => bank.name.toLowerCase().indexOf(search) > -1)
 *     );
 *   }
 * }
 */
var MatSelectSearchComponent = /** @class */ (function () {
    function MatSelectSearchComponent(matSelect, translateService, changeDetectorRef) {
        this.matSelect = matSelect;
        this.translateService = translateService;
        this.changeDetectorRef = changeDetectorRef;
        /** Label of the search placeholder */
        this.placeholderLabel = '';
        /** Label to be shown when no entries are found. Set to null if no message should be shown. */
        this.noEntriesFoundLabel = '';
        this.onChange = function (_) { };
        this.onTouched = function (_) { };
        /** Whether the backdrop class has been set */
        this.overlayClassSet = false;
        /** Event that emits when the current value changes */
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /** Subject that emits when the component has been destroyed. */
        this._onDestroy = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
    }
    MatSelectSearchComponent_1 = MatSelectSearchComponent;
    Object.defineProperty(MatSelectSearchComponent.prototype, "value", {
        /** Current search value */
        get: function () {
            return this._value;
        },
        enumerable: true,
        configurable: true
    });
    MatSelectSearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        // set custom panel class
        var panelClass = 'mat-select-search-panel';
        if (this.matSelect.panelClass) {
            if (Array.isArray(this.matSelect.panelClass)) {
                this.matSelect.panelClass.push(panelClass);
            }
            else if (typeof this.matSelect.panelClass === 'string') {
                this.matSelect.panelClass = [this.matSelect.panelClass, panelClass];
            }
            else if (typeof this.matSelect.panelClass === 'object') {
                this.matSelect.panelClass[panelClass] = true;
            }
        }
        else {
            this.matSelect.panelClass = panelClass;
        }
        // when the select dropdown panel is opened or closed
        this.matSelect.openedChange
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this._onDestroy))
            .subscribe(function (opened) {
            if (opened) {
                // focus the search field when opening
                _this._focus();
            }
            else {
                // clear it when closing
                _this._reset();
            }
        });
        // set the first item active after the options changed
        this.matSelect.openedChange
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["take"])(1))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this._onDestroy))
            .subscribe(function () {
            _this._options = _this.matSelect.options;
            _this._options.changes
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(_this._onDestroy))
                .subscribe(function () {
                var keyManager = _this.matSelect._keyManager;
                if (keyManager && _this.matSelect.panelOpen) {
                    // avoid "expression has been changed" error
                    setTimeout(function () {
                        keyManager.setFirstItemActive();
                    });
                }
            });
        });
        // detect changes when the input changes
        this.change
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this._onDestroy))
            .subscribe(function () {
            _this.changeDetectorRef.detectChanges();
        });
        this.initMultipleHandling();
    };
    MatSelectSearchComponent.prototype.ngOnDestroy = function () {
        this._onDestroy.next();
        this._onDestroy.complete();
    };
    MatSelectSearchComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.setOverlayClass();
        this.translateService.get('general.search').subscribe(function (txt) { _this.placeholderLabel = txt; });
        this.translateService.get('general.search-notfound').subscribe(function (txt) { _this.noEntriesFoundLabel = txt; });
    };
    /**
     * Handles the key down event with MatSelect.
     * Allows e.g. selecting with enter key, navigation with arrow keys, etc.
     * @param {KeyboardEvent} event
     * @private
     */
    MatSelectSearchComponent.prototype._handleKeydown = function (event) {
        if (event.keyCode === 32) {
            // do not propagate spaces to MatSelect, as this would select the currently active option
            event.stopPropagation();
        }
    };
    MatSelectSearchComponent.prototype.writeValue = function (value) {
        var valueChanged = value !== this._value;
        if (valueChanged) {
            this._value = value;
            this.change.emit(value);
        }
    };
    MatSelectSearchComponent.prototype.onInputChange = function (value) {
        var valueChanged = value !== this._value;
        if (valueChanged) {
            this._value = value;
            this.onChange(value);
            this.change.emit(value);
        }
    };
    MatSelectSearchComponent.prototype.onBlur = function (value) {
        this.writeValue(value);
        this.onTouched();
    };
    MatSelectSearchComponent.prototype.registerOnChange = function (fn) {
        this.onChange = fn;
    };
    MatSelectSearchComponent.prototype.registerOnTouched = function (fn) {
        this.onTouched = fn;
    };
    /**
     * Focuses the search input field
     * @private
     */
    MatSelectSearchComponent.prototype._focus = function () {
        if (!this.searchSelectInput) {
            return;
        }
        // save and restore scrollTop of panel, since it will be reset by focus()
        // note: this is hacky
        var panel = this.matSelect.panel.nativeElement;
        var scrollTop = panel.scrollTop;
        // focus
        this.searchSelectInput.nativeElement.focus();
        panel.scrollTop = scrollTop;
    };
    /**
     * Resets the current search value
     * @param {boolean} focus whether to focus after resetting
     * @private
     */
    MatSelectSearchComponent.prototype._reset = function (focus) {
        if (!this.searchSelectInput) {
            return;
        }
        this.searchSelectInput.nativeElement.value = '';
        this.onInputChange('');
        if (focus) {
            this._focus();
        }
    };
    /**
     * Sets the overlay class  to correct offsetY
     * so that the selected option is at the position of the select box when opening
     */
    MatSelectSearchComponent.prototype.setOverlayClass = function () {
        var _this = this;
        if (this.overlayClassSet) {
            return;
        }
        var overlayClass = 'cdk-overlay-pane-select-search';
        this.matSelect.overlayDir.attach
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this._onDestroy))
            .subscribe(function () {
            // note: this is hacky, but currently there is no better way to do this
            _this.searchSelectInput.nativeElement.parentElement.parentElement
                .parentElement.parentElement.parentElement.classList.add(overlayClass);
        });
        this.overlayClassSet = true;
    };
    /**
     * Initializes handling <mat-select [multiple]="true">
     * Note: to improve this code, mat-select should be extended to allow disabling resetting the selection while filtering.
     */
    MatSelectSearchComponent.prototype.initMultipleHandling = function () {
        var _this = this;
        // if <mat-select [multiple]="true">
        // store previously selected values and restore them when they are deselected
        // because the option is not available while we are currently filtering
        this.matSelect.valueChange
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this._onDestroy))
            .subscribe(function (values) {
            if (_this.matSelect.multiple) {
                var restoreSelectedValues_1 = false;
                if (_this._value && _this._value.length
                    && _this.previousSelectedValues && Array.isArray(_this.previousSelectedValues)) {
                    if (!values || !Array.isArray(values)) {
                        values = [];
                    }
                    var optionValues_1 = _this.matSelect.options.map(function (option) { return option.value; });
                    _this.previousSelectedValues.forEach(function (previousValue) {
                        if (values.indexOf(previousValue) === -1 && optionValues_1.indexOf(previousValue) === -1) {
                            // if a value that was selected before is deselected and not found in the options, it was deselected
                            // due to the filtering, so we restore it.
                            values.push(previousValue);
                            restoreSelectedValues_1 = true;
                        }
                    });
                }
                if (restoreSelectedValues_1) {
                    _this.matSelect._onChange(values);
                }
                _this.previousSelectedValues = values;
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MatSelectSearchComponent.prototype, "placeholderLabel", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MatSelectSearchComponent.prototype, "noEntriesFoundLabel", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('searchSelectInput', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], MatSelectSearchComponent.prototype, "searchSelectInput", void 0);
    MatSelectSearchComponent = MatSelectSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'mat-select-search',
            template: __webpack_require__(/*! ./mat-select-search.component.html */ "./app/gui-helpers/mat-select-search/mat-select-search.component.html"),
            styles: [__webpack_require__(/*! ./mat-select-search.component.scss */ "./app/gui-helpers/mat-select-search/mat-select-search.component.scss")],
            providers: [
                {
                    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
                    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return MatSelectSearchComponent_1; }),
                    multi: true
                }
            ],
            changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSelect"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSelect"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]])
    ], MatSelectSearchComponent);
    return MatSelectSearchComponent;
    var MatSelectSearchComponent_1;
}());



/***/ }),

/***/ "./app/gui-helpers/mat-select-search/mat-select-search.module.ts":
/*!***********************************************************************!*\
  !*** ./app/gui-helpers/mat-select-search/mat-select-search.module.ts ***!
  \***********************************************************************/
/*! exports provided: MatSelectSearchModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatSelectSearchModule", function() { return MatSelectSearchModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _mat_select_search_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat-select-search.component */ "./app/gui-helpers/mat-select-search/mat-select-search.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "../node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var MatSelectSearchModule = /** @class */ (function () {
    function MatSelectSearchModule() {
    }
    MatSelectSearchModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"]
            ],
            declarations: [
                _mat_select_search_component__WEBPACK_IMPORTED_MODULE_1__["MatSelectSearchComponent"]
            ],
            exports: [
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"],
                _mat_select_search_component__WEBPACK_IMPORTED_MODULE_1__["MatSelectSearchComponent"]
            ]
        })
    ], MatSelectSearchModule);
    return MatSelectSearchModule;
}());



/***/ }),

/***/ "./app/gui-helpers/ngx-gauge/gaugeOptions.ts":
/*!***************************************************!*\
  !*** ./app/gui-helpers/ngx-gauge/gaugeOptions.ts ***!
  \***************************************************/
/*! exports provided: GaugeType, GaugeOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeType", function() { return GaugeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaugeOptions", function() { return GaugeOptions; });
var GaugeType;
(function (GaugeType) {
    GaugeType[GaugeType["Gauge"] = 0] = "Gauge";
    GaugeType[GaugeType["Donut"] = 1] = "Donut";
    GaugeType[GaugeType["Zones"] = 2] = "Zones";
})(GaugeType || (GaugeType = {}));
var GaugeOptions = /** @class */ (function () {
    function GaugeOptions() {
        this.minValue = 0;
        this.maxValue = 3000;
        this.animationSpeed = 40;
        this.colorStart = '#6fadcf';
        this.colorStop = '#6fadcf';
        this.gradientType = '';
        this.strokeColor = '#e0e0e0';
        this.pointer = {
            length: 0.5,
            strokeWidth: 0.035,
            iconScale: 1.0,
            color: '#000000'
        };
        this.angle = 0;
        this.lineWidth = 0.3;
        this.radiusScale = 0.6;
        this.fontSize = 18;
        this.textFilePosition = 20;
        this.limitMax = false;
        this.limitMin = false;
        this.highDpiSupport = true;
        this.backgroundColor = 'rgba(255, 255, 255, 0)';
        this.shadowColor = '#d5d5d5';
        this.fractionDigits = 0;
        this.ticksEnabled = true;
        this.renderTicks = {
            divisions: 5,
            divWidth: 1.1,
            divLength: 0.7,
            divColor: '#333333',
            subDivisions: 3,
            subLength: 0.5,
            subWidth: 0.6,
            subColor: '#666666'
        };
        this.staticLabelsText = '200;500;2100;2800';
        this.staticFontSize = 10;
        this.staticFontColor = '#000000';
        this.staticLabels = {
            font: '10px sans-serif',
            labels: [200, 500, 2100, 2800],
            fractionDigits: 0,
            color: '#000000'
        };
        this.staticZones = [
            { strokeStyle: "#F03E3E", min: 0, max: 200 },
            { strokeStyle: "#FFDD00", min: 200, max: 500 },
            { strokeStyle: "#30B32D", min: 500, max: 2100 },
            { strokeStyle: "#FFDD00", min: 2100, max: 2800 },
            { strokeStyle: "#F03E3E", min: 2800, max: 3000 }
        ];
    }
    return GaugeOptions;
}());



/***/ }),

/***/ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.css":
/*!***********************************************************!*\
  !*** ./app/gui-helpers/ngx-gauge/ngx-gauge.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.mygauge-container {\r\n    z-index: 1;\r\n    position: relative;\r\n    width: 100%; \r\n    height:100%;\r\n    padding: 20;\r\n}\r\n\r\n.mygauge-canvas {\r\n    margin: 0;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n            transform: translate(-50%, -50%);\r\n}\r\n\r\n.mygauge-value {\r\n    text-align: center; \r\n    font-size: 18px; \r\n    font-weight: bold;\r\n    color: black; \r\n    font-family: 'Amaranth', sans-serif;\r\n    position: absolute; \r\n    top: 5px; \r\n    left: 0; \r\n    right: 0;\r\n}"

/***/ }),

/***/ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.html":
/*!************************************************************!*\
  !*** ./app/gui-helpers/ngx-gauge/ngx-gauge.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div (window:resize)=\"onResize($event)\" class=\"mygauge-container\" #panel>\r\n    <div #gaugetext class=\"mygauge-value\"></div>\r\n    <canvas #gauge id=\"myGauge\" width=\"180\" height=\"50\" class=\"mygauge-canvas\"></canvas>\r\n</div>"

/***/ }),

/***/ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.ts":
/*!**********************************************************!*\
  !*** ./app/gui-helpers/ngx-gauge/ngx-gauge.component.ts ***!
  \**********************************************************/
/*! exports provided: NgxGaugeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxGaugeComponent", function() { return NgxGaugeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gaugeOptions */ "./app/gui-helpers/ngx-gauge/gaugeOptions.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var NgxGaugeComponent = /** @class */ (function () {
    function NgxGaugeComponent() {
        this.type = _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__["GaugeType"].Gauge;
        this.defOptions = new _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__["GaugeOptions"]();
    }
    NgxGaugeComponent.prototype.ngOnInit = function () {
        this.options = Object.assign(this.defOptions, this.options);
    };
    NgxGaugeComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            _this.onResize(null);
        }, 500);
    };
    NgxGaugeComponent.prototype.ngOnChanges = function (changes) {
        if (this.gauge) {
            if (changes) {
                if (changes.value) {
                    this.gauge.set(changes.value.currentValue);
                }
            }
        }
    };
    NgxGaugeComponent.prototype.onResize = function (event) {
        var canvas = this.canvas.nativeElement;
        var w = canvas.parentNode.clientWidth;
        var h = canvas.parentNode.clientHeight; // - (canvas.parentNode.clientHeight / 4);
        if (w < h)
            h = w;
        this.canvas.nativeElement.height = h;
        this.canvas.nativeElement.width = w;
        this.init(this.type);
    };
    NgxGaugeComponent.prototype.resize = function (height, width) {
        this.onResize(null);
    };
    NgxGaugeComponent.prototype.setValue = function (value) {
        var val = parseFloat(value);
        if (Number.isNaN(val)) {
            // maybe boolean
            val = Number(value);
        }
        else {
            val = parseFloat(val.toFixed(5));
        }
        this.gauge.set(val);
    };
    NgxGaugeComponent.prototype.setOptions = function (options) {
        this.options = options;
        // if (options.backgroundColor) {
        //     this.panel.nativeElement.style.backgroundColor = options.backgroundColor;
        // }
        this.gauge.animationSpeed = options.animationSpeed;
        this.gauge.minValue = options.minValue;
        this.gauge.maxValue = options.maxValue;
        this.gaugetext.nativeElement.style.fontSize = options.fontSize + 'px';
        if (options.fontFamily) {
            this.gaugetext.nativeElement.style.fontFamily = options.fontFamily;
        }
        if (options.pointer && options.pointer.color) {
            this.gaugetext.nativeElement.style.color = options.pointer.color;
        }
        this.gaugetext.nativeElement.style.top = options.textFilePosition + '%';
        this.gauge.setOptions(options);
        this.gauge.ctx.clearRect(0, 0, this.gauge.ctx.canvas.width, this.gauge.ctx.canvas.height);
        this.gauge.render();
    };
    NgxGaugeComponent.prototype.getOptions = function () {
        return this.options;
    };
    NgxGaugeComponent.prototype.init = function (type) {
        this.type = type;
        if (type === _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__["GaugeType"].Gauge) {
            this.gauge = new Gauge(this.canvas.nativeElement);
            this.gauge.setTextField(this.gaugetext.nativeElement);
        }
        else if (type === _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__["GaugeType"].Zones) {
            this.gauge = new Gauge(this.canvas.nativeElement);
            this.gauge.setTextField(this.gaugetext.nativeElement);
        }
        else if (type === _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__["GaugeType"].Donut) {
            this.gauge = new Donut(this.canvas.nativeElement);
            this.gauge.setTextField(this.gaugetext.nativeElement);
        }
        this.setOptions(this.options);
        this.gauge.set(this.value);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxGaugeComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _gaugeOptions__WEBPACK_IMPORTED_MODULE_1__["GaugeOptions"])
    ], NgxGaugeComponent.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], NgxGaugeComponent.prototype, "value", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('panel'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxGaugeComponent.prototype, "panel", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('gauge'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxGaugeComponent.prototype, "canvas", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('gaugetext'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxGaugeComponent.prototype, "gaugetext", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('window:resize', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], NgxGaugeComponent.prototype, "onResize", null);
    NgxGaugeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ngx-gauge',
            template: __webpack_require__(/*! ./ngx-gauge.component.html */ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.html"),
            styles: [__webpack_require__(/*! ./ngx-gauge.component.css */ "./app/gui-helpers/ngx-gauge/ngx-gauge.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], NgxGaugeComponent);
    return NgxGaugeComponent;
}());



/***/ }),

/***/ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.css":
/*!*********************************************************************!*\
  !*** ./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".myslider-container {\r\n    z-index: 1;\r\n    margin: auto;\r\n}"

/***/ }),

/***/ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.html":
/*!**********************************************************************!*\
  !*** ./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"margin: 40px 40px 40px 40px\" #panel>\r\n    <div #slider id=\"mySlider\" class=\"myslider-container\"></div>\r\n</div>"

/***/ }),

/***/ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.ts":
/*!********************************************************************!*\
  !*** ./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.ts ***!
  \********************************************************************/
/*! exports provided: NgxNouisliderComponent, NgxNouisliderOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxNouisliderComponent", function() { return NgxNouisliderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxNouisliderOptions", function() { return NgxNouisliderOptions; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NgxNouisliderComponent = /** @class */ (function () {
    function NgxNouisliderComponent() {
        this.size = { w: 0, h: 0 };
        this.padding = 40;
        this.defOptions = new NgxNouisliderOptions();
        this.uiWorking = false;
    }
    NgxNouisliderComponent.prototype.ngOnInit = function () {
        this.options = Object.assign(this.defOptions, this.options);
    };
    NgxNouisliderComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            _this.init();
        }, 200);
    };
    NgxNouisliderComponent.prototype.resize = function (height, width) {
        this.size.h = height - (2 * this.padding);
        this.size.w = width - (2 * this.padding);
        this.init();
    };
    NgxNouisliderComponent.prototype.ngOnDestroy = function () {
        try {
            this.slider.nativeElement.remove();
            this.panel.nativeElement.remove();
            if (this.uiWorkingTimeout) {
                clearTimeout(this.uiWorkingTimeout);
            }
            if (this.uiSlider) {
                this.uiSlider.off();
                this.uiSlider.destroy();
                delete this.uiSlider;
                delete this.onUpdate;
            }
        }
        catch (e) {
        }
    };
    NgxNouisliderComponent.prototype.setOptions = function (options) {
        var toInit = false;
        if (this.options.orientation !== options.orientation || JSON.stringify(this.options.range) !== JSON.stringify(options.range) ||
            JSON.stringify(this.options.pips) !== JSON.stringify(options.pips) || JSON.stringify(this.options.marker) !== JSON.stringify(options.marker) ||
            JSON.stringify(this.options.tooltip) !== JSON.stringify(options.tooltip)) {
            toInit = true;
        }
        if (options.fontFamily) {
            this.panel.nativeElement.style.fontFamily = options.fontFamily;
        }
        this.options = options;
        if (toInit) {
            this.init();
            return true;
        }
        return false;
    };
    NgxNouisliderComponent.prototype.getOptions = function () {
        return this.options;
    };
    NgxNouisliderComponent.prototype.init = function () {
        if (this.options.orientation === 'vertical') {
            this.slider.nativeElement.style.height = this.size.h + "px";
            this.slider.nativeElement.style.width = null;
        }
        else {
            this.slider.nativeElement.style.width = this.size.w + "px";
            this.slider.nativeElement.style.height = null;
        }
        var tooltip = [false];
        if (this.options.tooltip.type === 'hide' || this.options.tooltip.type === 'show') {
            tooltip = [wNumb({ decimals: this.options.tooltip.decimals })];
        }
        if (this.uiSlider) {
            this.uiSlider.off();
            this.uiSlider.destroy();
        }
        this.uiSlider = noUiSlider.create(this.slider.nativeElement, {
            start: [this.options.range.min + Math.abs(this.options.range.max - this.options.range.min) / 2],
            connect: [true, false],
            orientation: this.options.orientation,
            direction: this.options.direction,
            tooltips: tooltip,
            range: this.options.range,
            step: this.options.step,
            pips: {
                mode: 'values',
                values: this.options.pips.values,
                density: this.options.pips.density,
            },
            shape: this.options.shape,
            marker: this.options.marker,
        });
        // tooltip
        if (this.options.tooltip.type === 'show') {
            var tp = this.uiSlider.target.getElementsByClassName('noUi-tooltip');
            if (tp && tp.length > 0)
                tp[0].style.display = 'block';
        }
        else if (this.options.tooltip.type === 'hide') {
            var tp = this.uiSlider.target.getElementsByClassName('noUi-active noUi-tooltip');
            if (tp && tp.length > 0)
                tp[0].style.display = 'block';
        }
        if (this.options.tooltip.type !== 'none') {
            var tp = this.uiSlider.target.getElementsByClassName('noUi-tooltip');
            if (tp && tp.length > 0) {
                tp[0].style.color = this.options.tooltip.color;
                tp[0].style.background = this.options.tooltip.background;
                tp[0].style.fontSize = this.options.tooltip.fontSize + 'px';
            }
        }
        var self = this;
        this.uiSlider.on('slide', function (values, handle) {
            if (self.onUpdate) {
                self.resetWorkingTimeout();
                self.onUpdate(values[handle]);
            }
        });
    };
    NgxNouisliderComponent.prototype.resetWorkingTimeout = function () {
        this.uiWorking = true;
        if (this.uiWorkingTimeout) {
            clearTimeout(this.uiWorkingTimeout);
        }
        var self = this;
        this.uiWorkingTimeout = setTimeout(function () {
            self.uiWorking = false;
        }, 1000);
    };
    NgxNouisliderComponent.prototype.setValue = function (value) {
        if (!this.uiWorking) {
            this.uiSlider.set(value);
        }
    };
    NgxNouisliderComponent.prototype.bindUpdate = function (calback) {
        this.onUpdate = calback;
    };
    NgxNouisliderComponent.prototype.currentValue = function () {
        return parseFloat(this.uiSlider.get());
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxNouisliderComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('panel'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxNouisliderComponent.prototype, "panel", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('slider'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxNouisliderComponent.prototype, "slider", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", NgxNouisliderOptions)
    ], NgxNouisliderComponent.prototype, "options", void 0);
    NgxNouisliderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ngx-nouislider',
            template: __webpack_require__(/*! ./ngx-nouislider.component.html */ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.html"),
            styles: [__webpack_require__(/*! ./ngx-nouislider.component.css */ "./app/gui-helpers/ngx-nouislider/ngx-nouislider.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], NgxNouisliderComponent);
    return NgxNouisliderComponent;
}());

var NgxNouisliderOptions = /** @class */ (function () {
    function NgxNouisliderOptions() {
        this.orientation = 'vertical'; //'horizontal';
        this.direction = 'ltr';
        this.fontFamily = 'Sans-serif';
        this.shape = { baseColor: '#dcdcdc', connectColor: '#49b2ff', handleColor: '#018ef5' };
        this.marker = { color: '#000', subWidth: 5, subHeight: 1, fontSize: 18, divHeight: 2, divWidth: 12 };
        this.range = { min: 0, max: 100 };
        this.step = 1;
        this.pips = { mode: 'values', values: [0, 50, 100], density: 4 };
        this.tooltip = { type: 'none', decimals: 0, background: '#FFF', color: '#000', fontSize: 12 };
    }
    return NgxNouisliderOptions;
}());



/***/ }),

/***/ "./app/gui-helpers/ngx-switch/ngx-switch.component.css":
/*!*************************************************************!*\
  !*** ./app/gui-helpers/ngx-switch/ngx-switch.component.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gui-helpers/ngx-switch/ngx-switch.component.html":
/*!**************************************************************!*\
  !*** ./app/gui-helpers/ngx-switch/ngx-switch.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<label class=\"md-switch\" [style.borderRadius]=\"options.radius + 'px'\">\r\n    <div class=\"toggle-button\" #toggler>\r\n        <input type=\"checkbox\" (change)=\"onClick()\" #switcher>\r\n        <div class=\"inner-circle\" #slider style=\"text-align: center;line-height: inherit;\" [style.fontSize]=\"options.fontSize + 'px'\" [style.fontFamily]=\"options.fontFamily\">\r\n        </div>\r\n    </div>\r\n</label>\r\n\r\n"

/***/ }),

/***/ "./app/gui-helpers/ngx-switch/ngx-switch.component.ts":
/*!************************************************************!*\
  !*** ./app/gui-helpers/ngx-switch/ngx-switch.component.ts ***!
  \************************************************************/
/*! exports provided: NgxSwitchComponent, SwitchOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxSwitchComponent", function() { return NgxSwitchComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwitchOptions", function() { return SwitchOptions; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NgxSwitchComponent = /** @class */ (function () {
    function NgxSwitchComponent() {
        this.options = new SwitchOptions();
        this.checked = false;
    }
    NgxSwitchComponent.prototype.ngAfterViewInit = function () {
        this.onRefresh();
    };
    NgxSwitchComponent.prototype.onClick = function () {
        this.onRefresh();
        if (this.onUpdate) {
            this.onUpdate((this.checked) ? this.options.onValue.toString() : this.options.offValue.toString());
        }
    };
    NgxSwitchComponent.prototype.onRefresh = function () {
        this.checked = this.switcher.nativeElement.checked;
        this.toggler.nativeElement.classList.toggle('active', this.checked);
        if (this.switcher.nativeElement.checked) {
            this.toggler.nativeElement.style.backgroundColor = this.options.onBackground;
            this.slider.nativeElement.style.backgroundColor = this.options.onSliderColor;
            this.slider.nativeElement.style.color = this.options.onTextColor;
            this.slider.nativeElement.innerHTML = this.options.onText;
        }
        else {
            this.toggler.nativeElement.style.backgroundColor = this.options.offBackground;
            this.slider.nativeElement.style.backgroundColor = this.options.offSliderColor;
            this.slider.nativeElement.style.color = this.options.offTextColor;
            this.slider.nativeElement.innerHTML = this.options.offText;
        }
        this.slider.nativeElement.style.lineHeight = this.options.height + 'px';
    };
    NgxSwitchComponent.prototype.setOptions = function (options, force) {
        var _this = this;
        if (force === void 0) { force = false; }
        if (force) {
            this.options = options;
            this.onRefresh();
        }
        else {
            setTimeout(function () {
                _this.options = options;
                _this.onRefresh();
            }, 200);
        }
        return true;
    };
    NgxSwitchComponent.prototype.setValue = function (value) {
        this.switcher.nativeElement.checked = (value) ? true : false;
        this.onRefresh();
    };
    NgxSwitchComponent.prototype.bindUpdate = function (calback) {
        this.onUpdate = calback;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('switcher'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxSwitchComponent.prototype, "switcher", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('slider'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxSwitchComponent.prototype, "slider", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('toggler'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxSwitchComponent.prototype, "toggler", void 0);
    NgxSwitchComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ngx-switch',
            template: __webpack_require__(/*! ./ngx-switch.component.html */ "./app/gui-helpers/ngx-switch/ngx-switch.component.html"),
            styles: [__webpack_require__(/*! ./ngx-switch.component.css */ "./app/gui-helpers/ngx-switch/ngx-switch.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], NgxSwitchComponent);
    return NgxSwitchComponent;
}());

var SwitchOptions = /** @class */ (function () {
    function SwitchOptions() {
        this.offValue = 0;
        this.onValue = 1;
        this.offBackground = '#ccc';
        this.onBackground = '#ccc';
        this.offText = '';
        this.onText = '';
        this.offSliderColor = '#fff';
        this.onSliderColor = '#0CC868';
        this.offTextColor = '#000';
        this.onTextColor = '#fff';
        this.fontSize = 12;
        this.fontFamily = '';
        this.radius = 0;
    }
    return SwitchOptions;
}());



/***/ }),

/***/ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.css":
/*!***********************************************************!*\
  !*** ./app/gui-helpers/ngx-uplot/ngx-uplot.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.html":
/*!************************************************************!*\
  !*** ./app/gui-helpers/ngx-uplot/ngx-uplot.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #graph>\r\n</div>"

/***/ }),

/***/ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.ts":
/*!**********************************************************!*\
  !*** ./app/gui-helpers/ngx-uplot/ngx-uplot.component.ts ***!
  \**********************************************************/
/*! exports provided: NgxUplotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgxUplotComponent", function() { return NgxUplotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NgxUplotComponent = /** @class */ (function () {
    function NgxUplotComponent() {
        var _this = this;
        this.xtime = [new Date().getTime() / 1000 - 1, new Date().getTime() / 1000]; // start and sample x time
        this.sampleData = [this.xtime, [35, 71]];
        this.xTimeFormat = { hh_mm_ss: "{HH}:{mm}:{ss}", hh_mm_ss_AA: "{h}:{mm}:{ss} {AA}" };
        this.xDateFormat = {};
        this.fmtDate = uPlot.fmtDate("{DD}/{MM}/{YY} {HH}:{mm}:{ss}");
        this.sampleSerie = [
            {
                value: function (self, rawValue) { return _this.fmtDate(new Date(rawValue * 1e3)); }
            },
            {
                // initial toggled state (optional)
                show: true,
                spanGaps: false,
                // // in-legend display
                label: "Serie",
                value: function (self, rawValue) { return rawValue.toFixed(_this.options.decimalsPrecision); },
                // // series style
                stroke: "red",
                width: 1,
                fill: "rgba(255, 0, 0, 0.3)",
                dash: [10, 5],
            }
        ];
        this.defOptions = {
            title: "Default Chart",
            id: "defchart",
            class: "my-chart",
            width: 800,
            height: 600,
            legend: { show: true, width: 1 },
            scales: {
                x: {
                    time: true,
                },
            },
            series: this.sampleSerie,
        };
        this.languageLabels = { time: 'Time', serie: 'Serie', title: 'Title' };
    }
    NgxUplotComponent.prototype.getShortTimeFormat = function (min) {
        if (min === void 0) { min = true; }
        if (this.options && this.options.timeFormat === 'hh_mm_ss_AA') {
            if (min)
                return "{h}:{mm} {AA}";
            return "{h} {AA}";
        }
        if (min)
            return "{HH}:{mm}";
        return "{HH}";
    };
    NgxUplotComponent.prototype.checkDateFormat = function () {
        this.xDateFormat = {
            YYYY_MM_DD: {
                legendDate: '{YYYY}/{MM}/{DD}',
                values: [
                    // tick incr default: year (3600 * 24 * 365), month(3600 * 24 * 28), day(3600 * 24), hour, min, sec, mode
                    [31536000, "{YYYY}", null, null, null, null, null, null, 1],
                    [2419200, "{MMM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [86400, "{DD}/{MM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [3600, "" + this.getShortTimeFormat(false), "\n{YYYY}/{MM}/{DD}", null, "\n{DD}/{MM}", null, null, null, 1],
                    [60, "" + this.getShortTimeFormat(), "\n{YYYY}/{MM}/{DD}", null, "\n{DD}/{MM}", null, null, null, 1],
                    [1, ":{ss}", "\n{YYYY}/{MM}/{DD} " + this.getShortTimeFormat(), null, "\n{DD}/{MM} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1],
                    [0.001, ":{ss}.{fff}", "\n{YYYY}/{MM}/{DD} " + this.getShortTimeFormat(), null, "\n{DD}/{MM} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1]
                ]
            },
            MM_DD_YYYY: {
                legendDate: '{MM}/{DD}/{YYYY}',
                values: [
                    // tick incr default: year (3600 * 24 * 365), month(3600 * 24 * 28), day(3600 * 24), hour, min, sec, mode
                    [31536000, "{YYYY}", null, null, null, null, null, null, 1],
                    [2419200, "{MMM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [86400, "{MM}/{DD}", "\n{YYYY}", null, null, null, null, null, 1],
                    [3600, "" + this.getShortTimeFormat(false), "\n{MM}/{DD}/{YYYY}", null, "\n{MM}/{DD}", null, null, null, 1],
                    [60, "" + this.getShortTimeFormat(), "\n{MM}/{DD}/{YYYY}", null, "\n{MM}/{DD}", null, null, null, 1],
                    [1, ":{ss}", "\n{MM}/{DD}/{YYYY} " + this.getShortTimeFormat(), null, "\n{MM}/{DD} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1],
                    [0.001, ":{ss}.{fff}", "\n{MM}/{DD}/{YYYY} " + this.getShortTimeFormat(), null, "\n{MM}/{DD} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1]
                ]
            },
            DD_MM_YYYY: {
                legendDate: '{DD}/{MM}/{YYYY}',
                values: [
                    // tick incr default: year (3600 * 24 * 365), month(3600 * 24 * 28), day(3600 * 24), hour, min, sec, mode
                    [31536000, "{YYYY}", null, null, null, null, null, null, 1],
                    [2419200, "{MMM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [86400, "{DD}/{MM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [3600, "" + this.getShortTimeFormat(false), "\n{DD}/{MM}/{YYYY}", null, "\n{DD}/{MM}", null, null, null, 1],
                    [60, "" + this.getShortTimeFormat(), "\n{DD}/{MM}/{YYYY}", null, "\n{DD}/{MM}", null, null, null, 1],
                    [1, ":{ss}", "\n{DD}/{MM}/{YYYY} " + this.getShortTimeFormat(), null, "\n{DD}/{MM} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1],
                    [0.001, ":{ss}.{fff}", "\n{DD}/{MM}/{YYYY} " + this.getShortTimeFormat(), null, "\n{DD}/{MM} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1]
                ]
            },
            MM_DD_YY: {
                legendDate: '{MM}/{DD}/{YY}',
                values: [
                    // tick incr default: year (3600 * 24 * 365), month(3600 * 24 * 28), day(3600 * 24), hour, min, sec, mode
                    [31536000, "{YYYY}", null, null, null, null, null, null, 1],
                    [2419200, "{MMM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [86400, "{MM}/{DD}", "\n{YYYY}", null, null, null, null, null, 1],
                    [3600, "" + this.getShortTimeFormat(false), "\n{MM}/{DD}/{YY}", null, "\n{MM}/{DD}", null, null, null, 1],
                    [60, "" + this.getShortTimeFormat(), "\n{MM}/{DD}/{YY}", null, "\n{MM}/{DD}", null, null, null, 1],
                    [1, ":{ss}", "\n{MM}/{DD}/{YY} " + this.getShortTimeFormat(), null, "\n{MM}/{DD} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1],
                    [0.001, ":{ss}.{fff}", "\n{MM}/{DD}/{YY} " + this.getShortTimeFormat(), null, "\n{MM}/{DD} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1]
                ]
            },
            DD_MM_YY: {
                legendDate: '{DD}/{MM}/{YY}',
                values: [
                    // tick incr default: year (3600 * 24 * 365), month(3600 * 24 * 28), day(3600 * 24), hour, min, sec, mode
                    [31536000, "{YYYY}", null, null, null, null, null, null, 1],
                    [2419200, "{MMM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [86400, "{DD}/{MM}", "\n{YYYY}", null, null, null, null, null, 1],
                    [3600, "" + this.getShortTimeFormat(false), "\n{DD}/{MM}/{YY}", null, "\n{DD}/{MM}", null, null, null, 1],
                    [60, "" + this.getShortTimeFormat(), "\n{DD}/{MM}/{YY}", null, "\n{DD}/{MM}", null, null, null, 1],
                    [1, ":{ss}", "\n{DD}/{MM}/{YY} " + this.getShortTimeFormat(), null, "\n{DD}/{MM} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1],
                    [0.001, ":{ss}.{fff}", "\n{DD}/{MM}/{YY} " + this.getShortTimeFormat(), null, "\n{DD}/{MM} " + this.getShortTimeFormat(), null, "\n" + this.getShortTimeFormat(), null, 1]
                ]
            },
        };
    };
    NgxUplotComponent.prototype.ngOnInit = function () {
        this.options = this.defOptions;
        this.uplot = new uPlot(this.defOptions, this.sampleData, this.graph.nativeElement);
    };
    NgxUplotComponent.prototype.ngAfterViewInit = function () {
    };
    NgxUplotComponent.prototype.ngOnDestroy = function () {
        try {
            this.uplot.destroy();
        }
        catch (e) {
            console.log(e);
        }
    };
    NgxUplotComponent.prototype.resize = function (height, width) {
        var chart = this.graph.nativeElement;
        if (!height) {
            height = chart.clientHeight;
        }
        if (!width) {
            width = chart.clientWidth;
        }
        this.uplot.setSize({ height: height, width: width });
        // this.uplot.redraw(false, true);
    };
    NgxUplotComponent.prototype.init = function (options) {
        var _this = this;
        this.data = [[]];
        if (options) {
            this.options = options;
            if (!options.id) {
                this.data = this.sampleData;
                this.options.series = this.sampleSerie;
            }
            else {
                // this.data = this.sampleData;
                this.data = [this.xtime];
            }
        }
        var opt = this.options || this.defOptions;
        if (this.uplot) {
            this.uplot.destroy();
        }
        // set x axis format (date/time)
        this.checkDateFormat();
        if (this.options.dateFormat && this.xDateFormat[this.options.dateFormat] && this.options.timeFormat && this.xTimeFormat[this.options.timeFormat]) {
            this.fmtDate = uPlot.fmtDate(this.xDateFormat[this.options.dateFormat].legendDate + ' ' + this.xTimeFormat[this.options.timeFormat]);
            this.options.axes[0].values = this.xDateFormat[this.options.dateFormat].values;
        }
        this.sampleSerie[1].label = this.languageLabels.serie;
        if (this.options.series.length > 0) {
            this.options.series[0].value = function (self, rawValue) { return _this.fmtDate(new Date(rawValue * 1e3)); };
            this.options.series[0].label = this.languageLabels.time;
        }
        if (this.options.axes.length > 0) {
            this.options.axes[0].label = this.languageLabels.time;
        }
        if (!this.options.title) {
            this.options.title = this.languageLabels.title;
        }
        // set plugins
        opt.plugins = (this.options.tooltip && this.options.tooltip.show) ? [this.tooltipPlugin()] : [];
        this.uplot = new uPlot(opt, this.data, this.graph.nativeElement);
    };
    NgxUplotComponent.prototype.setOptions = function (options) {
        this.options = options;
        this.init(this.options);
    };
    NgxUplotComponent.prototype.addSerie = function (index, attribute) {
        this.data.push([null, null]);
        this.uplot.addSeries(attribute, index);
        this.uplot.setData(this.data);
    };
    NgxUplotComponent.prototype.setSample = function () {
        var sample = [this.xtime];
        for (var i = 0; i < this.uplot.series.length; i++) {
            sample.push([Math.floor(Math.random() * 20), Math.floor(Math.random() * 30)]);
        }
        this.setData(sample);
    };
    NgxUplotComponent.prototype.setData = function (data) {
        if (data === void 0) { data = [[]]; }
        this.data = data;
        this.uplot.setData(this.data);
    };
    NgxUplotComponent.prototype.setXScala = function (min, max) {
        this.uplot.setScale('x', { min: min, max: max });
    };
    NgxUplotComponent.prototype.addValue = function (index, x, y, size) {
        var xpos = this.data[0].indexOf(x);
        if (xpos < 0) {
            this.data[0].push(x);
            for (var i = 0; i < this.data.length; i++) {
                if (i === index) {
                    this.data[i].push(y);
                }
                else if (i) {
                    this.data[i].push(null);
                }
            }
        }
        else {
            this.data[index][xpos] = y;
        }
        // remove data out of size
        var min = x - size;
        if (this.data[0][0] < min) {
            for (var i = 0; i < this.data.length; i++) {
                this.data[i].shift();
            }
        }
        this.uplot.setData(this.data);
    };
    NgxUplotComponent.prototype.redraw = function (flag) {
        if (flag === void 0) { flag = false; }
        this.uplot.redraw(flag);
    };
    NgxUplotComponent.prototype.checkAxisOptions = function () {
    };
    NgxUplotComponent.prototype.tooltipPlugin = function (opts) {
        var _this = this;
        if (opts === void 0) { opts = null; }
        var over, bound, bLeft, bTop;
        function syncBounds() {
            var bbox = over.getBoundingClientRect();
            bLeft = bbox.left;
            bTop = bbox.top;
        }
        var overlay = document.createElement("div");
        overlay.id = "overlay";
        overlay.style.display = "none";
        overlay.style.position = "absolute";
        document.body.appendChild(overlay);
        return {
            hooks: {
                init: function (u) {
                    over = u.root.querySelector(".u-over");
                    bound = over;
                    //	bound = document.body;
                    over.onmouseenter = function () {
                        overlay.style.display = "block";
                    };
                    over.onmouseleave = function () {
                        overlay.style.display = "none";
                    };
                },
                setSize: function (u) {
                    syncBounds();
                },
                setCursor: function (u) {
                    var _a = u.cursor, left = _a.left, top = _a.top, idx = _a.idx;
                    var x = u.data[0][idx];
                    var anchor = { left: left + bLeft, top: top + bTop };
                    var time = _this.fmtDate(new Date(x * 1e3));
                    var xdiv = "<div class=\"ut-head\">" + u.series[0].label + ": " + time + "</div>";
                    var series = '';
                    for (var i = 1; i < u.series.length; i++) {
                        var value = '';
                        try {
                            if (!isNaN(u.data[i][idx])) {
                                if (u.data[i][idx].toString().indexOf('.') != -1) {
                                    value = u.data[i][idx].toFixed(_this.options.decimalsPrecision);
                                }
                                else {
                                    value = u.data[i][idx];
                                }
                            }
                        }
                        catch (_b) { }
                        series = series + ("<div class=\"ut-serie\"><div class=\"ut-marker\" style=\"border-color: " + u.series[i]._stroke + "\"></div>" + u.series[i].label + ": <div class=\"ut-value\">" + value + "</div></div>");
                    }
                    overlay.innerHTML = xdiv + series; // + `${x},${y} at ${Math.round(left)},${Math.round(top)}`;
                    placement(overlay, anchor, "right", "start", { bound: bound });
                }
            }
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], NgxUplotComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], NgxUplotComponent.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('graph'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], NgxUplotComponent.prototype, "graph", void 0);
    NgxUplotComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ngx-uplot',
            template: __webpack_require__(/*! ./ngx-uplot.component.html */ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.html"),
            styles: [__webpack_require__(/*! ./ngx-uplot.component.css */ "./app/gui-helpers/ngx-uplot/ngx-uplot.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], NgxUplotComponent);
    return NgxUplotComponent;
}());



/***/ }),

/***/ "./app/gui-helpers/sel-options/sel-options.component.css":
/*!***************************************************************!*\
  !*** ./app/gui-helpers/sel-options/sel-options.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/gui-helpers/sel-options/sel-options.component.html":
/*!****************************************************************!*\
  !*** ./app/gui-helpers/sel-options/sel-options.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-selection-list *ngIf=\"extSelected\" #extGroups [(ngModel)]=\"extSelected\" style=\"display: inline-block; width: 40px;padding-top: 0px; padding-bottom: 10px;\" [disabled]=\"disabled\">\n\t<mat-list-option *ngFor=\"let opt of options\" [selected]=\"opt.selected\" [value]=\"opt\" style=\"height: 26px;cursor: pointer;\" checkboxPosition=\"before\">\n\t</mat-list-option>\t\n</mat-selection-list>\n<mat-selection-list #selGroups [(ngModel)]=\"selected\" style=\"display: inline-block; padding-top: 0px; padding-bottom: 10px;\" [disabled]=\"disabled\">\n\t<mat-list-option *ngFor=\"let opt of options\" [selected]=\"opt.selected\" [value]=\"opt\" style=\"font-size: 14px;height: 26px !important;cursor: pointer;\" checkboxPosition=\"before\">\n\t\t{{opt.label}}\n\t</mat-list-option>\n</mat-selection-list>"

/***/ }),

/***/ "./app/gui-helpers/sel-options/sel-options.component.ts":
/*!**************************************************************!*\
  !*** ./app/gui-helpers/sel-options/sel-options.component.ts ***!
  \**************************************************************/
/*! exports provided: SelOptionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelOptionsComponent", function() { return SelOptionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SelOptionsComponent = /** @class */ (function () {
    function SelOptionsComponent() {
        this.selected = [];
        this.options = [];
    }
    SelOptionsComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], SelOptionsComponent.prototype, "disabled", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], SelOptionsComponent.prototype, "selected", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], SelOptionsComponent.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], SelOptionsComponent.prototype, "extSelected", void 0);
    SelOptionsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'sel-options',
            template: __webpack_require__(/*! ./sel-options.component.html */ "./app/gui-helpers/sel-options/sel-options.component.html"),
            styles: [__webpack_require__(/*! ./sel-options.component.css */ "./app/gui-helpers/sel-options/sel-options.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], SelOptionsComponent);
    return SelOptionsComponent;
}());



/***/ }),

/***/ "./app/gui-helpers/treetable/treetable.component.css":
/*!***********************************************************!*\
  !*** ./app/gui-helpers/treetable/treetable.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\r\n    overflow: auto;\r\n}\r\n\r\n.item {\r\n    width: 100%;\r\n    height: 40px;\r\n}\r\n\r\n.item:hover {\r\n    background-color: rgba(0,0,0,0.1);\r\n}\r\n\r\n.item-text {\r\n    width: 500px;\r\n    position: relative;\r\n    display: inline-block;\r\n    overflow: hidden; \r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n\r\n.item-text div {\r\n    display: inline-block;\r\n    overflow-wrap: break-word;\r\n    text-overflow: ellipsis;\r\n    /* word-wrap: break-word; */\r\n    white-space: nowrap;\r\n}\r\n\r\n.item-property {\r\n    position: relative;\r\n    /* left: 400px; */\r\n    width: 400px;\r\n    display: inline-block;\r\n    overflow: hidden; \r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    line-height: 40px;\r\n}\r\n\r\n.item-info {\r\n    position: relative;\r\n    /* left: 400px; */\r\n    width: 200px;\r\n    display: inline-block;\r\n    overflow: hidden; \r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    line-height: 40px;\r\n}\r\n\r\n.item-check {\r\n    float: right;\r\n    margin-right: 20px;\r\n    line-height: 32px;\r\n    /* display: inline-block; */\r\n}\r\n\r\n.item-waiting {\r\n    /* -moz-transition: height .5s;\r\n    -ms-transition: height .5s;\r\n    -o-transition: height .5s;\r\n    -webkit-transition: height .5s;\r\n    transition: height .5s; */\r\n    display:inline-block;\r\n    height: 40;\r\n    vertical-align: middle;\r\n    /* width: 80%; */\r\n    overflow: hidden;\r\n}\r\n   "

/***/ }),

/***/ "./app/gui-helpers/treetable/treetable.component.html":
/*!************************************************************!*\
  !*** ./app/gui-helpers/treetable/treetable.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #treetable class=\"container\" [style.height]=\"containerProperty.height\" [style.width]=\"containerProperty.width\">\r\n\t<div *lazyFor=\"let node of list; index as i\" class=\"item\">\r\n\t\t<div *ngIf=\"node.visible\" [ngSwitch]=\"treeType\">\r\n\t\t\t<div *ngSwitchCase=\"TypeOfTree.Standard\">\r\n\t\t\t\t<div class=\"item-text\" [style.left.px]=\"node.childPos * 15\" [style.width.px]=\"500 - node.childPos * 15\">\r\n\t\t\t\t\t<button mat-icon-button (click)=\"onExpandToggle(node)\" [disabled]=\"!node.childs\">\r\n\t\t\t\t\t\t<mat-icon *ngIf=\"node.expanded\">expand_more</mat-icon>\r\n\t\t\t\t\t\t<mat-icon *ngIf=\"!node.expanded\">chevron_right</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div *ngIf=\"!node.childs.length\" class=\"item-waiting\" style=\"width:40px\" [ngStyle]=\"{'display': (node.expanded) ? 'inline-block' : 'none'}\">\r\n\t\t\t\t\t\t<mat-spinner diameter=\"20\"></mat-spinner>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button mat-icon-button enabled=\"false\" *ngIf=\"node.class === nodeType.Variable\">\r\n\t\t\t\t\t\t<mat-icon>label</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{{node.text}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"item-property\" [style.left.px]=\"node.childPos * 15\">\r\n\t\t\t\t\t{{node.property}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"item-check\">\r\n\t\t\t\t\t<mat-checkbox [(ngModel)]=\"node.checked\" *ngIf=\"node.class == nodeType.Variable\" [disabled]=\"!node.enabled\" (change)=\"changeStatus(node,$event)\"></mat-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngSwitchCase=\"TypeOfTree.ToDefine\">\r\n\t\t\t\t<div class=\"item-text\" [style.left.px]=\"node.childPos * 15\" [style.width.px]=\"600 - node.childPos * 15\">\r\n\t\t\t\t\t<button mat-icon-button (click)=\"onExpandToggle(node)\" *ngIf=\"node.expandable\">\r\n\t\t\t\t\t\t<mat-icon *ngIf=\"node.expanded\">expand_more</mat-icon>\r\n\t\t\t\t\t\t<mat-icon *ngIf=\"!node.expanded\">chevron_right</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button mat-icon-button *ngIf=\"node.class === nodeType.Variable || node.class === nodeType.Item\">\r\n\t\t\t\t\t\t<mat-icon>label</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{{node.text}}\r\n\t\t\t\t\t<div *ngIf=\"node.class === nodeType.Array\">\r\n\t\t\t\t\t\t<span style=\"margin-left: 15px;margin-right: 5px;\">{{'device.tag-array-id' | translate}}</span>\r\n\t\t\t\t\t\t<mat-select [(value)]=\"node.todefine.id\" style=\"width: 120px\">\r\n\t\t\t\t\t\t\t<mat-option *ngFor=\"let key of node.todefine.options\" [value]=\"key\">\r\n\t\t\t\t\t\t\t\t{{ key }}\r\n\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t</mat-select>\r\n\t\t\t\t\t\t<span style=\"margin-left: 15px;margin-right: 5px;\">{{'device.tag-array-value' | translate}}</span>\r\n\t\t\t\t\t\t<mat-select [(value)]=\"node.todefine.value\" style=\"width: 120px\">\r\n\t\t\t\t\t\t\t<mat-option *ngFor=\"let key of node.todefine.options\" [value]=\"key\">\r\n\t\t\t\t\t\t\t\t{{ key }}\r\n\t\t\t\t\t\t\t</mat-option>\r\n\t\t\t\t\t\t</mat-select>\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"item-info\" [style.left.px]=\"node.childPos * 15\">\r\n\t\t\t\t\t{{node.property}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"item-check\">\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t<mat-checkbox [(ngModel)]=\"node.checked\" *ngIf=\"node.text && (node.class == nodeType.Variable)\"\r\n\t\t\t\t\t\t[disabled]=\"!node.enabled\" (change)=\"changeStatus(node,$event)\"></mat-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n</div>"

/***/ }),

/***/ "./app/gui-helpers/treetable/treetable.component.ts":
/*!**********************************************************!*\
  !*** ./app/gui-helpers/treetable/treetable.component.ts ***!
  \**********************************************************/
/*! exports provided: TreetableComponent, Node, NodeType, TreeType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreetableComponent", function() { return TreetableComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Node", function() { return Node; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NodeType", function() { return NodeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeType", function() { return TreeType; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TreetableComponent = /** @class */ (function () {
    function TreetableComponent() {
        this.expand = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.TypeOfTree = TreeType;
        this.treeType = TreeType.Standard;
        this.nodeType = NodeType;
        this.nodes = {};
        this.list = [];
        this.containerProperty = { width: '100%', height: '100%' };
    }
    TreetableComponent.prototype.ngOnInit = function () {
        if (this.config) {
            if (this.config.width) {
                this.containerProperty.width = this.config.width;
            }
            if (this.config.height) {
                this.containerProperty.height = this.config.height;
            }
            if (this.config.type === TreeType.ToDefine) {
                this.treeType = TreeType.ToDefine;
            }
        }
    };
    TreetableComponent.prototype.onExpandToggle = function (node, event) {
        var _this = this;
        var currentPosition = this.treetable.nativeElement.scrollTop;
        node.expanded = (node.expanded) ? false : true;
        if (node.expanded) {
            if (!node.childs.length) {
                this.expand.emit(node);
            }
            this.hideNode(node, true);
        }
        else {
            this.hideNode(node, false);
        }
        this.list = this.nodeToItems((this.treeType === TreeType.ToDefine) ? false : true);
        setTimeout(function () { _this.treetable.nativeElement.scrollTop = currentPosition; }, 1);
    };
    TreetableComponent.prototype.hideNode = function (node, visible) {
        var _this = this;
        Object.values(node.childs).forEach(function (n) {
            n.visible = visible;
            _this.hideNode(n, (visible) ? n.expanded : visible);
        });
    };
    TreetableComponent.prototype.addNode = function (node, parent, enabled) {
        if (parent) {
            var refp = this.nodes[parent.id];
            node.setParent(refp);
            if (node.parent) {
                node.parent.waiting = false;
            }
            node.enabled = enabled;
            if (!enabled) {
                node.checked = true;
            }
        }
        if (Object.keys(this.nodes).indexOf(node.id) < 0) {
            this.nodes[node.id] = node;
        }
    };
    TreetableComponent.prototype.update = function (sort) {
        if (sort === void 0) { sort = true; }
        this.list = this.nodeToItems(sort);
    };
    TreetableComponent.prototype.setNodeProperty = function (node, pro) {
        if (this.nodes[node.id]) {
            this.nodes[node.id].property = pro;
            this.nodes[node.id].type = node.type;
        }
    };
    TreetableComponent.prototype.nodeToItems = function (sort) {
        if (sort === void 0) { sort = true; }
        if (this.nodes && Object.values(this.nodes).length) {
            var result_1 = [];
            Object.values(this.nodes).forEach(function (value) {
                if (value.visible) {
                    result_1.push(value);
                }
            });
            if (sort) {
                return result_1.sort(function (a, b) { return (a.path > b.path) ? 1 : -1; });
            }
            else {
                return result_1;
            }
        }
        else {
            return [];
        }
    };
    TreetableComponent.prototype.changeStatus = function (node, $event) {
    };
    TreetableComponent.prototype.expandable = function (type) {
        if (type === NodeType.Object) {
            return true;
        }
        else {
            return false;
        }
    };
    TreetableComponent.prototype.getDefinedKey = function (todefine) {
        return '';
    };
    TreetableComponent.prototype.getToDefineOptions = function (todefine) {
        return Object.keys(todefine.options);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], TreetableComponent.prototype, "config", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], TreetableComponent.prototype, "expand", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('treetable'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], TreetableComponent.prototype, "treetable", void 0);
    TreetableComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ngx-treetable',
            template: __webpack_require__(/*! ./treetable.component.html */ "./app/gui-helpers/treetable/treetable.component.html"),
            styles: [__webpack_require__(/*! ./treetable.component.css */ "./app/gui-helpers/treetable/treetable.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], TreetableComponent);
    return TreetableComponent;
}());

var Node = /** @class */ (function () {
    function Node(id, text) {
        this.id = '';
        this.path = '';
        this.text = '';
        this.childPos = 0;
        this.expandable = true;
        this.expanded = false;
        this.visible = true;
        this.parent = null;
        this.property = '';
        this.type = ''; // boolean, int ...
        this.checked = false;
        this.childs = [];
        this.waiting = true;
        this.enabled = true;
        this.todefine = null;
        this.id = id;
        this.text = text;
        this.path = this.text;
    }
    Node.prototype.setParent = function (parent) {
        if (parent) {
            this.parent = parent;
            this.path = parent.path + Node.SEPARATOR + this.text;
            this.childPos = parent.childPos + 1;
            this.parent.childs.push(this);
        }
    };
    Node.prototype.setToDefine = function () {
        this.todefine = { options: [''], id: '', value: '' };
    };
    Node.prototype.addToDefine = function (opt) {
        if (this.todefine && this.todefine.options.indexOf(opt) === -1) {
            this.todefine.options.push(opt);
        }
    };
    Node.strToType = function (str) {
        if (NodeType[str]) {
            return NodeType[str];
        }
        return str;
    };
    Node.SEPARATOR = '>';
    return Node;
}());

var NodeType;
(function (NodeType) {
    NodeType[NodeType["Unspecified"] = 0] = "Unspecified";
    NodeType[NodeType["Object"] = 1] = "Object";
    NodeType[NodeType["Variable"] = 2] = "Variable";
    NodeType[NodeType["Methode"] = 4] = "Methode";
    NodeType[NodeType["ObjectType"] = 8] = "ObjectType";
    NodeType[NodeType["VariableType"] = 16] = "VariableType";
    NodeType[NodeType["ReferenceType"] = 32] = "ReferenceType";
    NodeType[NodeType["DataType"] = 64] = "DataType";
    NodeType[NodeType["View"] = 128] = "View";
    NodeType[NodeType["Array"] = 256] = "Array";
    NodeType[NodeType["Item"] = 512] = "Item";
    NodeType[NodeType["Reference"] = 1024] = "Reference"; // JSON
})(NodeType || (NodeType = {}));
var TreeType;
(function (TreeType) {
    TreeType["Standard"] = "standard";
    TreeType["ToDefine"] = "todefine"; // property to define (key and value)
})(TreeType || (TreeType = {}));


/***/ }),

/***/ "./app/header/header.component.css":
/*!*****************************************!*\
  !*** ./app/header/header.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.header-panel {\r\n    z-index: 1000 !important;\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: rgba(33,33,33,0.92);\r\n    color: rgba(255,255,255,1);\r\n    height: 40px;\r\n    width: 200px;\r\n}\r\n\r\n.header-help {\r\n    z-index: 9999 !important;\r\n    position: fixed;\r\n    top: 0px;\r\n    right: 25px;\r\n    /* background-color: rgba(33,33,33,0.92); */\r\n    color: rgba(255,255,255,1);\r\n    height: 36px;\r\n    width: 36px;\r\n\r\n}\r\n\r\n.main-btn {\r\n    height: 34px;\r\n    width: 34px;\r\n    min-width: unset !important;\r\n    padding:unset !important;\r\n    line-height: 34px;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n  }\r\n\r\n.main-btn mat-icon {\r\n    font-size: 24px;\r\n    height: unset;\r\n    width: unset;\r\n  }\r\n\r\n.header-menu {\r\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2); \r\n}\r\n\r\n.header-icon {\r\n    padding: 0 14px;\r\n}\r\n\r\n.menu-separator {\r\n    border-top-color: rgba(0,0,0,1);\r\n}\r\n\r\n::ng-deep .leftbar-item-menu {\r\n    background-color: rgba(47,47,47,1);\r\n}\r\n\r\n::ng-deep .mat-menu-item {\r\n    font-size: 11px;\r\n    color: rgba(255,255,255,1);\r\n    height: 30px !important;\r\n    line-height: unset !important;\r\n  }"

/***/ }),

/***/ "./app/header/header.component.html":
/*!******************************************!*\
  !*** ./app/header/header.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"header-panel\" *ngIf=\"ineditor\">\r\n    <button mat-button title=\"{{'header.save-project' | translate}}\" [matMenuTriggerFor]=\"prjview\" #prjviewtrigger=\"matMenuTrigger\" class=\"main-btn\">\r\n        <mat-icon aria-label=\"Save Project\">save</mat-icon>\r\n    </button>\r\n    <mat-menu #prjview=\"matMenu\" class=\"leftbar-item-menu header-menu\" yPosition=\"below\" [overlapTrigger]=\"false\">\r\n        <button mat-menu-item (click)=\"onNewProject()\">{{'header.new-project' | translate}}</button>\r\n        <mat-divider class=\"menu-separator\"></mat-divider>\r\n        <button mat-menu-item (click)=\"onSaveProject()\">{{'header.save-project' | translate}}</button>\r\n        <button mat-menu-item (click)=\"onSaveProjectAs()\">{{'header.saveas-project' | translate}}</button>\r\n        <mat-divider class=\"menu-separator\"></mat-divider>\r\n        <button mat-menu-item (click)=\"onOpenProject();$event.stopPropagation()\">{{'header.open-project' | translate}}</button>\r\n        <!-- <button mat-menu-item (click)=\"onImportVariable();$event.stopPropagation()\">Import Variable</button> -->\r\n        <input type=\"file\" #fileImportInput style=\"display: none\" id=\"projectFileUpload\" (change)=\"onFileChangeListener($event)\" accept=\".fuxap,.json\" />\r\n    </mat-menu>\r\n    <button mat-button title=\"{{'header.edit-project' | translate}}\" class=\"main-btn\" (click)=\"onSetup()\">\r\n        <mat-icon aria-label=\"Edit Views\">settings</mat-icon>\r\n    </button>\r\n\r\n</div>\r\n<div class=\"header-help\" *ngIf=\"ineditor\">\r\n    <button mat-button title=\"{{'header.help' | translate}}\" [matMenuTriggerFor]=\"helpmenu\" class=\"main-btn\" style=\"padding-top: 3px !important;\">\r\n        <mat-icon aria-label=\"HELP\">help_outline</mat-icon>\r\n    </button>\r\n    <mat-menu #helpmenu=\"matMenu\" class=\"leftbar-item-menu header-menu\" yPosition=\"below\" [overlapTrigger]=\"false\">\r\n        <button mat-menu-item (click)=\"onShowHelp('help')\">{{'header.help-tutorial' | translate}}</button>\r\n        <mat-divider class=\"menu-separator\"></mat-divider>\r\n        <button mat-menu-item (click)=\"onShowHelp('info')\">{{'header.help-info' | translate}}</button>\r\n    </mat-menu>\r\n</div>\r\n<app-tutorial #tutorial></app-tutorial>\r\n"

/***/ }),

/***/ "./app/header/header.component.ts":
/*!****************************************!*\
  !*** ./app/header/header.component.ts ***!
  \****************************************/
/*! exports provided: HeaderComponent, DialogInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderComponent", function() { return HeaderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogInfo", function() { return DialogInfo; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../environments/environment */ "./environments/environment.ts");
/* harmony import */ var _editor_setup_setup_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../editor/setup/setup.component */ "./app/editor/setup/setup.component.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _help_tutorial_tutorial_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../help/tutorial/tutorial.component */ "./app/help/tutorial/tutorial.component.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var HeaderComponent = /** @class */ (function () {
    function HeaderComponent(router, dialog, translateService, projectService) {
        var _this = this;
        this.router = router;
        this.dialog = dialog;
        this.translateService = translateService;
        this.projectService = projectService;
        this.ineditor = false;
        this.savededitor = false;
        this.router.events.subscribe(function () {
            _this.ineditor = (_this.router.url.indexOf('editor') >= 0 || _this.router.url.indexOf('device') >= 0 ||
                _this.router.url.indexOf('users') >= 0 || _this.router.url.indexOf('text') >= 0 || _this.router.url.indexOf('messages') >= 0) ? true : false;
            _this.savededitor = (_this.router.url.indexOf('device') >= 0 || _this.router.url.indexOf('users') >= 0 ||
                _this.router.url.indexOf('text') >= 0 || _this.router.url.indexOf('messages') >= 0) ? true : false;
        });
    }
    HeaderComponent.prototype.ngOnInit = function () {
    };
    HeaderComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionShowHelp) {
                this.subscriptionShowHelp.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    HeaderComponent.prototype.onClick = function (targetElement) {
        this.sidenav.close();
    };
    HeaderComponent.prototype.onShowHelp = function (page) {
        var data = new _models_hmi__WEBPACK_IMPORTED_MODULE_6__["HelpData"]();
        data.page = page;
        data.tag = 'device';
        this.showHelp(data);
    };
    HeaderComponent.prototype.onSetup = function () {
        this.projectService.saveProject(_services_project_service__WEBPACK_IMPORTED_MODULE_5__["SaveMode"].Current);
        var dialogRef = this.dialog.open(_editor_setup_setup_component__WEBPACK_IMPORTED_MODULE_4__["SetupComponent"], {
            position: { top: '60px' },
        });
    };
    HeaderComponent.prototype.showHelp = function (data) {
        if (data.page === 'help') {
            this.tutorial.show = true;
        }
        else if (data.page === 'info') {
            this.showInfo();
        }
    };
    HeaderComponent.prototype.showInfo = function () {
        var dialogRef = this.dialog.open(DialogInfo, {
            data: { name: 'Info', version: _environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].version }
        });
        dialogRef.afterClosed().subscribe(function (result) {
        });
    };
    HeaderComponent.prototype.goTo = function (destination) {
        this.router.navigate([destination]); //, this.ID]);
    };
    //#region Project Events
    HeaderComponent.prototype.onNewProject = function () {
        try {
            var msg_1 = '';
            this.translateService.get('msg.project-save-ask').subscribe(function (txt) { msg_1 = txt; });
            if (window.confirm(msg_1)) {
                // this.projectService.saveProject(SaveMode.Save);
                this.projectService.setNewProject();
            }
        }
        catch (e) {
        }
    };
    /**
     * Aave Project as JSON file and Download in Browser
     */
    HeaderComponent.prototype.onSaveProjectAs = function () {
        try {
            if (this.savededitor) {
                this.projectService.saveAs();
            }
            else {
                this.projectService.saveProject(_services_project_service__WEBPACK_IMPORTED_MODULE_5__["SaveMode"].SaveAs);
            }
        }
        catch (e) {
        }
    };
    HeaderComponent.prototype.onOpenProject = function () {
        var ele = document.getElementById('projectFileUpload');
        ele.click();
    };
    /**
     * open Project event file loaded
     * @param event file resource
     */
    HeaderComponent.prototype.onFileChangeListener = function (event) {
        var _this = this;
        var text = [];
        var files = event.srcElement.files;
        var input = event.target;
        var reader = new FileReader();
        reader.onload = function (data) {
            var prj = JSON.parse(reader.result.toString());
            _this.projectService.setProject(prj, true);
        };
        reader.onerror = function () {
            var msg = 'Unable to read ' + input.files[0];
            // this.translateService.get('msg.project-load-error', {value: input.files[0]}).subscribe((txt: string) => { msg = txt });
            alert(msg);
        };
        reader.readAsText(input.files[0]);
        this.fileImportInput.nativeElement.value = null;
    };
    /**
     * save Project and Download in Browser
     */
    HeaderComponent.prototype.onSaveProject = function () {
        try {
            this.projectService.saveProject(_services_project_service__WEBPACK_IMPORTED_MODULE_5__["SaveMode"].Save);
        }
        catch (e) {
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav'),
        __metadata("design:type", Object)
    ], HeaderComponent.prototype, "sidenav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('tutorial'),
        __metadata("design:type", _help_tutorial_tutorial_component__WEBPACK_IMPORTED_MODULE_7__["TutorialComponent"])
    ], HeaderComponent.prototype, "tutorial", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('fileImportInput'),
        __metadata("design:type", Object)
    ], HeaderComponent.prototype, "fileImportInput", void 0);
    HeaderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            moduleId: module.i,
            selector: 'app-header',
            template: __webpack_require__(/*! ./header.component.html */ "./app/header/header.component.html"),
            styles: [__webpack_require__(/*! ./header.component.css */ "./app/header/header.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__["TranslateService"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_5__["ProjectService"]])
    ], HeaderComponent);
    return HeaderComponent;
}());

var DialogInfo = /** @class */ (function () {
    function DialogInfo(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    DialogInfo.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogInfo = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-info',
            template: __webpack_require__(/*! ./info.dialog.html */ "./app/header/info.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], DialogInfo);
    return DialogInfo;
}());



/***/ }),

/***/ "./app/header/info.dialog.html":
/*!*************************************!*\
  !*** ./app/header/info.dialog.html ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width:280px\">\r\n    <div mat-dialog-title style=\"display:inline-block\">\r\n        <div class=\"logo\" style=\"display: inline-block\"></div>\r\n        <div style=\"font-size: 18px;display: inline-block;vertical-align: super;padding-left: 5px;\">{{'dlg.info-title' | translate}}</div>\r\n    </div>\r\n    <div mat-dialog-content style=\"margin-bottom: 10px;\">\r\n        <div style=\"display: block\">\r\n            {{'header.info-version' | translate}} {{data.version}}\r\n        </div>\r\n        <div style=\"display: block; font-size: 13px;margin-top: 10px;\">\r\n            developed by <span><b>frango</b>team</span>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button [mat-dialog-close]=\"data\">{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/help/tutorial/tutorial.component.css":
/*!**************************************************!*\
  !*** ./app/help/tutorial/tutorial.component.css ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".tutorial-panel {\r\n    width: 460px;\r\n    height: 720px;\r\n    z-index: 99999 !important;\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 50px;\r\n    background-color: rgb(240, 240, 240);\r\n    /* background-color: rgb(250,250,250); */\r\n    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\r\n        0 2px 6px 0 rgba(0, 0, 0, 0.188235); /*1px 2px 5px 1px rgba(0,0,0,.26);*/\r\n    border: 0px !important;\r\n}\r\n\r\n.tutorial-header {\r\n    height: 36px;\r\n    background-color: #212121;\r\n    color: #ffffff;\r\n    padding-left: 5px;\r\n    cursor: move;\r\n    line-height: 30px;\r\n}\r\n\r\n.tutorial-title {\r\n    padding: 5px 10px 5px 20px;\r\n    font-size: 16px;\r\n}\r\n\r\n.tutorial-close {\r\n    font-size: 28px;\r\n    /* float: right; */\r\n    cursor: pointer;\r\n    /* padding-right: 5px; */\r\n    right: 5px;\r\n    position: absolute;\r\n    top: 0px;\r\n}\r\n\r\n.my-expansion-panel {\r\n    margin: 0px;\r\n}\r\n\r\n.header mat-panel-title {\r\n    font-size: 20px;\r\n    font-weight: 100;\r\n}\r\n"

/***/ }),

/***/ "./app/help/tutorial/tutorial.component.html":
/*!***************************************************!*\
  !*** ./app/help/tutorial/tutorial.component.html ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"tutorial-panel\" *ngIf=\"show\" ngDraggable>\r\n    <style>\r\n        pre {\r\n            white-space: pre-line;\r\n        }\r\n    </style>\r\n    <div class=\"tutorial-header\">\r\n        <div class=\"tutorial-title\">\r\n            {{'tutorial.title' | translate}}\r\n        </div>\r\n        <div class=\"tutorial-close\" (click)=\"close()\">\r\n            &times;\r\n        </div>\r\n    </div>\r\n    <div class=\"tutorial-body\">\r\n        <mat-accordion multi=\"true\">\r\n            <mat-expansion-panel class=\"my-expansion-panel\">\r\n                <mat-expansion-panel-header class=\"header\" [collapsedHeight]=\"'40px'\" [expandedHeight]=\"'40px'\">\r\n                    <mat-panel-title>\r\n                        Basic Layout\r\n                    </mat-panel-title>\r\n                    <mat-panel-description>\r\n\r\n                    </mat-panel-description>\r\n                </mat-expansion-panel-header>\r\n                Basic content\r\n\r\n            </mat-expansion-panel>\r\n            <mat-expansion-panel class=\"my-expansion-panel\">\r\n                <mat-expansion-panel-header class=\"header\" [collapsedHeight]=\"'40px'\" [expandedHeight]=\"'40px'\">\r\n                    <mat-panel-title>\r\n                        Page editor\r\n                    </mat-panel-title>\r\n                    <mat-panel-description>\r\n\r\n                    </mat-panel-description>\r\n                </mat-expansion-panel-header>\r\n                Page editor content\r\n            </mat-expansion-panel>\r\n            <mat-expansion-panel class=\"my-expansion-panel\">\r\n                <mat-expansion-panel-header class=\"header\" [collapsedHeight]=\"'40px'\" [expandedHeight]=\"'40px'\">\r\n                    <mat-panel-title>\r\n                        Device\r\n                    </mat-panel-title>\r\n                    <mat-panel-description>\r\n\r\n                    </mat-panel-description>\r\n                </mat-expansion-panel-header>\r\n                Device content\r\n            </mat-expansion-panel>\r\n        </mat-accordion>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/help/tutorial/tutorial.component.ts":
/*!*************************************************!*\
  !*** ./app/help/tutorial/tutorial.component.ts ***!
  \*************************************************/
/*! exports provided: TutorialComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TutorialComponent", function() { return TutorialComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TutorialComponent = /** @class */ (function () {
    function TutorialComponent() {
        this.show = false;
    }
    TutorialComponent.prototype.ngOnInit = function () {
    };
    TutorialComponent.prototype.close = function () {
        this.show = false;
    };
    TutorialComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tutorial',
            template: __webpack_require__(/*! ./tutorial.component.html */ "./app/help/tutorial/tutorial.component.html"),
            styles: [__webpack_require__(/*! ./tutorial.component.css */ "./app/help/tutorial/tutorial.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], TutorialComponent);
    return TutorialComponent;
}());



/***/ }),

/***/ "./app/home/home.component.html":
/*!**************************************!*\
  !*** ./app/home/home.component.html ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isLoading\" style=\"position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(0,0,0,0.2); z-index: 99999;\">\r\n\t<mat-progress-bar mode=\"indeterminate\" color=\"warn\" style=\"position: absolute; top: 0px; left: 0px; right: 0px; z-index: 99999;\">\r\n\t</mat-progress-bar>\r\n</div>\r\n<mat-sidenav-container class=\"sidenav-container\">\r\n\t<mat-sidenav #matsidenav *ngIf=\"showSidenav\" class=\"sidenav\" [mode]=\"showSidenav\">\r\n\t\t<app-sidenav #sidenav [sidenav]=\"matsidenav\" (goToPage)=\"onGoToPage($event)\" (goToLink)=\"onGoToLink($event)\"></app-sidenav>\r\n\t</mat-sidenav>\r\n\t<mat-sidenav-content [style.background-color]=\"backgroudColor\">\r\n\t\t<div class=\"header\" [style.background-color]=\"layoutHeader.bkcolor\" [style.color]=\"layoutHeader.fgcolor\">\r\n\t\t\t<button mat-icon-button *ngIf=\"showSidenav && showSidenav !== 'side'\" (click)=\"(matsidenav.opened) ? matsidenav.close() : matsidenav.open()\" class=\"sidenav-toogle\">\r\n\t\t\t\t<mat-icon aria-label=\"Menu\">menu</mat-icon>\r\n\t\t\t</button>\r\n\t\t\t<div class=\"header-title\">\r\n\t\t\t\t{{title}}\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf=\"securityEnabled\" style=\"float: right; line-height: 46px;\">\r\n\t\t\t\t<button mat-icon-button (click)=\"onLogin()\">\r\n\t\t\t\t\t<mat-icon aria-label=\"Login\" [style.color]=\"isLoggedIn() ? 'rgb(59, 144, 255)' : layoutHeader.fgcolor\">account_circle</mat-icon>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"header-button\">\r\n\t\t\t\t<div class=\"alarm-layout\" style=\"min-width: 40px;\">\r\n\t\t\t\t\t<button mat-icon-button *ngIf=\"alarms.show\" (click)=\"onAlarmsShowMode('collapse')\">\r\n\t\t\t\t\t\t<mat-icon aria-label=\"Alarms\">notifications_none</mat-icon>\r\n\t\t\t\t\t\t<div class=\"button-counter alarm-color\" [style.opacity]=\"alarms.count?'':'0'\">{{alarms.count}}</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"info-layout\" style=\"min-width: 40px;\">\r\n\t\t\t\t\t<button mat-icon-button *ngIf=\"infos.show\" (click)=\"onAlarmsShowMode('collapse')\">\r\n\t\t\t\t\t\t<mat-icon aria-label=\"Info\">error_outline</mat-icon>\r\n\t\t\t\t\t\t<div class=\"button-counter info-color\" [style.opacity]=\"infos.count?'':'0'\">{{infos.count}}</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"container\"  class=\"home-container\" #container>\r\n\t\t\t<app-cards-view *ngIf=\"homeView.type === cardViewType\" #cardsview [edit]=\"false\" [options]=\"gridOptions\" [view]=\"homeView\" [hmi]=\"hmi\" [gaugesManager]=\"gaugesManager\"></app-cards-view>\r\n\t\t\t<app-fuxa-view *ngIf=\"homeView.type !== cardViewType\" #fuxaview class=\"home-body\" id=\"home\" [view]=\"homeView\" [hmi]=\"hmi\" [gaugesManager]=\"gaugesManager\"></app-fuxa-view>\r\n\t\t\t<app-iframe *ngIf=\"showHomeLink\" [hidden]=\"isLoading || !showHomeLink\" #iframeview [link]=\"homeLink\" class=\"home-body\" style=\"width:100%; height:100%\"></app-iframe>\r\n\t\t\t<!-- <div [style.display]=\"(homeView.type === cardViewType || showHomeLink) ? 'none' : 'block' \" class=\"home-body home-info\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{{'msg.home-welcome' | translate}}.\r\n\t\t\t\t</p>\r\n\t\t\t</div> -->\r\n\t\t\t<div id=\"alarms-panel\">\r\n\t\t\t\t<app-alarm-view #alarmsview [fullview]=\"false\" (showMode)=\"onAlarmsShowMode($event)\"></app-alarm-view>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</mat-sidenav-content>\r\n\r\n</mat-sidenav-container>"

/***/ }),

/***/ "./app/home/home.component.scss":
/*!**************************************!*\
  !*** ./app/home/home.component.scss ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".home-body{display:table;margin:0 auto}.home-container{position:absolute;left:0px;top:48px;bottom:0px;right:0px;overflow:auto}.home-info{text-align:center}.header{display:block;z-index:9999 !important;box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2) !important;height:46px !important;padding-left:4px;padding-right:10px;background-color:#fff}.header-title{display:inline-block;margin-left:20px;min-width:200px;text-align:right;line-height:46px}.header-button{float:right;width:30%;line-height:46px;text-align:right;margin-right:10px;padding-right:50px;border-right-width:1px;border-right-style:solid}.header-button mat-icon{font-size:28px;width:28px;height:28px}.button-counter{display:inline-block;position:absolute;bottom:7px;right:1px;width:16px;height:16px;border-radius:50%;text-align:center;line-height:16px;font-size:12px;font-weight:bold}.alarm-layout{position:relative;right:45px;display:inline-block;width:40px}.info-layout{position:relative;right:20px;display:inline-block;width:40px}.sidenav{padding:0px 0px 0px 0px;background-color:#2c2c2c !important;color:#fff !important;display:inline-block !important;top:0px;box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2) !important}.sidenav-container{width:100%;height:100% !important;background-color:#FFFFFF}::ng-deep .mat-drawer-backdrop.mat-drawer-shown{background-color:transparent}::ng-deep #myuserinfo{padding:unset !important;box-shadow:0 2px 6px 0 rgba(0,0,0,0.2),0 2px 6px 0 rgba(0,0,0,0.18)}#alarms-panel{background:white;height:300px;transition:bottom 300ms;width:100%;position:fixed;bottom:-300px;overflow:auto}#alarms-panel.is-active{bottom:0px;transition:bottom 300ms;z-index:999}#alarms-panel.is-full-active{top:46px;height:100%;transition:top 300ms;z-index:999}\n"

/***/ }),

/***/ "./app/home/home.component.ts":
/*!************************************!*\
  !*** ./app/home/home.component.ts ***!
  \************************************/
/*! exports provided: HomeComponent, DialogUserInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogUserInfo", function() { return DialogUserInfo; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sidenav/sidenav.component */ "./app/sidenav/sidenav.component.ts");
/* harmony import */ var _fuxa_view_fuxa_view_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../fuxa-view/fuxa-view.component */ "./app/fuxa-view/fuxa-view.component.ts");
/* harmony import */ var _iframe_iframe_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../iframe/iframe.component */ "./app/iframe/iframe.component.ts");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../_services/auth.service */ "./app/_services/auth.service.ts");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../login/login.component */ "./app/login/login.component.ts");
/* harmony import */ var _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../alarms/alarm-view/alarm-view.component */ "./app/alarms/alarm-view/alarm-view.component.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../_helpers/utils */ "./app/_helpers/utils.ts");
/* harmony import */ var angular_gridster2__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! angular-gridster2 */ "../node_modules/angular-gridster2/fesm5/angular-gridster2.js");
/* harmony import */ var panzoom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! panzoom */ "../node_modules/panzoom/index.js");
/* harmony import */ var panzoom__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(panzoom__WEBPACK_IMPORTED_MODULE_15__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};

















// declare var panzoom: any;
var HomeComponent = /** @class */ (function () {
    function HomeComponent(projectService, changeDetector, dialog, router, hmiService, authService, gaugesManager) {
        this.projectService = projectService;
        this.changeDetector = changeDetector;
        this.dialog = dialog;
        this.router = router;
        this.hmiService = hmiService;
        this.authService = authService;
        this.gaugesManager = gaugesManager;
        this.isLoading = true;
        this.homeView = new _models_hmi__WEBPACK_IMPORTED_MODULE_10__["View"]();
        this.hmi = new _models_hmi__WEBPACK_IMPORTED_MODULE_10__["Hmi"]();
        this.showSidenav = 'over';
        this.homeLink = '';
        this.showHomeLink = false;
        this.securityEnabled = false;
        this.backgroudColor = 'unset';
        this.title = '';
        this.alarms = { show: false, count: 0, mode: '' };
        this.infos = { show: false, count: 0, mode: '' };
        this.headerButtonMode = _models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"];
        this.alarmsPanelOpen = false;
        this.layoutHeader = new _models_hmi__WEBPACK_IMPORTED_MODULE_10__["HeaderSettings"]();
        this.cardViewType = _helpers_utils__WEBPACK_IMPORTED_MODULE_13__["Utils"].getEnumKey(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["ViewType"], _models_hmi__WEBPACK_IMPORTED_MODULE_10__["ViewType"].cards);
        this.gridOptions = {
            gridType: angular_gridster2__WEBPACK_IMPORTED_MODULE_14__["GridType"].Fixed,
            compactType: angular_gridster2__WEBPACK_IMPORTED_MODULE_14__["CompactType"].None,
            maxCols: 20,
            maxRows: 20,
            fixedColWidth: 95,
            fixedRowHeight: 95,
            disableWarnings: true,
            draggable: {
                enabled: false,
            },
            resizable: {
                enabled: false,
            }
        };
    }
    HomeComponent.prototype.ngOnInit = function () {
    };
    HomeComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        try {
            var hmi = this.projectService.getHmi();
            if (hmi) {
                this.loadHmi();
            }
            this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (load) {
                _this.loadHmi();
            }, function (error) {
                console.log('Error loadHMI');
            });
            this.subscriptionAlarmsStatus = this.hmiService.onAlarmsStatus.subscribe(function (event) {
                _this.setAlarmsStatus(event);
            });
            this.hmiService.askAlarmsStatus();
            this.changeDetector.detectChanges();
        }
        catch (err) {
            console.log(err);
        }
    };
    HomeComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
            if (this.subscriptionAlarmsStatus) {
                this.subscriptionAlarmsStatus.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    HomeComponent.prototype.onGoToPage = function (event) {
        var view = this.hmi.views.find(function (x) { return x.id === event; });
        this.showHomeLink = false;
        this.changeDetector.detectChanges();
        if (view) {
            this.homeView = view;
            this.changeDetector.detectChanges();
            this.setBackground();
            if (this.homeView.type !== this.cardViewType) {
                this.fuxaview.loadHmi(this.homeView);
            }
        }
    };
    HomeComponent.prototype.onGoToLink = function (event) {
        if (event.indexOf('://') >= 0) {
            this.showHomeLink = true;
            this.changeDetector.detectChanges();
            this.iframeview.loadLink(event);
        }
        else {
            this.router.navigate([event]).then(function (data) {
                console.log('Route ' + event + ' exists, redirection is done');
            }).catch(function (err) {
                console.log('Route ' + event + '  not found, redirection stopped with no error raised');
                // try iframe link
            });
        }
    };
    HomeComponent.prototype.onLogin = function () {
        var _this = this;
        var cuser = this.authService.getUser();
        if (cuser) {
            var dialogRef = this.dialog.open(DialogUserInfo, {
                id: 'myuserinfo',
                // minWidth: '250px',
                position: { top: '50px', right: '15px' },
                backdropClass: 'user-info',
                data: cuser
            });
            dialogRef.afterClosed().subscribe(function (result) {
                if (result) {
                    _this.authService.signOut();
                    _this.projectService.reload();
                }
            });
        }
        else {
            var dialogRef = this.dialog.open(_login_login_component__WEBPACK_IMPORTED_MODULE_11__["LoginComponent"], {
                // minWidth: '250px',
                data: {}
            });
            dialogRef.afterClosed().subscribe(function (result) {
            });
        }
    };
    HomeComponent.prototype.askValue = function () {
        this.hmiService.askDeviceValues();
    };
    HomeComponent.prototype.askStatus = function () {
        this.hmiService.askDeviceStatus();
    };
    HomeComponent.prototype.isLoggedIn = function () {
        return (this.authService.getUser()) ? true : false;
    };
    HomeComponent.prototype.onAlarmsShowMode = function (mode) {
        var ele = document.getElementById("alarms-panel");
        if (mode === 'expand') {
            ele.classList.add("is-full-active");
            // ele.classList.remove('is-active');			
            this.alarmsPanelOpen = true;
            this.alarmsview.startAskAlarmsValues();
        }
        else if (mode === 'collapse') {
            ele.classList.add('is-active');
            ele.classList.remove('is-full-active');
            this.alarmsPanelOpen = true;
            this.alarmsview.startAskAlarmsValues();
        }
        else {
            // ele.classList.toggle("is-active");
            ele.classList.remove('is-active');
            ele.classList.remove('is-full-active');
            this.alarmsPanelOpen = false;
        }
    };
    HomeComponent.prototype.goTo = function (destination) {
        this.router.navigate([destination]); //, this.ID]);
    };
    HomeComponent.prototype.loadHmi = function () {
        var _this = this;
        var hmi = this.projectService.getHmi();
        if (hmi) {
            this.hmi = hmi;
        }
        if (this.hmi && this.hmi.views && this.hmi.views.length > 0) {
            if (this.hmi.layout && this.hmi.layout.start) {
                var startView = this.hmi.views.find(function (x) { return x.id === _this.hmi.layout.start; });
                if (startView) {
                    this.homeView = startView;
                }
            }
            else {
                this.homeView = this.hmi.views[0];
            }
            this.setBackground();
            // check sidenav
            this.showSidenav = null;
            if (this.hmi.layout) {
                var nvoid = _models_hmi__WEBPACK_IMPORTED_MODULE_10__["NaviModeType"][this.hmi.layout.navigation.mode];
                if (this.hmi.layout && nvoid !== _models_hmi__WEBPACK_IMPORTED_MODULE_10__["NaviModeType"].void) {
                    if (nvoid === _models_hmi__WEBPACK_IMPORTED_MODULE_10__["NaviModeType"].over) {
                        this.showSidenav = 'over';
                    }
                    else if (nvoid === _models_hmi__WEBPACK_IMPORTED_MODULE_10__["NaviModeType"].fix) {
                        this.showSidenav = 'side';
                        this.matsidenav.open();
                    }
                    else if (nvoid === _models_hmi__WEBPACK_IMPORTED_MODULE_10__["NaviModeType"].push) {
                        this.showSidenav = 'push';
                    }
                    this.sidenav.setLayout(this.hmi.layout);
                }
                if (this.hmi.layout.header) {
                    this.title = this.hmi.layout.header.title;
                    if (this.hmi.layout.header.alarms) {
                        this.alarms.mode = this.hmi.layout.header.alarms;
                    }
                    if (this.hmi.layout.header.infos) {
                        this.infos.mode = this.hmi.layout.header.infos;
                    }
                    this.checkHeaderButton();
                    this.layoutHeader = this.hmi.layout.header;
                }
                if (this.hmi.layout.zoom && _models_hmi__WEBPACK_IMPORTED_MODULE_10__["ZoomModeType"][this.hmi.layout.zoom] === _models_hmi__WEBPACK_IMPORTED_MODULE_10__["ZoomModeType"].enabled) {
                    setTimeout(function () {
                        var element = document.querySelector('#home');
                        if (element && panzoom__WEBPACK_IMPORTED_MODULE_15___default.a) {
                            panzoom__WEBPACK_IMPORTED_MODULE_15___default()(element, {
                                bounds: true,
                                boundsPadding: 0.05,
                            });
                        }
                        _this.container.nativeElement.style.overflow = 'hidden';
                    }, 1000);
                }
            }
        }
        if (this.homeView && this.fuxaview) {
            this.fuxaview.loadHmi(this.homeView);
        }
        this.isLoading = false;
        this.securityEnabled = this.projectService.isSecurityEnabled();
    };
    HomeComponent.prototype.setBackground = function () {
        if (this.homeView && this.homeView.profile) {
            this.backgroudColor = this.homeView.profile.bkcolor;
        }
    };
    HomeComponent.prototype.checkHeaderButton = function () {
        var fix = Object.keys(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"])[Object.values(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"]).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"].fix)];
        var float = Object.keys(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"])[Object.values(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"]).indexOf(_models_hmi__WEBPACK_IMPORTED_MODULE_10__["NotificationModeType"].float)];
        if (this.alarms.mode === fix || (this.alarms.mode === float && this.alarms.count > 0)) {
            this.alarms.show = true;
        }
        else {
            this.alarms.show = false;
        }
        if (this.infos.mode === fix || (this.infos.mode === float && this.infos.count > 0)) {
            this.infos.show = true;
        }
        else {
            this.infos.show = false;
        }
    };
    HomeComponent.prototype.setAlarmsStatus = function (status) {
        if (status) {
            this.alarms.count = status.highhigh + status.high + status.low;
            this.infos.count = status.info;
            this.checkHeaderButton();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav'),
        __metadata("design:type", _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_3__["SidenavComponent"])
    ], HomeComponent.prototype, "sidenav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('matsidenav'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSidenav"])
    ], HomeComponent.prototype, "matsidenav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('fuxaview'),
        __metadata("design:type", _fuxa_view_fuxa_view_component__WEBPACK_IMPORTED_MODULE_4__["FuxaViewComponent"])
    ], HomeComponent.prototype, "fuxaview", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('alarmsview'),
        __metadata("design:type", _alarms_alarm_view_alarm_view_component__WEBPACK_IMPORTED_MODULE_12__["AlarmViewComponent"])
    ], HomeComponent.prototype, "alarmsview", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('container'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], HomeComponent.prototype, "container", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('iframeview'),
        __metadata("design:type", _iframe_iframe_component__WEBPACK_IMPORTED_MODULE_5__["IframeComponent"])
    ], HomeComponent.prototype, "iframeview", void 0);
    HomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-home',
            template: __webpack_require__(/*! ./home.component.html */ "./app/home/home.component.html"),
            styles: [__webpack_require__(/*! ./home.component.scss */ "./app/home/home.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_project_service__WEBPACK_IMPORTED_MODULE_7__["ProjectService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_hmi_service__WEBPACK_IMPORTED_MODULE_6__["HmiService"],
            _services_auth_service__WEBPACK_IMPORTED_MODULE_8__["AuthService"],
            _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_9__["GaugesManager"]])
    ], HomeComponent);
    return HomeComponent;
}());

var DialogUserInfo = /** @class */ (function () {
    function DialogUserInfo(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    DialogUserInfo.prototype.onOkClick = function () {
        this.dialogRef.close(true);
    };
    DialogUserInfo = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'user-info',
            template: __webpack_require__(/*! ./userinfo.dialog.html */ "./app/home/userinfo.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogUserInfo);
    return DialogUserInfo;
}());



/***/ }),

/***/ "./app/home/userinfo.dialog.html":
/*!***************************************!*\
  !*** ./app/home/userinfo.dialog.html ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"display:block; text-align: center;padding-top: 20px; padding-bottom: 10px;width: 220px\">\r\n\t<div style=\"display: block; margin: auto\">\r\n\t\t<mat-icon [style.color]=\"'rgb(59, 144, 255)'\">account_circle</mat-icon>\r\n\t</div>\r\n\t<div style=\"font-size: 14px;display: block;padding-top: 10px;padding-bottom: 10px;\">\r\n\t\t{{data.username}}\r\n\t</div>\r\n\t<div style=\"font-size: 14px;display: block;padding-top: 10px;padding-bottom: 10px;\">\r\n\t\t{{data.fullname}}\r\n\t</div>\r\n\t<div style=\"display: block; padding-bottom:20px; padding-top: 20px; border-top: 1px solid rgba(0,0,0,0.1);\">\r\n\t\t<button mat-raised-button [mat-dialog-close]=\"true\">{{'dlg.logout-btn' | translate}}</button>\r\n\t</div>\r\n\t<div style=\"display: block; font-size: 10px; padding-top: 10px; border-top: 1px solid rgba(0,0,0,0.1);\">\r\n\t\tFUXA developed by <span><b>frango</b>team</span>\r\n\t</div>\r\n</div>"

/***/ }),

/***/ "./app/iframe/iframe.component.css":
/*!*****************************************!*\
  !*** ./app/iframe/iframe.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./app/iframe/iframe.component.html":
/*!******************************************!*\
  !*** ./app/iframe/iframe.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<iframe width=\"100%\" height=\"100%\" frameBorder=\"0\" [src]=\"urlSafe\"></iframe>\n"

/***/ }),

/***/ "./app/iframe/iframe.component.ts":
/*!****************************************!*\
  !*** ./app/iframe/iframe.component.ts ***!
  \****************************************/
/*! exports provided: IframeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IframeComponent", function() { return IframeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var IframeComponent = /** @class */ (function () {
    function IframeComponent(activeroute, sanitizer) {
        this.activeroute = activeroute;
        this.sanitizer = sanitizer;
    }
    IframeComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.link) {
            // input
            this.urlSafe = this.sanitizer.bypassSecurityTrustResourceUrl(this.link);
        }
        else {
            this.subscription = this.activeroute.params.subscribe(function (params) {
                // routing
                _this.link = params['url'];
                _this.urlSafe = _this.sanitizer.bypassSecurityTrustResourceUrl(_this.link);
            });
        }
    };
    IframeComponent.prototype.ngOnDestroy = function () {
        if (this.subscription) {
            this.subscription.unsubscribe();
        }
    };
    IframeComponent.prototype.loadLink = function (link) {
        this.link = link;
        if (this.link) {
            this.urlSafe = this.sanitizer.bypassSecurityTrustResourceUrl(this.link);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], IframeComponent.prototype, "link", void 0);
    IframeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-iframe',
            template: __webpack_require__(/*! ./iframe.component.html */ "./app/iframe/iframe.component.html"),
            styles: [__webpack_require__(/*! ./iframe.component.css */ "./app/iframe/iframe.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"]])
    ], IframeComponent);
    return IframeComponent;
}());



/***/ }),

/***/ "./app/lab/lab.component.css":
/*!***********************************!*\
  !*** ./app/lab/lab.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n.lab-body {\r\n    display: table;\r\n    margin: 0 auto;\r\n}\r\n.box_shadow {\r\n    box-shadow: 0px 2px 6px -1px #888888;\r\n    -webkit-filter: \r\n    drop-shadow( 3px 3px 2px rgba(0,0,0,.7) );\r\n          filter: \r\n    drop-shadow( 3px 3px 2px rgba(0,0,0,.7) );\r\n}\r\n.fab-btn {\r\n    position: absolute;\r\n    right: 10px;\r\n    bottom: 10px;\r\n}"

/***/ }),

/***/ "./app/lab/lab.component.html":
/*!************************************!*\
  !*** ./app/lab/lab.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isLoading\" style=\"position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(0,0,0,0.2); z-index: 99999;\">\r\n    <mat-progress-bar mode=\"indeterminate\" color=\"warn\" style=\"position: absolute; top: 0px; left: 0px; right: 0px; z-index: 99999;\">\r\n    </mat-progress-bar>\r\n</div>\r\n<div [style.background-color]=\"backgroudColor\" style=\"height: 100%\">\r\n    <app-fuxa-view *ngIf=\"labView\" class=\"lab-body\" id=\"lab\" [view]=\"currentView\" [hmi]=\"hmi\" [gaugesManager]=\"gaugesManager\"></app-fuxa-view>\r\n    <div *ngIf=\"!labView\">\r\n        Loading...\r\n    </div>\r\n    <template #messagecontainer>\r\n    </template>\r\n    <button mat-mini-fab color=\"warn\" class=\"fab-btn\" (click)=\"onTest()\">Test</button>\r\n    <app-tester #tester></app-tester>\r\n</div>"

/***/ }),

/***/ "./app/lab/lab.component.ts":
/*!**********************************!*\
  !*** ./app/lab/lab.component.ts ***!
  \**********************************/
/*! exports provided: LabComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabComponent", function() { return LabComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var _tester_tester_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tester/tester.service */ "./app/tester/tester.service.ts");
/* harmony import */ var _tester_tester_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tester/tester.component */ "./app/tester/tester.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LabComponent = /** @class */ (function () {
    function LabComponent(projectService, gaugesManager, changeDetector, testerService) {
        this.projectService = projectService;
        this.gaugesManager = gaugesManager;
        this.changeDetector = changeDetector;
        this.testerService = testerService;
        this.isLoading = true;
        this.currentView = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["View"]();
        this.hmi = new _models_hmi__WEBPACK_IMPORTED_MODULE_2__["Hmi"]();
        this.labView = null;
        this.backgroudColor = 'unset';
    }
    LabComponent.prototype.ngOnInit = function () {
    };
    LabComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        try {
            var hmi = this.projectService.getHmi();
            if (!hmi) {
                this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (load) {
                    _this.loadHmi();
                }, function (error) {
                    console.log('Error loadHMI');
                });
            }
            else {
                this.loadHmi();
            }
            this.changeDetector.detectChanges();
        }
        catch (err) {
            console.log(err);
        }
    };
    LabComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    LabComponent.prototype.onTest = function () {
        this.tester.setSignals(this.gaugesManager.getMappedGaugesSignals(true));
        this.testerService.toggle(true);
    };
    LabComponent.prototype.loadHmi = function () {
        this.hmi = this.projectService.getHmi();
        if (this.hmi && this.hmi.views && this.hmi.views.length > 0) {
            this.currentView = this.hmi.views[0];
            this.labView = this.hmi.views[0];
            var oldsel = localStorage.getItem("@frango.webeditor.currentview");
            if (oldsel) {
                for (var i = 0; i < this.hmi.views.length; i++) {
                    if (this.hmi.views[i].name === oldsel) {
                        this.currentView = this.hmi.views[i];
                        this.setBackground();
                        break;
                    }
                }
            }
        }
        this.isLoading = false;
    };
    LabComponent.prototype.setBackground = function () {
        if (this.currentView && this.currentView.profile) {
            this.backgroudColor = this.currentView.profile.bkcolor;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('messagecontainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"])
    ], LabComponent.prototype, "entry", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('tester'),
        __metadata("design:type", _tester_tester_component__WEBPACK_IMPORTED_MODULE_5__["TesterComponent"])
    ], LabComponent.prototype, "tester", void 0);
    LabComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            moduleId: module.i,
            template: __webpack_require__(/*! ./lab.component.html */ "./app/lab/lab.component.html"),
            styles: [__webpack_require__(/*! ./lab.component.css */ "./app/lab/lab.component.css")]
        }),
        __metadata("design:paramtypes", [_services_project_service__WEBPACK_IMPORTED_MODULE_1__["ProjectService"],
            _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_3__["GaugesManager"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _tester_tester_service__WEBPACK_IMPORTED_MODULE_4__["TesterService"]])
    ], LabComponent);
    return LabComponent;
}());



/***/ }),

/***/ "./app/login/login.component.css":
/*!***************************************!*\
  !*** ./app/login/login.component.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".error {\r\n    display: block;\r\n    font-size: 12px;\r\n}\r\n\r\n.message-error {\r\n    width: 100%;\r\n    /* background-color: red;; */\r\n    color: red;\r\n    padding-bottom: 20px;\r\n    font-size: 13px;\r\n}\r\n\r\n.show-password {\r\n    bottom: 2px;\r\n    right: 0px;\r\n    position: absolute;\r\n}\r\n"

/***/ }),

/***/ "./app/login/login.component.html":
/*!****************************************!*\
  !*** ./app/login/login.component.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form>\r\n\t<div style=\"width: 250px;position: relative;padding-bottom: 40px\">\r\n\t\t<h1 mat-dialog-title style=\"display:inline-block;margin-bottom: 14px !important;\">{{'dlg.login-title' | translate}}</h1>\r\n\t\t<div mat-dialog-content>\r\n\t\t\t<div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;margin-right: 5px;\">\r\n\t\t\t\t<span>{{'general.username' | translate}}</span>\r\n\t\t\t\t<input cdkFocusInitial autocomplete=\"off\" [type]=\"'text'\" [formControl]=\"username\" style=\"width:100%;\">\r\n\t\t\t\t<mat-error class=\"error\" *ngIf=\"errorEnabled && username.errors && username.errors.required\">{{'msg.login-username-required' | translate}}\r\n\t\t\t\t</mat-error>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;margin-right: 5px;\">\r\n\t\t\t\t<span>{{'general.password' | translate}}</span>\r\n\t\t\t\t<input autocomplete=\"off\" [type]=\"showPassword ? 'text' : 'password'\" [formControl]=\"password\" style=\"width:100%;\">\r\n\t\t\t\t<mat-icon matSuffix (click)=\"showPassword = !showPassword\" class=\"show-password\">{{showPassword ? 'visibility' : 'visibility_off'}}</mat-icon>\r\n\t\t\t\t<mat-error class=\"error\" *ngIf=\"errorEnabled && password.errors && password.errors.required\">{{'msg.login-password-required' | translate}}\r\n\t\t\t\t</mat-error>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"messageError\" class=\"message-error\">\r\n\t\t\t{{messageError}}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"submitLoading\">\r\n\t\t\t<mat-spinner style=\"margin: auto\" diameter=\"20\"></mat-spinner>\r\n\t\t</div>\r\n\t\t<div mat-dialog-actions class=\"dialog-action\">\r\n\t\t\t<button mat-raised-button [mat-dialog-close]=\"\">{{'dlg.cancel' | translate}}</button>\r\n\t\t\t<button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" [disabled]=\"!isValidate()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n\t\t</div>\r\n\t</div>\r\n</form>"

/***/ }),

/***/ "./app/login/login.component.ts":
/*!**************************************!*\
  !*** ./app/login/login.component.ts ***!
  \**************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/auth.service */ "./app/_services/auth.service.ts");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "../node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var LoginComponent = /** @class */ (function () {
    function LoginComponent(authService, projectService, translateService, dialogRef, data) {
        this.authService = authService;
        this.projectService = projectService;
        this.translateService = translateService;
        this.dialogRef = dialogRef;
        this.data = data;
        this.loading = false;
        this.showPassword = false;
        this.submitLoading = false;
        this.username = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        this.password = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        this.errorEnabled = false;
    }
    LoginComponent.prototype.ngOnInit = function () {
    };
    LoginComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    LoginComponent.prototype.onOkClick = function () {
        this.errorEnabled = true;
        this.messageError = '';
        this.signIn();
    };
    LoginComponent.prototype.isValidate = function () {
        if (this.username.value && this.password.value) {
            return true;
        }
        return false;
    };
    LoginComponent.prototype.signIn = function () {
        var _this = this;
        this.submitLoading = true;
        this.authService.signIn(this.username.value, this.password.value).subscribe(function (result) {
            // 		this.router.navigate([this.returnUrl]);
            _this.submitLoading = false;
            _this.dialogRef.close(_this.data.user);
            _this.projectService.reload();
        }, function (error) {
            _this.submitLoading = false;
            _this.translateService.get('msg.signin-failed').subscribe(function (txt) { return _this.messageError = txt; });
        });
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./app/login/login.component.css")]
        }),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslateService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./app/material.module.ts":
/*!********************************!*\
  !*** ./app/material.module.ts ***!
  \********************************/
/*! exports provided: MaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaterialModule", function() { return MaterialModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_cdk_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/table */ "../node_modules/@angular/cdk/esm5/table.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var MaterialModule = /** @class */ (function () {
    function MaterialModule() {
    }
    MaterialModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_cdk_table__WEBPACK_IMPORTED_MODULE_2__["CdkTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatAutocompleteModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatStepperModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatNativeDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatRippleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTooltipModule"],
            ],
            exports: [
                _angular_cdk_table__WEBPACK_IMPORTED_MODULE_2__["CdkTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatAutocompleteModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatStepperModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatNativeDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatRippleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTooltipModule"],
            ]
        })
    ], MaterialModule);
    return MaterialModule;
}());



/***/ }),

/***/ "./app/sidenav/sidenav.component.css":
/*!*******************************************!*\
  !*** ./app/sidenav/sidenav.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = " "

/***/ }),

/***/ "./app/sidenav/sidenav.component.html":
/*!********************************************!*\
  !*** ./app/sidenav/sidenav.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"sidenav-menu\" *ngIf=\"showSidenav\" style=\"height: 100%\" [ngClass]=\"'sidenav-menu-' + layout.navigation.type\"\r\n                        [style.background-color]=\"layoutNavigation.bkcolor\" [style.color]=\"layoutNavigation.fgcolor\">\r\n    <mat-list >\r\n        <mat-list-item style=\"height: 35px; font-weight: bold; padding-left: 10px;padding-bottom: 10px;margin-bottom: 10px\">\r\n            {{'sidenav.title' | translate}}\r\n        </mat-list-item>\r\n        <mat-list-item *ngFor=\"let item of layout.navigation.items; let i = index\" [ngClass]=\"'menu-item-' + layout.navigation.type\">\r\n            <button type=\"button\" mat-button class=\"sidenav-btn\" (click)=\"onGoTo(item)\" [ngSwitch]=\"layout.navigation.type\">\r\n                <div *ngSwitchCase=\"'icon'\" class=\"menu-item-content-icon\">\r\n                    <mat-icon>{{item.icon}}</mat-icon>\r\n                </div>\r\n                <div *ngSwitchCase=\"'text'\" class=\"menu-item-content-text\">\r\n                    <span>{{item.text}}</span>\r\n                </div>\r\n                <div *ngSwitchCase=\"'block'\" class=\"menu-item-content-block\">\r\n                    <mat-icon style=\"display: block;\">{{item.icon}}</mat-icon>\r\n                    <span>{{item.text}}</span>\r\n                </div>\r\n                <div *ngSwitchCase=\"'inline'\" class=\"menu-item-content-inline\">\r\n                    <mat-icon style=\"display: inline-block\">{{item.icon}}</mat-icon>\r\n                    <span style=\"display: inline-block\">{{item.text}}</span>\r\n                </div>\r\n            </button>\r\n        </mat-list-item>\r\n    </mat-list>\r\n</div>"

/***/ }),

/***/ "./app/sidenav/sidenav.component.ts":
/*!******************************************!*\
  !*** ./app/sidenav/sidenav.component.ts ***!
  \******************************************/
/*! exports provided: SidenavComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidenavComponent", function() { return SidenavComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SidenavComponent = /** @class */ (function () {
    function SidenavComponent(router, changeDetector) {
        this.router = router;
        this.changeDetector = changeDetector;
        this.goToPage = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.goToLink = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.layout = null;
        this.showSidenav = false;
        this.layoutNavigation = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["NavigationSettings"]();
    }
    SidenavComponent.prototype.ngAfterViewInit = function () {
    };
    SidenavComponent.prototype.ngAfterContentChecked = function () {
        this.showSidenav = (this.layout) ? true : false;
        this.changeDetector.detectChanges();
    };
    SidenavComponent.prototype.onGoTo = function (item) {
        if (item.view) {
            this.goToPage.emit(item.view);
        }
        else if (item.link) {
            this.goToLink.emit(item.link);
        }
    };
    SidenavComponent.prototype.setLayout = function (ly) {
        this.layout = ly;
        if (this.layout.navigation) {
            this.layoutNavigation = this.layout.navigation;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSidenav"])
    ], SidenavComponent.prototype, "sidenav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SidenavComponent.prototype, "goToPage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SidenavComponent.prototype, "goToLink", void 0);
    SidenavComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sidenav',
            template: __webpack_require__(/*! ./sidenav.component.html */ "./app/sidenav/sidenav.component.html"),
            styles: [__webpack_require__(/*! ./sidenav.component.css */ "./app/sidenav/sidenav.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]])
    ], SidenavComponent);
    return SidenavComponent;
}());



/***/ }),

/***/ "./app/tester/tester.component.css":
/*!*****************************************!*\
  !*** ./app/tester/tester.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".tester-panel {\r\n    width: 300px;\r\n    height: 563px;\r\n    z-index: 99999 !important;\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 50px;\r\n    color: rgb(240, 240, 240);\r\n    background-color: rgb(46, 46, 48);\r\n    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n    border: 0px !important;\r\n}\r\n\r\n.tester-header {\r\n    height: 30px;\r\n    color: rgb(230, 230, 230);\r\n    padding-left: 10px;\r\n    cursor: move;\r\n    line-height: 30px;\r\n    background-color: rgb(0, 0, 0);\r\n}\r\n\r\n.tester-close {\r\n    font-size: 28px;\r\n    cursor: pointer;\r\n    right: 5px;\r\n    position: absolute;\r\n    top: 0px;\r\n}\r\n\r\n.tester-body {\r\n    overflow-y: auto;\r\n    height: 350px;\r\n    color: rgb(230, 230, 230);\r\n}\r\n\r\n.tester-output {\r\n    overflow-y: auto;\r\n    height: 180px;\r\n    border-top: 1px solid gray;\r\n    padding: 2px 2px 0px 2px;\r\n    color: rgb(230, 230, 230);\r\n    padding-left: 5px;\r\n}\r\n\r\n.output-item {\r\n    display: block;\r\n    font-size: 12px;\r\n}\r\n\r\n.svg-property {\r\n    color: rgba(0, 0, 0, 0.75);\r\n}\r\n\r\n.svg-property span {\r\n    display: block;\r\n    font-size: 12px;\r\n    margin: 0px 5px 0px 10px;\r\n    color: rgb(230, 230, 230);\r\n}\r\n\r\n.svg-property input {\r\n    width: 50%;\r\n    display: inline-block;\r\n    margin: 0px 10px 12px 10px;\r\n    border: unset;\r\n    background-color: inherit;\r\n    color: rgb(230, 230, 230);\r\n    background-color: rgb(66, 66, 66);\r\n    height: 22px;\r\n}\r\n\r\n.svg-property button {\r\n    height: 26px;\r\n}\r\n"

/***/ }),

/***/ "./app/tester/tester.component.html":
/*!******************************************!*\
  !*** ./app/tester/tester.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"tester-panel\" *ngIf=\"show\" ngDraggable>\r\n    <style>\r\n        pre {\r\n            white-space: pre-line;\r\n        }\r\n    </style>\r\n    <div name=\"dlgTesterForm\">\r\n        <div class=\"tester-header\">\r\n            <div class=\"tester-title\">\r\n                {{'tester.title' | translate}}\r\n            </div>\r\n            <div class=\"tester-close\" (click)=\"close()\">\r\n                &times;\r\n            </div>\r\n        </div>\r\n        <div class=\"tester-body\">\r\n            <div class=\"_svg-property\" mat-dialog-actions>\r\n            </div>\r\n            <br>\r\n            <div *ngFor=\"let item of items\">\r\n                <div class=\"svg-property\">\r\n                    <span>{{item.source}} - {{item.name}} :</span>\r\n                    <input id=\"item.name\" [(ngModel)]=\"item.value\" type=\"text\" class=\"no-spinners\" />\r\n                    <button mat-raised-button color=\"primary\" type=\"button\" class=\"\" (click)=\"setSignal(item)\">\r\n                        {{'tester.send' | translate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"tester-output\">\r\n            <span *ngFor=\"let item of output; index as i\" class=\"output-item\">\r\n                {{item}}\r\n            </span>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/tester/tester.component.ts":
/*!****************************************!*\
  !*** ./app/tester/tester.component.ts ***!
  \****************************************/
/*! exports provided: TesterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TesterComponent", function() { return TesterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _services_hmi_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/hmi.service */ "./app/_services/hmi.service.ts");
/* harmony import */ var _tester_tester_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tester/tester.service */ "./app/tester/tester.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TesterComponent = /** @class */ (function () {
    // items: Map<string, GaugeSettings> = new Map<string, GaugeSettings>();
    function TesterComponent(hmiService, gaugesManager, testerService) {
        this.hmiService = hmiService;
        this.gaugesManager = gaugesManager;
        this.testerService = testerService;
        this.show = false;
        this.items = [];
        this.output = [];
        this.demoSwitch = true;
    }
    TesterComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.testerService.change.subscribe(function (isOpen) {
            _this.show = isOpen;
        });
        this.gaugesManager.onevent.subscribe(function (event) {
            if (event.dbg) {
                _this.addOutput(event.dbg);
            }
        });
    };
    TesterComponent.prototype.ngOnDestroy = function () {
        this.stopDemo();
    };
    TesterComponent.prototype.setSignal = function (sig) {
        this.hmiService.setSignalValue(sig);
        this.addOutput(' > ' + sig.source + ' - ' + sig.name + ' = ' + sig.value);
    };
    TesterComponent.prototype.setSignals = function (items) {
        this.items = items;
    };
    TesterComponent.prototype.setDemo = function (flag) {
        if (flag) {
            // this.gaugesManager.startDemo();
        }
        else {
            // this.gaugesManager.stopDemo();
        }
    };
    TesterComponent.prototype.addOutput = function (item) {
        this.output.unshift(item);
    };
    TesterComponent.prototype.close = function () {
        this.testerService.toggle(false);
    };
    TesterComponent.prototype.startDemo = function () {
        var _this = this;
        this.stopDemo();
        var sourcetimer = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["timer"])(2000, 1500);
        this.subscription = sourcetimer.subscribe(function (t) {
            _this.demoValue();
        });
    };
    TesterComponent.prototype.stopDemo = function () {
        try {
            if (this.subscription) {
                this.subscription.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    TesterComponent.prototype.demoValue = function () {
    };
    TesterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tester',
            template: __webpack_require__(/*! ./tester.component.html */ "./app/tester/tester.component.html"),
            styles: [__webpack_require__(/*! ./tester.component.css */ "./app/tester/tester.component.css")]
        }),
        __metadata("design:paramtypes", [_services_hmi_service__WEBPACK_IMPORTED_MODULE_3__["HmiService"], _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_1__["GaugesManager"],
            _tester_tester_service__WEBPACK_IMPORTED_MODULE_4__["TesterService"]])
    ], TesterComponent);
    return TesterComponent;
}());



/***/ }),

/***/ "./app/tester/tester.service.ts":
/*!**************************************!*\
  !*** ./app/tester/tester.service.ts ***!
  \**************************************/
/*! exports provided: TesterService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TesterService", function() { return TesterService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TesterService = /** @class */ (function () {
    function TesterService() {
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    TesterService.prototype.toggle = function (flag) {
        this.change.emit(flag);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], TesterService.prototype, "change", void 0);
    TesterService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], TesterService);
    return TesterService;
}());



/***/ }),

/***/ "./app/text-list/item-text.dialog.html":
/*!*********************************************!*\
  !*** ./app/text-list/item-text.dialog.html ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width: 600px;\">\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.textproperty-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div mat-dialog-content *ngIf=\"data.editmode < 0\">\r\n\t\t{{'msg.text-remove' | translate}} ({{data.text.name}}) '{{data.text.value}}' ?\r\n\t</div>\r\n    <div mat-dialog-content *ngIf=\"data.editmode >= 0\">\r\n        <div class=\"my-form-field\" style=\"display: inline-block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.textproperty-id' | translate}}</span>\r\n            <input [(ngModel)]=\"data.text.name\" type=\"text\" (change)=\"checkValid()\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"margin-bottom: 10px;padding-left: 20px;float: right;\">\r\n            <span>{{'dlg.textproperty-group' | translate}}</span>\r\n            <input [(ngModel)]=\"data.text.group\" type=\"text\" (change)=\"checkValid()\" style=\"width:325px\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;width: 100%;\">\r\n            <span>{{'dlg.textproperty-value' | translate}}</span>\r\n            <input [(ngModel)]=\"data.text.value\" type=\"text\" (change)=\"checkValid()\" style=\"width: 545px;\">\r\n        </div>\r\n        <div style=\"height: 20px\">\r\n            <div class=\"message-error\" *ngIf=\"errorExist\">\r\n                <span>{{'msg.textproperty-error-exist' | translate}}</span>\r\n            </div>\r\n            <div class=\"message-error\" *ngIf=\"errorMissingValue\">\r\n                <span>{{'msg.textproperty-missing-value' | translate}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/text-list/text-list.component.css":
/*!***********************************************!*\
  !*** ./app/text-list/text-list.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".header-panel {\r\n    /* z-index: 9999 !important; */\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: rgba(33,33,33,1);\r\n    /* background-color: rgba(33,33,33,0.92); */\r\n    color: rgba(255,255,255,1);\r\n    height: 40px;\r\n    width: 100%;\r\n    text-align: center;\r\n    line-height: 40px;\r\n}\r\n\r\n.work-panel {\r\n    position: absolute;\r\n    top: 40px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\n.filter {\r\n    display: inline-block;\r\n    min-height: 60px;\r\n    padding: 8px 24px 0;\r\n}\r\n\r\n.filter .mat-form-field {\r\n    font-size: 14px;\r\n    width: 100%;\r\n}\r\n\r\n.table {\r\n    height: 705px;\r\n}\r\n\r\n.mat-table {\r\n    overflow: auto;\r\n    min-width: 1560px;\r\n    /* margin: 5px; */\r\n    /* max-height: 500px; */\r\n}\r\n\r\n.mat-header-cell.mat-sort-header-sorted {\r\n    color: black;\r\n}\r\n\r\n.mat-header-row {\r\n    top: 0;\r\n    position: sticky;\r\n    z-index: 1;\r\n    background-color: rgba(76,76,76,1);\r\n    color: white;\r\n}\r\n\r\n.mat-header-cell {\r\n    color: white;\r\n    font-size: 14px;\r\n}\r\n\r\n.mat-column-select {\r\n    overflow: visible;\r\n    flex: 0 0 100px;\r\n}\r\n\r\n.mat-column-id {\r\n    flex: 0 0 300px;\r\n}\r\n\r\n.mat-column-group {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-value {\r\n    flex: 0 0 800px;\r\n}\r\n\r\n.mat-column-remove {\r\n    flex: 0 0 60px;\r\n}\r\n\r\n.selectidthClass{\r\n    flex: 0 0 50px;\r\n }\r\n\r\n.message-error {\r\n    display: inline-block;\r\n    /* background-color: red;; */\r\n    color:red;\r\n}"

/***/ }),

/***/ "./app/text-list/text-list.component.html":
/*!************************************************!*\
  !*** ./app/text-list/text-list.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"header-panel\">\r\n    {{'texts.list-title' | translate}}\r\n</div>\r\n<div class=\"work-panel\">\r\n    <!-- <div class=\"filter\">\r\n        <div class=\"my-form-field\" style=\"padding-right: 10px;\">\r\n            <span>{{'texts.list-filter-group' | translate}}</span>\r\n            <mat-select [(value)]=\"groupSelected\" style=\"width: 300px\" (selectionChange)=\"onGroupChange($event.source)\">\r\n                <mat-option *ngFor=\"let group of groups\" [value]=\"group\">\r\n                    {{ group }}\r\n                </mat-option>\r\n            </mat-select>\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"padding-right: 10px;\">\r\n            <span>{{'texts.list-filter' | translate}}</span>\r\n            <input (keyup)=\"applyFilter($event.target.value)\" style=\"width: 450px\" type=\"text\">\r\n        </div>\r\n    </div> -->\r\n    <mat-table #table [dataSource]=\"dataSource\" matSort>\r\n        <!-- Checkbox Column -->\r\n        <ng-container matColumnDef=\"select\">\r\n            <mat-header-cell *matHeaderCellDef [ngClass]=\"'selectidthClass'\">\r\n                <button mat-icon-button (click)=\"onAddText()\" class=\"remove\">\r\n                    <mat-icon>add</mat-icon>\r\n                </button>\r\n            </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\" [ngClass]=\"'selectidthClass'\">\r\n                <button mat-icon-button (click)=\"onEditText(element)\" class=\"remove\">\r\n                    <mat-icon>edit</mat-icon>\r\n                </button>\r\n            </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- ID Column -->\r\n        <ng-container matColumnDef=\"id\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'texts.list-id' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Group Column -->\r\n        <ng-container matColumnDef=\"group\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'texts.list-group' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.group}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Device Column -->\r\n        <ng-container matColumnDef=\"value\">\r\n            <mat-header-cell *matHeaderCellDef mat-sort-header> {{'texts.list-value' | translate}} </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\"> {{element.value}} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Button remove Column -->\r\n        <ng-container matColumnDef=\"remove\">\r\n            <mat-header-cell *matHeaderCellDef> </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let element\">\r\n                <button mat-icon-button (click)=\"$event.stopPropagation();onRemoveText(element)\" class=\"remove\">\r\n                    <mat-icon>clear</mat-icon>\r\n                </button>\r\n            </mat-cell>\r\n        </ng-container>\r\n\r\n        <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"my-mat-row\"></mat-row>\r\n    </mat-table>\r\n</div>\r\n<button mat-fab color=\"primary\" (click)=\"onAddText()\"\r\n    style=\"position: absolute; right: 20px; bottom: 30px; z-index: 9999;\">\r\n    <mat-icon class=\"\">add</mat-icon>\r\n</button>"

/***/ }),

/***/ "./app/text-list/text-list.component.ts":
/*!**********************************************!*\
  !*** ./app/text-list/text-list.component.ts ***!
  \**********************************************/
/*! exports provided: TextListComponent, DialogItemText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextListComponent", function() { return TextListComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogItemText", function() { return DialogItemText; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/collections */ "../node_modules/@angular/cdk/esm5/collections.es5.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _models_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_models/text */ "./app/_models/text.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var TextListComponent = /** @class */ (function () {
    function TextListComponent(dialog, projectService) {
        this.dialog = dialog;
        this.projectService = projectService;
        this.displayedColumns = ['select', 'id', 'group', 'value', 'remove'];
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"]([]);
        this.selection = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_2__["SelectionModel"](true, []);
    }
    TextListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.loadTexts();
        this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (res) {
            _this.loadTexts();
        });
    };
    TextListComponent.prototype.ngAfterViewInit = function () {
        this.dataSource.sort = this.sort;
    };
    TextListComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    TextListComponent.prototype.onAddText = function () {
        var text = new _models_text__WEBPACK_IMPORTED_MODULE_4__["Text"]();
        this.editText(text, 1);
    };
    TextListComponent.prototype.onEditText = function (text) {
        this.editText(text, 0);
    };
    TextListComponent.prototype.onRemoveText = function (text) {
        this.editText(text, -1);
    };
    TextListComponent.prototype.editText = function (text, toAdd) {
        var _this = this;
        var mtext = JSON.parse(JSON.stringify(text));
        var dialogRef = this.dialog.open(DialogItemText, {
            position: { top: '60px' },
            data: { text: mtext, editmode: toAdd, texts: this.dataSource.data }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                if (toAdd < 0) {
                    _this.projectService.removeText(result);
                }
                else {
                    _this.projectService.setText(result, text);
                }
                _this.loadTexts();
            }
        });
    };
    TextListComponent.prototype.loadTexts = function () {
        this.dataSource.data = this.projectService.getTexts();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"])
    ], TextListComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], TextListComponent.prototype, "sort", void 0);
    TextListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-text-list',
            template: __webpack_require__(/*! ./text-list.component.html */ "./app/text-list/text-list.component.html"),
            styles: [__webpack_require__(/*! ./text-list.component.css */ "./app/text-list/text-list.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _services_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"]])
    ], TextListComponent);
    return TextListComponent;
}());

var DialogItemText = /** @class */ (function () {
    function DialogItemText(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.existtexts = [];
        this.errorExist = false;
        this.errorMissingValue = false;
        if (data.editmode > 0) {
            data.text.name = this.getNextTextId();
        }
        if (data.texts) {
            this.existtexts = data.texts.filter(function (t) { return t.name !== data.text.name; });
        }
    }
    DialogItemText.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogItemText.prototype.onOkClick = function () {
        if (this.data.editmode < 0 || this.checkValid())
            this.dialogRef.close(this.data.text);
    };
    DialogItemText.prototype.checkValid = function () {
        var _this = this;
        this.errorMissingValue = (!this.data.text.name || !this.data.text.value);
        this.errorExist = (this.existtexts.find(function (tx) { return tx.name === _this.data.text.name; })) ? true : false;
        return !(this.errorMissingValue || this.errorExist);
    };
    DialogItemText.prototype.getNextTextId = function () {
        var prefix = 'text_';
        var num = 1;
        if (this.data.texts) {
            while (this.data.texts.find(function (tx) { return tx.name === prefix + num; })) {
                num++;
            }
        }
        return prefix + num;
    };
    DialogItemText = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-item-text',
            template: __webpack_require__(/*! ./item-text.dialog.html */ "./app/text-list/item-text.dialog.html"),
            styles: [__webpack_require__(/*! ./text-list.component.css */ "./app/text-list/text-list.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogItemText);
    return DialogItemText;
}());



/***/ }),

/***/ "./app/users/user.dialog.html":
/*!************************************!*\
  !*** ./app/users/user.dialog.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <h1 mat-dialog-title style=\"display:inline-block;cursor:move;\" mat-dialog-draggable>{{'dlg.userproperty-title' | translate}}</h1>\r\n    <mat-icon (click)=\"onNoClick()\" style=\"float:right;margin-right:-10px;margin-top:-10px;cursor:pointer;color:gray;\">clear</mat-icon>\r\n    <div mat-dialog-content *ngIf=\"data.editmode < 0\">\r\n\t\t{{'msg.user-remove' | translate}} '{{data.user.username}}' ?\r\n\t</div>\r\n    <div mat-dialog-content *ngIf=\"data.editmode >= 0\">\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'general.username' | translate}}</span>\r\n            <input [(ngModel)]=\"data.user.username\" type=\"text\" style=\"width: 125px\" [readonly]=\"data.editmode == 0\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'general.fullname' | translate}}</span>\r\n            <input [(ngModel)]=\"data.user.fullname\" type=\"text\" style=\"width: 250px\" [readonly]=\"data.editmode == 0\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'general.password' | translate}}</span>\r\n            <input autocomplete=\"off\" [type]=\"showPassword ? 'text' : 'password'\" [(ngModel)]=\"data.user.password\" style=\"width: 250px\" *ngIf=\"data.editmode >= 1\">\r\n            <mat-icon matSuffix (click)=\"showPassword = !showPassword\" class=\"show-password\" *ngIf=\"data.editmode >= 1\">{{showPassword ? 'visibility' : 'visibility_off'}}</mat-icon>\r\n            <input autocomplete=\"off\" [(ngModel)]=\"data.user.password\" type=\"password\" style=\"width: 250px\" placeholder=\"\" *ngIf=\"data.editmode == 0\">\r\n        </div>\r\n        <div class=\"my-form-field\" style=\"display: block;margin-bottom: 10px;\">\r\n            <span>{{'dlg.userproperty-groups' | translate}}</span>\r\n            <sel-options #seloptions [selected]=\"selectedGroups\" [disabled]=\"isAdmin()\" [options]=\"groups\"></sel-options>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions class=\"dialog-action\">\r\n        <button mat-raised-button (click)=\"onNoClick()\">{{'dlg.cancel' | translate}}</button>\r\n        <button mat-raised-button [disabled]=\"!isValid(data.user.username)\" color=\"primary\" (click)=\"onOkClick()\" cdkFocusInitial>{{'dlg.ok' | translate}}</button>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./app/users/users.component.css":
/*!***************************************!*\
  !*** ./app/users/users.component.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".header-panel {\r\n    /* z-index: 9999 !important; */\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: rgba(33,33,33,1);\r\n    /* background-color: rgba(33,33,33,0.92); */\r\n    color: rgba(255,255,255,1);\r\n    height: 40px;\r\n    width: 100%;\r\n    text-align: center;\r\n    line-height: 40px;;\r\n}\r\n\r\n.work-panel {\r\n    position: absolute;\r\n    top: 40px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\n.container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 300px;\r\n    position: absolute;\r\n    bottom: 0px;\r\n    top: 0px;\r\n    left:0px;\r\n    right:0px;\r\n    background-color: white;\r\n}\r\n\r\n.mat-table {\r\n    overflow: auto;\r\n    min-width: 1560px;\r\n}\r\n\r\n.mat-header-cell.mat-sort-header-sorted {\r\n    color: black;\r\n}\r\n\r\n.mat-header-row {\r\n    top: 0;\r\n    position: sticky;\r\n    z-index: 1;\r\n    background-color: rgb(58, 58, 58);\r\n    color: white;\r\n}\r\n\r\n.mat-header-cell {\r\n    color: white;\r\n    font-size: 14px;\r\n}\r\n\r\n.mat-column-select {\r\n    overflow: visible;\r\n    flex: 0 0 100px;\r\n}\r\n\r\n.mat-column-username {\r\n    flex: 0 0 200px;\r\n}\r\n\r\n.mat-column-fullname {\r\n    flex: 0 0 250px;\r\n}\r\n\r\n.mat-column-groups {\r\n    flex: 0 0 750px;\r\n}\r\n\r\n.mat-column-remove {\r\n    flex: 0 0 60px;\r\n}\r\n\r\n.selectidthClass{\r\n    flex: 0 0 50px;\r\n }\r\n\r\n.show-password {\r\n    bottom: 2px;\r\n    right: 8px;\r\n    position: absolute;\r\n}"

/***/ }),

/***/ "./app/users/users.component.html":
/*!****************************************!*\
  !*** ./app/users/users.component.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"header-panel\">\r\n\t{{'users.list-title' | translate}}\r\n</div>\r\n<div class=\"work-panel\">\r\n\t<div class=\"container\">\r\n\t\t<mat-table #table [dataSource]=\"dataSource\" matSort>\r\n\t\t\t<!-- Edit Column -->\r\n\t\t\t<ng-container matColumnDef=\"select\">\r\n\t\t\t\t<mat-header-cell *matHeaderCellDef [ngClass]=\"'selectidthClass'\">\r\n\t\t\t\t\t<button mat-icon-button (click)=\"onAddUser()\" class=\"remove\">\r\n\t\t\t\t\t\t<mat-icon>add</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</mat-header-cell>\r\n\t\t\t\t<mat-cell *matCellDef=\"let element\" [ngClass]=\"'selectidthClass'\">\r\n\t\t\t\t\t<button mat-icon-button (click)=\"onEditUser(element)\" class=\"remove\">\r\n\t\t\t\t\t\t<mat-icon>edit</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</mat-cell>\r\n\t\t\t</ng-container>\r\n\r\n\t\t\t<!-- Username Column -->\r\n\t\t\t<ng-container matColumnDef=\"username\">\r\n\t\t\t\t<mat-header-cell *matHeaderCellDef mat-sort-header> {{'users.list-name' | translate}} </mat-header-cell>\r\n\t\t\t\t<mat-cell *matCellDef=\"let element\"> {{element.username}} </mat-cell>\r\n\t\t\t</ng-container>\r\n\r\n\t\t\t<!-- Fullname Column -->\r\n\t\t\t<ng-container matColumnDef=\"fullname\">\r\n\t\t\t\t<mat-header-cell *matHeaderCellDef mat-sort-header> {{'users.list-fullname' | translate}} </mat-header-cell>\r\n\t\t\t\t<mat-cell *matCellDef=\"let element\"> {{element.fullname}} </mat-cell>\r\n\t\t\t</ng-container>\r\n\t\t\t\r\n\t\t\t<!-- Access Column -->\r\n\t\t\t<ng-container matColumnDef=\"groups\">\r\n\t\t\t\t<mat-header-cell *matHeaderCellDef mat-sort-header> {{'users.list-groups' | translate}} </mat-header-cell>\r\n\t\t\t\t<mat-cell *matCellDef=\"let element\"> {{groupValueToLabel(element.groups)}} </mat-cell>\r\n\t\t\t</ng-container>\r\n\r\n\t\t\t<!-- Button remove Column -->\r\n\t\t\t<ng-container matColumnDef=\"remove\">\r\n\t\t\t\t<mat-header-cell *matHeaderCellDef> </mat-header-cell>\r\n\t\t\t\t<mat-cell *matCellDef=\"let element\">\r\n\t\t\t\t\t<button mat-icon-button (click)=\"$event.stopPropagation();onRemoveUser(element)\" class=\"remove\" *ngIf=\"!isAdmin(element)\">\r\n\t\t\t\t\t\t<mat-icon>clear</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</mat-cell>\r\n\t\t\t</ng-container>\r\n\r\n\t\t\t<mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n\t\t\t<mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"my-mat-row\"></mat-row>\r\n\t\t</mat-table>\r\n\t</div>\r\n</div>\r\n\r\n<button mat-fab color=\"primary\" (click)=\"onAddUser()\" class=\"fab-add\">\r\n\t<mat-icon class=\"\">add</mat-icon>\r\n</button>"

/***/ }),

/***/ "./app/users/users.component.ts":
/*!**************************************!*\
  !*** ./app/users/users.component.ts ***!
  \**************************************/
/*! exports provided: UsersComponent, DialogUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersComponent", function() { return UsersComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogUser", function() { return DialogUser; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "../node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gui-helpers/sel-options/sel-options.component */ "./app/gui-helpers/sel-options/sel-options.component.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_services/user.service */ "./app/_services/user.service.ts");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_models/user */ "./app/_models/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var UsersComponent = /** @class */ (function () {
    function UsersComponent(dialog, userService) {
        this.dialog = dialog;
        this.userService = userService;
        this.displayedColumns = ['select', 'username', 'fullname', 'groups', 'remove'];
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"]([]);
    }
    UsersComponent.prototype.ngOnInit = function () {
        this.loadUsers();
    };
    UsersComponent.prototype.ngAfterViewInit = function () {
        this.dataSource.sort = this.sort;
    };
    UsersComponent.prototype.onAddUser = function () {
        var user = new _models_user__WEBPACK_IMPORTED_MODULE_4__["User"]();
        this.editUser(user, 1);
    };
    UsersComponent.prototype.onEditUser = function (user) {
        this.editUser(user, 0);
    };
    UsersComponent.prototype.onRemoveUser = function (user) {
        this.editUser(user, -1);
    };
    UsersComponent.prototype.isAdmin = function (user) {
        if (user && user.username === 'admin') {
            return true;
        }
        else {
            return false;
        }
    };
    UsersComponent.prototype.groupValueToLabel = function (grp) {
        return _models_user__WEBPACK_IMPORTED_MODULE_4__["UserGroups"].GroupToLabel(grp);
    };
    UsersComponent.prototype.loadUsers = function () {
        var _this = this;
        this.users = [];
        this.userService.getUsers(null).subscribe(function (result) {
            Object.values(result).forEach(function (u) {
                _this.users.push(u);
            });
            _this.bindToTable(_this.users);
        }, function (err) {
            console.log('get Users err: ' + err);
        });
    };
    UsersComponent.prototype.editUser = function (user, toAdd) {
        var _this = this;
        var muser = JSON.parse(JSON.stringify(user));
        muser.password = '';
        var dialogRef = this.dialog.open(DialogUser, {
            position: { top: '60px' },
            data: { user: muser, editmode: toAdd, users: this.users.map(function (u) { return u.username; }) }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                if (toAdd < 0) {
                    _this.userService.removeUser(result).subscribe(function (result) {
                        _this.users = _this.users.filter(function (el) { return el.username !== muser.username; });
                        _this.bindToTable(_this.users);
                    }, function (err) {
                    });
                }
                else {
                    _this.userService.setUser(result).subscribe(function (result) {
                        if (toAdd < 0) {
                            _this.users.push(muser);
                        }
                        else if (toAdd > 0) {
                            _this.users.push(muser);
                        }
                        else {
                            user.groups = muser.groups;
                            if (muser.password) {
                                user.password = muser.password;
                            }
                        }
                        _this.bindToTable(_this.users);
                    }, function (err) {
                    });
                }
            }
        }, function (err) {
        });
    };
    UsersComponent.prototype.bindToTable = function (users) {
        this.dataSource.data = users;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTable"])
    ], UsersComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], UsersComponent.prototype, "sort", void 0);
    UsersComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-users',
            template: __webpack_require__(/*! ./users.component.html */ "./app/users/users.component.html"),
            styles: [__webpack_require__(/*! ./users.component.css */ "./app/users/users.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"]])
    ], UsersComponent);
    return UsersComponent;
}());

var DialogUser = /** @class */ (function () {
    function DialogUser(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.selectedGroups = [];
        this.groups = _models_user__WEBPACK_IMPORTED_MODULE_4__["UserGroups"].Groups;
        this.selectedGroups = _models_user__WEBPACK_IMPORTED_MODULE_4__["UserGroups"].ValueToGroups(this.data.user.groups);
    }
    DialogUser.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogUser.prototype.onOkClick = function () {
        if (this.seloptions) {
            this.data.user.groups = _models_user__WEBPACK_IMPORTED_MODULE_4__["UserGroups"].GroupsToValue(this.seloptions.selected);
        }
        this.dialogRef.close(this.data.user);
    };
    DialogUser.prototype.isValid = function (name) {
        if (this.data.editmode <= 0) {
            return true;
        }
        else if (name) {
            return (this.data.users.find(function (n) { return n === name; })) ? false : true;
        }
        return false;
    };
    DialogUser.prototype.isAdmin = function () {
        if (this.data.user && this.data.user.username === 'admin') {
            return true;
        }
        else {
            return false;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_2__["SelOptionsComponent"]),
        __metadata("design:type", _gui_helpers_sel_options_sel_options_component__WEBPACK_IMPORTED_MODULE_2__["SelOptionsComponent"])
    ], DialogUser.prototype, "seloptions", void 0);
    DialogUser = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'dialog-user',
            template: __webpack_require__(/*! ./user.dialog.html */ "./app/users/user.dialog.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], DialogUser);
    return DialogUser;
}());



/***/ }),

/***/ "./app/view/view.component.css":
/*!*************************************!*\
  !*** ./app/view/view.component.css ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".view-body {\r\n    display: table;\r\n    margin: 0 auto;\r\n}\r\n\r\n.view-container {\r\n    position: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\tright: 0px;\r\n\toverflow: auto;\r\n}"

/***/ }),

/***/ "./app/view/view.component.html":
/*!**************************************!*\
  !*** ./app/view/view.component.html ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div id=\"container\"  class=\"view-container\" #container>\r\n    <app-fuxa-view #fuxaview class=\"view-body\" id=\"view\" [view]=\"startView\" [hmi]=\"hmi\" [gaugesManager]=\"gaugesManager\"></app-fuxa-view>\r\n</div>\r\n"

/***/ }),

/***/ "./app/view/view.component.ts":
/*!************************************!*\
  !*** ./app/view/view.component.ts ***!
  \************************************/
/*! exports provided: ViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewComponent", function() { return ViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_services/project.service */ "./app/_services/project.service.ts");
/* harmony import */ var _models_hmi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_models/hmi */ "./app/_models/hmi.ts");
/* harmony import */ var _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../gauges/gauges.component */ "./app/gauges/gauges.component.ts");
/* harmony import */ var _fuxa_view_fuxa_view_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../fuxa-view/fuxa-view.component */ "./app/fuxa-view/fuxa-view.component.ts");
/* harmony import */ var panzoom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! panzoom */ "../node_modules/panzoom/index.js");
/* harmony import */ var panzoom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(panzoom__WEBPACK_IMPORTED_MODULE_6__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ViewComponent = /** @class */ (function () {
    function ViewComponent(projectService, route, changeDetector, gaugesManager) {
        this.projectService = projectService;
        this.route = route;
        this.changeDetector = changeDetector;
        this.gaugesManager = gaugesManager;
        this.startView = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["View"]();
        this.hmi = new _models_hmi__WEBPACK_IMPORTED_MODULE_3__["Hmi"]();
    }
    ViewComponent.prototype.ngOnInit = function () {
        this.viewName = this.route.snapshot.queryParamMap.get('name');
    };
    ViewComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        try {
            var hmi = this.projectService.getHmi();
            if (hmi) {
                this.loadHmi();
            }
            this.subscriptionLoad = this.projectService.onLoadHmi.subscribe(function (load) {
                _this.loadHmi();
            }, function (error) {
                console.log('Error loadHMI');
            });
            this.changeDetector.detectChanges();
        }
        catch (err) {
            console.log(err);
        }
    };
    ViewComponent.prototype.ngOnDestroy = function () {
        try {
            if (this.subscriptionLoad) {
                this.subscriptionLoad.unsubscribe();
            }
        }
        catch (e) {
        }
    };
    ViewComponent.prototype.loadHmi = function () {
        var _this = this;
        var hmi = this.projectService.getHmi();
        if (hmi) {
            this.hmi = hmi;
        }
        if (this.hmi && this.hmi.views && this.hmi.views.length > 0) {
            this.startView = this.hmi.views.find(function (x) { return x.name === _this.viewName; });
            this.setBackground();
            if (this.startView && this.fuxaview) {
                this.fuxaview.loadHmi(this.startView);
            }
            if (this.hmi.layout && this.hmi.layout.zoom && _models_hmi__WEBPACK_IMPORTED_MODULE_3__["ZoomModeType"][this.hmi.layout.zoom] === _models_hmi__WEBPACK_IMPORTED_MODULE_3__["ZoomModeType"].enabled) {
                setTimeout(function () {
                    var element = document.querySelector('#view');
                    if (element && panzoom__WEBPACK_IMPORTED_MODULE_6___default.a) {
                        panzoom__WEBPACK_IMPORTED_MODULE_6___default()(element, {
                            bounds: true,
                            boundsPadding: 0.05,
                        });
                        _this.container.nativeElement.style.overflow = 'hidden';
                    }
                }, 1000);
            }
        }
    };
    ViewComponent.prototype.setBackground = function () {
        if (this.startView && this.startView.profile) {
            document.getElementById("main-container").style.backgroundColor = this.startView.profile.bkcolor;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('fuxaview'),
        __metadata("design:type", _fuxa_view_fuxa_view_component__WEBPACK_IMPORTED_MODULE_5__["FuxaViewComponent"])
    ], ViewComponent.prototype, "fuxaview", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('container'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ViewComponent.prototype, "container", void 0);
    ViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-view',
            template: __webpack_require__(/*! ./view.component.html */ "./app/view/view.component.html"),
            styles: [__webpack_require__(/*! ./view.component.css */ "./app/view/view.component.css")]
        }),
        __metadata("design:paramtypes", [_services_project_service__WEBPACK_IMPORTED_MODULE_2__["ProjectService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _gauges_gauges_component__WEBPACK_IMPORTED_MODULE_4__["GaugesManager"]])
    ], ViewComponent);
    return ViewComponent;
}());



/***/ }),

/***/ "./environments/environment.ts":
/*!*************************************!*\
  !*** ./environments/environment.ts ***!
  \*************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var environment = {
    version: __webpack_require__(/*! ../../package.json */ "../package.json").version,
    production: false,
    apiEndpoint: null,
    apiPort: 1881,
    serverEnabled: true,
    type: null
};


/***/ }),

/***/ "./main.ts":
/*!*****************!*\
  !*** ./main.ts ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "../node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***********************!*\
  !*** multi ./main.ts ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\work\FUXA\fuxa\client\src\main.ts */"./main.ts");


/***/ }),

/***/ 1:
/*!********************!*\
  !*** ws (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map