(self.webpackChunkFUXA=self.webpackChunkFUXA||[]).push([[792],{8326:(Rt,Be,ie)=>{"use strict";ie.d(Be,{G:()=>D});var N=ie(5312),K=ie(7705);let D=(()=>{class e{static url=null;static getURL(){if(!this.url)if(N.c.apiEndpoint)this.url=N.c.apiEndpoint;else{location;let p=location.origin.split("/")[2];const h=location.origin.split(":")[0],g=p.split(":")[0];g.length>1&&N.c.apiPort&&(p=g+":"+N.c.apiPort),this.url=h+"://"+p}return this.url}static getRemoteURL(_){return location.origin.split(":")[0]+"://"+_+":"+N.c.apiPort+"/api"}static \u0275fac=function(p){return new(p||e)};static \u0275prov=K.jDH({token:e,factory:e.\u0275fac})}return e})()},3728:(Rt,Be,ie)=>{"use strict";ie.d(Be,{Aq:()=>K,yN:()=>D});var N=ie(7705);class K{static _seed=Date.now();static minDate=new Date(1970,0,1);static maxDate=new Date(2100,11,31);static defaultColor=["#FFFFFF","#000000","#EEECE1","#1F497D","#4F81BD","#C0504D","#9BBB59","#8064A2","#4BACC6","#F79646","#C00000","#FF0000","#FFC000","#FFD04A","#FFFF00","#92D050","#0AC97D","#00B050","#00B0F0","#4484EF","#3358C0","#002060","#7030A0","#D8D8D8","#BFBFBF","#A5A5A5","#7F7F7F","#595959","#3F3F3F","#262626"];static lineColor=["#4484ef","#ef0909","#00b050","#ffd04a","#7030a0","#a5a5a5","#c0504d","#000000"];static svgTagToType=["rect","line","path","circle","ellipse","text"];static walkTree(_,p){if(_&&1==_.nodeType){p(_);for(var h=_.childNodes.length;h--;)this.walkTree(_.childNodes.item(h),p)}}static searchTreeStartWith(_,p){if(_.id.startsWith(p))return _;if(null!=_.children){var h,g=null;for(h=0;null==g&&h<_.children.length;h++)g=K.searchTreeStartWith(_.children[h],p);return g}return null}static childrenStartWith(_,p){let h=[];for(let g=0;g<_.children?.length;g++)_.children[g].id.startsWith(p)&&h.push(_.children[g]);return h}static searchTreeTagName(_,p){if(_.tagName===p)return _;if(null!=_.children){var h,g=null;for(h=0;null==g&&h<_.children.length;h++)g=K.searchTreeTagName(_.children[h],p);return g}return null}static findElementByIdRecursive(_,p){if(!_)return null;if(_.id===p)return _;for(let h=0;h<_.children.length;h++){const w=this.findElementByIdRecursive(_.children[h],p);if(w)return w}return null}static searchValuesByAttribute(_,p){const h=[];return function g(w){if(Array.isArray(w))for(const y of w)g(y);else if("object"==typeof w&&null!==w){w.hasOwnProperty(p)&&h.push(w[p]);for(const y in w)g(w[y])}}(_),h}static changeAttributeValue(_,p,h,g){!function w(y){if(Array.isArray(y))for(const b of y)w(b);else if("object"==typeof y&&null!==y){y.hasOwnProperty(p)&&y[p]===h&&(y[p]=g);for(const b in y)w(y[b])}}(_)}static replaceStringInObject(_,p,h){let g=JSON.stringify(_);const w=new RegExp(p,"g");return g=g.replace(w,h),JSON.parse(g)}static getInTreeIdAndType(_){let p=_.getAttribute("type");!p&&K.svgTagToType.includes(_.tagName.toLowerCase())&&(p="svg-ext-shapes-"+_.tagName.toLowerCase());let h=_.getAttribute("id"),g=[];h&&p&&(g=[{id:h,type:p}]);for(var w=0;w<_.children.length;w++){const y=K.getInTreeIdAndType(_.children[w]);g=[...g,...y]}return g}static cleanObject(_){const p={};for(const h in _)null!=_[h]&&(p[h]=_[h]);return p}static isNullOrUndefined(_){return null==_}static enumKeys(_){return Object.keys(_)}static enumValues(_){return Object.keys(_).map(h=>Object(_)[h])}static getGUID(_=""){var h,g,p="";for(h=0;h<16;h++)g=16*Math.random()|0,8==h&&(p+="-"),p+=(12==h?4:16==h?3&g|8:g).toString(16);return _+p}static getShortGUID(_="",p="-"){var g,w,h="";for(g=0;g<12;g++)w=16*Math.random()|0,8==g&&(h+=p),h+=(4==g?4:6==g?3&w|8:w).toString(12);return _+h}static getNextName(_,p){let h=1,g=_+h;for(;p.indexOf(g)>=0;)h++,g=_+h;return g}static isObject(_){return"object"==typeof _&&null!==_}static getType(_){return typeof _}static getTextHeight(_){var h=document.createElement("canvas").getContext("2d");return h.font=_,h.measureText("M").width}static getDomTextHeight(_,p){let h=document.createElement("span");document.body.appendChild(h),h.style.font=p,h.style.fontSize=_+"px",h.style.height="auto",h.style.width="auto",h.style.position="absolute",h.style.whiteSpace="no-wrap",h.innerHTML="M";let g=Math.ceil(h.clientHeight);return document.body.removeChild(h),g}static getEnumKey(_,p){return Object.keys(_).find(h=>_[h]===p)}static isJson(_){try{let p=JSON.parse(_);if(p&&Object.keys(p).length)return!0}catch{}return!1}static isNumeric(_){return!isNaN(parseFloat(_))&&isFinite(_)}static Boolify(_){return-1===[!0,!1,"true","false",1,0].indexOf(_)?null:1==_||"true"==_||1==_}static toNumber(_){const p=K.Boolify(_);return K.isNullOrUndefined(p)?_:Number(p)}static toFloatOrNumber(_){let p=parseFloat(_);return p=K.isNullOrUndefined(p)?Number(_):parseFloat(p.toFixed(5)),p}static formatValue(_,p){try{if(K.isNumeric(_))return numeral(_).format(p)}catch(h){console.error(h)}return _}static arrayToObject=(_,p)=>{_.reduce((h,g)=>(h[g[p]]=g,h),{})};static rand(_,p){return _=_||0,p=p||0,this._seed=(9301*this._seed+49297)%233280,Math.round(_+this._seed/233280*(p-_))}static randNumbers(_,p,h){let g=[];for(let w=0;w<_;++w)g.push(this.rand(p,h));return g}static formatDate(_,p,h){var g=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],w=["\x01","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["\x02","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["\x03","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let M=(Z,q)=>{var ae=Z+"";for(q=q||2;ae.length<q;)ae="0"+ae;return ae};var E=h?_.getUTCFullYear():_.getFullYear();p=(p=(p=p.replace(/(^|[^\\])yyyy+/g,"$1"+E)).replace(/(^|[^\\])yy/g,"$1"+E.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+E);var T=(h?_.getUTCMonth():_.getMonth())+1;p=(p=(p=(p=p.replace(/(^|[^\\])MMMM+/g,"$1"+g[0])).replace(/(^|[^\\])MMM/g,"$1"+w[0])).replace(/(^|[^\\])MM/g,"$1"+M(T))).replace(/(^|[^\\])M/g,"$1"+T);var F=h?_.getUTCDate():_.getDate();p=(p=(p=(p=p.replace(/(^|[^\\])dddd+/g,"$1"+y[0])).replace(/(^|[^\\])ddd/g,"$1"+b[0])).replace(/(^|[^\\])dd/g,"$1"+M(F))).replace(/(^|[^\\])d/g,"$1"+F);var k=h?_.getUTCHours():_.getHours(),A=k>12?k-12:0==k?12:k;p=(p=(p=(p=p.replace(/(^|[^\\])HH+/g,"$1"+M(k))).replace(/(^|[^\\])H/g,"$1"+k)).replace(/(^|[^\\])hh+/g,"$1"+M(A))).replace(/(^|[^\\])h/g,"$1"+A);var S=h?_.getUTCMinutes():_.getMinutes();p=(p=p.replace(/(^|[^\\])mm+/g,"$1"+M(S))).replace(/(^|[^\\])m/g,"$1"+S);var Q=h?_.getUTCSeconds():_.getSeconds();p=(p=p.replace(/(^|[^\\])ss+/g,"$1"+M(Q))).replace(/(^|[^\\])s/g,"$1"+Q);var O=h?_.getUTCMilliseconds():_.getMilliseconds();p=p.replace(/(^|[^\\])fff+/g,"$1"+M(O,3)),O=Math.round(O/10),p=p.replace(/(^|[^\\])ff/g,"$1"+M(O)),O=Math.round(O/10);var W=k<12?"AM":"PM";p=(p=(p=p.replace(/(^|[^\\])f/g,"$1"+O)).replace(/(^|[^\\])TT+/g,"$1"+W)).replace(/(^|[^\\])T/g,"$1"+W.charAt(0));var j=W.toLowerCase();p=(p=p.replace(/(^|[^\\])tt+/g,"$1"+j)).replace(/(^|[^\\])t/g,"$1"+j.charAt(0));var Y=-_.getTimezoneOffset(),U=h||!Y?"Z":Y>0?"+":"-";if(!h){var z=(Y=Math.abs(Y))%60;U+=M(Math.floor(Y/60))+":"+M(z)}p=p.replace(/(^|[^\\])K/g,"$1"+U);var R=(h?_.getUTCDay():_.getDay())+1;return(p=(p=(p=(p=p.replace(new RegExp(y[0],"g"),y[R])).replace(new RegExp(b[0],"g"),b[R])).replace(new RegExp(g[0],"g"),g[T])).replace(new RegExp(w[0],"g"),w[T])).replace(/\\(.)/g,"$1")}static findBitPosition(_){let p=[];for(let h=0;h<32;h++)_&1<<h&&p.push(h);return p}static assign=(_,...p)=>(p.forEach(h=>Object.keys(h).forEach(g=>{_[g]=h[g]})),_);static clone=_=>JSON.parse(JSON.stringify(_));static convertArrayToObject=(_,p)=>_.reduce((h,g)=>({...h,[g]:p}),{});static resizeView=_=>{document.querySelectorAll(_).forEach(p=>{let h=p.parentNode;p.style.transform="scale("+Math.min(h.offsetWidth/p.offsetWidth,h.offsetHeight/p.offsetHeight)+")",p.style.transformOrigin="top left"})};static resizeViewExt=(_,p,h)=>{const g=document.getElementById(p);if(!g)return void console.error(`resizeViewExt -> Parent element with ID '${p}' not found.`);const w=g.getBoundingClientRect(),y=h??"none";g.querySelectorAll(_).forEach(b=>{const M=w?.width/b.offsetWidth,E=w?.height/b.offsetHeight;"contain"===y?b.style.transform="scale("+Math.min(M,E)+")":"stretch"===y?b.style.transform="scale("+M+", "+E+")":"none"===y&&(b.style.transform="scale(1)"),b.style.transformOrigin="top left"})};static resizeViewRev=(_,p,h)=>{function g(b,M,E){const T=M?.width/b.clientWidth,F=M?.height/b.clientHeight;"contain"===E?(b.style.transform="scale("+Math.min(T,F)+")",b.parentElement.style.margin="unset"):"stretch"===E?(b.style.transform="scale("+T+", "+F+")",b.parentElement.style.margin="unset"):"none"===E&&(b.style.transform="scale(1)"),b.style.top="unset",b.style.left="unset",b.style.transformOrigin="top left"}const w="string"==typeof p?document.getElementById(p):p;if(!w)return void console.error(`resizeViewExt -> Parent element with ID '${p}' not found.`);const y=w.getBoundingClientRect();"string"==typeof _?w.querySelectorAll(_).forEach(b=>{g(b,y,h??"none")}):_&&g(_,y,h??"none")};static mergeDeep(..._){const p={};return _.forEach(h=>{h&&Object.keys(h).forEach(g=>{h[g]&&"object"==typeof h[g]&&!Array.isArray(h[g])?p[g]=K.mergeDeep(p[g],h[g]):Array.isArray(h[g])?(Array.isArray(p[g])||(p[g]=[]),p[g]=p[g].concat(h[g])):p[g]=h[g]})}),p}static mergeArray(_,p){const h=new Map;if(_)for(const g of _)if(g)for(const w of g){const y=w[p];y?h.set(y,{...h.get(y),...w}):console.warn(`L'oggetto ${JSON.stringify(w)} non ha la chiave ${p}`)}return Array.from(h.values())}static mergeUniqueBy(_,p,h){if(!(_&&0!==_.length||p&&0!==p.length))return null;const g=_?[..._]:[],w=new Set(g.map(b=>b[h]));let y=!1;return p&&p.forEach(b=>{w.has(b[h])||(g.push(b),w.add(b[h]),y=!0)}),y?g:_??null}static copyToClipboard(_){const p=document.createElement("textarea");p.value=_,p.style.position="fixed",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p)}static millisecondsToTime(_){const p=Math.floor(_/36e5);_%=36e5;const h=Math.floor(_/6e4);return _%=6e4,{hours:p,minutes:h,seconds:Math.floor(_/1e3),milliseconds:_%=1e3}}static timeToString(_,p){function h(w,y){return w.toString().padStart(y,"0")}let g=`${h(_.hours,2)}:${h(_.minutes,2)}`;return p&&(g+=`:${h(_.seconds,2)}`,p>=1e3&&(g+=`.${h(_.milliseconds,3)}`)),g}static millisecondsToTimeString(_,p){return K.timeToString(K.millisecondsToTime(_),p)}static millisecondsToDateString(_,p){const h=new Date(_),g=h.getFullYear(),w=(h.getMonth()+1).toString().padStart(2,"0"),y=h.getDate().toString().padStart(2,"0"),b=h.getHours().toString().padStart(2,"0"),M=h.getMinutes().toString().padStart(2,"0"),E=h.getSeconds().toString().padStart(2,"0"),T=h.getMilliseconds().toString().padStart(3,"0");let F=`${g}-${w}-${y}`;return p>0&&(F+=`T${b}:${M}`,p>1&&(F+=`:${E}`,p>100&&(F+=`.${T}`))),F}static getTimeDifferenceInSeconds(_){const h=Date.now()-_;return Math.floor(h/1e3)}static isValidUrl(_){try{return new URL(_),!0}catch{return!1}}static getRandomId(){return Math.random().toString(36).substr(2,9)}static \u0275fac=function(p){return new(p||K)};static \u0275prov=N.jDH({token:K,factory:K.\u0275fac})}let D=(()=>{class l{transform(p){let h=[];for(var g=Object.keys(p),w=Object.values(p),y=0;y<g.length;y++)h.push({key:g[y],value:w[y]});return h}static \u0275fac=function(h){return new(h||l)};static \u0275pipe=N.EJ8({name:"enumToArray",type:l,pure:!0})}return l})()},6334:(Rt,Be,ie)=>{"use strict";ie.d(Be,{K:()=>N});class N{scriptSystemFunctions=[]}},7546:(Rt,Be,ie)=>{"use strict";ie.d(Be,{$d:()=>U,C_:()=>j,JS:()=>M,PK:()=>b,Pl:()=>Q,Rs:()=>z,Vl:()=>S,Vz:()=>A,Wb:()=>T,Yp:()=>K,_z:()=>F,bI:()=>E,bq:()=>y,e4:()=>D,eq:()=>q,f0:()=>W,hD:()=>_,jN:()=>Y,kA:()=>k,lE:()=>X,lc:()=>O,n7:()=>w,oO:()=>ae,pF:()=>e,q9:()=>R,tk:()=>p,v_:()=>h,vw:()=>l});var N=ie(3728);const K={id:"0",name:"FUXA"},D={id:"@",name:"Placeholder",tags:[{id:"@",name:"@",device:"@"}]};let e=(()=>class re{id;name;enabled;property;type;polling;tags;constructor(be){this.id=be}static descriptor={id:"Device id, GUID",name:"Device name",enabled:"Enabled",type:"Device Type: FuxaServer | SiemensS7 | OPCUA | BACnet | ModbusRTU | ModbusTCP | WebAPI | MQTTclient | internal | EthernetIP | ADSclient | Gpio",polling:"Polling interval in millisec., check changed value after ask value, by OPCUA there is a monitor",property:"Connection property depending of type",tags:"Tags list of Tag"};static isWebApiProperty(be){return be.type===y.WebAPI&&be.property.getTags}})(),l=(()=>class re{id;name;label;value;type;memaddress;address;divisor;access;options;format;daq;init;scale;scaleReadFunction;scaleReadParams;scaleWriteFunction;scaleWriteParams;sysType;description;deadband;direction;edge;constructor(be){this.id=be,this.daq=new _(!1,!1,60,!1)}static descriptor={id:"Tag id, GUID",name:"Tag name, is like the id",label:"Tag label, used by BACnet and WebAPI",type:"Tag type, Bool, Byte, etc. depending of device type",memaddress:"Address of Tag, combine with address by Modbus, some property for WebAPI",address:"Tag address, for OPCUA like the id",divisor:"Value divisor, used by Modbus",options:"Options is a string JSON object, used for WebAPI and MQTT, pubs: items to publish | subs: items to subscribe",init:"Init value",daq:{enabled:"Daq enabled storage",interval:"min storage interval (without change value)"},format:"Number of digits to appear after the decimal point",direction:"A string specifying whether the GPIO should be configured as an input or output. The valid values are: 'in', 'out', 'high', and 'low'. If 'out' is specified the GPIO will be configured as an output and the value of the GPIO will be set to 0. 'high' and 'low' are variants of 'out' that configure the GPIO as an output with an initial level of 1 or 0 respectively.",edge:"An optional string specifying the interrupt generating edge or edges for an input GPIO. The valid values are: 'none', 'rising', 'falling' or 'both'. The default value is 'none' indicating that the GPIO will not generate interrupts. Whether or not interrupts are supported by an input GPIO is GPIO specific. If interrupts are not supported by a GPIO the edge argument should not be specified. The edge argument is ignored for output GPIOs."}})();class _{enabled;interval;changed;restored=!1;constructor(Se,be,Re,He){this.enabled=Se,this.changed=be,this.interval=Re,this.restored=He}}var p=function(re){return re.absolute="absolute",re}(p||{});let h=(()=>class re{address;port;slot;rack;slaveid;baudrate;databits;stopbits;parity;options;method;format;connectionOption;delay=10;socketReuse;static descriptor={address:"Device address (IP)"}})();class w{mode;username;password;clientId;grant_type;certificateFileName;privateKeyFileName;caCertificateFileName}var y=function(re){return re.FuxaServer="FuxaServer",re.SiemensS7="SiemensS7",re.OPCUA="OPCUA",re.BACnet="BACnet",re.ModbusRTU="ModbusRTU",re.ModbusTCP="ModbusTCP",re.WebAPI="WebAPI",re.MQTTclient="MQTTclient",re.internal="internal",re.EthernetIP="EthernetIP",re.ODBC="ODBC",re.ADSclient="ADSclient",re.GPIO="GPIO",re}(y||{}),b=function(re){return re.Bool="Bool",re.Byte="Byte",re.Int="Int",re.Word="Word",re.DInt="DInt",re.DWord="DWord",re.Real="Real",re}(b||{}),M=function(re){return re.Bool="Bool",re.Int16="Int16",re.UInt16="UInt16",re.Int32="Int32",re.UInt32="UInt32",re.Float32="Float32",re.Float64="Float64",re.Int64="Int64",re.Int16LE="Int16LE",re.UInt16LE="UInt16LE",re.Int32LE="Int32LE",re.UInt32LE="UInt32LE",re.Float32LE="Float32LE",re.Float64LE="Float64LE",re.Int64LE="Int64LE",re.Float32MLE="Float32MLE",re.Int32MLE="Int32MLE",re.UInt32MLE="UInt32MLE",re}(M||{}),E=function(re){return re.Boolean="Boolean",re.SByte="SByte",re.Byte="Byte",re.Int16="Int16",re.UInt16="UInt16",re.Int32="Int32",re.UInt32="UInt32",re.Int64="Int64",re.UInt64="UInt64",re.Float="Float",re.Double="Double",re.String="String",re.DateTime="DateTime",re.Guid="Guid",re.ByteString="ByteString",re}(E||{}),T=function(re){return re.Number="number",re.Boolean="boolean",re.String="string",re}(T||{}),F=function(re){return re.SerialPort="SerialPort",re.RTUBufferedPort="RTUBufferedPort",re.AsciiPort="AsciiPort",re.TcpPort="TcpPort",re.UdpPort="UdpPort",re.TcpRTUBufferedPort="TcpRTUBufferedPort",re.TelnetPort="TelnetPort",re}(F||{}),k=function(re){return re.Reuse="Reuse",re.ReuseSerial="ReuseSerial",re}(k||{}),A=function(re){return re.in="in",re.out="out",re.high=" - high",re.low=" - low",re}(A||{}),S=function(re){return re.none="none",re.rising="rising",re.falling="falling",re.both="both",re}(S||{}),Q=function(re){return re[re.INVALID=0]="INVALID",re.NONE="1",re.SIGN="2",re.SIGNANDENCRYPT="3",re}(Q||{}),O=function(re){return re.None="None",re.Basic128="Basic128",re.Basic128Rsa15="Basic128Rsa15",re.Basic192="Basic192",re.Basic192Rsa15="Basic192Rsa15",re.Basic256="Basic256",re.Basic256Rsa15="Basic256Rsa15",re.Basic256Sha256="Basic256Sha256",re.Aes256_Sha256_RsaPss="Aes256_Sha256_RsaPss",re.Aes128_Sha256_RsaOaep="Aes128_Sha256_RsaOaep",re}(O||{}),W=function(re){return re.ANALOG_INPUT="Analog Input",re.ANALOG_OUTPUT="Analog Output",re.ANALOG_VALUE="Analog Value",re.BINARY_INPUT="Binary Input",re.BINARY_OUTPUT="Binary Output",re.BINARY_VALUE="Binary Value",re.CALENDAR="",re.COMMAND="",re.DEVICE="",re}(W||{});const j="d_",Y="t_";let U=(()=>{class re{static getDeviceTagText(be,Re){for(let He=0;He<be.length;He++)if(be[He].tags[Re])return`${be[He].name} - ${be[He].tags[Re].name}`;return""}static getDeviceFromTagId(be,Re){for(let He=0;He<be.length;He++)if(be[He].tags[Re])return be[He];return null}static getTagFromTagId(be,Re){for(let He=0;He<be.length;He++)if(be[He].tags[Re])return be[He].tags[Re];return null}static getTagFromTagAddress(be,Re){return Object.values(be.tags).find(He=>He.address===Re)}static columnDelimiter=",";static lineDelimiter="\n";static lineComment="#";static lineDevice="D@";static lineTag="T@";static lineSectionHeader="@";static columnMaske="~";static devicesToCsv(be){let Re="",He=`!! CSV separator property convertion to "~"${re.lineDelimiter}`,ue=`${re.lineSectionHeader}header${re.columnDelimiter}`,le="";const fe=Object.keys(e.descriptor).filter(Ye=>"tags"!==Ye),ge=Object.keys(h.descriptor);fe.forEach(Ye=>{"property"!==Ye&&(He+=`${re.lineComment}${Ye}${re.columnDelimiter}: ${e.descriptor[Ye]}${re.lineDelimiter}`,ue+=`${Ye}${re.columnDelimiter}`)}),ge.forEach(Ye=>{He+=`${re.lineComment}property.${Ye}${re.columnDelimiter}: ${h.descriptor[Ye]}${re.lineDelimiter}`,ue+=`property.${Ye}${re.columnDelimiter}`});for(let Ye=0;Ye<be.length;Ye++)le+=re.device2Line(be[Ye],fe,ge),le+=`${re.lineDelimiter}`;Re+=`${He}${re.lineDelimiter}`,Re+=`${ue}${re.lineDelimiter}${le}`,Re+=`${re.lineDelimiter}`;let Te="",se="",we="";const ke=Object.keys(l.descriptor).filter(Ye=>"daq"!==Ye&&"options"!==Ye);Te+=`${re.lineComment}deviceId${re.columnDelimiter}:Reference to device${re.lineDelimiter}`,se+=`${re.lineSectionHeader}header${re.columnDelimiter}deviceId${re.columnDelimiter}`,ke.forEach(Ye=>{Te+=`${re.lineComment}${Ye}${re.columnDelimiter}: ${l.descriptor[Ye]}${re.lineDelimiter}`,se+=`${Ye}${re.columnDelimiter}`}),Te+=`${re.lineComment}options${re.columnDelimiter}: ${l.descriptor.options}${re.lineDelimiter}`,se+=`options${re.columnDelimiter}`,Te+=`${re.lineComment}daq.enabled${re.columnDelimiter}: ${l.descriptor.daq.enabled}${re.lineDelimiter}`,se+=`daq.enabled${re.columnDelimiter}`,Te+=`${re.lineComment}daq.interval${re.columnDelimiter}: ${l.descriptor.daq.interval}${re.lineDelimiter}`,se+=`daq.interval${re.columnDelimiter}`;for(let Ye=0;Ye<be.length;Ye++){if(be[Ye].tags){const _t=Object.values(be[Ye].tags);for(let Dt=0;Dt<_t.length;Dt++)we+=re.tag2Line(_t[Dt],be[Ye].id,ke),we+=`${re.lineDelimiter}`}we+=`${re.lineDelimiter}`}return Re+=`${Te}${re.lineDelimiter}`,Re+=`${se}${re.lineDelimiter}${we}`,Re+=`${re.lineDelimiter}`,Re}static csvToDevices(be){try{const Re=Object.keys(e.descriptor).length+Object.keys(h.descriptor).length,He=Object.keys(l.descriptor).length+4;let ue={};return be.split(re.lineDelimiter).filter(fe=>!fe.startsWith(re.lineComment)&&!fe.startsWith(re.lineSectionHeader)).forEach(fe=>{if(fe.startsWith(re.lineDevice)){let ge=re.line2Device(fe,Re);ue[ge.id]=ge}else if(fe.startsWith(re.lineTag)){let ge=re.line2Tag(fe,He);if(!ue[ge.deviceId])throw new Error(`Device don't exist: ${fe}`);if(ue[ge.deviceId].tags[ge.tag.id])throw new Error(`Tag already exist: ${fe}`);ue[ge.deviceId].tags[ge.tag.id]=ge.tag}}),Object.values(ue)}catch(Re){console.error(Re)}return null}static device2Line(be,Re,He){let ue=`${re.lineDevice}${re.columnDelimiter}`;return Re.forEach(le=>{if("property"!==le){let fe=be[le]?be[le].toString():"";ue+=`${fe.replace(new RegExp(re.columnDelimiter,"g"),re.columnMaske)}${re.columnDelimiter}`}}),be.property&&He.forEach(le=>{ue+=`${be.property[le]||""}${re.columnDelimiter}`}),ue}static line2Device(be,Re){const He=be.split(re.columnDelimiter);if(He.length<Re-1)throw new Error(`Format Error ${He.length}/${Re} ${be}`);let ue=new e(He[1]);return ue.name=He[2].replace(new RegExp(re.columnMaske,"g"),re.columnDelimiter),ue.enabled="true"===He[3].toLowerCase(),ue.type=He[4],ue.polling=parseInt(He[5])||1e3,ue.property={address:He[6],port:He[7],slot:He[8],rack:He[9],slaveid:He[10],baudrate:He[11],databits:He[12],stopbits:He[13],parity:He[14],options:He[15],method:He[16],format:He[17]},ue.tags={},ue}static tag2Line(be,Re,He){let ue=`${re.lineTag}${re.columnDelimiter}${Re}${re.columnDelimiter}`;He.forEach(fe=>{ue+=`${(be[fe]||"").toString().replace(new RegExp(re.columnDelimiter,"g"),re.columnMaske)}${re.columnDelimiter}`});let le=be.options?JSON.stringify(be.options):"";return ue+=`${le.replace(new RegExp(re.columnDelimiter,"g"),re.columnMaske)}${re.columnDelimiter}`,ue+=`${be.daq?be.daq.enabled:""}${re.columnDelimiter}`,ue+=`${be.daq?be.daq.interval:""}${re.columnDelimiter}`,ue}static line2Tag(be,Re){const He=be.split(re.columnDelimiter);if(He.length<Re-1)throw new Error(`Format Error: ${He.length}/${Re} ${be}`);const ue=He[1];let le=new l(He[2]);return le.name=He[3].replace(new RegExp(re.columnMaske,"g"),re.columnDelimiter),le.label=He[4].replace(new RegExp(re.columnMaske,"g"),re.columnDelimiter),le.type=He[5],le.memaddress=He[6].replace(new RegExp(re.columnMaske,"g"),re.columnDelimiter),le.address=He[7].replace(new RegExp(re.columnMaske,"g"),re.columnDelimiter),le.divisor=parseInt(He[8])||1,le.init=He[9],le.format=He[10]?parseInt(He[10]):null,le.options=He[11].replace(new RegExp(re.columnMaske,"g"),re.columnDelimiter),le.options&&N.Aq.isJson(le.options)&&(le.options=JSON.parse(le.options)),le.daq={enabled:!!N.Aq.Boolify(He[12]),changed:!0,interval:parseInt(He[13])||60},{tag:le,deviceId:ue}}static placeholderToTag(be,Re){const He=re.getPlaceholderContent(be);return He.firstContent?Re?.find(ue=>ue.name===He.firstContent):null}static getPlaceholderContent(be){const Re=be.indexOf("@");if(-1===Re)return{firstContent:null,secondContent:null};const He=be.indexOf("@",Re+1);return-1===He?{firstContent:be.substring(Re+1).trim(),secondContent:null}:{firstContent:be.substring(Re+1,He).trim(),secondContent:be.substring(He+1).trim()}}}return re})();var X=function(re){return re.tags="tags",re.devices="devices",re.list="devices-list",re.map="devices-map",re}(X||{}),z=function(re){return re.ok="device.connect-ok",re.error="device.connect-error",re.failed="device.connect-failed",re.off="device.connect-off",re.busy="device.connect-busy",re}(z||{}),R=function(re){return re.number="number",re.boolean="boolean",re.string="string",re}(R||{}),q=function(re){return re.undefined="device.tag-scale-mode-undefined",re.linear="device.tag-scale-mode-linear",re.convertDateTime="device.tag-convert-datetime",re.convertTickTime="device.tag-convert-ticktime",re}(q||{}),ae=function(re){return re[re.deviceConnectionStatus=1]="deviceConnectionStatus",re}(ae||{})},3276:(Rt,Be,ie)=>{"use strict";ie.d(Be,{AY:()=>Re,Ar:()=>_e,EV:()=>we,Eh:()=>Te,FV:()=>Bt,FY:()=>Y,Fo:()=>E,GF:()=>k,G_:()=>T,Hj:()=>je,J:()=>ti,Jf:()=>_t,Jh:()=>Ke,Ny:()=>qe,OX:()=>w,QQ:()=>_,Qk:()=>le,Qo:()=>y,Qs:()=>X,Ss:()=>e,TH:()=>Q,Uy:()=>ge,V0:()=>h,Ve:()=>ni,Vq:()=>M,Xp:()=>re,Y6:()=>St,Z4:()=>se,Z_:()=>b,_O:()=>be,a2:()=>ze,bv:()=>D,c$:()=>He,cH:()=>z,cq:()=>We,dE:()=>S,e6:()=>ue,f5:()=>O,iz:()=>q,k:()=>g,k4:()=>A,lG:()=>ke,lp:()=>Ye,mt:()=>ft,nA:()=>Dt,nW:()=>ut,oI:()=>p,pT:()=>De,qR:()=>j,qi:()=>l,rT:()=>Je,u6:()=>U,uR:()=>F,vo:()=>Z,yO:()=>ae,yy:()=>fe,zQ:()=>Se});var N=ie(3378),K=ie(7546);class D{layout=new _;views=[]}class e{id="";name="";profile=new k;items={};variables={};svgcontent="";type;property;constructor(Bi,fi,Xi){this.id=Bi,this.name=Xi,this.type=fi}}var l=function(et){return et.svg="svg",et.cards="cards",et.maps="maps",et}(l||{});class _{autoresize=!1;start="";navigation=new p;header=new b;showdev=!0;zoom;inputdialog="false";hidenavigation=!1;theme="";loginonstart=!1;loginoverlaycolor=h.none;show_connection_error=!0;customStyles=""}class p{mode;type;bkcolor="#F4F5F7";fgcolor="#1D1D1D";items;logo=!1;constructor(){this.mode=Object.keys(g).find(Bi=>g[Bi]===g.over),this.type=Object.keys(w).find(Bi=>w[Bi]===w.block)}}var h=function(et){return et.none="none",et.black="black",et.white="white",et}(h||{}),g=function(et){return et.void="item.navsmode-none",et.push="item.navsmode-push",et.over="item.navsmode-over",et.fix="item.navsmode-fix",et}(g||{}),w=function(et){return et.icon="item.navtype-icons",et.text="item.navtype-text",et.block="item.navtype-icons-text-block",et.inline="item.navtype-icons-text-inline",et}(w||{});class y{id;text;link;view;icon;image;permission;permissionRoles;children}class b{title;alarms;infos;bkcolor="#ffffff";fgcolor="#000000";fontFamily;fontSize=13;items;itemsAnchor="left";loginInfo;dateTimeDisplay;language}var M=function(et){return et.hide="item.notifymode-hide",et.fix="item.notifymode-fix",et.float="item.notifymode-float",et}(M||{}),E=function(et){return et.disabled="item.zoommode-disabled",et.enabled="item.zoommode-enabled",et.autoresize="item.zoommode-autoresize",et}(E||{}),T=function(et){return et.false="item.inputmode-disabled",et.true="item.inputmode-enabled",et.keyboard="item.inputmode-keyboard",et.keyboardFullScreen="item.inputmode-keyboard-full-screen",et}(T||{}),F=function(et){return et.true="item.headerbarmode-hide",et.false="item.headerbarmode-show",et}(F||{});class k{width=1024;height=768;bkcolor="#ffffffff";margin=10;align=A.topCenter;gridType=N.jJ.Fixed;viewRenderDelay=0}var A=function(et){return et.topCenter="topCenter",et.middleCenter="middleCenter",et}(A||{});class S{id;type;name="";property=null;label="";hide=!1;lock=!1;constructor(Bi,fi){this.id=Bi,this.type=fi}}class Q{events=[];startLocation;startZoom}class O{variableId;variableValue;bitmask;permission;permissionRoles;ranges;events=[];actions=[];options;readonly;text}var j=function(et){return et.number="number",et.text="text",et.date="date",et.time="time",et.datetime="datetime",et}(j||{}),Y=function(et){return et.normal="normal",et.seconds="seconds",et.milliseconds="milliseconds",et}(Y||{}),U=function(et){return et.milliseconds="milliseconds",et.string="string",et}(U||{}),X=function(et){return et.update="update",et.enter="enter",et}(X||{});class z{type;action;actparam;actoptions={}}var Z=function(et){return et.hide="shapes.action-hide",et.show="shapes.action-show",et.blink="shapes.action-blink",et.stop="shapes.action-stop",et.clockwise="shapes.action-clockwise",et.anticlockwise="shapes.action-anticlockwise",et.downup="shapes.action-downup",et.rotate="shapes.action-rotate",et.move="shapes.action-move",et.monitor="shapes.action-monitor",et}(Z||{});class q{variableId;bitmask;range;type;options={}}class ae{strokeA=null;strokeB=null;fillA=null;fillB=null;interval=1e3}class re{minAngle=0;maxAngle=90;delay=0}class Se{toX=0;toY=0;duration=100}class be{fill;stroke}class Re{variablesValue={};onlyChange=!1;takeValue=!1;actionRef}class He{type;timer=null;animr=null;spool;constructor(Bi){this.type=Bi}}var ue=function(et){return et.click="shapes.event-click",et.dblclick="shapes.event-dblclick",et.mousedown="shapes.event-mousedown",et.mouseup="shapes.event-mouseup",et.mouseover="shapes.event-mouseover",et.mouseout="shapes.event-mouseout",et.enter="shapes.event-enter",et.select="shapes.event-select",et.onLoad="shapes.event-onLoad",et}(ue||{}),le=function(et){return et.onpage="shapes.event-onpage",et.onwindow="shapes.event-onwindow",et.onOpenTab="shapes.event-onopentab",et.ondialog="shapes.event-ondialog",et.oniframe="shapes.event-oniframe",et.oncard="shapes.event-oncard",et.onSetValue="shapes.event-onsetvalue",et.onToggleValue="shapes.event-ontogglevalue",et.onSetInput="shapes.event-onsetinput",et.onclose="shapes.event-onclose",et.onRunScript="shapes.event-onrunscript",et.onViewToPanel="shapes.event-onViewToPanel",et.onMonitor="shapes.event-onmonitor",et}(le||{}),fe=function(et){return et.onopen="shapes.event-onopen",et.onclose="shapes.event-onclose",et}(fe||{}),ge=function(et){return et.onRunScript="shapes.event-onrunscript",et}(ge||{}),Te=function(et){return et.window="window",et.mouse="mouse",et}(Te||{}),se=function(et){return et.set="shapes.event-setvalue-set",et.add="shapes.event-setvalue-add",et.remove="shapes.event-setvalue-remove",et}(se||{});class we{min;max;text;textId;color;type;style;stroke}var ke=function(et){return et.none="none",et.contain="contain",et.stretch="stretch",et}(ke||{}),Ye=function(et){return et.data="data",et.history="history",et.alarms="alarms",et.alarmsHistory="alarmsHistory",et.reports="reports",et}(Ye||{}),_t=function(et){return et.label="label",et.variable="variable",et.timestamp="timestamp",et.device="device",et}(_t||{});class Dt{id;label;variableId;valueFormat;bitmask;type;constructor(Bi,fi,Xi){this.id=Bi,this.type=fi||_t.label,this.label=Xi}}class ni extends Dt{align=_e.left;width=100;exname;constructor(Bi,fi,Xi){super(Bi,fi,Xi)}}class je{cells;constructor(Bi){this.cells=Bi}}var _e=function(et){return et.left="left",et.center="center",et.right="right",et}(_e||{}),ze=function(et){return et.last1h="table.rangetype-last1h",et.last1d="table.rangetype-last1d",et.last3d="table.rangetype-last3d",et}(ze||{});class Je{id;name;source;value;error;timestamp;device;constructor(Bi,fi,Xi){this.id=Bi,this.name=fi,this.device=Xi,Xi?.type===K.bq.internal&&(this.value="0")}}class qe{type="";id;ele=null}class Ke{id="";dom;value=null;dbg="";type;ga;variableId}class Bt{gid;from;to;event;sids;chunked}class ft{page;tag}var We=function(et){return et.YYYY_MM_DD="1998/03/25",et.MM_DD_YYYY="03/25/1998",et.DD_MM_YYYY="25/03/1998",et.MM_DD_YY="03/25/98",et.DD_MM_YY="25/03/98",et}(We||{}),De=function(et){return et.hh_mm_ss="16:58:10",et.hh_mm_ss_AA="04:58:10 PM",et}(De||{}),ut=function(et){return et.view="view",et.alarms="alarms",et.iframe="iframe",et.table="table",et}(ut||{}),ti=function(et){return et.address="[link]",et.alarms="[alarms]",et}(ti||{});const St="rodevice"},1394:(Rt,Be,ie)=>{"use strict";ie.d(Be,{AT:()=>N,yq:()=>e});class N{default;options=[]}const e="@"},3367:(Rt,Be,ie)=>{"use strict";ie.d(Be,{cu:()=>p,wE:()=>_});var N=ie(7546),K=ie(3276),D=ie(1394),e=ie(3728),l=ie(6334);class _{version="1.01";name;server=new N.pF(e.Aq.getGUID(N.C_));hmi=new K.bv;devices={};charts=[];graphs=[];alarms=[];notifications=[];scripts=[];reports=[];texts=[];languages=new D.AT;plugin=[];mapsLocations=[];clientAccess=new l.K}var p=function(g){return g.SetDevice="set-device",g.DelDevice="del-device",g.SetView="set-view",g.DelView="del-view",g.HmiLayout="layout",g.Charts="charts",g.Graphs="graphs",g.Languages="languages",g.ClientAccess="client-access",g.SetText="set-text",g.DelText="del-text",g.SetAlarm="set-alarm",g.DelAlarm="del-alarm",g.SetNotification="set-notification",g.DelNotification="del-notification",g.SetScript="set-script",g.DelScript="del-script",g.SetReport="set-report",g.DelReport="del-report",g.SetMapsLocation="set-maps-location",g.DelMapsLocation="del-maps-location",g}(p||{})},3955:(Rt,Be,ie)=>{"use strict";ie.d(Be,{Bf:()=>l,FB:()=>D,H8:()=>e,Jg:()=>b,N0:()=>g,YA:()=>K,bR:()=>y,bj:()=>w,eF:()=>N,ju:()=>p,od:()=>_});class N{id;name;code;sync=!1;parameters=[];scheduling;permission;permissionRoles;mode=y.SERVER;constructor(E){this.id=E}}class K extends N{test=!0;outputId;constructor(E,T){super(E),this.name=T}}class D{name;type;value;constructor(E,T){this.name=E,this.type=T}}var e=function(M){return M.tagid="tagid",M.value="value",M.chart="chart",M}(e||{});const l="s_",_="params";var p=function(M){return M.interval="interval",M.start="start",M.scheduling="scheduling",M}(p||{});class g{functions=[];constructor(E){this.functions=this.allFunctions.filter(T=>!T.mode||!E||T.mode===E)}allFunctions=[{name:"$setTag",mode:null,text:"script.sys-fnc-settag-text",tooltip:"script.sys-fnc-settag-tooltip",params:[!0,!1]},{name:"$getTag",mode:null,text:"script.sys-fnc-gettag-text",tooltip:"script.sys-fnc-gettag-tooltip",params:[!0]},{name:"$getTagId",mode:null,text:"script.sys-fnc-getTagId-text",tooltip:"script.sys-fnc-getTagId-tooltip",params:[!1],paramsText:"script.sys-fnc-getTagId-params"},{name:"$getTagDaqSettings",mode:null,text:"script.sys-fnc-getTagDaqSettings-text",tooltip:"script.sys-fnc-getTagDaqSettings-tooltip",params:[!0],paramsText:"script.sys-fnc-getTagDaqSettings-params"},{name:"$setTagDaqSettings",mode:null,text:"script.sys-fnc-setTagDaqSettings-text",tooltip:"script.sys-fnc-setTagDaqSettings-tooltip",params:[!0,!1],paramsText:"script.sys-fnc-setTagDaqSettings-params"},{name:"$setView",mode:null,text:"script.sys-fnc-setview-text",tooltip:"script.sys-fnc-setview-tooltip",params:[!1],paramsText:"script.sys-fnc-setview-params"},{name:"$openCard",mode:null,text:"script.sys-fnc-opencard-text",tooltip:"script.sys-fnc-opencard-tooltip",params:[!1],paramsText:"script.sys-fnc-opencard-params"},{name:"$enableDevice",mode:null,text:"script.sys-fnc-enableDevice-text",tooltip:"script.sys-fnc-enableDevice-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-enableDevice-params"},{name:"$getDeviceProperty",mode:null,text:"script.sys-fnc-getDeviceProperty-text",tooltip:"script.sys-fnc-getDeviceProperty-tooltip",params:[!1],paramsText:"script.sys-fnc-getDeviceProperty-params"},{name:"$setDeviceProperty",mode:null,text:"script.sys-fnc-setDeviceProperty-text",tooltip:"script.sys-fnc-setDeviceProperty-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-setDeviceProperty-params"},{name:"$getDevice",mode:y.SERVER,text:"script.sys-fnc-getDevice-text",tooltip:"script.sys-fnc-getDevice-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-getDevice-params"},{name:"$setAdapterToDevice",mode:y.CLIENT,text:"script.sys-fnc-setAdapterToDevice-text",tooltip:"script.sys-fnc-setAdapterToDevice-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-setAdapterToDevice-params"},{name:"$resolveAdapterTagId",mode:y.CLIENT,text:"script.sys-fnc-resolveAdapterTagId-text",tooltip:"script.sys-fnc-resolveAdapterTagId-tooltip",params:[!0],paramsText:"script.sys-fnc-resolveAdapterTagId-params"},{name:"$invokeObject",mode:y.CLIENT,text:"script.sys-fnc-invokeObject-text",tooltip:"script.sys-fnc-invokeObject-tooltip",params:[!1,!1,!1],paramsText:"script.sys-fnc-invokeObject-params"},{name:"$runServerScript",mode:y.CLIENT,text:"script.sys-fnc-runServerScript-text",tooltip:"script.sys-fnc-runServerScript-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-runServerScript-params"},{name:"$getHistoricalTags",mode:null,text:"script.sys-fnc-getHistoricalTag-text",tooltip:"script.sys-fnc-getHistoricalTag-tooltip",params:["array",!1,!1],paramsText:"script.sys-fnc-getHistoricalTag-params",paramFilter:b.history},{name:"$sendMessage",mode:null,text:"script.sys-fnc-sendMessage-text",tooltip:"script.sys-fnc-sendMessage-tooltip",params:[!1,!1,!1],paramsText:"script.sys-fnc-sendMessage-params"},{name:"$getAlarms",mode:null,text:"script.sys-fnc-getAlarms-text",tooltip:"script.sys-fnc-getAlarms-tooltip",params:[],paramsText:"script.sys-fnc-getAlarms-params"},{name:"$getAlarmsHistory",mode:null,text:"script.sys-fnc-getAlarmsHistory-text",tooltip:"script.sys-fnc-getAlarmsHistory-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-getAlarmsHistory-params"},{name:"$ackAlarm",mode:null,text:"script.sys-fnc-ackAlarms-text",tooltip:"script.sys-fnc-ackAlarms-tooltip",params:[!1,!1],paramsText:"script.sys-fnc-ackAlarms-params"}]}class w{functions=[];constructor(E){this.functions=this.allFunctions.filter(T=>!T.mode||!E||T.mode===E)}allFunctions=[{name:"chart-data",mode:y.CLIENT,text:"script.template-chart-data-text",tooltip:"script.template-chart-data-tooltip",code:"// Add script parameter 'paramLines' as Chart lines (array)\nif (paramLines && Array.isArray(paramLines)) {\n    const count = 10;\n    paramLines.forEach(line => {\n        var y = [];\n        var x = [];\n        for (var i = 0; i < count; i++) {\n            const randomNumber = Math.floor(Math.random() * 21);\n            y.push(randomNumber);\n            x.push(i);\n        }\n        line['y'] = y;\n        line['x'] = x;\n    });\n    return paramLines;\n} else {\n    return 'Missing chart lines';\n}"},{name:"invoke-chart-update-options",mode:y.CLIENT,text:"script.template-invoke-chart-update-options-text",tooltip:"script.template-invoke-chart-update-options-tooltip",code:"let opt = $invokeObject('chart_1', 'getOptions');\nif (opt) {\n    opt.scaleY1min = 100;\n    opt.scaleY1max = 200;\n}\n$invokeObject('chart_1', 'updateOptions', opt);"},{name:"getHistoricalTags",mode:null,text:"script.template-getHistoricalTagsoptions-text",tooltip:"script.template-getHistoricalTagsoptions-tooltip",code:"const to = Date.now();\nvar from = Date.now() - (1000 * 3600);  // 1 hour\nvar data = await $getHistoricalTags(['t_a95d5816-9f1e4a67' /* opcua - Byte */], from, to);\nconsole.log(JSON.stringify(data));"}]}var y=function(M){return M.CLIENT="CLIENT",M.SERVER="SERVER",M}(y||{}),b=function(M){return M.history="history",M}(b||{})},8329:(Rt,Be,ie)=>{"use strict";ie.d(Be,{$9:()=>N,CT:()=>D,Kb:()=>_,SC:()=>h,bO:()=>g,sd:()=>K,sr:()=>l});class N{language="en";uiPort=1881;secureEnabled=!1;tokenExpiresIn="1h";secureOnlyEditor=!1;broadcastAll=!1;smtp=new K;daqstore=new D;alarms=new e;logFull=!1;userRole=!1}class K{host="";port=587;mailsender="";username="";password="";constructor(b=null){b&&(this.host=b.host,this.port=b.port,this.mailsender=b.mailsender,this.username=b.username,this.password=b.password)}}class D{type=_.SQlite;varsion;url;organization;credentials;bucket;database;retention=h.year1;constructor(b=null){b&&(this.type=b.type,this.url=b.url,this.organization=b.organization,this.credentials=b.credentials,this.bucket=b.bucket,this.database=b.database,this.retention=b.retention||h.year1)}isEquals(b){return!(this.type!==b.type||this.bucket!==b.bucket||this.url!==b.url||this.organization!==b.organization||this.database!==b.database||!this.credentials||!l.isEquals(this.credentials,b.credentials)||this.retention!==b.retention)}}class e{retention=g.year1}class l{token;username;password;static isEquals(b,M){return b.token===M.token&&b.username===M.username&&b.password===M.password}}var _=function(y){return y.SQlite="SQlite",y.influxDB="influxDB",y.influxDB18="influxDB 1.8",y.TDengine="TDengine",y}(_||{}),h=function(y){return y.none="none",y.day1="day1",y.days2="days2",y.days3="days3",y.days7="days7",y.days14="days14",y.days30="days30",y.days90="days90",y.year1="year1",y.year3="year3",y.year5="year5",y}(h||{}),g=function(y){return y.none="none",y.days7="days7",y.days30="days30",y.days90="days90",y.year1="year1",y.year3="year3",y.year5="year5",y}(g||{})},8411:(Rt,Be,ie)=>{"use strict";ie.d(Be,{KJ:()=>N,Xh:()=>K,yD:()=>D});class N{username;fullname;password;groups;info}class K{id;name;index;description}let D=(()=>class e{static ADMINMASK=[-1,255];static EXTENSION=8;static Groups=[{id:1,label:"Viewer"},{id:2,label:"Operator"},{id:4,label:"Engineer"},{id:8,label:"Supervisor"},{id:16,label:"Manager"},{id:32,label:"F"},{id:64,label:"G"},{id:128,label:"Administrator"}];static GroupsToValue(_,p){let h=0;if(_)for(let w=0;w<_.length;w++)h+=_[w].id;return h<<(p?this.EXTENSION:0)}static ValueToGroups(_,p){let h=[],g=p?this.EXTENSION:0;for(let w=0;w<this.Groups.length;w++)_>>g&this.Groups[w].id&&h.push(this.Groups[w]);return h}static GroupToLabel(_){let p=[];for(let h=0;h<this.Groups.length;h++)_&this.Groups[h].id&&p.push(this.Groups[h].label);return p.join(", ")}})()},4910:(Rt,Be,ie)=>{"use strict";ie.d(Be,{d:()=>e});var N=ie(7705),K=ie(5312),D=ie(5174);let e=(()=>{class l{settingsService;onShowModeChanged=new N.bkB;onShowLoading=new N.bkB;static APP_DEMO="demo";static APP_CLIENT="client";showMode;constructor(p){this.settingsService=p}setShowMode(p){return"editor"===p&&this.settingsService.isEditModeLocked()?(this.settingsService.notifyEditorLocked(),this.showMode):(this.showMode=p,this.onShowModeChanged.emit(this.showMode),this.showMode)}lockEditMode(){this.settingsService.lockEditMode()}unlockEditMode(){this.settingsService.unlockEditMode()}showLoading(p){this.onShowLoading.emit(p)}get isDemoApp(){return K.c.type===l.APP_DEMO}get isClientApp(){return K.c.type===l.APP_CLIENT}static \u0275fac=function(h){return new(h||l)(N.KVO(D.h))};static \u0275prov=N.jDH({token:l,factory:l.\u0275fac})}return l})()},4205:(Rt,Be,ie)=>{"use strict";ie.d(Be,{u:()=>w});var N=ie(1626),K=ie(4412),D=ie(1985),e=ie(8411),l=ie(5312),_=ie(8326),p=ie(5174),h=ie(3728),g=ie(7705);let w=(()=>{class b{http;settings;currentUser;endPointConfig=_.G.getURL();currentUser$=new K.t(null);constructor(E,T){this.http=E,this.settings=T;let F=JSON.parse(localStorage.getItem("currentUser"));F&&(this.currentUser=F),this.currentUser$.next(this.currentUser)}signIn(E,T){return new D.c(F=>{if(l.c.serverEnabled)return new N.Lr({"Content-Type":"application/json"}),this.http.post(this.endPointConfig+"/api/signin",{username:E,password:T}).subscribe(A=>{A&&(this.currentUser=A.data,this.currentUser.info&&(this.currentUser.infoRoles=JSON.parse(this.currentUser.info)?.roles),this.saveUserToken(this.currentUser),this.currentUser$.next(this.currentUser)),F.next(null)},A=>{console.error(A),F.error(A)});F.next(null)})}signOut(){this.removeUser()}getUser(){return this.currentUser}getUserProfile(){return this.currentUser}getUserToken(){return this.currentUser?.token}isAdmin(){return!(!this.currentUser||-1===e.yD.ADMINMASK.indexOf(this.currentUser.groups))}setNewToken(E){this.currentUser.token=E,this.saveUserToken(this.currentUser)}saveUserToken(E){localStorage.setItem("currentUser",JSON.stringify(E))}removeUser(){this.currentUser=null,localStorage.removeItem("currentUser"),this.currentUser$.next(this.currentUser)}checkPermission(E,T=!1){var F=this.currentUser?.groups;const k=this.settings.getSettings();if(!F&&!E)return{show:T||!k.secureEnabled,enabled:T||!k.secureEnabled};if(-1===F||255===F||h.Aq.isNullOrUndefined(E))return{show:!0,enabled:!0};const A=k.userRole?E.permissionRoles:E.permission;if(k.userRole){if(F&&!A)return{show:T,enabled:T}}else if(F&&!E&&!A)return{show:!0,enabled:!1};var S={show:!1,enabled:!1};if(k.userRole){var Q=this.currentUser?.infoRoles;if(Q){let W={show:!0,enabled:!0};if(A.show&&A.show.length&&(S.show=Q.some(j=>A.show.includes(j)),W.show=!1),A.enabled&&A.enabled.length&&(S.enabled=Q.some(j=>A.enabled.includes(j)),W.enabled=!1),W.show&&W.enabled)return W}else S.show=!(A&&A.show&&A.show.length),S.enabled=!(A&&A.enabled&&A.enabled.length)}else if(F){var O=A>>8;S.show=!O||0!=(O&F),S.enabled=!(O=255&A)||0!=(O&F)}else S.show=!A,S.enabled=!A;return S}static \u0275fac=function(T){return new(T||b)(g.KVO(N.Qq),g.KVO(p.h))};static \u0275prov=g.jDH({token:b,factory:b.\u0275fac})}return b})()},3131:(Rt,Be,ie)=>{"use strict";ie.d(Be,{Em:()=>A,Ih:()=>T});var N=ie(7705),K=ie(5431),e=ie(5312),l=ie(7546),_=ie(3276),p=ie(4233),h=ie(8326),g=ie(3728),w=ie(4412),y=ie(4205),b=ie(751),M=ie(2576),E=ie(8256);let T=(()=>{class S{projectService;translateService;authService;deviceAdapaterService;toastr;onVariableChanged=new N.bkB;onDeviceChanged=new N.bkB;onDeviceBrowse=new N.bkB;onDeviceNodeAttribute=new N.bkB;onDaqResult=new N.bkB;onDeviceProperty=new N.bkB;onHostInterfaces=new N.bkB;onAlarmsStatus=new N.bkB;onDeviceWebApiRequest=new N.bkB;onDeviceTagsRequest=new N.bkB;onScriptConsole=new N.bkB;onGoTo=new N.bkB;onOpen=new N.bkB;onServerConnection$=new w.t(!1);static separator="^~^";hmi;viewSignalGaugeMap=new F;variables={};alarms={highhigh:0,high:0,low:0,info:0};socket;endPointConfig=h.G.getURL();bridge=null;addFunctionType=g.Aq.getEnumKey(_.Z4,_.Z4.add);removeFunctionType=g.Aq.getEnumKey(_.Z4,_.Z4.remove);homeTagsSubscription=[];viewsTagsSubscription=[];getGaugeMapped;constructor(O,W,j,Y,U){this.projectService=O,this.translateService=W,this.authService=j,this.deviceAdapaterService=Y,this.toastr=U,this.initSocket(),this.projectService.onLoadHmi.subscribe(()=>{this.hmi=this.projectService.getHmi()}),this.authService.currentUser$.subscribe(X=>{this.initSocket(X?.token)})}setSignalValue(O){this.onVariableChanged.emit(O)}putSignalValue(O,W,j=null){if(O=this.deviceAdapaterService.resolveAdapterTagsId([O])[0],this.variables[O]||(this.variables[O]=new _.rT(O,null,null)),this.variables[O].value=this.getValueInFunction(this.variables[O].value,W,j),this.socket){let Y=this.projectService.getDeviceFromTagId(O);Y&&(this.variables[O].source=Y.id),Y?.type===l.bq.internal?(this.variables[O].timestamp=(new Date).getTime(),this.setSignalValue(this.variables[O]),Y.tags[O].value=W):this.socket.emit(k.DEVICE_VALUES,{cmd:"set",var:this.variables[O],fnc:[j,W]})}else this.bridge?this.bridge.setDeviceValue(this.variables[O],{fnc:[j,W]}):e.c.serverEnabled||this.setSignalValue(this.variables[O])}getAllSignals(){return this.variables}initSignalValues(O){for(const[W,j]of Object.entries(O))g.Aq.isNullOrUndefined(this.variables[W])||(this.variables[W].value=this.variables[j]?.value||null)}getValueInFunction(O,W,j){try{if(!j)return W;if(O||(O=0),j===this.addFunctionType)return parseFloat(O)+parseFloat(W);if(j===this.removeFunctionType)return parseFloat(O)-parseFloat(W)}catch(Y){console.error(Y)}return W}initClient(O){return!!O&&(this.bridge=O,!!this.bridge&&(this.bridge.onDeviceValues=W=>this.onDeviceValues(W),this.askDeviceValues(),!0))}onDeviceValues(O){for(let W=0;W<O.length;W++){let j=O[W].id;this.variables[j]||(this.variables[j]=new _.rT(j,null,null)),this.variables[j].value=O[W].value,this.variables[j].error=O[W].error,this.setSignalValue(this.variables[j])}}initSocket(O=null){e.c.serverEnabled&&(this.socket?.close(),this.socket=K(`${this.endPointConfig}/?token=${O}`),this.socket.on("connect",()=>{this.onServerConnection$.next(!0),this.tagsSubscribe()}),this.socket.on("disconnect",W=>{this.onServerConnection$.next(!1),console.log("socket disconnected: ",W)}),this.socket.io.on("reconnect_attempt",()=>{console.log("socket.io try to reconnect...")}),this.socket.on(k.DEVICE_STATUS,W=>{if(this.onDeviceChanged.emit(W),"connect-error"===W.status&&this.hmi?.layout?.show_connection_error){let j=W.id,Y=this.projectService.getDeviceFromId(W.id);Y&&(j=Y.name);let U="";this.translateService.get("msg.device-connection-error",{value:j}).subscribe(X=>{U=X}),this.toastr.error(U,"",{timeOut:3e3,closeButton:!0})}}),this.socket.on(k.DEVICE_PROPERTY,W=>{this.onDeviceProperty.emit(W)}),this.socket.on(k.DEVICE_VALUES,W=>{const j=(Y,U,X)=>{g.Aq.isNullOrUndefined(this.variables[Y])&&(this.variables[Y]=new _.rT(Y,null,null)),this.variables[Y].value=U,this.variables[Y].timestamp=X,this.setSignalValue(this.variables[Y])};for(let Y=0;Y<W.values.length;Y++){const U=W.values[Y].id,X=W.values[Y].value,z=W.values[Y].timestamp;j(U,X,z);const R=this.deviceAdapaterService.resolveDeviceTagIdForAdapter(U);R?.length&&R.forEach(Z=>{j(Z,X,z)})}}),this.socket.on(k.DEVICE_BROWSE,W=>{this.onDeviceBrowse.emit(W)}),this.socket.on(k.DEVICE_NODE_ATTRIBUTE,W=>{this.onDeviceNodeAttribute.emit(W)}),this.socket.on(k.DAQ_RESULT,W=>{this.onDaqResult.emit(W)}),this.socket.on(k.ALARMS_STATUS,W=>{this.onAlarmsStatus.emit(W)}),this.socket.on(k.HOST_INTERFACES,W=>{this.onHostInterfaces.emit(W)}),this.socket.on(k.DEVICE_WEBAPI_REQUEST,W=>{this.onDeviceWebApiRequest.emit(W)}),this.socket.on(k.DEVICE_TAGS_REQUEST,W=>{this.onDeviceTagsRequest.emit(W)}),this.socket.on(k.SCRIPT_CONSOLE,W=>{this.onScriptConsole.emit(W)}),this.socket.on(k.SCRIPT_COMMAND,W=>{this.onScriptCommand(W)}),this.socket.on(k.ALIVE,W=>{this.onServerConnection$.next(!0)}),this.askDeviceValues(),this.askAlarmsStatus())}askDeviceStatus(){this.socket&&this.socket.emit(k.DEVICE_STATUS,"get")}askDeviceProperty(O,W){this.socket&&this.socket.emit(k.DEVICE_PROPERTY,{endpoint:O,type:W})}askWebApiProperty(O){this.socket&&this.socket.emit(k.DEVICE_WEBAPI_REQUEST,{property:O})}askDeviceTags(O){this.socket&&this.socket.emit(k.DEVICE_TAGS_REQUEST,{deviceId:O})}askHostInterface(){this.socket&&this.socket.emit(k.HOST_INTERFACES,"get")}askDeviceValues(){this.socket?this.socket.emit(k.DEVICE_VALUES,{cmd:"get"}):this.bridge&&this.bridge.getDeviceValues(null)}askAlarmsStatus(){this.socket&&this.socket.emit(k.ALARMS_STATUS,"get")}emitMappedSignalsGauge(O){let W=this.viewSignalGaugeMap.getSignalIds(O);for(let j=0;j<W.length;j++)this.variables[W[j]]&&this.setSignalValue(this.variables[W[j]])}askDeviceBrowse(O,W){this.socket&&this.socket.emit(k.DEVICE_BROWSE,{device:O,node:W})}askNodeAttributes(O,W){this.socket&&this.socket.emit(k.DEVICE_NODE_ATTRIBUTE,{device:O,node:W})}queryDaqValues(O){this.socket&&(O.sids=this.deviceAdapaterService.resolveAdapterTagsId(O.sids),this.socket.emit(k.DAQ_QUERY,O))}tagsSubscribe(O=!1){if(this.socket){const W=this.viewsTagsSubscription.concat(this.homeTagsSubscription),j=this.deviceAdapaterService.resolveAdapterTagsId(W);let Y={tagsId:[...new Set(j)],sendLastValue:O};this.socket.emit(k.DEVICE_TAGS_SUBSCRIBE,Y)}}viewsTagsSubscribe(O,W=!1){this.viewsTagsSubscription=O,this.tagsSubscribe(W)}homeTagsSubscribe(O){this.homeTagsSubscription=O,this.tagsSubscribe()}tagsUnsubscribe(O){this.socket&&this.socket.emit(k.DEVICE_TAGS_UNSUBSCRIBE,{tagsId:O})}deviceEnable(O,W){this.socket&&this.socket.emit(k.DEVICE_ENABLE,{deviceName:O,enable:W})}addSignal(O){this.variables[O]||(this.variables[O]=new _.rT(O,null,this.projectService.getDeviceFromTagId(O)))}addSignalGaugeToMap(O,W,j){this.viewSignalGaugeMap.add(O,W,j),this.variables[W]||(this.variables[W]=new _.rT(W,null,this.projectService.getDeviceFromTagId(W)))}removeSignalGaugeFromMap(O){let W=this.viewSignalGaugeMap.getSignalIds(O),j={};return W.forEach(Y=>{let U=this.viewSignalGaugeMap.signalsGauges(O,Y);U&&(j[Y]=U.map(X=>X.id))}),this.viewSignalGaugeMap.remove(O),j}getMappedSignalsGauges(O,W){return Object.values(this.viewSignalGaugeMap.signalsGauges(O,W))}getMappedVariables(O){let W=[];return this.viewSignalGaugeMap.getAllSignalIds().forEach(j=>{if(this.variables[j]){let Y=this.variables[j];if(O){Y=Object.assign({},this.variables[j]);let U=this.projectService.getDeviceFromTagId(Y.id);U&&(Y.source=U.name,U.tags[Y.id]&&(Y.name=this.getTagLabel(U.tags[Y.id])))}W.push(Y)}}),W}getMappedVariable(O,W){if(!this.variables[O])return null;if(this.variables[O]){let j=this.variables[O];if(W){j=Object.assign({},this.variables[O]);let Y=this.projectService.getDeviceFromTagId(j.id);Y&&(j.source=Y.name,Y.tags[j.id]&&(j.name=this.getTagLabel(Y.tags[j.id])))}return j}}getTagLabel(O){return O.label?O.label:O.name}getChart(O){return this.projectService.getChart(O)}getChartSignal(O){let W=this.projectService.getChart(O);if(W){let j=[];return W.lines.forEach(Y=>{j.push(Y.id)}),j}}getGraph(O){return this.projectService.getGraph(O)}getGraphSignal(O){let W=this.projectService.getGraph(O);if(W){let j=[];return W.sources.forEach(Y=>{j.push(Y.id)}),j}}getAlarmsValues(O){return this.projectService.getAlarmsValues(O)}getAlarmsHistory(O){return this.projectService.getAlarmsHistory(O)}setAlarmAck(O){return this.projectService.setAlarmAck(O)}getDaqValues(O){return this.projectService.getDaqValues(O)}static toVariableId(O,W){return O+S.separator+W}onScriptCommand(O){if(O.params&&O.params.length)switch(O.command){case A.SETVIEW:this.onGoTo.emit({viewName:O.params[0],force:O.params[1]});break;case A.OPENCARD:this.onOpen.emit({viewName:O.params[0],options:O.params[1]})}}static \u0275fac=function(W){return new(W||S)(N.KVO(p.TR),N.KVO(M.c$),N.KVO(y.u),N.KVO(b.V),N.KVO(E.tw))};static \u0275prov=N.jDH({token:S,factory:S.\u0275fac})}return S})();class F{views={};add(Q,O,W){return this.views[Q]||(this.views[Q]={}),this.views[Q][O]||(this.views[Q][O]=[]),this.views[Q][O].push(W),!0}remove(Q){delete this.views[Q]}signalsGauges(Q,O){return this.views[Q][O]}getSignalIds(Q){let O=[];return this.views[Q]&&(O=Object.keys(this.views[Q])),O}getAllSignalIds(){let Q=[];return Object.values(this.views).forEach(O=>{Object.keys(O).forEach(W=>{-1===Q.indexOf(W)&&Q.push(W)})}),Q}}var k=function(S){return S.DEVICE_STATUS="device-status",S.DEVICE_PROPERTY="device-property",S.DEVICE_VALUES="device-values",S.DEVICE_BROWSE="device-browse",S.DEVICE_NODE_ATTRIBUTE="device-node-attribute",S.DEVICE_WEBAPI_REQUEST="device-webapi-request",S.DEVICE_TAGS_REQUEST="device-tags-request",S.DEVICE_TAGS_SUBSCRIBE="device-tags-subscribe",S.DEVICE_TAGS_UNSUBSCRIBE="device-tags-unsubscribe",S.DEVICE_ENABLE="device-enable",S.DAQ_QUERY="daq-query",S.DAQ_RESULT="daq-result",S.DAQ_ERROR="daq-error",S.ALARMS_STATUS="alarms-status",S.HOST_INTERFACES="host-interfaces",S.SCRIPT_CONSOLE="script-console",S.SCRIPT_COMMAND="script-command",S.ALIVE="heartbeat",S}(k||{});const A={SETVIEW:"SETVIEW",OPENCARD:"OPENCARD"}},4233:(Rt,Be,ie)=>{"use strict";ie.d(Be,{TR:()=>W,PS:()=>Y});var N=ie(467),K=ie(7705),D=ie(1413),e=ie(9350),l=ie(7707);function _(U,X){const z="object"==typeof X;return new Promise((R,Z)=>{const q=new l.Ms({next:ae=>{R(ae),q.unsubscribe()},error:Z,complete:()=>{z?R(X.defaultValue):Z(new e.G)}});U.subscribe(q)})}var p=ie(1985),h=ie(5312),g=ie(3367),w=ie(1394),y=ie(7546),b=ie(3997),M=ie(3830),E=ie(2679),T=ie(4910),F=ie(3728),k=ie(2578),A=ie(6334),S=ie(6894),Q=ie(2576),O=ie(8256);let W=(()=>{class U{resewbApiService;resDemoService;resClientService;appService;translateService;toastr;onSaveCurrent=new K.bkB;onLoadHmi=new K.bkB;onLoadClientAccess=new D.B;projectData=new g.wE;AppId="";serverSettings;storage;projectOld="";ready=!1;constructor(z,R,Z,q,ae,re){this.resewbApiService=z,this.resDemoService=R,this.resClientService=Z,this.appService=q,this.translateService=ae,this.toastr=re,this.storage=z,!h.c.serverEnabled||q.isDemoApp?this.storage=R:q.isClientApp&&(this.storage=Z),this.storage.getAppId=()=>this.getAppId(),this.storage.onRefreshProject=()=>this.onRefreshProject(),this.storage.checkServer().subscribe(Se=>{(!h.c.serverEnabled||Se)&&(this.serverSettings=Se,this.load())},Se=>{console.error("project.service err: "+Se),this.load(),this.notifyServerError()})}getAppId(){return this.AppId}init(z){this.storage.init(z),this.reload()}onRefreshProject(){return this.storage.getStorageProject().subscribe(z=>{if(z)this.projectData=z,this.projectOld=JSON.parse(JSON.stringify(this.projectData)),this.ready=!0,this.notifyToLoadHmi();else{let R="";this.translateService.get("msg.get-project-void").subscribe(Z=>{R=Z}),console.warn(R)}},z=>{console.error("FUXA onRefreshProject error",z)}),!0}load(){this.storage.getStorageProject().subscribe(z=>{!z&&this.appService.isDemoApp?(console.log("create demo"),this.setNewProject()):this.appService.isClientApp?(!z&&this.storage.isReady?this.setNewProject():this.projectData=z,this.ready=!0,this.notifyToLoadHmi()):(this.projectData=z,this.projectOld=JSON.parse(JSON.stringify(this.projectData)),this.ready=!0,this.notifyToLoadHmi())},z=>{console.error("FUXA load error",z)})}save(z=!1){const R=new D.B;return this.storage.setServerProject(this.projectData).subscribe(Z=>{this.load(),z||this.notifySuccessMessage("msg.project-save-success"),R.next(!0)},Z=>{console.error(Z);var q="";this.translateService.get("msg.project-save-error").subscribe(ae=>{q=ae}),this.toastr.error(q,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0}),R.next(!1)}),R}saveAs(){let z="fuxa-project.json";this.getProjectName()&&(z=`${this.getProjectName()}.json`);let R=JSON.stringify(this.convertToSave(this.getProject())),Z=new Blob([R],{type:"text/plain;charset=utf-8"});k.saveAs(Z,z)}exportDevices(z){let R="",q=`${this.projectData.name||"fuxa"}-devices.${z}`;const ae=Object.values(this.convertToSave(this.getDevices()));"csv"===z?R=y.$d.devicesToCsv(ae):(this.getProjectName()&&(q=`${this.getProjectName()}-devices.json`),R=JSON.stringify(ae,null,2));let re=new Blob([R],{type:"text/plain;charset=utf-8"});k.saveAs(re,q)}importDevices(z){z?z.forEach(R=>{R.id&&R.name&&this.setDevice(R,null,null)}):this.notifyError("msg.import-devices-error")}reload(){this.load()}convertToSave(z){let R=JSON.parse(JSON.stringify(z));if(this.appService.isClientApp){let Z=b.v.sanitizeProject(z);R=JSON.parse(JSON.stringify(Z))}for(let Z in R.devices)for(let q in R.devices[Z].tags)delete R.devices[Z].tags[q].value;return R}getProjectName(){return this.projectData?this.projectData.name:null}setProjectName(z){this.projectData.name=z,this.save()}setDevice(z,R,Z){this.projectData.devices&&(this.projectData.devices[z.id]=z,this.storage.setDeviceSecurity(z.id,Z).subscribe(()=>{this.storage.setServerProjectData(g.cu.SetDevice,z,this.projectData).subscribe(q=>{R&&R.id!==z.id&&this.removeDevice(R)},q=>{console.error(q),this.notifySaveError(q)})},q=>{console.error(q),this.notifySaveError(q)}))}setDeviceTags(z){this.projectData.devices[z.id]=z,this.storage.setServerProjectData(g.cu.SetDevice,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)})}removeDevice(z){delete this.projectData.devices[z.id],this.storage.setServerProjectData(g.cu.DelDevice,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)}),this.storage.setDeviceSecurity(z.id,"").subscribe(()=>{},R=>{console.error(R),this.notifySaveError(R)})}getDeviceSecurity(z){return this.storage.getDeviceSecurity(z)}setView(z,R=!1){const Z=this.projectData.hmi.views.find(q=>q.id===z.id);Z?Object.assign(Z,z):this.projectData.hmi.views.push(z),this.storage.setServerProjectData(g.cu.SetView,z,this.projectData).subscribe(q=>{R&&this.notifySuccessMessage("msg.project-save-success")},q=>{console.error(q),this.notifySaveError(q)})}setViewAsync(z){var R=this;return(0,N.A)(function*(Z,q=!1){const ae=R.projectData.hmi.views.find(re=>re.id===Z.id);ae?Object.assign(ae,Z):R.projectData.hmi.views.push(Z),yield _(R.storage.setServerProjectData(g.cu.SetView,Z,R.projectData)),q&&R.notifySuccessMessage("msg.project-save-success")}).apply(this,arguments)}getViews(){return this.projectData?this.projectData.hmi.views:[]}getViewId(z){let R=this.getViews();for(var Z=0;Z<R.length;Z++)if(R[Z].name===z)return R[Z].id;return null}getViewFromId(z){let R=this.getViews();for(var Z=0;Z<R.length;Z++)if(R[Z].id===z)return R[Z];return null}removeView(z){for(let R=0;R<this.projectData.hmi.views.length;R++)if(this.projectData.hmi.views[R].id===z.id){this.projectData.hmi.views.splice(R,1);break}this.storage.setServerProjectData(g.cu.DelView,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)})}getHmi(){return this.ready&&this.projectData?this.projectData.hmi:null}setLayout(z){this.projectData.hmi.layout=z,this.saveLayout()}setLayoutTheme(z){this.projectData.hmi.layout.theme=z,this.saveLayout()}getLayoutTheme(){return this.projectData.hmi.layout?this.projectData.hmi.layout.theme:null}saveLayout(){this.storage.setServerProjectData(g.cu.HmiLayout,this.projectData.hmi.layout,this.projectData).subscribe(z=>{},z=>{console.error(z),this.notifySaveError(z)})}getCharts(){return this.projectData?this.projectData.charts?this.projectData.charts:[]:null}getChart(z){for(let R=0;R<this.projectData.charts.length;R++)if(this.projectData.charts[R].id===z)return this.projectData.charts[R]}setCharts(z){this.projectData.charts=z,this.storage.setServerProjectData(g.cu.Charts,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)})}getGraphs(){return this.projectData?this.projectData.graphs?this.projectData.graphs:[]:null}getGraph(z){if(this.projectData.graphs)for(let R=0;R<this.projectData.graphs.length;R++)if(this.projectData.graphs[R].id===z)return this.projectData.graphs[R];return null}setGraphs(z){this.projectData.graphs=z,this.storage.setServerProjectData(g.cu.Graphs,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)})}getAlarms(){return this.projectData?this.projectData.alarms?this.projectData.alarms:[]:null}setAlarm(z,R){return new p.c(Z=>{this.projectData.alarms||(this.projectData.alarms=[]);let q=this.projectData.alarms.find(ae=>ae.name===z.name);q?(q.property=z.property,q.highhigh=z.highhigh,q.high=z.high,q.low=z.low,q.info=z.info,q.actions=z.actions,q.value=z.value):this.projectData.alarms.push(z),this.storage.setServerProjectData(g.cu.SetAlarm,z,this.projectData).subscribe(ae=>{R&&R.name&&R.name!==z.name?this.removeAlarm(R).subscribe(re=>{Z.next(null)}):Z.next(null)},ae=>{console.error(ae),this.notifySaveError(ae),Z.error(ae)})})}removeAlarm(z){return new p.c(R=>{if(this.projectData.alarms)for(let Z=0;Z<this.projectData.alarms.length;Z++)if(this.projectData.alarms[Z].name===z.name){this.projectData.alarms.splice(Z,1);break}this.storage.setServerProjectData(g.cu.DelAlarm,z,this.projectData).subscribe(Z=>{R.next(null)},Z=>{console.error(Z),this.notifySaveError(Z),R.error(Z)})})}getAlarmsValues(z){return this.storage.getAlarmsValues(z)}getAlarmsHistory(z){return this.storage.getAlarmsHistory(z)}setAlarmAck(z){return this.storage.setAlarmAck(z)}getNotifications(){return this.projectData?this.projectData.notifications?this.projectData.notifications:[]:null}setNotification(z,R){return new p.c(Z=>{this.projectData.notifications||(this.projectData.notifications=[]);let q=this.projectData.notifications.find(ae=>ae.id===z.id);q?(q.name=z.name,q.delay=z.delay,q.interval=z.interval,q.options=z.options,q.receiver=z.receiver,q.enabled=z.enabled,q.subscriptions=z.subscriptions,q.text=z.text,q.type=z.type):this.projectData.notifications.push(z),this.storage.setServerProjectData(g.cu.SetNotification,z,this.projectData).subscribe(ae=>{R?.id&&R.id!==z.id?this.removeNotification(R).subscribe(re=>{Z.next(null)}):Z.next(null)},ae=>{console.error(ae),this.notifySaveError(ae),Z.error(ae)})})}removeNotification(z){return new p.c(R=>{if(this.projectData.notifications)for(let Z=0;Z<this.projectData.notifications.length;Z++)if(this.projectData.notifications[Z].id===z.id){this.projectData.notifications.splice(Z,1);break}this.storage.setServerProjectData(g.cu.DelNotification,z,this.projectData).subscribe(Z=>{R.next(null)},Z=>{console.error(Z),this.notifySaveError(Z),R.error(Z)})})}getMapsLocations(z){return this.projectData?.mapsLocations?z?this.projectData.mapsLocations.filter(R=>z.includes(R.id)):this.projectData.mapsLocations:[]}setMapsLocation(z,R){return new p.c(Z=>{this.projectData.mapsLocations||(this.projectData.mapsLocations=[]);let q=this.projectData.mapsLocations.find(ae=>ae.id===z.id);q?Object.assign(q,z):this.projectData.mapsLocations.push(z),this.storage.setServerProjectData(g.cu.SetMapsLocation,z,this.projectData).subscribe(ae=>{R?.id&&z.id!==R.id?this.removeMapsLocation(R).subscribe(re=>{Z.next(null)}):Z.next(null)},ae=>{console.error(ae),this.notifySaveError(ae),Z.error(ae)})})}removeMapsLocation(z){return new p.c(R=>{for(let Z=0;Z<this.projectData.mapsLocations?.length;Z++)if(this.projectData.mapsLocations[Z].id===z.id){this.projectData.mapsLocations.splice(Z,1);break}this.storage.setServerProjectData(g.cu.DelMapsLocation,z,this.projectData).subscribe(Z=>{R.next(null)},Z=>{console.error(Z),this.notifySaveError(Z),R.error(Z)})})}getScripts(){return this.projectData?this.projectData.scripts?this.projectData.scripts:[]:null}setScript(z,R){return new p.c(Z=>{this.projectData.scripts||(this.projectData.scripts=[]);let q=this.projectData.scripts.find(ae=>ae.id===z.id);q?(q.name=z.name,q.code=z.code,q.parameters=z.parameters,q.mode=z.mode,q.sync=z.sync):this.projectData.scripts.push(z),this.storage.setServerProjectData(g.cu.SetScript,z,this.projectData).subscribe(ae=>{R&&R.id&&R.id!==z.id?this.removeScript(R).subscribe(re=>{Z.next(null)}):Z.next(null)},ae=>{console.error(ae),this.notifySaveError(ae),Z.error(ae)})})}removeScript(z){return new p.c(R=>{if(this.projectData.scripts)for(let Z=0;Z<this.projectData.scripts.length;Z++)if(this.projectData.scripts[Z].id===z.id){this.projectData.scripts.splice(Z,1);break}this.storage.setServerProjectData(g.cu.DelScript,z,this.projectData).subscribe(Z=>{R.next(null)},Z=>{console.error(Z),this.notifySaveError(Z),R.error(Z)})})}getReports(){return this.projectData?this.projectData.reports?this.projectData.reports:[]:null}setReport(z,R){return new p.c(Z=>{this.projectData.reports||(this.projectData.reports=[]);let q=this.projectData.reports.find(ae=>ae.id===z.id);q?F.Aq.assign(q,z):this.projectData.reports.push(z),this.storage.setServerProjectData(g.cu.SetReport,z,this.projectData).subscribe(ae=>{R&&R.id&&R.id!==z.id?this.removeReport(R).subscribe(re=>{Z.next(null)}):Z.next(null)},ae=>{console.error(ae),this.notifySaveError(ae),Z.error(ae)})})}removeReport(z){return new p.c(R=>{if(this.projectData.reports)for(let Z=0;Z<this.projectData.reports.length;Z++)if(this.projectData.reports[Z].id===z.id){this.projectData.reports.splice(Z,1);break}this.storage.setServerProjectData(g.cu.DelReport,z,this.projectData).subscribe(Z=>{R.next(null)},Z=>{console.error(Z),this.notifySaveError(Z),R.error(Z)})})}getTexts(){return this.projectData?this.projectData.texts?this.projectData.texts:[]:null}setText(z){this.projectData.texts||(this.projectData.texts=[]);let R=this.projectData.texts.find(Z=>Z.id===z.id);R?F.Aq.assign(R,z):(z.id??=F.Aq.getShortGUID("w_"),this.projectData.texts.push(z)),this.storage.setServerProjectData(g.cu.SetText,z,this.projectData).subscribe(Z=>{},Z=>{console.error(Z),this.notifySaveError(Z)})}removeText(z){if(this.projectData.texts)for(let R=0;R<this.projectData.texts.length;R++)if(this.projectData.texts[R].id===z.id){this.projectData.texts.splice(R,1);break}this.storage.setServerProjectData(g.cu.DelText,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)})}getLanguages(){return this.projectData?this.projectData.languages?this.projectData.languages:new w.AT:null}setLanguages(z){this.projectData.languages=z,this.storage.setServerProjectData(g.cu.Languages,z,this.projectData).subscribe(R=>{},R=>{console.error(R),this.notifySaveError(R)})}getClientAccess(){return this.projectData?this.projectData.clientAccess?this.projectData.clientAccess:new A.K:null}setClientAccess(z){this.projectData.clientAccess=z,this.storage.setServerProjectData(g.cu.ClientAccess,z,this.projectData).subscribe(R=>{this.onLoadClientAccess.next()},R=>{console.error(R),this.notifySaveError(R)})}notifyToLoadHmi(){this.onLoadHmi.emit(!0)}notifySaveError(z){console.error("FUXA notifySaveError error",z);let R=this.translateService.instant("msg.project-save-error");401===z.status?R=this.translateService.instant("msg.project-save-unauthorized"):413===z.status&&(R=z.error?.message||z.message||z.statusText),R&&this.toastr.error(R,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}notifyServerError(){console.error("FUXA notifyServerError error");let z=null;this.translateService.get("msg.server-connection-error").subscribe(R=>{z=R}),z&&this.toastr.error(z,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}notifyError(z){const R=this.translateService.instant(z);z&&(console.error(`FUXA Error: ${R}`),this.toastr.error(R,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0}))}uploadFile(z){return this.storage.uploadFile(z)}getDaqValues(z){return this.storage.getDaqValues(z)}getTagsValues(z,R){var Z=this;return(0,N.A)(function*(){return yield _(Z.storage.getTagsValues(z,R))})()}runSysFunctionSync(z,R){var Z=this;return(0,N.A)(function*(){return yield _(Z.storage.runSysFunction(z,R))})()}setProject(z,R=!1){this.verifyProject(z)&&(this.projectData=z,this.appService.isClientApp&&(this.projectData=b.v.defileProject(z)),this.save(R))}verifyProject(z){let R=!0;return(F.Aq.isNullOrUndefined(z.version)||F.Aq.isNullOrUndefined(z.hmi)||F.Aq.isNullOrUndefined(z.devices))&&(R=!1),R||this.notifyError("msg.project-format-error"),R}verifyView(z){let R=!0;return(F.Aq.isNullOrUndefined(z.svgcontent)||F.Aq.isNullOrUndefined(z.id)||F.Aq.isNullOrUndefined(z.profile)||F.Aq.isNullOrUndefined(z.type)||F.Aq.isNullOrUndefined(z.items))&&(R=!1),R||this.notifyError("msg.view-format-error"),R}setNewProject(){this.projectData=new g.wE;let z=new y.pF(F.Aq.getGUID(y.C_));z.name=y.Yp.name,z.id=y.Yp.id,z.type=y.bq.FuxaServer,z.enabled=!0,z.property=new y.v_,this.appService.isClientApp?delete this.projectData.server:this.projectData.server=z,this.save(!0)}getProject(){return this.projectData}checkServer(){return this.storage.checkServer()}getServer(){return this.projectData?this.projectData.server:null}getServerDevices(){return Object.values(this.getDevices()).filter(z=>z.type!==y.bq.internal)}getDevices(){let z={};if(this.projectData&&(z=this.projectData.devices,this.projectData.server&&!z[this.projectData.server?.id])){let R=JSON.parse(JSON.stringify(this.projectData.server));R.enabled=!0,R.tags={},z[R.id]=R}return z}getDeviceList(){return Object.values(this.getDevices())}getDeviceFromId(z){let R;return Object.keys(this.projectData.devices).forEach(Z=>{this.projectData.devices[Z].id===z&&(R=this.projectData.devices[Z])}),R}getDeviceFromTagId(z){let R=Object.values(this.projectData.devices);for(let Z=0;Z<R.length;Z++)if(R[Z].tags[z])return R[Z]}getTagFromId(z,R){let Z=Object.values(this.projectData.devices);for(let q=0;q<Z.length;q++)if(Z[q].tags[z]){if(R){let re=F.Aq.clone(Z[q].tags[z]);return re.deviceId=Z[q].id,re.deviceName=Z[q].name,re.deviceType=Z[q].type,re}return Z[q].tags[z]}return null}getTagIdFromName(z,R){let Z=Object.values(this.projectData.devices);for(let q=0;q<Z.length;q++)if(!R||Z[q].name===R){let ae=Object.values(Z[q].tags).find(re=>re.name===z);if(ae)return ae.id}return null}checkSystemTags(){let z=Object.values(this.projectData.devices).filter(Z=>Z.id!==y.Yp.id),R=this.projectData.devices[y.Yp.id];if(R){let Z=!1;z.forEach(q=>{if(!Object.values(R.tags).find(ae=>ae.sysType===y.oO.deviceConnectionStatus&&ae.memaddress===q.id)){let ae=new y.vw(F.Aq.getGUID(y.jN));ae.name=q.name+" Connection Status",ae.label=q.name+" Connection Status",ae.type=y.q9.number,ae.memaddress=q.id,ae.sysType=y.oO.deviceConnectionStatus,ae.init=ae.value="",R.tags[ae.id]=ae,Z=!0}}),Z&&this.setDeviceTags(R)}return this.getDevices()}saveProject(z=Y.Save){this.onSaveCurrent.emit(z)}isSecurityEnabled(){return!(!h.c.serverEnabled||this.serverSettings&&!this.serverSettings.secureEnabled)}_deepEquals(z,R){if(JSON.stringify(z)===JSON.stringify(R))return!0;try{for(const Z in z)if(z.hasOwnProperty(Z)){if(!R.hasOwnProperty(Z))return!1;if("svgcontent"===Z){const q=new DOMParser,ae=q.parseFromString(z[Z],"text/xml"),re=q.parseFromString(R[Z],"text/xml");let Se=this._xml2json(ae),be=this._xml2json(re);return this._deepEquals(Se,be)}if(z[Z]!==R[Z]&&!this._deepEquals(z[Z],R[Z]))return!1}for(const Z in R)if(R.hasOwnProperty(Z)&&!z.hasOwnProperty(Z))return!1}catch(Z){return console.error(Z),!1}return!0}_xml2json(z){var R={};if(1==z.nodeType){if(z.attributes.length>0){R["@attributes"]={};for(var Z=0;Z<z.attributes.length;Z++){var q=z.attributes.item(Z);R["@attributes"][q.nodeName]=q.nodeValue}}}else 3==z.nodeType&&(R=z.nodeValue);if(z.hasChildNodes())for(var ae=0;ae<z.childNodes.length;ae++){var re=z.childNodes.item(ae),Se=re.nodeName;if(typeof R[Se]>"u")R[Se]=this._xml2json(re);else{if(typeof R[Se].push>"u"){var be=R[Se];R[Se]=[],R[Se].push(be)}R[Se].push(this._xml2json(re))}}return R}notifySuccessMessage(z){var R="";this.translateService.get(z).subscribe(Z=>{R=Z}),this.toastr.success(R)}static \u0275fac=function(R){return new(R||U)(K.KVO(E.K),K.KVO(S.t),K.KVO(M.F),K.KVO(T.d),K.KVO(Q.c$),K.KVO(O.tw))};static \u0275prov=K.jDH({token:U,factory:U.\u0275fac})}return U})();var Y=function(U){return U[U.Current=0]="Current",U[U.Save=1]="Save",U[U.SaveAs=2]="SaveAs",U}(Y||{})},3830:(Rt,Be,ie)=>{"use strict";ie.d(Be,{F:()=>_});var N=ie(1985),K=ie(3367),D=ie(3997),e=ie(7705),l=ie(1626);let _=(()=>{class p{http;endPointConfig="";bridge=null;id=null;get isReady(){return!!this.bridge}onRefreshProject;constructor(g){this.http=g}init(g){return this.id=this.getAppId(),!!this.bindBridge(g)}bindBridge(g){return!!g&&(this.bridge=g,!!this.bridge&&(this.bridge.onRefreshProject=this.onRefreshProject,!0))}getDemoProject(){return this.http.get("./assets/project.demo.fuxap",{})}getStorageProject(){return new N.c(g=>{if(this.bridge){let w=this.bridge.loadProject(),y=D.v.defileProject(w);g.next(y)}else{let w=localStorage.getItem(this.getAppId());g.next(w?JSON.parse(w):null)}})}setServerProject(g){return new N.c(w=>{if(g)if(this.bridge){let y=D.v.sanitizeProject(g);this.bridge.saveProject(y,!0)?w.next(null):w.error()}else this.saveInLocalStorage(g),w.next(null);else w.next(null)})}setServerProjectData(g,w,y){return new N.c(b=>{if(y)if(this.bridge){let M=D.v.sanitizeProject(y);this.bridge.saveProject(M,!1)?b.next(null):b.error()}else this.saveInLocalStorage(y),b.next(null);else b.next(null)})}uploadFile(g,w){return new N.c(y=>{y.error("Not supported!")})}isDataCmdForDevice(g){return g===K.cu.DelDevice||g===K.cu.SetDevice}saveInLocalStorage(g){this.getAppId()&&localStorage.setItem(this.getAppId(),JSON.stringify(g))}getDeviceSecurity(g){return new N.c(w=>{w.error("Not supported!")})}setDeviceSecurity(g,w){return new N.c(y=>{y.next("Not supported!")})}getAlarmsValues(g){return new N.c(w=>{w.error("Not supported!")})}getAlarmsHistory(g){return new N.c(w=>{w.error("Not supported!")})}setAlarmAck(g){return new N.c(w=>{w.error("Not supported!")})}checkServer(){return new N.c(g=>{g.next(null)})}getAppId(){return D.v.prjresource}getDaqValues(g){return new N.c(w=>{w.error("Not supported!")})}getTagsValues(g,w){return new N.c(y=>{y.error("Not supported!")})}runSysFunction(g,w){return new N.c(y=>{y.error("Not supported!")})}heartbeat(g){return new N.c(w=>{w.error("Not supported!")})}downloadFile(g,w){return new N.c(y=>{y.error("Not supported!")})}getReportsDir(g){return new N.c(w=>{w.error("Not supported!")})}getReportsQuery(g){return new N.c(w=>{w.error("Not supported!")})}getRoles(){return new N.c(g=>{g.error("Not supported!")})}setRoles(g){return new N.c(w=>{w.error("Not supported!")})}removeRoles(g){return new N.c(w=>{w.error("Not supported!")})}buildReport(g){return new N.c(w=>{w.error("Not supported!")})}removeReportFile(g){return new N.c(w=>{w.error("Not supported!")})}static \u0275fac=function(w){return new(w||p)(e.KVO(l.Qq))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})()},6894:(Rt,Be,ie)=>{"use strict";ie.d(Be,{t:()=>l});var N=ie(1985),K=ie(3997),D=ie(7705),e=ie(1626);let l=(()=>{class _{http;endPointConfig="";onRefreshProject;constructor(h){this.http=h}init(){return!0}getDemoProject(){return this.http.get("./assets/project.demo.fuxap",{})}getStorageProject(){return new N.c(h=>{let g=localStorage.getItem(this.getAppId());g?h.next(JSON.parse(g)):this.getDemoProject().subscribe(w=>{h.next(w)},w=>{h.error(w)})})}setServerProject(h){return new N.c(g=>{localStorage.setItem(this.getAppId(),JSON.stringify(h)),g.next(null)})}setServerProjectData(h,g){return new N.c(w=>{w.next("Not supported!")})}uploadFile(h,g){return new N.c(w=>{w.error("Not supported!")})}getDeviceSecurity(h){return new N.c(g=>{g.error("Not supported!")})}setDeviceSecurity(h,g){return new N.c(w=>{w.next("Not supported!")})}getAlarmsValues(h){return new N.c(g=>{g.error("Not supported!")})}getAlarmsHistory(h){return new N.c(g=>{g.error("Not supported!")})}setAlarmAck(h){return new N.c(g=>{g.error("Not supported!")})}checkServer(){return new N.c(h=>{h.next(null)})}getAppId(){return K.v.prjresource}getDaqValues(h){return new N.c(g=>{g.error("Not supported!")})}getTagsValues(h,g){return new N.c(w=>{w.error("Not supported!")})}runSysFunction(h,g){return new N.c(w=>{w.error("Not supported!")})}heartbeat(h){return new N.c(g=>{g.error("Not supported!")})}downloadFile(h,g){return new N.c(w=>{w.error("Not supported!")})}getReportsDir(h){return new N.c(g=>{g.error("Not supported!")})}getReportsQuery(h){return new N.c(g=>{g.error("Not supported!")})}getRoles(){return new N.c(h=>{h.error("Not supported!")})}setRoles(h){return new N.c(g=>{g.error("Not supported!")})}removeRoles(h){return new N.c(g=>{g.error("Not supported!")})}buildReport(h){return new N.c(g=>{g.error("Not supported!")})}removeReportFile(h){return new N.c(g=>{g.error("Not supported!")})}static \u0275fac=function(g){return new(g||_)(D.KVO(e.Qq))};static \u0275prov=D.jDH({token:_,factory:_.\u0275fac})}return _})()},3997:(Rt,Be,ie)=>{"use strict";ie.d(Be,{v:()=>K});var N=ie(7705);let K=(()=>{class D{static prjresource="prj-data";static defileProject(l){if(!l)return l;let _=JSON.parse(JSON.stringify(l)),p={};for(let h=0;h<_.devices.length;h++){let g={};for(let w=0;w<_.devices[h].tags.length;w++)g[_.devices[h].tags[w].id]=_.devices[h].tags[w];_.devices[h].tags=g,p[_.devices[h].id]=_.devices[h]}return _.devices=p,_}static sanitizeProject(l){let _=JSON.parse(JSON.stringify(l));_.devices=Object.values(_.devices);for(let p=0;p<_.devices.length;p++){_.devices[p].tags=Object.values(_.devices[p].tags);for(let h=0;h<_.devices[p].tags.length;h++)delete _.devices[p].tags[h].value}return _}static sanitizeDevice(l){let _=JSON.parse(JSON.stringify(l));return _.tags=Object.values(_.tags),_}static \u0275fac=function(_){return new(_||D)};static \u0275prov=N.jDH({token:D,factory:D.\u0275fac})}return D})()},2679:(Rt,Be,ie)=>{"use strict";ie.d(Be,{K:()=>y});var N=ie(1626),K=ie(5558),D=ie(7673),e=ie(6354),l=ie(1985),_=ie(8326),p=ie(3997),h=ie(7705),g=ie(2576),w=ie(8256);let y=(()=>{class b{http;translateService;toastr;endPointConfig=_.G.getURL();onRefreshProject;constructor(E,T,F){this.http=E,this.translateService=T,this.toastr=F}init(){return!0}getDemoProject(){return this.http.get("./assets/project.demo.fuxap",{})}getStorageProject(){return this.http.get(this.endPointConfig+"/api/project",{})}setServerProject(E){let T=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/project",E,{headers:T})}setServerProjectData(E,T){let F=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/projectData",{cmd:E,data:T},{headers:F})}uploadFile(E,T){let F=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/upload",{resource:E,destination:T},{headers:F})}getDeviceSecurity(E){let T=new N.Lr({"Content-Type":"application/json"});return this.http.get(this.endPointConfig+"/api/device",{headers:T,params:{query:"security",name:E}})}setDeviceSecurity(E,T){let F=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/device",{headers:F,params:{query:"security",name:E,value:T}})}getAlarmsValues(E){let T=new N.Lr({"Content-Type":"application/json"}),F=E?{filter:JSON.stringify(E)}:null;return this.http.get(this.endPointConfig+"/api/alarms",{headers:T,params:F})}getAlarmsHistory(E){const F={headers:new N.Lr({"Content-Type":"application/json"}),params:{start:E.start.getTime(),end:E.end.getTime()},observe:"response"};return this.http.get(this.endPointConfig+"/api/alarmsHistory",F).pipe((0,K.n)(k=>(0,D.of)(null==k.body?[]:k.body)),(0,e.T)(k=>k))}setAlarmAck(E){return new l.c(T=>{let F=new N.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/alarmack",{headers:F,params:E}).subscribe(k=>{T.next(null)},k=>{T.error(k)})})}checkServer(){return this.http.get(this.endPointConfig+"/api/settings")}getAppId(){return p.v.prjresource}getDaqValues(E){let T=new N.Lr({"Content-Type":"application/json"}),F={query:JSON.stringify(E)};return this.http.get(this.endPointConfig+"/api/daq",{headers:T,params:F})}getTagsValues(E,T){let F=new N.Lr({"Content-Type":"application/json"}),k={ids:JSON.stringify(E),sourceScriptName:T};return this.http.get(this.endPointConfig+"/api/getTagValue",{headers:F,params:k})}runSysFunction(E,T){let F=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/runSysFunction",{headers:F,params:{functionName:E,parameters:T}})}heartbeat(E){let T=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/heartbeat",{headers:T,params:E})}downloadFile(E,T){let F=new N.Lr({"Content-Type":"application/pdf"});return this.http.get(this.endPointConfig+"/api/download",{headers:F,params:{cmd:T,name:E},responseType:"blob"})}getRoles(){let E=new N.Lr({"Content-Type":"application/json"});return this.http.get(this.endPointConfig+"/api/roles",{headers:E})}setRoles(E){return new l.c(T=>{let F=new N.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/roles",{headers:F,params:E}).subscribe(k=>{T.next(null)},k=>{T.error(k)})})}removeRoles(E){let T=new N.Lr({"Content-Type":"application/json"});return this.http.delete(this.endPointConfig+"/api/roles",{headers:T,params:{roles:JSON.stringify(E)}})}getReportsDir(E){let T=new N.Lr({"Content-Type":"application/json"});return this.http.get(this.endPointConfig+"/api/reportsdir",{headers:T,params:{id:E.id,name:E.name}})}getReportsQuery(E){let T=new N.Lr({"Content-Type":"application/json"}),F={query:JSON.stringify(E)};return this.http.get(this.endPointConfig+"/api/reportsQuery",{headers:T,params:F})}buildReport(E){return new l.c(T=>{let F=new N.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/reportBuild",{headers:F,params:E}).subscribe(A=>{T.next(null);var S="";this.translateService.get("msg.report-build-forced").subscribe(Q=>{S=Q}),this.toastr.success(S)},A=>{console.error(A),T.error(A),this.notifyError(A)})})}removeReportFile(E){let T=new N.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/reportRemoveFile",{headers:T,params:{fileName:E}})}notifyError(E){var T="";this.translateService.get("msg.report-build-error").subscribe(F=>{T=F}),this.toastr.error(T,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}static \u0275fac=function(T){return new(T||b)(h.KVO(N.Qq),h.KVO(g.c$),h.KVO(w.tw))};static \u0275prov=h.jDH({token:b,factory:b.\u0275fac})}return b})()},5384:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>ScriptService});var C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(467),_angular_common_http__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1626),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1985),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3207),_helpers_endpointapi__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8326),_environments_environment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5312),_models_script__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3955),_project_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4233),_hmi_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3131),_helpers_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3728),_models_device__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7546),_auth_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4205),_device_adapter_device_adapter_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(751),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7705),_toast_notifier_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(935);let ScriptService=(()=>{class ScriptService{http;projectService;hmiService;authService;deviceAdapaterService;toastNotifier;endPointConfig=_helpers_endpointapi__WEBPACK_IMPORTED_MODULE_0__.G.getURL();constructor(Rt,Be,ie,N,K,D){this.http=Rt,this.projectService=Be,this.hmiService=ie,this.authService=N,this.deviceAdapaterService=K,this.toastNotifier=D,this.projectService.onLoadClientAccess.subscribe(()=>{this.loadScriptApi()}),this.projectService.onLoadHmi.subscribe(()=>{this.loadScriptApi()})}loadScriptApi(){const Rt=this.projectService.getClientAccess(),Be=new _models_script__WEBPACK_IMPORTED_MODULE_2__.N0(_models_script__WEBPACK_IMPORTED_MODULE_2__.bR.CLIENT),ie={};for(const N of Be.functions)if(Rt.scriptSystemFunctions.includes(N.name)){const K=N.name.replace("$","");"function"==typeof this[N.name]?ie[K]=this[N.name].bind(this):console.warn(`Function ${N.name} not found in ScriptService`)}window.fuxaScriptAPI=ie}runScript(script,toLogEvent=!0){return new rxjs__WEBPACK_IMPORTED_MODULE_9__.c(observer=>{const permission=this.authService.checkPermission(script,!0);if(!1===permission?.enabled)return this.toastNotifier.notifyError("msg.operation-unauthorized","",!1,!1),observer.next(null),void observer.complete();if(script.mode&&script.mode!==_models_script__WEBPACK_IMPORTED_MODULE_2__.bR.SERVER){let parameterToAdd="";script.parameters?.forEach(Rt=>{_helpers_utils__WEBPACK_IMPORTED_MODULE_5__.Aq.isNumeric(Rt.value)?parameterToAdd+=`let ${Rt.name} = ${Rt.value};`:_helpers_utils__WEBPACK_IMPORTED_MODULE_5__.Aq.isObject(Rt.value)?parameterToAdd+=`let ${Rt.name} = ${JSON.stringify(Rt.value)};`:parameterToAdd+=`let ${Rt.name} = '${Rt.value}';`});try{const code=`${parameterToAdd}${script.code}`,asyncText=script.sync?"function":"async function",callText=`${asyncText} ${script.name}() {\n${this.addSysFunctions(code)} \n }\n${script.name}.call(this);\n`,result=eval(callText);observer.next(result)}catch(Rt){console.error(Rt),observer.error(Rt)}finally{observer.complete()}}else if(_environments_environment__WEBPACK_IMPORTED_MODULE_1__.c.serverEnabled){let Rt=new _angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Lr({"Content-Type":"application/json"}),Be={script,toLogEvent};this.http.post(this.endPointConfig+"/api/runscript",{headers:Rt,params:Be}).subscribe(ie=>{observer.next(ie),observer.complete()},ie=>{console.error(ie),observer.error(ie)})}else observer.next(null),observer.complete()})}evalScript(script){script.parameters?.length>0&&console.warn("TODO: Script with mode CLIENT not work with parameters.");try{const asyncText=script.sync?"":"async",asyncScript=`(${asyncText} () => { ${this.addSysFunctions(script.code)} \n})();`;eval(asyncScript)}catch(Rt){console.error(Rt)}}addSysFunctions(Rt){let Be=Rt.replace(/\$getTag\(/g,"await this.$getTag(");return Be=Be.replace(/\$setTag\(/g,"this.$setTag("),Be=Be.replace(/\$getTagId\(/g,"this.$getTagId("),Be=Be.replace(/\$getTagDaqSettings\(/g,"await this.$getTagDaqSettings("),Be=Be.replace(/\$setTagDaqSettings\(/g,"await this.$setTagDaqSettings("),Be=Be.replace(/\$setView\(/g,"this.$setView("),Be=Be.replace(/\$openCard\(/g,"this.$openCard("),Be=Be.replace(/\$enableDevice\(/g,"this.$enableDevice("),Be=Be.replace(/\$getDeviceProperty\(/g,"await this.$getDeviceProperty("),Be=Be.replace(/\$setDeviceProperty\(/g,"await this.$setDeviceProperty("),Be=Be.replace(/\$setAdapterToDevice\(/g,"this.$setAdapterToDevice("),Be=Be.replace(/\$resolveAdapterTagId\(/g,"this.$resolveAdapterTagId("),Be=Be.replace(/\$invokeObject\(/g,"this.$invokeObject("),Be=Be.replace(/\$runServerScript\(/g,"this.$runServerScript("),Be=Be.replace(/\$getHistoricalTags\(/g,"this.$getHistoricalTags("),Be=Be.replace(/\$sendMessage\(/g,"this.$sendMessage("),Be=Be.replace(/\$getAlarms\(/g,"await this.$getAlarms("),Be=Be.replace(/\$getAlarmsHistory\(/g,"await this.$getAlarmsHistory("),Be=Be.replace(/\$ackAlarm\(/g,"await this.$ackAlarm("),Be}$getTag(Rt){var Be=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){let ie=Be.projectService.getTagFromId(Rt,!0);if(ie?.deviceType===_models_device__WEBPACK_IMPORTED_MODULE_6__.bq.internal)return ie.value;const N=Be.extractUserFunctionBeforeScriptService();return(yield Be.projectService.getTagsValues([Rt],N))[0]?.value})()}$setTag(Rt,Be){this.hmiService.putSignalValue(Rt,Be)}$getTagId(Rt,Be){return this.projectService.getTagIdFromName(Rt,Be)}$getTagDaqSettings(Rt){var Be=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield Be.projectService.runSysFunctionSync("$getTagDaqSettings",[Rt])})()}$setTagDaqSettings(Rt,Be){var ie=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield ie.projectService.runSysFunctionSync("$setTagDaqSettings",[Rt,Be])})()}$setView(Rt,Be){this.hmiService.onScriptCommand({command:_hmi_service__WEBPACK_IMPORTED_MODULE_4__.Em.SETVIEW,params:[Rt,Be]})}$openCard(Rt,Be){this.hmiService.onScriptCommand({command:_hmi_service__WEBPACK_IMPORTED_MODULE_4__.Em.OPENCARD,params:[Rt,Be]})}$enableDevice(Rt,Be){this.hmiService.deviceEnable(Rt,Be)}$getDeviceProperty(Rt){var Be=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield Be.projectService.runSysFunctionSync("$getDeviceProperty",[Rt])})()}$setDeviceProperty(Rt,Be){var ie=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield ie.projectService.runSysFunctionSync("$setDeviceProperty",[Rt,Be])})()}$setAdapterToDevice(Rt,Be){var ie=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield ie.deviceAdapaterService.setTargetDevice(Rt,Be,ie.hmiService.initSignalValues.bind(ie.hmiService))})()}$resolveAdapterTagId(Rt){let Be=this.deviceAdapaterService.resolveAdapterTagsId([Rt]);return Be?.length&&Be[0]!==Rt?Be[0]:Rt}$invokeObject(Rt,Be,...ie){const N=this.hmiService.getGaugeMapped(Rt);return N[Be]?N[Be](...ie):null}$runServerScript(Rt,...Be){var ie=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){let N=_helpers_utils__WEBPACK_IMPORTED_MODULE_5__.Aq.clone(ie.projectService.getScripts().find(K=>K.name==Rt));return N.parameters=Be,yield(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.s)(ie.runScript(N,!1))})()}$getHistoricalTags(Rt,Be,ie){var N=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){const K={sids:Rt,from:Be,to:ie};return yield(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.s)(N.hmiService.getDaqValues(K))})()}$sendMessage(Rt,Be,ie){var N=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield N.projectService.runSysFunctionSync("$sendMessage",[Rt,Be,ie])})()}$getAlarms(){var Rt=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield Rt.projectService.runSysFunctionSync("$getAlarms",null)})()}$getAlarmsHistory(Rt,Be){var ie=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield ie.projectService.runSysFunctionSync("$getAlarmsHistory",[Rt,Be])})()}$ackAlarm(Rt,Be){var ie=this;return(0,C_git_fuxa_new_submenu_FUXA_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_11__.A)(function*(){return yield ie.projectService.runSysFunctionSync("$ackAlarm",[Rt,Be])})()}extractUserFunctionBeforeScriptService(){const Be=(new Error).stack?.match(/at\s[^\n]+/g);if(!Be)return null;for(const ie of Be){const N=ie.match(/ScriptService\.([\w$]+) \(eval at/);if(N)return N[1]}return null}static \u0275fac=function Rt(Be){return new(Be||ScriptService)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Qq),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_project_service__WEBPACK_IMPORTED_MODULE_3__.TR),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_hmi_service__WEBPACK_IMPORTED_MODULE_4__.Ih),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_auth_service__WEBPACK_IMPORTED_MODULE_7__.u),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_device_adapter_device_adapter_service__WEBPACK_IMPORTED_MODULE_8__.V),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_toast_notifier_service__WEBPACK_IMPORTED_MODULE_14__.L))};static \u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_13__.jDH({token:ScriptService,factory:ScriptService.\u0275fac,providedIn:"root"})}return ScriptService})()},5174:(Rt,Be,ie)=>{"use strict";ie.d(Be,{h:()=>h});var N=ie(1626),K=ie(5312),D=ie(8326),e=ie(8329),l=ie(7705),_=ie(2576),p=ie(8256);let h=(()=>{class g{http;fuxaLanguage;translateService;toastr;appSettings=new e.$9;endPointConfig=D.G.getURL();editModeLocked=!1;constructor(y,b,M,E){this.http=y,this.fuxaLanguage=b,this.translateService=M,this.toastr=E}init(){this.fuxaLanguage.setDefaultLang("en"),this.fuxaLanguage.use("en"),K.c.serverEnabled&&this.http.get(this.endPointConfig+"/api/settings").subscribe(y=>{this.setSettings(y)},y=>{console.error("settings.service err: "+y)})}getSettings(){return this.appSettings}setSettings(y){var b=!1;return y.language&&y.language!==this.appSettings.language&&(this.fuxaLanguage.use(y.language),this.appSettings.language=y.language,b=!0),y.uiPort&&y.uiPort!==this.appSettings.uiPort&&(this.appSettings.uiPort=y.uiPort,b=!0),(y.secureEnabled!==this.appSettings.secureEnabled||y.tokenExpiresIn!==this.appSettings.tokenExpiresIn||y.secureOnlyEditor!==this.appSettings.secureOnlyEditor)&&(this.appSettings.secureEnabled=y.secureEnabled,this.appSettings.tokenExpiresIn=y.tokenExpiresIn,this.appSettings.secureOnlyEditor=y.secureOnlyEditor,b=!0),y.broadcastAll!==this.appSettings.broadcastAll&&(this.appSettings.broadcastAll=y.broadcastAll,b=!0),y.smtp&&!(y.smtp.host===this.appSettings.smtp.host&&y.smtp.port===this.appSettings.smtp.port&&y.smtp.mailsender===this.appSettings.smtp.mailsender&&y.smtp.username===this.appSettings.smtp.username&&y.smtp.password===this.appSettings.smtp.password)&&(this.appSettings.smtp=new e.sd(y.smtp),b=!0),y.daqstore&&!this.appSettings.daqstore.isEquals(y.daqstore)&&(this.appSettings.daqstore=new e.CT(y.daqstore),b=!0),y.logFull!==this.appSettings.logFull&&(this.appSettings.logFull=y.logFull,b=!0),y.alarms&&y.alarms.retention!==this.appSettings.alarms?.retention&&(this.appSettings.alarms.retention=y.alarms.retention??this.appSettings.alarms?.retention,b=!0),y.userRole!==this.appSettings.userRole&&(this.appSettings.userRole=y.userRole,b=!0),b}saveSettings(){if(K.c.serverEnabled){let y=new N.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/settings",this.appSettings,{headers:y}).subscribe(b=>{},b=>{this.notifySaveError(b)})}}clearAlarms(y){if(K.c.serverEnabled){let b=new N.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/alarmsClear",{headers:b,params:y}).subscribe(M=>{var E="";this.translateService.get("msg.alarms-clear-success").subscribe(T=>{E=T}),this.toastr.success(E)},M=>{console.error(M),this.notifySaveError(M)})}}notifySaveError(y){let b="";this.translateService.get("msg.settings-save-error").subscribe(M=>{b=M}),401===y.status&&this.translateService.get("msg.settings-save-unauthorized").subscribe(M=>{b=M}),this.toastr.error(b,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}lockEditMode(){this.editModeLocked=!0}unlockEditMode(){this.editModeLocked=!1}isEditModeLocked(){return this.editModeLocked}notifyEditorLocked(){var y="";this.translateService.get("msg.editor-mode-locked").subscribe(b=>{y=b}),this.toastr.warning(y,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!1})}static \u0275fac=function(b){return new(b||g)(l.KVO(N.Qq),l.KVO(_.c$),l.KVO(_.c$),l.KVO(p.tw))};static \u0275prov=l.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},935:(Rt,Be,ie)=>{"use strict";ie.d(Be,{L:()=>e});var N=ie(7705),K=ie(2576),D=ie(8256);let e=(()=>{class l{translateService;toastr;constructor(p,h){this.translateService=p,this.toastr=h}notifyError(p,h="",g=!0,w=!0){this.translateService.get(p).subscribe(y=>{this.toastr.error(`${y} ${h}`,"",{timeOut:3e3,closeButton:g,disableTimeOut:w})})}static \u0275fac=function(h){return new(h||l)(N.KVO(K.c$),N.KVO(D.tw))};static \u0275prov=N.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},751:(Rt,Be,ie)=>{"use strict";ie.d(Be,{V:()=>_});var N=ie(4233),K=ie(7546);class D extends K.pF{constructor(h){super(h.id),this.tags=h.tags,this.name=h.name}}var e=ie(3728),l=ie(7705);let _=(()=>{class p{projectService;adapterMapping={};mappingIdsAdapterToDevice={};mappingIdsDeviceToAdapter={};constructor(g){this.projectService=g,this.projectService.onLoadHmi.subscribe(()=>{this.loadDevices()})}loadDevices(){this.adapterMapping={},this.mappingIdsAdapterToDevice={},this.projectService.getDeviceList().filter(w=>w.type===K.bq.internal).forEach(w=>{this.adapterMapping[w.name]=new D(w);const y=Object.keys(w.tags);for(const b of y)this.mappingIdsAdapterToDevice[b]=null})}setTargetDevice(g,w,y){const b=this.projectService.getDeviceList().find(F=>F.name===w),M=this.adapterMapping[g];if(!M)return void console.error(`Adapter not found: ${g}`);const E=Object.keys(M.tags),T=this.clearMappedDevice(E);if(this.removeMappedAdapterIdsFromDevice(T),b){const F=this.setMatchIdsAdapterDevice(b,Object.values(M.tags));this.mapAdapterIdsWithDevice(F),y?.(F)}else w&&console.error(`Device not found: ${w}`)}resolveAdapterTagsId(g){const w=[...g];for(let y=0;y<g.length;y++)this.mappingIdsAdapterToDevice[g[y]]&&(w[y]=this.mappingIdsAdapterToDevice[g[y]]);return w}resolveDeviceTagIdForAdapter(g){return this.mappingIdsDeviceToAdapter[g]}mapAdapterIdsWithDevice(g){for(const[w,y]of Object.entries(g))(this.mappingIdsDeviceToAdapter[y]??=[]).push(w)}removeMappedAdapterIdsFromDevice(g){for(const[w,y]of Object.entries(g)){const b=this.mappingIdsDeviceToAdapter[y];b&&(this.mappingIdsDeviceToAdapter[y]=b.filter(M=>M!==w))}}clearMappedDevice(g){let w={};for(const y of g){const b=this.mappingIdsAdapterToDevice[y];e.Aq.isNullOrUndefined(b)||(w[y]=b,this.mappingIdsAdapterToDevice[y]=null)}return w}setMatchIdsAdapterDevice(g,w){let y={};const b=Object.values(g.tags);return Object.values(w)?.forEach(M=>{const E=b.find(T=>T.name===M.name);E&&(y[M.id]=E?.id,this.mappingIdsAdapterToDevice[M.id]=E?.id)}),y}static \u0275fac=function(w){return new(w||p)(l.KVO(N.TR))};static \u0275prov=l.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},5312:(Rt,Be,ie)=>{"use strict";ie.d(Be,{c:()=>N});const N={version:ie(8330).rE,production:!0,apiEndpoint:null,apiPort:null,serverEnabled:!0,type:null}},8437:(Rt,Be,ie)=>{"use strict";var N={};ie.r(N),ie.d(N,{enGB:()=>l$,enUS:()=>pS,faIR:()=>h$});var K={};ie.r(K),ie.d(K,{ABORT:()=>tCe,AFTER_DEFINITION_CHANGE:()=>eQ,AUTOPLAY_PREVENTED:()=>X4,AUTOPLAY_STARTED:()=>z0,BEFORE_DEFINITION_CHANGE:()=>nCe,BUFFER_CHANGE:()=>iCe,CANPLAY:()=>Uf,CANPLAY_THROUGH:()=>Zwe,COMPLETE:()=>yD,CSS_FULLSCREEN_CHANGE:()=>wD,DEFINITION_CHANGE:()=>q4,DESTROY:()=>Z4,DOWNLOAD_SPEED_CHANGE:()=>$4,DURATION_CHANGE:()=>pm,EMPTIED:()=>V_,ENDED:()=>U0,ERROR:()=>Iw,FPS_STUCK:()=>Uj,FULLSCREEN_CHANGE:()=>zf,LOADED_DATA:()=>Op,LOADED_METADATA:()=>$we,LOAD_START:()=>J4,MINI_STATE_CHANGE:()=>CD,PAUSE:()=>H_,PIP_CHANGE:()=>tQ,PLAY:()=>Bu,PLAYER_BLUR:()=>Sj,PLAYER_FOCUS:()=>W4,PLAYING:()=>V4,PLAYNEXT:()=>ED,PROGRESS:()=>Fj,RATE_CHANGE:()=>Tj,READY:()=>K4,REPLAY:()=>bD,RESET:()=>MD,RETRY:()=>oCe,ROTATE:()=>Rj,SCREEN_SHOT:()=>Pj,SEEKED:()=>Gf,SEEKING:()=>_D,SEI_PARSED:()=>rCe,SHORTCUT:()=>Oj,SOURCE_ERROR:()=>Yj,SOURCE_SUCCESS:()=>Nj,STALLED:()=>qwe,STATS_EVENTS:()=>Gj,SUSPEND:()=>eCe,SWITCH_SUBTITLE:()=>aCe,TIME_UPDATE:()=>Ah,URL_CHANGE:()=>Tw,URL_NULL:()=>Qj,USER_ACTION:()=>BD,VIDEO_EVENTS:()=>jj,VIDEO_RESIZE:()=>fm,VOLUME_CHANGE:()=>kj,WAITING:()=>kw,XGLOG:()=>Lj});var D=ie(345),e=ie(7705),l=ie(177),_=ie(6648),p=ie(7468),h=ie(6354);let g=(()=>{class r{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.sFG),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r})}}return r})(),w=(()=>{class r extends g{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,features:[e.Vt3]})}}return r})();const y=new e.nKC("NgValueAccessor"),b={provide:y,useExisting:(0,e.Rfq)(()=>M),multi:!0};let M=(()=>{class r extends w{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,n){1&i&&e.bIt("change",function(s){return n.onChange(s.target.checked)})("blur",function(){return n.onTouched()})},features:[e.Jv_([b]),e.Vt3]})}}return r})();const E={provide:y,useExisting:(0,e.Rfq)(()=>k),multi:!0},F=new e.nKC("CompositionEventMode");let k=(()=>{class r extends g{constructor(t,i,n){super(t,i),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T(){const r=(0,l.QT)()?(0,l.QT)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(F,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){1&i&&e.bIt("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},features:[e.Jv_([E]),e.Vt3]})}}return r})();function A(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function S(r){return null!=r&&"number"==typeof r.length}const Q=new e.nKC("NgValidators"),O=new e.nKC("NgAsyncValidators"),W=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class j{static min(o){return Y(o)}static max(o){return U(o)}static required(o){return function X(r){return A(r.value)?{required:!0}:null}(o)}static requiredTrue(o){return function z(r){return!0===r.value?null:{required:!0}}(o)}static email(o){return function R(r){return A(r.value)||W.test(r.value)?null:{email:!0}}(o)}static minLength(o){return function Z(r){return o=>A(o.value)||!S(o.value)?null:o.value.length<r?{minlength:{requiredLength:r,actualLength:o.value.length}}:null}(o)}static maxLength(o){return q(o)}static pattern(o){return ae(o)}static nullValidator(o){return null}static compose(o){return fe(o)}static composeAsync(o){return Te(o)}}function Y(r){return o=>{if(A(o.value)||A(r))return null;const t=parseFloat(o.value);return!isNaN(t)&&t<r?{min:{min:r,actual:o.value}}:null}}function U(r){return o=>{if(A(o.value)||A(r))return null;const t=parseFloat(o.value);return!isNaN(t)&&t>r?{max:{max:r,actual:o.value}}:null}}function q(r){return o=>S(o.value)&&o.value.length>r?{maxlength:{requiredLength:r,actualLength:o.value.length}}:null}function ae(r){if(!r)return re;let o,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),o=new RegExp(t)):(t=r.toString(),o=r),i=>{if(A(i.value))return null;const n=i.value;return o.test(n)?null:{pattern:{requiredPattern:t,actualValue:n}}}}function re(r){return null}function Se(r){return null!=r}function be(r){return(0,e.jNT)(r)?(0,_.H)(r):r}function Re(r){let o={};return r.forEach(t=>{o=null!=t?{...o,...t}:o}),0===Object.keys(o).length?null:o}function He(r,o){return o.map(t=>t(r))}function le(r){return r.map(o=>function ue(r){return!r.validate}(o)?o:t=>o.validate(t))}function fe(r){if(!r)return null;const o=r.filter(Se);return 0==o.length?null:function(t){return Re(He(t,o))}}function ge(r){return null!=r?fe(le(r)):null}function Te(r){if(!r)return null;const o=r.filter(Se);return 0==o.length?null:function(t){const i=He(t,o).map(be);return(0,p.p)(i).pipe((0,h.T)(Re))}}function se(r){return null!=r?Te(le(r)):null}function we(r,o){return null===r?[o]:Array.isArray(r)?[...r,o]:[r,o]}function ke(r){return r._rawValidators}function Ye(r){return r._rawAsyncValidators}function _t(r){return r?Array.isArray(r)?r:[r]:[]}function Dt(r,o){return Array.isArray(r)?r.includes(o):r===o}function ni(r,o){const t=_t(o);return _t(r).forEach(n=>{Dt(t,n)||t.push(n)}),t}function je(r,o){return _t(o).filter(t=>!Dt(r,t))}class _e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=se(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o=void 0){this.control&&this.control.reset(o)}hasError(o,t){return!!this.control&&this.control.hasError(o,t)}getError(o,t){return this.control?this.control.getError(o,t):null}}class ze extends _e{get formDirective(){return null}get path(){return null}}class Je extends _e{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pt{constructor(o){this._cd=o}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qe=(()=>{class r extends pt{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Je,2))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){2&i&&e.AVh("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[e.Vt3]})}}return r})(),Ke=(()=>{class r extends pt{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(ze,10))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){2&i&&e.AVh("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[e.Vt3]})}}return r})();const pe="VALID",Fe="INVALID",at="PENDING",Nt="DISABLED";function it(r){return(vi(r)?r.validators:r)||null}function on(r,o){return(vi(o)?o.asyncValidators:r)||null}function vi(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function Jt(r,o,t){const i=r.controls;if(!(o?Object.keys(i):i).length)throw new e.wOt(1e3,"");if(!i[t])throw new e.wOt(1001,"")}function Xe(r,o,t){r._forEachChild((i,n)=>{if(void 0===t[n])throw new e.wOt(1002,"")})}class bt{constructor(o,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(o),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get valid(){return this.status===pe}get invalid(){return this.status===Fe}get pending(){return this.status==at}get disabled(){return this.status===Nt}get enabled(){return this.status!==Nt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._assignValidators(o)}setAsyncValidators(o){this._assignAsyncValidators(o)}addValidators(o){this.setValidators(ni(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(ni(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(je(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(je(o,this._rawAsyncValidators))}hasValidator(o){return Dt(this._rawValidators,o)}hasAsyncValidator(o){return Dt(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){this.touched=!0,this._parent&&!o.onlySelf&&this._parent.markAsTouched(o)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(o=>o.markAllAsTouched())}markAsUntouched(o={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}markAsDirty(o={}){this.pristine=!1,this._parent&&!o.onlySelf&&this._parent.markAsDirty(o)}markAsPristine(o={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}markAsPending(o={}){this.status=at,!1!==o.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!o.onlySelf&&this._parent.markAsPending(o)}disable(o={}){const t=this._parentMarkedDirty(o.onlySelf);this.status=Nt,this.errors=null,this._forEachChild(i=>{i.disable({...o,onlySelf:!0})}),this._updateValue(),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...o,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(o={}){const t=this._parentMarkedDirty(o.onlySelf);this.status=pe,this._forEachChild(i=>{i.enable({...o,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors({...o,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(o){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(o){this._parent=o}getRawValue(){return this.value}updateValueAndValidity(o={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pe||this.status===at)&&this._runAsyncValidator(o.emitEvent)),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(o)}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nt:pe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o){if(this.asyncValidator){this.status=at,this._hasOwnPendingAsyncValidator=!0;const t=be(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:o})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(o,t={}){this.errors=o,this._updateControlsErrors(!1!==t.emitEvent)}get(o){let t=o;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,n)=>i&&i._find(n),this)}getError(o,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[o]:null}hasError(o,t){return!!this.getError(o,t)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(o)}_initObservables(){this.valueChanges=new e.bkB,this.statusChanges=new e.bkB}_calculateStatus(){return this._allControlsDisabled()?Nt:this.errors?Fe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(at)?at:this._anyControlsHaveStatus(Fe)?Fe:pe}_anyControlsHaveStatus(o){return this._anyControls(t=>t.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o={}){this.pristine=!this._anyControlsDirty(),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}_updateTouched(o={}){this.touched=this._anyControlsTouched(),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){vi(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(o){return null}_assignValidators(o){this._rawValidators=Array.isArray(o)?o.slice():o,this._composedValidatorFn=function Ht(r){return Array.isArray(r)?ge(r):r||null}(this._rawValidators)}_assignAsyncValidators(o){this._rawAsyncValidators=Array.isArray(o)?o.slice():o,this._composedAsyncValidatorFn=function Ge(r){return Array.isArray(r)?se(r):r||null}(this._rawAsyncValidators)}}class Pt extends bt{constructor(o,t,i){super(it(t),on(i,t)),this.controls=o,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,t){return this.controls[o]?this.controls[o]:(this.controls[o]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(o,t,i={}){this.registerControl(o,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(o,t={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(o,t,i={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],t&&this.registerControl(o,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,t={}){Xe(this,0,o),Object.keys(o).forEach(i=>{Jt(this,!0,i),this.controls[i].setValue(o[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(o,t={}){null!=o&&(Object.keys(o).forEach(i=>{const n=this.controls[i];n&&n.patchValue(o[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(o={},t={}){this._forEachChild((i,n)=>{i.reset(o?o[n]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(o,t,i)=>(o[i]=t.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&o(i,t)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&o(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,n)=>((i.enabled||this.disabled)&&(t[n]=i.value),t))}_reduceChildren(o,t){let i=o;return this._forEachChild((n,a)=>{i=t(i,n,a)}),i}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(o){return this.controls.hasOwnProperty(o)?this.controls[o]:null}}class sn extends Pt{}const or=new e.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>mn}),mn="always";function Sn(r,o){return[...o.path,r]}function _n(r,o,t=mn){ln(r,o),o.valueAccessor.writeValue(r.value),(r.disabled||"always"===t)&&o.valueAccessor.setDisabledState?.(r.disabled),function Qn(r,o){o.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&mr(r,o)})}(r,o),function En(r,o){const t=(i,n)=>{o.valueAccessor.writeValue(i),n&&o.viewToModelUpdate(i)};r.registerOnChange(t),o._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,o),function Cn(r,o){o.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&mr(r,o),"submit"!==r.updateOn&&r.markAsTouched()})}(r,o),function Ei(r,o){if(o.valueAccessor.setDisabledState){const t=i=>{o.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(t),o._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,o)}function di(r,o,t=!0){const i=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(i),o.valueAccessor.registerOnTouched(i)),Ji(r,o),r&&(o._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function si(r,o){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(o)})}function ln(r,o){const t=ke(r);null!==o.validator?r.setValidators(we(t,o.validator)):"function"==typeof t&&r.setValidators([t]);const i=Ye(r);null!==o.asyncValidator?r.setAsyncValidators(we(i,o.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const n=()=>r.updateValueAndValidity();si(o._rawValidators,n),si(o._rawAsyncValidators,n)}function Ji(r,o){let t=!1;if(null!==r){if(null!==o.validator){const n=ke(r);if(Array.isArray(n)&&n.length>0){const a=n.filter(s=>s!==o.validator);a.length!==n.length&&(t=!0,r.setValidators(a))}}if(null!==o.asyncValidator){const n=Ye(r);if(Array.isArray(n)&&n.length>0){const a=n.filter(s=>s!==o.asyncValidator);a.length!==n.length&&(t=!0,r.setAsyncValidators(a))}}}const i=()=>{};return si(o._rawValidators,i),si(o._rawAsyncValidators,i),t}function mr(r,o){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function co(r,o){ln(r,o)}function sr(r,o){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(o,t.currentValue)}function Gt(r,o){r._syncPendingControls(),o.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ai(r,o){if(!o)return null;let t,i,n;return Array.isArray(o),o.forEach(a=>{a.constructor===k?t=a:function Eo(r){return Object.getPrototypeOf(r.constructor)===w}(a)?i=a:n=a}),n||i||t||null}const Yt={provide:ze,useExisting:(0,e.Rfq)(()=>Vt)},ui=(()=>Promise.resolve())();let Vt=(()=>{class r extends ze{constructor(t,i,n){super(),this.callSetDisabledState=n,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.bkB,this.form=new Pt({},ge(t),se(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ui.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),_n(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ui.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ui.then(()=>{const i=this._findContainer(t.path),n=new Pt({});co(n,t),i.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ui.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ui.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Gt(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Q,10),e.rXU(O,10),e.rXU(or,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,n){1&i&&e.bIt("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([Yt]),e.Vt3]})}}return r})();function $t(r,o){const t=r.indexOf(o);t>-1&&r.splice(t,1)}function ei(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Kt=class extends bt{constructor(o=null,t,i){super(it(t),on(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(o),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vi(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ei(o)?o.value:o)}setValue(o,t={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(o,t={}){this.setValue(o,t)}reset(o=this.defaultValue,t={}){this._applyFormState(o),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){$t(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){$t(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){ei(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}},_i=Kt;let Si=(()=>{class r extends ze{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Sn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,features:[e.Vt3]})}}return r})();const bn={provide:Je,useExisting:(0,e.Rfq)(()=>tn)},Pi=(()=>Promise.resolve())();let tn=(()=>{class r extends Je{constructor(t,i,n,a,s,d){super(),this._changeDetectorRef=s,this.callSetDisabledState=d,this.control=new Kt,this._registered=!1,this.name="",this.update=new e.bkB,this._parent=t,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=ai(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),sr(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_n(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pi.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,n=0!==i&&(0,e.L39)(i);Pi.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sn(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(ze,9),e.rXU(Q,10),e.rXU(O,10),e.rXU(y,10),e.rXU(e.gRc,8),e.rXU(or,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e.Jv_([bn]),e.Vt3,e.OA$]})}}return r})(),Fn=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})();const Vn={provide:y,useExisting:(0,e.Rfq)(()=>Zn),multi:!0};let Zn=(()=>{class r extends w{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,n){1&i&&e.bIt("input",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},features:[e.Jv_([Vn]),e.Vt3]})}}return r})(),wr=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const xr=new e.nKC("NgModelWithFormControlWarning"),Bo={provide:Je,useExisting:(0,e.Rfq)(()=>ca)};let ca=(()=>{class r extends Je{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,n,a,s){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=s,this.update=new e.bkB,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=ai(0,n)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&di(i,this,!1),_n(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}sr(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&di(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Q,10),e.rXU(O,10),e.rXU(y,10),e.rXU(xr,8),e.rXU(or,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e.Jv_([Bo]),e.Vt3,e.OA$]})}}return r})();const Ia={provide:ze,useExisting:(0,e.Rfq)(()=>Pr)};let Pr=(()=>{class r extends ze{constructor(t,i,n){super(),this.callSetDisabledState=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.bkB,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ji(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return _n(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){di(t.control||null,t,!1),function hi(r,o){const t=r.indexOf(o);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Gt(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,n=this.form.get(t.path);i!==n&&(di(i||null,t),(r=>r instanceof Kt)(n)&&(_n(n,t,this.callSetDisabledState),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);co(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function la(r,o){return Ji(r,o)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ln(this.form,this),this._oldForm&&Ji(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Q,10),e.rXU(O,10),e.rXU(or,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,n){1&i&&e.bIt("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([Ia]),e.Vt3,e.OA$]})}}return r})();const Za={provide:ze,useExisting:(0,e.Rfq)(()=>va)};let va=(()=>{class r extends Si{constructor(t,i,n){super(),this.name=null,this._parent=t,this._setValidators(i),this._setAsyncValidators(n)}_checkParentType(){gr(this._parent)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(ze,13),e.rXU(Q,10),e.rXU(O,10))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e.Jv_([Za]),e.Vt3]})}}return r})();const so={provide:ze,useExisting:(0,e.Rfq)(()=>kn)};let kn=(()=>{class r extends ze{constructor(t,i,n){super(),this.name=null,this._parent=t,this._setValidators(i),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Sn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){gr(this._parent)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(ze,13),e.rXU(Q,10),e.rXU(O,10))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e.Jv_([so]),e.Vt3]})}}return r})();function gr(r){return!(r instanceof va||r instanceof Pr||r instanceof kn)}const jo={provide:Je,useExisting:(0,e.Rfq)(()=>kt)};let kt=(()=>{class r extends Je{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,n,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new e.bkB,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=ai(0,a)}ngOnChanges(t){this._added||this._setUpControl(),sr(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(ze,13),e.rXU(Q,10),e.rXU(O,10),e.rXU(y,10),e.rXU(xr,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e.Jv_([jo]),e.Vt3,e.OA$]})}}return r})();const Ie={provide:y,useExisting:(0,e.Rfq)(()=>Pe),multi:!0};function xe(r,o){return null==r?`${o}`:(o&&"object"==typeof o&&(o="Object"),`${r}: ${o}`.slice(0,50))}let Pe=(()=>{class r extends w{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const n=xe(this._getOptionId(t),t);this.setProperty("value",n)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Oe(r){return r.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,n){1&i&&e.bIt("change",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[e.Jv_([Ie]),e.Vt3]})}}return r})(),ct=(()=>{class r{constructor(t,i,n){this._element=t,this._renderer=i,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(xe(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(Pe,9))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})();const Mt={provide:y,useExisting:(0,e.Rfq)(()=>rn),multi:!0};function li(r,o){return null==r?`${o}`:("string"==typeof o&&(o=`'${o}'`),o&&"object"==typeof o&&(o="Object"),`${r}: ${o}`.slice(0,50))}let rn=(()=>{class r extends w{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const n=t.map(a=>this._getOptionId(a));i=(a,s)=>{a._setSelected(n.indexOf(s.toString())>-1)}}else i=(n,a)=>{n._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const n=[],a=i.selectedOptions;if(void 0!==a){const s=a;for(let d=0;d<s.length;d++){const I=this._getOptionValue(s[d].value);n.push(I)}}else{const s=i.options;for(let d=0;d<s.length;d++){const m=s[d];if(m.selected){const I=this._getOptionValue(m.value);n.push(I)}}}this.value=n,t(n)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Ii(r){return r.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,n){1&i&&e.bIt("change",function(s){return n.onChange(s.target)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[e.Jv_([Mt]),e.Vt3]})}}return r})(),Yi=(()=>{class r{constructor(t,i,n){this._element=t,this._renderer=i,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(li(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(li(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(rn,9))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})();function Yn(r){return"number"==typeof r?r:parseFloat(r)}let Hn=(()=>{class r{constructor(){this._validator=re}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):re,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,features:[e.OA$]})}}return r})();const hr={provide:Q,useExisting:(0,e.Rfq)(()=>Er),multi:!0};let Er=(()=>{class r extends Hn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Yn(t),this.createValidator=t=>U(t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("max",n._enabled?n.max:null)},inputs:{max:"max"},features:[e.Jv_([hr]),e.Vt3]})}}return r})();const vr={provide:Q,useExisting:(0,e.Rfq)(()=>qn),multi:!0};let qn=(()=>{class r extends Hn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Yn(t),this.createValidator=t=>Y(t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[e.Jv_([vr]),e.Vt3]})}}return r})();const Aa={provide:Q,useExisting:(0,e.Rfq)(()=>$a),multi:!0};let $a=(()=>{class r extends Hn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function wn(r){return"number"==typeof r?r:parseInt(r,10)}(t),this.createValidator=t=>q(t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("maxlength",n._enabled?n.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e.Jv_([Aa]),e.Vt3]})}}return r})();const To={provide:Q,useExisting:(0,e.Rfq)(()=>el),multi:!0};let el=(()=>{class r extends Hn{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>ae(t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("pattern",n._enabled?n.pattern:null)},inputs:{pattern:"pattern"},features:[e.Jv_([To]),e.Vt3]})}}return r})(),yl=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[wr]})}}return r})();class Ps extends bt{constructor(o,t,i){super(it(t),on(i,t)),this.controls=o,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[this._adjustIndex(o)]}push(o,t={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(o,t,i={}){this.controls.splice(o,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(o,t={}){let i=this._adjustIndex(o);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(o,t,i={}){let n=this._adjustIndex(o);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,t={}){Xe(this,0,o),o.forEach((i,n)=>{Jt(this,!1,n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(o,t={}){null!=o&&(o.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(o=[],t={}){this._forEachChild((i,n)=>{i.reset(o[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(o=>o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_adjustIndex(o){return o<0?o+this.length:o}_syncPendingControls(){let o=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){this.controls.forEach((t,i)=>{o(t,i)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(t=>t.enabled&&o(t))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_allControlsDisabled(){for(const o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}_find(o){return this.at(o)??null}}function Hl(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let qa=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,i=null){const n=this._reduceControls(t);let a={};return Hl(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Pt(n,a)}record(t,i=null){const n=this._reduceControls(t);return new sn(n,i)}control(t,i,n){let a={};return this.useNonNullable?(Hl(i)?a=i:(a.validators=i,a.asyncValidators=n),new Kt(t,{...a,nonNullable:!0})):new Kt(t,i,n)}array(t,i,n){const a=t.map(s=>this._createControl(s));return new Ps(a,i,n)}_reduceControls(t){const i={};return Object.keys(t).forEach(n=>{i[n]=this._createControl(t[n])}),i}_createControl(t){return t instanceof Kt||t instanceof bt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),po=(()=>{class r extends qa{group(t,i=null){return super.group(t,i)}control(t,i,n){return super.control(t,i,n)}array(t,i,n){return super.array(t,i,n)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Vs=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:or,useValue:t.callSetDisabledState??mn}]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[yl]})}}return r})(),IA=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:xr,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:or,useValue:t.callSetDisabledState??mn}]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[yl]})}}return r})();var ka=ie(1626);let Ua;try{Ua=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ua=!1}let ul,ea=(()=>{class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,l.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ua)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Sl=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Dc(){if(ul)return ul;if("object"!=typeof document||!document)return ul=new Set(Sl),ul;let r=document.createElement("input");return ul=new Set(Sl.filter(o=>(r.setAttribute("type",o),r.type===o))),ul}let tl,bl,ys,rd;function Os(r){return function Sa(){if(null==tl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tl=!0}))}finally{tl=tl||!1}return tl}()?r:!!r.capture}function nd(){if(null==ys){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ys=!1,ys;if("scrollBehavior"in document.documentElement.style)ys=!0;else{const r=Element.prototype.scrollTo;ys=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ys}function Ic(){if("object"!=typeof document||!document)return 0;if(null==bl){const r=document.createElement("div"),o=r.style;r.dir="rtl",o.width="1px",o.overflow="auto",o.visibility="hidden",o.pointerEvents="none",o.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",r.appendChild(t),document.body.appendChild(r),bl=0,0===r.scrollLeft&&(r.scrollLeft=1,bl=0===r.scrollLeft?1:2),r.remove()}return bl}function il(r){if(function gs(){if(null==rd){const r=typeof document<"u"?document.head:null;rd=!(!r||!r.createShadowRoot&&!r.attachShadow)}return rd}()){const o=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&o instanceof ShadowRoot)return o}return null}function Ql(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const o=r.shadowRoot.activeElement;if(o===r)break;r=o}return r}function nl(r){return r.composedPath?r.composedPath()[0]:r.target}function ta(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var An=ie(1413),zr=ie(8359),Ca=ie(4412),lr=ie(7673);function Ea(r,...o){return o.length?o.some(t=>r[t]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var uA=ie(8071),al=ie(9974),pl=ie(4360),$c=ie(3669);function jr(r,o,t){const i=(0,uA.T)(r)||o||t?{next:r,error:o,complete:t}:r;return i?(0,al.N)((n,a)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let d=!0;n.subscribe((0,pl._)(a,m=>{var I;null===(I=i.next)||void 0===I||I.call(i,m),a.next(m)},()=>{var m;d=!1,null===(m=i.complete)||void 0===m||m.call(i),a.complete()},m=>{var I;d=!1,null===(I=i.error)||void 0===I||I.call(i,m),a.error(m)},()=>{var m,I;d&&(null===(m=i.unsubscribe)||void 0===m||m.call(i)),null===(I=i.finalize)||void 0===I||I.call(i)}))}):$c.D}var SA=ie(152),Jr=ie(5964),Fo=ie(6697);function Bl(r){return(0,Jr.p)((o,t)=>r<=t)}var qc=ie(3294),jn=ie(6977);function Tn(r){return null!=r&&"false"!=`${r}`}function Ya(r,o=0){return mc(r)?Number(r):o}function mc(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function dd(r){return Array.isArray(r)?r:[r]}function Na(r){return null==r?"":"string"==typeof r?r:`${r}px`}function Ml(r){return r instanceof e.aKT?r.nativeElement:r}function ud(r,o=/\s+/){const t=[];if(null!=r){const i=Array.isArray(r)?r:`${r}`.split(o);for(const n of i){const a=`${n}`.trim();a&&t.push(a)}}return t}var Ha=ie(1985);let Fu=(()=>{class r{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Su=(()=>{class r{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ml(t);return new Ha.c(n=>{const s=this._observeElement(i).subscribe(n);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new An.B,n=this._mutationObserverFactory.create(a=>i.next(a));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:n}=this._observedElements.get(t);i&&i.disconnect(),n.complete(),this._observedElements.delete(t)}}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Fu))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ba=(()=>{class r{get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ya(t),this._subscribe()}constructor(t,i,n){this._contentObserver=t,this._elementRef=i,this._ngZone=n,this.event=new e.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,SA.B)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Su),e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}}return r})(),UA=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Fu]})}}return r})();var Up=ie(3073),Zh=ie(6450),hd=ie(9326),hA=ie(8496),Qu=ie(5225);function Kl(...r){const o=(0,hd.lI)(r),t=(0,hd.ms)(r),{args:i,keys:n}=(0,Up.D)(r);if(0===i.length)return(0,_.H)([],o);const a=new Ha.c(function Ru(r,o,t=$c.D){return i=>{rc(o,()=>{const{length:n}=r,a=new Array(n);let s=n,d=n;for(let m=0;m<n;m++)rc(o,()=>{const I=(0,_.H)(r[m],o);let J=!1;I.subscribe((0,pl._)(i,oe=>{a[m]=oe,J||(J=!0,d--),d||i.next(t(a.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,o,n?s=>(0,hA.e)(n,s):$c.D));return t?a.pipe((0,Zh.I)(t)):a}function rc(r,o,t){r?(0,Qu.N)(t,r,o):o()}var oc=ie(8793);function ia(...r){const o=(0,hd.lI)(r);return(0,al.N)((t,i)=>{(o?(0,oc.x)(r,t,o):(0,oc.x)(r,t)).subscribe(i)})}const vh=new Set;let Ks,zp=(()=>{class r{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eA}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ac(r,o){if(!vh.has(r))try{Ks||(Ks=document.createElement("style"),o&&(Ks.nonce=o),Ks.setAttribute("type","text/css"),document.head.appendChild(Ks)),Ks.sheet&&(Ks.sheet.insertRule(`@media ${r} {body{ }}`,0),vh.add(r))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ea),e.KVO(e.BIS,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function eA(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let pA=(()=>{class r{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new An.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ro(dd(t)).some(n=>this._registerQuery(n).mql.matches)}observe(t){let a=Kl(Ro(dd(t)).map(s=>this._registerQuery(s).observable));return a=(0,oc.x)(a.pipe((0,Fo.s)(1)),a.pipe(Bl(1),(0,SA.B)(0))),a.pipe((0,h.T)(s=>{const d={matches:!1,breakpoints:{}};return s.forEach(({matches:m,query:I})=>{d.matches=d.matches||m,d.breakpoints[I]=m}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Ha.c(s=>{const d=m=>this._zone.run(()=>s.next(m));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(ia(i),(0,h.T)(({matches:s})=>({query:t,matches:s})),(0,jn.Q)(this._destroySubject)),mql:i};return this._queries.set(t,a),a}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(zp),e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ro(r){return r.map(o=>o.split(",")).reduce((o,t)=>o.concat(t)).map(o=>o.trim())}function tt(r,o,t){const i=qt(r,o);i.some(n=>n.trim()==t.trim())||(i.push(t.trim()),r.setAttribute(o,i.join(" ")))}function wt(r,o,t){const n=qt(r,o).filter(a=>a!=t.trim());n.length?r.setAttribute(o,n.join(" ")):r.removeAttribute(o)}function qt(r,o){return(r.getAttribute(o)||"").match(/\S+/g)||[]}const hn="cdk-describedby-message",ar="cdk-describedby-host";let Ir=0,So=(()=>{class r{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ir++,this._document=t,this._id=(0,e.WQX)(e.sZ2)+"-"+Ir++}describe(t,i,n){if(!this._canBeDescribed(t,i))return;const a=fl(i,n);"string"!=typeof i?(Rc(i,this._id),this._messageRegistry.set(a,{messageElement:i,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(i,n),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,i,n){if(!i||!this._isElementNode(t))return;const a=fl(i,n);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof i){const s=this._messageRegistry.get(a);s&&0===s.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${ar}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(ar);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const n=this._document.createElement("div");Rc(n,this._id),n.textContent=t,i&&n.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(n),this._messageRegistry.set(fl(t,i),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<i.length;a++)i[a].remove();const n=this._document.createElement("div");n.style.visibility="hidden",n.classList.add(t),n.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&n.setAttribute("platform","server"),this._document.body.appendChild(n),this._messagesContainer=n}_removeCdkDescribedByReferenceIds(t){const i=qt(t,"aria-describedby").filter(n=>0!=n.indexOf(hn));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const n=this._messageRegistry.get(i);tt(t,"aria-describedby",n.messageElement.id),t.setAttribute(ar,this._id),n.referenceCount++}_removeMessageReference(t,i){const n=this._messageRegistry.get(i);n.referenceCount--,wt(t,"aria-describedby",n.messageElement.id),t.removeAttribute(ar)}_isElementDescribedByMessage(t,i){const n=qt(t,"aria-describedby"),a=this._messageRegistry.get(i),s=a&&a.messageElement.id;return!!s&&-1!=n.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const n=null==i?"":`${i}`.trim(),a=t.getAttribute("aria-label");return!(!n||a&&a.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(l.qQ),e.KVO(ea))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function fl(r,o){return"string"==typeof r?`${o||""}/${r}`:r}function Rc(r,o){r.id||(r.id=`${hn}-${o}-${Ir++}`)}class vc{constructor(o){this._items=o,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new An.B,this._typeaheadSubscription=zr.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new An.B,this.change=new An.B,o instanceof e.rOR&&(this._itemChangesSubscription=o.changes.subscribe(t=>{if(this._activeItem){const n=t.toArray().indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}))}skipPredicate(o){return this._skipPredicateFn=o,this}withWrap(o=!0){return this._wrap=o,this}withVerticalOrientation(o=!0){return this._vertical=o,this}withHorizontalOrientation(o){return this._horizontal=o,this}withAllowedModifierKeys(o){return this._allowedModifierKeys=o,this}withTypeAhead(o=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(jr(t=>this._pressedLetters.push(t)),(0,SA.B)(o),(0,Jr.p)(()=>this._pressedLetters.length>0),(0,h.T)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let n=1;n<i.length+1;n++){const a=(this._activeItemIndex+n)%i.length,s=i[a];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(o=!0){return this._homeAndEnd=o,this}withPageUpDown(o=!0,t=10){return this._pageUpAndDown={enabled:o,delta:t},this}setActiveItem(o){const t=this._activeItem;this.updateActiveItem(o),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(o){const t=o.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!o[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&n){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&n){const a=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(a<s?a:s-1,-1);break}return;default:return void((n||Ea(o,"shiftKey"))&&(o.key&&1===o.key.length?this._letterKeyStream.next(o.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],o.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(o){const t=this._getItemsArray(),i="number"==typeof o?o:t.indexOf(o);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(o){this._wrap?this._setActiveInWrapMode(o):this._setActiveInDefaultMode(o)}_setActiveInWrapMode(o){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const n=(this._activeItemIndex+o*i+t.length)%t.length;if(!this._skipPredicateFn(t[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(o){this._setActiveItemByIndex(this._activeItemIndex+o,o)}_setActiveItemByIndex(o,t){const i=this._getItemsArray();if(i[o]){for(;this._skipPredicateFn(i[o]);)if(!i[o+=t])return;this.setActiveItem(o)}}_getItemsArray(){return this._items instanceof e.rOR?this._items.toArray():this._items}}class Jf extends vc{setActiveItem(o){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(o),this.activeItem&&this.activeItem.setActiveStyles()}}class gl extends vc{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(o){return this._origin=o,this}setActiveItem(o){super.setActiveItem(o),this.activeItem&&this.activeItem.focus(this._origin)}}let hu=(()=>{class r{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _m(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Hp(r){try{return r.frameElement}catch{return null}}(function jd(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(t));if(i&&(-1===Zr(i)||!this.isVisible(i)))return!1;let n=t.nodeName.toLowerCase(),a=Zr(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===n||"object"===n||this._platform.WEBKIT&&this._platform.IOS&&!function tA(r){let o=r.nodeName.toLowerCase(),t="input"===o&&r.type;return"text"===t||"password"===t||"select"===o||"textarea"===o}(t))&&("audio"===n?!!t.hasAttribute("controls")&&-1!==a:"video"===n?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function _h(r){return!function $h(r){return function fu(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function Wf(r){let o=r.nodeName.toLowerCase();return"input"===o||"select"===o||"button"===o||"textarea"===o}(r)||function pu(r){return function pd(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||Uo(r))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ea))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Uo(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let o=r.getAttribute("tabindex");return!(!o||isNaN(parseInt(o,10)))}function Zr(r){if(!Uo(r))return null;const o=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(o)?-1:o}class Ou{get enabled(){return this._enabled}set enabled(o){this._enabled=o,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(o,this._startAnchor),this._toggleAnchorTabIndex(o,this._endAnchor))}constructor(o,t,i,n,a=!1){this._element=o,this._checker=t,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const o=this._startAnchor,t=this._endAnchor;o&&(o.removeEventListener("focus",this.startAnchorListener),o.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(o){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(o)))})}focusFirstTabbableElementWhenReady(o){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(o)))})}focusLastTabbableElementWhenReady(o){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(o)))})}_getRegionBoundary(o){const t=this._element.querySelectorAll(`[cdk-focus-region-${o}], [cdkFocusRegion${o}], [cdk-focus-${o}]`);return"start"==o?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(o){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(o),!!i}return t.focus(o),!0}return this.focusFirstTabbableElement(o)}focusFirstTabbableElement(o){const t=this._getRegionBoundary("start");return t&&t.focus(o),!!t}focusLastTabbableElement(o){const t=this._getRegionBoundary("end");return t&&t.focus(o),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(o){if(this._checker.isFocusable(o)&&this._checker.isTabbable(o))return o;const t=o.children;for(let i=0;i<t.length;i++){const n=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(n)return n}return null}_getLastTabbableElement(o){if(this._checker.isFocusable(o)&&this._checker.isTabbable(o))return o;const t=o.children;for(let i=t.length-1;i>=0;i--){const n=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(n)return n}return null}_createAnchor(){const o=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,o),o.classList.add("cdk-visually-hidden"),o.classList.add("cdk-focus-trap-anchor"),o.setAttribute("aria-hidden","true"),o}_toggleAnchorTabIndex(o,t){o?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(o){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(o,this._startAnchor),this._toggleAnchorTabIndex(o,this._endAnchor))}_executeOnStable(o){this._ngZone.isStable?o():this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(o)}}let fA=(()=>{class r{constructor(t,i,n){this._checker=t,this._ngZone=i,this._document=n}create(t,i=!1){return new Ou(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(hu),e.KVO(e.SKi),e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),K0=(()=>{class r{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Tn(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Tn(t)}constructor(t,i,n){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Ql(),this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(fA),e.rXU(l.qQ))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[e.OA$]})}}return r})();function fd(r){return 0===r.buttons||0===r.detail}function ds(r){const o=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}const gd=new e.nKC("cdk-input-modality-detector-options"),sc={ignoreKeys:[18,17,224,91,16]},ms=Os({passive:!0,capture:!0});let zA=(()=>{class r{get mostRecentModality(){return this._modality.value}constructor(t,i,n,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Ca.t(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(d=>d===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fd(s)?"keyboard":"mouse"),this._mostRecentTarget=nl(s))},this._onTouchstart=s=>{ds(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nl(s))},this._options={...sc,...a},this.modalityDetected=this._modality.pipe(Bl(1)),this.modalityChanged=this.modalityDetected.pipe((0,qc.F)()),t.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,ms),n.addEventListener("mousedown",this._onMousedown,ms),n.addEventListener("touchstart",this._onTouchstart,ms)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ms),document.removeEventListener("mousedown",this._onMousedown,ms),document.removeEventListener("touchstart",this._onTouchstart,ms))}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ea),e.KVO(e.SKi),e.KVO(l.qQ),e.KVO(gd,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Vp=new e.nKC("liveAnnouncerElement",{providedIn:"root",factory:function ep(){return null}}),md=new e.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let tp=0,ym=(()=>{class r{constructor(t,i,n,a){this._ngZone=i,this._defaultOptions=a,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...i){const n=this._defaultOptions;let a,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[a,s]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=n&&n.politeness?n.politeness:"polite"),null==s&&n&&(s=n.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id="cdk-live-announcer-"+tp++,this._document.body.appendChild(n),n}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){const a=i[n],s=a.getAttribute("aria-owns");s?-1===s.indexOf(t)&&a.setAttribute("aria-owns",s+" "+t):a.setAttribute("aria-owns",t)}}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Vp,8),e.KVO(e.SKi),e.KVO(l.qQ),e.KVO(md,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const ip=new e.nKC("cdk-focus-monitor-default-options"),Kr=Os({passive:!0,capture:!0});let Cs=(()=>{class r{constructor(t,i,n,a,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new An.B,this._rootNodeFocusAndBlurListener=d=>{for(let I=nl(d);I;I=I.parentElement)"focus"===d.type?this._onFocus(d,I):this._onBlur(d,I)},this._document=a,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const n=Ml(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,lr.of)();const a=il(n)||this._getDocument(),s=this._elementInfo.get(n);if(s)return i&&(s.checkChildren=!0),s.subject;const d={checkChildren:i,subject:new An.B,rootNode:a};return this._elementInfo.set(n,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=Ml(t),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(t,i,n){const a=Ml(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([d,m])=>this._originChanged(d,i,m)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const n=this._elementInfo.get(i),a=nl(t);!n||!n.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),n)}_onBlur(t,i){const n=this._elementInfo.get(i);!n||n.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kr),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kr)}),this._rootNodeFocusListenerCount.set(i,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,jn.Q)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kr),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kr),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,n){this._setClasses(t,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((n,a)=>{(a===t||n.checkChildren&&a.contains(t))&&i.push([a,n])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if("mouse"!==n||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let s=0;s<a.length;s++)if(a[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(e.SKi),e.KVO(ea),e.KVO(zA),e.KVO(l.qQ,8),e.KVO(ip,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ud=(()=>{class r{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new e.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Cs))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}}return r})();const Jp="cdk-high-contrast-black-on-white",yh="cdk-high-contrast-white-on-black",Wp="cdk-high-contrast-active";let Kp=(()=>{class r{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,e.WQX)(pA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(n&&n.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Wp,Jp,yh),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Wp,Jp):2===i&&t.add(Wp,yh)}}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ea),e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),bh=(()=>{class r{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Kp))}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[UA]})}}return r})();const Xf=new e.nKC("cdk-dir-doc",{providedIn:"root",factory:function Lu(){return(0,e.WQX)(l.qQ)}}),Yu=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zd(r){const o=r?.toLowerCase()||"";return"auto"===o&&typeof navigator<"u"&&navigator?.language?Yu.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}let Va=(()=>{class r{constructor(t){this.value="ltr",this.change=new e.bkB,t&&(this.value=zd((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Xf,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Zf=(()=>{class r{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new e.bkB}get dir(){return this._dir}set dir(t){const i=this._dir;this._dir=zd(t),this._rawDir=t,i!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","dir",""]],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("dir",n._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[e.Jv_([{provide:Va,useExisting:r}])]})}}return r})(),vd=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const Nu=["text"];let _d=(()=>{class r{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return r})(),gu=(()=>{class r{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return r})();const Eh=new e.nKC("mat-sanity-checks",{providedIn:"root",factory:function bm(){return!0}});let Fr=(()=>{class r{constructor(t,i,n){this._sanityChecks=i,this._document=n,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ta()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Kp),e.KVO(Eh,8),e.KVO(l.qQ))}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[vd,vd]})}}return r})();function Oc(r){return class extends r{get disabled(){return this._disabled}set disabled(o){this._disabled=Tn(o)}constructor(...o){super(...o),this._disabled=!1}}}function Yl(r,o){return class extends r{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=o,this.color=o}}}function sl(r){return class extends r{get disableRipple(){return this._disableRipple}set disableRipple(o){this._disableRipple=Tn(o)}constructor(...o){super(...o),this._disableRipple=!1}}}function Xl(r,o=0){return class extends r{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ya(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=o,this.defaultTabIndex=o}}}function Hd(r){return class extends r{updateErrorState(){const o=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==o&&(this.errorState=a,this.stateChanges.next())}constructor(...o){super(...o),this.errorState=!1}}}function $p(r){return class extends r{constructor(...o){super(...o),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ha.c(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(o){o.next(),o.complete()}}}const mA=new e.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function wm(){return(0,e.WQX)(e.xe9)}});class vs{constructor(){this._localeChanges=new An.B,this.localeChanges=this._localeChanges}getValidDateOrNull(o){return this.isDateInstance(o)&&this.isValid(o)?o:null}deserialize(o){return null==o||this.isDateInstance(o)&&this.isValid(o)?o:this.invalid()}setLocale(o){this.locale=o,this._localeChanges.next()}compareDate(o,t){return this.getYear(o)-this.getYear(t)||this.getMonth(o)-this.getMonth(t)||this.getDate(o)-this.getDate(t)}sameDate(o,t){if(o&&t){let i=this.isValid(o),n=this.isValid(t);return i&&n?!this.compareDate(o,t):i==n}return o==t}clampDate(o,t,i){return t&&this.compareDate(o,t)<0?t:i&&this.compareDate(o,i)>0?i:o}}const vA=new e.nKC("mat-date-formats");let Lc=(()=>{class r{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Cm=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]})}}return r})();function ju(r,o,t="mat"){r.changes.pipe(ia(r)).subscribe(({length:i})=>{yd(o,`${t}-2-line`,!1),yd(o,`${t}-3-line`,!1),yd(o,`${t}-multi-line`,!1),2===i||3===i?yd(o,`${t}-${i}-line`,!0):i>3&&yd(o,`${t}-multi-line`,!0)})}function yd(r,o,t){r.nativeElement.classList.toggle(o,t)}let Ja=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,Fr]})}}return r})();class ig{constructor(o,t,i,n=!1){this._renderer=o,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tf=Os({passive:!0,capture:!0});class ng{constructor(){this._events=new Map,this._delegateEventHandler=o=>{const t=nl(o);t&&this._events.get(o.type)?.forEach((i,n)=>{(n===t||n.contains(t))&&i.forEach(a=>a.handleEvent(o))})}}addHandler(o,t,i,n){const a=this._events.get(t);if(a){const s=a.get(i);s?s.add(n):a.set(i,new Set([n]))}else this._events.set(t,new Map([[i,new Set([n])]])),o.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,tf)})}removeHandler(o,t,i){const n=this._events.get(o);if(!n)return;const a=n.get(t);a&&(a.delete(i),0===a.size&&n.delete(t),0===n.size&&(this._events.delete(o),document.removeEventListener(o,this._delegateEventHandler,tf)))}}const HA={enterDuration:225,exitDuration:150},B=Os({passive:!0,capture:!0}),H=["mousedown","touchstart"],G=["mouseup","mouseleave","touchend","touchcancel"];class ee{static{this._eventManager=new ng}constructor(o,t,i,n){this._target=o,this._ngZone=t,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Ml(i))}fadeInRipple(o,t,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...HA,...i.animation};i.centered&&(o=n.left+n.width/2,t=n.top+n.height/2);const s=i.radius||function me(r,o,t){const i=Math.max(Math.abs(r-t.left),Math.abs(r-t.right)),n=Math.max(Math.abs(o-t.top),Math.abs(o-t.bottom));return Math.sqrt(i*i+n*n)}(o,t,n),d=o-n.left,m=t-n.top,I=a.enterDuration,J=document.createElement("div");J.classList.add("mat-ripple-element"),J.style.left=d-s+"px",J.style.top=m-s+"px",J.style.height=2*s+"px",J.style.width=2*s+"px",null!=i.color&&(J.style.backgroundColor=i.color),J.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(J);const oe=window.getComputedStyle(J),$e=oe.transitionDuration,nt="none"===oe.transitionProperty||"0s"===$e||"0s, 0s"===$e||0===n.width&&0===n.height,Tt=new ig(this,J,i,nt);J.style.transform="scale3d(1, 1, 1)",Tt.state=0,i.persistent||(this._mostRecentTransientRipple=Tt);let Zt=null;return!nt&&(I||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ci=()=>this._finishRippleTransition(Tt),xi=()=>this._destroyRipple(Tt);J.addEventListener("transitionend",ci),J.addEventListener("transitioncancel",xi),Zt={onTransitionEnd:ci,onTransitionCancel:xi}}),this._activeRipples.set(Tt,Zt),(nt||!I)&&this._finishRippleTransition(Tt),Tt}fadeOutRipple(o){if(2===o.state||3===o.state)return;const t=o.element,i={...HA,...o.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",o.state=2,(o._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(o)}fadeOutAll(){this._getActiveRipples().forEach(o=>o.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(o=>{o.config.persistent||o.fadeOut()})}setupTriggerEvents(o){const t=Ml(o);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,H.forEach(i=>{ee._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(o){"mousedown"===o.type?this._onMousedown(o):"touchstart"===o.type?this._onTouchStart(o):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{G.forEach(t=>{this._triggerElement.addEventListener(t,this,B)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(o){0===o.state?this._startFadeOutTransition(o):2===o.state&&this._destroyRipple(o)}_startFadeOutTransition(o){const t=o===this._mostRecentTransientRipple,{persistent:i}=o.config;o.state=1,!i&&(!t||!this._isPointerDown)&&o.fadeOut()}_destroyRipple(o){const t=this._activeRipples.get(o)??null;this._activeRipples.delete(o),this._activeRipples.size||(this._containerRect=null),o===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),o.state=3,null!==t&&(o.element.removeEventListener("transitionend",t.onTransitionEnd),o.element.removeEventListener("transitioncancel",t.onTransitionCancel)),o.element.remove()}_onMousedown(o){const t=fd(o),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(o.clientX,o.clientY,this._target.rippleConfig))}_onTouchStart(o){if(!this._target.rippleDisabled&&!ds(o)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=o.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(o=>{!o.config.persistent&&(1===o.state||o.config.terminateOnPointerUp&&0===o.state)&&o.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const o=this._triggerElement;o&&(H.forEach(t=>ee._eventManager.removeHandler(t,o,this)),this._pointerUpEventsRegistered&&G.forEach(t=>o.removeEventListener(t,this,B)))}}const Ve=new e.nKC("mat-ripple-global-options");let st=(()=>{class r{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,n,a,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new ee(this,i,t,n)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...n}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(ea),e.rXU(Ve,8),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return r})(),yt=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,Fr]})}}return r})(),Qt=(()=>{class r{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,n){2&i&&e.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal","minimal"===n.appearance)("mat-pseudo-checkbox-full","full"===n.appearance)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,n){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return r})(),Ai=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr]})}}return r})();const bi=new e.nKC("MAT_OPTION_PARENT_COMPONENT"),ji=Oc(class{});let Ti=0,cn=(()=>{class r extends ji{constructor(t){super(),this._labelId="mat-optgroup-label-"+Ti++,this._inert=t?.inertGroups??!1}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(bi,8))}}static{this.\u0275dir=e.FsC({type:r,inputs:{label:"label"},features:[e.Vt3]})}}return r})();const In=new e.nKC("MatOptgroup");let er=0;class Ar{constructor(o,t=!1){this.source=o,this.isUserInput=t}}let $n=(()=>{class r{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Tn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,n,a){this._element=t,this._changeDetectorRef=i,this._parent=n,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+er++,this.onSelectionChange=new e.bkB,this._stateChanges=new An.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Ea(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Ar(this,t))}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(i,n){if(1&i&&e.GBs(Nu,7),2&i){let a;e.mGM(a=e.lsd())&&(n._text=a.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}}return r})();function Sr(r,o,t){if(t.length){let i=o.toArray(),n=t.toArray(),a=0;for(let s=0;s<r+1;s++)i[s].group&&i[s].group===n[a]&&a++;return a}return 0}function Qr(r,o,t,i){return r<t?r:r+o>t+i?Math.max(0,r-i+o):t}const fa={capture:!0},ll=["focus","click","mouseenter","touchstart"],hs="mat-ripple-loader-uninitialized",Zl="mat-ripple-loader-class-name",lc="mat-ripple-loader-centered",ps="mat-ripple-loader-disabled";let $l=(()=>{class r{constructor(){this._document=(0,e.WQX)(l.qQ,{optional:!0}),this._animationMode=(0,e.WQX)(e.bc$,{optional:!0}),this._globalRippleOptions=(0,e.WQX)(Ve,{optional:!0}),this._platform=(0,e.WQX)(ea),this._ngZone=(0,e.WQX)(e.SKi),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const n=t.target.closest(`[${hs}]`);n&&this._createRipple(n)},this._ngZone.runOutsideAngular(()=>{for(const t of ll)this._document?.addEventListener(t,this._onInteraction,fa)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of ll)this._document?.removeEventListener(i,this._onInteraction,fa)}configureRipple(t,i){t.setAttribute(hs,""),(i.className||!t.hasAttribute(Zl))&&t.setAttribute(Zl,i.className||""),i.centered&&t.setAttribute(lc,""),i.disabled&&t.setAttribute(ps,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const n=this._hosts.get(t);n?n.disabled=i:i?t.setAttribute(ps,""):t.removeAttribute(ps)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const n=this._document.createElement("span");n.classList.add("mat-ripple",t.getAttribute(Zl)),t.append(n);const a=new st(new e.aKT(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return a._isInitialized=!0,a.trigger=t,a.centered=t.hasAttribute(lc),a.disabled=t.hasAttribute(ps),this.attachRipple(t,a),a}attachRipple(t,i){t.removeAttribute(hs),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const ls=["*",[["mat-option"],["ng-container"]]],Xs=["*","mat-option, ng-container"];function Ys(r,o){if(1&r&&e.nrm(0,"mat-pseudo-checkbox",5),2&r){const t=e.XpG();e.Y8G("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Ns(r,o){if(1&r&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI("(",t.group.label,")")}}const Dl=["*"];let Gu=(()=>{class r extends cn{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(i,n){2&i&&(e.BMQ("role",n._inert?null:"group")("aria-disabled",n._inert?null:n.disabled.toString())("aria-labelledby",n._inert?null:n._labelId),e.AVh("mat-optgroup-disabled",n.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[e.Jv_([{provide:In,useExisting:r}]),e.Vt3],ngContentSelectors:Xs,decls:4,vars:2,consts:[["role","presentation",1,"mat-optgroup-label",3,"id"]],template:function(i,n){1&i&&(e.NAR(ls),e.j41(0,"span",0),e.EFF(1),e.SdG(2),e.k0s(),e.SdG(3,1)),2&i&&(e.Y8G("id",n._labelId),e.R7$(1),e.SpI("",n.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}"],encapsulation:2,changeDetection:0})}}return r})(),Ur=(()=>{class r extends $n{constructor(t,i,n,a){super(t,i,n,a)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(bi,8),e.rXU(In,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),2&i&&(e.Mr5("id",n.id),e.BMQ("tabindex",n._getTabIndex())("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),e.AVh("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[e.Vt3],ngContentSelectors:Dl,decls:6,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(i,n){1&i&&(e.NAR(),e.DNE(0,Ys,1,2,"mat-pseudo-checkbox",0),e.j41(1,"span",1,2),e.SdG(3),e.k0s(),e.DNE(4,Ns,2,1,"span",3),e.nrm(5,"div",4)),2&i&&(e.Y8G("ngIf",n.multiple),e.R7$(4),e.Y8G("ngIf",n.group&&n.group._inert),e.R7$(1),e.Y8G("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[st,l.bT,Qt],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0})}}return r})(),js=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[yt,l.MD,Fr,Ai]})}}return r})();var Yc=ie(8750),ga=ie(1397),bd=ie(7441);const _A=["addListener","removeListener"],rt=["addEventListener","removeEventListener"],Me=["on","off"];function Ue(r,o,t,i){if((0,uA.T)(t)&&(i=t,t=void 0),i)return Ue(r,o,t).pipe((0,Zh.I)(i));const[n,a]=function ot(r){return(0,uA.T)(r.addEventListener)&&(0,uA.T)(r.removeEventListener)}(r)?rt.map(s=>d=>r[s](o,d,t)):function he(r){return(0,uA.T)(r.addListener)&&(0,uA.T)(r.removeListener)}(r)?_A.map(ce(r,o)):function Ee(r){return(0,uA.T)(r.on)&&(0,uA.T)(r.off)}(r)?Me.map(ce(r,o)):[];if(!n&&(0,bd.X)(r))return(0,ga.Z)(s=>Ue(s,o,t))((0,Yc.Tg)(r));if(!n)throw new TypeError("Invalid event target");return new Ha.c(s=>{const d=(...m)=>s.next(1<m.length?m:m[0]);return n(d),()=>a(d)})}function ce(r,o){return t=>i=>r[t](o,i)}var mt=ie(6780);const gt={schedule(r){let o=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=gt;i&&(o=i.requestAnimationFrame,t=i.cancelAnimationFrame);const n=o(a=>{t=void 0,r(a)});return new zr.yU(()=>t?.(n))},requestAnimationFrame(...r){const{delegate:o}=gt;return(o?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:o}=gt;return(o?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var ri=ie(9687);new class wi extends ri.q{flush(o){let t;this._active=!0,o?t=o.id:(t=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let n;o=o||i.shift();do{if(n=o.execute(o.state,o.delay))break}while((o=i[0])&&o.id===t&&i.shift());if(this._active=!1,n){for(;(o=i[0])&&o.id===t&&i.shift();)o.unsubscribe();throw n}}}(class ht extends mt.R{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=gt.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,t,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(o,t,i);const{actions:a}=o;null!=t&&t===o._scheduled&&(null===(n=a[a.length-1])||void 0===n?void 0:n.id)!==t&&(gt.cancelAnimationFrame(t),o._scheduled=void 0)}});let dn,Wi=1;const Dn={};function dr(r){return r in Dn&&(delete Dn[r],!0)}const $r={setImmediate(r){const o=Wi++;return Dn[o]=!0,dn||(dn=Promise.resolve()),dn.then(()=>dr(o)&&r()),o},clearImmediate(r){dr(r)}},{setImmediate:fo,clearImmediate:Do}=$r,wo={setImmediate(...r){const{delegate:o}=wo;return(o?.setImmediate||fo)(...r)},clearImmediate(r){const{delegate:o}=wo;return(o?.clearImmediate||Do)(r)},delegate:void 0},Bs=new class os extends ri.q{flush(o){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;o=o||i.shift();do{if(n=o.execute(o.state,o.delay))break}while((o=i[0])&&o.id===t&&i.shift());if(this._active=!1,n){for(;(o=i[0])&&o.id===t&&i.shift();)o.unsubscribe();throw n}}}(class Ko extends mt.R{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=wo.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,t,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(o,t,i);const{actions:a}=o;null!=t&&(null===(n=a[a.length-1])||void 0===n?void 0:n.id)!==t&&(wo.clearImmediate(t),o._scheduled===t&&(o._scheduled=void 0))}});var _o=ie(3236),Co=ie(1584);function ja(r,o=_o.E){return function Gs(r){return(0,al.N)((o,t)=>{let i=!1,n=null,a=null,s=!1;const d=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const I=n;n=null,t.next(I)}s&&t.complete()},m=()=>{a=null,s&&t.complete()};o.subscribe((0,pl._)(t,I=>{i=!0,n=I,a||(0,Yc.Tg)(r(I)).subscribe(a=(0,pl._)(t,d,m))},()=>{s=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>(0,Co.O)(r,o))}let Il=(()=>{class r{constructor(t,i,n){this._ngZone=t,this._platform=i,this._scrolled=new An.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ha.c(i=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(ja(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,lr.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Jr.p)(a=>!a||n.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((n,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let n=Ml(i),a=t.getElementRef().nativeElement;do{if(n==a)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ue(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(e.SKi),e.KVO(ea),e.KVO(l.qQ,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ql=(()=>{class r{constructor(t,i,n,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=n,this.dir=a,this._destroyed=new An.B,this._elementScrolled=new Ha.c(s=>this.ngZone.runOutsideAngular(()=>Ue(this.elementRef.nativeElement,"scroll").pipe((0,jn.Q)(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),n&&0!=Ic()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Ic()?t.left=t.right:1==Ic()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;nd()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",n="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?n:i:"end"==t&&(t=s?i:n),s&&2==Ic()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:s&&1==Ic()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Il),e.rXU(e.SKi),e.rXU(Va,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return r})(),xs=(()=>{class r{constructor(t,i,n){this._platform=t,this._change=new An.B,this._changeListener=a=>{this._change.next(a)},this._document=n,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),n=t.documentElement,a=n.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||n.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ja(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ea),e.KVO(e.SKi),e.KVO(l.qQ,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),QA=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Nc=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[vd,QA,vd,QA]})}}return r})();class np{attach(o){return this._attachedHost=o,o.attach(this)}detach(){let o=this._attachedHost;null!=o&&(this._attachedHost=null,o.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(o){this._attachedHost=o}}class Vd extends np{constructor(o,t,i,n,a){super(),this.component=o,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=a}}class VA extends np{constructor(o,t,i,n){super(),this.templateRef=o,this.viewContainerRef=t,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(o,t=this.context){return this.context=t,super.attach(o)}detach(){return this.context=void 0,super.detach()}}class af extends np{constructor(o){super(),this.element=o instanceof e.aKT?o.nativeElement:o}}class Bh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(o){return o instanceof Vd?(this._attachedPortal=o,this.attachComponentPortal(o)):o instanceof VA?(this._attachedPortal=o,this.attachTemplatePortal(o)):this.attachDomPortal&&o instanceof af?(this._attachedPortal=o,this.attachDomPortal(o)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(o){this._disposeFn=o}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Jd extends Bh{constructor(o,t,i,n,a){super(),this.outletElement=o,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=s=>{const d=s.element,m=this._document.createComment("dom-portal");d.parentNode.insertBefore(m,d),this.outletElement.appendChild(d),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=a}attachComponentPortal(o){const i=(o.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(o.component);let n;return o.viewContainerRef?(n=o.viewContainerRef.createComponent(i,o.viewContainerRef.length,o.injector||o.viewContainerRef.injector,o.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(o.injector||this._defaultInjector||e.zZn.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=o,n}attachTemplatePortal(o){let t=o.viewContainerRef,i=t.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(i);-1!==n&&t.remove(n)}),this._attachedPortal=o,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(o){return o.hostView.rootNodes[0]}}let yc=(()=>{class r extends Bh{constructor(t,i,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new e.bkB,this.attachDomPortal=a=>{const s=a.element,d=this._document.createComment("dom-portal");a.setAttachedHost(this),s.parentNode.insertBefore(d,s),this._getRootNode().appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(s,d)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(a,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU(l.qQ))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.Vt3]})}}return r})(),wd=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();var Ka=ie(7786);const lg=nd();class ND{constructor(o,t){this._viewportRuler=o,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const o=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=o.style.left||"",this._previousHTMLStyles.top=o.style.top||"",o.style.left=Na(-this._previousScrollPosition.left),o.style.top=Na(-this._previousScrollPosition.top),o.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const o=this._document.documentElement,i=o.style,n=this._document.body.style,a=i.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,o.classList.remove("cdk-global-scrollblock"),lg&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lg&&(i.scrollBehavior=a,n.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class nv{constructor(o,t,i,n){this._scrollDispatcher=o,this._ngZone=t,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(o){this._overlayRef=o}enable(){if(this._scrollSubscription)return;const o=this._scrollDispatcher.scrolled(0).pipe((0,Jr.p)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=o.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=o.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Hu{enable(){}disable(){}attach(){}}function sf(r,o){return o.some(t=>r.bottom<t.top||r.top>t.bottom||r.right<t.left||r.left>t.right)}function sy(r,o){return o.some(t=>r.top<t.top||r.bottom>t.bottom||r.left<t.left||r.right>t.right)}class Ow{constructor(o,t,i,n){this._scrollDispatcher=o,this._viewportRuler=t,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(o){this._overlayRef=o}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();sf(t,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Lw=(()=>{class r{constructor(t,i,n,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new Hu,this.close=s=>new nv(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new ND(this._viewportRuler,this._document),this.reposition=s=>new Ow(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=a}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Il),e.KVO(xs),e.KVO(e.SKi),e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class Em{constructor(o){if(this.scrollStrategy=new Hu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,o){const t=Object.keys(o);for(const i of t)void 0!==o[i]&&(this[i]=o[i])}}}class ly{constructor(o,t){this.connectionPair=o,this.scrollableViewProperties=t}}let jD=(()=>{class r{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Nw=(()=>{class r extends jD{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=n=>{const a=this._attachedOverlays;for(let s=a.length-1;s>-1;s--)if(a[s]._keydownEvents.observers.length>0){const d=a[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(n)):d.next(n);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(l.qQ),e.KVO(e.SKi,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),GD=(()=>{class r extends jD{constructor(t,i,n){super(t),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=nl(a)},this._clickListener=a=>{const s=nl(a),d="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let I=m.length-1;I>-1;I--){const J=m[I];if(J._outsidePointerEvents.observers.length<1||!J.hasAttached())continue;if(J.overlayElement.contains(s)||J.overlayElement.contains(d))break;const oe=J._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>oe.next(a)):oe.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(l.qQ),e.KVO(ea),e.KVO(e.SKi,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),rv=(()=>{class r{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ta()){const n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<n.length;a++)n[a].remove()}const i=this._document.createElement("div");i.classList.add(t),ta()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(l.qQ),e.KVO(ea))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class Bm{constructor(o,t,i,n,a,s,d,m,I,J=!1){this._portalOutlet=o,this._host=t,this._pane=i,this._config=n,this._ngZone=a,this._keyboardDispatcher=s,this._document=d,this._location=m,this._outsideClickDispatcher=I,this._animationsDisabled=J,this._backdropElement=null,this._backdropClick=new An.B,this._attachments=new An.B,this._detachments=new An.B,this._locationChanges=zr.yU.EMPTY,this._backdropClickHandler=oe=>this._backdropClick.next(oe),this._backdropTransitionendHandler=oe=>{this._disposeBackdrop(oe.target)},this._keydownEvents=new An.B,this._outsidePointerEvents=new An.B,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(o){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(o);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const o=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),o}dispose(){const o=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,o&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(o){o!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=o,this.hasAttached()&&(o.attach(this),this.updatePosition()))}updateSize(o){this._config={...this._config,...o},this._updateElementSize()}setDirection(o){this._config={...this._config,direction:o},this._updateElementDirection()}addPanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!0)}removePanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!1)}getDirection(){const o=this._config.direction;return o?"string"==typeof o?o:o.value:"ltr"}updateScrollStrategy(o){o!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=o,this.hasAttached()&&(o.attach(this),o.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const o=this._pane.style;o.width=Na(this._config.width),o.height=Na(this._config.height),o.minWidth=Na(this._config.minWidth),o.minHeight=Na(this._config.minHeight),o.maxWidth=Na(this._config.maxWidth),o.maxHeight=Na(this._config.maxHeight)}_togglePointerEvents(o){this._pane.style.pointerEvents=o?"":"none"}_attachBackdrop(){const o="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(o)})}):this._backdropElement.classList.add(o)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const o=this._backdropElement;if(o){if(this._animationsDisabled)return void this._disposeBackdrop(o);o.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{o.addEventListener("transitionend",this._backdropTransitionendHandler)}),o.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(o)},500))}}_toggleClasses(o,t,i){const n=dd(t||[]).filter(a=>!!a);n.length&&(i?o.classList.add(...n):o.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const o=this._ngZone.onStable.pipe((0,jn.Q)((0,Ka.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),o.unsubscribe())})})}_disposeScrollStrategy(){const o=this._scrollStrategy;o&&(o.disable(),o.detach&&o.detach())}_disposeBackdrop(o){o&&(o.removeEventListener("click",this._backdropClickHandler),o.removeEventListener("transitionend",this._backdropTransitionendHandler),o.remove(),this._backdropElement===o&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jw="cdk-overlay-connected-position-bounding-box",Gw=/([A-Za-z%]+)$/;class Mm{get positions(){return this._preferredPositions}constructor(o,t,i,n,a){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new An.B,this._resizeSubscription=zr.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(o)}attach(o){this._validatePositions(),o.hostElement.classList.add(jw),this._overlayRef=o,this._boundingBox=o.hostElement,this._pane=o.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const o=this._originRect,t=this._overlayRect,i=this._viewportRect,n=this._containerRect,a=[];let s;for(let d of this._preferredPositions){let m=this._getOriginPoint(o,n,d),I=this._getOverlayPoint(m,t,d),J=this._getOverlayFit(I,t,i,d);if(J.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,m);this._canFitWithFlexibleDimensions(J,I,i)?a.push({position:d,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,d)}):(!s||s.overlayFit.visibleArea<J.visibleArea)&&(s={overlayFit:J,overlayPoint:I,originPoint:m,position:d,overlayRect:t})}if(a.length){let d=null,m=-1;for(const I of a){const J=I.boundingBoxRect.width*I.boundingBoxRect.height*(I.position.weight||1);J>m&&(m=J,d=I)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const o=this._lastPosition;if(o){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,o);this._applyPosition(o,t)}else this.apply()}withScrollableContainers(o){return this._scrollables=o,this}withPositions(o){return this._preferredPositions=o,-1===o.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(o){return this._viewportMargin=o,this}withFlexibleDimensions(o=!0){return this._hasFlexibleDimensions=o,this}withGrowAfterOpen(o=!0){return this._growAfterOpen=o,this}withPush(o=!0){return this._canPush=o,this}withLockedPosition(o=!0){return this._positionLocked=o,this}setOrigin(o){return this._origin=o,this}withDefaultOffsetX(o){return this._offsetX=o,this}withDefaultOffsetY(o){return this._offsetY=o,this}withTransformOriginOn(o){return this._transformOriginSelector=o,this}_getOriginPoint(o,t,i){let n,a;if("center"==i.originX)n=o.left+o.width/2;else{const s=this._isRtl()?o.right:o.left,d=this._isRtl()?o.left:o.right;n="start"==i.originX?s:d}return t.left<0&&(n-=t.left),a="center"==i.originY?o.top+o.height/2:"top"==i.originY?o.top:o.bottom,t.top<0&&(a-=t.top),{x:n,y:a}}_getOverlayPoint(o,t,i){let n,a;return n="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:o.x+n,y:o.y+a}}_getOverlayFit(o,t,i,n){const a=Uw(t);let{x:s,y:d}=o,m=this._getOffset(n,"x"),I=this._getOffset(n,"y");m&&(s+=m),I&&(d+=I);let Ce=0-d,$e=d+a.height-i.height,nt=this._subtractOverflows(a.width,0-s,s+a.width-i.width),Tt=this._subtractOverflows(a.height,Ce,$e),Zt=nt*Tt;return{visibleArea:Zt,isCompletelyWithinViewport:a.width*a.height===Zt,fitsInViewportVertically:Tt===a.height,fitsInViewportHorizontally:nt==a.width}}_canFitWithFlexibleDimensions(o,t,i){if(this._hasFlexibleDimensions){const n=i.bottom-t.y,a=i.right-t.x,s=ov(this._overlayRef.getConfig().minHeight),d=ov(this._overlayRef.getConfig().minWidth);return(o.fitsInViewportVertically||null!=s&&s<=n)&&(o.fitsInViewportHorizontally||null!=d&&d<=a)}return!1}_pushOverlayOnScreen(o,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:o.x+this._previousPushAmount.x,y:o.y+this._previousPushAmount.y};const n=Uw(t),a=this._viewportRect,s=Math.max(o.x+n.width-a.width,0),d=Math.max(o.y+n.height-a.height,0),m=Math.max(a.top-i.top-o.y,0),I=Math.max(a.left-i.left-o.x,0);let J=0,oe=0;return J=n.width<=a.width?I||-s:o.x<this._viewportMargin?a.left-i.left-o.x:0,oe=n.height<=a.height?m||-d:o.y<this._viewportMargin?a.top-i.top-o.y:0,this._previousPushAmount={x:J,y:oe},{x:o.x+J,y:o.y+oe}}_applyPosition(o,t){if(this._setTransformOrigin(o),this._setOverlayElementStyles(t,o),this._setBoundingBoxStyles(t,o),o.panelClass&&this._addPanelClasses(o.panelClass),this._lastPosition=o,this._positionChanges.observers.length){const i=this._getScrollVisibility(),n=new ly(o,i);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(o){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=o.overlayY;i="center"===o.overlayX?"center":this._isRtl()?"start"===o.overlayX?"right":"left":"start"===o.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(o,t){const i=this._viewportRect,n=this._isRtl();let a,s,d,J,oe,Ce;if("top"===t.overlayY)s=o.y,a=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-o.y+2*this._viewportMargin,a=i.height-d+this._viewportMargin;else{const $e=Math.min(i.bottom-o.y+i.top,o.y),nt=this._lastBoundingBoxSize.height;a=2*$e,s=o.y-$e,a>nt&&!this._isInitialRender&&!this._growAfterOpen&&(s=o.y-nt/2)}if("end"===t.overlayX&&!n||"start"===t.overlayX&&n)Ce=i.width-o.x+this._viewportMargin,J=o.x-this._viewportMargin;else if("start"===t.overlayX&&!n||"end"===t.overlayX&&n)oe=o.x,J=i.right-o.x;else{const $e=Math.min(i.right-o.x+i.left,o.x),nt=this._lastBoundingBoxSize.width;J=2*$e,oe=o.x-$e,J>nt&&!this._isInitialRender&&!this._growAfterOpen&&(oe=o.x-nt/2)}return{top:s,left:oe,bottom:d,right:Ce,width:J,height:a}}_setBoundingBoxStyles(o,t){const i=this._calculateBoundingBoxRect(o,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.height=Na(i.height),n.top=Na(i.top),n.bottom=Na(i.bottom),n.width=Na(i.width),n.left=Na(i.left),n.right=Na(i.right),n.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",n.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(n.maxHeight=Na(a)),s&&(n.maxWidth=Na(s))}this._lastBoundingBoxSize=i,rp(this._boundingBox.style,n)}_resetBoundingBoxStyles(){rp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(o,t){const i={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){const J=this._viewportRuler.getViewportScrollPosition();rp(i,this._getExactOverlayY(t,o,J)),rp(i,this._getExactOverlayX(t,o,J))}else i.position="static";let d="",m=this._getOffset(t,"x"),I=this._getOffset(t,"y");m&&(d+=`translateX(${m}px) `),I&&(d+=`translateY(${I}px)`),i.transform=d.trim(),s.maxHeight&&(n?i.maxHeight=Na(s.maxHeight):a&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=Na(s.maxWidth):a&&(i.maxWidth="")),rp(this._pane.style,i)}_getExactOverlayY(o,t,i){let n={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,o);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===o.overlayY?n.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":n.top=Na(a.y),n}_getExactOverlayX(o,t,i){let s,n={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,o);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),s=this._isRtl()?"end"===o.overlayX?"left":"right":"end"===o.overlayX?"right":"left","right"===s?n.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":n.left=Na(a.x),n}_getScrollVisibility(){const o=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sy(o,i),isOriginOutsideView:sf(o,i),isOverlayClipped:sy(t,i),isOverlayOutsideView:sf(t,i)}}_subtractOverflows(o,...t){return t.reduce((i,n)=>i-Math.max(n,0),o)}_getNarrowedViewportRect(){const o=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+o-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:o-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(o,t){return"x"===t?null==o.offsetX?this._offsetX:o.offsetX:null==o.offsetY?this._offsetY:o.offsetY}_validatePositions(){}_addPanelClasses(o){this._pane&&dd(o).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(o=>{this._pane.classList.remove(o)}),this._appliedPanelClasses=[])}_getOriginRect(){const o=this._origin;if(o instanceof e.aKT)return o.nativeElement.getBoundingClientRect();if(o instanceof Element)return o.getBoundingClientRect();const t=o.width||0,i=o.height||0;return{top:o.y,bottom:o.y+i,left:o.x,right:o.x+t,height:i,width:t}}}function rp(r,o){for(let t in o)o.hasOwnProperty(t)&&(r[t]=o[t]);return r}function ov(r){if("number"!=typeof r&&null!=r){const[o,t]=r.split(Gw);return t&&"px"!==t?null:parseFloat(o)}return r||null}function Uw(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const zw="cdk-global-overlay-wrapper";class cy{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(o){const t=o.getConfig();this._overlayRef=o,this._width&&!t.width&&o.updateSize({width:this._width}),this._height&&!t.height&&o.updateSize({height:this._height}),o.hostElement.classList.add(zw),this._isDisposed=!1}top(o=""){return this._bottomOffset="",this._topOffset=o,this._alignItems="flex-start",this}left(o=""){return this._xOffset=o,this._xPosition="left",this}bottom(o=""){return this._topOffset="",this._bottomOffset=o,this._alignItems="flex-end",this}right(o=""){return this._xOffset=o,this._xPosition="right",this}start(o=""){return this._xOffset=o,this._xPosition="start",this}end(o=""){return this._xOffset=o,this._xPosition="end",this}width(o=""){return this._overlayRef?this._overlayRef.updateSize({width:o}):this._width=o,this}height(o=""){return this._overlayRef?this._overlayRef.updateSize({height:o}):this._height=o,this}centerHorizontally(o=""){return this.left(o),this._xPosition="center",this}centerVertically(o=""){return this.top(o),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const o=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:s,maxHeight:d}=i,m=!("100%"!==n&&"100vw"!==n||s&&"100%"!==s&&"100vw"!==s),I=!("100%"!==a&&"100vh"!==a||d&&"100%"!==d&&"100vh"!==d),J=this._xPosition,oe=this._xOffset,Ce="rtl"===this._overlayRef.getConfig().direction;let $e="",nt="",Tt="";m?Tt="flex-start":"center"===J?(Tt="center",Ce?nt=oe:$e=oe):Ce?"left"===J||"end"===J?(Tt="flex-end",$e=oe):("right"===J||"start"===J)&&(Tt="flex-start",nt=oe):"left"===J||"start"===J?(Tt="flex-start",$e=oe):("right"===J||"end"===J)&&(Tt="flex-end",nt=oe),o.position=this._cssPosition,o.marginLeft=m?"0":$e,o.marginTop=I?"0":this._topOffset,o.marginBottom=this._bottomOffset,o.marginRight=m?"0":nt,t.justifyContent=Tt,t.alignItems=I?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const o=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(zw),i.justifyContent=i.alignItems=o.marginTop=o.marginBottom=o.marginLeft=o.marginRight=o.position="",this._overlayRef=null,this._isDisposed=!0}}let Ay=(()=>{class r{constructor(t,i,n,a){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=a}global(){return new cy}flexibleConnectedTo(t){return new Mm(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(xs),e.KVO(l.qQ),e.KVO(ea),e.KVO(rv))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),zD=0,jc=(()=>{class r{constructor(t,i,n,a,s,d,m,I,J,oe,Ce,$e){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=a,this._keyboardDispatcher=s,this._injector=d,this._ngZone=m,this._document=I,this._directionality=J,this._location=oe,this._outsideClickDispatcher=Ce,this._animationsModuleType=$e}create(t){const i=this._createHostElement(),n=this._createPaneElement(i),a=this._createPortalOutlet(n),s=new Em(t);return s.direction=s.direction||this._directionality.value,new Bm(a,i,n,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+zD++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(e.o8S)),new Jd(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Lw),e.KVO(rv),e.KVO(e.OM3),e.KVO(Ay),e.KVO(Nw),e.KVO(e.zZn),e.KVO(e.SKi),e.KVO(l.qQ),e.KVO(Va),e.KVO(l.aZ),e.KVO(GD),e.KVO(e.bc$,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const HD=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Hw=new e.nKC("cdk-connected-overlay-scroll-strategy");let dy=(()=>{class r{constructor(t){this.elementRef=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return r})(),VD=(()=>{class r{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Tn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Tn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Tn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Tn(t)}get push(){return this._push}set push(t){this._push=Tn(t)}constructor(t,i,n,a,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=zr.yU.EMPTY,this._attachSubscription=zr.yU.EMPTY,this._detachSubscription=zr.yU.EMPTY,this._positionSubscription=zr.yU.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new e.bkB,this.positionChange=new e.bkB,this.attach=new e.bkB,this.detach=new e.bkB,this.overlayKeydown=new e.bkB,this.overlayOutsideClick=new e.bkB,this._templatePortal=new VA(i,n),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=HD);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ea(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Em({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(n=>({originX:n.originX,originY:n.originY,overlayX:n.overlayX,overlayY:n.overlayY,offsetX:n.offsetX||this.offsetX,offsetY:n.offsetY||this.offsetY,panelClass:n.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof dy?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Uu(r,o=!1){return(0,al.N)((t,i)=>{let n=0;t.subscribe((0,pl._)(i,a=>{const s=r(a,n++);(s||o)&&i.next(a),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(jc),e.rXU(e.C4Q),e.rXU(e.c1b),e.rXU(Hw),e.rXU(Va,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[e.OA$]})}}return r})();const xm={provide:Hw,deps:[jc],useFactory:function yQ(r){return()=>r.scrollStrategies.reposition()}};let Cd=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[jc,xm],imports:[vd,wd,Nc,Nc]})}}return r})();var gi=ie(9969),op=ie(9030);const $w=new e.nKC("MatError"),eC=new e.nKC("MatPrefix"),iI=new e.nKC("MatSuffix"),my={transitionMessages:(0,gi.hZ)("transitionMessages",[(0,gi.wk)("enter",(0,gi.iF)({opacity:1,transform:"translateY(0%)"})),(0,gi.kY)("void => enter",[(0,gi.iF)({opacity:0,transform:"translateY(-5px)"}),(0,gi.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wd=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r})}}return r})();const Vu=new e.nKC("MatFormField");var Zs=ie(5558),nI=ie(5343);function Ag(r){return(0,h.T)(()=>r)}function _y(r,o){return o?t=>(0,oc.x)(o.pipe((0,Fo.s)(1),function rI(){return(0,al.N)((r,o)=>{r.subscribe((0,pl._)(o,nI.l))})}()),t.pipe(_y(r))):(0,ga.Z)((t,i)=>(0,Yc.Tg)(r(t,i)).pipe((0,Fo.s)(1),Ag(t)))}function dg(r,o=_o.E){const t=(0,Co.O)(r,o);return _y(()=>t)}const oI=["panel"];let by=0;class aI{constructor(o,t){this.source=o,this.option=t}}const lC=sl(class{}),lv=new e.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function cv(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let sI=(()=>{class r extends lC{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=Tn(t)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(t){this._autoSelectActiveOption=Tn(t)}get requireSelection(){return this._requireSelection}set requireSelection(t){this._requireSelection=Tn(t)}set classList(t){this._classList=t&&t.length?ud(t).reduce((i,n)=>(i[n]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(t,i,n,a){super(),this._changeDetectorRef=t,this._elementRef=i,this._defaults=n,this._activeOptionChanges=zr.yU.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.bkB,this.opened=new e.bkB,this.closed=new e.bkB,this.optionActivated=new e.bkB,this._classList={},this.id="mat-autocomplete-"+by++,this.inertGroups=a?.SAFARI||!1,this._autoActiveFirstOption=!!n.autoActiveFirstOption,this._autoSelectActiveOption=!!n.autoSelectActiveOption,this._requireSelection=!!n.requireSelection}ngAfterContentInit(){this._keyManager=new Jf(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new aI(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(t){return t.disabled}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(lv),e.rXU(ea))}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(i,n){if(1&i&&(e.GBs(e.C4Q,7),e.GBs(oI,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.template=a.first),e.mGM(a=e.lsd())&&(n.panel=a.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",requireSelection:"requireSelection",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[e.Vt3]})}}return r})();const ug=new e.nKC("mat-autocomplete-scroll-strategy"),hg={provide:ug,deps:[jc],useFactory:function AI(r){return()=>r.scrollStrategies.reposition()}};let pg=(()=>{class r{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=Tn(t)}constructor(t,i,n,a,s,d,m,I,J,oe,Ce){this._element=t,this._overlay=i,this._viewContainerRef=n,this._zone=a,this._changeDetectorRef=s,this._dir=m,this._formField=I,this._document=J,this._viewportRuler=oe,this._defaults=Ce,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=zr.yU.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new An.B,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,op.v)(()=>{const $e=this.autocomplete?this.autocomplete.options:null;return $e?$e.changes.pipe(ia($e),(0,Zs.n)(()=>(0,Ka.h)(...$e.map(nt=>nt.onSelectionChange)))):this._zone.onStable.pipe((0,Fo.s)(1),(0,Zs.n)(()=>this.optionSelections))}),this._handlePanelKeydown=$e=>{(27===$e.keyCode&&!Ea($e)||38===$e.keyCode&&Ea($e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),$e.stopPropagation(),$e.preventDefault())},this._trackedModal=null,this._scrollStrategy=d}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel(),this._trackedModal&&tt(this._trackedModal,"aria-owns",this.autocomplete.id)}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&wt(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Ka.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,Jr.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,Jr.p)(()=>this._overlayAttached)):(0,lr.of)()).pipe((0,h.T)(t=>t instanceof Ar?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Ka.h)(Ue(this._document,"click"),Ue(this._document,"auxclick"),Ue(this._document,"touchend")).pipe((0,Jr.p)(t=>{const i=nl(t),n=this._formField?this._formField._elementRef.nativeElement:null,a=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!n||!n.contains(i))&&(!a||!a.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,n=Ea(t);if(27===i&&!n&&t.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const a=this.autocomplete._keyManager.activeItem,s=38===i||40===i;9===i||s&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==a)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,n=i.value;"number"===i.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(n),n||this._clearPreviousSelectedOption(null,!1),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe((0,Fo.s)(1)),i=this.autocomplete.options.changes.pipe(jr(()=>this._positionStrategy.reapplyLastPosition()),dg(0));return(0,Ka.h)(t,i).pipe((0,Zs.n)(()=>(this._zone.run(()=>{const n=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?(this._captureValueOnAttach(),this._emitOpened()):this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,Fo.s)(1)).subscribe(n=>this._setValueAndClose(n))}_emitOpened(){this.autocomplete.opened.emit()}_captureValueOnAttach(){this._valueOnAttach=this._element.nativeElement.value}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=this.autocomplete,n=t?t.source:this._pendingAutoselectedOption;n?(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),i._emitSelectEvent(n),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe((0,Fo.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,i){this.autocomplete?.options?.forEach(n=>{n!==t&&n.selected&&n.deselect(i)})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this._captureValueOnAttach(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Em({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,a=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let s;s="above"===this.position?a:"below"===this.position?i:[...i,...a],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let i=-1;for(let n=0;n<t.options.length;n++)if(!t.options.get(n).disabled){i=n;break}t._keyManager.setActiveItem(i)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,n=Sr(t,i.options,i.optionGroups);if(0===t&&1===n)i._setScrollTop(0);else if(i.panel){const a=i.options.toArray()[t];if(a){const s=a._getHostElement(),d=Qr(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(d)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=this.autocomplete.id;this._trackedModal&&wt(this._trackedModal,"aria-owns",i),tt(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(wt(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(jc),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(ug),e.rXU(Va,8),e.rXU(Vu,9),e.rXU(l.qQ,8),e.rXU(xs),e.rXU(lv,8))}}static{this.\u0275dir=e.FsC({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[e.OA$]})}}return r})();function hI(r,o){if(1&r&&(e.j41(0,"div",0,1),e.SdG(2),e.k0s()),2&r){const t=o.id,i=e.XpG();e.Y8G("id",i.id)("ngClass",i._classList),e.BMQ("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const pI=["*"];let Av=(()=>{class r extends sI{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden",this._animationDone=null}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,In,5),e.wni(a,Ur,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.optionGroups=s),e.mGM(s=e.lsd())&&(n.options=s)}},hostAttrs:["ngSkipHydration","",1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[e.Jv_([{provide:bi,useExisting:r}]),e.Vt3],ngContentSelectors:pI,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(i,n){1&i&&(e.NAR(),e.DNE(0,hI,3,4,"ng-template"))},dependencies:[l.YU],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0})}}return r})();const cC={provide:y,useExisting:(0,e.Rfq)(()=>Tm),multi:!0};let Tm=(()=>{class r extends pg{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(i,n){1&i&&e.bIt("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(s){return n._handleInput(s)})("keydown",function(s){return n._handleKeydown(s)})("click",function(){return n._handleClick()}),2&i&&e.BMQ("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-owns",n.autocompleteDisabled||!n.panelOpen||null==n.autocomplete?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[e.Jv_([cC]),e.Vt3]})}}return r})(),fI=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[hg],imports:[Cd,js,Fr,l.MD,QA,js,Fr]})}}return r})();const wy=["mat-button",""],dC=["*"],uC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],mI=Yl(Oc(sl(class{constructor(r){this._elementRef=r}})));let zn=(()=>{class r extends mI{constructor(t,i,n){super(t),this._focusMonitor=i,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of uC)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Cs),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,n){if(1&i&&e.GBs(st,5),2&i){let a;e.mGM(a=e.lsd())&&(n.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,n){2&i&&(e.BMQ("disabled",n.disabled||null),e.AVh("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[e.Vt3],attrs:wy,ngContentSelectors:dC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"span",0),e.SdG(1),e.k0s(),e.nrm(2,"span",1)(3,"span",2)),2&i&&(e.R7$(2),e.AVh("mat-button-ripple-round",n.isRoundButton||n.isIconButton),e.Y8G("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},dependencies:[st],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return r})(),fg=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[yt,Fr,Fr]})}}return r})();function hC(){return(0,al.N)((r,o)=>{let t=null;r._refCount++;const i=(0,pl._)(o,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const n=r._connection,a=t;t=null,n&&(!a||n===a)&&n.unsubscribe(),o.unsubscribe()});r.subscribe(i),i.closed||(t=r.connect())})}class dv extends Ha.c{constructor(o,t){super(),this.source=o,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,al.S)(o)&&(this.lift=o.lift)}_subscribe(o){return this.getSubject().subscribe(o)}getSubject(){const o=this._subject;return(!o||o.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:o}=this;this._subject=this._connection=null,o?.unsubscribe()}connect(){let o=this._connection;if(!o){o=this._connection=new zr.yU;const t=this.getSubject();o.add(this.source.subscribe((0,pl._)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),o.closed&&(this._connection=null,o=zr.yU.EMPTY)}return o}refCount(){return hC()(this)}}var uv=ie(4402);class Kd{}function hv(r){return r&&"function"==typeof r.connect&&!(r instanceof dv)}class Fm{applyChanges(o,t,i,n,a){o.forEachOperation((s,d,m)=>{let I,J;if(null==s.previousIndex){const oe=i(s,d,m);I=t.createEmbeddedView(oe.templateRef,oe.context,oe.index),J=1}else null==m?(t.remove(d),J=3):(I=t.get(d),t.move(I,m),J=2);a&&a({context:I?.context,operation:J,record:s})})}detach(){}}class Xd{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(o=!1,t,i=!0,n){this._multiple=o,this._emitChanges=i,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new An.B,t&&t.length&&(o?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...o){this._verifyValueAssignment(o),o.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...o){this._verifyValueAssignment(o),o.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...o){this._verifyValueAssignment(o);const t=this.selected,i=new Set(o);o.forEach(a=>this._markSelected(a)),t.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(o){return this.isSelected(o)?this.deselect(o):this.select(o)}clear(o=!0){this._unmarkAll();const t=this._hasQueuedChanges();return o&&this._emitChangeEvent(),t}isSelected(o){return this._selection.has(this._getConcreteValue(o))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(o){this._multiple&&this.selected&&this._selected.sort(o)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(o){o=this._getConcreteValue(o),this.isSelected(o)||(this._multiple||this._unmarkAll(),this.isSelected(o)||this._selection.add(o),this._emitChanges&&this._selectedToEmit.push(o))}_unmarkSelected(o){o=this._getConcreteValue(o),this.isSelected(o)&&(this._selection.delete(o),this._emitChanges&&this._deselectedToEmit.push(o))}_unmarkAll(){this.isEmpty()||this._selection.forEach(o=>this._unmarkSelected(o))}_verifyValueAssignment(o){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(o){if(this.compareWith){for(let t of this._selection)if(this.compareWith(o,t))return t;return o}return o}}let pv=(()=>{class r{constructor(){this._listeners=[]}notify(t,i){for(let n of this._listeners)n(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const cf=new e.nKC("_ViewRepeater"),Cy=["button"],Wu=["*"],Ey=new e.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),pC=new e.nKC("MatButtonToggleGroup"),YQ={provide:y,useExisting:(0,e.Rfq)(()=>Sm),multi:!0};let bc=0;class fC{constructor(o,t){this.source=o,this.value=t}}let Sm=(()=>{class r{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=Tn(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Tn(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+bc++,this.valueChange=new e.bkB,this.change=new e.bkB,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new Xd(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new fC(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,n=!1,a=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(t,n)):this._updateModelValue(t,n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(n=>null!=n.value&&n.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(Ey,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,By,5),2&i){let s;e.mGM(s=e.lsd())&&(n._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(i,n){2&i&&(e.BMQ("aria-disabled",n.disabled),e.AVh("mat-button-toggle-vertical",n.vertical)("mat-button-toggle-group-appearance-standard","standard"===n.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[e.Jv_([YQ,{provide:pC,useExisting:r}])]})}}return r})();const vI=sl(class{});let By=(()=>{class r extends vI{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=Tn(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Tn(t)}constructor(t,i,n,a,s,d){super(),this._changeDetectorRef=i,this._elementRef=n,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new e.bkB;const m=Number(s);this.tabIndex=m||0===m?m:null,this.buttonToggleGroup=t,this.appearance=d&&d.appearance?d.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+bc++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new fC(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(pC,8),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(Cs),e.kS0("tabindex"),e.rXU(Ey,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-button-toggle"]],viewQuery:function(i,n){if(1&i&&e.GBs(Cy,5),2&i){let a;e.mGM(a=e.lsd())&&(n._buttonElement=a.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(i,n){1&i&&e.bIt("focus",function(){return n.focus()}),2&i&&(e.BMQ("aria-label",null)("aria-labelledby",null)("id",n.id)("name",null),e.AVh("mat-button-toggle-standalone",!n.buttonToggleGroup)("mat-button-toggle-checked",n.checked)("mat-button-toggle-disabled",n.disabled)("mat-button-toggle-appearance-standard","standard"===n.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[e.Vt3],ngContentSelectors:Wu,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,n){if(1&i&&(e.NAR(),e.j41(0,"button",0,1),e.bIt("click",function(){return n._onButtonClick()}),e.j41(2,"span",2),e.SdG(3),e.k0s()(),e.nrm(4,"span",3)(5,"span",4)),2&i){const a=e.sdS(1);e.Y8G("id",n.buttonId)("disabled",n.disabled||null),e.BMQ("tabindex",n.disabled?-1:n.tabIndex)("aria-pressed",n.checked)("name",n._getButtonName())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),e.R7$(5),e.Y8G("matRippleTrigger",a)("matRippleDisabled",n.disableRipple||n.disabled)}},dependencies:[st],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}}return r})(),fv=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,yt,Fr]})}}return r})(),xy=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,Fr]})}}return r})();const II=["input"],kI=["label"],mC=new e.nKC("mat-checkbox-default-options",{providedIn:"root",factory:Dy});function Dy(){return{color:"accent",clickAction:"check-indeterminate"}}let HQ=0;const SI=Dy(),vC=Xl(Yl(sl(Oc(class{constructor(r){this._elementRef=r}}))));let Iy=(()=>{class r extends vC{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Tn(t)}constructor(t,i,n,a,s,d,m){super(i),this._changeDetectorRef=n,this._ngZone=a,this._animationMode=d,this._options=m,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.bkB,this.indeterminateChange=new e.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||SI,this.color=this.defaultColor=this._options.color||SI.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${t}${++HQ}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=Tn(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=Tn(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=Tn(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,n=this._getAnimationTargetElement();if(i!==t&&n&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(i,n){if(1&i&&(e.GBs(II,5),e.GBs(kI,5),e.GBs(st,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._inputElement=a.first),e.mGM(a=e.lsd())&&(n._labelElement=a.first),e.mGM(a=e.lsd())&&(n.ripple=a.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.Vt3]})}}return r})(),ky=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const yC=function(r){return{enterDuration:r}},bC=["*"];class zo{}const wC={provide:y,useExisting:(0,e.Rfq)(()=>xh),multi:!0};let xh=(()=>{class r extends Iy{constructor(t,i,n,a,s,d,m){super("mat-checkbox-",t,i,a,s,d,m),this._focusMonitor=n,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const i=new zo;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,i){t?this._focusMonitor.focusVia(this._inputElement,t,i):this._inputElement.nativeElement.focus(i)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Cs),e.rXU(e.SKi),e.kS0("tabindex"),e.rXU(e.bc$,8),e.rXU(mC,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(i,n){2&i&&(e.Mr5("id",n.id),e.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),e.AVh("mat-checkbox-indeterminate",n.indeterminate)("mat-checkbox-checked",n.checked)("mat-checkbox-disabled",n.disabled)("mat-checkbox-label-before","before"==n.labelPosition)("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e.Jv_([wC]),e.Vt3],ngContentSelectors:bC,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(i,n){if(1&i&&(e.NAR(),e.j41(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.bIt("change",function(s){return n._onInteractionEvent(s)})("click",function(s){return n._onInputClick(s)}),e.k0s(),e.j41(5,"span",5),e.nrm(6,"span",6),e.k0s(),e.nrm(7,"span",7),e.j41(8,"span",8),e.qSk(),e.j41(9,"svg",9),e.nrm(10,"path",10),e.k0s(),e.joV(),e.nrm(11,"span",11),e.k0s()(),e.j41(12,"span",12,13),e.bIt("cdkObserveContent",function(){return n._onLabelTextChange()}),e.j41(14,"span",14),e.EFF(15,"\xa0"),e.k0s(),e.SdG(16),e.k0s()()),2&i){const a=e.sdS(1),s=e.sdS(13);e.BMQ("for",n.inputId),e.R7$(2),e.AVh("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),e.R7$(1),e.Y8G("id",n.inputId)("required",n.required)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex),e.BMQ("value",n.value)("name",n.name)("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.R7$(2),e.Y8G("matRippleTrigger",a)("matRippleDisabled",n._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",e.eq3(18,yC,"NoopAnimations"===n._animationMode?0:150))}},dependencies:[st,Ba],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return r})(),Af=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[yt,Fr,UA,ky,Fr,ky]})}}return r})();const _v=new e.nKC("mat-chips-default-options");let xC=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Lc,{provide:_v,useValue:{separatorKeyCodes:[13]}}],imports:[Fr]})}}return r})();const DC=["mat-button",""],IC=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],LI=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Sy=["mat-icon-button",""],kC=["*"],TC=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],YI=Yl(Oc(sl(class{constructor(r){this._elementRef=r}})));let FC=(()=>{class r extends YI{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Tn(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._updateRippleDisabled()}constructor(t,i,n,a){super(t),this._platform=i,this._ngZone=n,this._animationMode=a,this._focusMonitor=(0,e.WQX)(Cs),this._rippleLoader=(0,e.WQX)($l),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const d of TC)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(m=>{s.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,features:[e.Vt3]})}}return r})(),SC=(()=>{class r extends FC{constructor(t,i,n,a){super(t,i,n,a)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(ea),e.rXU(e.SKi),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,n){2&i&&(e.BMQ("disabled",n.disabled||null),e.AVh("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[e.Vt3],attrs:DC,ngContentSelectors:LI,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(e.NAR(IC),e.nrm(0,"span",0),e.SdG(1),e.j41(2,"span",1),e.SdG(3,1),e.k0s(),e.SdG(4,2),e.nrm(5,"span",2)(6,"span",3)),2&i&&e.AVh("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return r})(),yv=(()=>{class r extends FC{constructor(t,i,n,a){super(t,i,n,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(ea),e.rXU(e.SKi),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,n){2&i&&(e.BMQ("disabled",n.disabled||null),e.AVh("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[e.Vt3],attrs:Sy,ngContentSelectors:kC,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(e.NAR(),e.nrm(0,"span",0),e.SdG(1),e.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return r})(),cR=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,yt,Fr]})}}return r})();var Zd=ie(983);const Ry=Os({passive:!0});let PC=(()=>{class r{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Zd.w;const i=Ml(t),n=this._monitoredElements.get(i);if(n)return n.subject;const a=new An.B,s="cdk-text-field-autofilled",d=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,Ry),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",d,Ry)}}),a}stopMonitoring(t){const i=Ml(t),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ea),e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Xu=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const LC=new e.nKC("MAT_INPUT_VALUE_ACCESSOR"),Py=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zI=0;const YC=Hd(class{constructor(r,o,t,i){this._defaultErrorStateMatcher=r,this._parentForm=o,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new An.B}});let HI=(()=>{class r extends YC{get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(j.required)??!1}set required(t){this._required=Tn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Dc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Tn(t)}constructor(t,i,n,a,s,d,m,I,J,oe){super(d,a,s,n),this._elementRef=t,this._platform=i,this._autofillMonitor=I,this._formField=oe,this._uid="mat-input-"+zI++,this.focused=!1,this.stateChanges=new An.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(nt=>Dc().has(nt)),this._iOSKeyupListener=nt=>{const Tt=nt.target;!Tt.value&&0===Tt.selectionStart&&0===Tt.selectionEnd&&(Tt.setSelectionRange(1,1),Tt.setSelectionRange(0,0))};const Ce=this._elementRef.nativeElement,$e=Ce.nodeName.toLowerCase();this._inputValueAccessor=m||Ce,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&J.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===$e,this._isTextarea="textarea"===$e,this._isInFormField=!!oe,this._isNativeSelect&&(this.controlType=Ce.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Py.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(ea),e.rXU(Je,10),e.rXU(Vt,8),e.rXU(Pr,8),e.rXU(Lc),e.rXU(LC,10),e.rXU(PC),e.rXU(e.SKi),e.rXU(Vu,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,n){1&i&&e.bIt("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&i&&(e.Mr5("id",n.id)("disabled",n.disabled)("required",n.required),e.BMQ("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),e.AVh("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[e.Jv_([{provide:Wd,useExisting:r}]),e.Vt3,e.OA$]})}}return r})();const Ym=["mat-calendar-body",""];function NC(r,o){if(1&r&&(e.j41(0,"tr",3)(1,"td",4),e.EFF(2),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t.numCols),e.R7$(1),e.SpI(" ",t.label," ")}}function bv(r,o){if(1&r&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t._firstRowOffset),e.R7$(1),e.SpI(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function dR(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",8)(1,"button",9),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d._cellClicked(s,n))})("focus",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d._emitActiveDateChange(s,n))}),e.j41(2,"span",10),e.EFF(3),e.k0s(),e.nrm(4,"span",11),e.k0s()()}if(2&r){const t=o.$implicit,i=o.index,n=e.XpG().index,a=e.XpG();e.xc7("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),e.BMQ("data-mat-row",n)("data-mat-col",i),e.R7$(1),e.AVh("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",a._isActiveCell(n,i))("mat-calendar-body-range-start",a._isRangeStart(t.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",a._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(t.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(t.compareValue,n,i))("mat-calendar-body-comparison-start",a._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",a._isInPreview(t.compareValue)),e.Y8G("ngClass",t.cssClasses)("tabindex",a._isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",a._isSelected(t.compareValue))("aria-current",a.todayValue===t.compareValue?"date":null)("aria-describedby",a._getDescribedby(t.compareValue)),e.R7$(1),e.AVh("mat-calendar-body-selected",a._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",a.todayValue===t.compareValue),e.R7$(1),e.SpI(" ",t.displayValue," ")}}function VI(r,o){if(1&r&&(e.j41(0,"tr",5),e.DNE(1,bv,2,6,"td",6),e.DNE(2,dR,5,48,"td",7),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG();e.R7$(1),e.Y8G("ngIf",0===i&&n._firstRowOffset),e.R7$(1),e.Y8G("ngForOf",t)}}function jC(r,o){if(1&r&&(e.j41(0,"th",5)(1,"span",6),e.EFF(2),e.k0s(),e.j41(3,"span",7),e.EFF(4),e.k0s()()),2&r){const t=o.$implicit;e.R7$(2),e.JRh(t.long),e.R7$(2),e.JRh(t.narrow)}}const Ly=["*"];function JI(r,o){}function WI(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-month-view",5),e.bIt("activeDateChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.activeDate=n)})("_userSelection",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._dateSelected(n))})("dragStarted",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._dragStarted(n))})("dragEnded",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._dragEnded(n))}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function GC(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-year-view",6),e.bIt("activeDateChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.activeDate=n)})("monthSelected",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._monthSelectedInYearView(n))})("selectedChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._goToDateInView(n,"month"))}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function UC(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-multi-year-view",7),e.bIt("activeDateChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.activeDate=n)})("yearSelected",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._yearSelectedInMultiYearView(n))})("selectedChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._goToDateInView(n,"year"))}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Nm(r,o){}const ZI=[[["input","matStartDate",""]],[["input","matEndDate",""]]],jm=["input[matStartDate]","input[matEndDate]"];function $I(r,o){1&r&&(e.j41(0,"div",0),e.SdG(1),e.k0s())}let wv=(()=>{class r{constructor(){this.changes=new An.B,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class Yy{constructor(o,t,i,n,a={},s=o,d){this.value=o,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.cssClasses=a,this.compareValue=s,this.rawValue=d}}let qI=1;const zC=Os({passive:!1,capture:!0}),sp=Os({passive:!0,capture:!0}),Cv=Os({passive:!0});let uf=(()=>{class r{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=(0,e.WQX)(ea),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.bkB,this.previewChange=new e.bkB,this.activeDateChange=new e.bkB,this.dragStarted=new e.bkB,this.dragEnded=new e.bkB,this._didDragSinceMouseDown=!1,this._enterHandler=n=>{if(this._skipNextFocus&&"focus"===n.type)this._skipNextFocus=!1;else if(n.target&&this.isRange){const a=this._getCellFromElement(n.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:n}))}},this._touchmoveHandler=n=>{if(!this.isRange)return;const a=HC(n),s=a?this._getCellFromElement(a):null;a!==n.target&&(this._didDragSinceMouseDown=!0),Ny(n.target)&&n.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:n}))},this._leaveHandler=n=>{null!==this.previewEnd&&this.isRange&&("blur"!==n.type&&(this._didDragSinceMouseDown=!0),n.target&&this._getCellFromElement(n.target)&&(!n.relatedTarget||!this._getCellFromElement(n.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:n})))},this._mousedownHandler=n=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const a=n.target&&this._getCellFromElement(n.target);!a||!this._isInRange(a.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:a.rawValue,event:n})})},this._mouseupHandler=n=>{if(!this.isRange)return;const a=Ny(n.target);a?a.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const s=this._getCellFromElement(a);this.dragEnded.emit({value:s?.rawValue??null,event:n})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:n})})},this._touchendHandler=n=>{const a=HC(n);a&&this._mouseupHandler({target:a})},this._id="mat-calendar-body-"+qI++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const n=t.nativeElement;n.addEventListener("touchmove",this._touchmoveHandler,zC),n.addEventListener("mouseenter",this._enterHandler,sp),n.addEventListener("focus",this._enterHandler,sp),n.addEventListener("mouseleave",this._leaveHandler,sp),n.addEventListener("blur",this._leaveHandler,sp),n.addEventListener("mousedown",this._mousedownHandler,Cv),n.addEventListener("touchstart",this._mousedownHandler,Cv),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:n,numCols:a}=this;(t.rows||i)&&(this._firstRowOffset=n&&n.length&&n[0].length?a-n[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/a+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/a+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,zC),t.removeEventListener("mouseenter",this._enterHandler,sp),t.removeEventListener("focus",this._enterHandler,sp),t.removeEventListener("mouseleave",this._leaveHandler,sp),t.removeEventListener("blur",this._leaveHandler,sp),t.removeEventListener("mousedown",this._mousedownHandler,Cv),t.removeEventListener("touchstart",this._mousedownHandler,Cv),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let n=t*this.numCols+i;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return gg(t,this.startValue,this.endValue)}_isRangeEnd(t){return jy(t,this.startValue,this.endValue)}_isInRange(t){return Gy(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return gg(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let a=this.rows[i][n-1];if(!a){const s=this.rows[i-1];a=s&&s[s.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(t,i,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let a=this.rows[i][n+1];if(!a){const s=this.rows[i+1];a=s&&s[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(t){return jy(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Gy(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return gg(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return jy(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Gy(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const i=Ny(t);if(i){const n=i.getAttribute("data-mat-row"),a=i.getAttribute("data-mat-col");if(n&&a)return this.rows[parseInt(n)][parseInt(a)]}return null}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[e.OA$],attrs:Ym,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,n){1&i&&(e.DNE(0,NC,3,6,"tr",0),e.DNE(1,VI,3,2,"tr",1),e.j41(2,"label",2),e.EFF(3),e.k0s(),e.j41(4,"label",2),e.EFF(5),e.k0s()),2&i&&(e.Y8G("ngIf",n._firstRowOffset<n.labelMinRequiredCells),e.R7$(1),e.Y8G("ngForOf",n.rows),e.R7$(1),e.Y8G("id",n._startDateLabelId),e.R7$(1),e.SpI(" ",n.startDateAccessibleName,"\n"),e.R7$(1),e.Y8G("id",n._endDateLabelId),e.R7$(1),e.SpI(" ",n.endDateAccessibleName,"\n"))},dependencies:[l.YU,l.Sq,l.bT],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}}return r})();function Gm(r){return"TD"===r?.nodeName}function Ny(r){let o;return Gm(r)?o=r:Gm(r.parentNode)?o=r.parentNode:Gm(r.parentNode?.parentNode)&&(o=r.parentNode.parentNode),null!=o?.getAttribute("data-mat-row")?o:null}function gg(r,o,t){return null!==t&&o!==t&&r<t&&r===o}function jy(r,o,t){return null!==o&&o!==t&&r>=o&&r===t}function Gy(r,o,t,i){return i&&null!==o&&null!==t&&o!==t&&r>=o&&r<=t}function HC(r){const o=r.changedTouches[0];return document.elementFromPoint(o.clientX,o.clientY)}class iA{constructor(o,t){this.start=o,this.end=t}}let lp=(()=>{class r{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new An.B,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const n=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),ek=(()=>{class r extends lp{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new r(this._adapter);return t.updateSelection(this.selection,this),t}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(vs))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),tk=(()=>{class r extends lp{constructor(t){super(new iA(null,null),t)}add(t){let{start:i,end:n}=this.selection;null==i?i=t:null==n?n=t:(i=t,n=null),super.updateSelection(new iA(i,n),this)}isValid(){const{start:t,end:i}=this.selection;return null==t&&null==i||(null!=t&&null!=i?this._isValidDateInstance(t)&&this._isValidDateInstance(i)&&this._adapter.compareDate(t,i)<=0:(null==t||this._isValidDateInstance(t))&&(null==i||this._isValidDateInstance(i)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const t=new r(this._adapter);return t.updateSelection(this.selection,this),t}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(vs))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();const JC={provide:lp,deps:[[new e.Xx1,new e.kdw,lp],vs],useFactory:function VC(r,o){return r||new ek(o)}},fR={provide:lp,deps:[[new e.Xx1,new e.kdw,lp],vs],useFactory:function ik(r,o){return r||new tk(o)}},Um=new e.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let WC=(()=>{class r{constructor(t){this._dateAdapter=t}selectionFinished(t,i){let{start:n,end:a}=i;return null==n?n=t:null==a&&t&&this._dateAdapter.compareDate(t,n)>=0?a=t:(n=t,a=null),new iA(n,a)}createPreview(t,i){let n=null,a=null;return i.start&&!i.end&&t&&(n=i.start,a=t),new iA(n,a)}createDrag(t,i,n){let a=i.start,s=i.end;if(!a||!s)return null;const d=this._dateAdapter,m=0!==d.compareDate(a,s),I=d.getYear(n)-d.getYear(t),J=d.getMonth(n)-d.getMonth(t),oe=d.getDate(n)-d.getDate(t);return m&&d.sameDate(t,i.start)?(a=n,d.compareDate(n,s)>0&&(s=d.addCalendarYears(s,I),s=d.addCalendarMonths(s,J),s=d.addCalendarDays(s,oe))):m&&d.sameDate(t,i.end)?(s=n,d.compareDate(n,a)<0&&(a=d.addCalendarYears(a,I),a=d.addCalendarMonths(a,J),a=d.addCalendarDays(a,oe))):(a=d.addCalendarYears(a,I),a=d.addCalendarMonths(a,J),a=d.addCalendarDays(a,oe),s=d.addCalendarYears(s,I),s=d.addCalendarMonths(s,J),s=d.addCalendarDays(s,oe)),new iA(a,s)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(vs))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();const Ev={provide:Um,deps:[[new e.Xx1,new e.kdw,Um],vs],useFactory:function gR(r,o){return r||new WC(o)}};let KC=(()=>{class r{get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof iA?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,n,a,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=n,this._dir=a,this._rangeStrategy=s,this._rerenderSubscription=zr.yU.EMPTY,this.activeDrag=null,this.selectedChange=new e.bkB,this._userSelection=new e.bkB,this.dragStarted=new e.bkB,this.dragEnded=new e.bkB,this.activeDateChange=new e.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ia(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,n=this._getDateFromDayOfMonth(i);let a,s;this._selected instanceof iA?(a=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):a=s=this._getDateInCurrentMonth(this._selected),(a!==i||s!==i)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!Ea(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const n=i?i.rawValue:null,a=this._rangeStrategy.createPreview(n,this.selected,t);if(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this.activeDrag&&n){const s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,t);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let a=this._dateAdapter.getDayOfWeekNames("long").map((s,d)=>({long:s,narrow:i[d]}));this._weekdays=a.slice(t).concat(a.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,a=this._firstWeekOffset;n<t;n++,a++){7==a&&(this._weeks.push([]),a=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),d=this._shouldEnableDate(s),m=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),I=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Yy(n+1,i[n],m,d,I,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),a=this._dateAdapter.getDate(t);return new Date(i,n,a).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof iA?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(vA,8),e.rXU(vs,8),e.rXU(Va,8),e.rXU(Um,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(uf,5),2&i){let a;e.mGM(a=e.lsd())&&(n._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.OA$],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.DNE(3,jC,5,2,"th",2),e.k0s(),e.j41(4,"tr"),e.nrm(5,"th",3),e.k0s()(),e.j41(6,"tbody",4),e.bIt("selectedValueChange",function(s){return n._dateSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("previewChange",function(s){return n._previewChanged(s)})("dragStarted",function(s){return n.dragStarted.emit(s)})("dragEnded",function(s){return n._dragEnded(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),e.k0s()()),2&i&&(e.R7$(3),e.Y8G("ngForOf",n._weekdays),e.R7$(3),e.Y8G("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[l.Sq,uf],encapsulation:2,changeDetection:0})}}return r})();const RA=24;let mu=(()=>{class r{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),mg(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof iA?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,n){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=n,this._rerenderSubscription=zr.yU.EMPTY,this.selectedChange=new e.bkB,this.yearSelected=new e.bkB,this.activeDateChange=new e.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ia(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-cc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,a=[];n<RA;n++)a.push(i+n),4==a.length&&(this._years.push(a.map(s=>this._createCellForYear(s))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,n=this._dateAdapter.createDate(i,0,1),a=this._getDateFromYear(i);this.yearSelected.emit(n),this.selectedChange.emit(a)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-cc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,RA-cc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-RA:-RA);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*RA:RA);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return cc(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(i),a=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Yy(t,n,n,this._shouldEnableYear(t),a)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof iA){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(vs,8),e.rXU(Va,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(uf,5),2&i){let a;e.mGM(a=e.lsd())&&(n._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(s){return n._yearSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[uf],encapsulation:2,changeDetection:0})}}return r})();function mg(r,o,t,i,n){const a=r.getYear(o),s=r.getYear(t),d=cp(r,i,n);return Math.floor((a-d)/RA)===Math.floor((s-d)/RA)}function cc(r,o,t,i){return function Bv(r,o){return(r%o+o)%o}(r.getYear(o)-cp(r,t,i),RA)}function cp(r,o,t){let i=0;return t?i=r.getYear(t)-RA+1:o&&(i=r.getYear(o)),i}let Bd=(()=>{class r{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof iA?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,n,a){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=n,this._dir=a,this._rerenderSubscription=zr.yU.EMPTY,this.selectedChange=new e.bkB,this.monthSelected=new e.bkB,this.activeDateChange=new e.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ia(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(n);const a=this._getDateFromMonth(i);this.selectedChange.emit(a)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(n=>this._createCellForMonth(n,t[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),n=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(t,i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(n,"year"):void 0;return new Yy(t,i.toLocaleUpperCase(),a,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&i>a}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&i<a}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof iA?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(vA,8),e.rXU(vs,8),e.rXU(Va,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(uf,5),2&i){let a;e.mGM(a=e.lsd())&&(n._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(s){return n._monthSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[uf],encapsulation:2,changeDetection:0})}}return r})(),Hy=1,vg=(()=>{class r{constructor(t,i,n,a,s){this._intl=t,this.calendar=i,this._dateAdapter=n,this._dateFormats=a,this._id="mat-calendar-header-"+Hy++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-RA)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:RA)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):mg(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-cc(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=i+RA-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1))]}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(wv),e.rXU((0,e.Rfq)(()=>Ap)),e.rXU(vs,8),e.rXU(vA,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Ly,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return n.currentPeriodClicked()}),e.j41(3,"span",3),e.EFF(4),e.k0s(),e.qSk(),e.j41(5,"svg",4),e.nrm(6,"polygon",5),e.k0s()(),e.joV(),e.nrm(7,"div",6),e.SdG(8),e.j41(9,"button",7),e.bIt("click",function(){return n.previousClicked()}),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){return n.nextClicked()}),e.k0s()()(),e.j41(11,"label",9),e.EFF(12),e.k0s()),2&i&&(e.R7$(2),e.BMQ("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),e.R7$(2),e.JRh(n.periodButtonText),e.R7$(1),e.AVh("mat-calendar-invert","month"!==n.calendar.currentView),e.R7$(4),e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(1),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel),e.R7$(1),e.Y8G("id",n._periodButtonLabelId),e.R7$(1),e.JRh(n.periodButtonDescription))},dependencies:[SC,yv],encapsulation:2,changeDetection:0})}}return r})(),Ap=(()=>{class r{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof iA?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,n,a){this._dateAdapter=i,this._dateFormats=n,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.bkB,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.viewChanged=new e.bkB(!0),this._userSelection=new e.bkB,this._userDragDrop=new e.bkB,this._activeDrag=null,this.stateChanges=new An.B,this._intlChanges=t.changes.subscribe(()=>{a.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Vd(this.headerComponent||vg),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,n=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,a=i||n||t.dateFilter;if(a&&!a.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof iA||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(wv),e.rXU(vs,8),e.rXU(vA,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-calendar"]],viewQuery:function(i,n){if(1&i&&(e.GBs(KC,5),e.GBs(Bd,5),e.GBs(mu,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.monthView=a.first),e.mGM(a=e.lsd())&&(n.yearView=a.first),e.mGM(a=e.lsd())&&(n.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[e.Jv_([JC]),e.OA$],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,n){1&i&&(e.DNE(0,JI,0,0,"ng-template",0),e.j41(1,"div",1),e.DNE(2,WI,1,11,"mat-month-view",2),e.DNE(3,GC,1,6,"mat-year-view",3),e.DNE(4,UC,1,6,"mat-multi-year-view",4),e.k0s()),2&i&&(e.Y8G("cdkPortalOutlet",n._calendarHeaderPortal),e.R7$(1),e.Y8G("ngSwitch",n.currentView),e.R7$(1),e.Y8G("ngSwitchCase","month"),e.R7$(1),e.Y8G("ngSwitchCase","year"),e.R7$(1),e.Y8G("ngSwitchCase","multi-year"))},dependencies:[l.ux,l.e1,Ud,yc,KC,Bd,mu],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}}return r})();const hf={transformPanel:(0,gi.hZ)("transformPanel",[(0,gi.kY)("void => enter-dropdown",(0,gi.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,gi.i7)([(0,gi.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,gi.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,gi.kY)("void => enter-dialog",(0,gi.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,gi.i7)([(0,gi.iF)({opacity:0,transform:"scale(0.7)"}),(0,gi.iF)({transform:"none",opacity:1})]))),(0,gi.kY)("* => void",(0,gi.i0)("100ms linear",(0,gi.iF)({opacity:0})))]),fadeInCalendar:(0,gi.hZ)("fadeInCalendar",[(0,gi.wk)("void",(0,gi.iF)({opacity:0})),(0,gi.wk)("enter",(0,gi.iF)({opacity:1})),(0,gi.kY)("void => *",(0,gi.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let _g=0;const pf=new e.nKC("mat-datepicker-scroll-strategy"),bg={provide:pf,deps:[jc],useFactory:function yg(r){return()=>r.scrollStrategies.reposition()}},wg=Yl(class{constructor(r){this._elementRef=r}});let Cg=(()=>{class r extends wg{constructor(t,i,n,a,s,d){super(t),this._changeDetectorRef=i,this._globalModel=n,this._dateAdapter=a,this._rangeSelectionStrategy=s,this._subscriptions=new zr.yU,this._animationDone=new An.B,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,n=t.value,a=i instanceof iA;if(a&&this._rangeSelectionStrategy){const s=this._rangeSelectionStrategy.selectionFinished(n,i,t.event);this._model.updateSelection(s,this)}else n&&(a||!this._dateAdapter.sameDate(n,i))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(lp),e.rXU(vs),e.rXU(Um,8),e.rXU(wv))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ap,5),2&i){let a;e.mGM(a=e.lsd())&&(n._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,n){1&i&&e.Kam("@transformPanel.start",function(s){return n._handleAnimationEvent(s)})("@transformPanel.done",function(s){return n._handleAnimationEvent(s)}),2&i&&(e.zvX("@transformPanel",n._animationState),e.AVh("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[e.Vt3],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"mat-calendar",1),e.bIt("yearSelected",function(s){return n.datepicker._selectYear(s)})("monthSelected",function(s){return n.datepicker._selectMonth(s)})("viewChanged",function(s){return n.datepicker._viewChanged(s)})("_userSelection",function(s){return n._handleUserSelection(s)})("_userDragDrop",function(s){return n._handleUserDragDrop(s)}),e.k0s(),e.DNE(2,Nm,0,0,"ng-template",2),e.j41(3,"button",3),e.bIt("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),e.EFF(4),e.k0s()()),2&i){let a;e.AVh("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),e.BMQ("aria-modal",!0)("aria-labelledby",null!==(a=n._dialogLabelId)&&void 0!==a?a:void 0),e.R7$(1),e.Y8G("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),e.R7$(1),e.Y8G("cdkPortalOutlet",n._actionsPortal),e.R7$(1),e.AVh("cdk-visually-hidden",!n._closeButtonFocused),e.Y8G("color",n.color||"primary"),e.R7$(1),e.JRh(n._closeButtonText)}},dependencies:[l.YU,SC,K0,yc,Ap],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[hf.transformPanel,hf.fadeInCalendar]},changeDetection:0})}}return r})(),Eg=(()=>{class r{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Tn(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=Tn(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=Tn(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=ud(t)}get opened(){return this._opened}set opened(t){Tn(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,n,a,s,d,m){this._overlay=t,this._ngZone=i,this._viewContainerRef=n,this._dateAdapter=s,this._dir=d,this._model=m,this._inputStateChanges=zr.yU.EMPTY,this._document=(0,e.WQX)(l.qQ),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.viewChanged=new e.bkB(!0),this.openedStream=new e.bkB,this.closedStream=new e.bkB,this._opened=!1,this.id="mat-datepicker-"+_g++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new An.B,this._scrollStrategy=a}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const n=this._overlayRef.getConfig().positionStrategy;n instanceof Mm&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Ql(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:n,location:a}=this._componentRef;n._startExitAnimation(),n._animationDone.pipe((0,Fo.s)(1)).subscribe(()=>{const s=this._document.activeElement;t&&(!s||s===this._document.activeElement||a.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new Vd(Cg,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new Em({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(n).subscribe(a=>{a&&a.preventDefault(),this.close()}),n.keydownEvents().subscribe(a=>{const s=a.keyCode;(38===s||40===s||37===s||39===s||33===s||34===s)&&a.preventDefault()}),this._componentRef=n.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(()=>n.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",n="start"===i?"end":"start",a="above"===this.yPosition?"bottom":"top",s="top"===a?"bottom":"top";return t.withPositions([{originX:i,originY:s,overlayX:i,overlayY:a},{originX:i,originY:a,overlayX:i,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:a},{originX:n,originY:a,overlayX:n,overlayY:s}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return(0,Ka.h)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Jr.p)(n=>27===n.keyCode&&!Ea(n)||this.datepickerInput&&Ea(n,"altKey")&&38===n.keyCode&&i.every(a=>!Ea(n,a)))))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(jc),e.rXU(e.SKi),e.rXU(e.c1b),e.rXU(pf),e.rXU(vs,8),e.rXU(Va,8),e.rXU(lp))}}static{this.\u0275dir=e.FsC({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.OA$]})}}return r})();class zm{constructor(o,t){this.target=o,this.targetElement=t,this.value=this.target.value}}let Vy=(()=>{class r{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=Tn(t),n=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const n=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new zm(this,this._elementRef.nativeElement)),this.dateChange.emit(new zm(this,this._elementRef.nativeElement))}})}constructor(t,i,n){this._elementRef=t,this._dateAdapter=i,this._dateFormats=n,this.dateChange=new e.bkB,this.dateInput=new e.bkB,this.stateChanges=new An.B,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=zr.yU.EMPTY,this._localeSubscription=zr.yU.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=a=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=a=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),d=this._getMinDate();return!d||!s||this._dateAdapter.compareDate(d,s)<=0?null:{matDatepickerMin:{min:d,actual:s}}},this._maxValidator=a=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),d=this._getMaxDate();return!d||!s||this._dateAdapter.compareDate(d,s)>=0?null:{matDatepickerMax:{max:d,actual:s}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){Jy(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){Ea(t,"altKey")&&40===t.keyCode&&["ctrlKey","shiftKey","metaKey"].every(a=>!Ea(t,a))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);const a=!this._dateAdapter.sameDate(n,this.value);!n||a?this._cvaOnChange(n):(t&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(n),this.dateInput.emit(new zm(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new zm(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(vs,8),e.rXU(vA,8))}}static{this.\u0275dir=e.FsC({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.OA$]})}}return r})();function Jy(r,o){const t=Object.keys(r);for(let i of t){const{previousValue:n,currentValue:a}=r[i];if(!o.isDateInstance(n)||!o.isDateInstance(a))return!0;if(!o.sameDate(n,a))return!0}return!1}function ok(r){return Ky(r,!0)}function ak(r){return r.nodeType===Node.ELEMENT_NODE}function Ky(r,o){if(ak(r)&&o){const i=(r.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((n,a)=>{const s=document.getElementById(a);return s&&n.push(s),n},[]);if(i.length)return i.map(n=>Ky(n,!1)).join(" ")}if(ak(r)){const t=r.getAttribute("aria-label")?.trim();if(t)return t}if(function mR(r){return"INPUT"===r.nodeName}(r)||function sk(r){return"TEXTAREA"===r.nodeName}(r)){if(r.labels?.length)return Array.from(r.labels).map(n=>Ky(n,!1)).join(" ");const t=r.getAttribute("placeholder")?.trim();if(t)return t;const i=r.getAttribute("title")?.trim();if(i)return i}return(r.textContent||"").replace(/\s+/g," ").trim()}const Xy=new e.nKC("MAT_DATE_RANGE_INPUT_PARENT"),lk=Hd((()=>{class r extends Vy{constructor(t,i,n,a,s,d,m,I){super(i,m,I),this._rangeInput=t,this._elementRef=i,this._defaultErrorStateMatcher=n,this._injector=a,this._parentForm=s,this._parentFormGroup=d,this._dir=(0,e.WQX)(Va,{optional:!0})}ngOnInit(){const t=this._injector.get(Je,null,{optional:!0,self:!0});t&&(this.ngControl=t)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const t=this._elementRef.nativeElement,i=t.value;return i.length>0?i:t.placeholder}_onInput(t){super._onInput(t),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:t}){return t!==this._rangeInput._startInput&&t!==this._rangeInput._endInput}_assignValueProgrammatically(t){super._assignValueProgrammatically(t),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return ok(this._elementRef.nativeElement)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Xy),e.rXU(e.aKT),e.rXU(Lc),e.rXU(e.zZn),e.rXU(Vt,8),e.rXU(Pr,8),e.rXU(vs,8),e.rXU(vA,8))}}static{this.\u0275dir=e.FsC({type:r,features:[e.Vt3]})}}return r})());let qC=(()=>{class r extends lk{constructor(t,i,n,a,s,d,m,I){super(t,i,n,a,s,d,m,I),this._startValidator=J=>{const oe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J.value)),Ce=this._model?this._model.selection.end:null;return!oe||!Ce||this._dateAdapter.compareDate(oe,Ce)<=0?null:{matStartDateInvalid:{end:Ce,actual:oe}}},this._validator=j.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(t){return t.start}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.start?t.selection.start&&!this._dateAdapter.compareDate(t.oldValue.start,t.selection.start):!t.selection.start))}_assignValueToModel(t){if(this._model){const i=new iA(t,this._model.selection.end);this._model.updateSelection(i,this)}}_formatValue(t){super._formatValue(t),this._rangeInput._handleChildValueChange()}_onKeydown(t){const i=this._rangeInput._endInput,n=this._elementRef.nativeElement,a="rtl"!==this._dir?.value;(39===t.keyCode&&a||37===t.keyCode&&!a)&&n.selectionStart===n.value.length&&n.selectionEnd===n.value.length?(t.preventDefault(),i._elementRef.nativeElement.setSelectionRange(0,0),i.focus()):super._onKeydown(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Xy),e.rXU(e.aKT),e.rXU(Lc),e.rXU(e.zZn),e.rXU(Vt,8),e.rXU(Pr,8),e.rXU(vs,8),e.rXU(vA,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("input",function(s){return n._onInput(s.target.value)})("change",function(){return n._onChange()})("keydown",function(s){return n._onKeydown(s)})("blur",function(){return n._onBlur()}),2&i&&(e.Mr5("disabled",n.disabled),e.BMQ("aria-haspopup",n._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==n._rangeInput.rangePicker?null:n._rangeInput.rangePicker.opened)&&n._rangeInput.rangePicker.id||null)("min",n._getMinDate()?n._dateAdapter.toIso8601(n._getMinDate()):null)("max",n._getMaxDate()?n._dateAdapter.toIso8601(n._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.Jv_([{provide:y,useExisting:r,multi:!0},{provide:Q,useExisting:r,multi:!0}]),e.Vt3]})}}return r})(),eE=(()=>{class r extends lk{constructor(t,i,n,a,s,d,m,I){super(t,i,n,a,s,d,m,I),this._endValidator=J=>{const oe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(J.value)),Ce=this._model?this._model.selection.start:null;return!oe||!Ce||this._dateAdapter.compareDate(oe,Ce)>=0?null:{matEndDateInvalid:{start:Ce,actual:oe}}},this._validator=j.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(t){return t.end}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.end?t.selection.end&&!this._dateAdapter.compareDate(t.oldValue.end,t.selection.end):!t.selection.end))}_assignValueToModel(t){if(this._model){const i=new iA(this._model.selection.start,t);this._model.updateSelection(i,this)}}_onKeydown(t){const i=this._rangeInput._startInput,n=this._elementRef.nativeElement,a="rtl"!==this._dir?.value;if(8!==t.keyCode||n.value)if((37===t.keyCode&&a||39===t.keyCode&&!a)&&0===n.selectionStart&&0===n.selectionEnd){t.preventDefault();const s=i._elementRef.nativeElement.value.length;i._elementRef.nativeElement.setSelectionRange(s,s),i.focus()}else super._onKeydown(t);else i.focus()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Xy),e.rXU(e.aKT),e.rXU(Lc),e.rXU(e.zZn),e.rXU(Vt,8),e.rXU(Pr,8),e.rXU(vs,8),e.rXU(vA,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("input",function(s){return n._onInput(s.target.value)})("change",function(){return n._onChange()})("keydown",function(s){return n._onKeydown(s)})("blur",function(){return n._onBlur()}),2&i&&(e.Mr5("disabled",n.disabled),e.BMQ("aria-haspopup",n._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==n._rangeInput.rangePicker?null:n._rangeInput.rangePicker.opened)&&n._rangeInput.rangePicker.id||null)("min",n._getMinDate()?n._dateAdapter.toIso8601(n._getMinDate()):null)("max",n._getMaxDate()?n._dateAdapter.toIso8601(n._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.Jv_([{provide:y,useExisting:r,multi:!0},{provide:Q,useExisting:r,multi:!0}]),e.Vt3]})}}return r})(),ck=0,Zy=(()=>{class r{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const t=this._startInput?._getPlaceholder()||"",i=this._endInput?._getPlaceholder()||"";return t||i?`${t} ${this.separator} ${i}`:""}get rangePicker(){return this._rangePicker}set rangePicker(t){t&&(this._model=t.registerInput(this),this._rangePicker=t,this._closedSubscription.unsubscribe(),this._closedSubscription=t.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(t){this._required=Tn(t)}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._startInput,n=this._endInput,a=i&&i._matchesFilter(i.value),s=n&&n._matchesFilter(i.value);this._dateFilter=t,i&&i._matchesFilter(i.value)!==a&&i._validatorOnChange(),n&&n._matchesFilter(n.value)!==s&&n._validatorOnChange()}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(t){const i=Tn(t);i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const t=!!this._startInput&&this._startInput.isEmpty(),i=!!this._endInput&&this._endInput.isEmpty();return t&&i}constructor(t,i,n,a,s){this._changeDetectorRef=t,this._elementRef=i,this._dateAdapter=a,this._formField=s,this._closedSubscription=zr.yU.EMPTY,this.id="mat-date-range-input-"+ck++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new An.B,s?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&i.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=n}setDescribedByIds(t){this._ariaDescribedBy=t.length?t.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,Ka.h)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(t){Jy(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(t){const i="start"===t?this._startInput:this._endInput;return i?i.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const t=this._formField;return t&&t._hasFloatingLabel()?t._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(t){this.focused=null!==t,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(t){this._startInput&&this._startInput._registerModel(t),this._endInput&&this._endInput._registerModel(t)}_isTargetRequired(t){return t?.ngControl?.control?.hasValidator(j.required)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(ze,10),e.rXU(vs,8),e.rXU(Vu,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-date-range-input"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,qC,5),e.wni(a,eE,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._startInput=s.first),e.mGM(s=e.lsd())&&(n._endInput=s.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(i,n){2&i&&(e.BMQ("id",n.id)("aria-labelledby",n._getAriaLabelledby())("aria-describedby",n._ariaDescribedBy)("data-mat-calendar",n.rangePicker?n.rangePicker.id:null),e.AVh("mat-date-range-input-hide-placeholders",n._shouldHidePlaceholders())("mat-date-range-input-required",n.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[e.Jv_([{provide:Wd,useExisting:r},{provide:Xy,useExisting:r}]),e.OA$],ngContentSelectors:jm,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(i,n){1&i&&(e.NAR(ZI),e.j41(0,"div",0),e.bIt("cdkFocusChange",function(s){return n._updateFocus(s)}),e.j41(1,"div",1),e.SdG(2),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.j41(5,"span",3),e.EFF(6),e.k0s(),e.j41(7,"div",4),e.SdG(8,1),e.j41(9,"span",2),e.EFF(10),e.k0s()()()),2&i&&(e.R7$(4),e.JRh(n._getInputMirrorValue("start")),e.R7$(1),e.AVh("mat-date-range-input-separator-hidden",n._shouldHideSeparator()),e.R7$(1),e.JRh(n.separator),e.R7$(4),e.JRh(n._getInputMirrorValue("end")))},dependencies:[Ud],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color)}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0})}}return r})(),Hm=(()=>{class r extends Eg{_forwardContentValues(t){super._forwardContentValues(t);const i=this.datepickerInput;i&&(t.comparisonStart=i.comparisonStart,t.comparisonEnd=i.comparisonEnd,t.startDateAccessibleName=i._getStartDateAccessibleName(),t.endDateAccessibleName=i._getEndDateAccessibleName())}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[e.Jv_([fR,Ev,{provide:Eg,useExisting:r}]),e.Vt3],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}}return r})(),$y=(()=>{class r{constructor(t){this._datepicker=t}_applySelection(){this._datepicker._applyPendingSelection(),this._datepicker.close()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Eg))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matDatepickerApply",""],["","matDateRangePickerApply",""]],hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._applySelection()})}})}}return r})(),Mv=(()=>{class r{constructor(t){this._datepicker=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Eg))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matDatepickerCancel",""],["","matDateRangePickerCancel",""]],hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._datepicker.close()})}})}}return r})(),tE=(()=>{class r{constructor(t,i){this._datepicker=t,this._viewContainerRef=i}ngAfterViewInit(){this._portal=new VA(this._template,this._viewContainerRef),this._datepicker.registerActions(this._portal)}ngOnDestroy(){this._datepicker.removeActions(this._portal),this._portal&&this._portal.isAttached&&this._portal?.detach()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Eg),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-datepicker-actions"],["mat-date-range-picker-actions"]],viewQuery:function(i,n){if(1&i&&e.GBs(e.C4Q,5),2&i){let a;e.mGM(a=e.lsd())&&(n._template=a.first)}},ngContentSelectors:Ly,decls:1,vars:0,consts:[[1,"mat-datepicker-actions"]],template:function(i,n){1&i&&(e.NAR(),e.DNE(0,$I,2,0,"ng-template"))},styles:[".mat-datepicker-actions{display:flex;justify-content:flex-end;align-items:center;padding:0 8px 8px 8px}.mat-datepicker-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return r})(),Bg=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[wv,bg],imports:[l.MD,cR,Cd,bh,wd,Fr,QA]})}}return r})();function iE(r,o){}class xv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let nE=(()=>{class r extends Bh{constructor(t,i,n,a,s,d,m,I){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=s,this._ngZone=d,this._overlayRef=m,this._focusMonitor=I,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=J=>{this._portalOutlet.hasAttached();const oe=this._portalOutlet.attachDomPortal(J);return this._contentAttached(),oe},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{t.removeEventListener("blur",n),t.removeEventListener("mousedown",n),t.removeAttribute("tabindex")};t.addEventListener("blur",n),t.addEventListener("mousedown",n)})),t.focus(i)}_focusByCssSelector(t,i){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const n=Ql(),a=this._elementRef.nativeElement;(!n||n===this._document.body||n===a||a.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Ql();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ql())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(fA),e.rXU(l.qQ,8),e.rXU(xv),e.rXU(hu),e.rXU(e.SKi),e.rXU(Bm),e.rXU(Cs))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(i,n){if(1&i&&e.GBs(yc,7),2&i){let a;e.mGM(a=e.lsd())&&(n._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,n){2&i&&e.BMQ("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[e.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){1&i&&e.DNE(0,iE,0,0,"ng-template",0)},dependencies:[yc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return r})();class qy{constructor(o,t){this.overlayRef=o,this.config=t,this.closed=new An.B,this.disableClose=t.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ea(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=o.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(o,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(o),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",t=""){return this.overlayRef.updateSize({width:o,height:t}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}}const rE=new e.nKC("DialogScrollStrategy"),Ak=new e.nKC("DialogData"),eb=new e.nKC("DefaultDialogConfig"),kv={provide:rE,deps:[jc],useFactory:function Iv(r){return()=>r.scrollStrategies.block()}};let _R=0,oE=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,n,a,s,d){this._overlay=t,this._injector=i,this._defaultOptions=n,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new An.B,this._afterOpenedAtThisLevel=new An.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,op.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ia(void 0))),this._scrollStrategy=d}open(t,i){(i={...this._defaultOptions||new xv,...i}).id=i.id||"cdk-dialog-"+_R++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),s=this._overlay.create(a),d=new qy(s,i),m=this._attachContainer(s,d,i);return d.containerInstance=m,this._attachDialogContent(t,d,m,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){tb(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){tb(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),tb(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Em({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,n){const a=n.injector||n.viewContainerRef?.injector,s=[{provide:xv,useValue:n},{provide:qy,useValue:i},{provide:Bm,useValue:t}];let d;n.container?"function"==typeof n.container?d=n.container:(d=n.container.type,s.push(...n.container.providers(n))):d=nE;const m=new Vd(d,n.viewContainerRef,e.zZn.create({parent:a||this._injector,providers:s}),n.componentFactoryResolver);return t.attach(m).instance}_attachDialogContent(t,i,n,a){if(t instanceof e.C4Q){const s=this._createInjector(a,i,n,void 0);let d={$implicit:a.data,dialogRef:i};a.templateContext&&(d={...d,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),n.attachTemplatePortal(new VA(t,null,d,s))}else{const s=this._createInjector(a,i,n,this._injector),d=n.attachComponentPortal(new Vd(t,a.viewContainerRef,s,a.componentFactoryResolver));i.componentRef=d,i.componentInstance=d.instance}}_createInjector(t,i,n,a){const s=t.injector||t.viewContainerRef?.injector,d=[{provide:Ak,useValue:t.data},{provide:qy,useValue:i}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(i,t,n)):d.push(...t.providers)),t.direction&&(!s||!s.get(Va,null,{optional:!0}))&&d.push({provide:Va,useValue:{value:t.direction,change:(0,lr.of)()}}),e.zZn.create({parent:s||a,providers:d})}_removeOpenDialog(t,i){const n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,s)=>{a?s.setAttribute("aria-hidden",a):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let n=i.length-1;n>-1;n--){const a=i[n];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(jc),e.KVO(e.zZn),e.KVO(eb,8),e.KVO(r,12),e.KVO(rv),e.KVO(rE))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();function tb(r,o){let t=r.length;for(;t--;)o(r[t])}let ib=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[oE,kv],imports:[Cd,wd,bh,wd]})}}return r})();class Vm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let pk=(()=>{class r extends nE{constructor(t,i,n,a,s,d,m,I){super(t,i,n,a,s,d,m,I),this._animationStateChanged=new e.bkB}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(fA),e.rXU(l.qQ,8),e.rXU(Vm),e.rXU(hu),e.rXU(e.SKi),e.rXU(Bm),e.rXU(Cs))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],features:[e.Vt3],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return r})();class nb{constructor(o,t,i){this._ref=o,this._containerInstance=i,this._afterOpened=new An.B,this._beforeClosed=new An.B,this._state=0,this.disableClose=t.disableClose,this.id=o.id,i._animationStateChanged.pipe((0,Jr.p)(n=>"opened"===n.state),(0,Fo.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,Jr.p)(n=>"closed"===n.state),(0,Fo.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ka.h)(this.backdropClick(),this.keydownEvents().pipe((0,Jr.p)(n=>27===n.keyCode&&!this.disableClose&&!Ea(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),Tv(this,"keydown"===n.type?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe((0,Jr.p)(t=>"closing"===t.state),(0,Fo.s)(1)).subscribe(t=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let t=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?t.left(o.left):t.right(o.right):t.centerHorizontally(),o&&(o.top||o.bottom)?o.top?t.top(o.top):t.bottom(o.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",t=""){return this._ref.updateSize(o,t),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Tv(r,o,t){return r._closeInteractionType=o,r.close(t)}let mk=0,vk=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,n,a,s,d,m,I,J,oe){this._overlay=t,this._defaultOptions=n,this._parentDialog=a,this._dialogRefConstructor=m,this._dialogContainerType=I,this._dialogDataToken=J,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new An.B,this._afterOpenedAtThisLevel=new An.B,this._idPrefix="mat-dialog-",this.dialogConfigClass=Vm,this.afterAllClosed=(0,op.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ia(void 0))),this._scrollStrategy=d,this._dialog=i.get(oE)}open(t,i){let n;(i={...this._defaultOptions||new Vm,...i}).id=i.id||`${this._idPrefix}${mk++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:xv,useValue:i}]},templateContext:()=>({dialogRef:n}),providers:(s,d,m)=>(n=new this._dialogRefConstructor(s,i,m),n.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:n}])});return n.componentRef=a.componentRef,n.componentInstance=a.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();const Jm={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},lb={dialogContainer:(0,gi.hZ)("dialogContainer",[(0,gi.wk)("void, exit",(0,gi.iF)({opacity:0,transform:"scale(0.7)"})),(0,gi.wk)("enter",(0,gi.iF)({transform:"none"})),(0,gi.kY)("* => enter",(0,gi.Os)([(0,gi.i0)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,gi.iF)({transform:"none",opacity:1})),(0,gi.P)("@*",(0,gi.MA)(),{optional:!0})]),Jm),(0,gi.kY)("* => void, * => exit",(0,gi.Os)([(0,gi.i0)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,gi.iF)({opacity:0})),(0,gi.P)("@*",(0,gi.MA)(),{optional:!0})]),Jm)])};function cb(r,o){}const lE_params_enterAnimationDuration="150ms",lE_params_exitAnimationDuration="75ms";class Ab extends Vm{constructor(){super(...arguments),this.enterAnimationDuration=Jm.params.enterAnimationDuration,this.exitAnimationDuration=Jm.params.exitAnimationDuration}}let db=(()=>{class r extends pk{_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}constructor(t,i,n,a,s,d,m,I,J){super(t,i,n,a,s,d,m,J),this._changeDetectorRef=I,this._state="enter"}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||lE_params_enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||lE_params_exitAnimationDuration}}}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(fA),e.rXU(l.qQ,8),e.rXU(Ab),e.rXU(hu),e.rXU(e.SKi),e.rXU(Bm),e.rXU(e.gRc),e.rXU(Cs))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(i,n){1&i&&e.Kam("@dialogContainer.start",function(s){return n._onAnimationStart(s)})("@dialogContainer.done",function(s){return n._onAnimationDone(s)}),2&i&&(e.Mr5("id",n._config.id),e.BMQ("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),e.zvX("@dialogContainer",n._getAnimationState()))},features:[e.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){1&i&&e.DNE(0,cb,0,0,"ng-template",0)},dependencies:[yc],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[lb.dialogContainer]}})}}return r})();class yr extends nb{}const Gr=new e.nKC("MatDialogData"),bk=new e.nKC("mat-dialog-default-options"),ub=new e.nKC("mat-dialog-scroll-strategy"),hb={provide:ub,deps:[jc],useFactory:function cE(r){return()=>r.scrollStrategies.block()}};let Qo=(()=>{class r extends vk{constructor(t,i,n,a,s,d,m,I){super(t,i,a,d,m,s,yr,db,Gr,I),this.dialogConfigClass=Ab}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(jc),e.KVO(e.zZn),e.KVO(l.aZ,8),e.KVO(bk,8),e.KVO(ub),e.KVO(r,12),e.KVO(rv),e.KVO(e.bc$,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),pb=0,nA=(()=>{class r{constructor(t,i,n){this.dialogRef=t,this._elementRef=i,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=fb(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){Tv(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(yr,8),e.rXU(e.aKT),e.rXU(Qo))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,n){1&i&&e.bIt("click",function(s){return n._onButtonClick(s)}),2&i&&e.BMQ("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[e.OA$]})}}return r})(),Or=(()=>{class r{constructor(t,i,n){this._dialogRef=t,this._elementRef=i,this._dialog=n,this.id="mat-dialog-title-"+pb++}ngOnInit(){this._dialogRef||(this._dialogRef=fb(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(yr,8),e.rXU(e.aKT),e.rXU(Qo))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(i,n){2&i&&e.Mr5("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}}return r})(),eo=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]})}}return r})(),Rr=(()=>{class r{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mat-dialog-actions-align-center","center"===n.align)("mat-dialog-actions-align-end","end"===n.align)},inputs:{align:"align"}})}}return r})();function fb(r,o){let t=r.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?o.find(i=>i.id===t.id):null}let gb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Qo,hb],imports:[ib,Cd,wd,Fr,Fr]})}}return r})(),AE=0;const Mg=new e.nKC("CdkAccordion");let dp=(()=>{class r{constructor(){this._stateChanges=new An.B,this._openCloseAllActions=new An.B,this.id="cdk-accordion-"+AE++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Tn(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e.Jv_([{provide:Mg,useExisting:r}]),e.OA$]})}}return r})(),wk=0,Ck=(()=>{class r{get expanded(){return this._expanded}set expanded(t){t=Tn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t)}constructor(t,i,n){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=n,this._openCloseAllSubscription=zr.yU.EMPTY,this.closed=new e.bkB,this.opened=new e.bkB,this.destroyed=new e.bkB,this.expandedChange=new e.bkB,this.id="cdk-accordion-child-"+wk++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((a,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Mg,12),e.rXU(e.gRc),e.rXU(pv))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e.Jv_([{provide:Mg,useValue:void 0}])]})}}return r})(),mb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const ff=["body"];function vb(r,o){}const Ek=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],_b=["mat-expansion-panel-header","*","mat-action-row"];function IR(r,o){if(1&r&&e.nrm(0,"span",2),2&r){const t=e.XpG();e.Y8G("@indicatorRotate",t._getExpandedState())}}const kR=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Bk=["mat-panel-title","mat-panel-description","*"],yb=new e.nKC("MAT_ACCORDION"),bb="225ms cubic-bezier(0.4,0.0,0.2,1)",dE={indicatorRotate:(0,gi.hZ)("indicatorRotate",[(0,gi.wk)("collapsed, void",(0,gi.iF)({transform:"rotate(0deg)"})),(0,gi.wk)("expanded",(0,gi.iF)({transform:"rotate(180deg)"})),(0,gi.kY)("expanded <=> collapsed, void => collapsed",(0,gi.i0)(bb))]),bodyExpansion:(0,gi.hZ)("bodyExpansion",[(0,gi.wk)("collapsed, void",(0,gi.iF)({height:"0px",visibility:"hidden"})),(0,gi.wk)("expanded",(0,gi.iF)({height:"*",visibility:""})),(0,gi.kY)("expanded <=> collapsed, void => collapsed",(0,gi.i0)(bb))])},Ac=new e.nKC("MAT_EXPANSION_PANEL");let Sv=(()=>{class r{constructor(t,i){this._template=t,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q),e.rXU(Ac,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["ng-template","matExpansionPanelContent",""]]})}}return r})(),Mk=0;const uE=new e.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let up=(()=>{class r extends Ck{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Tn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,n,a,s,d,m){super(t,i,n),this._viewContainerRef=a,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new e.bkB,this.afterCollapse=new e.bkB,this._inputChanges=new An.B,this._headerId="mat-expansion-panel-header-"+Mk++,this._bodyAnimationDone=new An.B,this.accordion=t,this._document=s,this._bodyAnimationDone.pipe((0,qc.F)((I,J)=>I.fromState===J.fromState&&I.toState===J.toState)).subscribe(I=>{"void"!==I.fromState&&("expanded"===I.toState?this.afterExpand.emit():"collapsed"===I.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ia(null),(0,Jr.p)(()=>this.expanded&&!this._portal),(0,Fo.s)(1)).subscribe(()=>{this._portal=new VA(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(yb,12),e.rXU(e.gRc),e.rXU(pv),e.rXU(e.c1b),e.rXU(l.qQ),e.rXU(e.bc$,8),e.rXU(uE,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-expansion-panel"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,Sv,5),2&i){let s;e.mGM(s=e.lsd())&&(n._lazyContent=s.first)}},viewQuery:function(i,n){if(1&i&&e.GBs(ff,5),2&i){let a;e.mGM(a=e.lsd())&&(n._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,n){2&i&&e.AVh("mat-expanded",n.expanded)("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[e.Jv_([{provide:yb,useValue:void 0},{provide:Ac,useExisting:r}]),e.Vt3,e.OA$],ngContentSelectors:_b,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,n){1&i&&(e.NAR(Ek),e.SdG(0),e.j41(1,"div",0,1),e.bIt("@bodyExpansion.done",function(s){return n._bodyAnimationDone.next(s)}),e.j41(3,"div",2),e.SdG(4,1),e.DNE(5,vb,0,0,"ng-template",3),e.k0s(),e.SdG(6,2),e.k0s()),2&i&&(e.R7$(1),e.Y8G("@bodyExpansion",n._getExpandedState())("id",n.id),e.BMQ("aria-labelledby",n._headerId),e.R7$(4),e.Y8G("cdkPortalOutlet",n._portal))},dependencies:[yc],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[dE.bodyExpansion]},changeDetection:0})}}return r})();class hE{}const pE=Xl(hE);let $d=(()=>{class r extends pE{constructor(t,i,n,a,s,d,m){super(),this.panel=t,this._element=i,this._focusMonitor=n,this._changeDetectorRef=a,this._animationMode=d,this._parentChangeSubscription=zr.yU.EMPTY;const I=t.accordion?t.accordion._stateChanges.pipe((0,Jr.p)(J=>!(!J.hideToggle&&!J.togglePosition))):Zd.w;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Ka.h)(t.opened,t.closed,I,t._inputChanges.pipe((0,Jr.p)(J=>!!(J.hideToggle||J.disabled||J.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,Jr.p)(()=>t._containsFocus())).subscribe(()=>n.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ea(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(up,1),e.rXU(e.aKT),e.rXU(Cs),e.rXU(e.gRc),e.rXU(uE,8),e.rXU(e.bc$,8),e.kS0("tabindex"))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._toggle()})("keydown",function(s){return n._keydown(s)}),2&i&&(e.BMQ("id",n.panel._headerId)("tabindex",n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),e.xc7("height",n._getHeaderHeight()),e.AVh("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after","after"===n._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===n._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[e.Vt3],ngContentSelectors:Bk,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,n){1&i&&(e.NAR(kR),e.j41(0,"span",0),e.SdG(1),e.SdG(2,1),e.SdG(3,2),e.k0s(),e.DNE(4,IR,1,1,"span",1)),2&i&&(e.AVh("mat-content-hide-toggle",!n._showToggle()),e.R7$(4),e.Y8G("ngIf",n._showToggle()))},dependencies:[l.bT],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[dE.indicatorRotate]},changeDetection:0})}}return r})(),Qv=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}}return r})(),xg=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}}return r})(),Dg=(()=>{class r extends dp{constructor(){super(...arguments),this._ownHeaders=new e.rOR,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Tn(t)}ngAfterContentInit(){this._headers.changes.pipe(ia(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new gl(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-accordion"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,$d,5),2&i){let s;e.mGM(s=e.lsd())&&(n._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-accordion-multi",n.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[e.Jv_([{provide:yb,useExisting:r}]),e.Vt3]})}}return r})(),fE=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[l.MD,Fr,mb,wd]})}}return r})(),bE=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Ja,Fr,Ja,Fr]})}}return r})();function gf(r,o){const t=(0,uA.T)(r)?r:()=>r,i=n=>n.error(t());return new Ha.c(o?n=>o.schedule(i,0,n):i)}function Md(r){return(0,al.N)((o,t)=>{let a,i=null,n=!1;i=o.subscribe((0,pl._)(t,void 0,void 0,s=>{a=(0,Yc.Tg)(r(s,Md(r)(o))),i?(i.unsubscribe(),i=null,a.subscribe(t)):n=!0})),n&&(i.unsubscribe(),i=null,a.subscribe(t))})}var Rv=ie(980),wE=ie(7647);const CE=["*"];let Wm;function Km(r){return function Rk(){if(void 0===Wm&&(Wm=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(Wm=r.trustedTypes.createPolicy("angular#components",{createHTML:o=>o}))}return Wm}()?.createHTML(r)||r}function Pv(r){return Error(`Unable to find icon with the name "${r}"`)}function Lv(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function wb(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class hp{constructor(o,t,i){this.url=o,this.svgText=t,this.options=i}}let Ig=(()=>{class r{constructor(t,i,n,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=n}addSvgIcon(t,i,n){return this.addSvgIconInNamespace("",t,i,n)}addSvgIconLiteral(t,i,n){return this.addSvgIconLiteralInNamespace("",t,i,n)}addSvgIconInNamespace(t,i,n,a){return this._addSvgIconConfig(t,i,new hp(n,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,n,a){const s=this._sanitizer.sanitize(e.WPN.HTML,n);if(!s)throw wb(n);const d=Km(s);return this._addSvgIconConfig(t,i,new hp("",d,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,n){return this._addSvgIconSetConfig(t,new hp(i,null,n))}addSvgIconSetLiteralInNamespace(t,i,n){const a=this._sanitizer.sanitize(e.WPN.HTML,i);if(!a)throw wb(i);const s=Km(a);return this._addSvgIconSetConfig(t,new hp("",s,n))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(e.WPN.RESOURCE_URL,t);if(!i)throw Lv(t);const n=this._cachedIconsByUrl.get(i);return n?(0,lr.of)(Xm(n)):this._loadSvgIconFromConfig(new hp(t,null)).pipe(jr(a=>this._cachedIconsByUrl.set(i,a)),(0,h.T)(a=>Xm(a)))}getNamedSvgIcon(t,i=""){const n=Cb(i,t);let a=this._svgIconConfigs.get(n);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(n,a),this._getSvgFromConfig(a);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):gf(Pv(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,lr.of)(Xm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,h.T)(i=>Xm(i)))}_getSvgFromIconSetConfigs(t,i){const n=this._extractIconWithNameFromAnySet(t,i);if(n)return(0,lr.of)(n);const a=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Md(d=>{const I=`Loading icon set URL: ${this._sanitizer.sanitize(e.WPN.RESOURCE_URL,s.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(I)),(0,lr.of)(null)})));return(0,p.p)(a).pipe((0,h.T)(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw Pv(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let n=i.length-1;n>=0;n--){const a=i[n];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(a),d=this._extractSvgIconFromSet(s,t,a.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(jr(i=>t.svgText=i),(0,h.T)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,lr.of)(null):this._fetchIcon(t).pipe(jr(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,n){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const s=a.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,n);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),n);const d=this._svgElementFromString(Km("<svg></svg>"));return d.appendChild(s),this._setSvgAttributes(d,n)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const i=this._svgElementFromString(Km("<svg></svg>")),n=t.attributes;for(let a=0;a<n.length;a++){const{name:s,value:d}=n[a];"id"!==s&&i.setAttribute(s,d)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:n}=t,a=n?.withCredentials??!1;if(!this._httpClient)throw function Ov(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(e.WPN.RESOURCE_URL,i);if(!s)throw Lv(i);const d=this._inProgressUrlFetches.get(s);if(d)return d;const m=this._httpClient.get(s,{responseType:"text",withCredentials:a}).pipe((0,h.T)(I=>Km(I)),(0,Rv.j)(()=>this._inProgressUrlFetches.delete(s)),(0,wE.u)());return this._inProgressUrlFetches.set(s,m),m}_addSvgIconConfig(t,i,n){return this._svgIconConfigs.set(Cb(t,i),n),this}_addSvgIconSetConfig(t,i){const n=this._iconSetConfigs.get(t);return n?n.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let n=0;n<this._resolvers.length;n++){const a=this._resolvers[n](i,t);if(a)return BE(a)?new hp(a.url,null,a.options):new hp(a,null)}}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(ka.Qq,8),e.KVO(D.up),e.KVO(l.qQ,8),e.KVO(e.zcH))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Xm(r){return r.cloneNode(!0)}function Cb(r,o){return r+":"+o}function BE(r){return!(!r.url||!r.options)}const Ok=Yl(class{constructor(r){this._elementRef=r}}),Lk=new e.nKC("MAT_ICON_DEFAULT_OPTIONS"),Yk=new e.nKC("mat-icon-location",{providedIn:"root",factory:function Nk(){const r=(0,e.WQX)(l.qQ),o=r?r.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),ME=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jk=ME.map(r=>`[${r}]`).join(", "),Gk=/^url\(['"]?#(.*?)['"]?\)$/;let Kn=(()=>{class r extends Ok{get inline(){return this._inline}set inline(t){this._inline=Tn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,n,a,s,d){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=zr.yU.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),n||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const n=t.childNodes[i];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>t.classList.remove(n)),i.forEach(n=>t.classList.add(n)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((n,a)=>{n.forEach(s=>{a.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(jk),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)ME.forEach(s=>{const d=i[a],m=d.getAttribute(s),I=m?m.match(Gk):null;if(I){let J=n.get(d);J||(J=[],n.set(d,J)),J.push({name:s,value:I[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,n]=this._splitIconName(t);i&&(this._svgNamespace=i),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,i).pipe((0,Fo.s)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${n}! ${a.message}`))})}}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Ig),e.kS0("aria-hidden"),e.rXU(Yk),e.rXU(e.zcH),e.rXU(Lk,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,n){2&i&&(e.BMQ("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),e.AVh("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[e.Vt3],ngContentSelectors:CE,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return r})(),Zm=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,Fr]})}}return r})();const Uk=["connectionContainer"],zk=["inputContainer"],Hk=["label"];function Vk(r,o){1&r&&(e.qex(0),e.j41(1,"div",14),e.nrm(2,"div",15)(3,"div",16)(4,"div",17),e.k0s(),e.j41(5,"div",18),e.nrm(6,"div",15)(7,"div",16)(8,"div",17),e.k0s(),e.bVm())}function Jk(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",19),e.bIt("cdkObserveContent",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateOutlineGap())}),e.SdG(1,1),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("cdkObserveContentDisabled","outline"!=t.appearance)}}function Wk(r,o){if(1&r&&(e.qex(0),e.SdG(1,2),e.j41(2,"span"),e.EFF(3),e.k0s(),e.bVm()),2&r){const t=e.XpG(2);e.R7$(3),e.JRh(t._control.placeholder)}}function Kk(r,o){1&r&&e.SdG(0,3,["*ngSwitchCase","true"])}function Xk(r,o){1&r&&(e.j41(0,"span",23),e.EFF(1," *"),e.k0s())}function xE(r,o){if(1&r){const t=e.RV6();e.j41(0,"label",20,21),e.bIt("cdkObserveContent",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateOutlineGap())}),e.DNE(2,Wk,4,1,"ng-container",12),e.DNE(3,Kk,1,0,"ng-content",12),e.DNE(4,Xk,2,0,"span",22),e.k0s()}if(2&r){const t=e.XpG();e.AVh("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),e.Y8G("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),e.BMQ("for",t._control.id)("aria-owns",t._control.id),e.R7$(2),e.Y8G("ngSwitchCase",!1),e.R7$(1),e.Y8G("ngSwitchCase",!0),e.R7$(1),e.Y8G("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function DE(r,o){1&r&&(e.j41(0,"div",24),e.SdG(1,4),e.k0s())}function IE(r,o){if(1&r&&(e.j41(0,"div",25),e.nrm(1,"span",26),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.AVh("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function kE(r,o){if(1&r&&(e.j41(0,"div"),e.SdG(1,5),e.k0s()),2&r){const t=e.XpG();e.Y8G("@transitionMessages",t._subscriptAnimationState)}}function TE(r,o){if(1&r&&(e.j41(0,"div",30),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("id",t._hintLabelId),e.R7$(1),e.JRh(t.hintLabel)}}function FE(r,o){if(1&r&&(e.j41(0,"div",27),e.DNE(1,TE,2,2,"div",28),e.SdG(2,6),e.nrm(3,"div",29),e.SdG(4,7),e.k0s()),2&r){const t=e.XpG();e.Y8G("@transitionMessages",t._subscriptAnimationState),e.R7$(1),e.Y8G("ngIf",t.hintLabel)}}const SE=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],QE=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let RE=0,Eb=(()=>{class r{constructor(t,i){this.id="mat-error-"+RE++,t||i.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(i){return new(i||r)(e.kS0("aria-live"),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("id",n.id)},inputs:{id:"id"},features:[e.Jv_([{provide:$w,useExisting:r}])]})}}return r})();const mf=new e.nKC("MatHint");let OE=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-label"]]})}}return r})(),kg=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-placeholder"]]})}}return r})(),Zk=0;const LE=Yl(class{constructor(r){this._elementRef=r}},"primary"),YE=new e.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let PR=(()=>{class r extends LE{get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Tn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,n,a,s,d,m){super(t),this._changeDetectorRef=i,this._dir=n,this._defaults=a,this._platform=s,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new An.B,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Zk++,this._labelId="mat-form-field-label-"+Zk++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=!!a.hideRequiredMarker,a.color&&(this.color=this.defaultColor=a.color))}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ia(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,jn.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ka.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ia(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ia(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ue(this._label.nativeElement,"transitionend").pipe((0,Fo.s)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,n=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,n=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const J=i.querySelectorAll(`${n}, ${a}`);for(let oe=0;oe<J.length;oe++)J[oe].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,d=0;const m=i.querySelectorAll(n),I=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const J=i.getBoundingClientRect();if(0===J.width&&0===J.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const oe=this._getStartEnd(J),Ce=t.children,$e=this._getStartEnd(Ce[0].getBoundingClientRect());let nt=0;for(let Tt=0;Tt<Ce.length;Tt++)nt+=Ce[Tt].offsetWidth;s=Math.abs($e-oe)-5,d=nt>0?.75*nt+10:0}for(let J=0;J<m.length;J++)m[J].style.width=`${s}px`;for(let J=0;J<I.length;J++)I[J].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Va,8),e.rXU(YE,8),e.rXU(ea),e.rXU(e.SKi),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,Wd,5),e.wni(a,Wd,7),e.wni(a,OE,5),e.wni(a,OE,7),e.wni(a,kg,5),e.wni(a,$w,5),e.wni(a,mf,5),e.wni(a,eC,5),e.wni(a,iI,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._controlNonStatic=s.first),e.mGM(s=e.lsd())&&(n._controlStatic=s.first),e.mGM(s=e.lsd())&&(n._labelChildNonStatic=s.first),e.mGM(s=e.lsd())&&(n._labelChildStatic=s.first),e.mGM(s=e.lsd())&&(n._placeholderChild=s.first),e.mGM(s=e.lsd())&&(n._errorChildren=s),e.mGM(s=e.lsd())&&(n._hintChildren=s),e.mGM(s=e.lsd())&&(n._prefixChildren=s),e.mGM(s=e.lsd())&&(n._suffixChildren=s)}},viewQuery:function(i,n){if(1&i&&(e.GBs(Uk,7),e.GBs(zk,5),e.GBs(Hk,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._connectionContainerRef=a.first),e.mGM(a=e.lsd())&&(n._inputContainerRef=a.first),e.mGM(a=e.lsd())&&(n._label=a.first)}},hostAttrs:["ngSkipHydration","",1,"mat-form-field"],hostVars:40,hostBindings:function(i,n){2&i&&e.AVh("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[e.Jv_([{provide:Vu,useExisting:r}]),e.Vt3],ngContentSelectors:QE,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(i,n){1&i&&(e.NAR(SE),e.j41(0,"div",0)(1,"div",1,2),e.bIt("click",function(s){return n._control.onContainerClick(s)}),e.DNE(3,Vk,9,0,"ng-container",3),e.DNE(4,Jk,2,1,"div",4),e.j41(5,"div",5,6),e.SdG(7),e.j41(8,"span",7),e.DNE(9,xE,5,16,"label",8),e.k0s()(),e.DNE(10,DE,2,0,"div",9),e.k0s(),e.DNE(11,IE,2,4,"div",10),e.j41(12,"div",11),e.DNE(13,kE,2,1,"div",12),e.DNE(14,FE,5,2,"div",13),e.k0s()()),2&i&&(e.R7$(3),e.Y8G("ngIf","outline"==n.appearance),e.R7$(1),e.Y8G("ngIf",n._prefixChildren.length),e.R7$(5),e.Y8G("ngIf",n._hasFloatingLabel()),e.R7$(1),e.Y8G("ngIf",n._suffixChildren.length),e.R7$(1),e.Y8G("ngIf","outline"!=n.appearance),e.R7$(1),e.Y8G("ngSwitch",n._getDisplayedMessages()),e.R7$(1),e.Y8G("ngSwitchCase","error"),e.R7$(1),e.Y8G("ngSwitchCase","hint"))},dependencies:[l.bT,l.ux,l.e1,Ba],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}.mat-form-field .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-button-base,.mat-form-field .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-form-field .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{font-size:1em;display:inline-block;margin:-2px 0 1px}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button{font-size:inherit;width:1.5em;height:1.5em;padding:0}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{line-height:1.5em;margin:0}.mat-form-field .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:baseline}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[my.transitionMessages]},changeDetection:0})}}return r})(),Yv=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matSuffix",""]],features:[e.Jv_([{provide:iI,useExisting:r}])]})}}return r})(),Mb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[l.MD,Fr,UA,Fr]})}}return r})(),qd=(()=>{class r extends HI{constructor(){super(...arguments),this._legacyFormField=(0,e.WQX)(Vu,{optional:!0})}_getPlaceholder(){const t=this._legacyFormField;return t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:15,hostBindings:function(i,n){2&i&&(e.BMQ("data-placeholder",n.placeholder),e.AVh("mat-input-server",n._isServer)("mat-mdc-input-element",!1)("mat-mdc-form-field-textarea-control",!1)("mat-mdc-form-field-input-control",!1)("mdc-text-field__input",!1)("mat-mdc-native-select-inline",!1)("mat-native-select-inline",n._isInlineSelect()))},exportAs:["matInput"],features:[e.Jv_([{provide:Wd,useExisting:r}]),e.Vt3]})}}return r})(),kh=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Lc],imports:[Xu,Mb,Fr,Xu,Mb]})}}return r})();const qE=new e.nKC("MatList"),zv=new e.nKC("MatNavList");let r0=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Tn(t)}get inset(){return this._inset}set inset(t){this._inset=Tn(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){2&i&&(e.BMQ("aria-orientation",n.vertical?"vertical":"horizontal"),e.AVh("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return r})(),hT=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,Fr]})}}return r})();const tB=["*"],pT='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}',fT=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],iB=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],gT=["text"];function mT(r,o){if(1&r&&e.nrm(0,"mat-pseudo-checkbox",5),2&r){const t=e.XpG();e.Y8G("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const o0=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],vT=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],nB=Oc(sl(class{})),_T=sl(class{});let Tg=(()=>{class r extends nB{constructor(t){super(),this._elementRef=t,this._stateChanges=new An.B,"action-list"===this._getListType()&&(t.nativeElement.classList.add("mat-action-list"),t.nativeElement.setAttribute("role","group"))}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[e.Jv_([{provide:qE,useExisting:r}]),e.Vt3,e.OA$],ngContentSelectors:tB,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[pT],encapsulation:2,changeDetection:0})}}return r})(),xb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]})}}return r})(),rB=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]})}}return r})(),Fg=(()=>{class r extends _T{constructor(t,i,n,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new An.B,this._disabled=!1,this._isInteractiveList=!!(n||a&&"action-list"===a._getListType()),this._list=n||a;const s=this._getHostElement();"button"===s.nodeName.toLowerCase()&&!s.hasAttribute("type")&&s.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Tn(t)}ngAfterContentInit(){ju(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(zv,8),e.rXU(qE,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,xb,5),e.wni(a,rB,5),e.wni(a,Cm,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._avatar=s.first),e.mGM(s=e.lsd())&&(n._icon=s.first),e.mGM(s=e.lsd())&&(n._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mat-list-item-disabled",n.disabled)("mat-list-item-with-avatar",n._avatar||n._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[e.Vt3],ngContentSelectors:iB,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(i,n){1&i&&(e.NAR(fT),e.j41(0,"span",0),e.nrm(1,"span",1),e.SdG(2),e.j41(3,"span",2),e.SdG(4,1),e.k0s(),e.SdG(5,2),e.k0s()),2&i&&(e.R7$(1),e.Y8G("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()))},dependencies:[st],encapsulation:2,changeDetection:0})}}return r})();const aB=sl(class{}),sB=sl(class{}),bT={provide:y,useExisting:(0,e.Rfq)(()=>pp),multi:!0};class wT{constructor(o,t){this.source=o,this.options=t}}let Hv=(()=>{class r extends sB{get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=Tn(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=Tn(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}constructor(t,i,n){super(),this._element=t,this._changeDetector=i,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new e.bkB,this.checkboxPosition="after",this._inputsInitialized=!1}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(n=>t.compareWith(this._value,n))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){ju(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU((0,e.Rfq)(()=>pp)))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-list-option"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,xb,5),e.wni(a,rB,5),e.wni(a,Cm,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._avatar=s.first),e.mGM(s=e.lsd())&&(n._icon=s.first),e.mGM(s=e.lsd())&&(n._lines=s)}},viewQuery:function(i,n){if(1&i&&e.GBs(gT,5),2&i){let a;e.mGM(a=e.lsd())&&(n._text=a.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(i,n){1&i&&e.bIt("focus",function(){return n._handleFocus()})("blur",function(){return n._handleBlur()})("click",function(){return n._handleClick()}),2&i&&(e.BMQ("aria-selected",n.selected)("aria-disabled",n.disabled)("tabindex",-1),e.AVh("mat-list-item-disabled",n.disabled)("mat-list-item-with-avatar",n._avatar||n._icon)("mat-primary","primary"===n.color)("mat-accent","primary"!==n.color&&"warn"!==n.color)("mat-warn","warn"===n.color)("mat-list-single-selected-option",n.selected&&!n.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[e.Vt3],ngContentSelectors:vT,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(i,n){1&i&&(e.NAR(o0),e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,mT,1,2,"mat-pseudo-checkbox",2),e.j41(3,"div",3,4),e.SdG(5),e.k0s(),e.SdG(6,1),e.k0s()),2&i&&(e.AVh("mat-list-item-content-reverse","after"==n.checkboxPosition),e.R7$(1),e.Y8G("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()),e.R7$(1),e.Y8G("ngIf",n.selectionList.multiple))},dependencies:[st,Qt,l.bT],encapsulation:2,changeDetection:0})}}return r})(),pp=(()=>{class r extends aB{get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=Tn(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new Xd(this._multiple,this.selectedOptions.selected))}constructor(t,i,n){super(),this._element=t,this._changeDetector=i,this._focusMonitor=n,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new e.bkB,this.color="accent",this.compareWith=(a,s)=>a===s,this._disabled=!1,this.selectedOptions=new Xd(this._multiple),this._tabIndex=-1,this._onChange=a=>{},this._destroyed=new An.B,this._onTouched=()=>{}}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new gl(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.subscribe(()=>this._allowFocusEscape()),this.options.changes.pipe(ia(null),(0,jn.Q)(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe((0,jn.Q)(this._destroyed)).subscribe(t=>{if(t.added)for(let i of t.added)i.selected=!0;if(t.removed)for(let i of t.removed)i.selected=!1}),this._focusMonitor.monitor(this._element).pipe((0,jn.Q)(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){let i=0;for(let n=0;n<this.options.length;n++)if(this.options.get(n)?.selected){i=n;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const i=t.disableRipple,n=t.color;(i&&!i.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,n=this._keyManager,a=n.activeItemIndex,s=Ea(t);switch(i){case 32:case 13:!s&&!n.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&Ea(t,"ctrlKey")&&!n.isTyping()){const d=this.options.some(m=>!m.disabled&&!m.selected);this._setAllOptionsSelected(d,!0,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&n.activeItemIndex!==a&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new wT(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const n=this.options.find(a=>!a.selected&&this.compareWith(a.value,i));n&&n._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,n){const a=[];return this.options.forEach(s=>{(!i||!s.disabled)&&s._setSelected(t)&&a.push(s)}),a.length&&(this._reportValueChange(),n&&this._emitChangeEvent(a)),a}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Cs))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-selection-list"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,Hv,5),2&i){let s;e.mGM(s=e.lsd())&&(n.options=s)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(i,n){1&i&&e.bIt("keydown",function(s){return n._keydown(s)}),2&i&&e.BMQ("aria-multiselectable",n.multiple)("aria-disabled",n.disabled.toString())("tabindex",n._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[e.Jv_([bT]),e.Vt3,e.OA$],ngContentSelectors:tB,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[pT],encapsulation:2,changeDetection:0})}}return r})(),lB=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Ja,yt,Fr,Ai,l.MD,Ja,Fr,Ai,hT]})}}return r})();const cB=["mat-menu-item",""];function CT(r,o){1&r&&(e.qSk(),e.j41(0,"svg",3),e.nrm(1,"polygon",4),e.k0s())}const ET=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],BT=["mat-icon, [matMenuItemIcon]","*"],Db=new e.nKC("MAT_MENU_PANEL"),MT=sl(Oc(class{}));let a0=(()=>{class r extends MT{constructor(t,i,n,a,s){super(),this._elementRef=t,this._document=i,this._focusMonitor=n,this._parentMenu=a,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new An.B,this._focused=new An.B,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<i.length;n++)i[n].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(l.qQ),e.rXU(Cs),e.rXU(Db,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,n){1&i&&e.bIt("click",function(s){return n._checkDisabled(s)})("mouseenter",function(){return n._handleMouseEnter()}),2&i&&(e.BMQ("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),e.AVh("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[e.Vt3],attrs:cB,ngContentSelectors:BT,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,n){1&i&&(e.NAR(ET),e.SdG(0),e.j41(1,"span",0),e.SdG(2,1),e.k0s(),e.nrm(3,"div",1),e.DNE(4,CT,2,0,"svg",2)),2&i&&(e.R7$(3),e.Y8G("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),e.R7$(1),e.Y8G("ngIf",n._triggersSubmenu))},dependencies:[l.bT,st],encapsulation:2,changeDetection:0})}}return r})();const IT=new e.nKC("MatMenuContent"),Vv={transformMenu:(0,gi.hZ)("transformMenu",[(0,gi.wk)("void",(0,gi.iF)({opacity:0,transform:"scale(0.8)"})),(0,gi.kY)("void => enter",(0,gi.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,gi.iF)({opacity:1,transform:"scale(1)"}))),(0,gi.kY)("* => void",(0,gi.i0)("100ms 25ms linear",(0,gi.iF)({opacity:0})))]),fadeInItems:(0,gi.hZ)("fadeInItems",[(0,gi.wk)("showing",(0,gi.iF)({opacity:1})),(0,gi.kY)("void => *",[(0,gi.iF)({opacity:0}),(0,gi.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ib=0;const Jv=new e.nKC("mat-menu-default-options",{providedIn:"root",factory:function AB(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let vf=(()=>{class r{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Tn(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Tn(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(n=>{this._classList[n]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(n=>{this._classList[n]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,n,a){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=a,this._directDescendantItems=new e.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new An.B,this.closed=new e.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Ib++,this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this._overlapTrigger=n.overlapTrigger,this._hasBackdrop=n.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new gl(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ia(this._directDescendantItems),(0,Zs.n)(t=>(0,Ka.h)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const n=t.toArray(),a=Math.max(0,Math.min(n.length-1,i.activeItemIndex||0));n[a]&&!n[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(ia(this._directDescendantItems),(0,Zs.n)(i=>(0,Ka.h)(...i.map(n=>n._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,n=this._keyManager;switch(i){case 27:Ea(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&n.setFocusOrigin("keyboard"),void n.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const n=this._keyManager;n.setFocusOrigin(t).setFirstItemActive(),!n.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),n=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[n]=!0,this._previousElevation=n)}setPositionClasses(t=this.xPosition,i=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===i,n["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ia(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Jv),e.rXU(e.gRc))}}static{this.\u0275dir=e.FsC({type:r,contentQueries:function(i,n,a){if(1&i&&(e.wni(a,IT,5),e.wni(a,a0,5),e.wni(a,a0,4)),2&i){let s;e.mGM(s=e.lsd())&&(n.lazyContent=s.first),e.mGM(s=e.lsd())&&(n._allItems=s),e.mGM(s=e.lsd())&&(n.items=s)}},viewQuery:function(i,n){if(1&i&&e.GBs(e.C4Q,5),2&i){let a;e.mGM(a=e.lsd())&&(n.templateRef=a.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}}return r})();const dB=new e.nKC("mat-menu-scroll-strategy"),TT={provide:dB,deps:[jc],useFactory:function kb(r){return()=>r.scrollStrategies.reposition()}},Tb=Os({passive:!0});let uB=(()=>{class r{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,n,a,s,d,m,I,J){this._overlay=t,this._element=i,this._viewContainerRef=n,this._menuItemInstance=d,this._dir=m,this._focusMonitor=I,this._ngZone=J,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=zr.yU.EMPTY,this._hoverSubscription=zr.yU.EMPTY,this._menuCloseSubscription=zr.yU.EMPTY,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._handleTouchStart=oe=>{ds(oe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=s instanceof vf?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Tb)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Tb),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),n=i.getConfig(),a=n.positionStrategy;this._setPosition(t,a),n.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof vf&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,jn.Q)(t.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof vf?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,Jr.p)(n=>"void"===n.toState),(0,Fo.s)(1),(0,jn.Q)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,n=t.parentMenu;for(;n;)i++,n=n.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Em({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(n=>{const a="start"===n.connectionPair.overlayX?"after":"before",s="top"===n.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(a,s)):t.setPositionClasses(a,s)})}_setPosition(t,i){let[n,a]="before"===t.xPosition?["end","start"]:["start","end"],[s,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[m,I]=[s,d],[J,oe]=[n,a],Ce=0;if(this.triggersSubmenu()){if(oe=n="before"===t.xPosition?"start":"end",a=J="end"===n?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const $e=this._parentMaterialMenu.items.first;this._parentInnerPadding=$e?$e._getHostElement().offsetTop:0}Ce="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(m="top"===s?"bottom":"top",I="top"===d?"bottom":"top");i.withPositions([{originX:n,originY:m,overlayX:J,overlayY:s,offsetY:Ce},{originX:a,originY:m,overlayX:oe,overlayY:s,offsetY:Ce},{originX:n,originY:I,overlayX:J,overlayY:d,offsetY:-Ce},{originX:a,originY:I,overlayX:oe,overlayY:d,offsetY:-Ce}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,lr.of)(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Jr.p)(s=>s!==this._menuItemInstance),(0,Jr.p)(()=>this._menuOpen)):(0,lr.of)();return(0,Ka.h)(t,n,a,i)}_handleMousedown(t){fd(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Jr.p)(t=>t===this._menuItemInstance&&!t.disabled),dg(0,Bs)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof vf&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Fo.s)(1),dg(0,Bs),(0,jn.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new VA(t.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(jc),e.rXU(e.aKT),e.rXU(e.c1b),e.rXU(dB),e.rXU(Db,8),e.rXU(a0,10),e.rXU(Va,8),e.rXU(Cs),e.rXU(e.SKi))}}static{this.\u0275dir=e.FsC({type:r,hostVars:3,hostBindings:function(i,n){1&i&&e.bIt("click",function(s){return n._handleClick(s)})("mousedown",function(s){return n._handleMousedown(s)})("keydown",function(s){return n._handleKeydown(s)}),2&i&&e.BMQ("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}}return r})();function Fb(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",0),e.bIt("keydown",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._handleKeydown(n))})("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closed.emit("click"))})("@transformMenu.start",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._onAnimationStart(n))})("@transformMenu.done",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._onAnimationDone(n))}),e.j41(1,"div",1),e.SdG(2),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),e.BMQ("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Wv=["*"],FT=["mat-menu-item",""];function hB(r,o){1&r&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"polygon",3),e.k0s())}let Gc=(()=>{class r extends vf{constructor(t,i,n,a){super(t,i,n,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Jv),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:4,hostBindings:function(i,n){2&i&&e.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)("mat-id-collision",null)},exportAs:["matMenu"],features:[e.Jv_([{provide:Db,useExisting:r}]),e.Vt3],ngContentSelectors:Wv,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(i,n){1&i&&(e.NAR(),e.DNE(0,Fb,3,6,"ng-template"))},dependencies:[l.YU],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Vv.transformMenu,Vv.fadeInItems]},changeDetection:0})}}return r})(),rA=(()=>{class r extends a0{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:20,hostBindings:function(i,n){2&i&&(e.BMQ("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled.toString())("disabled",n.disabled||null),e.AVh("mat-menu-item",!0)("mat-menu-item-highlighted",n._highlighted)("mat-menu-item-submenu-trigger",n._triggersSubmenu)("mat-mdc-menu-item",!1)("mat-mdc-focus-indicator",!1)("mdc-list-item",!1)("mat-mdc-menu-item-highlighted",!1)("mat-mdc-menu-item-submenu-trigger",!1))},inputs:{disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matMenuItem"],features:[e.Jv_([{provide:a0,useExisting:r}]),e.Vt3],attrs:FT,ngContentSelectors:Wv,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,n){1&i&&(e.NAR(),e.SdG(0),e.nrm(1,"div",0),e.DNE(2,hB,2,0,"svg",1)),2&i&&(e.R7$(1),e.Y8G("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),e.R7$(1),e.Y8G("ngIf",n._triggersSubmenu))},dependencies:[l.bT,st],encapsulation:2,changeDetection:0})}}return r})(),tc=(()=>{class r extends uB{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[e.Vt3]})}}return r})(),Sb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[TT],imports:[l.MD,Fr,yt,Cd,QA,Fr]})}}return r})(),Qg=(()=>{class r{constructor(){this.changes=new An.B,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,n)=>{if(0==n||0==i)return`0 of ${n}`;const a=t*i;return`${a+1} \u2013 ${a<(n=Math.max(n,0))?Math.min(a+i,n):a+i} of ${n}`}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const qR={provide:Qg,deps:[[new e.Xx1,new e.kdw,Qg]],useFactory:function vB(r){return r||new Qg}},iP=Oc($p(class{}));let ST=(()=>{class r extends iP{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(Ya(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=Ya(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(Ya(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>Ya(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=Tn(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=Tn(t)}constructor(t,i,n){if(super(),this._intl=t,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new e.bkB,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:a,pageSizeOptions:s,hidePageSize:d,showFirstLastButtons:m}=n;null!=a&&(this._pageSize=a),null!=s&&(this._pageSizeOptions=s),null!=d&&(this._hidePageSize=d),null!=m&&(this._showFirstLastButtons=m)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const n=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[e.Vt3]})}}return r})();const yB=["trigger"],bB=["panel"];let Qb=0;const Rb=new e.nKC("mat-select-scroll-strategy"),sP=new e.nKC("MAT_SELECT_CONFIG"),lP={provide:Rb,deps:[jc],useFactory:function GT(r){return()=>r.scrollStrategies.reposition()}},Pb=new e.nKC("MatSelectTrigger"),zT=sl(Xl(Oc(Hd(class{constructor(r,o,t,i,n){this._elementRef=r,this._defaultErrorStateMatcher=o,this._parentForm=t,this._parentFormGroup=i,this.ngControl=n,this.stateChanges=new An.B}}))));let HT=(()=>{class r extends zT{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(j.required)??!1}set required(t){this._required=Tn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Tn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Tn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Ya(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,n,a,s,d,m,I,J,oe,Ce,$e,nt,Tt){super(s,a,m,I,oe),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=n,this._dir=d,this._parentFormField=J,this._liveAnnouncer=nt,this._defaultOptions=Tt,this._panelOpen=!1,this._compareWith=(Zt,ci)=>Zt===ci,this._uid="mat-select-"+Qb++,this._triggerAriaLabelledBy=null,this._destroy=new An.B,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Qb++,this._panelDoneAnimatingStream=new An.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,op.v)(()=>{const Zt=this.options;return Zt?Zt.changes.pipe(ia(Zt),(0,Zs.n)(()=>(0,Ka.h)(...Zt.map(ci=>ci.onSelectionChange)))):this._ngZone.onStable.pipe((0,Fo.s)(1),(0,Zs.n)(()=>this.optionSelectionChanges))}),this.openedChange=new e.bkB,this._openedStream=this.openedChange.pipe((0,Jr.p)(Zt=>Zt),(0,h.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Jr.p)(Zt=>!Zt),(0,h.T)(()=>{})),this.selectionChange=new e.bkB,this.valueChange=new e.bkB,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Tt?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Tt.typeaheadDebounceInterval),this._scrollStrategyFactory=$e,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ce)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Xd(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,qc.F)(),(0,jn.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,jn.Q)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ia(null),(0,jn.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?n.setAttribute("aria-labelledby",t):n.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&wt(this._trackedModal,"aria-owns",i),tt(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(wt(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,n=40===i||38===i||37===i||39===i,a=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&a&&!Ea(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;s.onKeydown(t);const m=this.selected;m&&d!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,n=t.keyCode,a=40===n||38===n,s=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(s||13!==n&&32!==n||!i.activeItem||Ea(t))if(!s&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const d=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(d?m.select():m.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Fo.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return null!=n.value&&this._compareWith(n.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_skipPredicate(t){return t.disabled}_initKeyManager(){this._keyManager=new Jf(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Ka.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,jn.Q)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ka.h)(...this.options.map(i=>i._stateChanges)).pipe((0,jn.Q)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,n)=>this.sortComparator?this.sortComparator(i,n,t):t.indexOf(i)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(n=>n.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(xs),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(Lc),e.rXU(e.aKT),e.rXU(Va,8),e.rXU(Vt,8),e.rXU(Pr,8),e.rXU(Vu,8),e.rXU(Je,10),e.kS0("tabindex"),e.rXU(Rb),e.rXU(ym),e.rXU(sP,8))}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(i,n){if(1&i&&(e.GBs(yB,5),e.GBs(bB,5),e.GBs(VD,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.trigger=a.first),e.mGM(a=e.lsd())&&(n.panel=a.first),e.mGM(a=e.lsd())&&(n._overlayDir=a.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[e.Vt3,e.OA$]})}}return r})();function Zv(r,o){if(1&r&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.JRh(t.placeholder)}}function VT(r,o){if(1&r&&(e.j41(0,"span",12),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.JRh(t.triggerValue)}}function dP(r,o){1&r&&e.SdG(0,0,["*ngSwitchCase","true"])}function JT(r,o){if(1&r&&(e.j41(0,"span",9),e.DNE(1,VT,2,1,"span",10),e.DNE(2,dP,1,0,"ng-content",11),e.k0s()),2&r){const t=e.XpG();e.Y8G("ngSwitch",!!t.customTrigger),e.R7$(2),e.Y8G("ngSwitchCase",!0)}}function uP(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",13)(1,"div",14,15),e.bIt("@transformPanel.done",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._handleKeydown(n))}),e.SdG(3,1),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("@transformPanelWrap",void 0),e.R7$(1),e.ZvI("mat-select-panel ",t._getPanelTheme(),""),e.xc7("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),e.Y8G("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),e.BMQ("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const s0=[[["mat-select-trigger"]],"*"],WT=["mat-select-trigger","*"],CB={transformPanelWrap:(0,gi.hZ)("transformPanelWrap",[(0,gi.kY)("* => void",(0,gi.P)("@transformPanel",[(0,gi.MA)()],{optional:!0}))]),transformPanel:(0,gi.hZ)("transformPanel",[(0,gi.wk)("void",(0,gi.iF)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,gi.wk)("showing",(0,gi.iF)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,gi.wk)("showing-multiple",(0,gi.iF)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,gi.kY)("void => *",(0,gi.i0)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,gi.kY)("* => void",(0,gi.i0)("100ms 25ms linear",(0,gi.iF)({opacity:0})))])};class XT{constructor(o,t){this.source=o,this.value=t}}let BB=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-select-trigger"]],features:[e.Jv_([{provide:Pb,useExisting:r}])]})}}return r})(),yo=(()=>{class r extends HT{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,n){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-i+a/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,jn.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=Sr(t,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:Qr((t+i)*n,n,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new XT(this,t)}_getOverlayMinWidth(){return this._triggerRect?.width}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),n=this._isRtl(),a=this.multiple?56:32;let s;if(this.multiple)s=40;else if(this.disableOptionCentering)s=16;else{let I=this._selectionModel.selected[0]||this.options.first;s=I&&I.group?32:16}n||(s*=-1);const d=0-(t.left+s-(n?a:0)),m=t.right+s-i.width+(n?0:a);d>0?s+=d+8:m>0&&(s-=m+8),this._overlayDir.offsetX=Math.round(s),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,n){const a=this._getItemHeight(),s=(a-this._triggerRect.height)/2,d=Math.floor(256/a);let m;return this.disableOptionCentering?0:(m=0===this._scrollTop?t*a:this._scrollTop===n?(t-(this._getItemCount()-d))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*m-s))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,s=n.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),I=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;I>s?this._adjustPanelUp(I,s):d>a?this._adjustPanelDown(d,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const n=Math.round(t-i);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,n){const a=Math.round(t-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),n=Math.min(i*t,256),s=i*t-n;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=Sr(d,this.options,this.optionGroups);const m=n/2;this._scrollTop=this._calculateOverlayScroll(d,m,s),this._offsetY=this._calculateOverlayOffsetY(d,m,s),this._checkOverlayWithinViewport(s)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-select"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,Pb,5),e.wni(a,Ur,5),e.wni(a,In,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.customTrigger=s.first),e.mGM(s=e.lsd())&&(n.options=s),e.mGM(s=e.lsd())&&(n.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true","ngSkipHydration","",1,"mat-select"],hostVars:19,hostBindings:function(i,n){1&i&&e.bIt("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&i&&(e.BMQ("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),e.AVh("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[e.Jv_([{provide:Wd,useExisting:r},{provide:bi,useExisting:r}]),e.Vt3],ngContentSelectors:WT,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,n){if(1&i&&(e.NAR(s0),e.j41(0,"div",0,1),e.bIt("click",function(){return n.toggle()}),e.j41(3,"div",2),e.DNE(4,Zv,2,1,"span",3),e.DNE(5,JT,3,2,"span",4),e.k0s(),e.j41(6,"div",5),e.nrm(7,"div",6),e.k0s()(),e.DNE(8,uP,4,14,"ng-template",7),e.bIt("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&i){const a=e.sdS(1);e.BMQ("aria-owns",n.panelOpen?n.id+"-panel":null),e.R7$(3),e.Y8G("ngSwitch",n.empty),e.BMQ("id",n._valueId),e.R7$(1),e.Y8G("ngSwitchCase",!0),e.R7$(1),e.Y8G("ngSwitchCase",!1),e.R7$(3),e.Y8G("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",n._getOverlayMinWidth())("cdkConnectedOverlayOffsetY",n._offsetY)}},dependencies:[l.YU,l.ux,l.e1,l.fG,VD,dy],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[CB.transformPanelWrap,CB.transformPanel]},changeDetection:0})}}return r})(),Lb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[lP],imports:[l.MD,Cd,js,Fr,QA,Mb,js,Fr]})}}return r})();const xB=new e.nKC("mat-tooltip-scroll-strategy"),DB={provide:xB,deps:[jc],useFactory:function ZT(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}},$v=new e.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function IB(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),kB="tooltip-panel",Nb=Os({passive:!0});let QB=(()=>{class r{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Tn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Ya(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Ya(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,n,a,s,d,m,I,J,oe,Ce,$e){this._overlay=t,this._elementRef=i,this._scrollDispatcher=n,this._viewContainerRef=a,this._ngZone=s,this._platform=d,this._ariaDescriber=m,this._focusMonitor=I,this._dir=oe,this._defaultOptions=Ce,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new An.B,this._scrollStrategy=J,this._document=$e,Ce&&(this._showDelay=Ce.showDelay,this._hideDelay=Ce.hideDelay,Ce.position&&(this.position=Ce.position),Ce.positionAtOrigin&&(this.positionAtOrigin=Ce.positionAtOrigin),Ce.touchGestures&&(this.touchGestures=Ce.touchGestures)),oe.change.pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,jn.Q)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,n])=>{t.removeEventListener(i,n,Nb)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const n=this._createOverlay(i);this._detach(),this._portal=this._portal||new Vd(this._tooltipComponent,this._viewContainerRef);const a=this._tooltipInstance=n.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe((0,jn.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&a._origin instanceof e.aKT)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return n.positionChanges.pipe((0,jn.Q)(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${kB}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,jn.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,jn.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,jn.Q)(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&27===a.keyCode&&!Ea(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,n=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset({...n.main,...a.main}),this._addOffset({...n.fallback,...a.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let n;"above"==i||"below"==i?n={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?n={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(n={originX:"end",originY:"center"});const{x:a,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:a,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let n;"above"==i?n={overlayX:"center",overlayY:"bottom"}:"below"==i?n={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?n={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:a,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:a,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Fo.s)(1),(0,jn.Q)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:n,originY:a}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===i&&"top"===a?"above":"below",s!==this._currentPosition){const d=this._overlayRef;if(d){const m=`${this._cssClassPrefix}-${kB}-`;d.removePanelClass(m+this._currentPosition),d.addPanelClass(m+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],n=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,n),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const n=i.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,n])=>{this._elementRef.nativeElement.addEventListener(i,n,Nb)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;i!==n&&!n.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,n=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),("on"===t||!i.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}}return r})(),jb=(()=>{class r{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new An.B,this._animationsDisabled="NoopAnimations"===i}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,n=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(t?a:n),i.classList.add(t?n:a),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:r})}}return r})();const qT=["tooltip"];let Is=(()=>{class r extends QB{constructor(t,i,n,a,s,d,m,I,J,oe,Ce,$e){super(t,i,n,a,s,d,m,I,J,oe,Ce,$e),this._tooltipComponent=Gb}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(jc),e.rXU(e.aKT),e.rXU(Il),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(ea),e.rXU(So),e.rXU(Cs),e.rXU(xB),e.rXU(Va,8),e.rXU($v,8),e.rXU(l.qQ))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-tooltip-disabled",n.disabled)},exportAs:["matTooltip"],features:[e.Vt3]})}}return r})(),Gb=(()=>{class r extends jb{constructor(t,i,n){super(t,n),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide",this._isHandset=i.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(pA),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(i,n){if(1&i&&e.GBs(qT,7),2&i){let a;e.mGM(a=e.lsd())&&(n._tooltip=a.first)}},hostAttrs:["aria-hidden","true"],hostVars:3,hostBindings:function(i,n){1&i&&e.bIt("mouseleave",function(s){return n._handleMouseLeave(s)}),2&i&&(e.BMQ("mat-id-collision",null),e.xc7("zoom",n.isVisible()?1:null))},features:[e.Vt3],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(i,n){if(1&i&&(e.j41(0,"div",0,1),e.bIt("animationend",function(s){return n._handleAnimationEnd(s)}),e.nI1(2,"async"),e.EFF(3),e.k0s()),2&i){let a;e.AVh("mat-tooltip-handset",null==(a=e.bMT(2,4,n._isHandset))?null:a.matches),e.Y8G("ngClass",n.tooltipClass),e.R7$(3),e.JRh(n.message)}},dependencies:[l.YU,l.Jj],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0})}}return r})(),c0=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[DB],imports:[bh,l.MD,Cd,Fr,Fr,QA]})}}return r})();function PB(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function OB(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-form-field",16)(1,"mat-select",17),e.bIt("selectionChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a._changePageSize(n.value))}),e.DNE(2,PB,2,2,"mat-option",18),e.k0s()()}if(2&r){const t=e.XpG(2);e.Y8G("appearance",t._formFieldAppearance)("color",t.color),e.R7$(1),e.Y8G("value",t.pageSize)("disabled",t.disabled)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering)("aria-label",t._intl.itemsPerPageLabel),e.R7$(1),e.Y8G("ngForOf",t._displayedPageSizeOptions)}}function t2(r,o){if(1&r&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.JRh(t.pageSize)}}function LB(r,o){if(1&r&&(e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.k0s(),e.DNE(3,OB,3,8,"mat-form-field",14),e.DNE(4,t2,2,1,"div",15),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.SpI(" ",t._intl.itemsPerPageLabel," "),e.R7$(1),e.Y8G("ngIf",t._displayedPageSizeOptions.length>1),e.R7$(1),e.Y8G("ngIf",t._displayedPageSizeOptions.length<=1)}}function YB(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.firstPage())}),e.qSk(),e.j41(1,"svg",7),e.nrm(2,"path",22),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),e.BMQ("aria-label",t._intl.firstPageLabel)}}function n2(r,o){if(1&r){const t=e.RV6();e.qSk(),e.joV(),e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.lastPage())}),e.qSk(),e.j41(1,"svg",7),e.nrm(2,"path",24),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),e.BMQ("aria-label",t._intl.lastPageLabel)}}const NB=new e.nKC("MAT_LEGACY_PAGINATOR_DEFAULT_OPTIONS");let Dd=(()=>{class r extends ST{constructor(t,i,n){super(t,i,n),n&&null!=n.formFieldAppearance&&(this._formFieldAppearance=n.formFieldAppearance)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Qg),e.rXU(e.gRc),e.rXU(NB,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[e.Vt3],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,LB,5,3,"div",2),e.j41(3,"div",3)(4,"div",4),e.EFF(5),e.k0s(),e.DNE(6,YB,3,5,"button",5),e.j41(7,"button",6),e.bIt("click",function(){return n.previousPage()}),e.qSk(),e.j41(8,"svg",7),e.nrm(9,"path",8),e.k0s()(),e.joV(),e.j41(10,"button",9),e.bIt("click",function(){return n.nextPage()}),e.qSk(),e.j41(11,"svg",7),e.nrm(12,"path",10),e.k0s()(),e.DNE(13,n2,3,5,"button",11),e.k0s()()()),2&i&&(e.R7$(2),e.Y8G("ngIf",!n.hidePageSize),e.R7$(3),e.SpI(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),e.R7$(1),e.Y8G("ngIf",n.showFirstLastButtons),e.R7$(1),e.Y8G("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),e.BMQ("aria-label",n._intl.previousPageLabel),e.R7$(3),e.Y8G("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),e.BMQ("aria-label",n._intl.nextPageLabel),e.R7$(3),e.Y8G("ngIf",n.showFirstLastButtons))},dependencies:[l.Sq,l.bT,zn,PR,yo,Ur,Is],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0})}}return r})(),CA=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[qR],imports:[l.MD,fg,Lb,c0,Fr]})}}return r})();var Vi=ie(2576);let r2=(()=>{class r extends Qg{translateService;ofLabel="of";unsubscribe=new An.B;constructor(t){super(),this.translateService=t,this.translateService.onLangChange.pipe((0,jn.Q)(this.unsubscribe)).subscribe(()=>{this.getAndInitTranslations()}),this.getAndInitTranslations()}getAndInitTranslations(){this.translateService.get(["table.property-paginator-items-per-page","table.property-paginator-next-page","table.property-paginator-prev-page","table.property-paginator-of-label"]).pipe((0,jn.Q)(this.unsubscribe)).subscribe(t=>{this.itemsPerPageLabel=t["table.property-paginator-items-per-page"],this.nextPageLabel=t["table.property-paginator-next-page"],this.previousPageLabel=t["Ptable.property-paginator-prev-page"],this.ofLabel=t["table.property-paginator-of-label"],this.changes.next(null)})}getRangeLabel=(t,i,n)=>{if(0===n||0===i)return`0 ${this.ofLabel} ${n}`;const a=t*i;return`${a+1} - ${a<(n=Math.max(n,0))?Math.min(a+i,n):a+i} ${this.ofLabel} ${n}`};ngOnDestroy(){this.unsubscribe.next(null),this.unsubscribe.complete()}static \u0275fac=function(i){return new(i||r)(e.KVO(Vi.c$))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();const o2=new e.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),_P=new e.nKC("mat-progress-bar-location",{providedIn:"root",factory:function yP(){const r=(0,e.WQX)(l.qQ),o=r?r.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),bP=["primaryValueBar"],A0=Yl(class{constructor(r){this._elementRef=r}},"primary");let s2=0,d0=(()=>{class r extends A0{constructor(t,i,n,a,s,d){super(t),this._ngZone=i,this._animationMode=n,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new e.bkB,this._animationEndSubscription=zr.yU.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+s2++;const m=a?a.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${m}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n,s&&(s.color&&(this.color=this.defaultColor=s.color),this.mode=s.mode||this.mode)}get value(){return this._value}set value(t){this._value=GB(Ya(t)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=GB(t||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ue(t,"transitionend").pipe((0,Jr.p)(i=>i.target===t)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.bc$,8),e.rXU(_P,8),e.rXU(o2,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(i,n){if(1&i&&e.GBs(bP,5),2&i){let a;e.mGM(a=e.lsd())&&(n._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(i,n){2&i&&(e.BMQ("aria-valuenow","indeterminate"===n.mode||"query"===n.mode?null:n.value)("mode",n.mode),e.AVh("_mat-animation-noopable",n._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[e.Vt3],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.qSk(),e.j41(1,"svg",1)(2,"defs")(3,"pattern",2),e.nrm(4,"circle",3),e.k0s()(),e.nrm(5,"rect",4),e.k0s(),e.joV(),e.nrm(6,"div",5)(7,"div",6,7)(9,"div",8),e.k0s()),2&i&&(e.R7$(3),e.Y8G("id",n.progressbarId),e.R7$(2),e.BMQ("fill",n._rectangleFillValue),e.R7$(1),e.Y8G("ngStyle",n._bufferTransform()),e.R7$(1),e.Y8G("ngStyle",n._primaryTransform()))},dependencies:[l.B3],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0})}}return r})();function GB(r,o=0,t=100){return Math.max(o,Math.min(t,r))}let Ub=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[l.MD,Fr,Fr]})}}return r})();const zb=new e.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function UB(){return{diameter:l2}}}),l2=100;function A2(r,o){if(1&r&&(e.qSk(),e.nrm(0,"circle",4)),2&r){const t=e.XpG(),i=e.sdS(1);e.xc7("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),e.BMQ("r",t._getCircleRadius())}}function HB(r,o){if(1&r&&(e.qSk(),e.nrm(0,"circle",4)),2&r){const t=e.XpG(),i=e.sdS(1);e.xc7("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),e.BMQ("r",t._getCircleRadius())}}const VB=Yl(class{constructor(r){this._elementRef=r}},"primary");class Id extends VB{static{this._diameters=new WeakMap}get diameter(){return this._diameter}set diameter(o){this._diameter=Ya(o),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(o){this._strokeWidth=Ya(o)}get value(){return"determinate"===this.mode?this._value:0}set value(o){this._value=Math.max(0,Math.min(100,Ya(o)))}constructor(o,t,i,n,a,s,d,m,I){super(o),this._document=i,this._nonce=I,this._diameter=100,this._value=0,this._resizeSubscription=zr.yU.EMPTY,this.mode="determinate";const J=Id._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),J.has(i.head)||J.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===n&&!!a&&!a._forceAnimations,"mat-spinner"===o.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.color&&(this.color=this.defaultColor=a.color),a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),t.isBrowser&&t.SAFARI&&d&&s&&m&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&m.run(()=>s.markForCheck())}))}ngOnInit(){const o=this._elementRef.nativeElement;this._styleRoot=il(o)||this._document.head,this._attachStyleNode(),o.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const o=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${o} ${o}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(o){const t=50*(o.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const o=this._styleRoot,t=this._diameter,i=Id._diameters;let n=i.get(o);if(!n||!n.has(t)){const a=this._document.createElement("style");this._nonce&&(a.nonce=this._nonce),a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),o.appendChild(a),n||(n=new Set,i.set(o,n)),n.add(t)}}_getAnimationText(){const o=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*o).replace(/END_VALUE/g,""+.2*o).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}static{this.\u0275fac=function(t){return new(t||Id)(e.rXU(e.aKT),e.rXU(ea),e.rXU(l.qQ,8),e.rXU(e.bc$,8),e.rXU(zb),e.rXU(e.gRc),e.rXU(xs),e.rXU(e.SKi),e.rXU(e.BIS,8))}}static{this.\u0275cmp=e.VBU({type:Id,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,i){2&t&&(e.BMQ("aria-valuemin","determinate"===i.mode?0:null)("aria-valuemax","determinate"===i.mode?100:null)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),e.xc7("width",i.diameter,"px")("height",i.diameter,"px"),e.AVh("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[e.Vt3],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,i){1&t&&(e.qSk(),e.j41(0,"svg",0,1),e.DNE(2,A2,1,11,"circle",2),e.DNE(3,HB,1,9,"circle",3),e.k0s()),2&t&&(e.xc7("width",i.diameter,"px")("height",i.diameter,"px"),e.Y8G("ngSwitch","indeterminate"===i.mode),e.BMQ("viewBox",i._getViewBox()),e.R7$(2),e.Y8G("ngSwitchCase",!0),e.R7$(1),e.Y8G("ngSwitchCase",!1))},dependencies:[l.ux,l.e1],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0})}}let JB=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,l.MD,Fr]})}}return r})();const u2=["input"];let WB=0;class Jb{constructor(o,t){this.source=o,this.value=t}}const qv=new e.nKC("MatRadioGroup"),Wb=new e.nKC("mat-radio-default-options",{providedIn:"root",factory:function XB(){return{color:"accent"}}});let ZB=(()=>{class r{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Tn(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+WB++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Jb(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc))}}static{this.\u0275dir=e.FsC({type:r,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}}return r})();class p2{constructor(o){this._elementRef=o}}const $B=sl(Xl(p2));let qB=(()=>{class r extends $B{get checked(){return this._checked}set checked(t){const i=Tn(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Tn(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Tn(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,n,a,s,d,m,I){super(i),this._changeDetector=n,this._focusMonitor=a,this._radioDispatcher=s,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++WB,this.id=this._uniqueId,this.change=new e.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===d,I&&(this.tabIndex=Ya(I,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Jb(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(i,n){if(1&i&&e.GBs(u2,5),2&i){let a;e.mGM(a=e.lsd())&&(n._inputElement=a.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.Vt3]})}}return r})();const iM=function(r){return{enterDuration:r}},g2=["*"],m2={provide:y,useExisting:(0,e.Rfq)(()=>v2),multi:!0};let v2=(()=>{class r extends ZB{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-radio-group"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,Kb,5),2&i){let s;e.mGM(s=e.lsd())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e.Jv_([m2,{provide:qv,useExisting:r}]),e.Vt3]})}}return r})(),Kb=(()=>{class r extends qB{constructor(t,i,n,a,s,d,m,I){super(t,i,n,a,s,d,m,I)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(qv,8),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Cs),e.rXU(pv),e.rXU(e.bc$,8),e.rXU(Wb,8),e.kS0("tabindex"))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(i,n){1&i&&e.bIt("focus",function(){return n._inputElement.nativeElement.focus()}),2&i&&(e.BMQ("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.AVh("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.Vt3],ngContentSelectors:g2,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(i,n){if(1&i&&(e.NAR(),e.j41(0,"label",0,1)(2,"span",2),e.nrm(3,"span",3)(4,"span",4),e.j41(5,"input",5,6),e.bIt("change",function(s){return n._onInputInteraction(s)})("click",function(s){return n._onInputClick(s)}),e.k0s(),e.j41(7,"span",7),e.nrm(8,"span",8),e.k0s()(),e.j41(9,"span",9)(10,"span",10),e.EFF(11,"\xa0"),e.k0s(),e.SdG(12),e.k0s()()),2&i){const a=e.sdS(1);e.BMQ("for",n.inputId),e.R7$(5),e.Y8G("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),e.BMQ("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.R7$(2),e.Y8G("matRippleTrigger",a)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.eq3(17,iM,n._noopAnimations?0:150)),e.R7$(2),e.AVh("mat-radio-label-before","before"==n.labelPosition)}},dependencies:[st],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0})}}return r})(),_2=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[yt,Fr,Fr]})}}return r})();const Xb=["*"],BP=["content"];function MP(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n._onBackdropClicked())}),e.k0s()}if(2&r){const t=e.XpG();e.AVh("mat-drawer-shown",t._isShowingBackdrop())}}function xP(r,o){1&r&&(e.j41(0,"mat-drawer-content"),e.SdG(1,2),e.k0s())}const DP=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],IP=["mat-drawer","mat-drawer-content","*"];function kP(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n._onBackdropClicked())}),e.k0s()}if(2&r){const t=e.XpG();e.AVh("mat-drawer-shown",t._isShowingBackdrop())}}function TP(r,o){1&r&&(e.j41(0,"mat-sidenav-content"),e.SdG(1,2),e.k0s())}const nM=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Zb=["mat-sidenav","mat-sidenav-content","*"],oM={transformDrawer:(0,gi.hZ)("transform",[(0,gi.wk)("open, open-instant",(0,gi.iF)({transform:"none",visibility:"visible"})),(0,gi.wk)("void",(0,gi.iF)({"box-shadow":"none",visibility:"hidden"})),(0,gi.kY)("void => open-instant",(0,gi.i0)("0ms")),(0,gi.kY)("void <=> open, open-instant => void",(0,gi.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},y2=new e.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function FP(){return!1}}),aM=new e.nKC("MAT_DRAWER_CONTAINER");let u0=(()=>{class r extends ql{constructor(t,i,n,a,s){super(n,a,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU((0,e.Rfq)(()=>e_)),e.rXU(e.aKT),e.rXU(Il),e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,n){2&i&&e.xc7("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[e.Jv_([{provide:ql,useExisting:r}]),e.Vt3],ngContentSelectors:Xb,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}}return r})(),h0=(()=>{class r{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Tn(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Tn(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Tn(t))}constructor(t,i,n,a,s,d,m,I){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=n,this._platform=a,this._ngZone=s,this._interactivityChecker=d,this._doc=m,this._container=I,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new An.B,this._animationEnd=new An.B,this._animationState="void",this.openedChange=new e.bkB(!0),this._openedStream=this.openedChange.pipe((0,Jr.p)(J=>J),(0,h.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Jr.p)(J=>J.fromState!==J.toState&&0===J.toState.indexOf("open")),Ag(void 0)),this._closedStream=this.openedChange.pipe((0,Jr.p)(J=>!J),(0,h.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Jr.p)(J=>J.fromState!==J.toState&&"void"===J.toState),Ag(void 0)),this._destroyed=new An.B,this.onPositionChanged=new e.bkB,this._modeChanged=new An.B,this.openedChange.subscribe(J=>{J?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ue(this._elementRef.nativeElement,"keydown").pipe((0,Jr.p)(J=>27===J.keyCode&&!this.disableClose&&!Ea(J)),(0,jn.Q)(this._destroyed)).subscribe(J=>this._ngZone.run(()=>{this.close(),J.stopPropagation(),J.preventDefault()}))}),this._animationEnd.pipe((0,qc.F)((J,oe)=>J.fromState===oe.fromState&&J.toState===oe.toState)).subscribe(J=>{const{fromState:oe,toState:Ce}=J;(0===Ce.indexOf("open")&&"void"===oe||"void"===Ce&&0===oe.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{t.removeEventListener("blur",n),t.removeEventListener("mousedown",n),t.removeAttribute("tabindex")};t.addEventListener("blur",n),t.addEventListener("mousedown",n)})),t.focus(i)}_focusByCssSelector(t,i){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const n=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),n}_setOpen(t,i,n){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(n)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,Fo.s)(1)).subscribe(s=>a(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,n=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,i)),n.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(fA),e.rXU(Cs),e.rXU(ea),e.rXU(e.SKi),e.rXU(hu),e.rXU(l.qQ,8),e.rXU(aM,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-drawer"]],viewQuery:function(i,n){if(1&i&&e.GBs(BP,5),2&i){let a;e.mGM(a=e.lsd())&&(n._content=a.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,n){1&i&&e.Kam("@transform.start",function(s){return n._animationStarted.next(s)})("@transform.done",function(s){return n._animationEnd.next(s)}),2&i&&(e.BMQ("align",null),e.zvX("@transform",n._animationState),e.AVh("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Xb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0,1),e.SdG(2),e.k0s())},dependencies:[ql],encapsulation:2,data:{animation:[oM.transformDrawer]},changeDetection:0})}}return r})(),e_=(()=>{class r{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Tn(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Tn(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,n,a,s,d=!1,m){this._dir=t,this._element=i,this._ngZone=n,this._changeDetectorRef=a,this._animationMode=m,this._drawers=new e.rOR,this.backdropClick=new e.bkB,this._destroyed=new An.B,this._doCheckSubject=new An.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new An.B,t&&t.change.pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe((0,jn.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}ngAfterContentInit(){this._allDrawers.changes.pipe(ia(this._allDrawers),(0,jn.Q)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ia(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,SA.B)(10),(0,jn.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,i-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();i+=n,t-=n}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe((0,Jr.p)(i=>i.fromState!==i.toState),(0,jn.Q)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe((0,jn.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe((0,jn.Q)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Fo.s)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe((0,jn.Q)((0,Ka.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?i.add(n):i.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Va,8),e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(xs),e.rXU(y2),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,u0,5),e.wni(a,h0,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._content=s.first),e.mGM(s=e.lsd())&&(n._allDrawers=s)}},viewQuery:function(i,n){if(1&i&&e.GBs(u0,5),2&i){let a;e.mGM(a=e.lsd())&&(n._userContent=a.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[e.Jv_([{provide:aM,useExisting:r}])],ngContentSelectors:IP,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){1&i&&(e.NAR(DP),e.DNE(0,MP,1,2,"div",0),e.SdG(1),e.SdG(2,1),e.DNE(3,xP,2,0,"mat-drawer-content",1)),2&i&&(e.Y8G("ngIf",n.hasBackdrop),e.R7$(3),e.Y8G("ngIf",!n._content))},dependencies:[l.bT,u0],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return r})(),qb=(()=>{class r extends u0{constructor(t,i,n,a,s){super(t,i,n,a,s)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU((0,e.Rfq)(()=>b2)),e.rXU(e.aKT),e.rXU(Il),e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,n){2&i&&e.xc7("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[e.Jv_([{provide:ql,useExisting:r}]),e.Vt3],ngContentSelectors:Xb,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}}return r})(),sM=(()=>{class r extends h0{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Tn(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Ya(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Ya(t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,n){2&i&&(e.BMQ("align",null),e.xc7("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),e.AVh("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[e.Vt3],ngContentSelectors:Xb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0,1),e.SdG(2),e.k0s())},dependencies:[ql],encapsulation:2,data:{animation:[oM.transformDrawer]},changeDetection:0})}}return r})(),b2=(()=>{class r extends e_{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,qb,5),e.wni(a,sM,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._content=s.first),e.mGM(s=e.lsd())&&(n._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[e.Jv_([{provide:aM,useExisting:r}]),e.Vt3],ngContentSelectors:Zb,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){1&i&&(e.NAR(nM),e.DNE(0,kP,1,2,"div",0),e.SdG(1),e.SdG(2,1),e.DNE(3,TP,2,0,"mat-sidenav-content",1)),2&i&&(e.Y8G("ngIf",n.hasBackdrop),e.R7$(3),e.Y8G("ngIf",!n._content))},dependencies:[l.bT,qb],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return r})(),lM=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[l.MD,Fr,QA,QA,Fr]})}}return r})();const p0=["sliderWrapper"],PA=Os({passive:!1}),M2={provide:y,useExisting:(0,e.Rfq)(()=>t1),multi:!0};class x2{}const e1=Xl(Yl(Oc(class{constructor(r){this._elementRef=r}}),"accent"));let t1=(()=>{class r extends e1{get invert(){return this._invert}set invert(t){this._invert=Tn(t)}get max(){return this._max}set max(t){this._max=Ya(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Ya(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Ya(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Tn(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Ya(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let i=Ya(t,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Tn(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const t=this.percent,n=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${n})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,d={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const m=this._shouldInvertAxis();let I;I=this.vertical?m?"Bottom":"Top":m?"Right":"Left",d[`padding${I}`]=`${this._getThumbGap()}px`}return d}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}constructor(t,i,n,a,s,d,m,I){super(t),this._focusMonitor=i,this._changeDetectorRef=n,this._dir=a,this._ngZone=d,this._animationMode=I,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new e.bkB,this.input=new e.bkB,this.valueChange=new e.bkB,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=zr.yU.EMPTY,this._pointerDown=J=>{this.disabled||this._isSliding||!f0(J)&&0!==J.button||this._ngZone.run(()=>{this._touchId=f0(J)?function D2(r,o){for(let t=0;t<r.touches.length;t++){const i=r.touches[t].target;if(o===i||o.contains(i))return r.touches[t].identifier}}(J,this._elementRef.nativeElement):void 0;const oe=AM(J,this._touchId);if(oe){const Ce=this.value;this._isSliding="pointer",this._lastPointerEvent=J,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(J),this._focusHostElement(),this._updateValueFromPosition(oe),this._valueOnSlideStart=Ce,J.cancelable&&J.preventDefault(),Ce!=this.value&&this._emitInputEvent()}})},this._pointerMove=J=>{if("pointer"===this._isSliding){const oe=AM(J,this._touchId);if(oe){J.cancelable&&J.preventDefault();const Ce=this.value;this._lastPointerEvent=J,this._updateValueFromPosition(oe),Ce!=this.value&&this._emitInputEvent()}}},this._pointerUp=J=>{"pointer"===this._isSliding&&(!f0(J)||"number"!=typeof this._touchId||n1(J.changedTouches,this._touchId))&&(J.cancelable&&J.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=m,this.tabIndex=parseInt(s)||0,d.runOutsideAngular(()=>{const J=t.nativeElement;J.addEventListener("mousedown",this._pointerDown,PA),J.addEventListener("touchstart",this._pointerDown,PA)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,PA),t.removeEventListener("touchstart",this._pointerDown,PA),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||Ea(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const i=this._document,n=f0(t),s=n?"touchend":"mouseup";i.addEventListener(n?"touchmove":"mousemove",this._pointerMove,PA),i.addEventListener(s,this._pointerUp,PA),n&&i.addEventListener("touchcancel",this._pointerUp,PA);const d=this._getWindow();typeof d<"u"&&d&&d.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,PA),t.removeEventListener("mouseup",this._pointerUp,PA),t.removeEventListener("touchmove",this._pointerMove,PA),t.removeEventListener("touchend",this._pointerUp,PA),t.removeEventListener("touchcancel",this._pointerUp,PA);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(t){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let s=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(s=1-s),0===s)this.value=this.min;else if(1===s)this.value=this.max;else{const d=this._calculateValue(s),m=Math.round((d-this.min)/this.step)*this.step+this.min;this.value=this._clamp(m,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=cM(t)?t:0}_createChangeEvent(t=this.value){let i=new x2;return i.source=this,i.value=t,i}_calculatePercentage(t){const i=((t||0)-this.min)/(this.max-this.min);return cM(i)?i:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,i=0,n=1){return Math.max(i,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Cs),e.rXU(e.gRc),e.rXU(Va,8),e.kS0("tabindex"),e.rXU(e.SKi),e.rXU(l.qQ),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-slider"]],viewQuery:function(i,n){if(1&i&&e.GBs(p0,5),2&i){let a;e.mGM(a=e.lsd())&&(n._sliderWrapper=a.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(i,n){1&i&&e.bIt("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&i&&(e.Mr5("tabIndex",n.tabIndex),e.BMQ("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),e.AVh("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[e.Jv_([M2]),e.Vt3],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(i,n){1&i&&(e.j41(0,"div",0,1)(2,"div",2),e.nrm(3,"div",3)(4,"div",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"div",6),e.k0s(),e.j41(7,"div",7),e.nrm(8,"div",8)(9,"div",9),e.j41(10,"div",10)(11,"span",11),e.EFF(12),e.k0s()()()()),2&i&&(e.R7$(3),e.Y8G("ngStyle",n._getTrackBackgroundStyles()),e.R7$(1),e.Y8G("ngStyle",n._getTrackFillStyles()),e.R7$(1),e.Y8G("ngStyle",n._getTicksContainerStyles()),e.R7$(1),e.Y8G("ngStyle",n._getTicksStyles()),e.R7$(1),e.Y8G("ngStyle",n._getThumbContainerStyles()),e.R7$(5),e.JRh(n.displayValue))},dependencies:[l.B3],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0})}}return r})();function cM(r){return!isNaN(r)&&isFinite(r)}function f0(r){return"t"===r.type[0]}function AM(r,o){let t;return t=f0(r)?"number"==typeof o?n1(r.touches,o)||n1(r.changedTouches,o):r.touches[0]||r.changedTouches[0]:r,t?{x:t.clientX,y:t.clientY}:void 0}function n1(r,o){for(let t=0;t<r.length;t++)if(r[t].identifier===o)return r[t]}let dM=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[l.MD,Fr,Fr]})}}return r})(),S2=0;const Q2=Xl(Yl(sl(Oc(class{constructor(r){this._elementRef=r}}))));let r1=(()=>{class r extends Q2{get required(){return this._required}set required(t){this._required=Tn(t)}get checked(){return this._checked}set checked(t){this._checked=Tn(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=Tn(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,n,a,s,d,m){super(t),this._focusMonitor=i,this._changeDetectorRef=n,this.defaults=s,this._onChange=I=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new e.bkB,this.toggleChange=new e.bkB,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=s.color||"accent",this._noopAnimations="NoopAnimations"===d,this.id=this._uniqueId=`${m}${++S2}`,this._hideIcon=s.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[e.Vt3]})}}return r})(),o1=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const P2=["input"],pM=function(r){return{enterDuration:r}},O2=["*"],a1=new e.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),fp={provide:y,useExisting:(0,e.Rfq)(()=>wc),multi:!0};class fM{constructor(o,t){this.source=o,this.checked=t}}let wc=(()=>{class r extends r1{constructor(t,i,n,a,s,d){super(t,i,n,a,s,d,"mat-slide-toggle-")}_createChangeEvent(t){return new fM(this,t)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Cs),e.rXU(e.gRc),e.kS0("tabindex"),e.rXU(a1),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-slide-toggle"]],viewQuery:function(i,n){if(1&i&&e.GBs(P2,5),2&i){let a;e.mGM(a=e.lsd())&&(n._inputElement=a.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(i,n){2&i&&(e.Mr5("id",n.id),e.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),e.AVh("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[e.Jv_([fp]),e.Vt3],ngContentSelectors:O2,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(i,n){if(1&i&&(e.NAR(),e.j41(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.bIt("change",function(s){return n._onChangeEvent(s)})("click",function(s){return n._onInputClick(s)}),e.k0s(),e.j41(5,"span",5),e.nrm(6,"span",6),e.j41(7,"span",7),e.nrm(8,"span",8),e.k0s()()(),e.j41(9,"span",9,10),e.bIt("cdkObserveContent",function(){return n._onLabelTextChange()}),e.j41(11,"span",11),e.EFF(12,"\xa0"),e.k0s(),e.SdG(13),e.k0s()()),2&i){const a=e.sdS(1),s=e.sdS(10);e.BMQ("for",n.inputId),e.R7$(2),e.AVh("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),e.R7$(1),e.Y8G("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),e.BMQ("name",n.name)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.R7$(4),e.Y8G("matRippleTrigger",a)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.eq3(18,pM,n._noopAnimations?0:150))}},dependencies:[st,Ba],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0})}}return r})(),i_=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[o1,yt,Fr,UA,o1,Fr]})}}return r})(),gM=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Cd,wd,l.MD,fg,Fr,Fr]})}}return r})();const Y2=["mat-sort-header",""];function mM(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",3),e.bIt("@arrowPosition.start",function(){e.eBV(t);const n=e.XpG();return e.Njj(n._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.eBV(t);const n=e.XpG();return e.Njj(n._disableViewStateAnimation=!1)}),e.nrm(1,"div",4),e.j41(2,"div",5),e.nrm(3,"div",6)(4,"div",7)(5,"div",8),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),e.R7$(2),e.Y8G("@indicator",t._getArrowDirectionState()),e.R7$(1),e.Y8G("@leftPointer",t._getArrowDirectionState()),e.R7$(1),e.Y8G("@rightPointer",t._getArrowDirectionState())}}const OP=["*"],n_=new e.nKC("MAT_SORT_DEFAULT_OPTIONS"),vM=$p(Oc(class{}));let cs=(()=>{class r extends vM{get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Tn(t)}constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new An.B,this.start="asc",this._direction="",this.sortChange=new e.bkB}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let n=function G2(r,o){let t=["asc","desc"];return"desc"==r&&t.reverse(),o||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),a=n.indexOf(this.direction)+1;return a>=n.length&&(a=0),n[a]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(n_,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.Vt3,e.OA$]})}}return r})();const Fh=gu.ENTERING+" "+_d.STANDARD_CURVE,bf={indicator:(0,gi.hZ)("indicator",[(0,gi.wk)("active-asc, asc",(0,gi.iF)({transform:"translateY(0px)"})),(0,gi.wk)("active-desc, desc",(0,gi.iF)({transform:"translateY(10px)"})),(0,gi.kY)("active-asc <=> active-desc",(0,gi.i0)(Fh))]),leftPointer:(0,gi.hZ)("leftPointer",[(0,gi.wk)("active-asc, asc",(0,gi.iF)({transform:"rotate(-45deg)"})),(0,gi.wk)("active-desc, desc",(0,gi.iF)({transform:"rotate(45deg)"})),(0,gi.kY)("active-asc <=> active-desc",(0,gi.i0)(Fh))]),rightPointer:(0,gi.hZ)("rightPointer",[(0,gi.wk)("active-asc, asc",(0,gi.iF)({transform:"rotate(45deg)"})),(0,gi.wk)("active-desc, desc",(0,gi.iF)({transform:"rotate(-45deg)"})),(0,gi.kY)("active-asc <=> active-desc",(0,gi.i0)(Fh))]),arrowOpacity:(0,gi.hZ)("arrowOpacity",[(0,gi.wk)("desc-to-active, asc-to-active, active",(0,gi.iF)({opacity:1})),(0,gi.wk)("desc-to-hint, asc-to-hint, hint",(0,gi.iF)({opacity:.54})),(0,gi.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,gi.iF)({opacity:0})),(0,gi.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,gi.i0)("0ms")),(0,gi.kY)("* <=> *",(0,gi.i0)(Fh))]),arrowPosition:(0,gi.hZ)("arrowPosition",[(0,gi.kY)("* => desc-to-hint, * => desc-to-active",(0,gi.i0)(Fh,(0,gi.i7)([(0,gi.iF)({transform:"translateY(-25%)"}),(0,gi.iF)({transform:"translateY(0)"})]))),(0,gi.kY)("* => hint-to-desc, * => active-to-desc",(0,gi.i0)(Fh,(0,gi.i7)([(0,gi.iF)({transform:"translateY(0)"}),(0,gi.iF)({transform:"translateY(25%)"})]))),(0,gi.kY)("* => asc-to-hint, * => asc-to-active",(0,gi.i0)(Fh,(0,gi.i7)([(0,gi.iF)({transform:"translateY(25%)"}),(0,gi.iF)({transform:"translateY(0)"})]))),(0,gi.kY)("* => hint-to-asc, * => active-to-asc",(0,gi.i0)(Fh,(0,gi.i7)([(0,gi.iF)({transform:"translateY(0)"}),(0,gi.iF)({transform:"translateY(-25%)"})]))),(0,gi.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,gi.iF)({transform:"translateY(0)"})),(0,gi.wk)("hint-to-desc, active-to-desc, desc",(0,gi.iF)({transform:"translateY(-25%)"})),(0,gi.wk)("hint-to-asc, active-to-asc, asc",(0,gi.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,gi.hZ)("allowChildren",[(0,gi.kY)("* <=> *",[(0,gi.P)("@*",(0,gi.MA)(),{optional:!0})])])};let Sh=(()=>{class r{constructor(){this.changes=new An.B}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const _M={provide:Sh,deps:[[new e.Xx1,new e.kdw,Sh]],useFactory:function r_(r){return r||new Sh}},yM=Oc(class{});let KA=(()=>{class r extends yM{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Tn(t)}constructor(t,i,n,a,s,d,m,I){super(),this._intl=t,this._changeDetectorRef=i,this._sort=n,this._columnDef=a,this._focusMonitor=s,this._elementRef=d,this._ariaDescriber=m,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",I?.arrowPosition&&(this.arrowPosition=I?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=!!t;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,Ka.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Sh),e.rXU(e.gRc),e.rXU(cs,8),e.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),e.rXU(Cs),e.rXU(e.aKT),e.rXU(So,8),e.rXU(n_,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._handleClick()})("keydown",function(s){return n._handleKeydown(s)})("mouseenter",function(){return n._setIndicatorHintVisible(!0)})("mouseleave",function(){return n._setIndicatorHintVisible(!1)}),2&i&&(e.BMQ("aria-sort",n._getAriaSortAttribute()),e.AVh("mat-sort-header-disabled",n._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.Vt3],attrs:Y2,ngContentSelectors:OP,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0)(1,"div",1),e.SdG(2),e.k0s(),e.DNE(3,mM,6,6,"div",2),e.k0s()),2&i&&(e.AVh("mat-sort-header-sorted",n._isSorted())("mat-sort-header-position-before","before"===n.arrowPosition),e.BMQ("tabindex",n._isDisabled()?null:0)("role",n._isDisabled()?null:"button"),e.R7$(3),e.Y8G("ngIf",n._renderArrow()))},dependencies:[l.bT],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[bf.indicator,bf.leftPointer,bf.rightPointer,bf.arrowOpacity,bf.arrowPosition,bf.allowChildren]},changeDetection:0})}}return r})(),bM=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[_M],imports:[l.MD,Fr]})}}return r})();const YP=[[["caption"]],[["colgroup"],["col"]]],wM=["caption","colgroup, col"];function s1(r){return class extends r{get sticky(){return this._sticky}set sticky(o){const t=this._sticky;this._sticky=Tn(o),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const o=this._hasStickyChanged;return this._hasStickyChanged=!1,o}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...o){super(...o),this._sticky=!1,this._hasStickyChanged=!1}}}const Rg=new e.nKC("CDK_TABLE");let Qh=(()=>{class r{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkCellDef",""]]})}}return r})(),gp=(()=>{class r{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkHeaderCellDef",""]]})}}return r})(),Pg=(()=>{class r{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkFooterCellDef",""]]})}}return r})();class z2{}const GP=s1(z2);let qu=(()=>{class r extends GP{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=Tn(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(Rg,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,Qh,5),e.wni(a,gp,5),e.wni(a,Pg,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.cell=s.first),e.mGM(s=e.lsd())&&(n.headerCell=s.first),e.mGM(s=e.lsd())&&(n.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),e.Vt3]})}}return r})();class CM{constructor(o,t){t.nativeElement.classList.add(...o._columnCssClassName)}}let l1=(()=>{class r extends CM{constructor(t,i){super(t,i)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(qu),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.Vt3]})}}return r})(),g0=(()=>{class r extends CM{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const n=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(qu),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.Vt3]})}}return r})();class m0{constructor(){this.tasks=[],this.endTasks=[]}}const o_=new e.nKC("_COALESCED_STYLE_SCHEDULER");let c1=(()=>{class r{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new An.B}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new m0,this._getScheduleObservable().pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new m0;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,_.H)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Fo.s)(1))}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),Rh=(()=>{class r{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Ph?t.headerCell.template:this instanceof Oh?t.footerCell.template:t.cell.template}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q),e.rXU(e._q3))}}static{this.\u0275dir=e.FsC({type:r,features:[e.OA$]})}}return r})();class BM extends Rh{}const A1=s1(BM);let Ph=(()=>{class r extends A1{constructor(t,i,n){super(t,i),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q),e.rXU(e._q3),e.rXU(Rg,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.Vt3,e.OA$]})}}return r})();class V2 extends Rh{}const d1=s1(V2);let Oh=(()=>{class r extends d1{constructor(t,i,n){super(t,i),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q),e.rXU(e._q3),e.rXU(Rg,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.Vt3,e.OA$]})}}return r})(),Lh=(()=>{class r extends Rh{constructor(t,i,n){super(t,i),this._table=n}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q),e.rXU(e._q3),e.rXU(Rg,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.Vt3]})}}return r})(),_u=(()=>{class r{static{this.mostRecentCellOutlet=null}constructor(t){this._viewContainer=t,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","cdkCellOutlet",""]]})}}return r})(),a_=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[_u],encapsulation:2})}}return r})(),Og=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[_u],encapsulation:2})}}return r})(),Lg=(()=>{class r{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["ng-template","cdkNoDataRow",""]]})}}return r})();const MM=["top","bottom","left","right"];class J2{constructor(o,t,i,n,a=!0,s=!0,d){this._isNativeHtmlTable=o,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=n,this._isBrowser=a,this._needsPositionStickyOnElement=s,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(o,t){const i=[];for(const n of o)if(n.nodeType===n.ELEMENT_NODE){i.push(n);for(let a=0;a<n.children.length;a++)i.push(n.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const n of i)this._removeStickyStyle(n,t)})}updateStickyColumns(o,t,i,n=!0){if(!o.length||!this._isBrowser||!t.some(Ce=>Ce)&&!i.some(Ce=>Ce))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=o[0],s=a.children.length,d=this._getCellWidths(a,n),m=this._getStickyStartColumnPositions(d,t),I=this._getStickyEndColumnPositions(d,i),J=t.lastIndexOf(!0),oe=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Ce="rtl"===this.direction,$e=Ce?"right":"left",nt=Ce?"left":"right";for(const Tt of o)for(let Zt=0;Zt<s;Zt++){const ci=Tt.children[Zt];t[Zt]&&this._addStickyStyle(ci,$e,m[Zt],Zt===J),i[Zt]&&this._addStickyStyle(ci,nt,I[Zt],Zt===oe)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===J?[]:d.slice(0,J+1).map((Tt,Zt)=>t[Zt]?Tt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===oe?[]:d.slice(oe).map((Tt,Zt)=>i[Zt+oe]?Tt:null).reverse()}))})}stickRows(o,t,i){if(!this._isBrowser)return;const n="bottom"===i?o.slice().reverse():o,a="bottom"===i?t.slice().reverse():t,s=[],d=[],m=[];for(let J=0,oe=0;J<n.length;J++){if(!a[J])continue;s[J]=oe;const Ce=n[J];m[J]=this._isNativeHtmlTable?Array.from(Ce.children):[Ce];const $e=Ce.getBoundingClientRect().height;oe+=$e,d[J]=$e}const I=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let J=0;J<n.length;J++){if(!a[J])continue;const oe=s[J],Ce=J===I;for(const $e of m[J])this._addStickyStyle($e,i,oe,Ce)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:s,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:s,elements:m})})}updateStickyFooterContainer(o,t){if(!this._isNativeHtmlTable)return;const i=o.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(n=>!n)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(o,t){for(const n of t)o.style[n]="",o.classList.remove(this._borderCellCss[n]);MM.some(n=>-1===t.indexOf(n)&&o.style[n])?o.style.zIndex=this._getCalculatedZIndex(o):(o.style.zIndex="",this._needsPositionStickyOnElement&&(o.style.position=""),o.classList.remove(this._stickCellCss))}_addStickyStyle(o,t,i,n){o.classList.add(this._stickCellCss),n&&o.classList.add(this._borderCellCss[t]),o.style[t]=`${i}px`,o.style.zIndex=this._getCalculatedZIndex(o),this._needsPositionStickyOnElement&&(o.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(o){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const n of MM)o.style[n]&&(i+=t[n]);return i?`${i}`:""}_getCellWidths(o,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],n=o.children;for(let a=0;a<n.length;a++)i.push(n[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(o,t){const i=[];let n=0;for(let a=0;a<o.length;a++)t[a]&&(i[a]=n,n+=o[a]);return i}_getStickyEndColumnPositions(o,t){const i=[];let n=0;for(let a=o.length;a>0;a--)t[a]&&(i[a]=n,n+=o[a]);return i}}const u1=new e.nKC("CDK_SPL");let wf=(()=>{class r{constructor(t,i){this.viewContainer=t,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.c1b),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","rowOutlet",""]]})}}return r})(),v0=(()=>{class r{constructor(t,i){this.viewContainer=t,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.c1b),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","headerRowOutlet",""]]})}}return r})(),_0=(()=>{class r{constructor(t,i){this.viewContainer=t,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.c1b),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","footerRowOutlet",""]]})}}return r})(),l_=(()=>{class r{constructor(t,i){this.viewContainer=t,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.c1b),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","noDataRowOutlet",""]]})}}return r})(),Yg=(()=>{class r{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Tn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Tn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,n,a,s,d,m,I,J,oe,Ce,$e){this._differs=t,this._changeDetectorRef=i,this._elementRef=n,this._dir=s,this._platform=m,this._viewRepeater=I,this._coalescedStyleScheduler=J,this._viewportRuler=oe,this._stickyPositioningListener=Ce,this._ngZone=$e,this._onDestroy=new An.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.bkB,this.viewChange=new Ca.t({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe((0,jn.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),hv(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(n,a,s)=>this._getEmbeddedViewArgs(n.item,s),n=>n.item.data,n=>{1===n.operation&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(n=>{i.get(n.currentIndex).context.$implicit=n.item.data}),this._updateNoDataRow(),this._ngZone&&e.SKi.isInAngularZone()?this._ngZone.onStable.pipe((0,Fo.s)(1),(0,jn.Q)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._elementRef.nativeElement.querySelector("thead");n&&(n.style.display=t.length?"":"none");const a=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),n=this._elementRef.nativeElement.querySelector("tfoot");n&&(n.style.display=t.length?"":"none");const a=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,s)=>{this._addStickyColumnStyles([a],this._headerRowDefs[s])}),this._rowDefs.forEach(a=>{const s=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===a&&s.push(i[d]);this._addStickyColumnStyles(s,a)}),n.forEach((a,s)=>{this._addStickyColumnStyles([a],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let a=this._data[n];const s=this._getRenderRowsForData(a,n,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let d=0;d<s.length;d++){let m=s[d];const I=this._cachedRenderRowsMap.get(m.data);I.has(m.rowDef)?I.get(m.rowDef).push(m):I.set(m.rowDef,[m]),t.push(m)}}return t}_getRenderRowsForData(t,i,n){return this._getRowDefs(t,i).map(s=>{const d=n&&n.has(s)?n.get(s):[];if(d.length){const m=d.shift();return m.dataIndex=i,m}return{data:t,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),c_(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=c_(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=c_(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=c_(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(s,d)=>s||!!d.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),i||n||a}_switchDataSource(t){this._data=[],hv(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;hv(this.dataSource)?t=this.dataSource.connect(this):(0,uv.A)(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,lr.of)(this.dataSource)),this._renderChangeSubscription=t.pipe((0,jn.Q)(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const n=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),a=n.map(d=>d.sticky),s=n.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let n=0;n<t.viewContainer.length;n++){const a=t.viewContainer.get(n);i.push(a.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(a=>!a.when||a.when(i,t));else{let a=this._rowDefs.find(s=>s.when&&s.when(i,t))||this._defaultRowDef;a&&n.push(a)}return n}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,n,a={}){const s=t.viewContainer.createEmbeddedView(i.template,a,n);return this._renderCellTemplateForItem(i,a),s}_renderCellTemplateForItem(t,i){for(let n of this._getCellTemplates(t))_u.mostRecentCellOutlet&&_u.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,n=t.length;i<n;i++){const s=t.get(i).context;s.count=n,s.first=0===i,s.last=i===n-1,s.even=i%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const n=this._columnDefsByName.get(i);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of i){const a=this._document.createElement(n.tag);a.setAttribute("role","rowgroup");for(const s of n.outlets)a.appendChild(s.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,n)=>i||n.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new J2(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,lr.of)()).pipe((0,jn.Q)(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const n=this._noDataRowOutlet.viewContainer;if(i){const a=n.createEmbeddedView(t.templateRef),s=a.rootNodes[0];1===a.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else n.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e._q3),e.rXU(e.gRc),e.rXU(e.aKT),e.kS0("role"),e.rXU(Va,8),e.rXU(l.qQ),e.rXU(ea),e.rXU(cf),e.rXU(o_),e.rXU(xs),e.rXU(u1,12),e.rXU(e.SKi,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,Lg,5),e.wni(a,qu,5),e.wni(a,Lh,5),e.wni(a,Ph,5),e.wni(a,Oh,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._noDataRow=s.first),e.mGM(s=e.lsd())&&(n._contentColumnDefs=s),e.mGM(s=e.lsd())&&(n._contentRowDefs=s),e.mGM(s=e.lsd())&&(n._contentHeaderRowDefs=s),e.mGM(s=e.lsd())&&(n._contentFooterRowDefs=s)}},viewQuery:function(i,n){if(1&i&&(e.GBs(wf,7),e.GBs(v0,7),e.GBs(_0,7),e.GBs(l_,7)),2&i){let a;e.mGM(a=e.lsd())&&(n._rowOutlet=a.first),e.mGM(a=e.lsd())&&(n._headerRowOutlet=a.first),e.mGM(a=e.lsd())&&(n._footerRowOutlet=a.first),e.mGM(a=e.lsd())&&(n._noDataRowOutlet=a.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e.Jv_([{provide:Rg,useExisting:r},{provide:cf,useClass:Fm},{provide:o_,useClass:c1},{provide:u1,useValue:null}])],ngContentSelectors:wM,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,n){1&i&&(e.NAR(YP),e.SdG(0),e.SdG(1,1),e.eu8(2,0)(3,1)(4,2)(5,3))},dependencies:[wf,v0,_0,l_],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return r})();function c_(r,o){return r.concat(Array.from(o))}let A_=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Nc]})}}return r})();const q2=[[["caption"]],[["colgroup"],["col"]]],IM=["caption","colgroup, col"];let d_=(()=>{class r extends Yg{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mdc-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[e.Jv_([{provide:Yg,useExisting:r},{provide:Rg,useExisting:r},{provide:o_,useClass:c1},{provide:cf,useClass:Fm},{provide:u1,useValue:null}]),e.Vt3],ngContentSelectors:IM,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,n){1&i&&(e.NAR(q2),e.SdG(0),e.SdG(1,1),e.eu8(2,0)(3,1)(4,2)(5,3))},dependencies:[wf,v0,_0,l_],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return r})();class rF extends Kd{get data(){return this._data.value}set data(o){o=Array.isArray(o)?o:[],this._data.next(o),this._renderChangesSubscription||this._filterData(o)}get filter(){return this._filter.value}set filter(o){this._filter.next(o),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(o){this._sort=o,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(o){this._paginator=o,this._updateChangeSubscription()}constructor(o=[]){super(),this._renderData=new Ca.t([]),this._filter=new Ca.t(""),this._internalPageChanges=new An.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,i)=>{const n=t[i];if(mc(n)){const a=Number(n);return a<9007199254740991?a:n}return n},this.sortData=(t,i)=>{const n=i.active,a=i.direction;return n&&""!=a?t.sort((s,d)=>{let m=this.sortingDataAccessor(s,n),I=this.sortingDataAccessor(d,n);const J=typeof m,oe=typeof I;J!==oe&&("number"===J&&(m+=""),"number"===oe&&(I+=""));let Ce=0;return null!=m&&null!=I?m>I?Ce=1:m<I&&(Ce=-1):null!=m?Ce=1:null!=I&&(Ce=-1),Ce*("asc"==a?1:-1)}):t},this.filterPredicate=(t,i)=>{const n=Object.keys(t).reduce((s,d)=>s+t[d]+"\u25ec","").toLowerCase(),a=i.trim().toLowerCase();return-1!=n.indexOf(a)},this._data=new Ca.t(o),this._updateChangeSubscription()}_updateChangeSubscription(){const o=this._sort?(0,Ka.h)(this._sort.sortChange,this._sort.initialized):(0,lr.of)(null),t=this._paginator?(0,Ka.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,lr.of)(null),n=Kl([this._data,this._filter]).pipe((0,h.T)(([d])=>this._filterData(d))),a=Kl([n,o]).pipe((0,h.T)(([d])=>this._orderData(d))),s=Kl([a,t]).pipe((0,h.T)(([d])=>this._pageData(d)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(d=>this._renderData.next(d))}_filterData(o){return this.filteredData=null==this.filter||""===this.filter?o:o.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(o){return this.sort?this.sortData(o.slice(),this.sort):o}_pageData(o){if(!this.paginator)return o;const t=this.paginator.pageIndex*this.paginator.pageSize;return o.slice(t,t+this.paginator.pageSize)}_updatePaginator(o){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=o,t.pageIndex>0)){const i=Math.ceil(t.length/t.pageSize)-1||0,n=Math.min(t.pageIndex,i);n!==t.pageIndex&&(t.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class qP extends rF{}const oF=[[["caption"]],[["colgroup"],["col"]]],e3=["caption","colgroup, col"];let ks=(()=>{class r extends Yg{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-table"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("mat-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[e.Jv_([{provide:cf,useClass:Fm},{provide:Yg,useExisting:r},{provide:Rg,useExisting:r},{provide:o_,useClass:c1},{provide:u1,useValue:null}]),e.Vt3],ngContentSelectors:e3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,n){1&i&&(e.NAR(oF),e.SdG(0),e.SdG(1,1),e.eu8(2,0)(3,1)(4,2)(5,3))},dependencies:[wf,v0,_0,l_],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return r})(),oA=(()=>{class r extends Qh{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matCellDef",""]],features:[e.Jv_([{provide:Qh,useExisting:r}]),e.Vt3]})}}return r})(),EA=(()=>{class r extends gp{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matHeaderCellDef",""]],features:[e.Jv_([{provide:gp,useExisting:r}]),e.Vt3]})}}return r})(),u=(()=>{class r extends qu{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e.Jv_([{provide:qu,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),e.Vt3]})}}return r})(),v=(()=>{class r extends l1{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[e.Vt3]})}}return r})(),P=(()=>{class r extends g0{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[e.Vt3]})}}return r})(),te=(()=>{class r extends Ph{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e.Jv_([{provide:Ph,useExisting:r}]),e.Vt3]})}}return r})(),ye=(()=>{class r extends Lh{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e.Jv_([{provide:Lh,useExisting:r}]),e.Vt3]})}}return r})(),Ne=(()=>{class r extends a_{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[e.Jv_([{provide:a_,useExisting:r}]),e.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[_u],encapsulation:2})}}return r})(),zt=(()=>{class r extends Og{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[e.Jv_([{provide:Og,useExisting:r}]),e.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[_u],encapsulation:2})}}return r})(),xn=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[A_,Fr,Fr]})}}return r})();class Ln extends rF{}function _r(r,o){}const to=function(r){return{animationDuration:r}},Un=function(r,o){return{value:r,params:o}},s3={translateTab:(0,gi.hZ)("translateTab",[(0,gi.wk)("center, void, left-origin-center, right-origin-center",(0,gi.iF)({transform:"none"})),(0,gi.wk)("left",(0,gi.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,gi.wk)("right",(0,gi.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,gi.kY)("* => left, * => right, left => center, right => center",(0,gi.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,gi.kY)("void => left-origin-center",[(0,gi.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,gi.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,gi.kY)("void => right-origin-center",[(0,gi.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,gi.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let l3=(()=>{class r extends yc{constructor(t,i,n,a){super(t,i,a),this._host=n,this._centeringSub=zr.yU.EMPTY,this._leavingSub=zr.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ia(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU((0,e.Rfq)(()=>uG)),e.rXU(l.qQ))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matTabBodyHost",""]],features:[e.Vt3]})}}return r})(),c3=(()=>{class r{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,n){this._elementRef=t,this._dir=i,this._dirChangeSubscription=zr.yU.EMPTY,this._translateTabComplete=new An.B,this._onCentering=new e.bkB,this._beforeCentering=new e.bkB,this._afterLeavingCenter=new e.bkB,this._onCentered=new e.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(a=>{this._computePositionAnimationState(a),n.markForCheck()})),this._translateTabComplete.pipe((0,qc.F)((a,s)=>a.fromState===s.fromState&&a.toState===s.toState)).subscribe(a=>{this._isCenterPosition(a.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(a.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Va,8),e.rXU(e.gRc))}}static{this.\u0275dir=e.FsC({type:r,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}}return r})(),uG=(()=>{class r extends c3{constructor(t,i,n){super(t,i,n)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Va,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-tab-body"]],viewQuery:function(i,n){if(1&i&&e.GBs(yc,5),2&i){let a;e.mGM(a=e.lsd())&&(n._portalHost=a.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[e.Vt3],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.bIt("@translateTab.start",function(s){return n._onTranslateTabStarted(s)})("@translateTab.done",function(s){return n._translateTabComplete.next(s)}),e.DNE(2,_r,0,0,"ng-template",2),e.k0s()),2&i&&e.Y8G("@translateTab",e.l_i(3,Un,n._position,e.eq3(1,to,n.animationDuration)))},dependencies:[l3],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[s3.translateTab]}})}}return r})();const hG=new e.nKC("MatTabContent"),pG=new e.nKC("MatTabLabel"),fG=new e.nKC("MAT_TAB"),mG=new e.nKC("MatInkBarPositioner",{providedIn:"root",factory:function gG(){return o=>({left:o?(o.offsetLeft||0)+"px":"0",width:o?(o.offsetWidth||0)+"px":"0"})}}),vG=Oc(class{});let _G=(()=>{class r extends vG{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:r,features:[e.Vt3]})}}return r})();const yG=Oc(class{}),d3=new e.nKC("MAT_TAB_GROUP");let bG=(()=>{class r extends yG{get content(){return this._contentPortal}constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new An.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.c1b),e.rXU(d3,8))}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(i,n){if(1&i&&e.GBs(e.C4Q,7),2&i){let a;e.mGM(a=e.lsd())&&(n._implicitContent=a.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[e.Vt3,e.OA$]})}}return r})();const u3=Os({passive:!0});let EG=(()=>{class r{get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Tn(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Ya(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(t,i,n,a,s,d,m){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=n,this._dir=a,this._ngZone=s,this._platform=d,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new An.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new An.B,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.bkB,this.indexFocused=new e.bkB,s.runOutsideAngular(()=>{Ue(t.nativeElement,"mouseleave").pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ue(this._previousPaginator.nativeElement,"touchstart",u3).pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ue(this._nextPaginator.nativeElement,"touchstart",u3).pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,lr.of)("ltr"),i=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new gl(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(n),(0,Ka.h)(t,i,this._items.changes,this._itemsResized()).pipe((0,jn.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),n()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return"function"!=typeof ResizeObserver?Zd.w:this._items.changes.pipe(ia(this._items),(0,Zs.n)(t=>new Ha.c(i=>this._ngZone.runOutsideAngular(()=>{const n=new ResizeObserver(a=>i.next(a));return t.forEach(a=>n.observe(a.elementRef.nativeElement)),()=>{n.disconnect()}}))),Bl(1),(0,Jr.p)(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ea(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:s}=i.elementRef.nativeElement;let d,m;"ltr"==this._getLayoutDirection()?(d=a,m=d+s):(m=this._tabListInner.nativeElement.offsetWidth-a,d=m-s);const I=this.scrollDistance,J=this.scrollDistance+n;d<I?this.scrollDistance-=I-d:m>J&&(this.scrollDistance+=Math.min(m-J,d-I))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),(0,Co.O)(650,100).pipe((0,jn.Q)((0,Ka.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:n,distance:a}=this._scrollHeader(t);(0===a||a>=n)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(xs),e.rXU(Va,8),e.rXU(e.SKi),e.rXU(ea),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:r,inputs:{disablePagination:"disablePagination"}})}}return r})(),BG=(()=>{class r extends EG{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Tn(t)}constructor(t,i,n,a,s,d,m){super(t,i,n,a,s,d,m),this._disableRipple=!1}_itemSelected(t){t.preventDefault()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(xs),e.rXU(Va,8),e.rXU(e.SKi),e.rXU(ea),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:r,inputs:{disableRipple:"disableRipple"},features:[e.Vt3]})}}return r})();const h3=new e.nKC("MAT_TABS_CONFIG");let MG=0;const xG=Yl(sl(class{constructor(r){this._elementRef=r}}),"primary");let DG=(()=>{class r extends xG{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Tn(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Ya(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=Ya(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Tn(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=Tn(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,n,a){super(t),this._changeDetectorRef=i,this._animationMode=a,this._tabs=new e.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=zr.yU.EMPTY,this._tabLabelSubscription=zr.yU.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new e.bkB,this.focusChange=new e.bkB,this.animationDone=new e.bkB,this.selectedTabChange=new e.bkB(!0),this._groupId=MG++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight,this.contentTabIndex=n?.contentTabIndex??null,this.preserveContent=!!n?.preserveContent}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((n,a)=>n.isActive=a===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,n)=>{i.position=n-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let n;for(let a=0;a<i.length;a++)if(i[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,n=i[a];break}!n&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ia(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new IG;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Ka.h)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,n){i.focusIndex=n,t.disabled||(this.selectedIndex=n)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(h3,8),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:r,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[e.Vt3]})}}return r})();class IG{}function kG(r,o){1&r&&e.SdG(0)}const p3=["*"];function TG(r,o){}const FG=function(r){return{animationDuration:r}},SG=function(r,o){return{value:r,params:o}},QG=["tabListContainer"],RG=["tabList"],PG=["tabListInner"],OG=["nextPaginator"],LG=["previousPaginator"],YG=["tabBodyWrapper"],NG=["tabHeader"];function jG(r,o){}function GG(r,o){if(1&r&&e.DNE(0,jG,0,0,"ng-template",10),2&r){const t=e.XpG().$implicit;e.Y8G("cdkPortalOutlet",t.templateLabel)}}function UG(r,o){if(1&r&&e.EFF(0),2&r){const t=e.XpG().$implicit;e.JRh(t.textLabel)}}function zG(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){const n=e.eBV(t),a=n.$implicit,s=n.index,d=e.XpG(),m=e.sdS(1);return e.Njj(d._handleClick(a,m,s))})("cdkFocusChange",function(n){const s=e.eBV(t).index,d=e.XpG();return e.Njj(d._tabFocusChanged(n,s))}),e.j41(1,"div",7),e.DNE(2,GG,1,1,"ng-template",8),e.DNE(3,UG,1,1,"ng-template",null,9,e.C5r),e.k0s()()}if(2&r){const t=o.$implicit,i=o.index,n=e.sdS(4),a=e.XpG();e.AVh("mat-tab-label-active",a.selectedIndex===i),e.Y8G("id",a._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("matRippleDisabled",t.disabled||a.disableRipple),e.BMQ("tabIndex",a._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(i))("aria-selected",a.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),e.R7$(2),e.Y8G("ngIf",t.templateLabel)("ngIfElse",n)}}function HG(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-tab-body",11),e.bIt("_onCentered",function(){e.eBV(t);const n=e.XpG();return e.Njj(n._removeTabBodyWrapperHeight())})("_onCentering",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a._setTabBodyWrapperHeight(n))}),e.k0s()}if(2&r){const t=o.$implicit,i=o.index,n=e.XpG();e.AVh("mat-tab-body-active",n.selectedIndex===i),e.Y8G("id",n._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",n.animationDuration)("preserveContent",n.preserveContent),e.BMQ("tabindex",null!=n.contentTabIndex&&n.selectedIndex===i?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(i))}}let f3=(()=>{class r{constructor(t,i,n,a){this._elementRef=t,this._ngZone=i,this._inkBarPositioner=n,this._animationMode=a}alignToElement(t){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,Fo.s)(1)).subscribe(()=>{const i=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=i.left,n.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(mG),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("_mat-animation-noopable","NoopAnimations"===n._animationMode)}})}}return r})(),Td=(()=>{class r extends bG{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-tab"]],contentQueries:function(i,n,a){if(1&i&&(e.wni(a,pG,5),e.wni(a,hG,7,e.C4Q)),2&i){let s;e.mGM(s=e.lsd())&&(n.templateLabel=s.first),e.mGM(s=e.lsd())&&(n._explicitContent=s.first)}},hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("mat-id-collision",null)},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[e.Jv_([{provide:fG,useExisting:r}]),e.Vt3],ngContentSelectors:p3,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.DNE(0,kG,1,0,"ng-template"))},encapsulation:2})}}return r})(),VG=(()=>{class r extends l3{constructor(t,i,n,a){super(t,i,n,a)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU((0,e.Rfq)(()=>g3)),e.rXU(l.qQ))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matTabBodyHost",""]],features:[e.Vt3]})}}return r})(),g3=(()=>{class r extends c3{constructor(t,i,n){super(t,i,n)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(Va,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-tab-body"]],viewQuery:function(i,n){if(1&i&&e.GBs(yc,5),2&i){let a;e.mGM(a=e.lsd())&&(n._portalHost=a.first)}},hostAttrs:[1,"mat-tab-body"],features:[e.Vt3],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.bIt("@translateTab.start",function(s){return n._onTranslateTabStarted(s)})("@translateTab.done",function(s){return n._translateTabComplete.next(s)}),e.DNE(2,TG,0,0,"ng-template",2),e.k0s()),2&i&&e.Y8G("@translateTab",e.l_i(3,SG,n._position,e.eq3(1,FG,n.animationDuration)))},dependencies:[VG],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[s3.translateTab]}})}}return r})(),m3=(()=>{class r extends _G{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275dir=e.FsC({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,n){2&i&&(e.BMQ("aria-disabled",!!n.disabled),e.AVh("mat-tab-disabled",n.disabled))},inputs:{disabled:"disabled"},features:[e.Vt3]})}}return r})(),JG=(()=>{class r extends BG{constructor(t,i,n,a,s,d,m){super(t,i,n,a,s,d,m)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(xs),e.rXU(Va,8),e.rXU(e.SKi),e.rXU(ea),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-tab-header"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,m3,4),2&i){let s;e.mGM(s=e.lsd())&&(n._items=s)}},viewQuery:function(i,n){if(1&i&&(e.GBs(f3,7),e.GBs(QG,7),e.GBs(RG,7),e.GBs(PG,7),e.GBs(OG,5),e.GBs(LG,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._inkBar=a.first),e.mGM(a=e.lsd())&&(n._tabListContainer=a.first),e.mGM(a=e.lsd())&&(n._tabList=a.first),e.mGM(a=e.lsd())&&(n._tabListInner=a.first),e.mGM(a=e.lsd())&&(n._nextPaginator=a.first),e.mGM(a=e.lsd())&&(n._previousPaginator=a.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mat-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.Vt3],ngContentSelectors:p3,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"button",0,1),e.bIt("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(s){return n._handlePaginatorPress("before",s)})("touchend",function(){return n._stopInterval()}),e.nrm(2,"div",2),e.k0s(),e.j41(3,"div",3,4),e.bIt("keydown",function(s){return n._handleKeydown(s)}),e.j41(5,"div",5,6),e.bIt("cdkObserveContent",function(){return n._onContentChanges()}),e.j41(7,"div",7,8),e.SdG(9),e.k0s(),e.nrm(10,"mat-ink-bar"),e.k0s()(),e.j41(11,"button",9,10),e.bIt("mousedown",function(s){return n._handlePaginatorPress("after",s)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),e.nrm(13,"div",2),e.k0s()),2&i&&(e.AVh("mat-tab-header-pagination-disabled",n._disableScrollBefore),e.Y8G("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),e.R7$(5),e.AVh("_mat-animation-noopable","NoopAnimations"===n._animationMode),e.R7$(6),e.AVh("mat-tab-header-pagination-disabled",n._disableScrollAfter),e.Y8G("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},dependencies:[st,Ba,f3],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2})}}return r})(),eu=(()=>{class r extends DG{constructor(t,i,n,a){super(t,i,n,a)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(h3,8),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["mat-tab-group"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,Td,5),2&i){let s;e.mGM(s=e.lsd())&&(n._allTabs=s)}},viewQuery:function(i,n){if(1&i&&(e.GBs(YG,5),e.GBs(NG,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._tabBodyWrapper=a.first),e.mGM(a=e.lsd())&&(n._tabHeader=a.first)}},hostAttrs:["ngSkipHydration","",1,"mat-tab-group"],hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mat-tab-group-dynamic-height",n.dynamicHeight)("mat-tab-group-inverted-header","below"===n.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[e.Jv_([{provide:d3,useExisting:r}]),e.Vt3],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,n){1&i&&(e.j41(0,"mat-tab-header",0,1),e.bIt("indexFocused",function(s){return n._focusChanged(s)})("selectFocusedIndex",function(s){return n.selectedIndex=s}),e.DNE(2,zG,5,15,"div",2),e.k0s(),e.j41(3,"div",3,4),e.DNE(5,HG,1,11,"mat-tab-body",5),e.k0s()),2&i&&(e.Y8G("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),e.R7$(2),e.Y8G("ngForOf",n._tabs),e.R7$(1),e.AVh("_mat-animation-noopable","NoopAnimations"===n._animationMode),e.R7$(2),e.Y8G("ngForOf",n._tabs))},dependencies:[l.YU,l.Sq,l.bT,yc,st,Ud,m3,g3,JG],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2})}}return r})(),v3=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[l.MD,Fr,wd,yt,UA,bh,Fr]})}}return r})(),_3=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Fr,Fr]})}}return r})(),KG=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[vd]})}}return r})(),sF=(()=>{class r{constructor(){this.changes=new An.B,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const s6={provide:sF,deps:[[new e.Xx1,new e.kdw,sF]],useFactory:function a6(r){return r||new sF}};let C3=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[s6,Lc],imports:[Fr,l.MD,wd,KG,Zm,yt,Fr]})}}return r})();var m1=ie(7586);const w0=m1||ie.t(m1,2),E3=new e.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function d6(){return{useUtc:!1}}});function u6(r,o){const t=Array(r);for(let i=0;i<r;i++)t[i]=o(i);return t}let h6=(()=>{class r extends vs{constructor(t,i){super(),this._options=i,this.setLocale(t||w0.locale())}setLocale(t){super.setLocale(t);let i=w0.localeData(t);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:u6(31,n=>this.createDate(2017,0,n+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,i,n){const a=this._createMoment({year:t,month:i,date:n}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(t,i){return t&&"string"==typeof t?this._createMoment(t,i,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,i){return t=this.clone(t),this.isValid(t),t.format(i)}addCalendarYears(t,i){return this.clone(t).add({years:i})}addCalendarMonths(t,i){return this.clone(t).add({months:i})}addCalendarDays(t,i){return this.clone(t).add({days:i})}toIso8601(t){return this.clone(t).format()}deserialize(t){let i;if(t instanceof Date)i=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;i=this._createMoment(t,w0.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(t)}isDateInstance(t){return w0.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return w0.invalid()}_createMoment(t,i,n){const{strict:a,useUtc:s}=this._options||{};return s?w0.utc(t,i,n,a):w0(t,i,n,a)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(mA,8),e.KVO(E3,8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();const p6={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let f6=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[{provide:vs,useClass:h6,deps:[mA,E3]}]})}}return r})(),B3=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[{provide:vA,useValue:p6}],imports:[f6]})}}return r})(),g6=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({providers:[{provide:Qg,useClass:r2}],imports:[A_,fI,fg,fv,xy,Af,xC,C3,Bg,B3,gb,fE,bE,Zm,kh,lB,js,Sb,CA,Ub,JB,_2,Lb,lM,dM,i_,gM,bM,xn,v3,_3,c0,A_,fI,fg,fv,xy,Af,xC,C3,Bg,B3,gb,fE,bE,Zm,kh,js,lB,Sb,CA,Ub,JB,_2,Lb,lM,dM,i_,gM,bM,xn,v3,_3,c0]})}return r})();function M3(r){return new e.wOt(3e3,!1)}function Ng(r){switch(r.length){case 0:return new gi.sf;case 1:return r[0];default:return new gi.ui(r)}}function x3(r,o,t=new Map,i=new Map){const n=[],a=[];let s=-1,d=null;if(o.forEach(m=>{const I=m.get("offset"),J=I==s,oe=J&&d||new Map;m.forEach((Ce,$e)=>{let nt=$e,Tt=Ce;if("offset"!==$e)switch(nt=r.normalizePropertyName(nt,n),Tt){case gi.FX:Tt=t.get($e);break;case gi.kp:Tt=i.get($e);break;default:Tt=r.normalizeStyleValue($e,nt,Tt,n)}oe.set(nt,Tt)}),J||a.push(oe),d=oe,s=I}),n.length)throw function Y6(r){return new e.wOt(3502,!1)}();return a}function lF(r,o,t,i){switch(o){case"start":r.onStart(()=>i(t&&cF(t,"start",r)));break;case"done":r.onDone(()=>i(t&&cF(t,"done",r)));break;case"destroy":r.onDestroy(()=>i(t&&cF(t,"destroy",r)))}}function cF(r,o,t){const a=AF(r.element,r.triggerName,r.fromState,r.toState,o||r.phaseName,t.totalTime??r.totalTime,!!t.disabled),s=r._data;return null!=s&&(a._data=s),a}function AF(r,o,t,i,n="",a=0,s){return{element:r,triggerName:o,fromState:t,toState:i,phaseName:n,totalTime:a,disabled:!!s}}function yu(r,o,t){let i=r.get(o);return i||r.set(o,i=t),i}function D3(r){const o=r.indexOf(":");return[r.substring(1,o),r.slice(o+1)]}const Z6=(()=>typeof document>"u"?null:document.documentElement)();function dF(r){const o=r.parentNode||r.host||null;return o===Z6?null:o}let C0=null,I3=!1;function k3(r,o){for(;o;){if(o===r)return!0;o=dF(o)}return!1}function T3(r,o,t){if(t)return Array.from(r.querySelectorAll(o));const i=r.querySelector(o);return i?[i]:[]}let F3=(()=>{class r{validateStyleProperty(t){return function q6(r){C0||(C0=function e7(){return typeof document<"u"?document.body:null}()||{},I3=!!C0.style&&"WebkitAppearance"in C0.style);let o=!0;return C0.style&&!function $6(r){return"ebkit"==r.substring(1,6)}(r)&&(o=r in C0.style,!o&&I3&&(o="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in C0.style)),o}(t)}matchesElement(t,i){return!1}containsElement(t,i){return k3(t,i)}getParentElement(t){return dF(t)}query(t,i,n){return T3(t,i,n)}computeStyle(t,i,n){return n||""}animate(t,i,n,a,s,d=[],m){return new gi.sf(n,a)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),uF=(()=>{class r{static{this.NOOP=new F3}}return r})();const t7=1e3,hF="ng-enter",SM="ng-leave",QM="ng-trigger",RM=".ng-trigger",Q3="ng-animating",pF=".ng-animating";function Cf(r){if("number"==typeof r)return r;const o=r.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:fF(parseFloat(o[1]),o[2])}function fF(r,o){return"s"===o?r*t7:r}function PM(r,o,t){return r.hasOwnProperty("duration")?r:function r7(r,o,t){let n,a=0,s="";if("string"==typeof r){const d=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return o.push(M3()),{duration:0,delay:0,easing:""};n=fF(parseFloat(d[1]),d[2]);const m=d[3];null!=m&&(a=fF(parseFloat(m),d[4]));const I=d[5];I&&(s=I)}else n=r;if(!t){let d=!1,m=o.length;n<0&&(o.push(function m6(){return new e.wOt(3100,!1)}()),d=!0),a<0&&(o.push(function v6(){return new e.wOt(3101,!1)}()),d=!0),d&&o.splice(m,0,M3())}return{duration:n,delay:a,easing:s}}(r,o,t)}function v1(r,o={}){return Object.keys(r).forEach(t=>{o[t]=r[t]}),o}function R3(r){const o=new Map;return Object.keys(r).forEach(t=>{o.set(t,r[t])}),o}function jg(r,o=new Map,t){if(t)for(let[i,n]of t)o.set(i,n);for(let[i,n]of r)o.set(i,n);return o}function vp(r,o,t){o.forEach((i,n)=>{const a=mF(n);t&&!t.has(n)&&t.set(n,r.style[a]),r.style[a]=i})}function E0(r,o){o.forEach((t,i)=>{const n=mF(i);r.style[n]=""})}function _1(r){return Array.isArray(r)?1==r.length?r[0]:(0,gi.K2)(r):r}const gF=new RegExp("{{\\s*(.+?)\\s*}}","g");function O3(r){let o=[];if("string"==typeof r){let t;for(;t=gF.exec(r);)o.push(t[1]);gF.lastIndex=0}return o}function y1(r,o,t){const i=r.toString(),n=i.replace(gF,(a,s)=>{let d=o[s];return null==d&&(t.push(function y6(r){return new e.wOt(3003,!1)}()),d=""),d.toString()});return n==i?r:n}function OM(r){const o=[];let t=r.next();for(;!t.done;)o.push(t.value),t=r.next();return o}const s7=/-+([a-z0-9])/g;function mF(r){return r.replace(s7,(...o)=>o[1].toUpperCase())}function bu(r,o,t){switch(o.type){case 7:return r.visitTrigger(o,t);case 0:return r.visitState(o,t);case 1:return r.visitTransition(o,t);case 2:return r.visitSequence(o,t);case 3:return r.visitGroup(o,t);case 4:return r.visitAnimate(o,t);case 5:return r.visitKeyframes(o,t);case 6:return r.visitStyle(o,t);case 8:return r.visitReference(o,t);case 9:return r.visitAnimateChild(o,t);case 10:return r.visitAnimateRef(o,t);case 11:return r.visitQuery(o,t);case 12:return r.visitStagger(o,t);default:throw function b6(r){return new e.wOt(3004,!1)}()}}function L3(r,o){return window.getComputedStyle(r)[o]}const LM="*";function A7(r,o){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function d7(r,o,t){if(":"==r[0]){const m=function u7(r,o){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return o.push(function R6(r){return new e.wOt(3016,!1)}()),"* => *"}}(r,t);if("function"==typeof m)return void o.push(m);r=m}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Q6(r){return new e.wOt(3015,!1)}()),o;const n=i[1],a=i[2],s=i[3];o.push(Y3(n,s));"<"==a[0]&&!(n==LM&&s==LM)&&o.push(Y3(s,n))}(i,t,o)):t.push(r),t}const YM=new Set(["true","1"]),NM=new Set(["false","0"]);function Y3(r,o){const t=YM.has(r)||NM.has(r),i=YM.has(o)||NM.has(o);return(n,a)=>{let s=r==LM||r==n,d=o==LM||o==a;return!s&&t&&"boolean"==typeof n&&(s=n?YM.has(r):NM.has(r)),!d&&i&&"boolean"==typeof a&&(d=a?YM.has(o):NM.has(o)),s&&d}}const h7=new RegExp("s*:selfs*,?","g");function vF(r,o,t,i){return new p7(r).build(o,t,i)}class p7{constructor(o){this._driver=o}build(o,t,i){const n=new m7(t);return this._resetContextStyleTimingState(n),bu(this,_1(o),n)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,t){let i=t.queryCount=0,n=t.depCount=0;const a=[],s=[];return"@"==o.name.charAt(0)&&t.errors.push(function C6(){return new e.wOt(3006,!1)}()),o.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const m=d,I=m.name;I.toString().split(/\s*,\s*/).forEach(J=>{m.name=J,a.push(this.visitState(m,t))}),m.name=I}else if(1==d.type){const m=this.visitTransition(d,t);i+=m.queryCount,n+=m.depCount,s.push(m)}else t.errors.push(function E6(){return new e.wOt(3007,!1)}())}),{type:7,name:o.name,states:a,transitions:s,queryCount:i,depCount:n,options:null}}visitState(o,t){const i=this.visitStyle(o.styles,t),n=o.options&&o.options.params||null;if(i.containsDynamicStyles){const a=new Set,s=n||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(m=>{O3(m).forEach(I=>{s.hasOwnProperty(I)||a.add(I)})})}),a.size&&(OM(a.values()),t.errors.push(function B6(r,o){return new e.wOt(3008,!1)}()))}return{type:0,name:o.name,style:i,options:n?{params:n}:null}}visitTransition(o,t){t.queryCount=0,t.depCount=0;const i=bu(this,_1(o.animation),t);return{type:1,matchers:A7(o.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:B0(o.options)}}visitSequence(o,t){return{type:2,steps:o.steps.map(i=>bu(this,i,t)),options:B0(o.options)}}visitGroup(o,t){const i=t.currentTime;let n=0;const a=o.steps.map(s=>{t.currentTime=i;const d=bu(this,s,t);return n=Math.max(n,t.currentTime),d});return t.currentTime=n,{type:3,steps:a,options:B0(o.options)}}visitAnimate(o,t){const i=function _7(r,o){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return _F(PM(r,o).duration,0,"");const t=r;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=_F(0,0,"");return a.dynamic=!0,a.strValue=t,a}const n=PM(t,o);return _F(n.duration,n.delay,n.easing)}(o.timings,t.errors);t.currentAnimateTimings=i;let n,a=o.styles?o.styles:(0,gi.iF)({});if(5==a.type)n=this.visitKeyframes(a,t);else{let s=o.styles,d=!1;if(!s){d=!0;const I={};i.easing&&(I.easing=i.easing),s=(0,gi.iF)(I)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(s,t);m.isEmptyStep=d,n=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(o,t){const i=this._makeStyleAst(o,t);return this._validateStyleAst(i,t),i}_makeStyleAst(o,t){const i=[],n=Array.isArray(o.styles)?o.styles:[o.styles];for(let d of n)"string"==typeof d?d===gi.kp?i.push(d):t.errors.push(new e.wOt(3002,!1)):i.push(R3(d));let a=!1,s=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(s=d.get("easing"),d.delete("easing")),!a))for(let m of d.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:s,offset:o.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(o,t){const i=t.currentAnimateTimings;let n=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),o.styles.forEach(s=>{"string"!=typeof s&&s.forEach((d,m)=>{const I=t.collectedStyles.get(t.currentQuerySelector),J=I.get(m);let oe=!0;J&&(a!=n&&a>=J.startTime&&n<=J.endTime&&(t.errors.push(function x6(r,o,t,i,n){return new e.wOt(3010,!1)}()),oe=!1),a=J.startTime),oe&&I.set(m,{startTime:a,endTime:n}),t.options&&function a7(r,o,t){const i=o.params||{},n=O3(r);n.length&&n.forEach(a=>{i.hasOwnProperty(a)||t.push(function _6(r){return new e.wOt(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(o,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function D6(){return new e.wOt(3011,!1)}()),i;let a=0;const s=[];let d=!1,m=!1,I=0;const J=o.steps.map(ci=>{const xi=this._makeStyleAst(ci,t);let Oi=null!=xi.offset?xi.offset:function v7(r){if("string"==typeof r)return null;let o=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;o=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const t=r;o=parseFloat(t.get("offset")),t.delete("offset")}return o}(xi.styles),Ui=0;return null!=Oi&&(a++,Ui=xi.offset=Oi),m=m||Ui<0||Ui>1,d=d||Ui<I,I=Ui,s.push(Ui),xi});m&&t.errors.push(function I6(){return new e.wOt(3012,!1)}()),d&&t.errors.push(function k6(){return new e.wOt(3200,!1)}());const oe=o.steps.length;let Ce=0;a>0&&a<oe?t.errors.push(function T6(){return new e.wOt(3202,!1)}()):0==a&&(Ce=1/(oe-1));const $e=oe-1,nt=t.currentTime,Tt=t.currentAnimateTimings,Zt=Tt.duration;return J.forEach((ci,xi)=>{const Oi=Ce>0?xi==$e?1:Ce*xi:s[xi],Ui=Oi*Zt;t.currentTime=nt+Tt.delay+Ui,Tt.duration=Ui,this._validateStyleAst(ci,t),ci.offset=Oi,i.styles.push(ci)}),i}visitReference(o,t){return{type:8,animation:bu(this,_1(o.animation),t),options:B0(o.options)}}visitAnimateChild(o,t){return t.depCount++,{type:9,options:B0(o.options)}}visitAnimateRef(o,t){return{type:10,animation:this.visitReference(o.animation,t),options:B0(o.options)}}visitQuery(o,t){const i=t.currentQuerySelector,n=o.options||{};t.queryCount++,t.currentQuery=o;const[a,s]=function f7(r){const o=!!r.split(/\s*,\s*/).find(t=>":self"==t);return o&&(r=r.replace(h7,"")),r=r.replace(/@\*/g,RM).replace(/@\w+/g,t=>RM+"-"+t.slice(1)).replace(/:animating/g,pF),[r,o]}(o.selector);t.currentQuerySelector=i.length?i+" "+a:a,yu(t.collectedStyles,t.currentQuerySelector,new Map);const d=bu(this,_1(o.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:d,originalSelector:o.selector,options:B0(o.options)}}visitStagger(o,t){t.currentQuery||t.errors.push(function F6(){return new e.wOt(3013,!1)}());const i="full"===o.timings?{duration:0,delay:0,easing:"full"}:PM(o.timings,t.errors,!0);return{type:12,animation:bu(this,_1(o.animation),t),timings:i,options:null}}}class m7{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function B0(r){return r?(r=v1(r)).params&&(r.params=function g7(r){return r?v1(r):null}(r.params)):r={},r}function _F(r,o,t){return{duration:r,delay:o,easing:t}}function yF(r,o,t,i,n,a,s=null,d=!1){return{type:1,element:r,keyframes:o,preStyleProps:t,postStyleProps:i,duration:n,delay:a,totalTime:n+a,easing:s,subTimeline:d}}class jM{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,t){let i=this._map.get(o);i||this._map.set(o,i=[]),i.push(...t)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const w7=new RegExp(":enter","g"),E7=new RegExp(":leave","g");function bF(r,o,t,i,n,a=new Map,s=new Map,d,m,I=[]){return(new B7).buildKeyframes(r,o,t,i,n,a,s,d,m,I)}class B7{buildKeyframes(o,t,i,n,a,s,d,m,I,J=[]){I=I||new jM;const oe=new wF(o,t,I,n,a,J,[]);oe.options=m;const Ce=m.delay?Cf(m.delay):0;oe.currentTimeline.delayNextStep(Ce),oe.currentTimeline.setStyles([s],null,oe.errors,m),bu(this,i,oe);const $e=oe.timelines.filter(nt=>nt.containsAnimation());if($e.length&&d.size){let nt;for(let Tt=$e.length-1;Tt>=0;Tt--){const Zt=$e[Tt];if(Zt.element===t){nt=Zt;break}}nt&&!nt.allowOnlyTimelineStyles()&&nt.setStyles([d],null,oe.errors,m)}return $e.length?$e.map(nt=>nt.buildKeyframes()):[yF(t,[],[],[],0,Ce,"",!1)]}visitTrigger(o,t){}visitState(o,t){}visitTransition(o,t){}visitAnimateChild(o,t){const i=t.subInstructions.get(t.element);if(i){const n=t.createSubContext(o.options),a=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);a!=s&&t.transformIntoNewTimeline(s)}t.previousNode=o}visitAnimateRef(o,t){const i=t.createSubContext(o.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],t,i),this.visitReference(o.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=o}_applyAnimationRefDelays(o,t,i){for(const n of o){const a=n?.delay;if(a){const s="number"==typeof a?a:Cf(y1(a,n?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(o,t,i){let a=t.currentTimeline.currentTime;const s=null!=i.duration?Cf(i.duration):null,d=null!=i.delay?Cf(i.delay):null;return 0!==s&&o.forEach(m=>{const I=t.appendInstructionToTimeline(m,s,d);a=Math.max(a,I.duration+I.delay)}),a}visitReference(o,t){t.updateOptions(o.options,!0),bu(this,o.animation,t),t.previousNode=o}visitSequence(o,t){const i=t.subContextCount;let n=t;const a=o.options;if(a&&(a.params||a.delay)&&(n=t.createSubContext(a),n.transformIntoNewTimeline(),null!=a.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=GM);const s=Cf(a.delay);n.delayNextStep(s)}o.steps.length&&(o.steps.forEach(s=>bu(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=o}visitGroup(o,t){const i=[];let n=t.currentTimeline.currentTime;const a=o.options&&o.options.delay?Cf(o.options.delay):0;o.steps.forEach(s=>{const d=t.createSubContext(o.options);a&&d.delayNextStep(a),bu(this,s,d),n=Math.max(n,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(n),t.previousNode=o}_visitTiming(o,t){if(o.dynamic){const i=o.strValue;return PM(t.params?y1(i,t.params,t.errors):i,t.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,t){const i=t.currentAnimateTimings=this._visitTiming(o.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const a=o.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=o}visitStyle(o,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=n&&n.easing||o.easing;o.isEmptyStep?i.applyEmptyStep(a):i.setStyles(o.styles,a,t.errors,t.options),t.previousNode=o}visitKeyframes(o,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,a=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,o.styles.forEach(m=>{d.forwardTime((m.offset||0)*a),d.setStyles(m.styles,m.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(n+a),t.previousNode=o}visitQuery(o,t){const i=t.currentTimeline.currentTime,n=o.options||{},a=n.delay?Cf(n.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=GM);let s=i;const d=t.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=d.length;let m=null;d.forEach((I,J)=>{t.currentQueryIndex=J;const oe=t.createSubContext(o.options,I);a&&oe.delayNextStep(a),I===t.element&&(m=oe.currentTimeline),bu(this,o.animation,oe),oe.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,oe.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=o}visitStagger(o,t){const i=t.parentContext,n=t.currentTimeline,a=o.timings,s=Math.abs(a.duration),d=s*(t.currentQueryTotal-1);let m=s*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=d-m;break;case"full":m=i.currentStaggerTime}const J=t.currentTimeline;m&&J.delayNextStep(m);const oe=J.currentTime;bu(this,o.animation,t),t.previousNode=o,i.currentStaggerTime=n.currentTime-oe+(n.startTime-i.currentTimeline.startTime)}}const GM={};class wF{constructor(o,t,i,n,a,s,d,m){this._driver=o,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=a,this.errors=s,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new UM(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,t){if(!o)return;const i=o;let n=this.options;null!=i.duration&&(n.duration=Cf(i.duration)),null!=i.delay&&(n.delay=Cf(i.delay));const a=i.params;if(a){let s=n.params;s||(s=this.options.params={}),Object.keys(a).forEach(d=>{(!t||!s.hasOwnProperty(d))&&(s[d]=y1(a[d],s,this.errors))})}}_copyOptions(){const o={};if(this.options){const t=this.options.params;if(t){const i=o.params={};Object.keys(t).forEach(n=>{i[n]=t[n]})}}return o}createSubContext(o=null,t,i){const n=t||this.element,a=new wF(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(o),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(o){return this.previousNode=GM,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,t,i){const n={duration:t??o.duration,delay:this.currentTimeline.currentTime+(i??0)+o.delay,easing:""},a=new M7(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,n,o.stretchStartingKeyframe);return this.timelines.push(a),n}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,t,i,n,a,s){let d=[];if(n&&d.push(this.element),o.length>0){o=(o=o.replace(w7,"."+this._enterClassName)).replace(E7,"."+this._leaveClassName);let I=this._driver.query(this.element,o,1!=i);0!==i&&(I=i<0?I.slice(I.length+i,I.length):I.slice(0,i)),d.push(...I)}return!a&&0==d.length&&s.push(function S6(r){return new e.wOt(3014,!1)}()),d}}class UM{constructor(o,t,i,n){this._driver=o,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+o),t&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,t){return this.applyStylesToKeyframe(),new UM(this._driver,o,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,t){this._localTimelineStyles.set(o,t),this._globalTimelineStyles.set(o,t),this._styleSummary.set(o,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||gi.kp),this._currentKeyframe.set(t,gi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,t,i,n){t&&this._previousKeyframe.set("easing",t);const a=n&&n.params||{},s=function x7(r,o){const t=new Map;let i;return r.forEach(n=>{if("*"===n){i=i||o.keys();for(let a of i)t.set(a,gi.kp)}else jg(n,t)}),t}(o,this._globalTimelineStyles);for(let[d,m]of s){const I=y1(m,a,i);this._pendingStyles.set(d,I),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??gi.kp),this._updateStyle(d,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,t)=>{this._currentKeyframe.set(t,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,o)}))}snapshotCurrentStyles(){for(let[o,t]of this._localTimelineStyles)this._pendingStyles.set(o,t),this._updateStyle(o,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let t in this._currentKeyframe)o.push(t);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((t,i)=>{const n=this._styleSummary.get(i);(!n||t.time>n.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((d,m)=>{const I=jg(d,new Map,this._backFill);I.forEach((J,oe)=>{J===gi.FX?o.add(oe):J===gi.kp&&t.add(oe)}),i||I.set("offset",m/this.duration),n.push(I)});const a=o.size?OM(o.values()):[],s=t.size?OM(t.values()):[];if(i){const d=n[0],m=new Map(d);d.set("offset",0),m.set("offset",1),n=[d,m]}return yF(this.element,n,a,s,this.duration,this.startTime,this.easing,!1)}}class M7 extends UM{constructor(o,t,i,n,a,s,d=!1){super(o,t,s.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=a,this._stretchStartingKeyframe=d,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],s=i+t,d=t/s,m=jg(o[0]);m.set("offset",0),a.push(m);const I=jg(o[0]);I.set("offset",G3(d)),a.push(I);const J=o.length-1;for(let oe=1;oe<=J;oe++){let Ce=jg(o[oe]);const $e=Ce.get("offset");Ce.set("offset",G3((t+$e*i)/s)),a.push(Ce)}i=s,t=0,n="",o=a}return yF(this.element,o,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function G3(r,o=3){const t=Math.pow(10,o-1);return Math.round(r*t)/t}class CF{}const D7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I7 extends CF{normalizePropertyName(o,t){return mF(o)}normalizeStyleValue(o,t,i,n){let a="";const s=i.toString().trim();if(D7.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&n.push(function w6(r,o){return new e.wOt(3005,!1)}())}return s+a}}function U3(r,o,t,i,n,a,s,d,m,I,J,oe,Ce){return{type:0,element:r,triggerName:o,isRemovalTransition:n,fromState:t,fromStyles:a,toState:i,toStyles:s,timelines:d,queriedElements:m,preStyleProps:I,postStyleProps:J,totalTime:oe,errors:Ce}}const EF={};class z3{constructor(o,t,i){this._triggerName=o,this.ast=t,this._stateStyles=i}match(o,t,i,n){return function k7(r,o,t,i,n){return r.some(a=>a(o,t,i,n))}(this.ast.matchers,o,t,i,n)}buildStyles(o,t,i){let n=this._stateStyles.get("*");return void 0!==o&&(n=this._stateStyles.get(o?.toString())||n),n?n.buildStyles(t,i):new Map}build(o,t,i,n,a,s,d,m,I,J){const oe=[],Ce=this.ast.options&&this.ast.options.params||EF,nt=this.buildStyles(i,d&&d.params||EF,oe),Tt=m&&m.params||EF,Zt=this.buildStyles(n,Tt,oe),ci=new Set,xi=new Map,Oi=new Map,Ui="void"===n,Hi={params:T7(Tt,Ce),delay:this.ast.options?.delay},gn=J?[]:bF(o,t,this.ast.animation,a,s,nt,Zt,Hi,I,oe);let pn=0;if(gn.forEach(tr=>{pn=Math.max(tr.duration+tr.delay,pn)}),oe.length)return U3(t,this._triggerName,i,n,Ui,nt,Zt,[],[],xi,Oi,pn,oe);gn.forEach(tr=>{const pr=tr.element,ho=yu(xi,pr,new Set);tr.preStyleProps.forEach(sa=>ho.add(sa));const io=yu(Oi,pr,new Set);tr.postStyleProps.forEach(sa=>io.add(sa)),pr!==t&&ci.add(pr)});const Jn=OM(ci.values());return U3(t,this._triggerName,i,n,Ui,nt,Zt,gn,Jn,xi,Oi,pn)}}function T7(r,o){const t=v1(o);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(t[i]=r[i]);return t}class F7{constructor(o,t,i){this.styles=o,this.defaultParams=t,this.normalizer=i}buildStyles(o,t){const i=new Map,n=v1(this.defaultParams);return Object.keys(o).forEach(a=>{const s=o[a];null!==s&&(n[a]=s)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,d)=>{s&&(s=y1(s,n,t));const m=this.normalizer.normalizePropertyName(d,t);s=this.normalizer.normalizeStyleValue(d,m,s,t),i.set(d,s)})}),i}}class Q7{constructor(o,t,i){this.name=o,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(n=>{this.states.set(n.name,new F7(n.style,n.options&&n.options.params||{},i))}),H3(this.states,"true","1"),H3(this.states,"false","0"),t.transitions.forEach(n=>{this.transitionFactories.push(new z3(o,n,this.states))}),this.fallbackTransition=function R7(r,o,t){return new z3(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,d)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,t,i,n){return this.transitionFactories.find(s=>s.match(o,t,i,n))||null}matchStyles(o,t,i){return this.fallbackTransition.buildStyles(o,t,i)}}function H3(r,o,t){r.has(o)?r.has(t)||r.set(t,r.get(o)):r.has(t)&&r.set(o,r.get(t))}const P7=new jM;class O7{constructor(o,t,i){this.bodyNode=o,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,t){const i=[],a=vF(this._driver,t,i,[]);if(i.length)throw function N6(r){return new e.wOt(3503,!1)}();this._animations.set(o,a)}_buildPlayer(o,t,i){const n=o.element,a=x3(this._normalizer,o.keyframes,t,i);return this._driver.animate(n,a,o.duration,o.delay,o.easing,[],!0)}create(o,t,i={}){const n=[],a=this._animations.get(o);let s;const d=new Map;if(a?(s=bF(this._driver,t,a,hF,SM,new Map,new Map,i,P7,n),s.forEach(J=>{const oe=yu(d,J.element,new Map);J.postStyleProps.forEach(Ce=>oe.set(Ce,null))})):(n.push(function j6(){return new e.wOt(3300,!1)}()),s=[]),n.length)throw function G6(r){return new e.wOt(3504,!1)}();d.forEach((J,oe)=>{J.forEach((Ce,$e)=>{J.set($e,this._driver.computeStyle(oe,$e,gi.kp))})});const I=Ng(s.map(J=>{const oe=d.get(J.element);return this._buildPlayer(J,new Map,oe)}));return this._playersById.set(o,I),I.onDestroy(()=>this.destroy(o)),this.players.push(I),I}destroy(o){const t=this._getPlayer(o);t.destroy(),this._playersById.delete(o);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(o){const t=this._playersById.get(o);if(!t)throw function U6(r){return new e.wOt(3301,!1)}();return t}listen(o,t,i,n){const a=AF(t,"","","");return lF(this._getPlayer(o),i,a,n),()=>{}}command(o,t,i,n){if("register"==i)return void this.register(o,n[0]);if("create"==i)return void this.create(o,t,n[0]||{});const a=this._getPlayer(o);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(o)}}}const V3="ng-animate-queued",BF="ng-animate-disabled",G7=[],J3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yh="__ng_removed";class MF{get params(){return this.options.params}constructor(o,t=""){this.namespaceId=t;const i=o&&o.hasOwnProperty("value");if(this.value=function J7(r){return r??null}(i?o.value:o),i){const a=v1(o);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const t=o.params;if(t){const i=this.options.params;Object.keys(t).forEach(n=>{null==i[n]&&(i[n]=t[n])})}}}const b1="void",xF=new MF(b1);class z7{constructor(o,t,i){this.id=o,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,eh(t,this._hostClassName)}listen(o,t,i,n){if(!this._triggers.has(t))throw function z6(r,o){return new e.wOt(3302,!1)}();if(null==i||0==i.length)throw function H6(r){return new e.wOt(3303,!1)}();if(!function W7(r){return"start"==r||"done"==r}(i))throw function V6(r,o){return new e.wOt(3400,!1)}();const a=yu(this._elementListeners,o,[]),s={name:t,phase:i,callback:n};a.push(s);const d=yu(this._engine.statesByElement,o,new Map);return d.has(t)||(eh(o,QM),eh(o,QM+"-"+t),d.set(t,xF)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(s);m>=0&&a.splice(m,1),this._triggers.has(t)||d.delete(t)})}}register(o,t){return!this._triggers.has(o)&&(this._triggers.set(o,t),!0)}_getTrigger(o){const t=this._triggers.get(o);if(!t)throw function J6(r){return new e.wOt(3401,!1)}();return t}trigger(o,t,i,n=!0){const a=this._getTrigger(t),s=new DF(this.id,t,o);let d=this._engine.statesByElement.get(o);d||(eh(o,QM),eh(o,QM+"-"+t),this._engine.statesByElement.set(o,d=new Map));let m=d.get(t);const I=new MF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&I.absorbOptions(m.options),d.set(t,I),m||(m=xF),I.value!==b1&&m.value===I.value){if(!function Z7(r,o){const t=Object.keys(r),i=Object.keys(o);if(t.length!=i.length)return!1;for(let n=0;n<t.length;n++){const a=t[n];if(!o.hasOwnProperty(a)||r[a]!==o[a])return!1}return!0}(m.params,I.params)){const Tt=[],Zt=a.matchStyles(m.value,m.params,Tt),ci=a.matchStyles(I.value,I.params,Tt);Tt.length?this._engine.reportError(Tt):this._engine.afterFlush(()=>{E0(o,Zt),vp(o,ci)})}return}const Ce=yu(this._engine.playersByElement,o,[]);Ce.forEach(Tt=>{Tt.namespaceId==this.id&&Tt.triggerName==t&&Tt.queued&&Tt.destroy()});let $e=a.matchTransition(m.value,I.value,o,I.params),nt=!1;if(!$e){if(!n)return;$e=a.fallbackTransition,nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:t,transition:$e,fromState:m,toState:I,player:s,isFallbackTransition:nt}),nt||(eh(o,V3),s.onStart(()=>{u_(o,V3)})),s.onDone(()=>{let Tt=this.players.indexOf(s);Tt>=0&&this.players.splice(Tt,1);const Zt=this._engine.playersByElement.get(o);if(Zt){let ci=Zt.indexOf(s);ci>=0&&Zt.splice(ci,1)}}),this.players.push(s),Ce.push(s),s}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(t=>t.delete(o)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(n=>n.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const t=this._engine.playersByElement.get(o);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,t){const i=this._engine.driver.query(o,RM,!0);i.forEach(n=>{if(n[Yh])return;const a=this._engine.fetchNamespacesByElement(n);a.size?a.forEach(s=>s.triggerLeaveAnimation(n,t,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(o,t,i,n){const a=this._engine.statesByElement.get(o),s=new Map;if(a){const d=[];if(a.forEach((m,I)=>{if(s.set(I,m.value),this._triggers.has(I)){const J=this.trigger(o,I,b1,n);J&&d.push(J)}}),d.length)return this._engine.markElementAsRemoved(this.id,o,!0,t,s),i&&Ng(d).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const t=this._elementListeners.get(o),i=this._engine.statesByElement.get(o);if(t&&i){const n=new Set;t.forEach(a=>{const s=a.name;if(n.has(s))return;n.add(s);const m=this._triggers.get(s).fallbackTransition,I=i.get(s)||xF,J=new MF(b1),oe=new DF(this.id,s,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:s,transition:m,fromState:I,toState:J,player:oe,isFallbackTransition:!0})})}}removeNode(o,t){const i=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,t),this.triggerLeaveAnimation(o,t,!0))return;let n=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(o):[];if(a&&a.length)n=!0;else{let s=o;for(;s=s.parentNode;)if(i.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(o),n)i.markElementAsRemoved(this.id,o,!1,t);else{const a=o[Yh];(!a||a===J3)&&(i.afterFlush(()=>this.clearElementCache(o)),i.destroyInnerAnimations(o),i._onRemovalComplete(o,t))}}insertNode(o,t){eh(o,this._hostClassName)}drainQueuedTransitions(o){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const a=i.element,s=this._elementListeners.get(a);s&&s.forEach(d=>{if(d.name==i.triggerName){const m=AF(a,i.triggerName,i.fromState.value,i.toState.value);m._data=o,lF(i.player,d.phase,m,d.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((i,n)=>{const a=i.transition.ast.depCount,s=n.transition.ast.depCount;return 0==a||0==s?a-s:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(o){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}}class H7{_onRemovalComplete(o,t){this.onRemovalComplete(o,t)}constructor(o,t,i){this.bodyNode=o,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,a)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&o.push(i)})}),o}createNamespace(o,t){const i=new z7(o,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[o]=i}_balanceNamespaceList(o,t){const i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,d=this.driver.getParentElement(t);for(;d;){const m=n.get(d);if(m){const I=i.indexOf(m);i.splice(I+1,0,o),s=!0;break}d=this.driver.getParentElement(d)}s||i.unshift(o)}else i.push(o);return n.set(t,o),o}register(o,t){let i=this._namespaceLookup[o];return i||(i=this.createNamespace(o,t)),i}registerTrigger(o,t,i){let n=this._namespaceLookup[o];n&&n.register(t,i)&&this.totalAnimations++}destroy(o,t){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(o);this.namespacesByHostElement.delete(i.hostElement);const n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(t),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const t=new Set,i=this.statesByElement.get(o);if(i)for(let n of i.values())if(n.namespaceId){const a=this._fetchNamespace(n.namespaceId);a&&t.add(a)}return t}trigger(o,t,i,n){if(zM(t)){const a=this._fetchNamespace(o);if(a)return a.trigger(t,i,n),!0}return!1}insertNode(o,t,i,n){if(!zM(t))return;const a=t[Yh];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(o){const s=this._fetchNamespace(o);s&&s.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,t){t?this.disabledNodes.has(o)||(this.disabledNodes.add(o),eh(o,BF)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),u_(o,BF))}removeNode(o,t,i){if(zM(t)){const n=o?this._fetchNamespace(o):null;n?n.removeNode(t,i):this.markElementAsRemoved(o,t,!1,i);const a=this.namespacesByHostElement.get(t);a&&a.id!==o&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(o,t,i,n,a){this.collectedLeaveElements.push(t),t[Yh]={namespaceId:o,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(o,t,i,n,a){return zM(t)?this._fetchNamespace(o).listen(t,i,n,a):()=>{}}_buildInstruction(o,t,i,n,a){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,i,n,o.fromState.options,o.toState.options,t,a)}destroyInnerAnimations(o){let t=this.driver.query(o,RM,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(o,pF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(o){const t=this.playersByElement.get(o);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(o){const t=this.playersByQueriedElement.get(o);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return Ng(this.players).onDone(()=>o());o()})}processLeaveNode(o){const t=o[Yh];if(t&&t.setForRemoval){if(o[Yh]=J3,t.namespaceId){this.destroyInnerAnimations(o);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(o)}this._onRemovalComplete(o,t.setForRemoval)}o.classList?.contains(BF)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(o=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)eh(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,o)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ng(t).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(o){throw function W6(r){return new e.wOt(3402,!1)}()}_flushAnimations(o,t){const i=new jM,n=[],a=new Map,s=[],d=new Map,m=new Map,I=new Map,J=new Set;this.disabledNodes.forEach(ur=>{J.add(ur);const br=this.driver.query(ur,".ng-animate-queued",!0);for(let no=0;no<br.length;no++)J.add(br[no])});const oe=this.bodyNode,Ce=Array.from(this.statesByElement.keys()),$e=X3(Ce,this.collectedEnterElements),nt=new Map;let Tt=0;$e.forEach((ur,br)=>{const no=hF+Tt++;nt.set(br,no),ur.forEach(Da=>eh(Da,no))});const Zt=[],ci=new Set,xi=new Set;for(let ur=0;ur<this.collectedLeaveElements.length;ur++){const br=this.collectedLeaveElements[ur],no=br[Yh];no&&no.setForRemoval&&(Zt.push(br),ci.add(br),no.hasAnimation?this.driver.query(br,".ng-star-inserted",!0).forEach(Da=>ci.add(Da)):xi.add(br))}const Oi=new Map,Ui=X3(Ce,Array.from(ci));Ui.forEach((ur,br)=>{const no=SM+Tt++;Oi.set(br,no),ur.forEach(Da=>eh(Da,no))}),o.push(()=>{$e.forEach((ur,br)=>{const no=nt.get(br);ur.forEach(Da=>u_(Da,no))}),Ui.forEach((ur,br)=>{const no=Oi.get(br);ur.forEach(Da=>u_(Da,no))}),Zt.forEach(ur=>{this.processLeaveNode(ur)})});const Hi=[],gn=[];for(let ur=this._namespaceList.length-1;ur>=0;ur--)this._namespaceList[ur].drainQueuedTransitions(t).forEach(no=>{const Da=no.player,Al=no.element;if(Hi.push(Da),this.collectedEnterElements.length){const td=Al[Yh];if(td&&td.setForMove){if(td.previousTriggersValues&&td.previousTriggersValues.has(no.triggerName)){const W0=td.previousTriggersValues.get(no.triggerName),dh=this.statesByElement.get(no.element);if(dh&&dh.has(no.triggerName)){const YD=dh.get(no.triggerName);YD.value=W0,dh.set(no.triggerName,YD)}}return void Da.destroy()}}const YA=!oe||!this.driver.containsElement(oe,Al),pc=Oi.get(Al),ed=nt.get(Al),dl=this._buildInstruction(no,i,ed,pc,YA);if(dl.errors&&dl.errors.length)return void gn.push(dl);if(YA)return Da.onStart(()=>E0(Al,dl.fromStyles)),Da.onDestroy(()=>vp(Al,dl.toStyles)),void n.push(Da);if(no.isFallbackTransition)return Da.onStart(()=>E0(Al,dl.fromStyles)),Da.onDestroy(()=>vp(Al,dl.toStyles)),void n.push(Da);const ty=[];dl.timelines.forEach(td=>{td.stretchStartingKeyframe=!0,this.disabledNodes.has(td.element)||ty.push(td)}),dl.timelines=ty,i.append(Al,dl.timelines),s.push({instruction:dl,player:Da,element:Al}),dl.queriedElements.forEach(td=>yu(d,td,[]).push(Da)),dl.preStyleProps.forEach((td,W0)=>{if(td.size){let dh=m.get(W0);dh||m.set(W0,dh=new Set),td.forEach((YD,vQ)=>dh.add(vQ))}}),dl.postStyleProps.forEach((td,W0)=>{let dh=I.get(W0);dh||I.set(W0,dh=new Set),td.forEach((YD,vQ)=>dh.add(vQ))})});if(gn.length){const ur=[];gn.forEach(br=>{ur.push(function K6(r,o){return new e.wOt(3505,!1)}())}),Hi.forEach(br=>br.destroy()),this.reportError(ur)}const pn=new Map,Jn=new Map;s.forEach(ur=>{const br=ur.element;i.has(br)&&(Jn.set(br,br),this._beforeAnimationBuild(ur.player.namespaceId,ur.instruction,pn))}),n.forEach(ur=>{const br=ur.element;this._getPreviousPlayers(br,!1,ur.namespaceId,ur.triggerName,null).forEach(Da=>{yu(pn,br,[]).push(Da),Da.destroy()})});const tr=Zt.filter(ur=>$3(ur,m,I)),pr=new Map;K3(pr,this.driver,xi,I,gi.kp).forEach(ur=>{$3(ur,m,I)&&tr.push(ur)});const io=new Map;$e.forEach((ur,br)=>{K3(io,this.driver,new Set(ur),m,gi.FX)}),tr.forEach(ur=>{const br=pr.get(ur),no=io.get(ur);pr.set(ur,new Map([...br?.entries()??[],...no?.entries()??[]]))});const sa=[],Rs=[],ko={};s.forEach(ur=>{const{element:br,player:no,instruction:Da}=ur;if(i.has(br)){if(J.has(br))return no.onDestroy(()=>vp(br,Da.toStyles)),no.disabled=!0,no.overrideTotalTime(Da.totalTime),void n.push(no);let Al=ko;if(Jn.size>1){let pc=br;const ed=[];for(;pc=pc.parentNode;){const dl=Jn.get(pc);if(dl){Al=dl;break}ed.push(pc)}ed.forEach(dl=>Jn.set(dl,Al))}const YA=this._buildAnimation(no.namespaceId,Da,pn,a,io,pr);if(no.setRealPlayer(YA),Al===ko)sa.push(no);else{const pc=this.playersByElement.get(Al);pc&&pc.length&&(no.parentPlayer=Ng(pc)),n.push(no)}}else E0(br,Da.fromStyles),no.onDestroy(()=>vp(br,Da.toStyles)),Rs.push(no),J.has(br)&&n.push(no)}),Rs.forEach(ur=>{const br=a.get(ur.element);if(br&&br.length){const no=Ng(br);ur.setRealPlayer(no)}}),n.forEach(ur=>{ur.parentPlayer?ur.syncPlayerEvents(ur.parentPlayer):ur.destroy()});for(let ur=0;ur<Zt.length;ur++){const br=Zt[ur],no=br[Yh];if(u_(br,SM),no&&no.hasAnimation)continue;let Da=[];if(d.size){let YA=d.get(br);YA&&YA.length&&Da.push(...YA);let pc=this.driver.query(br,pF,!0);for(let ed=0;ed<pc.length;ed++){let dl=d.get(pc[ed]);dl&&dl.length&&Da.push(...dl)}}const Al=Da.filter(YA=>!YA.destroyed);Al.length?K7(this,br,Al):this.processLeaveNode(br)}return Zt.length=0,sa.forEach(ur=>{this.players.push(ur),ur.onDone(()=>{ur.destroy();const br=this.players.indexOf(ur);this.players.splice(br,1)}),ur.play()}),sa}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,t,i,n,a){let s=[];if(t){const d=this.playersByQueriedElement.get(o);d&&(s=d)}else{const d=this.playersByElement.get(o);if(d){const m=!a||a==b1;d.forEach(I=>{I.queued||!m&&I.triggerName!=n||s.push(I)})}}return(i||n)&&(s=s.filter(d=>!(i&&i!=d.namespaceId||n&&n!=d.triggerName))),s}_beforeAnimationBuild(o,t,i){const a=t.element,s=t.isRemovalTransition?void 0:o,d=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const I=m.element,J=I!==a,oe=yu(i,I,[]);this._getPreviousPlayers(I,J,s,d,t.toState).forEach($e=>{const nt=$e.getRealPlayer();nt.beforeDestroy&&nt.beforeDestroy(),$e.destroy(),oe.push($e)})}E0(a,t.fromStyles)}_buildAnimation(o,t,i,n,a,s){const d=t.triggerName,m=t.element,I=[],J=new Set,oe=new Set,Ce=t.timelines.map(nt=>{const Tt=nt.element;J.add(Tt);const Zt=Tt[Yh];if(Zt&&Zt.removedBeforeQueried)return new gi.sf(nt.duration,nt.delay);const ci=Tt!==m,xi=function X7(r){const o=[];return Z3(r,o),o}((i.get(Tt)||G7).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===Tt),Oi=a.get(Tt),Ui=s.get(Tt),Hi=x3(this._normalizer,nt.keyframes,Oi,Ui),gn=this._buildPlayer(nt,Hi,xi);if(nt.subTimeline&&n&&oe.add(Tt),ci){const pn=new DF(o,d,Tt);pn.setRealPlayer(gn),I.push(pn)}return gn});I.forEach(nt=>{yu(this.playersByQueriedElement,nt.element,[]).push(nt),nt.onDone(()=>function V7(r,o,t){let i=r.get(o);if(i){if(i.length){const n=i.indexOf(t);i.splice(n,1)}0==i.length&&r.delete(o)}return i}(this.playersByQueriedElement,nt.element,nt))}),J.forEach(nt=>eh(nt,Q3));const $e=Ng(Ce);return $e.onDestroy(()=>{J.forEach(nt=>u_(nt,Q3)),vp(m,t.toStyles)}),oe.forEach(nt=>{yu(n,nt,[]).push($e)}),$e}_buildPlayer(o,t,i){return t.length>0?this.driver.animate(o.element,t,o.duration,o.delay,o.easing,i):new gi.sf(o.duration,o.delay)}}class DF{constructor(o,t,i){this.namespaceId=o,this.triggerName=t,this.element=i,this._player=new gi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((t,i)=>{t.forEach(n=>lF(o,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const t=this._player;t.triggerCallback&&o.onStart(()=>t.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,t){yu(this._queuedCallbacks,o,[]).push(t)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const t=this._player;t.triggerCallback&&t.triggerCallback(o)}}function zM(r){return r&&1===r.nodeType}function W3(r,o){const t=r.style.display;return r.style.display=o??"none",t}function K3(r,o,t,i,n){const a=[];t.forEach(m=>a.push(W3(m)));const s=[];i.forEach((m,I)=>{const J=new Map;m.forEach(oe=>{const Ce=o.computeStyle(I,oe,n);J.set(oe,Ce),(!Ce||0==Ce.length)&&(I[Yh]=U7,s.push(I))}),r.set(I,J)});let d=0;return t.forEach(m=>W3(m,a[d++])),s}function X3(r,o){const t=new Map;if(r.forEach(d=>t.set(d,[])),0==o.length)return t;const n=new Set(o),a=new Map;function s(d){if(!d)return 1;let m=a.get(d);if(m)return m;const I=d.parentNode;return m=t.has(I)?I:n.has(I)?1:s(I),a.set(d,m),m}return o.forEach(d=>{const m=s(d);1!==m&&t.get(m).push(d)}),t}function eh(r,o){r.classList?.add(o)}function u_(r,o){r.classList?.remove(o)}function K7(r,o,t){Ng(t).onDone(()=>r.processLeaveNode(o))}function Z3(r,o){for(let t=0;t<r.length;t++){const i=r[t];i instanceof gi.ui?Z3(i.players,o):o.push(i)}}function $3(r,o,t){const i=t.get(r);if(!i)return!1;let n=o.get(r);return n?i.forEach(a=>n.add(a)):o.set(r,i),t.delete(r),!0}class HM{constructor(o,t,i){this.bodyNode=o,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,a)=>{},this._transitionEngine=new H7(o,t,i),this._timelineEngine=new O7(o,t,i),this._transitionEngine.onRemovalComplete=(n,a)=>this.onRemovalComplete(n,a)}registerTrigger(o,t,i,n,a){const s=o+"-"+n;let d=this._triggerCache[s];if(!d){const m=[],J=vF(this._driver,a,m,[]);if(m.length)throw function L6(r,o){return new e.wOt(3404,!1)}();d=function S7(r,o,t){return new Q7(r,o,t)}(n,J,this._normalizer),this._triggerCache[s]=d}this._transitionEngine.registerTrigger(t,n,d)}register(o,t){this._transitionEngine.register(o,t)}destroy(o,t){this._transitionEngine.destroy(o,t)}onInsert(o,t,i,n){this._transitionEngine.insertNode(o,t,i,n)}onRemove(o,t,i){this._transitionEngine.removeNode(o,t,i)}disableAnimations(o,t){this._transitionEngine.markElementAsDisabled(o,t)}process(o,t,i,n){if("@"==i.charAt(0)){const[a,s]=D3(i);this._timelineEngine.command(a,t,s,n)}else this._transitionEngine.trigger(o,t,i,n)}listen(o,t,i,n,a){if("@"==i.charAt(0)){const[s,d]=D3(i);return this._timelineEngine.listen(s,t,d,a)}return this._transitionEngine.listen(o,t,i,n,a)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}}let q7=(()=>{class r{static{this.initialStylesByElement=new WeakMap}constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let a=r.initialStylesByElement.get(t);a||r.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&vp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vp(this._element,this._initialStyles),this._endStyles&&(vp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(E0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(E0(this._element,this._endStyles),this._endStyles=null),vp(this._element,this._initialStyles),this._state=3)}}return r})();function IF(r){let o=null;return r.forEach((t,i)=>{(function eU(r){return"display"===r||"position"===r})(i)&&(o=o||new Map,o.set(i,t))}),o}class q3{constructor(o,t,i,n){this.element=o,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const t=[];return o.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(o,t,i){return o.animate(this._convertKeyframesToObject(t),i)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{"offset"!==n&&o.set(n,this._finished?i:L3(this.element,n))}),this.currentSnapshot=o}triggerCallback(o){const t="start"===o?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class tU{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,t){return!1}containsElement(o,t){return k3(o,t)}getParentElement(o){return dF(o)}query(o,t,i){return T3(o,t,i)}computeStyle(o,t,i){return window.getComputedStyle(o)[t]}animate(o,t,i,n,a,s=[]){const m={duration:i,delay:n,fill:0==n?"both":"forwards"};a&&(m.easing=a);const I=new Map,J=s.filter($e=>$e instanceof q3);(function l7(r,o){return 0===r||0===o})(i,n)&&J.forEach($e=>{$e.currentSnapshot.forEach((nt,Tt)=>I.set(Tt,nt))});let oe=function o7(r){return r.length?r[0]instanceof Map?r:r.map(o=>R3(o)):[]}(t).map($e=>jg($e));oe=function c7(r,o,t){if(t.size&&o.length){let i=o[0],n=[];if(t.forEach((a,s)=>{i.has(s)||n.push(s),i.set(s,a)}),n.length)for(let a=1;a<o.length;a++){let s=o[a];n.forEach(d=>s.set(d,L3(r,d)))}}return o}(o,oe,I);const Ce=function $7(r,o){let t=null,i=null;return Array.isArray(o)&&o.length?(t=IF(o[0]),o.length>1&&(i=IF(o[o.length-1]))):o instanceof Map&&(t=IF(o)),t||i?new q7(r,t,i):null}(o,oe);return new q3(o,oe,m,Ce)}}let iU=(()=>{class r extends gi.S6{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:e.gXe.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?(0,gi.K2)(t):t;return e8(this._renderer,null,i,"register",[n]),new nU(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(e._9s),e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();class nU extends gi.Ro{constructor(o,t){super(),this._id=o,this._renderer=t}create(o,t){return new rU(this._id,o,t||{},this._renderer)}}class rU{constructor(o,t,i,n){this.id=o,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(o,t){return this._renderer.listen(this.element,`@@${this.id}:${o}`,t)}_command(o,...t){return e8(this._renderer,this.element,this.id,o,t)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function e8(r,o,t,i,n){return r.setProperty(o,`@@${t}:${i}`,n)}const t8="@.disabled";let oU=(()=>{class r{constructor(t,i,n){this.delegate=t,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(a,s)=>{const d=s?.parentNode(a);d&&s.removeChild(d,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let J=this._rendererCache.get(a);return J||(J=new n8("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,J)),J}const s=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const m=J=>{Array.isArray(J)?J.forEach(m):this.engine.registerTrigger(s,d,t,J.name,J)};return i.data.animation.forEach(m),new aU(this,d,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,n){t>=0&&t<this._microtaskId?this._zone.run(()=>i(n)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[s,d]=a;s(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(e._9s),e.KVO(HM),e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();class n8{constructor(o,t,i,n){this.namespaceId=o,this.delegate=t,this.engine=i,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(o){this.delegate.destroyNode?.(o)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,t){this.delegate.appendChild(o,t),this.engine.onInsert(this.namespaceId,t,o,!1)}insertBefore(o,t,i,n=!0){this.delegate.insertBefore(o,t,i),this.engine.onInsert(this.namespaceId,t,o,n)}removeChild(o,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,i,n){this.delegate.setAttribute(o,t,i,n)}removeAttribute(o,t,i){this.delegate.removeAttribute(o,t,i)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,i,n){this.delegate.setStyle(o,t,i,n)}removeStyle(o,t,i){this.delegate.removeStyle(o,t,i)}setProperty(o,t,i){"@"==t.charAt(0)&&t==t8?this.disableAnimations(o,!!i):this.delegate.setProperty(o,t,i)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,i){return this.delegate.listen(o,t,i)}disableAnimations(o,t){this.engine.disableAnimations(o,t)}}class aU extends n8{constructor(o,t,i,n,a){super(t,i,n,a),this.factory=o,this.namespaceId=t}setProperty(o,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==t8?this.disableAnimations(o,i=void 0===i||!!i):this.engine.process(this.namespaceId,o,t.slice(1),i):this.delegate.setProperty(o,t,i)}listen(o,t,i){if("@"==t.charAt(0)){const n=function sU(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(o);let a=t.slice(1),s="";return"@"!=a.charAt(0)&&([a,s]=function lU(r){const o=r.indexOf(".");return[r.substring(0,o),r.slice(o+1)]}(a)),this.engine.listen(this.namespaceId,n,a,s,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(o,t,i)}}let cU=(()=>{class r extends HM{constructor(t,i,n,a){super(t.body,i,n)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(l.qQ),e.KVO(uF),e.KVO(CF),e.KVO(e.o8S))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();const r8=[{provide:gi.S6,useClass:iU},{provide:CF,useFactory:function AU(){return new I7}},{provide:HM,useClass:cU},{provide:e._9s,useFactory:function dU(r,o,t){return new oU(r,o,t)},deps:[D.B7,HM,e.SKi]}],kF=[{provide:uF,useFactory:()=>new tU},{provide:e.bc$,useValue:"BrowserAnimations"},...r8],o8=[{provide:uF,useClass:F3},{provide:e.bc$,useValue:"NoopAnimations"},...r8];let uU=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?o8:kF}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:kF,imports:[D.Bb]})}}return r})();const hU=["dialogPopup"],pU=["hueSlider"],fU=["alphaSlider"];function gU(r,o){if(1&r&&e.nrm(0,"div"),2&r){const t=e.XpG();e.ZvI("arrow arrow-",t.cpUsePosition,""),e.xc7("top",t.arrowTop,"px")}}function mU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",28),e.bIt("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onColorChange(n))})("dragStart",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onDragStart("saturation-lightness"))})("dragEnd",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onDragEnd("saturation-lightness"))}),e.nrm(1,"div",14),e.k0s()}if(2&r){const t=e.XpG();e.xc7("background-color",t.hueSliderColor),e.Y8G("rgX",1)("rgY",1),e.R7$(1),e.xc7("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function vU(r,o){1&r&&(e.qSk(),e.j41(0,"svg",29),e.nrm(1,"path",30)(2,"path",31),e.k0s())}function _U(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAddPresetColor(n,a.selectedColor))}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG();e.HbH(t.cpAddColorButtonClass),e.Y8G("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),e.R7$(1),e.SpI(" ",t.cpAddColorButtonText," ")}}function yU(r,o){1&r&&e.nrm(0,"div",33)}function bU(r,o){if(1&r){const t=e.RV6();e.j41(0,"input",39),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAlphaInput(n))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function wU(r,o){1&r&&(e.j41(0,"div"),e.EFF(1,"A"),e.k0s())}function CU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onCyanInput(n))}),e.k0s(),e.j41(3,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onMagentaInput(n))}),e.k0s(),e.j41(4,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onYellowInput(n))}),e.k0s(),e.j41(5,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onBlackInput(n))}),e.k0s(),e.DNE(6,bU,1,2,"input",37),e.k0s(),e.j41(7,"div",35)(8,"div"),e.EFF(9,"C"),e.k0s(),e.j41(10,"div"),e.EFF(11,"M"),e.k0s(),e.j41(12,"div"),e.EFF(13,"Y"),e.k0s(),e.j41(14,"div"),e.EFF(15,"K"),e.k0s(),e.DNE(16,wU,2,0,"div",38),e.k0s()()}if(2&r){const t=e.XpG();e.xc7("display",3!==t.format?"none":"block"),e.R7$(2),e.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.c),e.R7$(1),e.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.m),e.R7$(1),e.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.y),e.R7$(1),e.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.k),e.R7$(1),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel),e.R7$(10),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function EU(r,o){if(1&r){const t=e.RV6();e.j41(0,"input",39),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAlphaInput(n))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function BU(r,o){1&r&&(e.j41(0,"div"),e.EFF(1,"A"),e.k0s())}function MU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",40)(1,"div",35)(2,"input",41),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onHueInput(n))}),e.k0s(),e.j41(3,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onSaturationInput(n))}),e.k0s(),e.j41(4,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onLightnessInput(n))}),e.k0s(),e.DNE(5,EU,1,2,"input",37),e.k0s(),e.j41(6,"div",35)(7,"div"),e.EFF(8,"H"),e.k0s(),e.j41(9,"div"),e.EFF(10,"S"),e.k0s(),e.j41(11,"div"),e.EFF(12,"L"),e.k0s(),e.DNE(13,BU,2,0,"div",38),e.k0s()()}if(2&r){const t=e.XpG();e.xc7("display",2!==t.format?"none":"block"),e.R7$(2),e.Y8G("rg",360)("value",null==t.hslaText?null:t.hslaText.h),e.R7$(1),e.Y8G("rg",100)("value",null==t.hslaText?null:t.hslaText.s),e.R7$(1),e.Y8G("rg",100)("value",null==t.hslaText?null:t.hslaText.l),e.R7$(1),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel),e.R7$(8),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function xU(r,o){if(1&r){const t=e.RV6();e.j41(0,"input",39),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAlphaInput(n))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function DU(r,o){1&r&&(e.j41(0,"div"),e.EFF(1,"A"),e.k0s())}function IU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",42)(1,"div",35)(2,"input",43),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onRedInput(n))}),e.k0s(),e.j41(3,"input",43),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGreenInput(n))}),e.k0s(),e.j41(4,"input",43),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onBlueInput(n))}),e.k0s(),e.DNE(5,xU,1,2,"input",37),e.k0s(),e.j41(6,"div",35)(7,"div"),e.EFF(8,"R"),e.k0s(),e.j41(9,"div"),e.EFF(10,"G"),e.k0s(),e.j41(11,"div"),e.EFF(12,"B"),e.k0s(),e.DNE(13,DU,2,0,"div",38),e.k0s()()}if(2&r){const t=e.XpG();e.xc7("display",1!==t.format?"none":"block"),e.R7$(2),e.Y8G("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),e.R7$(1),e.Y8G("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),e.R7$(1),e.Y8G("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),e.R7$(1),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel),e.R7$(8),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function kU(r,o){if(1&r){const t=e.RV6();e.j41(0,"input",39),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAlphaInput(n))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("rg",1)("value",t.hexAlpha)}}function TU(r,o){1&r&&(e.j41(0,"div"),e.EFF(1,"A"),e.k0s())}function FU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",44)(1,"div",35)(2,"input",45),e.bIt("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onHexInput(null))})("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onHexInput(n))}),e.k0s(),e.DNE(3,kU,1,2,"input",37),e.k0s(),e.j41(4,"div",35)(5,"div"),e.EFF(6,"Hex"),e.k0s(),e.DNE(7,TU,2,0,"div",38),e.k0s()()}if(2&r){const t=e.XpG();e.xc7("display",0!==t.format?"none":"block"),e.AVh("hex-alpha","forced"===t.cpAlphaChannel),e.R7$(2),e.Y8G("value",t.hexText),e.R7$(1),e.Y8G("ngIf","forced"===t.cpAlphaChannel),e.R7$(4),e.Y8G("ngIf","forced"===t.cpAlphaChannel)}}function SU(r,o){if(1&r){const t=e.RV6();e.j41(0,"input",39),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAlphaInput(n))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function QU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",46)(1,"div",35)(2,"input",36),e.bIt("keyup.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onAcceptColor(n))})("newValue",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onValueInput(n))}),e.k0s(),e.DNE(3,SU,1,2,"input",37),e.k0s(),e.j41(4,"div",35)(5,"div"),e.EFF(6,"V"),e.k0s(),e.j41(7,"div"),e.EFF(8,"A"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.Y8G("rg",100)("value",null==t.hslaText?null:t.hslaText.l),e.R7$(1),e.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function RU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",47)(1,"span",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFormatToggle(-1))}),e.k0s(),e.j41(2,"span",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFormatToggle(1))}),e.k0s()()}}function PU(r,o){if(1&r){const t=e.RV6();e.j41(0,"span",55),e.bIt("click",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.onRemovePresetColor(n,a))}),e.k0s()}if(2&r){const t=e.XpG(4);e.HbH(t.cpRemoveColorButtonClass)}}function OU(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.setColorFromString(a))}),e.DNE(1,PU,1,3,"span",54),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG(3);e.xc7("background-color",t),e.R7$(1),e.Y8G("ngIf",i.cpAddColorButton)}}function LU(r,o){if(1&r&&(e.j41(0,"div"),e.DNE(1,OU,2,3,"div",52),e.k0s()),2&r){const t=e.XpG(2);e.HbH(t.cpPresetColorsClass),e.R7$(1),e.Y8G("ngForOf",t.cpPresetColors)}}function YU(r,o){if(1&r&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.HbH(t.cpPresetEmptyMessageClass),e.R7$(1),e.JRh(t.cpPresetEmptyMessage)}}function NU(r,o){if(1&r&&(e.j41(0,"div",49),e.nrm(1,"hr"),e.j41(2,"div",50),e.EFF(3),e.k0s(),e.DNE(4,LU,2,4,"div",51),e.DNE(5,YU,2,4,"div",51),e.k0s()),2&r){const t=e.XpG();e.R7$(3),e.JRh(t.cpPresetLabel),e.R7$(1),e.Y8G("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),e.R7$(1),e.Y8G("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function jU(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",58),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onCancelColor(n))}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG(2);e.HbH(t.cpCancelButtonClass),e.R7$(1),e.JRh(t.cpCancelButtonText)}}function GU(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",58),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onAcceptColor(n))}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG(2);e.HbH(t.cpOKButtonClass),e.R7$(1),e.JRh(t.cpOKButtonText)}}function UU(r,o){if(1&r&&(e.j41(0,"div",56),e.DNE(1,jU,2,4,"button",57),e.DNE(2,GU,2,4,"button",57),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.cpCancelButton),e.R7$(1),e.Y8G("ngIf",t.cpOKButton)}}function zU(r,o){1&r&&e.eu8(0)}function HU(r,o){if(1&r&&(e.j41(0,"div",59),e.DNE(1,zU,1,0,"ng-container",60),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngTemplateOutlet",t.cpExtraTemplate)}}var Fd=function(r){return r[r.HEX=0]="HEX",r[r.RGBA=1]="RGBA",r[r.HSLA=2]="HSLA",r[r.CMYK=3]="CMYK",r}(Fd||{});class Ef{constructor(o,t,i,n){this.r=o,this.g=t,this.b=i,this.a=n}}class JM{constructor(o,t,i,n){this.h=o,this.s=t,this.v=i,this.a=n}}class M0{constructor(o,t,i,n){this.h=o,this.s=t,this.l=i,this.a=n}}class w1{constructor(o,t,i,n,a=1){this.c=o,this.m=t,this.y=i,this.k=n,this.a=a}}let WU=(()=>{class r{constructor(){this.newValue=new e.bkB}inputChange(t){const i=t.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const n=parseFloat(i);this.newValue.emit({v:n,rg:this.rg})}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.FsC({type:r,selectors:[["","text",""]],hostBindings:function(t,i){1&t&&e.bIt("input",function(a){return i.inputChange(a)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),r})(),KU=(()=>{class r{constructor(t){this.elRef=t,this.dragEnd=new e.bkB,this.dragStart=new e.bkB,this.newValue=new e.bkB,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}mouseDown(t){this.start(t)}touchStart(t){this.start(t)}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-i.left-window.pageXOffset}getY(t){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-i.top-window.pageYOffset}setCursor(t){const i=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,a=Math.max(0,Math.min(this.getX(t),i)),s=Math.max(0,Math.min(this.getY(t),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:a/i,v:1-s/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:s/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:a/i,rgX:this.rgX})}}return r.\u0275fac=function(t){return new(t||r)(e.rXU(e.aKT))},r.\u0275dir=e.FsC({type:r,selectors:[["","slider",""]],hostBindings:function(t,i){1&t&&e.bIt("mousedown",function(a){return i.mouseDown(a)})("touchstart",function(a){return i.touchStart(a)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),r})();class a8{constructor(o,t,i,n){this.h=o,this.s=t,this.v=i,this.a=n}}class s8{constructor(o,t,i,n){this.h=o,this.s=t,this.v=i,this.a=n}}let TF=(()=>{class r{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const i=t.h,n=t.s,a=t.v,s=t.a;if(0===a)return new M0(i,0,0,s);if(0===n&&1===a)return new M0(i,1,1,s);{const d=a*(2-n)/2;return new M0(i,a*n/(1-Math.abs(2*d-1)),d,s)}}hsla2hsva(t){const i=Math.min(t.h,1),n=Math.min(t.s,1),a=Math.min(t.l,1),s=Math.min(t.a,1);if(0===a)return new JM(i,0,0,s);{const d=a+n*(1-Math.abs(2*a-1))/2;return new JM(i,2*(d-a)/d,d,s)}}hsvaToRgba(t){let i,n,a;const s=t.h,d=t.s,m=t.v,I=t.a,J=Math.floor(6*s),oe=6*s-J,Ce=m*(1-d),$e=m*(1-oe*d),nt=m*(1-(1-oe)*d);switch(J%6){case 0:i=m,n=nt,a=Ce;break;case 1:i=$e,n=m,a=Ce;break;case 2:i=Ce,n=m,a=nt;break;case 3:i=Ce,n=$e,a=m;break;case 4:i=nt,n=Ce,a=m;break;case 5:i=m,n=Ce,a=$e;break;default:i=0,n=0,a=0}return new Ef(i,n,a,I)}cmykToRgb(t){return new Ef((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const i=1-Math.max(t.r,t.g,t.b);return 1===i?new w1(0,0,0,1,t.a):new w1((1-t.r-i)/(1-i),(1-t.g-i)/(1-i),(1-t.b-i)/(1-i),i,t.a)}rgbaToHsva(t){let i,n;const a=Math.min(t.r,1),s=Math.min(t.g,1),d=Math.min(t.b,1),m=Math.min(t.a,1),I=Math.max(a,s,d),J=Math.min(a,s,d),oe=I,Ce=I-J;if(n=0===I?0:Ce/I,I===J)i=0;else{switch(I){case a:i=(s-d)/Ce+(s<d?6:0);break;case s:i=(d-a)/Ce+2;break;case d:i=(a-s)/Ce+4;break;default:i=0}i/=6}return new JM(i,n,oe,m)}rgbaToHex(t,i){let n="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return i&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n}normalizeCMYK(t){return new w1(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new w1(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new Ef(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",i=!1){let n=null;t=(t||"").toLowerCase();const a=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Ef(parseInt(s[2],10)/255,parseInt(s[3],10)/255,parseInt(s[4],10)/255,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new M0(parseInt(s[2],10)/360,parseInt(s[3],10)/100,parseInt(s[4],10)/100,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}}];a.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(s){return new Ef(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,parseInt(s[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(s){return new Ef(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,1)}}),a.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(s){return new Ef(parseInt(s[1]+s[1],16)/255,parseInt(s[2]+s[2],16)/255,parseInt(s[3]+s[3],16)/255,1)}});for(const s in a)if(a.hasOwnProperty(s)){const d=a[s],m=d.re.exec(t),I=m&&d.parse(m);if(I)return I instanceof Ef?n=this.rgbaToHsva(I):I instanceof M0&&(n=this.hsla2hsva(I)),n}return n}outputFormat(t,i,n){switch("auto"===i&&(i=t.a<1?"rgba":"hex"),i){case"hsla":const a=this.hsva2hsla(t),s=new M0(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100);return t.a<1||"always"===n?"hsla("+s.h+","+s.s+"%,"+s.l+"%,"+s.a+")":"hsl("+s.h+","+s.s+"%,"+s.l+"%)";case"rgba":const d=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+d.r+","+d.g+","+d.b+","+Math.round(100*d.a)/100+")":"rgb("+d.r+","+d.g+","+d.b+")";default:const m="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),m)}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac}),r})();const l8=typeof window<"u"&&"ontouchstart"in window;let XU=(()=>{class r{constructor(t,i,n,a,s,d){this.ngZone=t,this.elRef=i,this.cdRef=n,this.document=a,this.platformId=s,this.service=d,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Fd.HEX,Fd.RGBA,Fd.HSLA,Fd.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=(0,l.UE)(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}ngOnInit(){this.slider=new a8(0,0,0,0),this.sliderDimMax=new s8(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Fd.CMYK:"rgba"===this.cpOutputFormat?Fd.RGBA:"hsla"===this.cpOutputFormat?Fd.HSLA:Fd.HEX,this.listenerMouseDown=n=>{this.onMouseDown(n)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new s8(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,i,n,a,s,d,m,I,J,oe,Ce,$e,nt,Tt,Zt,ci,xi,Oi,Ui,Hi,gn,pn,Jn,tr,pr,ho,io,sa,Rs,ko,ur,br,no,Da,Al,YA,pc,ed){this.setInitialColor(n),this.setColorMode(I),this.isIE10=10===function JU(){let r="";typeof navigator<"u"&&(r=navigator.userAgent.toLowerCase());const o=r.indexOf("msie ");return o>0&&parseInt(r.substring(o+5,r.indexOf(".",o)),10)}(),this.directiveInstance=t,this.directiveElementRef=i,this.cpDisableInput=$e,this.cpCmykEnabled=J,this.cpAlphaChannel=oe,this.cpOutputFormat=Ce,this.cpDialogDisplay=d,this.cpIgnoredElements=nt,this.cpSaveClickOutside=Tt,this.cpCloseClickOutside=Zt,this.useRootViewContainer=ci,this.width=this.cpWidth=parseInt(a,10),this.height=this.cpHeight=parseInt(s,10),this.cpPosition=xi,this.cpPositionOffset=parseInt(Oi,10),this.cpOKButton=ho,this.cpOKButtonText=sa,this.cpOKButtonClass=io,this.cpCancelButton=Rs,this.cpCancelButtonText=ur,this.cpCancelButtonClass=ko,this.cpEyeDropper=YA,this.fallbackColor=m||"#fff",this.setPresetConfig(Hi,gn),this.cpPresetColorsClass=pn,this.cpMaxPresetColorsLength=Jn,this.cpPresetEmptyMessage=tr,this.cpPresetEmptyMessageClass=pr,this.cpAddColorButton=br,this.cpAddColorButtonText=Da,this.cpAddColorButtonClass=no,this.cpRemoveColorButtonClass=Al,this.cpTriggerElement=pc,this.cpExtraTemplate=ed,Ui||(this.dialogArrowOffset=0),"inline"===d&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===Ce&&"always"!==oe&&"forced"!==oe&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,i){this.cpPresetLabel=t,this.cpPresetColors=i}setColorFromString(t,i=!0,n=!0){let a;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(a=this.service.stringToHsva(t,!0),!a&&!this.hsva&&(a=this.service.stringToHsva(t,!1))):a=this.service.stringToHsva(t,!1),!a&&!this.hsva&&(a=this.service.stringToHsva(this.fallbackColor,!1)),a&&(this.hsva=a,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,n))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&t.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,t.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,t.target)&&0===this.cpIgnoredElements.filter(i=>i===t.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(t){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),n=((this.dialogInputFields.indexOf(this.format)+t)%i+i)%i;this.format=this.dialogInputFields[n]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const n=i.test(t);n&&(t.length<5&&(t="#"+t.substring(1).split("").map(a=>a+a).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:n,value:t,color:this.outputColor})}}onRedInput(t){const i=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(i.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:n,value:i.r,color:this.outputColor})}onBlueInput(t){const i=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(i.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:n,value:i.b,color:this.outputColor})}onGreenInput(t){const i=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(i.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:n,value:i.g,color:this.outputColor})}onHueInput(t){const i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const i=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(i.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:n,value:i.l,color:this.outputColor})}onSaturationInput(t){const i=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(i.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:n,value:i.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,i){t.stopPropagation(),this.cpPresetColors.filter(n=>n===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,i){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(n=>n!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{l8?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(l8?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,i=!0,n=!1){if(this.sliderDimMax){let a,s,d;2===this.cpColorMode&&(this.hsva.s=0);const m=this.outputColor;if(s=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(n?(d=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(d)):(d=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(d))),d=this.service.denormalizeRGBA(d),this.sliderH=this.hsva.h):d=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),a=this.service.denormalizeRGBA(this.service.hsvaToRgba(new JM(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new M0(Math.round(360*s.h),Math.round(100*s.s),Math.round(100*s.l),Math.round(100*s.a)/100),this.rgbaText=new Ef(d.r,d.g,d.b,Math.round(100*d.a)/100),this.cpCmykEnabled&&(this.cmykText=new w1(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(d,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Fd.RGBA&&this.format!==Fd.CMYK&&this.format!==Fd.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?Fd.RGBA:Fd.HEX),this.hueSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.alphaSliderColor="rgb("+d.r+","+d.g+","+d.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Fd.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const I=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${I})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new a8((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&m!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let n,t="static",i="",a=null,s=null,d=this.directiveElementRef.nativeElement.parentNode;const m=this.dialogElement.nativeElement.offsetHeight;for(;null!==d&&"HTML"!==d.tagName;){if(n=window.getComputedStyle(d),t=n.getPropertyValue("position"),i=n.getPropertyValue("transform"),"static"!==t&&null===a&&(a=d),i&&"none"!==i&&null===s&&(s=d),"fixed"===t){a=s;break}d=d.parentNode}const I=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!a||a instanceof HTMLUnknownElement))this.top=I.top,this.left=I.left;else{null===a&&(a=d);const oe=this.createDialogBox(a,"fixed"!==t);this.top=I.top-oe.top,this.left=I.left-oe.left}"fixed"===t&&(this.position="fixed");let J=this.cpPosition;"auto"===this.cpPosition&&(J=function VU(r,o){let t="right",i="bottom";const{height:n,width:a}=r,{top:s,left:d}=o,m=s+o.height,I=d+o.width,J=s-n<0,oe=m+n>(window.innerHeight||document.documentElement.clientHeight),Ce=d-a<0,$e=I+a>(window.innerWidth||document.documentElement.clientWidth);return oe&&(i="top"),J&&(i="bottom"),Ce&&(t="right"),$e&&(t="left"),J&&oe&&Ce&&$e?["left","right","top","bottom"].reduce((Zt,ci)=>r[Zt]>r[ci]?Zt:ci):Ce&&$e?J?"bottom":oe||s>m?"top":"bottom":J&&oe?Ce?"right":$e||d>I?"left":"right":`${i}-${t}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===J?(this.arrowTop=m-1,this.top-=m+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*I.width-this.dialogArrowOffset):"bottom"===J?(this.top+=I.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*I.width-this.dialogArrowOffset):"top-left"===J||"left-top"===J?(this.top-=m-I.height+I.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===J||"right-top"===J?(this.top-=m-I.height+I.height*this.cpPositionOffset/100,this.left+=I.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===J||"bottom-left"===J||"left-bottom"===J?(this.top+=I.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=I.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=I.width+this.dialogArrowSize-2),this.cpUsePosition=J}}isDescendant(t,i){let n=i.parentNode;for(;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}createDialogBox(t,i){const{top:n,left:a}=t.getBoundingClientRect();return{top:n+(i?window.pageYOffset:0),left:a+(i?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}}return r.\u0275fac=function(t){return new(t||r)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(l.qQ),e.rXU(e.Agw),e.rXU(TF))},r.\u0275cmp=e.VBU({type:r,selectors:[["color-picker"]],viewQuery:function(t,i){if(1&t&&(e.GBs(hU,7),e.GBs(pU,7),e.GBs(fU,7)),2&t){let n;e.mGM(n=e.lsd())&&(i.dialogElement=n.first),e.mGM(n=e.lsd())&&(i.hueSlider=n.first),e.mGM(n=e.lsd())&&(i.alphaSlider=n.first)}},hostBindings:function(t,i){1&t&&e.bIt("keyup.esc",function(a){return i.handleEsc(a)},!1,e.EBC)("keyup.enter",function(a){return i.handleEnter(a)},!1,e.EBC)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(t,i){1&t&&(e.j41(0,"div",0,1),e.bIt("click",function(a){return a.stopPropagation()}),e.DNE(2,gU,1,5,"div",2),e.DNE(3,mU,2,8,"div",3),e.j41(4,"div",4)(5,"div",5),e.nrm(6,"div",6),e.j41(7,"div",7),e.bIt("click",function(){return i.eyeDropperSupported&&i.cpEyeDropper&&i.onEyeDropper()}),e.DNE(8,vU,3,0,"svg",8),e.k0s(),e.DNE(9,_U,2,5,"button",9),e.k0s(),e.j41(10,"div",10),e.DNE(11,yU,1,0,"div",11),e.j41(12,"div",12,13),e.bIt("newValue",function(a){return i.onHueChange(a)})("dragStart",function(){return i.onDragStart("hue")})("dragEnd",function(){return i.onDragEnd("hue")}),e.nrm(14,"div",14),e.k0s(),e.j41(15,"div",15,16),e.bIt("newValue",function(a){return i.onValueChange(a)})("dragStart",function(){return i.onDragStart("value")})("dragEnd",function(){return i.onDragEnd("value")}),e.nrm(17,"div",14),e.k0s(),e.j41(18,"div",17,18),e.bIt("newValue",function(a){return i.onAlphaChange(a)})("dragStart",function(){return i.onDragStart("alpha")})("dragEnd",function(){return i.onDragEnd("alpha")}),e.nrm(20,"div",14),e.k0s()()(),e.DNE(21,CU,17,12,"div",19),e.DNE(22,MU,14,10,"div",20),e.DNE(23,IU,14,10,"div",21),e.DNE(24,FU,8,7,"div",22),e.DNE(25,QU,9,3,"div",23),e.DNE(26,RU,3,0,"div",24),e.DNE(27,NU,6,3,"div",25),e.DNE(28,UU,3,2,"div",26),e.DNE(29,HU,2,1,"div",27),e.k0s()),2&t&&(e.xc7("display",i.show?"block":"none")("visibility",i.hidden?"hidden":"visible")("top",i.top,"px")("left",i.left,"px")("position",i.position)("height",i.cpHeight,"px")("width",i.cpWidth,"px"),e.AVh("open",i.show),e.R7$(2),e.Y8G("ngIf","popup"===i.cpDialogDisplay),e.R7$(1),e.Y8G("ngIf",1===(i.cpColorMode||1)),e.R7$(4),e.xc7("background-color",i.selectedColor)("cursor",i.eyeDropperSupported&&i.cpEyeDropper?"pointer":null),e.R7$(1),e.Y8G("ngIf",i.eyeDropperSupported&&i.cpEyeDropper),e.R7$(1),e.Y8G("ngIf",i.cpAddColorButton),e.R7$(2),e.Y8G("ngIf","disabled"===i.cpAlphaChannel),e.R7$(1),e.xc7("display",1===(i.cpColorMode||1)?"block":"none"),e.Y8G("rgX",1),e.R7$(2),e.xc7("left",null==i.slider?null:i.slider.h,"px"),e.R7$(1),e.xc7("display",2===(i.cpColorMode||1)?"block":"none"),e.Y8G("rgX",1),e.R7$(2),e.xc7("right",null==i.slider?null:i.slider.v,"px"),e.R7$(1),e.xc7("display","disabled"===i.cpAlphaChannel?"none":"block")("background-color",i.alphaSliderColor),e.Y8G("rgX",1),e.R7$(2),e.xc7("left",null==i.slider?null:i.slider.a,"px"),e.R7$(1),e.Y8G("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),e.R7$(1),e.Y8G("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),e.R7$(1),e.Y8G("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),e.R7$(1),e.Y8G("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),e.R7$(1),e.Y8G("ngIf",!i.cpDisableInput&&2===(i.cpColorMode||1)),e.R7$(1),e.Y8G("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),e.R7$(1),e.Y8G("ngIf",(null==i.cpPresetColors?null:i.cpPresetColors.length)||i.cpAddColorButton),e.R7$(1),e.Y8G("ngIf",i.cpOKButton||i.cpCancelButton),e.R7$(1),e.Y8G("ngIf",i.cpExtraTemplate))},dependencies:[l.Sq,l.bT,l.T3,WU,KU],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),r})(),XA=(()=>{class r{constructor(t,i,n,a,s,d){this.injector=t,this.cfr=i,this.appRef=n,this.vcRef=a,this.elRef=s,this._service=d,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new e.bkB(!0),this.cpToggleChange=new e.bkB(!0),this.cpSliderChange=new e.bkB(!0),this.cpSliderDragEnd=new e.bkB(!0),this.cpSliderDragStart=new e.bkB(!0),this.colorPickerOpen=new e.bkB(!0),this.colorPickerClose=new e.bkB(!0),this.colorPickerCancel=new e.bkB(!0),this.colorPickerSelect=new e.bkB(!0),this.colorPickerChange=new e.bkB(!1),this.cpCmykColorChange=new e.bkB(!0),this.cpPresetColorsChange=new e.bkB(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const a=this.injector.get(this.appRef.componentTypes[0],e.zZn.NULL);a!==e.zZn.NULL?t=a.vcRef||a.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(XU);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const n=e.zZn.create({providers:[],parent:t.injector});this.cmpRef=t.createComponent(i,0,n,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(n=>n===t);!this.cpDisabled&&!i.length&&(typeof document<"u"&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.rXU(e.zZn),e.rXU(e.OM3),e.rXU(e.o8S),e.rXU(e.c1b),e.rXU(e.aKT),e.rXU(TF))},r.\u0275dir=e.FsC({type:r,selectors:[["","colorPicker",""]],hostBindings:function(t,i){1&t&&e.bIt("click",function(){return i.handleClick()})("focus",function(){return i.handleFocus()})("input",function(a){return i.handleInput(a)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[e.OA$]}),r})(),$U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({providers:[TF],imports:[l.MD]}),r})();var Gg=ie(8256);class qU{constructor(o,t="/assets/i18n/",i=".json"){this.http=o,this.prefix=t,this.suffix=i}getTranslation(o){return this.http.get(`${this.prefix}${o}${this.suffix}`)}}class Cc{constructor(o,t){this.x=o,this.y=t}static fromEvent(o,t=null){if(this.isMouseEvent(o))return new Cc(o.clientX,o.clientY);if(null===t||1===o.changedTouches.length)return new Cc(o.changedTouches[0].clientX,o.changedTouches[0].clientY);for(let i=0;i<o.changedTouches.length;i++)if(o.changedTouches[i].target===t)return new Cc(o.changedTouches[i].clientX,o.changedTouches[i].clientY);return null}static isMouseEvent(o){return 8===Object.prototype.toString.apply(o).indexOf("MouseEvent")}static isIPosition(o){return!!o&&"x"in o&&"y"in o}static getCurrent(o){let t=new Cc(0,0);if(window){const i=window.getComputedStyle(o);if(i){let n=parseInt(i.getPropertyValue("left"),10),a=parseInt(i.getPropertyValue("top"),10);t.x=isNaN(n)?0:n,t.y=isNaN(a)?0:a}return t}return console.error("Not Supported!"),null}static copy(o){return new Cc(0,0).set(o)}get value(){return{x:this.x,y:this.y}}add(o){return this.x+=o.x,this.y+=o.y,this}subtract(o){return this.x-=o.x,this.y-=o.y,this}multiply(o){this.x*=o,this.y*=o}divide(o){this.x/=o,this.y/=o}reset(){return this.x=0,this.y=0,this}set(o){return this.x=o.x,this.y=o.y,this}}class c8{constructor(o,t){this.parent=o,this.renderer=t,this._added=!1;let i=t.createElement("div");t.setStyle(i,"position","absolute"),t.setStyle(i,"width","100%"),t.setStyle(i,"height","100%"),t.setStyle(i,"background-color","transparent"),t.setStyle(i,"top","0"),t.setStyle(i,"left","0"),this._helper=i}add(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)}remove(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)}dispose(){this._helper=null,this._added=!1}get el(){return this._helper}}let FF=(()=>{class r{set zIndex(t){this.renderer.setStyle(this.el.nativeElement,"z-index",t),this._zIndex=t}set ngDraggable(t){if(null!=t&&""!==t){this.allowDrag=!!t;let i=this.getDragEl();this.allowDrag?this.renderer.addClass(i,"ng-draggable"):(this.putBack(),this.renderer.removeClass(i,"ng-draggable"))}}constructor(t,i){this.el=t,this.renderer=i,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new Cc(0,0),this.tempTrans=new Cc(0,0),this.currTrans=new Cc(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new e.bkB,this.stopped=new e.bkB,this.edge=new e.bkB,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new e.bkB,this.endOffset=new e.bkB,this._helperBlock=new c8(t.nativeElement,i)}ngOnInit(){if(this.allowDrag){let t=this.getDragEl();this.renderer.addClass(t,"ng-draggable")}this.resetPosition()}ngOnDestroy(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()}ngOnChanges(t){if(t.position&&!t.position.isFirstChange()){let i=t.position.currentValue;this.moving?this.needTransform=!0:(Cc.isIPosition(i)?this.oldTrans.set(i):this.oldTrans.reset(),this.transform())}}ngAfterViewInit(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())}getDragEl(){return this.handle?this.handle:this.el.nativeElement}resetPosition(){Cc.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()}moveTo(t){if(this.orignal){if(t.subtract(this.orignal),this.tempTrans.set(t),this.tempTrans.divide(this.scale),this.transform(),this.bounds){let i=this.boundsCheck();i&&this.edge.emit(i)}this.movingOffset.emit(this.currTrans.value)}}transform(){let t=this.tempTrans.x+this.oldTrans.x,i=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(t=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(i=this.oldTrans.y,this.tempTrans.y=0),this.gridSize>1&&(t=Math.round(t/this.gridSize)*this.gridSize,i=Math.round(i/this.gridSize)*this.gridSize);let n=`translate(${Math.round(t)}px, ${Math.round(i)}px)`;this.renderer.setStyle(this.el.nativeElement,"transform",n),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",n),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",n),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",n),this.renderer.setStyle(this.el.nativeElement,"-o-transform",n),this.currTrans.x=t,this.currTrans.y=i}pickUp(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;const t=this.getDragEl();this.renderer.addClass(t,"ng-dragging"),this.subscribeEvents()}}subscribeEvents(){this.draggingSub=Ue(document,"mousemove",{passive:!1}).subscribe(i=>this.onMouseMove(i)),this.draggingSub.add(Ue(document,"touchmove",{passive:!1}).subscribe(i=>this.onMouseMove(i))),this.draggingSub.add(Ue(document,"mouseup",{passive:!1}).subscribe(()=>this.putBack())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(Ue(document,"mouseleave",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add(Ue(document,"touchend",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add(Ue(document,"touchcancel",{passive:!1}).subscribe(()=>this.putBack()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}boundsCheck(){if(this.bounds){let t=this.bounds.getBoundingClientRect(),i=this.el.nativeElement.getBoundingClientRect(),n={top:!!this.outOfBounds.top||t.top<i.top,right:!!this.outOfBounds.right||t.right>i.right,bottom:!!this.outOfBounds.bottom||t.bottom>i.bottom,left:!!this.outOfBounds.left||t.left<i.left};return this.inBounds&&(n.top||(this.tempTrans.y-=(i.top-t.top)/this.scale),n.bottom||(this.tempTrans.y-=(i.bottom-t.bottom)/this.scale),n.right||(this.tempTrans.x-=(i.right-t.right)/this.scale),n.left||(this.tempTrans.x-=(i.left-t.left)/this.scale),this.transform()),n}return null}getCurrentOffset(){return this.currTrans.value}putBack(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){if(this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(Cc.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds){let i=this.boundsCheck();i&&this.edge.emit(i)}this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();const t=this.getDragEl();this.renderer.removeClass(t,"ng-dragging"),this.unsubscribeEvents()}}checkHandleTarget(t,i){if("BUTTON"===i.tagName)return!1;if(i===t)return!0;for(let n in i.children)if(i.children.hasOwnProperty(n)&&this.checkHandleTarget(t,i.children[n]))return!0;return!1}onMouseDown(t){t instanceof MouseEvent&&2===t.button||void 0!==this.handle&&!this.checkHandleTarget(t.target||t.srcElement,this.handle)||!1!==this.allowDrag&&(this.preventDefaultEvent&&(t.stopPropagation(),t.preventDefault()),this.orignal=Cc.fromEvent(t,this.getDragEl()),this.pickUp())}onMouseMove(t){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(t.stopPropagation(),t.preventDefault()),this._helperBlock.add(),this.moveTo(Cc.fromEvent(t,this.getDragEl())))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.sFG))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","ngDraggable",""]],hostBindings:function(i,n){1&i&&e.bIt("mousedown",function(s){return n.onMouseDown(s)})("touchstart",function(s){return n.onMouseDown(s)})},inputs:{handle:"handle",bounds:"bounds",outOfBounds:"outOfBounds",gridSize:"gridSize",zIndexMoving:"zIndexMoving",zIndex:"zIndex",inBounds:"inBounds",trackPosition:"trackPosition",scale:"scale",preventDefaultEvent:"preventDefaultEvent",position:"position",lockAxis:"lockAxis",ngDraggable:"ngDraggable"},outputs:{started:"started",stopped:"stopped",edge:"edge",movingOffset:"movingOffset",endOffset:"endOffset"},exportAs:["ngDraggable"],features:[e.OA$]})}}return r})();class ez{constructor(o,t,i,n,a,s){this.parent=o,this.renderer=t,this.type=i,this.css=n,this.onMouseDown=a,this.existHandle=s;let d=this.existHandle||t.createElement("div");t.addClass(d,"ng-resizable-handle"),t.addClass(d,n),"se"===i&&t.addClass(d,"ng-resizable-diagonal"),this.parent&&!this.existHandle&&o.appendChild(d),this._onResize=m=>{a(m,this)},d.addEventListener("mousedown",this._onResize,{passive:!1}),d.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=d}dispose(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&!this.existHandle&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null}get el(){return this._handle}}class Ug{constructor(o,t){this.width=o,this.height=t}static getCurrent(o){let t=new Ug(0,0);if(window){const i=window.getComputedStyle(o);return i&&(t.width=parseInt(i.getPropertyValue("width"),10),t.height=parseInt(i.getPropertyValue("height"),10)),t}return console.error("Not Supported!"),null}static copy(o){return new Ug(0,0).set(o)}set(o){return this.width=o.width,this.height=o.height,this}}let tz=(()=>{class r{set ngResizable(t){null!=t&&""!==t&&(this._resizable=!!t,this.updateResizable())}constructor(t,i){this.el=t,this.renderer=i,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzHandles="e,s,se",this.rzHandleDoms={},this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.rzScale=1,this.preventDefaultEvent=!0,this.rzStart=new e.bkB,this.rzResizing=new e.bkB,this.rzStop=new e.bkB,this._helperBlock=new c8(t.nativeElement,i)}ngOnChanges(t){t.rzHandles&&!t.rzHandles.isFirstChange()&&this.updateResizable(),t.rzAspectRatio&&!t.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),t.rzContainment&&!t.rzContainment.isFirstChange()&&this.updateContainment()}ngOnInit(){this.updateResizable()}ngOnDestroy(){this.removeHandles(),this._containment=null,this._helperBlock.dispose(),this._helperBlock=null}ngAfterViewInit(){const t=this.el.nativeElement;this._initSize=Ug.getCurrent(t),this._initPos=Cc.getCurrent(t),this._currSize=Ug.copy(this._initSize),this._currPos=Cc.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()}resetSize(){this._currSize=Ug.copy(this._initSize),this._currPos=Cc.copy(this._initPos),this.doResize()}getStatus(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null}updateResizable(){const t=this.el.nativeElement;this.renderer.removeClass(t,"ng-resizable"),this.removeHandles(),this._resizable&&(this.renderer.addClass(t,"ng-resizable"),this.createHandles())}updateAspectRatio(){if("boolean"==typeof this.rzAspectRatio)this._aspectRatio=this.rzAspectRatio&&this._currSize.height?this._currSize.width/this._currSize.height:0;else{let t=Number(this.rzAspectRatio);this._aspectRatio=isNaN(t)?0:t}}updateContainment(){this._containment=this.rzContainment?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this.el.nativeElement.parentElement:document.querySelector(this.rzContainment):this.rzContainment:null}createHandles(){if(!this.rzHandles)return;let t;if("string"==typeof this.rzHandles){t="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");for(let i of t){let n=this.createHandleByType(i,`ng-resizable-${i}`);n&&(this._handleType.push(i),this._handles[i]=n)}}else{t=Object.keys(this.rzHandles);for(let i of t){let n=this.createHandleByType(i,this.rzHandles[i]);n&&(this._handleType.push(i),this._handles[i]=n)}}}createHandleByType(t,i){const n=this.el.nativeElement,a=this.rzHandleDoms[t]?this.rzHandleDoms[t].nativeElement:null;return t.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new ez(n,this.renderer,t,i,this.onMouseDown.bind(this),a):(console.error("Invalid handle type:",t),null)}removeHandles(){for(let t of this._handleType)this._handles[t].dispose();this._handleType=[],this._handles={}}onMouseDown(t,i){t instanceof MouseEvent&&2===t.button||(this.preventDefaultEvent&&(t.stopPropagation(),t.preventDefault()),this._handleResizing||(this._origMousePos=Cc.fromEvent(t),this.startResize(i),this.subscribeEvents()))}subscribeEvents(){this.draggingSub=Ue(document,"mousemove",{passive:!1}).subscribe(i=>this.onMouseMove(i)),this.draggingSub.add(Ue(document,"touchmove",{passive:!1}).subscribe(i=>this.onMouseMove(i))),this.draggingSub.add(Ue(document,"mouseup",{passive:!1}).subscribe(()=>this.onMouseLeave())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(Ue(document,"mouseleave",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add(Ue(document,"touchend",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add(Ue(document,"touchcancel",{passive:!1}).subscribe(()=>this.onMouseLeave()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}onMouseLeave(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())}onMouseMove(t){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(Cc.fromEvent(t)),this.onResizing())}startResize(t){const i=this.el.nativeElement;this._origSize=Ug.getCurrent(i),this._origPos=Cc.getCurrent(i),this._currSize=Ug.copy(this._origSize),this._currPos=Cc.copy(this._origPos),this._containment&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=t,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())}stopResize(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,this._containment&&this.resetBounding()}onResizing(){this.rzResizing.emit(this.getResizingEvent())}getResizingEvent(){return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:{...this._directionChanged}}}updateDirection(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged={...this._direction},this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))}resizeTo(t){t.subtract(this._origMousePos).divide(this.rzScale);const i=Math.round(t.x/this._gridSize.x)*this._gridSize.x,n=Math.round(t.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+n,this._currSize.height=this._origSize.height-n):this._direction.s&&(this._currSize.height=this._origSize.height+n),this._direction.e?this._currSize.width=this._origSize.width+i:this._direction.w&&(this._currSize.width=this._origSize.width-i,this._currPos.x=this._origPos.x+i),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()}doResize(){const t=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(t,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(t,"width",this._currSize.width+"px"),this.renderer.setStyle(t,"left",this._currPos.x+"px"),this.renderer.setStyle(t,"top",this._currPos.y+"px")}adjustByRatio(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){const t=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-t),this._currSize.height=t}else{const t=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-t),this._currSize.width=t}}checkBounds(){if(this._containment){const t=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,i=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>t&&(this._currSize.width=t),this._currSize.height>i&&(this._currSize.height=i),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=i){const n=Math.floor(i*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-n),this._currSize.width=n,this._currSize.height=i,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=t){const n=Math.floor(t/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-n),this._currSize.width=t,this._currSize.height=n,this._adjusted=!0}}}}checkSize(){const t=this.rzMinHeight?this.rzMinHeight:1,i=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<t&&(this._currSize.height=t,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-t))),this._currSize.width<i&&(this._currSize.width=i,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-i))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))}getBounding(){const t=this._containment,i=window.getComputedStyle(t);if(i){let n=i.getPropertyValue("position"),s=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");this._bounding={},this._bounding.width=t.clientWidth,this._bounding.height=t.clientHeight,this._bounding.pr=parseInt(i.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(i.getPropertyValue("padding-bottom"),10),this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,s.length>=6?(this._bounding.translateX=parseInt(s[4],10),this._bounding.translateY=parseInt(s[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0),this._bounding.position=i.getPropertyValue("position"),"static"===n&&this.renderer.setStyle(t,"position","relative")}}resetBounding(){this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null}getGridSize(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.sFG))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","ngResizable",""]],inputs:{ngResizable:"ngResizable",rzHandles:"rzHandles",rzHandleDoms:"rzHandleDoms",rzAspectRatio:"rzAspectRatio",rzContainment:"rzContainment",rzGrid:"rzGrid",rzMinWidth:"rzMinWidth",rzMinHeight:"rzMinHeight",rzMaxWidth:"rzMaxWidth",rzMaxHeight:"rzMaxHeight",rzScale:"rzScale",preventDefaultEvent:"preventDefaultEvent"},outputs:{rzStart:"rzStart",rzResizing:"rzResizing",rzStop:"rzStop"},exportAs:["ngResizable"],features:[e.OA$]})}}return r})(),iz=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();var A8=ie(467);const nz=["ref"];function d8(r){return r&&r.replace(/\r\n|\r/g,"\n")}let WM=(()=>{class r{constructor(t,i){this._differs=t,this._ngZone=i,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new e.bkB,this.focusChange=new e.bkB,this.scroll=new e.bkB,this.drop=new e.bkB,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=n=>{},this.onTouched=()=>{}}set options(t){this._options=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror=typeof CodeMirror<"u"?CodeMirror:Promise.resolve().then(ie.t.bind(ie,1382,19))),this._codeMirror}ngAfterViewInit(){var t=this;this._ngZone.runOutsideAngular((0,A8.A)(function*(){const i=yield t.codeMirrorGlobal;t.codeMirror=(i?.default?i.default:i).fromTextArea(t.ref.nativeElement,t._options),t.codeMirror.on("cursorActivity",a=>t._ngZone.run(()=>t.cursorActive(a))),t.codeMirror.on("scroll",t.scrollChanged.bind(t)),t.codeMirror.on("blur",()=>t._ngZone.run(()=>t.focusChanged(!1))),t.codeMirror.on("focus",()=>t._ngZone.run(()=>t.focusChanged(!0))),t.codeMirror.on("change",(a,s)=>t._ngZone.run(()=>t.codemirrorValueChanged(a,s))),t.codeMirror.on("drop",(a,s)=>{t._ngZone.run(()=>t.dropFiles(a,s))}),t.codeMirror.setValue(t.value)}))}ngDoCheck(){if(!this._differ)return;const t=this._differ.diff(this._options);t&&(t.forEachChangedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),t.forEachAddedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),t.forEachRemovedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(t,i){const n=t.getValue();this.value!==n&&(this.value=n,this.onChange(this.value))}setOptionIfChanged(t,i){this.codeMirror&&this.codeMirror.setOption(t,i)}focusChanged(t){this.onTouched(),this.isFocused=t,this.focusChange.emit(t)}scrollChanged(t){this.scroll.emit(t.getScrollInfo())}cursorActive(t){this.cursorActivity.emit(t)}dropFiles(t,i){this.drop.emit([t,i])}writeValue(t){if(null==t)return;if(!this.codeMirror)return void(this.value=t);const i=this.codeMirror.getValue();if(t!==i&&d8(i)!==d8(t))if(this.value=t,this.preserveScrollPosition){const n=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(n.left,n.top)}else this.codeMirror.setValue(this.value)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this.setOptionIfChanged("readOnly",this.disabled)}}return r.\u0275fac=function(t){return new(t||r)(e.rXU(e.MKu),e.rXU(e.SKi))},r.\u0275cmp=e.VBU({type:r,selectors:[["ngx-codemirror"]],viewQuery:function(t,i){if(1&t&&e.GBs(nz,5),2&t){let n;e.mGM(n=e.lsd())&&(i.ref=n.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop"},features:[e.Jv_([{provide:y,useExisting:(0,e.Rfq)(()=>r),multi:!0}])],decls:3,vars:7,consts:[["autocomplete","off",3,"name","autofocus"],["ref",""]],template:function(t,i){1&t&&(e.j41(0,"textarea",0,1),e.EFF(2,"    "),e.k0s()),2&t&&(e.ZvI("ngx-codemirror ",i.className,""),e.AVh("ngx-codemirror--focused",i.isFocused),e.Y8G("name",i.name)("autofocus",i.autoFocus))},encapsulation:2,changeDetection:0}),r})(),rz=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({}),r})();const SF=m1,QF=new e.nKC("daterangepicker.config"),u8={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom range",daysOfWeek:SF.weekdaysMin(),monthNames:SF.monthsShort(),firstDay:SF.localeData().firstDayOfWeek()};let RF=(()=>{class r{_config;constructor(t){this._config=t}get config(){return this._config?{...u8,...this._config}:u8}static \u0275fac=function(i){return new(i||r)(e.KVO(QF))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),oz=(()=>{class r{constructor(){}static forRoot(t={}){return{ngModule:r,providers:[{provide:QF,useValue:t},{provide:RF,useClass:RF,deps:[QF]}]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[l.MD,Vs,IA]})}return r})();const az=["pickerContainer"],sz=function(r){return{active:r}};function lz(r,o){if(1&r){const t=e.RV6();e.j41(0,"li")(1,"button",7),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.clickRange(n,s))}),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("disabled",i.disableRange(t))("ngClass",e.eq3(3,sz,t===i.chosenRange)),e.R7$(1),e.JRh(t)}}function cz(r,o){1&r&&e.nrm(0,"th")}function Az(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"th",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.clickPrev(n.sideEnum.left))}),e.k0s(),e.bVm()}}function dz(r,o){1&r&&(e.qex(0),e.nrm(1,"th"),e.bVm())}function uz(r,o){if(1&r&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(4);e.Y8G("disabled",i.calendarVariables.left.dropdowns.inMinYear&&t<i.calendarVariables.left.minDate.month()||i.calendarVariables.left.dropdowns.inMaxYear&&t>i.calendarVariables.left.maxDate.month())("value",t)("selected",i.calendarVariables.left.dropdowns.currentMonth===t),e.R7$(1),e.SpI(" ",i.locale.monthNames[t]," ")}}function hz(r,o){if(1&r&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(4);e.Y8G("selected",t===i.calendarVariables.left.dropdowns.currentYear),e.R7$(1),e.SpI(" ",t," ")}}function pz(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",19),e.EFF(2),e.j41(3,"select",20),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.monthChanged(n,a.sideEnum.left))}),e.DNE(4,uz,2,4,"option",21),e.k0s()(),e.j41(5,"div",19),e.EFF(6),e.j41(7,"select",22),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.yearChanged(n,a.sideEnum.left))}),e.DNE(8,hz,2,2,"option",23),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(3);e.R7$(2),e.SpI(" ",t.locale.monthNames[null==t.calendarVariables||null==t.calendarVariables.left?null:t.calendarVariables.left.calendar[1][1].month()]," "),e.R7$(2),e.Y8G("ngForOf",t.calendarVariables.left.dropdowns.monthArrays),e.R7$(2),e.SpI(" ",null==t.calendarVariables||null==t.calendarVariables.left?null:t.calendarVariables.left.calendar[1][1].format(" YYYY")," "),e.R7$(2),e.Y8G("ngForOf",t.calendarVariables.left.dropdowns.yearArrays)}}function fz(r,o){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const t=e.XpG(3);e.R7$(1),e.Lme(" ",t.locale.monthNames[null==t.calendarVariables||null==t.calendarVariables.left?null:t.calendarVariables.left.calendar[1][1].month()]," ",null==t.calendarVariables||null==t.calendarVariables.left?null:t.calendarVariables.left.calendar[1][1].format(" YYYY")," ")}}function gz(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"th",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.clickNext(n.sideEnum.left))}),e.k0s(),e.bVm()}}function mz(r,o){1&r&&(e.qex(0),e.nrm(1,"th"),e.bVm())}function vz(r,o){if(1&r&&(e.j41(0,"th",27)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG(3);e.R7$(2),e.JRh(t.locale.weekLabel)}}function _z(r,o){if(1&r&&(e.j41(0,"th")(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=o.$implicit;e.R7$(2),e.JRh(t)}}function yz(r,o){if(1&r&&(e.j41(0,"td",27)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(2),e.JRh(i.calendarVariables.left.calendar[t][0].week())}}function bz(r,o){if(1&r&&(e.j41(0,"td",27)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(2),e.JRh(i.calendarVariables.left.calendar[t][0].isoWeek())}}function wz(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",29),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG().$implicit,m=e.XpG(3);return e.Njj(m.clickDate(n,m.sideEnum.left,d,s))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG().$implicit,n=e.XpG(3);e.HbH(n.calendarVariables.left.classes[i][t]),e.R7$(2),e.JRh(n.calendarVariables.left.calendar[i][t].date())}}function Cz(r,o){if(1&r&&(e.j41(0,"tr"),e.DNE(1,yz,3,1,"td",15),e.DNE(2,bz,3,1,"td",15),e.DNE(3,wz,3,3,"td",28),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.HbH(i.calendarVariables.left.classes[t].classList),e.R7$(1),e.Y8G("ngIf",i.showWeekNumbers),e.R7$(1),e.Y8G("ngIf",i.showISOWeekNumbers),e.R7$(1),e.Y8G("ngForOf",i.calendarVariables.left.calCols)}}function Ez(r,o){if(1&r&&(e.j41(0,"table",12)(1,"thead")(2,"tr"),e.DNE(3,cz,1,0,"th",13),e.DNE(4,Az,2,0,"ng-container",13),e.DNE(5,dz,2,0,"ng-container",13),e.j41(6,"th",14),e.DNE(7,pz,9,4,"ng-container",13),e.DNE(8,fz,2,2,"ng-container",13),e.k0s(),e.DNE(9,gz,2,0,"ng-container",13),e.DNE(10,mz,2,0,"ng-container",13),e.k0s(),e.j41(11,"tr"),e.DNE(12,vz,3,1,"th",15),e.DNE(13,_z,3,1,"th",3),e.k0s()(),e.j41(14,"tbody",16),e.DNE(15,Cz,4,5,"tr",17),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),e.R7$(1),e.Y8G("ngIf",!t.calendarVariables.left.minDate||t.calendarVariables.left.minDate.isBefore(t.calendarVariables.left.calendar.firstDay)&&(!t.linkedCalendars||!0)),e.R7$(1),e.Y8G("ngIf",!(!t.calendarVariables.left.minDate||t.calendarVariables.left.minDate.isBefore(t.calendarVariables.left.calendar.firstDay))),e.R7$(2),e.Y8G("ngIf",t.showDropdowns&&t.calendarVariables.left.dropdowns),e.R7$(1),e.Y8G("ngIf",!t.showDropdowns||!t.calendarVariables.left.dropdowns),e.R7$(1),e.Y8G("ngIf",(!t.calendarVariables.left.maxDate||t.calendarVariables.left.maxDate.isAfter(t.calendarVariables.left.calendar.lastDay))&&(!t.linkedCalendars||t.singleDatePicker)),e.R7$(1),e.Y8G("ngIf",!((!t.calendarVariables.left.maxDate||t.calendarVariables.left.maxDate.isAfter(t.calendarVariables.left.calendar.lastDay))&&(!t.linkedCalendars||t.singleDatePicker))),e.R7$(2),e.Y8G("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),e.R7$(1),e.Y8G("ngForOf",t.locale.daysOfWeek),e.R7$(2),e.Y8G("ngForOf",t.calendarVariables.left.calRows)}}function Bz(r,o){if(1&r&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.Y8G("value",t)("disabled",i.timepickerVariables.left.disabledHours.indexOf(t)>-1),e.R7$(1),e.JRh(t)}}function Mz(r,o){if(1&r&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG(3);e.Y8G("value",t)("disabled",n.timepickerVariables.left.disabledMinutes.indexOf(t)>-1),e.R7$(1),e.JRh(n.timepickerVariables.left.minutesLabel[i])}}function xz(r,o){if(1&r&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG(4);e.Y8G("value",t)("disabled",n.timepickerVariables.left.disabledSeconds.indexOf(t)>-1),e.R7$(1),e.JRh(n.timepickerVariables.left.secondsLabel[i])}}function Dz(r,o){if(1&r){const t=e.RV6();e.j41(0,"select",40),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timepickerVariables.left.selectedSecond=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timeChanged(n,a.sideEnum.left))}),e.DNE(1,xz,2,3,"option",33),e.k0s()}if(2&r){const t=e.XpG(3);e.Y8G("disabled",!t.endDate)("ngModel",t.timepickerVariables.left.selectedSecond),e.R7$(1),e.Y8G("ngForOf",t.timepickerVariables.left.seconds)}}function Iz(r,o){if(1&r){const t=e.RV6();e.j41(0,"select",41),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timepickerVariables.left.ampmModel=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timeChanged(n,a.sideEnum.left))}),e.j41(1,"option",42),e.EFF(2,"AM"),e.k0s(),e.j41(3,"option",43),e.EFF(4,"PM"),e.k0s()()}if(2&r){const t=e.XpG(3);e.Y8G("ngModel",t.timepickerVariables.left.ampmModel),e.R7$(1),e.Y8G("disabled",t.timepickerVariables.left.amDisabled),e.R7$(2),e.Y8G("disabled",t.timepickerVariables.left.pmDisabled)}}function kz(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",30)(1,"div",31)(2,"select",32),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timepickerVariables.left.selectedHour=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timeChanged(n,a.sideEnum.left))}),e.DNE(3,Bz,2,3,"option",33),e.k0s()(),e.j41(4,"div",31)(5,"select",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timepickerVariables.left.selectedMinute=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timeChanged(n,a.sideEnum.left))}),e.DNE(6,Mz,2,3,"option",33),e.k0s(),e.nrm(7,"span",35)(8,"span",36),e.k0s(),e.j41(9,"div",31),e.DNE(10,Dz,2,3,"select",37),e.nrm(11,"span",35)(12,"span",36),e.k0s(),e.j41(13,"div",31),e.DNE(14,Iz,5,3,"select",38),e.nrm(15,"span",35)(16,"span",36),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.Y8G("disabled",!t.endDate)("ngModel",t.timepickerVariables.left.selectedHour),e.R7$(1),e.Y8G("ngForOf",t.timepickerVariables.left.hours),e.R7$(2),e.Y8G("disabled",!t.endDate)("ngModel",t.timepickerVariables.left.selectedMinute),e.R7$(1),e.Y8G("ngForOf",t.timepickerVariables.left.minutes),e.R7$(4),e.Y8G("ngIf",t.timePickerSeconds),e.R7$(4),e.Y8G("ngIf",!t.timePicker24Hour)}}const Tz=function(r,o){return{right:r,left:o}};function Fz(r,o){if(1&r&&(e.j41(0,"div",8)(1,"div",9),e.DNE(2,Ez,16,10,"table",10),e.k0s(),e.DNE(3,kz,17,8,"div",11),e.k0s()),2&r){const t=e.XpG();e.Y8G("ngClass",e.l_i(3,Tz,t.singleDatePicker,!t.singleDatePicker)),e.R7$(2),e.Y8G("ngIf",t.calendarVariables),e.R7$(1),e.Y8G("ngIf",t.timePicker)}}function Sz(r,o){1&r&&e.nrm(0,"th")}function Qz(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"th",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.clickPrev(n.sideEnum.right))}),e.k0s(),e.bVm()}}function Rz(r,o){1&r&&(e.qex(0),e.nrm(1,"th"),e.bVm())}function Pz(r,o){if(1&r&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(4);e.Y8G("disabled",i.calendarVariables.right.dropdowns.inMinYear&&t<i.calendarVariables.right.minDate.month()||i.calendarVariables.right.dropdowns.inMaxYear&&t>i.calendarVariables.right.maxDate.month())("value",t)("selected",i.calendarVariables.right.dropdowns.currentMonth===t),e.R7$(1),e.SpI(" ",i.locale.monthNames[t]," ")}}function Oz(r,o){if(1&r&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(4);e.Y8G("selected",t===i.calendarVariables.right.dropdowns.currentYear),e.R7$(1),e.SpI(" ",t," ")}}function Lz(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",19),e.EFF(2),e.j41(3,"select",20),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.monthChanged(n,a.sideEnum.right))}),e.DNE(4,Pz,2,4,"option",21),e.k0s()(),e.j41(5,"div",19),e.EFF(6),e.j41(7,"select",22),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.yearChanged(n,a.sideEnum.right))}),e.DNE(8,Oz,2,2,"option",23),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(3);e.R7$(2),e.SpI(" ",t.locale.monthNames[null==t.calendarVariables||null==t.calendarVariables.right?null:t.calendarVariables.right.calendar[1][1].month()]," "),e.R7$(2),e.Y8G("ngForOf",t.calendarVariables.right.dropdowns.monthArrays),e.R7$(2),e.SpI(" ",null==t.calendarVariables||null==t.calendarVariables.right?null:t.calendarVariables.right.calendar[1][1].format(" YYYY")," "),e.R7$(2),e.Y8G("ngForOf",t.calendarVariables.right.dropdowns.yearArrays)}}function Yz(r,o){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const t=e.XpG(3);e.R7$(1),e.Lme(" ",t.locale.monthNames[null==t.calendarVariables||null==t.calendarVariables.right?null:t.calendarVariables.right.calendar[1][1].month()]," ",null==t.calendarVariables||null==t.calendarVariables.right?null:t.calendarVariables.right.calendar[1][1].format(" YYYY")," ")}}function Nz(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"th",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.clickNext(n.sideEnum.right))}),e.k0s(),e.bVm()}}function jz(r,o){1&r&&(e.qex(0),e.nrm(1,"th"),e.bVm())}function Gz(r,o){if(1&r&&(e.j41(0,"th",27)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG(3);e.R7$(2),e.JRh(t.locale.weekLabel)}}function Uz(r,o){if(1&r&&(e.j41(0,"th")(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=o.$implicit;e.R7$(2),e.JRh(t)}}function zz(r,o){if(1&r&&(e.j41(0,"td",27)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(2),e.JRh(i.calendarVariables.right.calendar[t][0].week())}}function Hz(r,o){if(1&r&&(e.j41(0,"td",27)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(2),e.JRh(i.calendarVariables.right.calendar[t][0].isoWeek())}}function Vz(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",29),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG().$implicit,m=e.XpG(3);return e.Njj(m.clickDate(n,m.sideEnum.right,d,s))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG().$implicit,n=e.XpG(3);e.HbH(n.calendarVariables.right.classes[i][t]),e.R7$(2),e.JRh(n.calendarVariables.right.calendar[i][t].date())}}function Jz(r,o){if(1&r&&(e.j41(0,"tr"),e.DNE(1,zz,3,1,"td",15),e.DNE(2,Hz,3,1,"td",15),e.DNE(3,Vz,3,3,"td",28),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.HbH(i.calendarVariables.right.classes[t].classList),e.R7$(1),e.Y8G("ngIf",i.showWeekNumbers),e.R7$(1),e.Y8G("ngIf",i.showISOWeekNumbers),e.R7$(1),e.Y8G("ngForOf",i.calendarVariables.right.calCols)}}function Wz(r,o){if(1&r&&(e.j41(0,"table",12)(1,"thead")(2,"tr"),e.DNE(3,Sz,1,0,"th",13),e.DNE(4,Qz,2,0,"ng-container",13),e.DNE(5,Rz,2,0,"ng-container",13),e.j41(6,"th",45),e.DNE(7,Lz,9,4,"ng-container",13),e.DNE(8,Yz,2,2,"ng-container",13),e.k0s(),e.DNE(9,Nz,2,0,"ng-container",13),e.DNE(10,jz,2,0,"ng-container",13),e.k0s(),e.j41(11,"tr"),e.DNE(12,Gz,3,1,"th",15),e.DNE(13,Uz,3,1,"th",3),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,Jz,4,5,"tr",17),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),e.R7$(1),e.Y8G("ngIf",(!t.calendarVariables.right.minDate||t.calendarVariables.right.minDate.isBefore(t.calendarVariables.right.calendar.firstDay))&&!t.linkedCalendars),e.R7$(1),e.Y8G("ngIf",!((!t.calendarVariables.right.minDate||t.calendarVariables.right.minDate.isBefore(t.calendarVariables.right.calendar.firstDay))&&!t.linkedCalendars)),e.R7$(2),e.Y8G("ngIf",t.showDropdowns&&t.calendarVariables.right.dropdowns),e.R7$(1),e.Y8G("ngIf",!t.showDropdowns||!t.calendarVariables.right.dropdowns),e.R7$(1),e.Y8G("ngIf",!t.calendarVariables.right.maxDate||t.calendarVariables.right.maxDate.isAfter(t.calendarVariables.right.calendar.lastDay)&&(!t.linkedCalendars||t.singleDatePicker||!0)),e.R7$(1),e.Y8G("ngIf",!(!t.calendarVariables.right.maxDate||t.calendarVariables.right.maxDate.isAfter(t.calendarVariables.right.calendar.lastDay))),e.R7$(2),e.Y8G("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),e.R7$(1),e.Y8G("ngForOf",t.locale.daysOfWeek),e.R7$(2),e.Y8G("ngForOf",t.calendarVariables.right.calRows)}}function Kz(r,o){if(1&r&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.Y8G("value",t)("disabled",i.timepickerVariables.right.disabledHours.indexOf(t)>-1),e.R7$(1),e.JRh(t)}}function Xz(r,o){if(1&r&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG(3);e.Y8G("value",t)("disabled",n.timepickerVariables.right.disabledMinutes.indexOf(t)>-1),e.R7$(1),e.JRh(n.timepickerVariables.right.minutesLabel[i])}}function Zz(r,o){if(1&r&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG(4);e.Y8G("value",t)("disabled",n.timepickerVariables.right.disabledSeconds.indexOf(t)>-1),e.R7$(1),e.JRh(n.timepickerVariables.right.secondsLabel[i])}}function $z(r,o){if(1&r){const t=e.RV6();e.j41(0,"select",40),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timepickerVariables.right.selectedSecond=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timeChanged(n,a.sideEnum.right))}),e.DNE(1,Zz,2,3,"option",33),e.k0s()}if(2&r){const t=e.XpG(3);e.Y8G("disabled",!t.endDate)("ngModel",t.timepickerVariables.right.selectedSecond),e.R7$(1),e.Y8G("ngForOf",t.timepickerVariables.right.seconds)}}function qz(r,o){if(1&r){const t=e.RV6();e.j41(0,"select",41),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timepickerVariables.right.ampmModel=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.timeChanged(n,a.sideEnum.right))}),e.j41(1,"option",42),e.EFF(2,"AM"),e.k0s(),e.j41(3,"option",43),e.EFF(4,"PM"),e.k0s()()}if(2&r){const t=e.XpG(3);e.Y8G("ngModel",t.timepickerVariables.right.ampmModel),e.R7$(1),e.Y8G("disabled",t.timepickerVariables.right.amDisabled),e.R7$(2),e.Y8G("disabled",t.timepickerVariables.right.pmDisabled)}}function eH(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",30)(1,"div",31)(2,"select",46),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timepickerVariables.right.selectedHour=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timeChanged(n,a.sideEnum.right))}),e.DNE(3,Kz,2,3,"option",33),e.k0s(),e.nrm(4,"span",35)(5,"span",36),e.k0s(),e.j41(6,"div",31)(7,"select",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timepickerVariables.right.selectedMinute=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.timeChanged(n,a.sideEnum.right))}),e.DNE(8,Xz,2,3,"option",33),e.k0s(),e.nrm(9,"span",35)(10,"span",36),e.k0s(),e.j41(11,"div",31),e.DNE(12,$z,2,3,"select",37),e.nrm(13,"span",35)(14,"span",36),e.k0s(),e.j41(15,"div",31),e.DNE(16,qz,5,3,"select",38),e.nrm(17,"span",35)(18,"span",36),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.Y8G("disabled",!t.endDate)("ngModel",t.timepickerVariables.right.selectedHour),e.R7$(1),e.Y8G("ngForOf",t.timepickerVariables.right.hours),e.R7$(4),e.Y8G("disabled",!t.endDate)("ngModel",t.timepickerVariables.right.selectedMinute),e.R7$(1),e.Y8G("ngForOf",t.timepickerVariables.right.minutes),e.R7$(4),e.Y8G("ngIf",t.timePickerSeconds),e.R7$(4),e.Y8G("ngIf",!t.timePicker24Hour)}}function tH(r,o){if(1&r&&(e.j41(0,"div",44)(1,"div",9),e.DNE(2,Wz,16,10,"table",10),e.k0s(),e.DNE(3,eH,19,8,"div",11),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.calendarVariables),e.R7$(1),e.Y8G("ngIf",t.timePicker)}}function iH(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.clear())}),e.qSk(),e.j41(1,"svg",53),e.nrm(2,"path",54),e.k0s()()}}function nH(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",55),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.clickCancel(n))}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG(2);e.R7$(1),e.JRh(t.locale.cancelLabel)}}function rH(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",47)(1,"div",48),e.DNE(2,iH,3,0,"button",49),e.DNE(3,nH,2,1,"button",50),e.j41(4,"button",51),e.bIt("click",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.clickApply(n))}),e.EFF(5),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.showClearButton),e.R7$(1),e.Y8G("ngIf",t.showCancel),e.R7$(1),e.Y8G("disabled",t.applyBtn.disabled),e.R7$(1),e.JRh(t.locale.applyLabel)}}const oH=function(r,o,t,i,n,a,s){return{ltr:r,rtl:o,shown:t,hidden:i,inline:n,double:a,"show-ranges":s}},dc=m1;var Gl=function(r){return r.left="left",r.right="right",r}(Gl||{});let aH=(()=>{class r{el;_ref;_localeService;_old={start:null,end:null};chosenLabel;calendarVariables={left:{},right:{}};timepickerVariables={left:{},right:{}};daterangepicker={start:new _i,end:new _i};applyBtn={disabled:!1};startDate=dc().startOf("day");endDate=dc().endOf("day");dateLimit=null;sideEnum=Gl;minDate=null;maxDate=null;autoApply=!1;singleDatePicker=!1;showDropdowns=!1;showWeekNumbers=!1;showISOWeekNumbers=!1;linkedCalendars=!1;autoUpdateInput=!0;alwaysShowCalendars=!1;maxSpan=!1;timePicker=!1;timePicker24Hour=!1;timePickerIncrement=1;timePickerSeconds=!1;showClearButton=!1;firstMonthDayClass=null;lastMonthDayClass=null;emptyWeekRowClass=null;firstDayOfNextMonthClass=null;lastDayOfPreviousMonthClass=null;_locale={};set locale(t){this._locale={...this._localeService.config,...t}}get locale(){return this._locale}_ranges={};set ranges(t){this._ranges=t,this.renderRanges()}get ranges(){return this._ranges}showCustomRangeLabel;showCancel=!1;keepCalendarOpeningWithRange=!1;showRangeLabelOnInput=!1;chosenRange;rangesArray=[];isShown=!1;inline=!0;leftCalendar={};rightCalendar={};showCalInRanges=!1;options={};drops;opens;choosedDate;rangeClicked;datesUpdated;pickerContainer;constructor(t,i,n){this.el=t,this._ref=i,this._localeService=n,this.choosedDate=new e.bkB,this.rangeClicked=new e.bkB,this.datesUpdated=new e.bkB}ngOnInit(){this._buildLocale();const t=[...this.locale.daysOfWeek];if(0!=this.locale.firstDay)for(var i=this.locale.firstDay;i>0;)t.push(t.shift()),i--;this.locale.daysOfWeek=t,this.inline&&(this._old.start=this.startDate.clone(),this._old.end=this.endDate.clone()),this.updateMonthsInView(),this.renderCalendar(Gl.left),this.renderCalendar(Gl.right),this.renderRanges()}renderRanges(){let t,i;if(this.rangesArray=[],"object"==typeof this.ranges){for(const d in this.ranges){t="string"==typeof this.ranges[d][0]?dc(this.ranges[d][0],this.locale.format):dc(this.ranges[d][0]),i="string"==typeof this.ranges[d][1]?dc(this.ranges[d][1],this.locale.format):dc(this.ranges[d][1]),this.minDate&&t.isBefore(this.minDate)&&(t=this.minDate.clone());var n=this.maxDate;if(this.maxSpan&&n&&t.clone().add(this.maxSpan).isAfter(n)&&(n=t.clone().add(this.maxSpan)),n&&i.isAfter(n)&&(i=n.clone()),!(this.minDate&&i.isBefore(this.minDate,this.timePicker?"minute":"day")||n&&t.isAfter(n,this.timePicker?"minute":"day"))){var a=document.createElement("textarea");a.innerHTML=d,this.ranges[a.value]=[t,i]}}for(const d in this.ranges)this.rangesArray.push(d);this.showCustomRangeLabel&&this.rangesArray.push(this.locale.customRangeLabel),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.timePicker&&this.autoApply&&(this.autoApply=!1)}}renderTimePicker(t){if(t==Gl.right&&!this.endDate)return;let i,n,a=this.maxDate;t===Gl.left?(i=this.startDate.clone(),n=this.minDate):t===Gl.right&&(i=this.endDate.clone(),n=this.startDate);const s=this.timePicker24Hour?0:1,d=this.timePicker24Hour?23:12;this.timepickerVariables[t]={hours:[],minutes:[],minutesLabel:[],seconds:[],secondsLabel:[],disabledHours:[],disabledMinutes:[],disabledSeconds:[],selectedHour:0,selectedMinute:0,selectedSecond:0};for(let nt=s;nt<=d;nt++){let Tt=nt;this.timePicker24Hour||(Tt=i.hour()>=12?12==nt?12:nt+12:12==nt?0:nt);let Zt=i.clone().hour(Tt),ci=!1;n&&Zt.minute(59).isBefore(n)&&(ci=!0),a&&Zt.minute(0).isAfter(a)&&(ci=!0),this.timepickerVariables[t].hours.push(nt),Tt!=i.hour()||ci?ci&&this.timepickerVariables[t].disabledHours.push(nt):this.timepickerVariables[t].selectedHour=nt}for(var m=0;m<60;m+=this.timePickerIncrement){var I=m<10?"0"+m:m,J=i.clone().minute(m),oe=!1;n&&J.second(59).isBefore(n)&&(oe=!0),a&&J.second(0).isAfter(a)&&(oe=!0),this.timepickerVariables[t].minutes.push(m),this.timepickerVariables[t].minutesLabel.push(I),i.minute()!=m||oe?oe&&this.timepickerVariables[t].disabledMinutes.push(m):this.timepickerVariables[t].selectedMinute=m}if(this.timePickerSeconds)for(m=0;m<60;m++)I=m<10?"0"+m:m,J=i.clone().second(m),oe=!1,n&&J.isBefore(n)&&(oe=!0),a&&J.isAfter(a)&&(oe=!0),this.timepickerVariables[t].seconds.push(m),this.timepickerVariables[t].secondsLabel.push(I),i.second()!=m||oe?oe&&this.timepickerVariables[t].disabledSeconds.push(m):this.timepickerVariables[t].selectedSecond=m;this.timePicker24Hour||(n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(this.timepickerVariables[t].amDisabled=!0),a&&i.clone().hour(0).minute(0).second(0).isAfter(a)&&(this.timepickerVariables[t].pmDisabled=!0),this.timepickerVariables[t].ampmModel=i.hour()>=12?"PM":"AM"),this.timepickerVariables[t].selected=i}renderCalendar(t){let i=t===Gl.left?this.leftCalendar:this.rightCalendar;const n=i.month.month(),a=i.month.year(),s=i.month.hour(),d=i.month.minute(),m=i.month.second(),I=dc([a,n]).daysInMonth(),J=dc([a,n,1]),oe=dc([a,n,I]),Ce=dc(J).subtract(1,"month").month(),$e=dc(J).subtract(1,"month").year(),nt=dc([$e,Ce]).daysInMonth(),Tt=J.day();let Zt=[];Zt.firstDay=J,Zt.lastDay=oe;for(let gn=0;gn<6;gn++)Zt[gn]=[];let ci=nt-Tt+this.locale.firstDay+1;ci>nt&&(ci-=7),Tt===this.locale.firstDay&&(ci=nt-6);let xi=dc([$e,Ce,ci,12,d,m]);for(let gn=0,pn=0,Jn=0;gn<42;gn++,pn++,xi=dc(xi).add(24,"hour"))gn>0&&pn%7==0&&(pn=0,Jn++),Zt[Jn][pn]=xi.clone().hour(s).minute(d).second(m),xi.hour(12),this.minDate&&Zt[Jn][pn].format("YYYY-MM-DD")===this.minDate.format("YYYY-MM-DD")&&Zt[Jn][pn].isBefore(this.minDate)&&"left"===t&&(Zt[Jn][pn]=this.minDate.clone()),this.maxDate&&Zt[Jn][pn].format("YYYY-MM-DD")===this.maxDate.format("YYYY-MM-DD")&&Zt[Jn][pn].isAfter(this.maxDate)&&"right"===t&&(Zt[Jn][pn]=this.maxDate.clone());t===Gl.left?this.leftCalendar.calendar=Zt:this.rightCalendar.calendar=Zt;const Oi="left"===t?this.minDate:this.startDate;let Ui=this.maxDate;if(null===this.endDate&&this.dateLimit){const gn=this.startDate.clone().add(this.dateLimit,"day").endOf("day");(!Ui||gn.isBefore(Ui))&&(Ui=gn)}if(this.calendarVariables[t]={month:n,year:a,hour:s,minute:d,second:m,daysInMonth:I,firstDay:J,lastDay:oe,lastMonth:Ce,lastYear:$e,daysInLastMonth:nt,dayOfWeek:Tt,calRows:Array.from(Array(6).keys()),calCols:Array.from(Array(7).keys()),classes:{},minDate:Oi,maxDate:Ui,calendar:Zt},this.showDropdowns){const gn=Zt[1][1].month(),pn=Zt[1][1].year(),Jn=Ui&&Ui.year()||pn+5,tr=Oi&&Oi.year()||pn-50,pr=pn===tr,ho=pn===Jn,io=[];for(var Hi=tr;Hi<=Jn;Hi++)io.push(Hi);this.calendarVariables[t].dropdowns={currentMonth:gn,currentYear:pn,maxYear:Jn,minYear:tr,inMinYear:pr,inMaxYear:ho,monthArrays:Array.from(Array(12).keys()),yearArrays:io}}this._buildCells(Zt,t)}setStartDate(t){"string"==typeof t&&(this.startDate=dc(t,this.locale.format)),"object"==typeof t&&(this.startDate=dc(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShown||this.updateElement(),this.updateMonthsInView()}setEndDate(t){"string"==typeof t&&(this.endDate=dc(t,this.locale.format)),"object"==typeof t&&(this.endDate=dc(t)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit,"day").isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit,"day")),this.updateMonthsInView()}isInvalidDate(t){return!1}isCustomDate(t){return!1}updateView(){this.timePicker&&(this.renderTimePicker(Gl.left),this.renderTimePicker(Gl.right)),this.updateMonthsInView(),this.updateCalendars()}updateMonthsInView(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate&&this.leftCalendar&&this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate&&this.rightCalendar&&this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.startDate&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()===this.startDate.month()&&this.endDate.year()===this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2))}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}updateCalendars(){this.renderCalendar(Gl.left),this.renderCalendar(Gl.right),null!==this.endDate&&this.calculateChosenLabel()}updateElement(){!this.singleDatePicker&&this.autoUpdateInput?this.startDate&&this.endDate&&(this.chosenLabel=this.rangesArray.length&&!0===this.showRangeLabelOnInput&&this.chosenRange&&this.locale.customRangeLabel!==this.chosenRange?this.chosenRange:this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)):this.autoUpdateInput&&(this.chosenLabel=this.startDate.format(this.locale.format))}remove(){this.isShown=!1}calculateChosenLabel(){(!this.locale||!this.locale.separator)&&this._buildLocale();let t=!0,i=0;if(this.rangesArray.length>0){for(const a in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(n)==this.ranges[a][0].format(n)&&this.endDate.format(n)==this.ranges[a][1].format(n)){t=!1,this.chosenRange=this.rangesArray[i];break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){t=!1,this.chosenRange=this.rangesArray[i];break}i++}t&&(this.chosenRange=this.showCustomRangeLabel?this.locale.customRangeLabel:null,this.showCalInRanges=!0)}this.updateElement()}clickApply(t){if(!this.singleDatePicker&&this.startDate&&!this.endDate&&(this.endDate=this.startDate.clone(),this.calculateChosenLabel()),this.isInvalidDate&&this.startDate&&this.endDate){let i=this.startDate.clone();for(;i.isBefore(this.endDate);){if(this.isInvalidDate(i)){this.endDate=i.subtract(1,"days"),this.calculateChosenLabel();break}i.add(1,"days")}}this.chosenLabel&&this.choosedDate.emit({chosenLabel:this.chosenLabel,startDate:this.startDate,endDate:this.endDate}),this.datesUpdated.emit({startDate:this.startDate,endDate:this.endDate}),this.hide()}clickCancel(t){this.startDate=this._old.start,this.endDate=this._old.end,this.inline&&this.updateView(),this.hide()}monthChanged(t,i){const n=this.calendarVariables[i].dropdowns.currentYear,a=parseInt(t.target.value,10);this.monthOrYearChanged(a,n,i)}yearChanged(t,i){const n=this.calendarVariables[i].dropdowns.currentMonth,a=parseInt(t.target.value,10);this.monthOrYearChanged(n,a,i)}timeChanged(t,i){var n=parseInt(this.timepickerVariables[i].selectedHour,10),a=parseInt(this.timepickerVariables[i].selectedMinute,10),s=this.timePickerSeconds?parseInt(this.timepickerVariables[i].selectedSecond,10):0;if(!this.timePicker24Hour){var d=this.timepickerVariables[i].ampmModel;"PM"===d&&n<12&&(n+=12),"AM"===d&&12===n&&(n=0)}if(i===Gl.left){var m=this.startDate.clone();m.hour(n),m.minute(a),m.second(s),this.setStartDate(m),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==m.format("YYYY-MM-DD")&&this.endDate.isBefore(m)&&this.setEndDate(m.clone())}else if(this.endDate){var I=this.endDate.clone();I.hour(n),I.minute(a),I.second(s),this.setEndDate(I)}this.updateCalendars(),this.renderTimePicker(Gl.left),this.renderTimePicker(Gl.right)}monthOrYearChanged(t,i,n){const a=n===Gl.left;a||(i<this.startDate.year()||i===this.startDate.year()&&t<this.startDate.month())&&(t=this.startDate.month(),i=this.startDate.year()),this.minDate&&(i<this.minDate.year()||i===this.minDate.year()&&t<this.minDate.month())&&(t=this.minDate.month(),i=this.minDate.year()),this.maxDate&&(i>this.maxDate.year()||i===this.maxDate.year()&&t>this.maxDate.month())&&(t=this.maxDate.month(),i=this.maxDate.year()),this.calendarVariables[n].dropdowns.currentYear=i,this.calendarVariables[n].dropdowns.currentMonth=t,a?(this.leftCalendar.month.month(t).year(i),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(t).year(i),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()}clickPrev(t){t===Gl.left?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()}clickNext(t){t===Gl.left?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()}clickDate(t,i,n,a){if("TD"===t.target.tagName){if(!t.target.classList.contains("available"))return}else if("SPAN"===t.target.tagName&&!t.target.parentElement.classList.contains("available"))return;this.rangesArray.length&&(this.chosenRange=this.locale.customRangeLabel);let s=i===Gl.left?this.leftCalendar.calendar[n][a]:this.rightCalendar.calendar[n][a];this.endDate||s.isBefore(this.startDate,"day")?(this.timePicker&&(s=this._getDateWithTime(s,Gl.left)),this.endDate=null,this.setStartDate(s.clone())):!this.endDate&&s.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(s=this._getDateWithTime(s,Gl.right)),this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.updateElement(),this.autoApply&&this.clickApply()),this.updateView(),t.stopPropagation()}clickRange(t,i){if(this.chosenRange=i,i==this.locale.customRangeLabel)this.isShown=!0,this.showCalInRanges=!0;else{var n=this.ranges[i];this.startDate=n[0].clone(),this.endDate=n[1].clone(),this.showRangeLabelOnInput&&i!==this.locale.customRangeLabel?this.chosenLabel=i:this.calculateChosenLabel(),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||(this.isShown=!1),this.rangeClicked.emit({label:i,dates:n}),this.keepCalendarOpeningWithRange?(this.leftCalendar.month.month(n[0].month()),this.leftCalendar.month.year(n[0].year()),this.rightCalendar.month.month(n[1].month()),this.rightCalendar.month.year(n[1].year()),this.updateCalendars(),this.timePicker&&(this.renderTimePicker(Gl.left),this.renderTimePicker(Gl.right))):this.clickApply()}}show(t){this.isShown||(this._old.start=this.startDate.clone(),this._old.end=this.endDate.clone(),this.isShown=!0,this.updateView())}hide(t){this.isShown&&(this.endDate||(this._old.start&&(this.startDate=this._old.start.clone()),this._old.end&&(this.endDate=this._old.end.clone())),!this.startDate.isSame(this._old.start)||this.endDate.isSame(this._old.end),this.updateElement(),this.isShown=!1,this._ref.detectChanges())}handleInternalClick(t){t.stopPropagation()}updateLocale(t){for(const i in t)t.hasOwnProperty(i)&&(this.locale[i]=t[i])}clear(){this.startDate=dc().startOf("day"),this.endDate=dc().endOf("day"),this.choosedDate.emit({chosenLabel:"",startDate:null,endDate:null}),this.datesUpdated.emit({startDate:null,endDate:null}),this.hide()}disableRange(t){if(t===this.locale.customRangeLabel)return!1;const i=this.ranges[t],n=i.every(s=>!!this.minDate&&s.isBefore(this.minDate)),a=i.every(s=>!!this.maxDate&&s.isAfter(this.maxDate));return n||a}_getDateWithTime(t,i){let n=parseInt(this.timepickerVariables[i].selectedHour,10);if(!this.timePicker24Hour){var a=this.timepickerVariables[i].ampmModel;"PM"===a&&n<12&&(n+=12),"AM"===a&&12===n&&(n=0)}var s=parseInt(this.timepickerVariables[i].selectedMinute,10),d=this.timePickerSeconds?parseInt(this.timepickerVariables[i].selectedSecond,10):0;return t.clone().hour(n).minute(s).second(d)}_buildLocale(){this.locale={...this._localeService.config,...this.locale},this.locale.format||(this.locale.format=this.timePicker?dc.localeData().longDateFormat("lll"):dc.localeData().longDateFormat("L"))}_buildCells(t,i){for(let n=0;n<6;n++){this.calendarVariables[i].classes[n]={};const a=[];this.emptyWeekRowClass&&!this.hasCurrentMonthDays(this.calendarVariables[i].month,t[n])&&a.push(this.emptyWeekRowClass);for(let s=0;s<7;s++){const d=[];t[n][s].isSame(new Date,"day")&&d.push("today"),t[n][s].isoWeekday()>5&&d.push("weekend"),t[n][s].month()!==t[1][1].month()&&(d.push("off"),this.lastDayOfPreviousMonthClass&&(t[n][s].month()<t[1][1].month()||0===t[1][1].month())&&t[n][s].date()===this.calendarVariables[i].daysInLastMonth&&d.push(this.lastDayOfPreviousMonthClass),this.firstDayOfNextMonthClass&&(t[n][s].month()>t[1][1].month()||0===t[n][s].month())&&1===t[n][s].date()&&d.push(this.firstDayOfNextMonthClass)),this.firstMonthDayClass&&t[n][s].month()===t[1][1].month()&&t[n][s].date()===t.firstDay.date()&&d.push(this.firstMonthDayClass),this.lastMonthDayClass&&t[n][s].month()===t[1][1].month()&&t[n][s].date()===t.lastDay.date()&&d.push(this.lastMonthDayClass),this.minDate&&t[n][s].isBefore(this.minDate,"day")&&d.push("off","disabled"),this.calendarVariables[i].maxDate&&t[n][s].isAfter(this.calendarVariables[i].maxDate,"day")&&d.push("off","disabled"),this.isInvalidDate(t[n][s])&&d.push("off","disabled"),this.startDate&&t[n][s].format("YYYY-MM-DD")===this.startDate.format("YYYY-MM-DD")&&d.push("active","start-date"),null!=this.endDate&&t[n][s].format("YYYY-MM-DD")===this.endDate.format("YYYY-MM-DD")&&d.push("active","end-date"),null!=this.endDate&&t[n][s]>this.startDate&&t[n][s]<this.endDate&&d.push("in-range");const m=this.isCustomDate(t[n][s]);!1!==m&&("string"==typeof m?d.push(m):Array.prototype.push.apply(d,m));let I="",J=!1;for(let oe=0;oe<d.length;oe++)I+=d[oe]+" ","disabled"===d[oe]&&(J=!0);J||(I+="available"),this.calendarVariables[i].classes[n][s]=I.replace(/^\s+|\s+$/g,"")}this.calendarVariables[i].classes[n].classList=a.join(" ")}}hasCurrentMonthDays(t,i){for(let n=0;n<7;n++)if(i[n].month()===t)return!0;return!1}static \u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(RF))};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-daterangepicker-material"]],viewQuery:function(i,n){if(1&i&&e.GBs(az,7),2&i){let a;e.mGM(a=e.lsd())&&(n.pickerContainer=a.first)}},hostBindings:function(i,n){1&i&&e.bIt("click",function(s){return n.handleInternalClick(s)})},inputs:{dateLimit:"dateLimit",minDate:"minDate",maxDate:"maxDate",autoApply:"autoApply",singleDatePicker:"singleDatePicker",showDropdowns:"showDropdowns",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",linkedCalendars:"linkedCalendars",autoUpdateInput:"autoUpdateInput",alwaysShowCalendars:"alwaysShowCalendars",maxSpan:"maxSpan",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",showClearButton:"showClearButton",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",locale:"locale",ranges:"ranges",showCustomRangeLabel:"showCustomRangeLabel",showCancel:"showCancel",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",drops:"drops",opens:"opens",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate"},outputs:{choosedDate:"choosedDate",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated"},features:[e.Jv_([{provide:y,useExisting:(0,e.Rfq)(()=>r),multi:!0}])],decls:8,vars:15,consts:[[1,"md-drppicker",3,"ngClass"],["pickerContainer",""],[1,"ranges"],[4,"ngFor","ngForOf"],["class","calendar",3,"ngClass",4,"ngIf"],["class","calendar right",4,"ngIf"],["class","buttons",4,"ngIf"],["type","button",3,"disabled","ngClass","click"],[1,"calendar",3,"ngClass"],[1,"calendar-table"],["class","table-condensed",4,"ngIf"],["class","calendar-time",4,"ngIf"],[1,"table-condensed"],[4,"ngIf"],["colspan","5",1,"month","drp-animate"],["class","week",4,"ngIf"],[1,"drp-animate"],[3,"class",4,"ngFor","ngForOf"],[1,"prev","available",3,"click"],[1,"dropdowns"],[1,"monthselect",3,"change"],[3,"disabled","value","selected",4,"ngFor","ngForOf"],[1,"yearselect",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[3,"disabled","value","selected"],[3,"selected"],[1,"next","available",3,"click"],[1,"week"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"calendar-time"],[1,"select"],[1,"hourselect","select-item",3,"disabled","ngModel","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"select-item","minuteselect",3,"disabled","ngModel","ngModelChange"],[1,"select-highlight"],[1,"select-bar"],["class","select-item secondselect",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["class","select-item ampmselect",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value","disabled"],[1,"select-item","secondselect",3,"disabled","ngModel","ngModelChange"],[1,"select-item","ampmselect",3,"ngModel","ngModelChange"],["value","AM",3,"disabled"],["value","PM",3,"disabled"],[1,"calendar","right"],["colspan","5",1,"month"],[1,"select-item","hourselect",3,"disabled","ngModel","ngModelChange"],[1,"buttons"],[1,"buttons_input"],["class","btn btn-default clear","type","button","title","clear the date",3,"click",4,"ngIf"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","button",1,"btn",3,"disabled","click"],["type","button","title","clear the date",1,"btn","btn-default","clear",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 -5 24 24"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["type","button",1,"btn","btn-default",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0,1)(2,"div",2)(3,"ul"),e.DNE(4,lz,3,5,"li",3),e.k0s()(),e.DNE(5,Fz,4,6,"div",4),e.DNE(6,tH,4,2,"div",5),e.DNE(7,rH,6,4,"div",6),e.k0s()),2&i&&(e.HbH("drops-"+n.drops+"-"+n.opens),e.Y8G("ngClass",e.sGs(7,oH,"ltr"===n.locale.direction,"rtl"===n.locale.direction,n.isShown||n.inline,!n.isShown&&!n.inline,n.inline,!n.singleDatePicker&&n.showCalInRanges,n.rangesArray.length)),e.R7$(4),e.Y8G("ngForOf",n.rangesArray),e.R7$(1),e.Y8G("ngIf",n.showCalInRanges),e.R7$(1),e.Y8G("ngIf",n.showCalInRanges&&!n.singleDatePicker),e.R7$(1),e.Y8G("ngIf",!n.autoApply&&(!n.rangesArray.length||n.showCalInRanges&&!n.singleDatePicker)))},dependencies:[l.YU,l.Sq,l.bT,ct,Yi,Pe,qe,tn],styles:['.md-drppicker{position:absolute;font-family:Roboto,sans-serif;color:inherit;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:14px;background-color:#fff;box-shadow:0 2px 4px #00000029,0 2px 8px #0000001f}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:before,.md-drppicker:after{position:absolute;display:inline-block;border-bottom-color:#0003;content:""}.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.openscenter:after{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .ranges,.md-drppicker.single .calendar{float:none}.md-drppicker.shown{transform:scale(1);transition:all .1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:calc(NaN * 1%)}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:all .1s ease;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:calc(NaN * 1%)}.md-drppicker.hidden.drops-up-center{transform-origin:50%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar th,.md-drppicker .calendar td{padding:0;white-space:nowrap;text-align:center;min-width:32px}.md-drppicker .calendar th span,.md-drppicker .calendar td span{pointer-events:none}.md-drppicker .calendar-table{border:1px solid #fff;padding:4px;border-radius:4px;background-color:#fff}.md-drppicker table{width:100%;margin:0}.md-drppicker th{color:#988c8c}.md-drppicker td,.md-drppicker th{text-align:center;width:20px;height:20px;border-radius:4px;border:1px solid transparent;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-color:#eee;border-color:transparent;color:inherit;background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.week,.md-drppicker th.week{font-size:80%;color:#ccc}.md-drppicker td{margin:.25em 0;opacity:.8;transition:background-color .2s ease;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.off,.md-drppicker td.off.in-range,.md-drppicker td.off.start-date,.md-drppicker td.off.end-date{background-color:#fff;border-color:transparent;color:#999}.md-drppicker td.in-range{background-color:#dde2e4;border-color:transparent;color:#000;border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker td.active{transition:background .3s ease-out;background:rgba(0,0,0,.1)}.md-drppicker td.active,.md-drppicker td.active:hover{background-color:#3f51b5;border-color:transparent;color:#fff}.md-drppicker th.month{width:auto}.md-drppicker td.disabled,.md-drppicker option.disabled{color:#999;cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.md-drppicker .dropdowns select{display:inline-block;background-color:#ffffffe6;width:100%;padding:5px;border:1px solid #f2f2f2;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;padding:1px;height:auto;margin:0;cursor:default}.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect,.md-drppicker .dropdowns select.ampmselect{width:50px;margin:0 auto;background:#eee;border:1px solid #eee;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.12)}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:"";border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:none}.md-drppicker .calendar-time .select .select-item .select-label{color:#00000042;font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s ease all}.md-drppicker .calendar-time select.disabled{color:#ccc;cursor:not-allowed}.md-drppicker .label-input{border:1px solid #ccc;border-radius:4px;color:#555;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border:1px solid #08c;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left:1px solid #ddd}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button.active{background-color:#3f51b5;color:#fff}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:transparent}.md-drppicker .ranges ul li:hover{background-color:#eee}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:none;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px #0009;background-color:#3f51b5;color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn:hover,.md-drppicker .btn:focus{background-color:#3f51b5}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:#ecf0f14d;transform:translate(-50%,-50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .btn.btn-default{color:#000;background-color:#dcdcdc}.md-drppicker .clear{box-shadow:none;background-color:#fff!important}.md-drppicker .clear svg{color:#eb3232;fill:currentColor}@media (min-width: 564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input,.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar.left .calendar-table{padding-right:12px}.md-drppicker.ltr .ranges,.md-drppicker.ltr .calendar{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .left .md-drppicker_input,.md-drppicker.rtl .calendar.left .calendar-table{padding-left:12px}.md-drppicker.rtl .ranges,.md-drppicker.rtl .calendar{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s ease,opacity .2s ease}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translate(10%);opacity:0}.drp-animate.drp-animate-left{transform:translate(-10%);opacity:0}}@media (min-width: 730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none!important}}\n'],encapsulation:2})}return r})();function h_(r=0,o=_o.E){return r<0&&(r=0),(0,Co.O)(r,r,o)}var _p=ie(5312),kr=ie(4233),yp=ie(5174),Uc=ie(8411),Bf=ie(4910),PF=ie(3830),OF=ie(2679),LF=ie(6894);let p_=(()=>{class r{reseWebApiService;resDemoService;resClientService;appService;rcgi;constructor(t,i,n,a){this.reseWebApiService=t,this.resDemoService=i,this.resClientService=n,this.appService=a,this.rcgi=t,!_p.c.serverEnabled||a.isDemoApp?this.rcgi=i:a.isClientApp&&(this.rcgi=n)}uploadFile(t,i){return this.rcgi.uploadFile(t,i)}static \u0275fac=function(i){return new(i||r)(e.KVO(OF.K),e.KVO(LF.t),e.KVO(PF.F),e.KVO(Bf.d))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var zg=ie(4205),KM=ie(9350),sH=ie(1203);function XM(r){return(0,al.N)((o,t)=>{let i=!1;o.subscribe((0,pl._)(t,n=>{i=!0,t.next(n)},()=>{i||t.next(r),t.complete()}))})}function h8(r=lH){return(0,al.N)((o,t)=>{let i=!1;o.subscribe((0,pl._)(t,n=>{i=!0,t.next(n)},()=>i?t.complete():t.error(r())))})}function lH(){return new KM.G}function x0(r,o){const t=arguments.length>=2;return i=>i.pipe(r?(0,Jr.p)((n,a)=>r(n,a,i)):$c.D,(0,Fo.s)(1),t?XM(o):h8(()=>new KM.G))}var Hg=ie(274);function YF(r){return r<=0?()=>Zd.w:(0,al.N)((o,t)=>{let i=[];o.subscribe((0,pl._)(t,n=>{i.push(n),r<i.length&&i.shift()},()=>{for(const n of i)t.next(n);t.complete()},void 0,()=>{i=null}))})}var ZM=ie(6365);const ra="primary",C1=Symbol("RouteTitle");class uH{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const t=this.params[o];return Array.isArray(t)?t[0]:t}return null}getAll(o){if(this.has(o)){const t=this.params[o];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function f_(r){return new uH(r)}function hH(r,o,t){const i=t.path.split("/");if(i.length>r.length||"full"===t.pathMatch&&(o.hasChildren()||i.length<r.length))return null;const n={};for(let a=0;a<i.length;a++){const s=i[a],d=r[a];if(s.startsWith(":"))n[s.substring(1)]=d;else if(s!==d.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function bp(r,o){const t=r?Object.keys(r):void 0,i=o?Object.keys(o):void 0;if(!t||!i||t.length!=i.length)return!1;let n;for(let a=0;a<t.length;a++)if(n=t[a],!p8(r[n],o[n]))return!1;return!0}function p8(r,o){if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;const t=[...r].sort(),i=[...o].sort();return t.every((n,a)=>i[a]===n)}return r===o}function f8(r){return r.length>0?r[r.length-1]:null}function Vg(r){return(0,uv.A)(r)?r:(0,e.jNT)(r)?(0,_.H)(Promise.resolve(r)):(0,lr.of)(r)}const fH={exact:function v8(r,o,t){if(!D0(r.segments,o.segments)||!$M(r.segments,o.segments,t)||r.numberOfChildren!==o.numberOfChildren)return!1;for(const i in o.children)if(!r.children[i]||!v8(r.children[i],o.children[i],t))return!1;return!0},subset:_8},g8={exact:function gH(r,o){return bp(r,o)},subset:function mH(r,o){return Object.keys(o).length<=Object.keys(r).length&&Object.keys(o).every(t=>p8(r[t],o[t]))},ignored:()=>!0};function m8(r,o,t){return fH[t.paths](r.root,o.root,t.matrixParams)&&g8[t.queryParams](r.queryParams,o.queryParams)&&!("exact"===t.fragment&&r.fragment!==o.fragment)}function _8(r,o,t){return y8(r,o,o.segments,t)}function y8(r,o,t,i){if(r.segments.length>t.length){const n=r.segments.slice(0,t.length);return!(!D0(n,t)||o.hasChildren()||!$M(n,t,i))}if(r.segments.length===t.length){if(!D0(r.segments,t)||!$M(r.segments,t,i))return!1;for(const n in o.children)if(!r.children[n]||!_8(r.children[n],o.children[n],i))return!1;return!0}{const n=t.slice(0,r.segments.length),a=t.slice(r.segments.length);return!!(D0(r.segments,n)&&$M(r.segments,n,i)&&r.children[ra])&&y8(r.children[ra],o,a,i)}}function $M(r,o,t){return o.every((i,n)=>g8[t](r[n].parameters,i.parameters))}class g_{constructor(o=new zs([],{}),t={},i=null){this.root=o,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=f_(this.queryParams)),this._queryParamMap}toString(){return yH.serialize(this)}}class zs{constructor(o,t){this.segments=o,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qM(this)}}class E1{constructor(o,t){this.path=o,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=f_(this.parameters)),this._parameterMap}toString(){return C8(this)}}function D0(r,o){return r.length===o.length&&r.every((t,i)=>t.path===o[i].path)}let B1=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:function(){return new NF},providedIn:"root"})}}return r})();class NF{parse(o){const t=new TH(o);return new g_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(o){const t=`/${M1(o.root,!0)}`,i=function CH(r){const o=Object.keys(r).map(t=>{const i=r[t];return Array.isArray(i)?i.map(n=>`${ex(t)}=${ex(n)}`).join("&"):`${ex(t)}=${ex(i)}`}).filter(t=>!!t);return o.length?`?${o.join("&")}`:""}(o.queryParams);return`${t}${i}${"string"==typeof o.fragment?`#${function bH(r){return encodeURI(r)}(o.fragment)}`:""}`}}const yH=new NF;function qM(r){return r.segments.map(o=>C8(o)).join("/")}function M1(r,o){if(!r.hasChildren())return qM(r);if(o){const t=r.children[ra]?M1(r.children[ra],!1):"",i=[];return Object.entries(r.children).forEach(([n,a])=>{n!==ra&&i.push(`${n}:${M1(a,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function _H(r,o){let t=[];return Object.entries(r.children).forEach(([i,n])=>{i===ra&&(t=t.concat(o(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==ra&&(t=t.concat(o(n,i)))}),t}(r,(i,n)=>n===ra?[M1(r.children[ra],!1)]:[`${n}:${M1(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ra]?`${qM(r)}/${t[0]}`:`${qM(r)}/(${t.join("//")})`}}function b8(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ex(r){return b8(r).replace(/%3B/gi,";")}function jF(r){return b8(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tx(r){return decodeURIComponent(r)}function w8(r){return tx(r.replace(/\+/g,"%20"))}function C8(r){return`${jF(r.path)}${function wH(r){return Object.keys(r).map(o=>`;${jF(o)}=${jF(r[o])}`).join("")}(r.parameters)}`}const EH=/^[^\/()?;#]+/;function GF(r){const o=r.match(EH);return o?o[0]:""}const BH=/^[^\/()?;=#]+/,xH=/^[^=?&#]+/,IH=/^[^&#]+/;class TH{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zs([],{}):new zs([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(o.length>0||Object.keys(t).length>0)&&(i[ra]=new zs(o,t)),i}parseSegment(){const o=GF(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new e.wOt(4009,!1);return this.capture(o),new E1(tx(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const t=function MH(r){const o=r.match(BH);return o?o[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const n=GF(this.remaining);n&&(i=n,this.capture(i))}o[tx(t)]=tx(i)}parseQueryParam(o){const t=function DH(r){const o=r.match(xH);return o?o[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function kH(r){const o=r.match(IH);return o?o[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const n=w8(t),a=w8(i);if(o.hasOwnProperty(n)){let s=o[n];Array.isArray(s)||(s=[s],o[n]=s),s.push(a)}else o[n]=a}parseParens(o){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=GF(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new e.wOt(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):o&&(a=ra);const s=this.parseChildren();t[a]=1===Object.keys(s).length?s[ra]:new zs([],s),this.consumeOptional("//")}return t}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new e.wOt(4011,!1)}}function E8(r){return r.segments.length>0?new zs([],{[ra]:r}):r}function B8(r){const o={};for(const i of Object.keys(r.children)){const a=B8(r.children[i]);if(i===ra&&0===a.segments.length&&a.hasChildren())for(const[s,d]of Object.entries(a.children))o[s]=d;else(a.segments.length>0||a.hasChildren())&&(o[i]=a)}return function FH(r){if(1===r.numberOfChildren&&r.children[ra]){const o=r.children[ra];return new zs(r.segments.concat(o.segments),o.children)}return r}(new zs(r.segments,o))}function I0(r){return r instanceof g_}function M8(r){let o;const n=E8(function t(a){const s={};for(const m of a.children){const I=t(m);s[m.outlet]=I}const d=new zs(a.url,s);return a===r&&(o=d),d}(r.root));return o??n}function x8(r,o,t,i){let n=r;for(;n.parent;)n=n.parent;if(0===o.length)return UF(n,n,n,t,i);const a=function QH(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new I8(!0,0,r);let o=0,t=!1;const i=r.reduce((n,a,s)=>{if("object"==typeof a&&null!=a){if(a.outlets){const d={};return Object.entries(a.outlets).forEach(([m,I])=>{d[m]="string"==typeof I?I.split("/"):I}),[...n,{outlets:d}]}if(a.segmentPath)return[...n,a.segmentPath]}return"string"!=typeof a?[...n,a]:0===s?(a.split("/").forEach((d,m)=>{0==m&&"."===d||(0==m&&""===d?t=!0:".."===d?o++:""!=d&&n.push(d))}),n):[...n,a]},[]);return new I8(t,o,i)}(o);if(a.toRoot())return UF(n,n,new zs([],{}),t,i);const s=function RH(r,o,t){if(r.isAbsolute)return new nx(o,!0,0);if(!t)return new nx(o,!1,NaN);if(null===t.parent)return new nx(t,!0,0);const i=ix(r.commands[0])?0:1;return function PH(r,o,t){let i=r,n=o,a=t;for(;a>n;){if(a-=n,i=i.parent,!i)throw new e.wOt(4005,!1);n=i.segments.length}return new nx(i,!1,n-a)}(t,t.segments.length-1+i,r.numberOfDoubleDots)}(a,n,r),d=s.processChildren?D1(s.segmentGroup,s.index,a.commands):k8(s.segmentGroup,s.index,a.commands);return UF(n,s.segmentGroup,d,t,i)}function ix(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function x1(r){return"object"==typeof r&&null!=r&&r.outlets}function UF(r,o,t,i,n){let s,a={};i&&Object.entries(i).forEach(([m,I])=>{a[m]=Array.isArray(I)?I.map(J=>`${J}`):`${I}`}),s=r===o?t:D8(r,o,t);const d=E8(B8(s));return new g_(d,a,n)}function D8(r,o,t){const i={};return Object.entries(r.children).forEach(([n,a])=>{i[n]=a===o?t:D8(a,o,t)}),new zs(r.segments,i)}class I8{constructor(o,t,i){if(this.isAbsolute=o,this.numberOfDoubleDots=t,this.commands=i,o&&i.length>0&&ix(i[0]))throw new e.wOt(4003,!1);const n=i.find(x1);if(n&&n!==f8(i))throw new e.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nx{constructor(o,t,i){this.segmentGroup=o,this.processChildren=t,this.index=i}}function k8(r,o,t){if(r||(r=new zs([],{})),0===r.segments.length&&r.hasChildren())return D1(r,o,t);const i=function LH(r,o,t){let i=0,n=o;const a={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=t.length)return a;const s=r.segments[n],d=t[i];if(x1(d))break;const m=`${d}`,I=i<t.length-1?t[i+1]:null;if(n>0&&void 0===m)break;if(m&&I&&"object"==typeof I&&void 0===I.outlets){if(!F8(m,I,s))return a;i+=2}else{if(!F8(m,{},s))return a;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}(r,o,t),n=t.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const a=new zs(r.segments.slice(0,i.pathIndex),{});return a.children[ra]=new zs(r.segments.slice(i.pathIndex),r.children),D1(a,0,n)}return i.match&&0===n.length?new zs(r.segments,{}):i.match&&!r.hasChildren()?zF(r,o,t):i.match?D1(r,0,n):zF(r,o,t)}function D1(r,o,t){if(0===t.length)return new zs(r.segments,{});{const i=function OH(r){return x1(r[0])?r[0].outlets:{[ra]:r}}(t),n={};if(Object.keys(i).some(a=>a!==ra)&&r.children[ra]&&1===r.numberOfChildren&&0===r.children[ra].segments.length){const a=D1(r.children[ra],o,t);return new zs(r.segments,a.children)}return Object.entries(i).forEach(([a,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(n[a]=k8(r.children[a],o,s))}),Object.entries(r.children).forEach(([a,s])=>{void 0===i[a]&&(n[a]=s)}),new zs(r.segments,n)}}function zF(r,o,t){const i=r.segments.slice(0,o);let n=0;for(;n<t.length;){const a=t[n];if(x1(a)){const m=YH(a.outlets);return new zs(i,m)}if(0===n&&ix(t[0])){i.push(new E1(r.segments[o].path,T8(t[0]))),n++;continue}const s=x1(a)?a.outlets[ra]:`${a}`,d=n<t.length-1?t[n+1]:null;s&&d&&ix(d)?(i.push(new E1(s,T8(d))),n+=2):(i.push(new E1(s,{})),n++)}return new zs(i,{})}function YH(r){const o={};return Object.entries(r).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[t]=zF(new zs([],{}),0,i))}),o}function T8(r){const o={};return Object.entries(r).forEach(([t,i])=>o[t]=`${i}`),o}function F8(r,o,t){return r==t.path&&bp(o,t.parameters)}const I1="imperative";class wp{constructor(o,t){this.id=o,this.url=t}}class rx extends wp{constructor(o,t,i="imperative",n=null){super(o,t),this.type=0,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mf extends wp{constructor(o,t,i){super(o,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class k1 extends wp{constructor(o,t,i,n){super(o,t),this.reason=i,this.code=n,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class m_ extends wp{constructor(o,t,i,n){super(o,t),this.reason=i,this.code=n,this.type=16}}class ox extends wp{constructor(o,t,i,n){super(o,t),this.error=i,this.target=n,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S8 extends wp{constructor(o,t,i,n){super(o,t),this.urlAfterRedirects=i,this.state=n,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NH extends wp{constructor(o,t,i,n){super(o,t),this.urlAfterRedirects=i,this.state=n,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jH extends wp{constructor(o,t,i,n,a){super(o,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class GH extends wp{constructor(o,t,i,n){super(o,t),this.urlAfterRedirects=i,this.state=n,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UH extends wp{constructor(o,t,i,n){super(o,t),this.urlAfterRedirects=i,this.state=n,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zH{constructor(o){this.route=o,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HH{constructor(o){this.route=o,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VH{constructor(o){this.snapshot=o,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JH{constructor(o){this.snapshot=o,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WH{constructor(o){this.snapshot=o,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KH{constructor(o){this.snapshot=o,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q8{constructor(o,t,i){this.routerEvent=o,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class HF{}class VF{constructor(o){this.url=o}}class XH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new T1,this.attachRef=null}}let T1=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const n=this.getOrCreateContext(t);n.outlet=i,this.contexts.set(t,n)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new XH,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class R8{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const t=this.pathFromRoot(o);return t.length>1?t[t.length-2]:null}children(o){const t=JF(o,this._root);return t?t.children.map(i=>i.value):[]}firstChild(o){const t=JF(o,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(o){const t=WF(o,this._root);return t.length<2?[]:t[t.length-2].children.map(n=>n.value).filter(n=>n!==o)}pathFromRoot(o){return WF(o,this._root).map(t=>t.value)}}function JF(r,o){if(r===o.value)return o;for(const t of o.children){const i=JF(r,t);if(i)return i}return null}function WF(r,o){if(r===o.value)return[o];for(const t of o.children){const i=WF(r,t);if(i.length)return i.unshift(o),i}return[]}class xf{constructor(o,t){this.value=o,this.children=t}toString(){return`TreeNode(${this.value})`}}function v_(r){const o={};return r&&r.children.forEach(t=>o[t.value.outlet]=t),o}class P8 extends R8{constructor(o,t){super(o),this.snapshot=t,KF(this,o)}toString(){return this.snapshot.toString()}}function O8(r,o){const t=function ZH(r,o){const s=new ax([],{},{},"",{},ra,o,null,{});return new Y8("",new xf(s,[]))}(0,o),i=new Ca.t([new E1("",{})]),n=new Ca.t({}),a=new Ca.t({}),s=new Ca.t({}),d=new Ca.t(""),m=new Df(i,n,s,d,a,ra,o,t.root);return m.snapshot=t.root,new P8(new xf(m,[]),t)}class Df{constructor(o,t,i,n,a,s,d,m){this.urlSubject=o,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=a,this.outlet=s,this.component=d,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,h.T)(I=>I[C1]))??(0,lr.of)(void 0),this.url=o,this.params=t,this.queryParams=i,this.fragment=n,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,h.T)(o=>f_(o)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,h.T)(o=>f_(o)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function L8(r,o="emptyOnly"){const t=r.pathFromRoot;let i=0;if("always"!==o)for(i=t.length-1;i>=1;){const n=t[i],a=t[i-1];if(n.routeConfig&&""===n.routeConfig.path)i--;else{if(a.component)break;i--}}return function $H(r){return r.reduce((o,t)=>({params:{...o.params,...t.params},data:{...o.data,...t.data},resolve:{...t.data,...o.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ax{get title(){return this.data?.[C1]}constructor(o,t,i,n,a,s,d,m,I){this.url=o,this.params=t,this.queryParams=i,this.fragment=n,this.data=a,this.outlet=s,this.component=d,this.routeConfig=m,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=f_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=f_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Y8 extends R8{constructor(o,t){super(t),this.url=o,KF(this,t)}toString(){return N8(this._root)}}function KF(r,o){o.value._routerState=r,o.children.forEach(t=>KF(r,t))}function N8(r){const o=r.children.length>0?` { ${r.children.map(N8).join(", ")} } `:"";return`${r.value}${o}`}function XF(r){if(r.snapshot){const o=r.snapshot,t=r._futureSnapshot;r.snapshot=t,bp(o.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),o.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),bp(o.params,t.params)||r.paramsSubject.next(t.params),function pH(r,o){if(r.length!==o.length)return!1;for(let t=0;t<r.length;++t)if(!bp(r[t],o[t]))return!1;return!0}(o.url,t.url)||r.urlSubject.next(t.url),bp(o.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function ZF(r,o){const t=bp(r.params,o.params)&&function vH(r,o){return D0(r,o)&&r.every((t,i)=>bp(t.parameters,o[i].parameters))}(r.url,o.url);return t&&!(!r.parent!=!o.parent)&&(!r.parent||ZF(r.parent,o.parent))}let $F=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=ra,this.activateEvents=new e.bkB,this.deactivateEvents=new e.bkB,this.attachEvents=new e.bkB,this.detachEvents=new e.bkB,this.parentContexts=(0,e.WQX)(T1),this.location=(0,e.WQX)(e.c1b),this.changeDetector=(0,e.WQX)(e.gRc),this.environmentInjector=(0,e.WQX)(e.uvJ),this.inputBinder=(0,e.WQX)(sx,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:n}=t.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new e.wOt(4013,!1);this._activatedRoute=t;const n=this.location,s=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new qH(t,d,n.injector);this.activated=n.createComponent(s,{index:n.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.OA$]})}}return r})();class qH{constructor(o,t,i){this.route=o,this.childContexts=t,this.parent=i}get(o,t){return o===Df?this.route:o===T1?this.childContexts:this.parent.get(o,t)}}const sx=new e.nKC("");let j8=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,n=Kl([i.queryParams,i.params,i.data]).pipe((0,Zs.n)(([a,s,d],m)=>(d={...a,...s,...d},0===m?(0,lr.of)(d):Promise.resolve(d)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=(0,e.HJs)(i.component);if(s)for(const{templateName:d}of s.inputs)t.activatedComponentRef.setInput(d,a[d]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,n)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();function F1(r,o,t){if(t&&r.shouldReuseRoute(o.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=o.value;const n=function tV(r,o,t){return o.children.map(i=>{for(const n of t.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return F1(r,i,n);return F1(r,i)})}(r,o,t);return new xf(i,n)}{if(r.shouldAttach(o.value)){const a=r.retrieve(o.value);if(null!==a){const s=a.route;return s.value._futureSnapshot=o.value,s.children=o.children.map(d=>F1(r,d)),s}}const i=function iV(r){return new Df(new Ca.t(r.url),new Ca.t(r.params),new Ca.t(r.queryParams),new Ca.t(r.fragment),new Ca.t(r.data),r.outlet,r.component,r)}(o.value),n=o.children.map(a=>F1(r,a));return new xf(i,n)}}const qF="ngNavigationCancelingError";function G8(r,o){const{redirectTo:t,navigationBehaviorOptions:i}=I0(o)?{redirectTo:o,navigationBehaviorOptions:void 0}:o,n=U8(!1,0,o);return n.url=t,n.navigationBehaviorOptions=i,n}function U8(r,o,t){const i=new Error("NavigationCancelingError: "+(r||""));return i[qF]=!0,i.cancellationCode=o,t&&(i.url=t),i}function z8(r){return r&&r[qF]}let H8=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(i,n){1&i&&e.nrm(0,"router-outlet")},dependencies:[$F],encapsulation:2})}}return r})();function eS(r){const o=r.children&&r.children.map(eS),t=o?{...r,children:o}:{...r};return!t.component&&!t.loadComponent&&(o||t.loadChildren)&&t.outlet&&t.outlet!==ra&&(t.component=H8),t}function Nh(r){return r.outlet||ra}function S1(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let o=r.parent;o;o=o.parent){const t=o.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class AV{constructor(o,t,i,n,a){this.routeReuseStrategy=o,this.futureState=t,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=a}activate(o){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,o),XF(this.futureState.root),this.activateChildRoutes(t,i,o)}deactivateChildRoutes(o,t,i){const n=v_(t);o.children.forEach(a=>{const s=a.value.outlet;this.deactivateRoutes(a,n[s],i),delete n[s]}),Object.values(n).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(o,t,i){const n=o.value,a=t?t.value:null;if(n===a)if(n.component){const s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(o,t,s.children)}else this.deactivateChildRoutes(o,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(o,t){o.value.component&&this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,t):this.deactivateRouteAndOutlet(o,t)}detachAndStoreRouteSubtree(o,t){const i=t.getContext(o.value.outlet),n=i&&o.value.component?i.children:t,a=v_(o);for(const s of Object.keys(a))this.deactivateRouteAndItsChildren(a[s],n);if(i&&i.outlet){const s=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:s,route:o,contexts:d})}}deactivateRouteAndOutlet(o,t){const i=t.getContext(o.value.outlet),n=i&&o.value.component?i.children:t,a=v_(o);for(const s of Object.keys(a))this.deactivateRouteAndItsChildren(a[s],n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(o,t,i){const n=v_(t);o.children.forEach(a=>{this.activateRoutes(a,n[a.value.outlet],i),this.forwardEvent(new KH(a.value.snapshot))}),o.children.length&&this.forwardEvent(new JH(o.value.snapshot))}activateRoutes(o,t,i){const n=o.value,a=t?t.value:null;if(XF(n),n===a)if(n.component){const s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(o,t,s.children)}else this.activateChildRoutes(o,t,i);else if(n.component){const s=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const d=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(d.contexts),s.attachRef=d.componentRef,s.route=d.route.value,s.outlet&&s.outlet.attach(d.componentRef,d.route.value),XF(d.route.value),this.activateChildRoutes(o,null,s.children)}else{const d=S1(n.snapshot);s.attachRef=null,s.route=n,s.injector=d,s.outlet&&s.outlet.activateWith(n,s.injector),this.activateChildRoutes(o,null,s.children)}}else this.activateChildRoutes(o,null,i)}}class V8{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class lx{constructor(o,t){this.component=o,this.route=t}}function dV(r,o,t){const i=r._root;return Q1(i,o?o._root:null,t,[i.value])}function __(r,o){const t=Symbol(),i=o.get(r,t);return i===t?"function"!=typeof r||(0,e.LfX)(r)?o.get(r):r:i}function Q1(r,o,t,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const a=v_(o);return r.children.forEach(s=>{(function hV(r,o,t,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const a=r.value,s=o?o.value:null,d=t?t.getContext(r.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const m=function pV(r,o,t){if("function"==typeof t)return t(r,o);switch(t){case"pathParamsChange":return!D0(r.url,o.url);case"pathParamsOrQueryParamsChange":return!D0(r.url,o.url)||!bp(r.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZF(r,o)||!bp(r.queryParams,o.queryParams);default:return!ZF(r,o)}}(s,a,a.routeConfig.runGuardsAndResolvers);m?n.canActivateChecks.push(new V8(i)):(a.data=s.data,a._resolvedData=s._resolvedData),Q1(r,o,a.component?d?d.children:null:t,i,n),m&&d&&d.outlet&&d.outlet.isActivated&&n.canDeactivateChecks.push(new lx(d.outlet.component,s))}else s&&R1(o,d,n),n.canActivateChecks.push(new V8(i)),Q1(r,null,a.component?d?d.children:null:t,i,n)})(s,a[s.value.outlet],t,i.concat([s.value]),n),delete a[s.value.outlet]}),Object.entries(a).forEach(([s,d])=>R1(d,t.getContext(s),n)),n}function R1(r,o,t){const i=v_(r),n=r.value;Object.entries(i).forEach(([a,s])=>{R1(s,n.component?o?o.children.getContext(a):null:o,t)}),t.canDeactivateChecks.push(new lx(n.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,n))}function P1(r){return"function"==typeof r}function J8(r){return r instanceof KM.G||"EmptyError"===r?.name}const cx=Symbol("INITIAL_VALUE");function y_(){return(0,Zs.n)(r=>Kl(r.map(o=>o.pipe((0,Fo.s)(1),ia(cx)))).pipe((0,h.T)(o=>{for(const t of o)if(!0!==t){if(t===cx)return cx;if(!1===t||t instanceof g_)return t}return!0}),(0,Jr.p)(o=>o!==cx),(0,Fo.s)(1)))}function W8(r){return(0,sH.F)(jr(o=>{if(I0(o))throw G8(0,o)}),(0,h.T)(o=>!0===o))}class Ax{constructor(o){this.segmentGroup=o||null}}class K8{constructor(o){this.urlTree=o}}function b_(r){return gf(new Ax(r))}function X8(r){return gf(new K8(r))}class QV{constructor(o,t){this.urlSerializer=o,this.urlTree=t}noMatchError(o){return new e.wOt(4002,!1)}lineralizeSegments(o,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return(0,lr.of)(i);if(n.numberOfChildren>1||!n.children[ra])return gf(new e.wOt(4e3,!1));n=n.children[ra]}}applyRedirectCommands(o,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),o,i)}applyRedirectCreateUrlTree(o,t,i,n){const a=this.createSegmentGroup(o,t.root,i,n);return new g_(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(o,t){const i={};return Object.entries(o).forEach(([n,a])=>{if("string"==typeof a&&a.startsWith(":")){const d=a.substring(1);i[n]=t[d]}else i[n]=a}),i}createSegmentGroup(o,t,i,n){const a=this.createSegments(o,t.segments,i,n);let s={};return Object.entries(t.children).forEach(([d,m])=>{s[d]=this.createSegmentGroup(o,m,i,n)}),new zs(a,s)}createSegments(o,t,i,n){return t.map(a=>a.path.startsWith(":")?this.findPosParam(o,a,n):this.findOrReturn(a,i))}findPosParam(o,t,i){const n=i[t.path.substring(1)];if(!n)throw new e.wOt(4001,!1);return n}findOrReturn(o,t){let i=0;for(const n of t){if(n.path===o.path)return t.splice(i),n;i++}return o}}const tS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RV(r,o,t,i,n){const a=iS(r,o,t);return a.matched?(i=function rV(r,o){return r.providers&&!r._injector&&(r._injector=(0,e.Ol2)(r.providers,o,`Route: ${r.path}`)),r._injector??o}(o,i),function TV(r,o,t,i){const n=o.canMatch;if(!n||0===n.length)return(0,lr.of)(!0);const a=n.map(s=>{const d=__(s,r);return Vg(function yV(r){return r&&P1(r.canMatch)}(d)?d.canMatch(o,t):r.runInContext(()=>d(o,t)))});return(0,lr.of)(a).pipe(y_(),W8())}(i,o,t).pipe((0,h.T)(s=>!0===s?a:{...tS}))):(0,lr.of)(a)}function iS(r,o,t){if(""===o.path)return"full"===o.pathMatch&&(r.hasChildren()||t.length>0)?{...tS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const n=(o.matcher||hH)(t,r,o);if(!n)return{...tS};const a={};Object.entries(n.posParams??{}).forEach(([d,m])=>{a[d]=m.path});const s=n.consumed.length>0?{...a,...n.consumed[n.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:n.consumed,remainingSegments:t.slice(n.consumed.length),parameters:s,positionalParamSegments:n.posParams??{}}}function Z8(r,o,t,i){return t.length>0&&function LV(r,o,t){return t.some(i=>dx(r,o,i)&&Nh(i)!==ra)}(r,t,i)?{segmentGroup:new zs(o,OV(i,new zs(t,r.children))),slicedSegments:[]}:0===t.length&&function YV(r,o,t){return t.some(i=>dx(r,o,i))}(r,t,i)?{segmentGroup:new zs(r.segments,PV(r,0,t,i,r.children)),slicedSegments:t}:{segmentGroup:new zs(r.segments,r.children),slicedSegments:t}}function PV(r,o,t,i,n){const a={};for(const s of i)if(dx(r,t,s)&&!n[Nh(s)]){const d=new zs([],{});a[Nh(s)]=d}return{...n,...a}}function OV(r,o){const t={};t[ra]=o;for(const i of r)if(""===i.path&&Nh(i)!==ra){const n=new zs([],{});t[Nh(i)]=n}return t}function dx(r,o,t){return(!(r.hasChildren()||o.length>0)||"full"!==t.pathMatch)&&""===t.path}class UV{constructor(o,t,i,n,a,s,d){this.injector=o,this.configLoader=t,this.rootComponentType=i,this.config=n,this.urlTree=a,this.paramsInheritanceStrategy=s,this.urlSerializer=d,this.allowRedirects=!0,this.applyRedirects=new QV(this.urlSerializer,this.urlTree)}noMatchError(o){return new e.wOt(4002,!1)}recognize(){const o=Z8(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,o,ra).pipe(Md(t=>{if(t instanceof K8)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ax?this.noMatchError(t):t}),(0,h.T)(t=>{const i=new ax([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ra,this.rootComponentType,null,{}),n=new xf(i,t),a=new Y8("",n),s=function SH(r,o,t=null,i=null){return x8(M8(r),o,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(a._root),{state:a,tree:s}}))}match(o){return this.processSegmentGroup(this.injector,this.config,o.root,ra).pipe(Md(i=>{throw i instanceof Ax?this.noMatchError(i):i}))}inheritParamsAndData(o){const t=o.value,i=L8(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),o.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(o,t,i,n){return 0===i.segments.length&&i.hasChildren()?this.processChildren(o,t,i):this.processSegment(o,t,i,i.segments,n,!0)}processChildren(o,t,i){const n=[];for(const a of Object.keys(i.children))"primary"===a?n.unshift(a):n.push(a);return(0,_.H)(n).pipe((0,Hg.H)(a=>{const s=i.children[a],d=function lV(r,o){const t=r.filter(i=>Nh(i)===o);return t.push(...r.filter(i=>Nh(i)!==o)),t}(t,a);return this.processSegmentGroup(o,d,s,a)}),function AH(r,o){return(0,al.N)(function cH(r,o,t,i,n){return(a,s)=>{let d=t,m=o,I=0;a.subscribe((0,pl._)(s,J=>{const oe=I++;m=d?r(m,J,oe):(d=!0,J),i&&s.next(m)},n&&(()=>{d&&s.next(m),s.complete()})))}}(r,o,arguments.length>=2,!0))}((a,s)=>(a.push(...s),a)),XM(null),function dH(r,o){const t=arguments.length>=2;return i=>i.pipe(r?(0,Jr.p)((n,a)=>r(n,a,i)):$c.D,YF(1),t?XM(o):h8(()=>new KM.G))}(),(0,ga.Z)(a=>{if(null===a)return b_(i);const s=$8(a);return function zV(r){r.sort((o,t)=>o.value.outlet===ra?-1:t.value.outlet===ra?1:o.value.outlet.localeCompare(t.value.outlet))}(s),(0,lr.of)(s)}))}processSegment(o,t,i,n,a,s){return(0,_.H)(t).pipe((0,Hg.H)(d=>this.processSegmentAgainstRoute(d._injector??o,t,d,i,n,a,s).pipe(Md(m=>{if(m instanceof Ax)return(0,lr.of)(null);throw m}))),x0(d=>!!d),Md(d=>{if(J8(d))return function jV(r,o,t){return 0===o.length&&!r.children[t]}(i,n,a)?(0,lr.of)([]):b_(i);throw d}))}processSegmentAgainstRoute(o,t,i,n,a,s,d){return function NV(r,o,t,i){return!!(Nh(r)===i||i!==ra&&dx(o,t,r))&&("**"===r.path||iS(o,r,t).matched)}(i,n,a,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(o,n,i,a,s,d):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(o,n,t,i,a,s):b_(n):b_(n)}expandSegmentAgainstRouteUsingRedirect(o,t,i,n,a,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o,i,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(o,t,i,n,a,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(o,t,i,n){const a=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?X8(a):this.applyRedirects.lineralizeSegments(i,a).pipe((0,ga.Z)(s=>{const d=new zs(s,{});return this.processSegment(o,t,d,s,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(o,t,i,n,a,s){const{matched:d,consumedSegments:m,remainingSegments:I,positionalParamSegments:J}=iS(t,n,a);if(!d)return b_(t);const oe=this.applyRedirects.applyRedirectCommands(m,n.redirectTo,J);return n.redirectTo.startsWith("/")?X8(oe):this.applyRedirects.lineralizeSegments(n,oe).pipe((0,ga.Z)(Ce=>this.processSegment(o,i,t,Ce.concat(I),s,!1)))}matchSegmentAgainstRoute(o,t,i,n,a,s){let d;if("**"===i.path){const m=n.length>0?f8(n).parameters:{},I=new ax(n,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q8(i),Nh(i),i.component??i._loadedComponent??null,i,eO(i));d=(0,lr.of)({snapshot:I,consumedSegments:[],remainingSegments:[]}),t.children={}}else d=RV(t,i,n,o).pipe((0,h.T)(({matched:m,consumedSegments:I,remainingSegments:J,parameters:oe})=>m?{snapshot:new ax(I,oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q8(i),Nh(i),i.component??i._loadedComponent??null,i,eO(i)),consumedSegments:I,remainingSegments:J}:null));return d.pipe((0,Zs.n)(m=>null===m?b_(t):this.getChildConfig(o=i._injector??o,i,n).pipe((0,Zs.n)(({routes:I})=>{const J=i._loadedInjector??o,{snapshot:oe,consumedSegments:Ce,remainingSegments:$e}=m,{segmentGroup:nt,slicedSegments:Tt}=Z8(t,Ce,$e,I);if(0===Tt.length&&nt.hasChildren())return this.processChildren(J,I,nt).pipe((0,h.T)(ci=>null===ci?null:[new xf(oe,ci)]));if(0===I.length&&0===Tt.length)return(0,lr.of)([new xf(oe,[])]);const Zt=Nh(i)===a;return this.processSegment(J,I,nt,Tt,Zt?ra:a,!0).pipe((0,h.T)(ci=>[new xf(oe,ci)]))}))))}getChildConfig(o,t,i){return t.children?(0,lr.of)({routes:t.children,injector:o}):t.loadChildren?void 0!==t._loadedRoutes?(0,lr.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function kV(r,o,t,i){const n=o.canLoad;if(void 0===n||0===n.length)return(0,lr.of)(!0);const a=n.map(s=>{const d=__(s,r);return Vg(function gV(r){return r&&P1(r.canLoad)}(d)?d.canLoad(o,t):r.runInContext(()=>d(o,t)))});return(0,lr.of)(a).pipe(y_(),W8())}(o,t,i).pipe((0,ga.Z)(n=>n?this.configLoader.loadChildren(o,t).pipe(jr(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function SV(r){return gf(U8(!1,3))}())):(0,lr.of)({routes:[],injector:o})}}function HV(r){const o=r.value.routeConfig;return o&&""===o.path}function $8(r){const o=[],t=new Set;for(const i of r){if(!HV(i)){o.push(i);continue}const n=o.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==n?(n.children.push(...i.children),t.add(n)):o.push(i)}for(const i of t){const n=$8(i.children);o.push(new xf(i.value,n))}return o.filter(i=>!t.has(i))}function q8(r){return r.data||{}}function eO(r){return r.resolve||{}}function tO(r){return"string"==typeof r.title||null===r.title}function nS(r){return(0,Zs.n)(o=>{const t=r(o);return t?(0,_.H)(t).pipe((0,h.T)(()=>o)):(0,lr.of)(o)})}const w_=new e.nKC("ROUTES");let rS=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.WQX)(e.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,lr.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Vg(t.loadComponent()).pipe((0,h.T)(iO),jr(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),(0,Rv.j)(()=>{this.componentLoaders.delete(t)})),n=new dv(i,()=>new An.B).pipe(hC());return this.componentLoaders.set(t,n),n}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,lr.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=function $V(r,o,t,i){return Vg(r.loadChildren()).pipe((0,h.T)(iO),(0,ga.Z)(n=>n instanceof e.Co$||Array.isArray(n)?(0,lr.of)(n):(0,_.H)(o.compileModuleAsync(n))),(0,h.T)(n=>{i&&i(r);let a,s,d=!1;return Array.isArray(n)?(s=n,!0):(a=n.create(t).injector,s=a.get(w_,[],{optional:!0,self:!0}).flat()),{routes:s.map(eS),injector:a}}))}(i,this.compiler,t,this.onLoadEndListener).pipe((0,Rv.j)(()=>{this.childrenLoaders.delete(i)})),s=new dv(a,()=>new An.B).pipe(hC());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function iO(r){return function qV(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let ux=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new An.B,this.transitionAbortSubject=new An.B,this.configLoader=(0,e.WQX)(rS),this.environmentInjector=(0,e.WQX)(e.uvJ),this.urlSerializer=(0,e.WQX)(B1),this.rootContexts=(0,e.WQX)(T1),this.inputBindingEnabled=null!==(0,e.WQX)(sx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,lr.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=n=>this.events.next(new HH(n)),this.configLoader.onLoadStartListener=n=>this.events.next(new zH(n))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,n){return this.transitions=new Ca.t({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:I1,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Jr.p)(a=>0!==a.id),(0,h.T)(a=>({...a,extractedUrl:t.urlHandlingStrategy.extract(a.rawUrl)})),(0,Zs.n)(a=>{this.currentTransition=a;let s=!1,d=!1;return(0,lr.of)(a).pipe(jr(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Zs.n)(m=>{const I=m.currentBrowserUrl.toString(),J=!t.navigated||m.extractedUrl.toString()!==I||I!==m.currentUrlTree.toString();if(!J&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const Ce="";return this.events.next(new m_(m.id,this.urlSerializer.serialize(m.rawUrl),Ce,0)),m.resolve(null),Zd.w}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,lr.of)(m).pipe((0,Zs.n)(Ce=>{const $e=this.transitions?.getValue();return this.events.next(new rx(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Ce.source,Ce.restoredState)),$e!==this.transitions?.getValue()?Zd.w:Promise.resolve(Ce)}),function VV(r,o,t,i,n,a){return(0,ga.Z)(s=>function GV(r,o,t,i,n,a,s="emptyOnly"){return new UV(r,o,t,i,n,s,a).recognize()}(r,o,t,i,s.extractedUrl,n,a).pipe((0,h.T)(({state:d,tree:m})=>({...s,targetSnapshot:d,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),jr(Ce=>{a.targetSnapshot=Ce.targetSnapshot,a.urlAfterRedirects=Ce.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ce.urlAfterRedirects};const $e=new S8(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next($e)}));if(J&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:Ce,extractedUrl:$e,source:nt,restoredState:Tt,extras:Zt}=m,ci=new rx(Ce,this.urlSerializer.serialize($e),nt,Tt);this.events.next(ci);const xi=O8(0,this.rootComponentType).snapshot;return this.currentTransition=a={...m,targetSnapshot:xi,urlAfterRedirects:$e,extras:{...Zt,skipLocationChange:!1,replaceUrl:!1}},(0,lr.of)(a)}{const Ce="";return this.events.next(new m_(m.id,this.urlSerializer.serialize(m.extractedUrl),Ce,1)),m.resolve(null),Zd.w}}),jr(m=>{const I=new NH(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}),(0,h.T)(m=>(this.currentTransition=a={...m,guards:dV(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},a)),function wV(r,o){return(0,ga.Z)(t=>{const{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:a,canDeactivateChecks:s}}=t;return 0===s.length&&0===a.length?(0,lr.of)({...t,guardsResult:!0}):function CV(r,o,t,i){return(0,_.H)(r).pipe((0,ga.Z)(n=>function IV(r,o,t,i,n){const a=o&&o.routeConfig?o.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,lr.of)(!0);const s=a.map(d=>{const m=S1(o)??n,I=__(d,m);return Vg(function _V(r){return r&&P1(r.canDeactivate)}(I)?I.canDeactivate(r,o,t,i):m.runInContext(()=>I(r,o,t,i))).pipe(x0())});return(0,lr.of)(s).pipe(y_())}(n.component,n.route,t,o,i)),x0(n=>!0!==n,!0))}(s,i,n,r).pipe((0,ga.Z)(d=>d&&function fV(r){return"boolean"==typeof r}(d)?function EV(r,o,t,i){return(0,_.H)(o).pipe((0,Hg.H)(n=>(0,oc.x)(function MV(r,o){return null!==r&&o&&o(new VH(r)),(0,lr.of)(!0)}(n.route.parent,i),function BV(r,o){return null!==r&&o&&o(new WH(r)),(0,lr.of)(!0)}(n.route,i),function DV(r,o,t){const i=o[o.length-1],a=o.slice(0,o.length-1).reverse().map(s=>function uV(r){const o=r.routeConfig?r.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:r,guards:o}:null}(s)).filter(s=>null!==s).map(s=>(0,op.v)(()=>{const d=s.guards.map(m=>{const I=S1(s.node)??t,J=__(m,I);return Vg(function vV(r){return r&&P1(r.canActivateChild)}(J)?J.canActivateChild(i,r):I.runInContext(()=>J(i,r))).pipe(x0())});return(0,lr.of)(d).pipe(y_())}));return(0,lr.of)(a).pipe(y_())}(r,n.path,t),function xV(r,o,t){const i=o.routeConfig?o.routeConfig.canActivate:null;if(!i||0===i.length)return(0,lr.of)(!0);const n=i.map(a=>(0,op.v)(()=>{const s=S1(o)??t,d=__(a,s);return Vg(function mV(r){return r&&P1(r.canActivate)}(d)?d.canActivate(o,r):s.runInContext(()=>d(o,r))).pipe(x0())}));return(0,lr.of)(n).pipe(y_())}(r,n.route,t))),x0(n=>!0!==n,!0))}(i,a,r,o):(0,lr.of)(d)),(0,h.T)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,m=>this.events.next(m)),jr(m=>{if(a.guardsResult=m.guardsResult,I0(m.guardsResult))throw G8(0,m.guardsResult);const I=new jH(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(I)}),(0,Jr.p)(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),nS(m=>{if(m.guards.canActivateChecks.length)return(0,lr.of)(m).pipe(jr(I=>{const J=new GH(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(J)}),(0,Zs.n)(I=>{let J=!1;return(0,lr.of)(I).pipe(function JV(r,o){return(0,ga.Z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,lr.of)(t);let a=0;return(0,_.H)(n).pipe((0,Hg.H)(s=>function WV(r,o,t,i){const n=r.routeConfig,a=r._resolve;return void 0!==n?.title&&!tO(n)&&(a[C1]=n.title),function KV(r,o,t,i){const n=function XV(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===n.length)return(0,lr.of)({});const a={};return(0,_.H)(n).pipe((0,ga.Z)(s=>function ZV(r,o,t,i){const n=S1(o)??i,a=__(r,n);return Vg(a.resolve?a.resolve(o,t):n.runInContext(()=>a(o,t)))}(r[s],o,t,i).pipe(x0(),jr(d=>{a[s]=d}))),YF(1),Ag(a),Md(s=>J8(s)?Zd.w:gf(s)))}(a,r,o,i).pipe((0,h.T)(s=>(r._resolvedData=s,r.data=L8(r,t).resolve,n&&tO(n)&&(r.data[C1]=n.title),null)))}(s.route,i,r,o)),jr(()=>a++),YF(1),(0,ga.Z)(s=>a===n.length?(0,lr.of)(t):Zd.w))})}(t.paramsInheritanceStrategy,this.environmentInjector),jr({next:()=>J=!0,complete:()=>{J||this.cancelNavigationTransition(I,"",2)}}))}),jr(I=>{const J=new UH(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(J)}))}),nS(m=>{const I=J=>{const oe=[];J.routeConfig?.loadComponent&&!J.routeConfig._loadedComponent&&oe.push(this.configLoader.loadComponent(J.routeConfig).pipe(jr(Ce=>{J.component=Ce}),(0,h.T)(()=>{})));for(const Ce of J.children)oe.push(...I(Ce));return oe};return Kl(I(m.targetSnapshot.root)).pipe(XM(),(0,Fo.s)(1))}),nS(()=>this.afterPreactivation()),(0,h.T)(m=>{const I=function eV(r,o,t){const i=F1(r,o._root,t?t._root:void 0);return new P8(i,o)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=a={...m,targetRouterState:I},a}),jr(()=>{this.events.next(new HF)}),((r,o,t,i)=>(0,h.T)(n=>(new AV(o,n.targetRouterState,n.currentRouterState,t,i).activate(r),n)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),(0,Fo.s)(1),jr({next:m=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{s=!0}}),(0,jn.Q)(this.transitionAbortSubject.pipe(jr(m=>{throw m}))),(0,Rv.j)(()=>{s||d||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Md(m=>{if(d=!0,z8(m))this.events.next(new k1(a.id,this.urlSerializer.serialize(a.extractedUrl),m.message,m.cancellationCode)),function nV(r){return z8(r)&&I0(r.url)}(m)?this.events.next(new VF(m.url)):a.resolve(!1);else{this.events.next(new ox(a.id,this.urlSerializer.serialize(a.extractedUrl),m,a.targetSnapshot??void 0));try{a.resolve(t.errorHandler(m))}catch(I){a.reject(I)}}return Zd.w}))}))}cancelNavigationTransition(t,i,n){const a=new k1(t.id,this.urlSerializer.serialize(t.extractedUrl),i,n);this.events.next(a),t.resolve(!1)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function nO(r){return r!==I1}let rO=(()=>{class r{buildTitle(t){let i,n=t.root;for(;void 0!==n;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(a=>a.outlet===ra);return i}getResolvedTitleForRoute(t){return t.data[C1]}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:function(){return(0,e.WQX)(e9)},providedIn:"root"})}}return r})(),e9=(()=>{class r extends rO{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(D.hE))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),t9=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:function(){return(0,e.WQX)(n9)},providedIn:"root"})}}return r})();class i9{shouldDetach(o){return!1}store(o,t){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,t){return o.routeConfig===t.routeConfig}}let n9=(()=>{class r extends i9{static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(r)))(n||r)}}()}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const hx=new e.nKC("",{providedIn:"root",factory:()=>({})});let r9=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:function(){return(0,e.WQX)(o9)},providedIn:"root"})}}return r})(),o9=(()=>{class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var O1=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(O1||{});function oO(r,o){r.events.pipe((0,Jr.p)(t=>t instanceof Mf||t instanceof k1||t instanceof ox||t instanceof m_),(0,h.T)(t=>t instanceof Mf||t instanceof m_?O1.COMPLETE:t instanceof k1&&(0===t.code||1===t.code)?O1.REDIRECTING:O1.FAILED),(0,Jr.p)(t=>t!==O1.REDIRECTING),(0,Fo.s)(1)).subscribe(()=>{o()})}function a9(r){throw r}function s9(r,o,t){return o.parse("/")}const l9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zc=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.WQX)(e.H3F),this.isNgZoneEnabled=!1,this._events=new An.B,this.options=(0,e.WQX)(hx,{optional:!0})||{},this.pendingTasks=(0,e.WQX)(e.$K3),this.errorHandler=this.options.errorHandler||a9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||s9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.WQX)(r9),this.routeReuseStrategy=(0,e.WQX)(t9),this.titleStrategy=(0,e.WQX)(rO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.WQX)(w_,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.WQX)(ux),this.urlSerializer=(0,e.WQX)(B1),this.location=(0,e.WQX)(l.aZ),this.componentInputBindingEnabled=!!(0,e.WQX)(sx,{optional:!0}),this.eventsSubscription=new zr.yU,this.isNgZoneEnabled=(0,e.WQX)(e.SKi)instanceof e.SKi&&e.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new g_,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=O8(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:n}=this.navigationTransitions;if(null===n)return void(aO(i)&&this._events.next(i));if(i instanceof rx)nO(n.source)&&(this.browserUrlTree=n.extractedUrl);else if(i instanceof m_)this.rawUrlTree=n.rawUrl;else if(i instanceof S8){if("eager"===this.urlUpdateStrategy){if(!n.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(n.urlAfterRedirects,n.rawUrl);this.setBrowserUrl(a,n)}this.browserUrlTree=n.urlAfterRedirects}}else if(i instanceof HF)this.currentUrlTree=n.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(n.urlAfterRedirects,n.rawUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n),this.browserUrlTree=n.urlAfterRedirects);else if(i instanceof k1)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(n);else if(i instanceof VF){const a=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),s={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nO(n.source)};this.scheduleNavigation(a,I1,null,s,{resolve:n.resolve,reject:n.reject,promise:n.promise})}i instanceof ox&&this.restoreHistory(n,!0),i instanceof Mf&&(this.navigated=!0),aO(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),I1,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,n){const a={replaceUrl:!0},s=n?.navigationId?n:null;if(n){const m={...n};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const d=this.parseUrl(t);this.scheduleNavigation(d,i,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(eS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:n,queryParams:a,fragment:s,queryParamsHandling:d,preserveFragment:m}=i,I=m?this.currentUrlTree.fragment:s;let oe,J=null;switch(d){case"merge":J={...this.currentUrlTree.queryParams,...a};break;case"preserve":J=this.currentUrlTree.queryParams;break;default:J=a||null}null!==J&&(J=this.removeEmptyProps(J));try{oe=M8(n?n.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),oe=this.currentUrlTree.root}return x8(oe,t,J,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const n=I0(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(a,I1,null,i)}navigate(t,i={skipLocationChange:!1}){return function A9(r){for(let o=0;o<r.length;o++)if(null==r[o])throw new e.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(n){i=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return i}isActive(t,i){let n;if(n=!0===i?{...l9}:!1===i?{...c9}:i,I0(t))return m8(this.currentUrlTree,t,n);const a=this.parseUrl(t);return m8(this.currentUrlTree,a,n)}removeEmptyProps(t){return Object.keys(t).reduce((i,n)=>{const a=t[n];return null!=a&&(i[n]=a),i},{})}scheduleNavigation(t,i,n,a,s){if(this.disposed)return Promise.resolve(!1);let d,m,I;s?(d=s.resolve,m=s.reject,I=s.promise):I=new Promise((oe,Ce)=>{d=oe,m=Ce});const J=this.pendingTasks.add();return oO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(J))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:a,resolve:d,reject:m,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,i){const n=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(n,"",s)}else{const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-this.browserPageId;0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function aO(r){return!(r instanceof HF||r instanceof VF)}class sO{}let h9=(()=>{class r{constructor(t,i,n,a,s){this.router=t,this.injector=n,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe((0,Jr.p)(t=>t instanceof Mf),(0,Hg.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const n=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,e.Ol2)(a.providers,t,`Route: ${a.path}`));const s=a._injector??t,d=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&n.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&n.push(this.processRoutes(d,a.children??a._loadedRoutes))}return(0,_.H)(n).pipe((0,ZM.U)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let n;n=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,lr.of)(null);const a=n.pipe((0,ga.Z)(s=>null===s?(0,lr.of)(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){const s=this.loader.loadComponent(i);return(0,_.H)([a,s]).pipe((0,ZM.U)())}return a})}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(zc),e.KVO(e.Ql9),e.KVO(e.uvJ),e.KVO(sO),e.KVO(rS))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const aS=new e.nKC("");let lO=(()=>{class r{constructor(t,i,n,a,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=n,this.zone=a,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mf?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof m_&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Q8&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Q8(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){e.QTQ()}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();function If(r,o){return{\u0275kind:r,\u0275providers:o}}function AO(){const r=(0,e.WQX)(e.zZn);return o=>{const t=r.get(e.o8S);if(o!==t.components[0])return;const i=r.get(zc),n=r.get(dO);1===r.get(sS)&&i.initialNavigation(),r.get(uO,null,e.$GK.Optional)?.setUpPreloading(),r.get(aS,null,e.$GK.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}const dO=new e.nKC("",{factory:()=>new An.B}),sS=new e.nKC("",{providedIn:"root",factory:()=>1}),uO=new e.nKC("");function m9(r){return If(0,[{provide:uO,useExisting:h9},{provide:sO,useExisting:r}])}const hO=new e.nKC("ROUTER_FORROOT_GUARD"),_9=[l.aZ,{provide:B1,useClass:NF},zc,T1,{provide:Df,useFactory:function cO(r){return r.routerState.root},deps:[zc]},rS,[]];function y9(){return new e.NEm("Router",zc)}let b9=(()=>{class r{constructor(t){}static forRoot(t,i){return{ngModule:r,providers:[_9,[],{provide:w_,multi:!0,useValue:t},{provide:hO,useFactory:B9,deps:[[zc,new e.Xx1,new e.kdw]]},{provide:hx,useValue:i||{}},i?.useHash?{provide:l.hb,useClass:l.fw}:{provide:l.hb,useClass:l.Sm},{provide:aS,useFactory:()=>{const r=(0,e.WQX)(l.Xr),o=(0,e.WQX)(e.SKi),t=(0,e.WQX)(hx),i=(0,e.WQX)(ux),n=(0,e.WQX)(B1);return t.scrollOffset&&r.setOffset(t.scrollOffset),new lO(n,i,r,o,t)}},i?.preloadingStrategy?m9(i.preloadingStrategy).\u0275providers:[],{provide:e.NEm,multi:!0,useFactory:y9},i?.initialNavigation?M9(i):[],i?.bindToComponentInputs?If(8,[j8,{provide:sx,useExisting:j8}]).\u0275providers:[],[{provide:pO,useFactory:AO},{provide:e.iLQ,multi:!0,useExisting:pO}]]}}static forChild(t){return{ngModule:r,providers:[{provide:w_,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(hO,8))}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();function B9(r){return"guarded"}function M9(r){return["disabled"===r.initialNavigation?If(3,[{provide:e.hnV,multi:!0,useFactory:()=>{const o=(0,e.WQX)(zc);return()=>{o.setUpLocationChangeListener()}}},{provide:sS,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?If(2,[{provide:sS,useValue:0},{provide:e.hnV,multi:!0,deps:[e.zZn],useFactory:o=>{const t=o.get(l.hj,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const n=o.get(zc),a=o.get(dO);oO(n,()=>{i(!0)}),o.get(ux).afterPreactivation=()=>(i(!0),a.closed?(0,lr.of)(void 0):a),n.initialNavigation()}))}}]).\u0275providers:[]]}const pO=new e.nKC("");let fO=(()=>{class r{authService;router;rcgiService;heartbeatInterval=3e5;server;heartbeatSubscription;activity=!1;constructor(t,i,n){this.authService=t,this.router=i,this.rcgiService=n,this.server=n.rcgi}startHeartbeatPolling(){this.server&&(this.stopHeartbeatPolling(),this.heartbeatSubscription=h_(this.heartbeatInterval).subscribe(()=>{this.server.heartbeat(this.activity).subscribe(t=>{"tokenRefresh"===t?.message&&t?.token?this.authService.setNewToken(t.token):"guest"===t?.message&&t?.token&&this.authService.signOut()},t=>{t instanceof ka.yz&&(401===t.status||403===t.status)&&this.router.navigateByUrl("/")})}))}stopHeartbeatPolling(){this.heartbeatSubscription&&this.heartbeatSubscription.unsubscribe()}setActivity(t){this.activity=t}static \u0275fac=function(i){return new(i||r)(e.KVO(zg.u),e.KVO(zc),e.KVO(p_))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ii=ie(3728),Gi=ie(7546);function D9(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onNoClick())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"dlg.cancel")))}let th=(()=>{class r{dialogRef;data;msgToConfirm="";constructor(t,i){this.dialogRef=t,this.data=i,this.msgToConfirm=this.data.msg}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(!0)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-confirm-dialog"]],decls:8,vars:6,consts:[[2,"width","100%","position","relative","padding-bottom","40px"],[2,"margin-top","20px","margin-bottom","20px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.DNE(4,D9,3,3,"button",3),e.j41(5,"button",4),e.bIt("click",function(){return n.onOkClick()}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.SpI(" ",n.msgToConfirm," "),e.R7$(2),e.Y8G("ngIf",!n.data.hideCancel),e.R7$(1),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(7,4,"dlg.ok")))},dependencies:[l.bT,zn,nA,Rr,Vi.D9]})}return r})(),Wr=(()=>{class r{matDialogRef;container;mouseStart;mouseDelta;offset;constructor(t,i){this.matDialogRef=t,this.container=i}ngAfterViewInit(){this.offset=this._getOffset()}onMouseDown(t){this.offset=this._getOffset(),this.mouseStart={x:t.pageX,y:t.pageY};const i=Ue(document,"mouseup");Ue(document,"mousemove").pipe((0,jn.Q)(i)).subscribe(a=>this.onMouseMove(a))}onMouseMove(t){this.mouseDelta={x:t.pageX-this.mouseStart.x,y:t.pageY-this.mouseStart.y},this._updatePosition(this.offset.y+this.mouseDelta.y,this.offset.x+this.mouseDelta.x)}onMouseup(){this.mouseDelta&&(this.offset.x+=this.mouseDelta.x,this.offset.y+=this.mouseDelta.y)}_updatePosition(t,i){this.matDialogRef.updatePosition({top:t+"px",left:i+"px"})}_getOffset(){const t=this.container._elementRef.nativeElement.getBoundingClientRect();return{x:t.left+pageXOffset,y:t.top+pageYOffset}}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(db))};static \u0275dir=e.FsC({type:r,selectors:[["","mat-dialog-draggable",""]],hostBindings:function(i,n){1&i&&e.bIt("mousedown",function(s){return n.onMouseDown(s)})}})}return r})();function I9(r,o){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.JRh(t.error)}}let C_=(()=>{class r{dialogRef;data;error="";constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.data)}isValid(t){return!(this.data.validator&&!this.data.validator(t)||this.data.exist&&this.data.exist.length&&this.data.exist.find(i=>i===t))}onCheckValue(t){this.error=this.data.exist&&this.data.exist.length&&t.target.value&&this.data.exist.find(i=>i===t.target.value)?this.data.error:""}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-edit-name"]],decls:20,vars:14,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field",2,"display","block","margin-bottom","10px","margin-top","10px"],["type","text",2,"width","300px",3,"ngModel","ngModelChange","input"],[2,"display","block","color","red","height","22px"],[4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.k0s(),e.j41(3,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(4,"clear"),e.k0s(),e.j41(5,"div",2)(6,"div",3)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",4),e.bIt("ngModelChange",function(s){return n.data.name=s})("input",function(s){return n.onCheckValue(s)}),e.k0s()(),e.j41(11,"div",5),e.DNE(12,I9,2,1,"span",6),e.k0s()(),e.j41(13,"div",7)(14,"button",8),e.bIt("click",function(){return n.onNoClick()}),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",9),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(n.data.title),e.R7$(6),e.JRh(e.bMT(9,8,n.data.label||"dlg.item-name")),e.R7$(2),e.Y8G("ngModel",n.data.name),e.R7$(2),e.Y8G("ngIf",n.error),e.R7$(3),e.JRh(e.bMT(16,10,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",!n.isValid(n.data.name))("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(19,12,"dlg.ok")))},dependencies:[l.bT,k,qe,tn,zn,nA,Or,eo,Rr,Kn,Wr,Vi.D9]})}return r})();function k9(r,o){if(1&r&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}function T9(r,o){if(1&r&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}let F9=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;tagType=Gi.PK;existingNames=[];error;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagType:[this.data.tag.type,j.required],tagAddress:[this.data.tag.address,j.required],tagDescription:[this.data.tag.description]}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}validateName(){return t=>{this.error=null;const i=t?.value;return-1!==this.existingNames.indexOf(i)?{name:this.translateService.instant("msg.device-tag-exist")}:i?.includes("@")?{name:this.translateService.instant("msg.device-tag-invalid-char")}:null}}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-s7"]],outputs:{result:"result"},decls:42,vars:30,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],["formControlName","tagType"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagAddress","type","text"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,k9,2,1,"span",8),e.k0s(),e.j41(18,"div",6)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",9),e.DNE(23,T9,2,2,"mat-option",10),e.nI1(24,"enumToArray"),e.k0s()(),e.j41(25,"div",6)(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",11),e.k0s(),e.j41(30,"div",6)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.nrm(34,"input",12),e.k0s()(),e.j41(35,"div",13)(36,"button",14),e.bIt("click",function(){return n.onNoClick()}),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"button",15),e.bIt("click",function(){return n.onOkClick()}),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,12,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,14,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,16,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(3),e.JRh(e.bMT(21,18,"device.tag-property-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(24,20,n.tagType)),e.R7$(4),e.JRh(e.bMT(28,22,"device.tag-property-address")),e.R7$(5),e.JRh(e.bMT(33,24,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(38,26,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(41,28,"dlg.ok")))},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})(),Hs=(()=>{class r{el;specialKeys=["Backspace","Delete","Tab","End","Home","ArrowLeft","ArrowRight"];constructor(t){this.el=t}onKeyDown(t){-1===this.specialKeys.indexOf(t.key)||t.stopPropagation()}static \u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:r,selectors:[["","numberOnly",""]],hostBindings:function(i,n){1&i&&e.bIt("keydown",function(s){return n.onKeyDown(s)})}})}return r})(),S9=(()=>{class r{el;regex=new RegExp(/^-?[0-9]+(\.[0-9]*){0,1}$/g);specialKeys=["Backspace","Delete","Tab","End","Home","ArrowLeft","ArrowRight"];constructor(t){this.el=t}onKeyDown(t){if(-1!==this.specialKeys.indexOf(t.key))return void t.stopPropagation();let i=this.el.nativeElement.value,n="";"-"===t.key?(t.preventDefault(),i.startsWith("-")||(n=t.key+i,this.el.nativeElement.value=n)):n=i.concat(t.key),n&&!String(n).match(this.regex)&&t.preventDefault(),t.stopPropagation()}static \u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:r,selectors:[["","numberOrNullOnly",""]],hostBindings:function(i,n){1&i&&e.bIt("keydown",function(s){return n.onKeyDown(s)})}})}return r})();function Q9(r,o){if(1&r&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}function R9(r,o){if(1&r&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}let P9=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;tagType=Gi.q9;existingNames=[];error;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagType:[this.data.tag.type,j.required],tagInit:[this.data.tag.init],tagDescription:[this.data.tag.description]}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}validateName(){return t=>{this.error=null;const i=t?.value;return-1!==this.existingNames.indexOf(i)?{name:this.translateService.instant("msg.device-tag-exist")}:i?.includes("@")?{name:this.translateService.instant("msg.device-tag-invalid-char")}:null}}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-server"]],outputs:{result:"result"},decls:43,vars:30,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],[1,"item-combi"],[1,"my-form-field","item-inline","mt10"],["formControlName","tagType"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","item-inline","mt10","ftr","mr5"],["numberOnly","","formControlName","tagInit","type","text"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,Q9,2,1,"span",8),e.k0s(),e.j41(18,"div",9)(19,"div",10)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"mat-select",11),e.DNE(24,R9,2,2,"mat-option",12),e.nI1(25,"enumToArray"),e.k0s()(),e.j41(26,"div",13)(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"input",14),e.k0s()(),e.j41(31,"div",6)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"input",15),e.k0s()(),e.j41(36,"div",16)(37,"button",17),e.bIt("click",function(){return n.onNoClick()}),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"button",18),e.bIt("click",function(){return n.onOkClick()}),e.EFF(41),e.nI1(42,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,12,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,14,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,16,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(4),e.JRh(e.bMT(22,18,"device.tag-property-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(25,20,n.tagType)),e.R7$(4),e.JRh(e.bMT(29,22,"device.tag-property-initvalue")),e.R7$(5),e.JRh(e.bMT(34,24,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(39,26,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(42,28,"dlg.ok")))},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Hs,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]{width:calc(50% - 10px);display:inline-block}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%}"]})}return r})();function O9(r,o){if(1&r&&(e.j41(0,"span",18),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}function L9(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.key," ")}}function Y9(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}let N9=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;tagType=Gi.JS;memAddress={"Coil Status (Read/Write 000001-065536)":"000000","Digital Inputs (Read 100001-165536)":"100000","Input Registers (Read  300001-365536)":"300000","Holding Registers (Read/Write  400001-465535)":"400000"};existingNames=[];error;destroy$=new An.B;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagType:[this.data.tag.type,j.required],tagAddress:[this.data.tag.address,[j.required,j.min(0)]],tagMemoryAddress:[this.data.tag.memaddress,j.required],tagDescription:[this.data.tag.description],tagDivisor:[this.data.tag.divisor]}),this.formGroup.controls.tagMemoryAddress.valueChanges.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.formGroup.controls.tagType.enable(),t?("000000"===t||"100000"===t)&&(this.formGroup.patchValue({tagType:Gi.JS.Bool}),this.formGroup.controls.tagType.disable()):this.formGroup.controls.tagType.disable()}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}validateName(){return t=>{this.error=null;const i=t?.value;return-1!==this.existingNames.indexOf(i)?{name:this.translateService.instant("msg.device-tag-exist")}:i?.includes("@")?{name:this.translateService.instant("msg.device-tag-invalid-char")}:null}}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-modbus"]],outputs:{result:"result"},decls:54,vars:39,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],["formControlName","tagMemoryAddress"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagType"],["numberOnly","","formControlName","tagAddress","type","number","min","0"],["numberOnly","","formControlName","tagDivisor","type","number"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,O9,2,1,"span",8),e.k0s(),e.j41(18,"div",6)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",9),e.DNE(23,L9,2,2,"mat-option",10),e.nI1(24,"enumToArray"),e.k0s()(),e.j41(25,"div",6)(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"mat-select",11),e.DNE(30,Y9,2,2,"mat-option",10),e.nI1(31,"enumToArray"),e.k0s()(),e.j41(32,"div",6)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"input",12),e.k0s(),e.j41(37,"div",6)(38,"span"),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.nrm(41,"input",13),e.k0s(),e.j41(42,"div",6)(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.nrm(46,"input",14),e.k0s()(),e.j41(47,"div",15)(48,"button",16),e.bIt("click",function(){return n.onNoClick()}),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"button",17),e.bIt("click",function(){return n.onOkClick()}),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,15,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,17,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,19,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(3),e.JRh(e.bMT(21,21,"device.tag-property-register")),e.R7$(3),e.Y8G("ngForOf",e.bMT(24,23,n.memAddress)),e.R7$(4),e.JRh(e.bMT(28,25,"device.tag-property-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(31,27,n.tagType)),e.R7$(4),e.JRh(e.bMT(35,29,"device.tag-property-address-offset")),e.R7$(5),e.JRh(e.bMT(40,31,"device.tag-property-divisor")),e.R7$(5),e.JRh(e.bMT(45,33,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(50,35,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(53,37,"dlg.ok")))},dependencies:[l.Sq,l.bT,Fn,k,Zn,qe,Ke,qn,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Hs,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})();function j9(r,o){if(1&r&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}function G9(r,o){if(1&r&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}let U9=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;tagType=Gi.q9;existingNames=[];error;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagType:[this.data.tag.type],tagInit:[this.data.tag.init],tagDescription:[this.data.tag.description]}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}validateName(){return t=>{this.error=null;const i=t?.value;return-1!==this.existingNames.indexOf(i)?{name:this.translateService.instant("msg.device-tag-exist")}:i?.includes("@")?{name:this.translateService.instant("msg.device-tag-invalid-char")}:null}}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-internal"]],outputs:{result:"result"},decls:43,vars:30,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],[1,"item-combi"],[1,"my-form-field","item-inline","mt10"],["formControlName","tagType"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","item-inline","mt10","ftr","mr5"],["numberOnly","","formControlName","tagInit","type","text"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,j9,2,1,"span",8),e.k0s(),e.j41(18,"div",9)(19,"div",10)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"mat-select",11),e.DNE(24,G9,2,2,"mat-option",12),e.nI1(25,"enumToArray"),e.k0s()(),e.j41(26,"div",13)(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"input",14),e.k0s()(),e.j41(31,"div",6)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"input",15),e.k0s()(),e.j41(36,"div",16)(37,"button",17),e.bIt("click",function(){return n.onNoClick()}),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"button",18),e.bIt("click",function(){return n.onOkClick()}),e.EFF(41),e.nI1(42,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,12,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,14,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,16,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(4),e.JRh(e.bMT(22,18,"device.tag-property-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(25,20,n.tagType)),e.R7$(4),e.JRh(e.bMT(29,22,"device.tag-property-initvalue")),e.R7$(5),e.JRh(e.bMT(34,24,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(39,26,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(42,28,"dlg.ok")))},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Hs,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]{width:calc(50% - 10px);display:inline-block}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%}"]})}return r})();var BA=ie(3131);let z9=(()=>{class r{vcr;tpl;iterableDiffers;lazyForContainer;itemHeight;itemTagName;set lazyForOf(t){this.list=t,t&&(this.differ=this.iterableDiffers.find(t).create(),this.initialized&&this.update())}templateElem;beforeListElem;afterListElem;list=[];initialized=!1;firstUpdate=!0;differ;lastChangeTriggeredByScroll=!1;constructor(t,i,n){this.vcr=t,this.tpl=i,this.iterableDiffers=n}ngOnInit(){this.templateElem=this.vcr.element.nativeElement,this.lazyForContainer=this.templateElem.parentElement,this.lazyForContainer.addEventListener("scroll",()=>{this.lastChangeTriggeredByScroll=!0}),this.initialized=!0}ngDoCheck(){this.differ&&Array.isArray(this.list)&&(this.lastChangeTriggeredByScroll?(this.update(),this.lastChangeTriggeredByScroll=!1):null!==this.differ.diff(this.list)&&this.update())}update(){if(0===this.list.length)return this.vcr.clear(),void(this.firstUpdate||(this.beforeListElem.style.height="0",this.afterListElem.style.height="0"));this.firstUpdate&&this.onFirstUpdate();const t=this.lazyForContainer.clientHeight,i=this.lazyForContainer.scrollTop,n=this.beforeListElem.getBoundingClientRect().top-this.beforeListElem.scrollTop-(this.lazyForContainer.getBoundingClientRect().top-this.lazyForContainer.scrollTop);this.vcr.clear();let a=Math.floor((i-n)/this.itemHeight);a=this.limitToRange(a,0,this.list.length);let s=Math.ceil((i-n+t)/this.itemHeight);s=this.limitToRange(s,-1,this.list.length-1);for(let d=a;d<=s;d++)this.vcr.createEmbeddedView(this.tpl,{$implicit:this.list[d],index:d});this.beforeListElem.style.height=a*this.itemHeight+"px",this.afterListElem.style.height=(this.list.length-s-1)*this.itemHeight+"px"}onFirstUpdate(){let t;(void 0===this.itemHeight||void 0===this.itemTagName)&&(this.vcr.createEmbeddedView(this.tpl,{$implicit:this.list[0],index:0}),t=this.templateElem.nextSibling||this.templateElem.previousSibling,void 0===this.itemHeight&&(this.itemHeight=t?.clientHeight),void 0===this.itemTagName&&(this.itemTagName=t?.tagName)),this.beforeListElem=document.createElement(this.itemTagName),this.templateElem.parentElement.insertBefore(this.beforeListElem,this.templateElem),this.afterListElem=document.createElement(this.itemTagName),this.templateElem.parentElement.insertBefore(this.afterListElem,this.templateElem.nextSibling),"li"===this.itemTagName.toLowerCase()&&(this.beforeListElem.style.listStyleType="none",this.afterListElem.style.listStyleType="none"),this.firstUpdate=!1}limitToRange(t,i,n){return Math.max(Math.min(t,n),i)}static \u0275fac=function(i){return new(i||r)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(e._q3))};static \u0275dir=e.FsC({type:r,selectors:[["","lazyFor",""]],inputs:{lazyForOf:"lazyForOf"}})}return r})();const H9=["treetable"];function V9(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"expand_more"),e.k0s())}function J9(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"chevron_right"),e.k0s())}const W9=function(r){return{display:r}};function K9(r,o){if(1&r&&(e.j41(0,"div",15),e.nrm(1,"mat-spinner",16),e.k0s()),2&r){const t=e.XpG(3).$implicit;e.Y8G("ngStyle",e.eq3(1,W9,t.expanded?"inline-block":"none"))}}function X9(r,o){1&r&&(e.j41(0,"button",17)(1,"mat-icon"),e.EFF(2,"label"),e.k0s()())}function Z9(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",18),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.checked=n)})("change",function(n){e.eBV(t);const a=e.XpG(3).$implicit,s=e.XpG();return e.Njj(s.changeStatus(a,n))}),e.k0s()}if(2&r){const t=e.XpG(3).$implicit;e.Y8G("ngModel",t.checked)("disabled",!t.enabled)}}function $9(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",7)(2,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG();return e.Njj(a.onExpandToggle(n))}),e.DNE(3,V9,2,0,"mat-icon",9),e.DNE(4,J9,2,0,"mat-icon",9),e.k0s(),e.DNE(5,K9,2,3,"div",10),e.DNE(6,X9,3,0,"button",11),e.EFF(7),e.k0s(),e.j41(8,"div",12),e.EFF(9),e.k0s(),e.j41(10,"div",13),e.DNE(11,Z9,1,2,"mat-checkbox",14),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(1),e.xc7("left",15*t.childPos,"px")("width",500-15*t.childPos,"px"),e.R7$(1),e.Y8G("disabled",!t.childs),e.R7$(1),e.Y8G("ngIf",t.expanded),e.R7$(1),e.Y8G("ngIf",!t.expanded),e.R7$(1),e.Y8G("ngIf",!t.childs.length),e.R7$(1),e.Y8G("ngIf",t.class===i.nodeType.Variable),e.R7$(1),e.SpI(" ",t.text," "),e.R7$(1),e.xc7("left",15*t.childPos,"px"),e.R7$(1),e.SpI(" ",t.property," "),e.R7$(2),e.Y8G("ngIf",t.class===i.nodeType.Variable||t.class===i.nodeType.Object&&t.expanded)}}function q9(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"expand_more"),e.k0s())}function eJ(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"chevron_right"),e.k0s())}function tJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3).$implicit,a=e.XpG();return e.Njj(a.onExpandToggle(n))}),e.DNE(1,q9,2,0,"mat-icon",9),e.DNE(2,eJ,2,0,"mat-icon",9),e.k0s()}if(2&r){const t=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngIf",t.expanded),e.R7$(1),e.Y8G("ngIf",!t.expanded)}}function iJ(r,o){1&r&&(e.j41(0,"button",23)(1,"mat-icon"),e.EFF(2,"label"),e.k0s()())}function nJ(r,o){if(1&r&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function rJ(r,o){if(1&r&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function oJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"span",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",25),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.todefine.id=n)}),e.DNE(5,nJ,2,2,"mat-option",26),e.k0s(),e.j41(6,"span",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"mat-select",25),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.todefine.value=n)}),e.DNE(10,rJ,2,2,"mat-option",26),e.k0s()()}if(2&r){const t=e.XpG(3).$implicit;e.R7$(2),e.JRh(e.bMT(3,6,"device.tag-array-id")),e.R7$(2),e.Y8G("value",t.todefine.id),e.R7$(1),e.Y8G("ngForOf",t.todefine.options),e.R7$(2),e.JRh(e.bMT(8,8,"device.tag-array-value")),e.R7$(2),e.Y8G("value",t.todefine.value),e.R7$(1),e.Y8G("ngForOf",t.todefine.options)}}function aJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",18),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.checked=n)})("change",function(n){e.eBV(t);const a=e.XpG(3).$implicit,s=e.XpG();return e.Njj(s.changeStatus(a,n))}),e.k0s()}if(2&r){const t=e.XpG(3).$implicit;e.Y8G("ngModel",t.checked)("disabled",!t.enabled)}}function sJ(r,o){if(1&r&&(e.j41(0,"div")(1,"div",7),e.DNE(2,tJ,3,2,"button",19),e.DNE(3,iJ,3,0,"button",20),e.EFF(4),e.DNE(5,oJ,11,10,"div",9),e.k0s(),e.j41(6,"div",21),e.EFF(7),e.k0s(),e.j41(8,"div",13),e.EFF(9," \xa0 "),e.DNE(10,aJ,1,2,"mat-checkbox",14),e.k0s()()),2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(1),e.xc7("left",15*t.childPos,"px")("width",600-15*t.childPos,"px"),e.R7$(1),e.Y8G("ngIf",t.expandable),e.R7$(1),e.Y8G("ngIf",t.class===i.nodeType.Variable||t.class===i.nodeType.Item),e.R7$(1),e.SpI(" ",t.text," "),e.R7$(1),e.Y8G("ngIf",t.class===i.nodeType.Array),e.R7$(1),e.xc7("left",15*t.childPos,"px"),e.R7$(1),e.SpI(" ",t.property," "),e.R7$(3),e.Y8G("ngIf",t.text&&t.class===i.nodeType.Variable)}}function lJ(r,o){if(1&r&&(e.j41(0,"div",5),e.DNE(1,$9,12,14,"div",6),e.DNE(2,sJ,11,12,"div",6),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("ngSwitch",t.treeType),e.R7$(1),e.Y8G("ngSwitchCase",t.TypeOfTree.Standard),e.R7$(1),e.Y8G("ngSwitchCase",t.TypeOfTree.ToDefine)}}function cJ(r,o){if(1&r&&(e.j41(0,"div",3),e.DNE(1,lJ,3,3,"div",4),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.Y8G("ngIf",t.visible)}}let E_=(()=>{class r{config;expand=new e.bkB;treetable;TypeOfTree=M_;treeType=M_.Standard;nodeType=MA;nodes={};list=[];containerProperty={width:"100%",height:"100%"};constructor(){}ngOnInit(){this.config&&(this.config.width&&(this.containerProperty.width=this.config.width),this.config.height&&(this.containerProperty.height=this.config.height),this.config.type===M_.ToDefine&&(this.treeType=M_.ToDefine))}onExpandToggle(t){const i=this.treetable.nativeElement.scrollTop;t.expanded=!t.expanded,t.expanded?(t.childs.length||this.expand.emit(t),this.hideNode(t,!0)):this.hideNode(t,!1),this.list=this.nodeToItems(this.treeType!==M_.ToDefine),setTimeout(()=>{this.treetable.nativeElement.scrollTop=i},1)}hideNode(t,i){Object.values(t.childs).forEach(n=>{n.visible=i,this.hideNode(n,i&&n.expanded)})}addNode(t,i,n,a){i&&(t.setParent(this.nodes[i.id]),t.parent&&(t.parent.waiting=!1),t.enabled=n,n||(t.checked=!0)),a&&(t.enabled=n,n||(t.checked=!0)),Object.keys(this.nodes).indexOf(t.id)<0&&(this.nodes[t.id]=t)}update(t=!0){this.list=this.nodeToItems(t)}setNodeProperty(t,i){this.nodes[t.id]&&(this.nodes[t.id].property=i,this.nodes[t.id].type=t.type)}nodeToItems(t=!0){if(this.nodes&&Object.values(this.nodes).length){let i=[];return Object.values(this.nodes).forEach(n=>{n.visible&&i.push(n)}),t?i.sort((n,a)=>n.path>a.path?1:-1):i}return[]}changeStatus(t,i){t.childs&&t.childs.length>0&&t.childs.forEach(n=>{n.enabled&&n.class===this.nodeType.Variable&&(n.checked=t.checked)})}expandable(t){return t===MA.Object}getDefinedKey(t){return""}getToDefineOptions(t){return Object.keys(t.options)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-treetable"]],viewQuery:function(i,n){if(1&i&&e.GBs(H9,7),2&i){let a;e.mGM(a=e.lsd())&&(n.treetable=a.first)}},inputs:{config:"config"},outputs:{expand:"expand"},decls:3,vars:5,consts:[[1,"container"],["treetable",""],["class","item",4,"lazyFor","lazyForOf"],[1,"item"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"item-text"],["mat-icon-button","",3,"disabled","click"],[4,"ngIf"],["class","item-waiting","style","width:40px",3,"ngStyle",4,"ngIf"],["mat-icon-button","","enabled","false",4,"ngIf"],[1,"item-property"],[1,"item-check"],[3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],[1,"item-waiting",2,"width","40px",3,"ngStyle"],["diameter","20"],["mat-icon-button","","enabled","false"],[3,"ngModel","disabled","ngModelChange","change"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",4,"ngIf"],[1,"item-info"],["mat-icon-button","",3,"click"],["mat-icon-button",""],[2,"margin-left","15px","margin-right","5px"],[2,"width","120px",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.DNE(2,cJ,2,1,"div",2),e.k0s()),2&i&&(e.xc7("height",n.containerProperty.height)("width",n.containerProperty.width),e.R7$(2),e.Y8G("lazyForOf",n.list))},dependencies:[l.Sq,l.bT,l.B3,l.ux,l.e1,qe,tn,Ur,zn,xh,Kn,Id,yo,z9,Vi.D9],styles:[".container[_ngcontent-%COMP%]{overflow:auto}.item[_ngcontent-%COMP%]{width:100%;height:40px}.item[_ngcontent-%COMP%]:hover{background-color:#0000001a}.item-text[_ngcontent-%COMP%]{width:500px;position:relative;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;overflow-wrap:break-word;text-overflow:ellipsis;white-space:nowrap}.item-property[_ngcontent-%COMP%]{position:relative;width:400px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:40px}.item-info[_ngcontent-%COMP%]{position:relative;width:200px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:40px}.item-check[_ngcontent-%COMP%]{float:right;margin-right:20px;line-height:32px}.item-waiting[_ngcontent-%COMP%]{display:inline-block;height:40;vertical-align:middle;overflow:hidden}"]})}return r})(),B_=(()=>{class r{static SEPARATOR=">";id="";path="";text="";class;childPos=0;expandable=!0;expanded=!1;visible=!0;parent=null;property="";type="";checked=!1;childs=[];waiting=!0;enabled=!0;todefine=null;constructor(t,i){this.id=t,this.text=i,this.path=this.text}setParent(t){t&&(this.parent=t,this.path=t.path+r.SEPARATOR+this.text,this.childPos=t.childPos+1,this.parent.childs.push(this))}setToDefine(){this.todefine={options:[""],id:"",value:""}}addToDefine(t){this.todefine&&-1===this.todefine.options.indexOf(t)&&this.todefine.options.push(t)}static strToType(t){return MA[t]?MA[t]:t}}return r})();var MA=function(r){return r[r.Unspecified=0]="Unspecified",r[r.Object=1]="Object",r[r.Variable=2]="Variable",r[r.Methode=4]="Methode",r[r.ObjectType=8]="ObjectType",r[r.VariableType=16]="VariableType",r[r.ReferenceType=32]="ReferenceType",r[r.DataType=64]="DataType",r[r.View=128]="View",r[r.Array=256]="Array",r[r.Item=512]="Item",r[r.Reference=1024]="Reference",r}(MA||{}),M_=function(r){return r.Standard="standard",r.ToDefine="todefine",r}(M_||{});function AJ(r,o){1&r&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.tag-property-title")," "))}function dJ(r,o){1&r&&(e.EFF(0),e.nI1(1,"translate")),2&r&&e.SpI(" ",e.bMT(1,1,"device.browsetag-property-title")," ")}function uJ(r,o){if(1&r&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function hJ(r,o){if(1&r&&(e.qex(0),e.j41(1,"div",9)(2,"div",10)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"input",11),e.k0s(),e.j41(7,"div",12)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",13),e.k0s(),e.j41(12,"div",12)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",14),e.DNE(17,uJ,2,2,"mat-option",15),e.nI1(18,"enumToArray"),e.k0s()(),e.j41(19,"div",12)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",16),e.k0s()(),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.formGroup),e.R7$(3),e.JRh(e.bMT(5,6,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(10,8,"device.tag-property-name")),e.R7$(5),e.JRh(e.bMT(15,10,"device.tag-property-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(18,12,t.tagType)),e.R7$(4),e.JRh(e.bMT(22,14,"device.tag-property-description"))}}function pJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",18)(1,"ngx-treetable",19,20),e.bIt("expand",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.queryNext(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("config",t.config)}}let gO=(()=>{class r{fb;hmiService;dialogRef;data;formGroup;result=new e.bkB;destroy$=new An.B;treetable;tagType=Gi.bI;config={height:"640px",width:"1000px"};constructor(t,i,n,a){this.fb=t,this.hmiService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.data.tag?this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,j.required],tagType:[this.data.tag.type],tagDescription:[this.data.tag.description]}):(this.hmiService.onDeviceBrowse.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.data.device.id===t.device&&(t.error?this.addError(t.node,t.error):this.addNodes(t.node,t.result))}),this.hmiService.onDeviceNodeAttribute.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.data.device.id===t.device&&(t.error||t.node&&(t.node.attribute[14]&&(t.node.type=t.node.attribute[14]),this.treetable.setNodeProperty(t.node,this.attributeToString(t.node.attribute))))}),this.queryNext(null))}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}queryNext(t){let i=t?{id:t.id}:null;t&&(i.parent=t.parent?t.parent.id:null),this.hmiService.askDeviceBrowse(this.data.device.id,i)}addNodes(t,i){if(i){let n=Object.values(this.data.device.tags);i.forEach(a=>{let s=new B_(a.id,a.name);s.class=a.class,s.property=this.getProperty(a);let d=!0;s.class===MA.Variable&&n.find(I=>I.address===a.id)&&(d=!1),this.treetable.addNode(s,t,d,!1),s.class===MA.Variable&&this.hmiService.askNodeAttributes(this.data.device.id,a)}),this.treetable.update()}}attributeToString(t){let i="";return t&&Object.values(t).forEach(n=>{i.length&&(i+=", "),i+=n}),i}getProperty(t){return"Object"===t.class?"":"Variable"===t.class?"Variable":"Method"===t.class?"Method":""}addError(t,i){}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.tag?this.result.emit(this.formGroup.getRawValue()):(this.data.nodes=[],Object.keys(this.treetable.nodes).forEach(t=>{let i=this.treetable.nodes[t];i.checked&&i.enabled&&(i.type||!i.childs||0==i.childs.length)&&this.data.nodes.push(this.treetable.nodes[t])}),this.result.emit(this.data))}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(BA.Ih),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-opcua"]],viewQuery:function(i,n){if(1&i&&e.GBs(E_,5),2&i){let a;e.mGM(a=e.lsd())&&(n.treetable=a.first)}},outputs:{result:"result"},decls:18,vars:10,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[4,"ngIf","ngIfElse"],["mode",""],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",2,"display","contents"],["addTag",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"container",3,"formGroup"],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text","readonly",""],["formControlName","tagType"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagDescription","type","text"],[3,"value"],[2,"overflow","auto"],[3,"config","expand"],["treetable",""]],template:function(i,n){if(1&i&&(e.j41(0,"div")(1,"h1",0),e.DNE(2,AJ,3,3,"ng-container",1),e.DNE(3,dJ,2,3,"ng-template",null,2,e.C5r),e.k0s(),e.j41(5,"mat-icon",3),e.bIt("click",function(){return n.onNoClick()}),e.EFF(6,"clear"),e.k0s(),e.j41(7,"div",4),e.DNE(8,hJ,24,16,"ng-container",1),e.DNE(9,pJ,3,1,"ng-template",null,5,e.C5r),e.k0s(),e.j41(11,"div",6)(12,"button",7),e.bIt("click",function(){return n.onNoClick()}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",8),e.bIt("click",function(){return n.onOkClick()}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()),2&i){const a=e.sdS(4),s=e.sdS(10);e.R7$(2),e.Y8G("ngIf",n.data.tag)("ngIfElse",a),e.R7$(6),e.Y8G("ngIf",n.data.tag)("ngIfElse",s),e.R7$(5),e.JRh(e.bMT(14,6,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(17,8,"dlg.ok"))}},dependencies:[l.Sq,l.bT,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,E_,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})(),fJ=(()=>{class r{hmiService;dialogRef;data;result=new e.bkB;destroy$=new An.B;treetable;config={height:"640px",width:"1000px"};constructor(t,i,n){this.hmiService=t,this.dialogRef=i,this.data=n}ngOnInit(){this.hmiService.onDeviceBrowse.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.data.device.id===t.device&&(t.error?this.addError(t.node,t.error):this.addNodes(t.node,t.result))}),this.hmiService.onDeviceNodeAttribute.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.data.device.id===t.device&&(t.error||t.node&&(t.node.attribute[14]&&(t.node.type=t.node.attribute[14]),this.treetable.setNodeProperty(t.node,this.attributeToString(t.node.attribute))))}),this.queryNext(null)}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}queryNext(t){let i=t?{id:t.id}:null;t&&(i.parent=t.parent?t.parent.id:null),this.hmiService.askDeviceBrowse(this.data.device.id,i)}addNodes(t,i){if(i){let n=Object.values(this.data.device.tags);i.forEach(a=>{let s=new B_(a.id,a.name);s.class=a.class,s.property=this.getProperty(a),s.class=B_.strToType(a.class),s.type=a.type;var d=Object.values(Gi.f0)[a.type];d&&(s.property=d);let m=!0;s.class===MA.Variable&&n.find(J=>J.address===a.id)&&(m=!1),this.treetable.addNode(s,t,m,!1)}),this.treetable.update()}}attributeToString(t){let i="";return t&&Object.values(t).forEach(n=>{i.length&&(i+=", "),i+=n}),i}getProperty(t){return"Object"===t.class?"":"Variable"===t.class?"Variable":"Method"===t.class?"Method":""}addError(t,i){}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.nodes=[],Object.keys(this.treetable.nodes).forEach(t=>{let i=this.treetable.nodes[t];i.checked&&i.enabled&&(i.type||!i.childs||0==i.childs.length)&&this.data.nodes.push(this.treetable.nodes[t])}),this.result.emit(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(BA.Ih),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-bacnet"]],viewQuery:function(i,n){if(1&i&&e.GBs(E_,5),2&i){let a;e.mGM(a=e.lsd())&&(n.treetable=a.first)}},outputs:{result:"result"},decls:17,vars:10,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",2,"display","contents"],[2,"overflow","auto"],[3,"config","expand"],["treetable",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"ngx-treetable",4,5),e.bIt("expand",function(s){return n.queryNext(s)}),e.k0s()()(),e.j41(10,"div",6)(11,"button",7),e.bIt("click",function(){return n.onNoClick()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",8),e.bIt("click",function(){return n.onOkClick()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,4,"device.browsetag-property-title")),e.R7$(6),e.Y8G("config",n.config),e.R7$(4),e.JRh(e.bMT(13,6,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(16,8,"dlg.ok")))},dependencies:[zn,Or,eo,Rr,Kn,Wr,E_,Vi.D9],styles:["[_nghost-%COMP%]{display:block}"]})}return r})(),gJ=(()=>{class r{hmiService;dialogRef;data;result=new e.bkB;destroy$=new An.B;treetable;config={height:"640px",width:"1000px",type:"todefine"};constructor(t,i,n){this.hmiService=t,this.dialogRef=i,this.data=n}ngOnInit(){this.hmiService.onDeviceWebApiRequest.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{t.result&&(this.addTreeNodes(t.result),this.treetable.update(!1))}),this.hmiService.askWebApiProperty(this.data.device.property)}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}queryNext(t){let i=t?{id:t.id}:null;t&&(i.parent=t.parent?t.parent.id:null),this.hmiService.askDeviceBrowse(this.data.device.id,i)}addTreeNodes(t,i="",n=null){let a=i;n&&n.id&&(a=n.id+":"+a);let d=new B_(a,i);if(d.parent=n,Array.isArray(t)){d.class=MA.Array,d.setToDefine(),d.expanded=!0,this.treetable.addNode(d,n,!0);let I=0;for(var m in t)this.addTreeNodes(t[m],"["+I+++"]",d)}else if(t&&"object"==typeof t)for(var m in d.expanded=!0,d.class=MA.Object,this.treetable.addNode(d,n,!0),t)this.addTreeNodes(t[m],m,d),n&&n.addToDefine(m);else{d.expandable=!1,d.class=MA.Variable,d.childs=[],d.property=t;let I=!0;const J=Object.values(this.data.device.tags).find(oe=>oe.address===a);d.parent&&d.parent.parent&&d.parent.parent.class===MA.Array?(d.class=MA.Item,!d.parent.parent.todefine.id&&this.data.device.tags[a]&&this.data.device.tags[a].options&&(d.parent.parent.todefine.id=this.data.device.tags[a].options.selid,d.parent.parent.todefine.value=this.data.device.tags[a].options.selval)):J&&(I=!1),this.treetable.addNode(d,n,I)}}getSelectedTreeNodes(t,i){let n=[];for(let a in t){let s=t[a];if(s.class===MA.Array&&s.todefine&&s.todefine.id&&s.todefine.value){let d=this.getSelectedTreeNodes(s.childs,s.todefine);for(let m in d)n.push(d[m])}else if(s.class===MA.Object&&i&&i.id&&i.value){let d=null,m=null;for(let I in s.childs){let J=s.childs[I];J.text===i.id?d=J:J.text===i.value&&(m=J)}if(d&&m){let I=new B_(d.id,d.property);I.class=MA.Reference,I.property=m.id,I.todefine={selid:d.text,selval:m.text},I.type=ii.Aq.getType(m.property),I.checked=!0,I.enabled=s.enabled,Object.values(this.data.device.tags).find(oe=>oe.address===I.id&&oe.memaddress===I.property)&&(I.enabled=!1),n.push(I)}}else if(s.class===MA.Variable&&s.checked){let d=new B_(s.id,s.text);d.type=ii.Aq.getType(s.property),d.checked=s.checked,d.enabled=s.enabled,n.push(d)}}return n}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.nodes=[],this.getSelectedTreeNodes(Object.values(this.treetable.nodes),null).forEach(i=>{i.checked&&i.enabled&&this.data.nodes.push(i)}),this.result.emit(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(BA.Ih),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-webapi"]],viewQuery:function(i,n){if(1&i&&e.GBs(E_,5),2&i){let a;e.mGM(a=e.lsd())&&(n.treetable=a.first)}},outputs:{result:"result"},decls:17,vars:10,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",2,"display","contents"],[2,"overflow","auto"],[3,"config","expand"],["treetable",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"ngx-treetable",4,5),e.bIt("expand",function(s){return n.queryNext(s)}),e.k0s()()(),e.j41(10,"div",6)(11,"button",7),e.bIt("click",function(){return n.onNoClick()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",8),e.bIt("click",function(){return n.onOkClick()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,4,"device.browsetag-property-title")),e.R7$(6),e.Y8G("config",n.config),e.R7$(4),e.JRh(e.bMT(13,6,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(16,8,"dlg.ok")))},dependencies:[zn,Or,eo,Rr,Kn,Wr,E_,Vi.D9],styles:["[_nghost-%COMP%]{display:block}"]})}return r})();function mJ(r,o){if(1&r&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}let vJ=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;existingNames=[];error;destroy$=new An.B;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagAddress:[this.data.tag.address,[j.required]],tagDescription:[this.data.tag.description]}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}validateName(){return t=>{this.error=null;const i=t?.value;return-1!==this.existingNames.indexOf(i)?{name:this.translateService.instant("msg.device-tag-exist")}:i?.includes("@")?{name:this.translateService.instant("msg.device-tag-invalid-char")}:null}}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-ethernetip"]],outputs:{result:"result"},decls:35,vars:24,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],["numberOnly","","formControlName","tagAddress","type","text"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,mJ,2,1,"span",8),e.k0s(),e.j41(18,"div",6)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"input",9),e.k0s(),e.j41(23,"div",6)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"input",10),e.k0s()(),e.j41(28,"div",11)(29,"button",12),e.bIt("click",function(){return n.onNoClick()}),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"button",13),e.bIt("click",function(){return n.onOkClick()}),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,10,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,12,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,14,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(3),e.JRh(e.bMT(21,16,"device.tag-property-address-sample")),e.R7$(5),e.JRh(e.bMT(26,18,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(31,20,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(34,22,"dlg.ok")))},dependencies:[l.bT,Fn,k,qe,Ke,Pr,kt,zn,Or,eo,Rr,Kn,Wr,Hs,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})();function _J(r,o){if(1&r&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}function yJ(r,o){if(1&r&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}let bJ=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;tagType=Gi.Wb;existingNames=[];error;destroy$=new An.B;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagType:[this.data.tag.type,j.required],tagAddress:[this.data.tag.address,j.required],tagDescription:[this.data.tag.description]}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}validateName(){return t=>(this.error=null,-1!==this.existingNames.indexOf(t.value)?{name:this.translateService.instant("msg.device-tag-exist")}:null)}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-adsclient"]],outputs:{result:"result"},decls:42,vars:30,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],["formControlName","tagType"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagAddress","type","text"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,_J,2,1,"span",8),e.k0s(),e.j41(18,"div",6)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",9),e.DNE(23,yJ,2,2,"mat-option",10),e.nI1(24,"enumToArray"),e.k0s()(),e.j41(25,"div",6)(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",11),e.k0s(),e.j41(30,"div",6)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.nrm(34,"input",12),e.k0s()(),e.j41(35,"div",13)(36,"button",14),e.bIt("click",function(){return n.onNoClick()}),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"button",15),e.bIt("click",function(){return n.onOkClick()}),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,12,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,14,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,16,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(3),e.JRh(e.bMT(21,18,"device.tag-property-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(24,20,n.tagType)),e.R7$(4),e.JRh(e.bMT(28,22,"device.tag-property-address-offset")),e.R7$(5),e.JRh(e.bMT(33,24,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(38,26,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(41,28,"dlg.ok")))},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})(),wJ=(()=>{class r{static tryToParse(t,i=null){if(null==t)return i;if("object"==typeof t)return t;if("string"==typeof t)try{const n=JSON.parse(t);if("object"==typeof n&&null!==n)return n}catch(n){console.warn("tryToParse(): invalid JSON string",n)}return i}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();const CJ=["grptabs"],EJ=["tabsub"],BJ=["tabpub"];function MJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onDiscoveryTopics(n.topicSource))}),e.j41(1,"mat-icon"),e.EFF(2,"search"),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.isSubscriptionEdit())}}function xJ(r,o){1&r&&(e.j41(0,"div",48),e.nrm(1,"mat-spinner",49),e.k0s())}function DJ(r,o){if(1&r&&(e.j41(0,"div",50),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.discoveryError," ")}}const IJ=function(r){return{"topic-active":r}};function kJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",51)(1,"div",52),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.selectTopic(a))}),e.j41(2,"div",53),e.EFF(3),e.k0s(),e.j41(4,"div",54),e.EFF(5),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("ngClass",e.eq3(3,IJ,i.isTopicSelected(t))),e.R7$(2),e.SpI(" ",t.key," "),e.R7$(2),e.SpI(" ",t.value.content," ")}}function TJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",55)(2,"div",56)(3,"input",57),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.name=n)}),e.k0s()(),e.j41(4,"div",56)(5,"input",58),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.key=n)}),e.k0s()(),e.j41(6,"div",54),e.EFF(7),e.k0s(),e.j41(8,"div",59)(9,"mat-checkbox",60),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.checked=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isSubscriptionValid())}),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(3),e.Y8G("ngModel",t.name),e.R7$(2),e.Y8G("ngModel",t.key)("disabled","raw"===i.topicSelectedSubType),e.R7$(2),e.SpI(" ",t.value," "),e.R7$(2),e.Y8G("ngModel",t.checked)("disabled",i.editSubscription)}}function FJ(r,o){if(1&r&&(e.j41(0,"mat-option",72),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function SJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"flex-variable",73),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onSetPublishItemTag(a,n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("variableId",t.value)("withStaticValue",!1)}}function QJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",74)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",75),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.value=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,3,"device.topic-publish-timestamp")),e.R7$(2),e.Y8G("ngModel",t.value)("disabled",!0)}}function RJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",74)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",75),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.value=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,3,"device.topic-publish-value")),e.R7$(2),e.Y8G("ngModel",t.value)("disabled",!0)}}function PJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",74)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",76),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.value=n)})("keyup",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.stringifyPublishItem())}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"device.topic-publish-static")),e.R7$(2),e.Y8G("ngModel",t.value)}}function OJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",61)(1,"div",62)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",63),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.key=n)})("keyup",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.stringifyPublishItem())}),e.k0s()(),e.j41(6,"div",64)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",65),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)})("selectionChange",function(){const a=e.eBV(t).$implicit,s=e.XpG();return s.stringifyPublishItem(),e.Njj(s.onItemTypeChanged(a))}),e.DNE(11,FJ,2,2,"mat-option",66),e.nI1(12,"enumToArray"),e.k0s()(),e.j41(13,"div",67),e.DNE(14,SJ,2,3,"div",68),e.DNE(15,QJ,5,5,"div",69),e.DNE(16,RJ,5,5,"div",69),e.DNE(17,PJ,5,4,"div",69),e.k0s(),e.j41(18,"div",70)(19,"button",71),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemovePublishItem(a))}),e.j41(20,"mat-icon"),e.EFF(21,"clear"),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,11,"device.topic-publish-key")),e.R7$(2),e.Y8G("ngModel",t.key)("disabled","raw"===i.topicSelectedPubType),e.R7$(3),e.JRh(e.bMT(9,13,"device.topic-publish-type")),e.R7$(2),e.Y8G("value",t.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(12,15,i.itemType)),e.R7$(2),e.Y8G("ngSwitch",t.type),e.R7$(1),e.Y8G("ngSwitchCase",i.itemTag),e.R7$(1),e.Y8G("ngSwitchCase",i.itemTimestamp),e.R7$(1),e.Y8G("ngSwitchCase",i.itemValue),e.R7$(1),e.Y8G("ngSwitchCase",i.itemStatic)}}let mO=(()=>{class r{hmiService;translateService;dialogRef;data;grptabs;tabsub;tabpub;subscriptionBrowse;editMode=!1;topicSource="#";topicsList={};topicContent=[];topicSelectedSubType="raw";discoveryError="";discoveryWait=!1;discoveryTimer=null;selectedTopic={name:"",key:"",value:null,subs:null};topicToAdd={};invokeSubscribe=null;invokePublish=null;topicSelectedPubType="raw";publishTopicName;publishTopicPath;pubPayload=new LJ;pubPayloadResult="";itemType=ih;itemTag=ii.Aq.getEnumKey(ih,ih.tag);itemTimestamp=ii.Aq.getEnumKey(ih,ih.timestamp);itemValue=ii.Aq.getEnumKey(ih,ih.value);itemStatic=ii.Aq.getEnumKey(ih,ih.static);editSubscription=!1;constructor(t,i,n,a){this.hmiService=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){if(this.subscriptionBrowse=this.hmiService.onDeviceBrowse.subscribe(i=>{if("error"===i.result)this.discoveryError=i.result;else if(i.topic)if(this.topicsList[i.topic])this.topicsList[i.topic].value=i.msg;else{let n=!1,a=!0;this.data.device.tags[i.topic]&&(n=!0,a=!1),this.topicsList[i.topic]={name:i.topic,content:i.msg,checked:n,enabled:a}}}),Object.keys(this.itemType).forEach(i=>{this.translateService.get(this.itemType[i]).subscribe(n=>{this.itemType[i]=n})}),this.data.topic){let i=this.data.topic;if(i.options)if(i.options.subs){this.editSubscription=!0,this.grptabs.selectedIndex=0,this.tabpub.disabled=!0,this.topicSelectedSubType=i.type,this.editMode=!0;var t={key:i.address,name:i.name,value:{name:i.address},subs:i.options.subs};if("json"===i.type){const n=Object.values(this.data.device.tags).filter(s=>s.address===i.address),a={};i.options.subs.forEach(s=>{a[s]=n.find(d=>d.memaddress===s)}),t.value.content=a}else t.name=i.name,t.value.content=i.value;this.selectTopic(t)}else this.grptabs.selectedIndex=1,this.tabsub.disabled=!0,this.publishTopicPath=i.address,this.publishTopicName=i.name,this.topicSelectedPubType=i.type,i.options.pubs&&(this.pubPayload.items=i.options.pubs)}this.loadSelectedSubTopic(),this.stringifyPublishItem()}ngOnDestroy(){try{this.subscriptionBrowse&&this.subscriptionBrowse.unsubscribe()}catch{}this.discoveryTimer&&clearInterval(this.discoveryTimer),this.discoveryTimer=null}onNoClick(){this.dialogRef.close()}onDiscoveryTopics(t){this.discoveryError="",this.discoveryWait=!0,this.discoveryTimer=setTimeout(()=>{this.discoveryWait=!1},1e4),this.hmiService.askDeviceBrowse(this.data.device.id,t)}onClearDiscovery(){this.topicsList={},this.discoveryError="",this.discoveryWait=!1;try{this.discoveryTimer&&clearInterval(this.discoveryTimer)}catch{}}selectTopic(t){this.selectedTopic=JSON.parse(JSON.stringify(t)),this.loadSelectedSubTopic()}loadSelectedSubTopic(){if(this.topicContent=[],this.selectedTopic.value)if("json"===this.topicSelectedSubType){let t=wJ.tryToParse(this.selectedTopic.value?.content,{});Object.keys(t).forEach(i=>{let n=!this.selectedTopic.subs;this.selectedTopic.subs&&-1!==this.selectedTopic.subs.indexOf(i)&&(n=!0);const a={key:i,value:"",checked:n,type:this.topicSelectedSubType,name:""};t[i]&&(this.editSubscription?(a.name=t[i]?.name||"",a.tag=t[i]):a.value=t[i]),this.topicContent.push(a)})}else(!ii.Aq.isNullOrUndefined(this.selectedTopic.value?.content)||this.editSubscription)&&(this.topicContent=[{name:this.selectedTopic.name,key:this.selectedTopic.key,value:this.selectedTopic.value?.content,checked:!0,type:this.topicSelectedSubType}])}onSubTopicValChange(t){this.loadSelectedSubTopic()}isTopicSelected(t){return this.selectedTopic===t.key}isSubscriptionEdit(){return this.editMode}isSubscriptionValid(){if(this.topicContent&&this.topicContent.length){let t=!1;for(let i=0;i<this.topicContent.length;i++)this.topicContent[i].checked&&(t=!0);return t}return!1}onAddSubscribeAttribute(){(this.selectedTopic.key&&!this.topicContent.length||"json"===this.topicSelectedSubType)&&this.topicContent.push({name:this.selectedTopic.name,key:this.selectedTopic.key,value:this.selectedTopic.value?.content,checked:!0,type:this.topicSelectedSubType})}onSelectedChanged(){"raw"===this.topicSelectedSubType&&this.topicContent.length&&(this.topicContent[0].key=this.selectedTopic.key)}onAddToSubscribe(){if(this.topicContent&&this.topicContent.length&&this.invokeSubscribe){for(let t=0;t<this.topicContent.length;t++)if(this.topicContent[t].checked){let i=new Gi.vw(ii.Aq.getGUID(Gi.jN));this.data.topic&&(i=new Gi.vw(this.topicContent[t]?.tag?.id||this.data.topic.id)),i.type=this.topicSelectedSubType,i.address=this.selectedTopic.key,i.memaddress=this.topicContent[t].key,i.options={subs:this.topicContent.map(n=>n.key)},this.topicContent[t].name?i.name=this.topicContent[t].name:(i.name=this.selectedTopic.key,"json"===i.type&&(i.name+="["+i.memaddress+"]")),this.invokeSubscribe(this.topicContent[t]?.tag||this.data.topic,[i])}}else if(this.selectedTopic.key?.length){let t=new Gi.vw(ii.Aq.getGUID(Gi.jN));t.name=this.selectedTopic.key,t.type="raw",t.address=this.selectedTopic.key,t.memaddress=this.selectedTopic.key,t.options={subs:this.selectedTopic.key},this.invokeSubscribe(this.data.topic,[t])}}isPublishTypeToEnable(t){return!!("raw"===t||this.pubPayload.items&&this.pubPayload.items.length)}onAddToPuplish(){if(this.publishTopicPath&&this.invokePublish){let t=new Gi.vw(ii.Aq.getGUID(Gi.jN));this.data.topic&&(t=new Gi.vw(this.data.topic.id)),t.name=this.publishTopicName,t.address=this.publishTopicPath,t.type=this.topicSelectedPubType,t.options={pubs:this.pubPayload.items},this.invokePublish(this.data.topic,t)}}onPubTopicValChange(t){this.stringifyPublishItem()}onAddPublishItem(){this.pubPayload.items.push(new YJ),this.stringifyPublishItem()}onRemovePublishItem(t){this.pubPayload.items.splice(t,1),this.stringifyPublishItem()}onSetPublishItemTag(t,i){t.value=i.variableId,i.variableRaw&&(t.name=i.variableRaw.address),this.stringifyPublishItem()}onItemTypeChanged(t){t.type===this.itemTimestamp?t.value=(new Date).toISOString():t.type===this.itemStatic?t.value="":t.type===this.itemValue&&(t.name=this.publishTopicPath),this.stringifyPublishItem()}stringifyPublishItem(){let t={},i="";if(this.pubPayload.items.length)for(let n=0;n<this.pubPayload.items.length;n++){let a=this.pubPayload.items[n],s=a.value;if(a.type===this.itemTimestamp?s=(new Date).toISOString():a.type===this.itemTag?s=`$(${a.name})`:a.type===this.itemStatic?s=`${a.value}`:a.type===this.itemValue?(a.value=this.publishTopicPath,s=`$(${a.value})`):s=`${a.value}`,"json"===this.topicSelectedPubType){let d=a.key.split("."),m=t;for(let I=0;I<d.length;I++)m[d[I]]||(m[d[I]]={}),I>=d.length-1&&(m[d[I]]=s),m=m[d[I]]}else i&&(s=";"+s);i+=s}else i=`$(${this.publishTopicPath})`,t={"":i};this.pubPayloadResult="json"===this.topicSelectedPubType?JSON.stringify(t,void 0,2):i}isPublishValid(){return!(!this.publishTopicPath||!this.publishTopicPath.length)}static \u0275fac=function(i){return new(i||r)(e.rXU(BA.Ih),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-topic-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(CJ,7),e.GBs(EJ,7),e.GBs(BJ,7)),2&i){let a;e.mGM(a=e.lsd())&&(n.grptabs=a.first),e.mGM(a=e.lsd())&&(n.tabsub=a.first),e.mGM(a=e.lsd())&&(n.tabpub=a.first)}},decls:99,vars:80,consts:[[2,"width","100%","position","relative"],[2,"width","840px"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move","padding-top","15px"],[2,"float","right","cursor","pointer","color","gray","position","relative","top","10px","right","0px",3,"click"],[2,"width","100%","height","100%"],["grptabs",""],[3,"label"],["tabsub",""],[2,"display","block","margin-bottom","5px","margin-top","10px"],[1,"my-form-field",2,"display","inline-block","margin-right","10px"],["type","text",2,"width","400px",3,"ngModel","disabled","ngModelChange"],["mat-icon-button","","style","display:inline-block;",3,"disabled","click",4,"ngIf"],["style","display:inline-block; margin-left: 10px;width: 30px; vertical-align: middle;",4,"ngIf"],["mat-icon-button","",2,"display","inline-block",3,"disabled","click"],["style","display: block; color: red;",4,"ngIf"],[1,"browser-result"],["class","browser-item",4,"ngFor","ngForOf"],[1,"select-tool"],[1,"my-form-field","select-item"],["type","text",1,"my-form-readonly-input",3,"ngModel","ngModelChange","keyup"],[1,"my-form-field","add-payload"],["mat-icon-button","",3,"disabled","click"],[1,"toggle-group",3,"ngModel","disabled","ngModelChange","change"],["value","raw"],["value","json"],["mat-raised-button","","color","primary",2,"margin-left","20px",3,"disabled","click"],[1,"my-form-field",2,"margin-top","10px","width","100%","overflow-x","hidden"],[2,"display","inline-block","width","230px"],[2,"display","inline-block"],[1,"topic-subscription-result"],[4,"ngFor","ngForOf"],["tabpub",""],[2,"display","block","margin-top","10px"],[1,"my-form-field",2,"display","block","margin-right","10px","margin-bottom","10px"],["type","text",2,"width","400px",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"display","inline-block","margin-right","10px","margin-bottom","10px"],["type","text",2,"width","400px",3,"ngModel","ngModelChange","keyup"],[1,"toggle-group",3,"ngModel","ngModelChange","change"],["value","raw",3,"disabled"],["value","json",3,"disabled"],[1,"my-form-field",2,"display","block"],["mat-icon-button","",3,"click"],[2,"height","200px","border","1px solid var(--formBorder)","padding","5px 5px 3px 8px","overflow","auto","margin-bottom","10px"],["class","item",4,"ngFor","ngForOf"],[1,"my-form-field",2,"display","inline-block","width","826px"],[1,"topic-publish-result",3,"innerHTML"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],[2,"display","inline-block","margin-left","10px","width","30px","vertical-align","middle"],["diameter","20"],[2,"display","block","color","red"],[1,"browser-item"],[1,"topic",3,"ngClass","click"],[1,"topic-text"],[1,"topic-value"],[1,"topic"],[1,"topic-name"],["type","text",3,"ngModel","ngModelChange"],["type","text",3,"ngModel","disabled","ngModelChange"],[1,"topic-check"],["value","true",3,"ngModel","disabled","ngModelChange","change"],[1,"item"],[1,"my-form-field",2,"margin-right","10px"],["type","text",2,"width","140px",3,"ngModel","disabled","ngModelChange","keyup"],[1,"my-form-field",2,"width","120px","margin-right","16px"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[2,"display","inline-block",3,"ngSwitch"],[4,"ngSwitchCase"],["class","my-form-field","style","margin-bottom: 5px;",4,"ngSwitchCase"],[2,"float","right","padding-top","5px"],["mat-icon-button","",1,"remove",3,"click"],[3,"value"],[2,"display","block",3,"data","variableId","withStaticValue","onchange"],[1,"my-form-field",2,"margin-bottom","5px"],["type","text",2,"width","478px",3,"ngModel","disabled","ngModelChange"],["type","text",2,"width","478px",3,"ngModel","ngModelChange","keyup"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-icon",3),e.bIt("click",function(){return n.onNoClick()}),e.EFF(6,"clear"),e.k0s(),e.j41(7,"mat-tab-group",4,5)(9,"mat-tab",6,7),e.nI1(11,"translate"),e.j41(12,"div",8)(13,"div",9)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",10),e.bIt("ngModelChange",function(s){return n.topicSource=s}),e.k0s()(),e.DNE(18,MJ,3,1,"button",11),e.DNE(19,xJ,2,0,"div",12),e.j41(20,"button",13),e.bIt("click",function(){return n.onClearDiscovery()}),e.j41(21,"mat-icon"),e.EFF(22,"delete_outline"),e.k0s()(),e.DNE(23,DJ,2,1,"div",14),e.k0s(),e.j41(24,"div",15),e.DNE(25,kJ,6,5,"div",16),e.nI1(26,"keyvalue"),e.k0s(),e.j41(27,"div",17)(28,"div",18)(29,"span"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"input",19),e.bIt("ngModelChange",function(s){return n.selectedTopic.key=s})("keyup",function(){return n.onSelectedChanged()}),e.k0s()(),e.j41(33,"div",20)(34,"button",21),e.bIt("click",function(){return n.onAddSubscribeAttribute()}),e.j41(35,"mat-icon"),e.EFF(36,"add_circle_outline"),e.k0s()(),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"mat-button-toggle-group",22),e.bIt("ngModelChange",function(s){return n.topicSelectedSubType=s})("change",function(s){return n.onSubTopicValChange(s.value)}),e.j41(40,"mat-button-toggle",23),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"mat-button-toggle",24),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"button",25),e.bIt("click",function(){return n.onAddToSubscribe()}),e.EFF(47),e.nI1(48,"translate"),e.k0s()(),e.j41(49,"div",26)(50,"span",27),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"span",28),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"div",29),e.DNE(57,TJ,10,6,"div",30),e.k0s()()(),e.j41(58,"mat-tab",6,31),e.nI1(60,"translate"),e.j41(61,"div",32)(62,"div",33)(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"input",34),e.bIt("ngModelChange",function(s){return n.publishTopicName=s}),e.k0s()(),e.j41(67,"div",35)(68,"span"),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"input",36),e.bIt("ngModelChange",function(s){return n.publishTopicPath=s})("keyup",function(){return n.stringifyPublishItem()}),e.k0s()(),e.j41(72,"mat-button-toggle-group",37),e.bIt("ngModelChange",function(s){return n.topicSelectedPubType=s})("change",function(s){return n.onPubTopicValChange(s.value)}),e.j41(73,"mat-button-toggle",38),e.EFF(74),e.nI1(75,"translate"),e.k0s(),e.j41(76,"mat-button-toggle",39),e.EFF(77),e.nI1(78,"translate"),e.k0s()(),e.j41(79,"button",25),e.bIt("click",function(){return n.onAddToPuplish()}),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.j41(82,"div",40)(83,"button",41),e.bIt("click",function(){return n.onAddPublishItem()}),e.j41(84,"mat-icon"),e.EFF(85,"add_circle_outline"),e.k0s(),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.j41(88,"div",42),e.DNE(89,OJ,22,17,"div",43),e.k0s(),e.j41(90,"div",44)(91,"span"),e.EFF(92),e.nI1(93,"translate"),e.k0s(),e.nrm(94,"div",45),e.k0s()()()()()(),e.j41(95,"div",46)(96,"button",47),e.bIt("click",function(){return n.onNoClick()}),e.EFF(97),e.nI1(98,"translate"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,40,"device.browsetopics-property-title")," "),e.R7$(6),e.FS9("label",e.bMT(11,42,"device.browsetopics-property-sub")),e.R7$(6),e.JRh(e.bMT(16,44,"device.discovery-topics")),e.R7$(2),e.Y8G("ngModel",n.topicSource)("disabled",n.isSubscriptionEdit()),e.R7$(1),e.Y8G("ngIf",!n.discoveryWait),e.R7$(1),e.Y8G("ngIf",n.discoveryWait),e.R7$(1),e.Y8G("disabled",n.isSubscriptionEdit()),e.R7$(3),e.Y8G("ngIf",n.discoveryError),e.R7$(2),e.Y8G("ngForOf",e.bMT(26,46,n.topicsList)),e.R7$(5),e.JRh(e.bMT(31,48,"device.topic-selected")),e.R7$(2),e.Y8G("ngModel",n.selectedTopic.key),e.R7$(2),e.Y8G("disabled",!n.selectedTopic.key||n.editSubscription),e.R7$(3),e.SpI(" ",e.bMT(38,50,"device.topic-publish-add-item")," "),e.R7$(2),e.Y8G("ngModel",n.topicSelectedSubType)("disabled",n.editSubscription),e.R7$(2),e.JRh(e.bMT(42,52,"device.topic-raw")),e.R7$(3),e.JRh(e.bMT(45,54,"device.topic-json")),e.R7$(2),e.Y8G("disabled",!n.selectedTopic.key||!(null!=n.topicContent&&n.topicContent.length)),e.R7$(1),e.SpI(" ",e.bMT(48,56,"device.topic-subscribe")," "),e.R7$(4),e.JRh(e.bMT(52,58,"device.topic-subscription-name")),e.R7$(3),e.JRh(e.bMT(55,60,"device.topic-subscription-address")),e.R7$(3),e.Y8G("ngForOf",n.topicContent),e.R7$(1),e.FS9("label",e.bMT(60,62,"device.browsetopics-property-pub")),e.R7$(6),e.JRh(e.bMT(65,64,"device.topic-publish-name")),e.R7$(2),e.Y8G("ngModel",n.publishTopicName),e.R7$(3),e.JRh(e.bMT(70,66,"device.topic-publish-path")),e.R7$(2),e.Y8G("ngModel",n.publishTopicPath),e.R7$(1),e.Y8G("ngModel",n.topicSelectedPubType),e.R7$(1),e.Y8G("disabled",!n.isPublishTypeToEnable("raw")),e.R7$(1),e.JRh(e.bMT(75,68,"device.topic-raw")),e.R7$(2),e.Y8G("disabled",!n.isPublishTypeToEnable("json")),e.R7$(1),e.JRh(e.bMT(78,70,"device.topic-json")),e.R7$(2),e.Y8G("disabled",!n.isPublishValid()),e.R7$(1),e.JRh(e.bMT(81,72,"device.topic-publish")),e.R7$(6),e.SpI(" ",e.bMT(87,74,"device.topic-publish-add-item")," "),e.R7$(3),e.Y8G("ngForOf",n.pubPayload.items),e.R7$(3),e.JRh(e.bMT(93,76,"device.topic-publish-content")),e.R7$(2),e.Y8G("innerHTML",n.pubPayloadResult,e.npT),e.R7$(3),e.JRh(e.bMT(98,78,"dlg.close")))},styles:[".topic[_ngcontent-%COMP%]{font-size:12px;width:100%;height:24px;cursor:pointer;margin-bottom:1px}.topic-active[_ngcontent-%COMP%]{width:100%;height:26px;background-color:violet}.browser-result[_ngcontent-%COMP%]{height:240px;border:1px solid var(--formBorder);padding:5px 5px 3px 8px;overflow:auto}.browser-result[_ngcontent-%COMP%]   .browser-item[_ngcontent-%COMP%]:hover{background-color:#0000001a}.select-tool[_ngcontent-%COMP%]{margin-top:10px;display:block}.select-tool[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}.select-tool[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.select-tool[_ngcontent-%COMP%]   .add-payload[_ngcontent-%COMP%]{margin-right:20px}.topic-text[_ngcontent-%COMP%]{width:250px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:24px}.topic-name[_ngcontent-%COMP%]{display:inline-block;width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-family:monospace}.topic-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-family:monospace;background-color:var(--formExtInputBackground);padding:4px 2px 4px 3px!important}.topic-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{padding:3px 1px 3px 2px!important;border:1px solid var(--formInputBorderFocus);background-color:var(--formInputBackgroundFocus)}.topic-value[_ngcontent-%COMP%]{font-size:12px;color:gray;width:280px;display:inline-block;overflow-wrap:break-word;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;line-height:24px}.topic-check[_ngcontent-%COMP%]{float:right;margin-right:12px}.topic-publish-result[_ngcontent-%COMP%]{height:160px;width:100%;background-color:var(--formInputBackground);padding:5px 5px 3px 8px;overflow:auto;white-space:pre;font-family:monospace;font-size:12px}.topic-subscription-result[_ngcontent-%COMP%]{height:160px;background-color:var(--formInputBackground);padding:5px 5px 3px 8px;overflow-y:auto;overflow-x:hidden;white-space:pre;font-family:monospace;font-size:12px}.separator-line[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);height:1px;width:100%}.toggle-group[_ngcontent-%COMP%]{height:29px;align-items:center}"]})}return r})();var ih=function(r){return r.tag="device.topic-type-tag",r.timestamp="device.topic-type-timestamp",r.value="device.topic-type-value",r.static="device.topic-type-static",r}(ih||{});class LJ{items=[]}class YJ{type=ii.Aq.getEnumKey(ih,ih.tag);key="";value="";name}function NJ(r,o){if(1&r&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",null==t.formGroup.controls.tagName.errors?null:t.formGroup.controls.tagName.errors.name," ")}}function jJ(r,o){if(1&r&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function GJ(r,o){if(1&r&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function UJ(r,o){if(1&r&&(e.j41(0,"div",21)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",22),e.DNE(5,GJ,2,2,"mat-option",13),e.nI1(6,"enumToArray"),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"device.tag-property-edge")),e.R7$(3),e.Y8G("ngForOf",e.bMT(6,4,t.edgeType))}}let zJ=(()=>{class r{fb;translateService;dialogRef;data;result=new e.bkB;formGroup;directionType=Gi.Vz;edgeType=Gi.Vl;existingNames=[];error;constructor(t,i,n,a){this.fb=t,this.translateService=i,this.dialogRef=n,this.data=a}ngOnInit(){this.formGroup=this.fb.group({deviceName:[this.data.device.name,j.required],tagName:[this.data.tag.name,[j.required,this.validateName()]],tagAddress:[this.data.tag.address,[j.required]],tagDescription:[this.data.tag.description],tagDirection:[this.data.tag.direction,j.required],tagEdge:[this.data.tag.edge]}),this.formGroup.updateValueAndValidity(),Object.keys(this.data.device.tags).forEach(t=>{let i=this.data.device.tags[t];i.id?i.id!==this.data.tag.id&&this.existingNames.push(i.name):i.name!==this.data.tag.name&&this.existingNames.push(i.name)})}validateName(){return t=>{this.error=null;const i=t?.value;return-1!==this.existingNames.indexOf(i)?{name:this.translateService.instant("msg.device-tag-exist")}:i?.includes("@")?{name:this.translateService.instant("msg.device-tag-invalid-char")}:null}}onNoClick(){this.result.emit()}onOkClick(){this.result.emit(this.formGroup.getRawValue())}GpioDirectionType=Gi.Vz;static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-property-edit-gpio"]],outputs:{result:"result"},decls:44,vars:31,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","deviceName","type","text","readonly",""],[1,"my-form-field","item-block","mt10"],["formControlName","tagName","type","text"],["class","form-input-error",4,"ngIf"],["formControlName","tagAddress","type","text"],[1,"item-combi"],[1,"my-form-field","item-inline","mt10"],["formControlName","tagDirection"],[3,"value",4,"ngFor","ngForOf"],["class","my-form-field item-inline mt10 ftr mr5",4,"ngIf"],["formControlName","tagDescription","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-input-error"],[3,"value"],[1,"my-form-field","item-inline","mt10","ftr","mr5"],["formControlName","tagEdge"]],template:function(i,n){if(1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,NJ,2,1,"span",8),e.k0s(),e.j41(18,"div",6)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"input",9),e.k0s(),e.j41(23,"div",10)(24,"div",11)(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"mat-select",12),e.DNE(29,jJ,2,2,"mat-option",13),e.nI1(30,"enumToArray"),e.k0s()(),e.DNE(31,UJ,7,6,"div",14),e.k0s(),e.j41(32,"div",6)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"input",15),e.k0s()(),e.j41(37,"div",16)(38,"button",17),e.bIt("click",function(){return n.onNoClick()}),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"button",18),e.bIt("click",function(){return n.onOkClick()}),e.EFF(42),e.nI1(43,"translate"),e.k0s()()()),2&i){let a;e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,13,"device.tag-property-title")),e.R7$(7),e.JRh(e.bMT(10,15,"device.tag-property-device")),e.R7$(5),e.JRh(e.bMT(15,17,"device.tag-property-name")),e.R7$(3),e.Y8G("ngIf",null==n.formGroup.controls.tagName.errors?null:n.formGroup.controls.tagName.errors.name),e.R7$(3),e.JRh(e.bMT(21,19,"device.tag-property-gpio")),e.R7$(6),e.JRh(e.bMT(27,21,"device.tag-property-direction")),e.R7$(3),e.Y8G("ngForOf",e.bMT(30,23,n.directionType)),e.R7$(2),e.Y8G("ngIf",(null==(a=n.formGroup.get("tagDirection"))?null:a.value)===n.GpioDirectionType.in),e.R7$(3),e.JRh(e.bMT(35,25,"device.tag-property-description")),e.R7$(5),e.JRh(e.bMT(40,27,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(43,29,"dlg.ok"))}},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]{width:calc(50% - 10px);display:inline-block}[_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-combi[_ngcontent-%COMP%]   .item-inline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%}"]})}return r})(),vO=(()=>{class r{dialog;translateService;toastService;projectService;constructor(t,i,n,a){this.dialog=t,this.translateService=i,this.toastService=n,this.projectService=a}editTagPropertyS7(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(F9,{disableClose:!0,data:{device:t,tag:s},position:{top:"60px"}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.type=m.tagType,i.address=m.tagAddress,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}editTagPropertyServer(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(P9,{disableClose:!0,data:{device:t,tag:s},position:{top:"60px"}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.type=m.tagType,i.init=m.tagInit,i.value=m.tagInit,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}editTagPropertyModbus(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(N9,{disableClose:!0,data:{device:t,tag:s},position:{top:"60px"}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.type=m.tagType,i.address=m.tagAddress,i.memaddress=m.tagMemoryAddress,i.divisor=m.tagDivisor,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}editTagPropertyInternal(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(U9,{disableClose:!0,data:{device:t,tag:s},position:{top:"60px"}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.type=m.tagType,i.init=m.tagInit,i.value=m.tagInit,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}editTagPropertyEthernetIp(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(vJ,{disableClose:!0,data:{device:t,tag:s},position:{top:"60px"}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.address=m.tagAddress,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}addTagsOpcUa(t,i){let n=this.dialog.open(gO,{disableClose:!0,position:{top:"60px"},data:{device:t}});return n.componentInstance.result.pipe((0,h.T)(a=>(a?.nodes.forEach(s=>{let d=new Gi.vw(ii.Aq.getGUID(Gi.jN));d.name=s.text,d.label=s.text,d.type=s.type,d.address=s.id,this.checkToAdd(d,a.device),i&&(i[d.id]=d)}),this.projectService.setDeviceTags(t),n.close(),a)))}editTagPropertyOpcUa(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(gO,{disableClose:!0,position:{top:"60px"},data:{device:t,tag:s}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.type=m.tagType,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}editTagPropertyBacnet(t,i){let n=this.dialog.open(fJ,{disableClose:!0,position:{top:"60px"},data:{device:t}});return n.componentInstance.result.pipe((0,h.T)(a=>(a?.nodes.forEach(s=>{let d=new Gi.vw(ii.Aq.getGUID(Gi.jN));d.name=s.text,d.label=s.text,d.type=s.type,d.address=s.id,d.label=s.text,d.memaddress=s.parent?.id,this.checkToAdd(d,a.device),i&&(i[d.id]=d)}),this.projectService.setDeviceTags(t),n.close(),a)))}editTagPropertyWebapi(t,i){let n=this.dialog.open(gJ,{disableClose:!0,position:{top:"60px"},data:{device:t}});return n.componentInstance.result.pipe((0,h.T)(a=>(a?.nodes.forEach(s=>{let d=new Gi.vw(ii.Aq.getGUID(Gi.jN));d.name=s.text,d.label=s.text,d.type=s.type,d.label=s.text,s.class===MA.Reference&&(d.memaddress=s.property,d.options=s.todefine,d.type=s.type),d.address=s.id,this.checkToAdd(d,a.device),i&&(i[d.id]=d)}),this.projectService.setDeviceTags(t),n.close(),a)))}editTagPropertyMqtt(t,i,n,a){let s=this.dialog.open(mO,{disableClose:!0,panelClass:"dialog-property",data:{device:t,topic:i,devices:this.projectService.getServerDevices()},position:{top:"60px"}});s.componentInstance.invokeSubscribe=(d,m)=>this.addTopicSubscription(t,d,m,n,a),s.componentInstance.invokePublish=(d,m)=>this.addTopicToPublish(t,d,m,n,a),s.afterClosed().subscribe()}editTagPropertyADSclient(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(bJ,{disableClose:!0,data:{device:t,tag:s},position:{top:"60px"}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.address=m.tagAddress,i.type=m.tagType,i.description=m.tagDescription,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}editTagPropertyGpio(t,i,n){let a=i.id,s=ii.Aq.clone(i),d=this.dialog.open(zJ,{disableClose:!0,position:{top:"60px"},data:{device:t,tag:s}});return d.componentInstance.result.pipe((0,h.T)(m=>(m&&(i.name=m.tagName,i.type=m.tagType,i.init=m.tagInit,i.value=m.tagInit,i.description=m.tagDescription,i.address=m.tagAddress,i.direction=m.tagDirection,i.edge=m.tagEdge,n?this.checkToAdd(i,t):i.id!==a&&(delete t.tags[a],this.checkToAdd(i,t)),this.projectService.setDeviceTags(t)),d.close(),m)))}checkToAdd(t,i,n=!1){let a=!1;Object.keys(i.tags).forEach(s=>{i.tags[s].id?i.tags[s].id===t.id&&(a=!0):i.tags[s].name===t.name&&(a=!0)}),a||(i.tags[t.id]=t)}formatAddress(t,i){let n=t;return i&&(n+="["+i+"]"),n}addTopicSubscription(t,i,n,a,s){if(n){let d=Object.values(t.tags).filter(m=>{if(!i||m.id!==i.id)return m.name}).map(m=>m.name);n.forEach(m=>{if(-1!==d.indexOf(m.name)){const I=this.translateService.instant("device.topic-name-exist",{value:m.name});this.notifyError(I)}else{let I=null;if(i||Object.keys(t.tags).forEach(J=>{t.tags[J].address===m.address&&t.tags[J].memaddress===m.memaddress&&t.tags[J].id!=m.id&&t.tags[J].options.subs&&(I=this.formatAddress(m.address,m.memaddress))}),I){const J=this.translateService.instant("device.topic-subs-address-exist",{value:I});this.notifyError(J)}else t.tags[m.id]=m,a[m.id]=m}}),this.projectService.setDeviceTags(t),s&&s()}}addTopicToPublish(t,i,n,a,s){if(n)if(-1!==Object.values(t.tags).filter(m=>{if(!i||m.id!==i.id)return m.name}).map(m=>m.name).indexOf(n.name)){const m=this.translateService.instant("device.topic-name-exist",{value:n.name});this.notifyError(m)}else{let m=null;if(Object.keys(t.tags).forEach(I=>{t.tags[I].address===n.address&&t.tags[I].id!=n.id&&(m=n.address)}),m){const I=this.translateService.instant("device.topic-pubs-address-exist",{value:m});this.notifyError(I)}else t.tags[n.id]=n,a[n.id]=n;this.projectService.setDeviceTags(t),s&&s()}}notifyError(t){this.toastService.error(t,"",{timeOut:3e3,closeButton:!0})}static \u0275fac=function(i){return new(i||r)(e.KVO(Qo),e.KVO(Vi.c$),e.KVO(Gg.tw),e.KVO(kr.TR))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function HJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",22)(1,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClearSelection())}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function VJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",24)(1,"mat-checkbox",25),e.bIt("click",function(n){return n.stopPropagation()})("change",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onToogle(a))})("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.checked=n)}),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(1),e.Y8G("ngModel",t.checked)}}function JJ(r,o){if(1&r&&(e.j41(0,"mat-header-cell",26)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",27),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"device.list-name")),e.R7$(2),e.Y8G("formControl",t.nameFilter)}}function WJ(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function KJ(r,o){if(1&r&&(e.j41(0,"mat-header-cell",26)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",28),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"device.list-address")),e.R7$(2),e.Y8G("formControl",t.addressFilter)}}function XJ(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.address," ")}}function ZJ(r,o){if(1&r&&(e.j41(0,"mat-header-cell",26)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",27),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"device.list-device")),e.R7$(2),e.Y8G("formControl",t.deviceFilter)}}function $J(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.device," ")}}function qJ(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onAddDeviceTag(n))}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.name)}}function eW(r,o){if(1&r&&(e.qex(0),e.DNE(1,qJ,2,1,"button",34),e.bVm()),2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(1),e.Y8G("ngIf",i.isDeviceTagEditable(t.type))}}function tW(r,o){if(1&r&&(e.j41(0,"mat-header-cell",29)(1,"button",30)(2,"mat-icon"),e.EFF(3,"add_circle_outline"),e.k0s()(),e.j41(4,"mat-menu",31,32),e.DNE(6,eW,2,1,"ng-container",33),e.k0s()()),2&r){const t=e.sdS(5),i=e.XpG();e.R7$(1),e.Y8G("matMenuTriggerFor",t),e.R7$(3),e.Y8G("overlapTrigger",!1),e.R7$(2),e.Y8G("ngForOf",i.devices)}}function iW(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",29)(1,"button",36),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSelect(a))}),e.j41(2,"mat-icon"),e.EFF(3,"check"),e.k0s()()()}}function nW(r,o){1&r&&e.nrm(0,"mat-header-row",37)}function rW(r,o){1&r&&e.nrm(0,"mat-row")}const oW=function(){return[10,25,100]};let Jg=(()=>{class r{dialogRef;projectService;tagPropertyService;data;table;sort;paginator;destroy$=new An.B;dataSource=new Ln([]);nameFilter=new _i;addressFilter=new _i;deviceFilter=new _i;tags=[];devices=[];filteredValues={name:"",address:"",device:""};defColumns=["toogle","name","address","device","select"];deviceTagNotEditable=[Gi.bq.MQTTclient,Gi.bq.ODBC];constructor(t,i,n,a){this.dialogRef=t,this.projectService=i,this.tagPropertyService=n,this.data=a,this.loadDevicesTags()}ngOnInit(){this.nameFilter.valueChanges.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.filteredValues.name=t,this.dataSource.filter=JSON.stringify(this.filteredValues)}),this.addressFilter.valueChanges.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.filteredValues.address=t,this.dataSource.filter=JSON.stringify(this.filteredValues)}),this.deviceFilter.valueChanges.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.filteredValues.device=t,this.dataSource.filter=JSON.stringify(this.filteredValues)}),this.dataSource.filterPredicate=this.customFilterPredicate()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}customFilterPredicate(){return(i,n)=>{let a=JSON.parse(n);return-1!==i.name.toString().trim().toLowerCase().indexOf(a.name.toLowerCase())&&(a.address&&i.address&&-1!==i.address?.toString().trim().toLowerCase().indexOf(a.address.toLowerCase())||!a.address)&&-1!==i.device.toString().trim().toLowerCase().indexOf(a.device.toLowerCase())}}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}onToogle(t){t.checked&&!this.data.multiSelection&&this.dataSource.data.forEach(i=>{i.id!==t.id&&(i.checked=!1)})}onClearSelection(){this.dataSource.data.forEach(t=>{t.checked=!1})}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.variableId=null,this.data.variablesId=[],this.dataSource.data.forEach(t=>{t.checked&&(this.data.variableId=t.id,this.data.variablesId.push(t.id))}),this.dialogRef.close(this.data)}onSelect(t,i){this.data.deviceName=i,this.data.variableId=t.id,this.dialogRef.close(this.data)}onAddDeviceTag(t){let i=new Gi.vw(ii.Aq.getGUID(Gi.jN));t.type===Gi.bq.OPCUA?this.tagPropertyService.addTagsOpcUa(t).subscribe(n=>{this.loadDevicesTags()}):t.type===Gi.bq.BACnet?this.tagPropertyService.editTagPropertyBacnet(t).subscribe(n=>{this.loadDevicesTags()}):t.type===Gi.bq.WebAPI?this.tagPropertyService.editTagPropertyWebapi(t).subscribe(n=>{this.loadDevicesTags()}):t.type===Gi.bq.SiemensS7?this.tagPropertyService.editTagPropertyS7(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)}):t.type===Gi.bq.FuxaServer?this.tagPropertyService.editTagPropertyServer(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)}):t.type===Gi.bq.ModbusRTU||t.type===Gi.bq.ModbusTCP?this.tagPropertyService.editTagPropertyModbus(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)}):t.type===Gi.bq.internal?this.tagPropertyService.editTagPropertyInternal(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)}):t.type===Gi.bq.EthernetIP?this.tagPropertyService.editTagPropertyEthernetIp(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)}):t.type===Gi.bq.ADSclient?this.tagPropertyService.editTagPropertyADSclient(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)}):t.type===Gi.bq.GPIO&&this.tagPropertyService.editTagPropertyGpio(t,i,!0).subscribe(n=>{this.loadDevicesTags(i,t.name)})}isDeviceTagEditable(t){return!this.deviceTagNotEditable.includes(t)}loadDevicesTags(t,i){this.tags=[],this.devices=Object.values(this.projectService.getDevices()),this.devices&&this.devices.forEach(n=>{this.data.deviceFilter&&-1!==this.data.deviceFilter.indexOf(n.type)||n.tags&&(this.data.isHistorical?Object.values(n.tags).filter(a=>a.daq.enabled).forEach(a=>{this.tags.push({id:a.id,name:a.name,address:a.address,device:n.name,checked:a.id===this.data.variableId,error:null})}):Object.values(n.tags).forEach(a=>{this.tags.push({id:a.id,name:a.name,address:a.address,device:n.name,checked:a.id===this.data.variableId,error:null})}))}),this.dataSource.data=this.tags,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,t&&i&&this.onSelect({id:t.id},i)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(kr.TR),e.rXU(vO),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-device-tag-selection"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5),e.GBs(Dd,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first),e.mGM(a=e.lsd())&&(n.paginator=a.first)}},decls:33,vars:15,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["matSort","",1,"dialog-mdsd-table",2,"height","620px",3,"dataSource"],["table",""],["matColumnDef","toogle"],["style","padding-left: 5px;padding-right: 10px;",4,"matHeaderCellDef"],["style","padding-left: 15px;",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","","class","my-header-filter",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","address"],["matColumnDef","device"],["matColumnDef","select"],["style","padding-right: 0px;",4,"matHeaderCellDef"],["style","padding-right: 0px;",4,"matCellDef"],["style","min-height: 30px;",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[2,"float","left",3,"pageSizeOptions","pageSize"],["mat-dialog-actions","",1,"dialog-action",2,"padding-top","30px"],["mat-raised-button","","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[2,"padding-left","5px","padding-right","10px"],["mat-icon-button","",1,"remove",3,"click"],[2,"padding-left","15px"],[3,"ngModel","click","change","ngModelChange"],["mat-sort-header","",1,"my-header-filter"],["type","text",1,"my-header-filter-input",2,"width","200px",3,"formControl","click"],["type","text",1,"my-header-filter-input",2,"width","360px",3,"formControl","click"],[2,"padding-right","0px"],["mat-icon-button","",1,"remove",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["devicesMenu",""],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"click"],[2,"min-height","30px"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"mat-table",3,4),e.qex(8,5),e.DNE(9,HJ,4,0,"mat-header-cell",6),e.DNE(10,VJ,2,1,"mat-cell",7),e.bVm(),e.qex(11,8),e.DNE(12,JJ,5,4,"mat-header-cell",9),e.DNE(13,WJ,2,1,"mat-cell",10),e.bVm(),e.qex(14,11),e.DNE(15,KJ,5,4,"mat-header-cell",9),e.DNE(16,XJ,2,1,"mat-cell",10),e.bVm(),e.qex(17,12),e.DNE(18,ZJ,5,4,"mat-header-cell",9),e.DNE(19,$J,2,1,"mat-cell",10),e.bVm(),e.qex(20,13),e.DNE(21,tW,7,3,"mat-header-cell",14),e.DNE(22,iW,4,0,"mat-cell",15),e.bVm(),e.DNE(23,nW,1,0,"mat-header-row",16),e.DNE(24,rW,1,0,"mat-row",17),e.k0s(),e.nrm(25,"mat-paginator",18),e.j41(26,"div",19)(27,"button",20),e.bIt("click",function(){return n.onNoClick()}),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"button",21),e.bIt("click",function(){return n.onOkClick()}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,8,"device-tag-dialog-title")),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(17),e.Y8G("matHeaderRowDef",n.defColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.defColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(14,oW))("pageSize",25),e.R7$(3),e.JRh(e.bMT(29,10,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(32,12,"dlg.ok")))},dependencies:[l.Sq,l.bT,k,qe,tn,ca,zn,xh,Or,Rr,Kn,Gc,rA,tc,Dd,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{min-width:930px}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{min-height:34px;height:34px;border-bottom-color:#0000000f}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]     .mat-checkbox-inner-container{height:16px;width:16px;margin-left:2px}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:11px}[_nghost-%COMP%]   .mat-column-toogle[_ngcontent-%COMP%]{overflow:visible;flex:0 0 40px}[_nghost-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{flex:0 0 220px}[_nghost-%COMP%]   .mat-column-address[_ngcontent-%COMP%]{flex:0 0 380px}[_nghost-%COMP%]   .mat-column-device[_ngcontent-%COMP%]{flex:0 0 220px}[_nghost-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{flex:0 0 40px}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-content{display:unset;text-align:left}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-14px;right:20px}[_nghost-%COMP%]   .my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px;border:1px solid var(--formInputBackground);background-color:var(--formInputBackground);color:var(--formInputColor)}[_nghost-%COMP%]   .my-header-filter-input[_ngcontent-%COMP%]:focus{padding:3px 1px 3px 2px;border:1px solid var(--formInputBorderFocus);background-color:var(--formInputBackgroundFocus)}"]})}return r})();function aW(r,o){if(1&r&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function sW(r,o){if(1&r&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.text," ")}}const _O=function(){return{standalone:!0}};function lW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",30),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.min=n)}),e.k0s()(),e.j41(6,"div",31)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",30),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.max=n)}),e.k0s()(),e.j41(11,"div",20)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",32),e.bIt("colorPickerChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.stroke=n)}),e.k0s()(),e.j41(16,"div",31)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",32),e.bIt("colorPickerChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.fill=n)}),e.k0s()(),e.j41(21,"div",33)(22,"button",34),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemoveZone(a))}),e.j41(23,"mat-icon"),e.EFF(24,"clear"),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,34,"chart.config-line-zone-min")),e.R7$(2),e.Y8G("ngModel",t.min)("ngModelOptions",e.lJ4(42,_O)),e.R7$(3),e.JRh(e.bMT(9,36,"chart.config-line-zone-max")),e.R7$(2),e.Y8G("ngModel",t.max)("ngModelOptions",e.lJ4(43,_O)),e.R7$(3),e.JRh(e.bMT(14,38,"chart.config-line-zone-stroke")),e.R7$(2),e.xc7("background",t.stroke),e.Y8G("cpDialogDisplay","popup")("colorPicker",t.stroke)("cpAlphaChannel","always")("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(3),e.JRh(e.bMT(19,40,"chart.config-line-zone-fill")),e.R7$(2),e.xc7("background",t.fill),e.Y8G("cpDialogDisplay","popup")("colorPicker",t.fill)("cpAlphaChannel","always")("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top")}}let cW=(()=>{class r{fb;dialogRef;data;defaultColor=ii.Aq.defaultColor;chartAxesType=[1,2,3,4];formGroup;constructor(t,i,n){this.fb=t,this.dialogRef=i,this.data=n}ngOnInit(){this.formGroup=this.fb.group({name:[{value:this.data.name,disabled:!0},j.required],label:[this.data.label,j.required],yaxis:[this.data.yaxis],lineInterpolation:[this.data.lineInterpolation],lineWidth:[this.data.lineWidth],spanGaps:[this.data.spanGaps]})}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close({...this.data,...this.formGroup.getRawValue()})}onAddZone(){this.data.zones||(this.data.zones=[]),this.data.zones.push({min:0,max:0,stroke:"#FF2525",fill:"#BFCDDB"})}onRemoveZone(t){this.data.zones.splice(t,1)}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-chart-line-property"]],decls:67,vars:64,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block-input"],["formControlName","name","type","text"],[1,"my-form-field","block-input","mt10"],["formControlName","label","type","text"],[1,"block","mt10"],[1,"my-form-field",2,"width","140px"],["formControlName","yaxis"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","ml20",2,"width","140px"],["formControlName","lineInterpolation"],["numberOnly","","formControlName","lineWidth","type","number","min","1","max","5",2,"width","140px"],[1,"my-form-field","inbk","ml20","tac"],["color","primary","formControlName","spanGaps"],[1,"my-form-field","slider-field","color-field"],[1,"input-color",2,"padding","8px 0 0 0","width","88px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","slider-field","color-field",2,"padding-left","10px"],[1,"my-form-field","ml20"],["mat-icon-button","",3,"click"],[1,"my-form-field","block-zones","mt10"],["class","mt5",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[3,"value"],[1,"mt5"],[1,"my-form-field"],["numberOnly","","type","number",2,"width","60px",3,"ngModel","ngModelOptions","ngModelChange"],[1,"my-form-field","ml5"],[1,"input-color",2,"width","58px",3,"cpDialogDisplay","colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","ml5",2,"line-height","40px"],["mat-icon-button","",1,"remove",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.k0s(),e.j41(17,"div",8)(18,"div",9)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",10),e.DNE(23,aW,2,2,"mat-option",11),e.k0s()(),e.j41(24,"div",12)(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"mat-select",13),e.DNE(29,sW,2,2,"mat-option",11),e.k0s()()(),e.j41(30,"div",8)(31,"div",9)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"input",14),e.k0s(),e.j41(36,"div",15)(37,"span"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.nrm(40,"mat-slide-toggle",16),e.k0s()(),e.j41(41,"div",8)(42,"div",17)(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"input",18),e.bIt("colorPickerChange",function(s){return n.data.color=s}),e.k0s()(),e.j41(47,"div",19)(48,"span"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"input",18),e.bIt("colorPickerChange",function(s){return n.data.fill=s}),e.k0s()(),e.j41(52,"div",20)(53,"button",21),e.bIt("click",function(){return n.onAddZone()}),e.EFF(54),e.nI1(55,"translate"),e.j41(56,"mat-icon"),e.EFF(57,"add_circle_outline"),e.k0s()()()(),e.j41(58,"div",22),e.DNE(59,lW,25,44,"div",23),e.k0s()(),e.j41(60,"div",24)(61,"button",25),e.bIt("click",function(){return n.onNoClick()}),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"button",26),e.bIt("click",function(){return n.onOkClick()}),e.EFF(65),e.nI1(66,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,40,"chart.config-lines")),e.R7$(7),e.JRh(e.bMT(10,42,"chart.config-line-name")),e.R7$(5),e.JRh(e.bMT(15,44,"chart.config-line-label")),e.R7$(6),e.JRh(e.bMT(21,46,"chart.config-line-yaxis")),e.R7$(3),e.Y8G("ngForOf",n.chartAxesType),e.R7$(3),e.JRh(e.bMT(27,48,"chart.config-line-interpolation")),e.R7$(3),e.Y8G("ngForOf",n.data.lineInterpolationType),e.R7$(4),e.JRh(e.bMT(34,50,"chart.config-line-width")),e.R7$(5),e.JRh(e.bMT(39,52,"chart.config-line-gap")),e.R7$(6),e.JRh(e.bMT(45,54,"chart.config-line-color")),e.R7$(2),e.xc7("background",n.data.color),e.Y8G("colorPicker",n.data.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","right"),e.R7$(3),e.JRh(e.bMT(50,56,"chart.config-line-fill")),e.R7$(2),e.xc7("background",n.data.fill),e.Y8G("colorPicker",n.data.fill)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","right"),e.R7$(3),e.SpI(" ",e.bMT(55,58,"chart.config-line-add-zone")," "),e.R7$(5),e.Y8G("ngForOf",n.data.zones),e.R7$(3),e.JRh(e.bMT(63,60,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(66,62,"dlg.ok")))},dependencies:[l.Sq,Fn,k,Zn,qe,Ke,qn,Er,tn,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,wc,XA,Wr,Hs,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:340px}[_nghost-%COMP%]   .block-input[_ngcontent-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .block-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .block-zones[_ngcontent-%COMP%]{display:block;max-height:220px;overflow-y:auto}"]})}return r})(),yO=(()=>{class r{dialogRef;fb;data;formGroup;constructor(t,i,n){this.dialogRef=t,this.fb=i,this.data=n}ngOnInit(){this.formGroup=this.fb.group({name:["",j.required]})}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.formGroup.value.name)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-edit-placeholder"]],decls:21,vars:14,consts:[[3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field"],["formControlName","name","type","text"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-icon"),e.EFF(12,"alternate_email"),e.k0s(),e.nrm(13,"input",5),e.k0s()(),e.j41(14,"div",6)(15,"button",7),e.bIt("click",function(){return n.onNoClick()}),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"button",8),e.bIt("click",function(){return n.onOkClick()}),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,6,"device.edit-placeholder-titel")),e.R7$(7),e.JRh(e.bMT(10,8,"dlg.item-name")),e.R7$(7),e.JRh(e.bMT(17,10,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(20,12,"dlg.ok")))},dependencies:[Fn,k,qe,Ke,Pr,kt,zn,Or,eo,Rr,Kn,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .my-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;vertical-align:middle}[_nghost-%COMP%]   .my-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}"]})}return r})();function AW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",22),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSelectChart(a))}),e.j41(1,"mat-icon",23),e.bIt("click",function(){const n=e.eBV(t),a=n.$implicit,s=n.index,d=e.XpG();return d.onSelectChart(a),e.Njj(d.onRemoveChart(s))}),e.EFF(2,"cancel"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"mat-icon",24),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSelectChart(a))}),e.EFF(6,"more_vert"),e.k0s(),e.j41(7,"mat-menu",25,26)(9,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onAddChartLine(a))}),e.j41(10,"mat-icon",28),e.EFF(11,"link"),e.k0s(),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onAddChartLinePlaceholder(a))}),e.j41(15,"mat-icon",28),e.EFF(16,"link"),e.k0s(),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditChart(a))}),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.sdS(8),n=e.XpG();e.Y8G("ngClass",n.isChartSelected(t)),e.R7$(4),e.SpI(" ",t.name," "),e.R7$(1),e.Y8G("matMenuTriggerFor",i),e.R7$(2),e.Y8G("overlapTrigger",!1),e.R7$(5),e.SpI(" ",e.bMT(13,7,"chart.config-addline")," "),e.R7$(5),e.SpI(" ",e.bMT(18,9,"chart.config-addlinePlaceholder")," "),e.R7$(3),e.JRh(e.bMT(21,11,"chart.config-rename"))}}function dW(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-list-item",29),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.editChartLine(a))}),e.j41(1,"mat-icon",30),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.removeChartLine(s))}),e.EFF(2,"delete"),e.k0s(),e.j41(3,"div",31)(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",32)(7,"span"),e.EFF(8),e.k0s()(),e.j41(9,"div",33)(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",34)(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"div",35)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"div",16),e.EFF(19," \xa0 "),e.k0s(),e.j41(20,"div",16),e.EFF(21," \xa0 "),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(5),e.JRh(i.getDeviceTagName(t)),e.R7$(3),e.JRh(t.label),e.R7$(3),e.JRh(t.device),e.R7$(3),e.JRh(t.yaxis),e.R7$(3),e.JRh(i.getLineInterpolationName(t)),e.R7$(1),e.xc7("background-color",t.color),e.R7$(2),e.xc7("background-color",t.fill)}}let bO=(()=>{class r{dialog;dialogRef;translateService;projectService;selTags;selectedChart={id:null,name:null,lines:[]};selectedDevice={id:null,name:null,tags:[]};data={charts:[],devices:[]};defaultColor=ii.Aq.defaultColor;lineColor=ii.Aq.lineColor;lineInterpolationType=[{text:"chart.config-interpo-linear",value:0},{text:"chart.config-interpo-stepAfter",value:1},{text:"chart.config-interpo-stepBefore",value:2},{text:"chart.config-interpo-spline",value:3}];constructor(t,i,n,a){this.dialog=t,this.dialogRef=i,this.translateService=n,this.projectService=a,this.loadData()}ngOnInit(){for(let t=0;t<this.lineInterpolationType.length;t++)this.lineInterpolationType[t].text=this.translateService.instant(this.lineInterpolationType[t].text)}loadData(){this.data.charts=JSON.parse(JSON.stringify(this.projectService.getCharts())),this.data.devices=[];let t=this.projectService.getDevices();Object.values(t).forEach(i=>{let n=Object.assign({},i);n.tags=i.tags,this.data.devices.push(n)})}onNoClick(){this.dialogRef.close()}onOkClick(){this.projectService.setCharts(this.data.charts),this.dialogRef.close({charts:this.data.charts,selected:this.selectedChart})}onRemoveChart(t){let i="";this.translateService.get("msg.chart-remove",{value:this.data.charts[t].name}).subscribe(a=>{i=a}),this.dialog.open(th,{data:{msg:i},position:{top:"60px"}}).afterClosed().subscribe(a=>{a&&(this.data.charts.splice(t,1),this.selectedChart={id:null,name:null,lines:[]})})}onSelectChart(t){this.selectedChart=t}isChartSelected(t){if(t===this.selectedChart)return"mychips-selected"}onEditChart(t){let i="dlg.item-title",n="dlg.item-name",a="dlg.item-name-error",s=this.data.charts.map(m=>{if(!t||t.name!==m.name)return m.name});this.translateService.get(i).subscribe(m=>{i=m}),this.translateService.get(n).subscribe(m=>{n=m}),this.translateService.get(a).subscribe(m=>{a=m}),this.dialog.open(C_,{position:{top:"60px"},data:{name:t?t.name:"",title:i,label:n,exist:s,error:a}}).afterClosed().subscribe(m=>{if(m&&m.name&&m.name.length>0)if(t)t.name=m.name;else{let I={id:ii.Aq.getShortGUID(),name:m.name,lines:[]};this.data.charts.push(I),this.onSelectChart(I)}})}onAddChartLine(t){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:null,multiSelection:!0}}).afterClosed().subscribe(n=>{if(n){let a=[];n.variablesId?a=n.variablesId:n.variableId&&a.push(n.variableId),a.forEach(s=>{let d=Gi.$d.getDeviceFromTagId(this.data.devices,s),m=Gi.$d.getTagFromTagId([d],s);if(m&&!t.lines.find(J=>J.id===m.id)){const J={id:m.id,name:this.getTagLabel(m),device:d.name,color:this.getNextColor(),label:this.getTagLabel(m),yaxis:1,spanGaps:!0};t.lines.push(J)}})}})}onAddChartLinePlaceholder(t){this.dialog.open(yO,{disableClose:!0,position:{top:"60px"}}).afterClosed().subscribe(n=>{if(n){const a=n,s={id:n="@"+n,name:n,device:"@",color:this.getNextColor(),label:a,yaxis:1,spanGaps:!0};t.lines.push(s)}})}editChartLine(t){this.dialog.open(cW,{position:{top:"60px"},data:{id:t.id,device:t.device,name:t.name,label:t.label,color:t.color,yaxis:t.yaxis,lineInterpolation:t.lineInterpolation,fill:t.fill,lineInterpolationType:this.lineInterpolationType,zones:t.zones,lineWidth:t.lineWidth,spanGaps:t.spanGaps}}).afterClosed().subscribe(n=>{n&&(t.label=n.label,t.color=n.color,t.yaxis=n.yaxis,t.lineInterpolation=n.lineInterpolation,t.fill=n.fill,t.zones=n.zones,t.lineWidth=n.lineWidth,t.spanGaps=n.spanGaps??!1)})}removeChartLine(t){for(let i=0;i<this.selectedChart.lines.length;i++)if(this.selectedChart.lines[i].id===t.id){this.selectedChart.lines.splice(i,1);break}}getTagLabel(t){return t.label?t.label:t.name}getDeviceTagName(t){if("@"===t.device)return t.name;let i=this.data.devices.filter(n=>n.name===t.device);if(i&&i.length>0){let n=Object.values(i[0].tags);for(let a=0;a<n.length;a++)if(t.id===n[a].id)return this.getTagLabel(n[a])}return""}getNextColor(){for(let t=0;t<this.lineColor.length;t++){let i=!1;if(this.selectedChart.lines)for(let n=0;n<this.selectedChart.lines.length;n++)this.selectedChart.lines[n].color===this.lineColor[t]&&(i=!0);if(!i)return this.lineColor[t]}return ii.Aq.lineColor[0]}getLineInterpolationName(t){let i=this.lineInterpolationType.find(n=>n.value===t.lineInterpolation);return i?i.text:""}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(yr),e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-chart-config"]],viewQuery:function(i,n){if(1&i&&e.GBs(pp,5),2&i){let a;e.mGM(a=e.lsd())&&(n.selTags=a.first)}},decls:47,vars:32,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],[2,"display","inline-block","width","100%","position","relative"],[1,"toolbox-toadd"],["mat-icon-button","",3,"click"],[1,"panelTop"],["class","mychips",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"panelBottom"],[1,"list"],[1,"list-item","list-header"],[1,"list-item-remove"],[1,"list-item-name"],[1,"list-item-label"],[1,"list-item-device"],[1,"list-item-yaxis"],[1,"list-item-interpolation"],[1,"list-item-color"],[1,"list-panel"],["class","list-item list-item-hover",3,"click",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[1,"mychips",3,"ngClass","click"],[3,"click"],[3,"matMenuTriggerFor","click"],[3,"overlapTrigger"],["optionsgMenu",""],["mat-menu-item","",2,"font-size","14px",3,"click"],[2,"margin-right","unset"],[1,"list-item","list-item-hover",3,"click"],[1,"list-item-remove",2,"color","gray","font-size","20px",3,"click"],[1,"list-item-text","list-item-name"],[1,"list-item-text","list-item-label"],[1,"list-item-text","list-item-device"],[1,"list-item-text","list-item-yaxis"],[1,"list-item-text","list-item-interpolation"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"button",4),e.bIt("click",function(){return n.onEditChart(null)}),e.j41(9,"mat-icon"),e.EFF(10,"add_circle_outline"),e.k0s()()(),e.j41(11,"div",5),e.DNE(12,AW,22,13,"div",6),e.k0s(),e.j41(13,"div",7)(14,"mat-list",8)(15,"mat-list-item",9),e.nrm(16,"span",10),e.j41(17,"span",11),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",12),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"span",13),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",14),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"span",15),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"span",16),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"span",16),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.j41(38,"div",17),e.DNE(39,dW,22,9,"mat-list-item",18),e.k0s()()()(),e.j41(40,"div",19)(41,"button",20),e.bIt("click",function(){return n.onNoClick()}),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.j41(44,"button",21),e.bIt("click",function(){return n.onOkClick()}),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,12,"chart.config-title")),e.R7$(10),e.Y8G("ngForOf",n.data.charts),e.R7$(6),e.JRh(e.bMT(19,14,"chart.config-line-name")),e.R7$(3),e.JRh(e.bMT(22,16,"chart.config-line-label")),e.R7$(3),e.JRh(e.bMT(25,18,"chart.config-devices")),e.R7$(3),e.JRh(e.bMT(28,20,"chart.config-line-yaxis")),e.R7$(3),e.JRh(e.bMT(31,22,"chart.config-line-interpolation")),e.R7$(3),e.JRh(e.bMT(34,24,"chart.config-line-color")),e.R7$(3),e.JRh(e.bMT(37,26,"chart.config-line-fill")),e.R7$(3),e.Y8G("ngForOf",n.selectedChart.lines),e.R7$(3),e.JRh(e.bMT(43,28,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(46,30,"dlg.ok")))},dependencies:[l.YU,l.Sq,zn,Or,Rr,Kn,Tg,Fg,Gc,rA,tc,Wr,Vi.D9],styles:[".panelTop[_ngcontent-%COMP%]{display:block;width:100%;height:180px;border:1px solid var(--formBorder);position:relative;overflow:auto}.mychips[_ngcontent-%COMP%]{display:inline-block;font-size:14px;height:32px;line-height:30px;border-radius:20px;background-color:var(--chipsBackground);cursor:pointer;margin:2px}.mychips[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:5px;opacity:.5;font-size:20px;text-align:center}.mychips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px;vertical-align:top}.mychips[_ngcontent-%COMP%]:hover{opacity:.9}.mychips-selected[_ngcontent-%COMP%]{background-color:var(--chipSelectedBackground);color:var(--chipSelectedColor)}.toolbox-toadd[_ngcontent-%COMP%]{position:absolute;right:50px;top:-40px}.panelTop[_ngcontent-%COMP%]   .chart-list[_ngcontent-%COMP%], .device-list[_ngcontent-%COMP%], .tag-list[_ngcontent-%COMP%]{height:480px}.panelBottom[_ngcontent-%COMP%]{display:block;width:100%;height:300px;margin-top:10px}.list[_ngcontent-%COMP%]{width:100%!important;height:100%!important;font-size:16px!important;padding-top:0!important}.list[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-left:10px}.list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{padding-left:10px}.chart-list[_ngcontent-%COMP%]{overflow-y:auto}.list-item[_ngcontent-%COMP%]{display:block;font-size:14px;height:26px!important;cursor:pointer;overflow:hidden;padding-left:10px}.list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.list-item-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.list-item-hover[_ngcontent-%COMP%]:hover, .list-item-selected[_ngcontent-%COMP%]{background-color:#0000001a}.list-item-sel[_ngcontent-%COMP%]{padding-left:5px!important}.list-header[_ngcontent-%COMP%]{background-color:#000c;color:#fff;line-height:26px;cursor:unset}.list-item-remove[_ngcontent-%COMP%]{width:20px;max-width:20px}.list-item-name[_ngcontent-%COMP%]{width:25%;max-width:25%}.list-item-label[_ngcontent-%COMP%]{width:30%;max-width:30%}.list-item-device[_ngcontent-%COMP%]{width:25%;max-width:25%}.list-item-yaxis[_ngcontent-%COMP%], .list-item-interpolation[_ngcontent-%COMP%]{width:10%;max-width:10%}.list-item-color[_ngcontent-%COMP%]{width:5%;max-width:5%}.list-panel[_ngcontent-%COMP%]{height:calc(100% - 26px);overflow-x:hidden}.device-list[_ngcontent-%COMP%], .tag-list[_ngcontent-%COMP%]{margin-right:2px;overflow-y:auto}.color-line[_ngcontent-%COMP%]{width:30px;border:unset;border:1px solid rgba(0,0,0,.1);border-radius:2px;opacity:1;background-color:#f1f3f4}"]})}return r})();class lS{id;name;type;property;sources=[];constructor(o,t,i){this.type=o,this.id=t,this.name=i,this.type===jh.bar&&(this.property=new wO)}}var Wg=function(r){return r.last1h="last1h",r.last1d="last1d",r.last3d="last3d",r.last1w="last1w",r.last1m="last1m",r}(Wg||{}),L1=function(r){return r.hours="hours",r.days="days",r}(L1||{});class wO{xtype;function;constructor(o){this.xtype=o||Object.keys(Sd).find(t=>Sd[t]===Sd.value)}}class CO{type}class uW extends CO{constructor(o){super(),this.type=o||Object.keys(kf).find(t=>kf[t]===kf.sumHourIntegral)}}var jh=function(r){return r[r.bar=0]="bar",r[r.pie=1]="pie",r}(jh||{}),Sd=function(r){return r.value="graph.bar-xtype-value",r.date="graph.bar-xtype-date",r}(Sd||{}),kf=function(r){return r.sumHourIntegral="graph.bar-date-fnc-hour-integral",r.sumValueIntegral="graph.bar-date-fnc-value-integral",r}(kf||{});let hW=(()=>{class r{dialogRef;data;defaultColor=ii.Aq.defaultColor;chartAxesType=[1,2,3,4];constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-graph-source-edit"]],decls:36,vars:49,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field",2,"display","block","margin-bottom","10px"],["type","text",2,"width","300px",3,"ngModel","disabled","ngModelChange"],["type","text",2,"width","300px",3,"ngModel","ngModelChange"],[2,"display","block"],[1,"my-form-field","slider-field","color-field"],[1,"input-color",2,"padding","8px 0 0 0","width","88px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","slider-field","color-field",2,"padding-left","10px"],[1,"my-form-field",2,"display","block","height","10px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",4),e.bIt("ngModelChange",function(s){return n.data.name=s}),e.k0s()(),e.j41(12,"div",3)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",5),e.bIt("ngModelChange",function(s){return n.data.label=s}),e.k0s()(),e.j41(17,"div",6)(18,"div",7)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",8),e.bIt("colorPickerChange",function(s){return n.data.color=s}),e.k0s()(),e.j41(23,"div",9)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",8),e.bIt("colorPickerChange",function(s){return n.data.fill=s}),e.k0s()()(),e.nrm(28,"div",10),e.k0s(),e.j41(29,"div",11)(30,"button",12),e.bIt("click",function(){return n.onNoClick()}),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"button",13),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,35,"hart.config-lines")),e.R7$(7),e.JRh(e.bMT(10,37,"chart.config-line-name")),e.R7$(2),e.Y8G("ngModel",n.data.name)("disabled",!0),e.R7$(3),e.JRh(e.bMT(15,39,"chart.config-line-label")),e.R7$(2),e.Y8G("ngModel",n.data.label),e.R7$(4),e.JRh(e.bMT(21,41,"chart.config-line-color")),e.R7$(2),e.xc7("background",n.data.color),e.Y8G("colorPicker",n.data.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","right"),e.R7$(3),e.JRh(e.bMT(26,43,"chart.config-line-fill")),e.R7$(2),e.xc7("background",n.data.fill),e.Y8G("colorPicker",n.data.fill)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","right"),e.R7$(4),e.JRh(e.bMT(32,45,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(35,47,"dlg.ok")))},dependencies:[k,qe,tn,zn,nA,Or,eo,Rr,Kn,XA,Wr,Vi.D9]})}return r})();function pW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",18),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSelectGraph(a))}),e.j41(1,"mat-icon",19),e.bIt("click",function(){const n=e.eBV(t),a=n.$implicit,s=n.index,d=e.XpG();return d.onSelectGraph(a),e.Njj(d.onRemoveGraph(s))}),e.EFF(2,"cancel"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"mat-icon",20),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSelectGraph(a))}),e.EFF(6,"more_vert"),e.k0s(),e.j41(7,"mat-menu",21,22)(9,"button",23),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onAddGraphSource(a))}),e.j41(10,"mat-icon",24),e.EFF(11,"link"),e.k0s(),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",23),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onAddGraphSourcePlaceholder(a))}),e.j41(15,"mat-icon",24),e.EFF(16,"link"),e.k0s(),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"button",23),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditGraph(a))}),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.sdS(8),n=e.XpG();e.Y8G("ngClass",n.isGraphSelected(t)),e.R7$(4),e.SpI(" ",t.name," "),e.R7$(1),e.Y8G("matMenuTriggerFor",i),e.R7$(2),e.Y8G("overlapTrigger",!1),e.R7$(5),e.SpI(" ",e.bMT(13,7,"graph.config-source-tag")," "),e.R7$(5),e.SpI(" ",e.bMT(18,9,"chart.config-addlinePlaceholder")," "),e.R7$(3),e.JRh(e.bMT(21,11,"graph.config-rename"))}}function fW(r,o){if(1&r&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function gW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",25)(1,"mat-select",26),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.selectedGraph.property.xtype=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGraphXTypeChanged(n.value))}),e.nI1(2,"translate"),e.DNE(3,fW,2,2,"mat-option",27),e.nI1(4,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.FS9("placeholder",e.bMT(2,3,"graph.property-xtype")),e.Y8G("value",t.selectedGraph.property.xtype),e.R7$(2),e.Y8G("ngForOf",e.bMT(4,5,t.barXType))}}function mW(r,o){if(1&r&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function vW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",25)(1,"mat-select",26),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.dateFunction.type=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGraphDateFunctionTypeChanged(n.value))}),e.nI1(2,"translate"),e.DNE(3,mW,2,2,"mat-option",27),e.nI1(4,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.FS9("placeholder",e.bMT(2,3,"graph.property-fnctype")),e.Y8G("value",t.dateFunction.type),e.R7$(2),e.Y8G("ngForOf",e.bMT(4,5,t.barDateFunctionType))}}function _W(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-list-item",29),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.editGraphSource(a))}),e.j41(1,"mat-icon",30),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.removeGraphSource(s))}),e.EFF(2,"delete"),e.k0s(),e.j41(3,"div",31)(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",32)(7,"span"),e.EFF(8),e.k0s()(),e.j41(9,"div",33)(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",34),e.EFF(13," \xa0 "),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(5),e.JRh(i.getDeviceTagName(t)),e.R7$(3),e.JRh(t.label),e.R7$(3),e.JRh(t.device),e.R7$(1),e.xc7("border-color",t.color)("background-color",t.fill)}}let EO=(()=>{class r{dialog;translateService;dialogRef;params;projectService;selectedGraph=new lS(jh.bar);data={graphs:[],devices:[]};lineColor=ii.Aq.lineColor;barXType=Sd;xTypeValue=ii.Aq.getEnumKey(Sd,Sd.value);xTypeDate=ii.Aq.getEnumKey(Sd,Sd.date);barDateFunctionType=kf;dateFunction=new CO;constructor(t,i,n,a,s){this.dialog=t,this.translateService=i,this.dialogRef=n,this.params=a,this.projectService=s,this.loadData()}ngOnInit(){Object.keys(this.barXType).forEach(t=>{this.translateService.get(this.barXType[t]).subscribe(i=>{this.barXType[t]=i})}),Object.keys(this.barDateFunctionType).forEach(t=>{this.translateService.get(this.barDateFunctionType[t]).subscribe(i=>{this.barDateFunctionType[t]=i})})}loadData(){this.data.graphs=JSON.parse(JSON.stringify(this.projectService.getGraphs())),this.data.devices=[];let t=this.projectService.getDevices();Object.values(t).forEach(i=>{let n=Object.assign({},i);n.tags=i.tags,this.data.devices.push(n)})}onNoClick(){this.dialogRef.close()}onOkClick(){this.projectService.setGraphs(this.data.graphs),this.dialogRef.close({graphs:this.data.graphs,selected:this.selectedGraph})}onAddNewCategory(){}isSelection(){return!(!this.selectedGraph||!this.selectedGraph.id)}onEditGraph(t){let i="dlg.item-title",n="dlg.item-name",a="dlg.item-name-error",s=this.data.graphs.map(m=>{if(!t||t.name!==m.name)return m.name});this.translateService.get(i).subscribe(m=>{i=m}),this.translateService.get(n).subscribe(m=>{n=m}),this.translateService.get(a).subscribe(m=>{a=m}),this.dialog.open(C_,{position:{top:"60px"},data:{name:t?t.name:"",title:i,label:n,exist:s,error:a}}).afterClosed().subscribe(m=>{if(m&&m.name&&m.name.length>0)if(t)t.name=m.name;else{let I=new lS(jh.bar,ii.Aq.getShortGUID(),m.name);this.data.graphs.push(I),this.onSelectGraph(I)}})}onAddGraphSource(t){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:null,multiSelection:!1}}).afterClosed().subscribe(n=>{if(n){let a=[];n.variablesId?a=n.variablesId:n.variableId&&a.push(n.variableId),a.forEach(s=>{let d=Gi.$d.getDeviceFromTagId(this.data.devices,s),m=Gi.$d.getTagFromTagId([d],s);if(m&&!t.sources.find(J=>J.id===m.id)){let J=this.getNextColor();const oe={id:m.id,name:this.getTagLabel(m),device:d.name,label:this.getTagLabel(m),color:J,fill:J};t.sources.push(oe)}})}})}onAddGraphSourcePlaceholder(t){this.dialog.open(yO,{disableClose:!0,position:{top:"60px"}}).afterClosed().subscribe(n=>{if(n){const a=n;n="@"+n;let s=this.getNextColor();t.sources.push({id:n,name:n,device:"@",label:a,color:s,fill:s})}})}onRemoveGraph(t){let i="";this.translateService.get("msg.graph-remove",{value:this.data.graphs[t].name}).subscribe(a=>{i=a}),this.dialog.open(th,{data:{msg:i},position:{top:"60px"}}).afterClosed().subscribe(a=>{a&&(this.data.graphs.splice(t,1),this.selectedGraph=new lS(jh.bar))})}editGraphSource(t){this.dialog.open(hW,{position:{top:"60px"},data:{id:t.id,device:t.device,name:t.name,label:t.label,color:t.color,fill:t.fill}}).afterClosed().subscribe(n=>{n&&(t.label=n.label,t.color=n.color,t.fill=n.fill)})}removeGraphSource(t){for(let i=0;i<this.selectedGraph.sources.length;i++)if(this.selectedGraph.sources[i].id===t.id){this.selectedGraph.sources.splice(i,1);break}}onSelectGraph(t){this.selectedGraph=t,this.selectedGraph.type||(this.selectedGraph.type=jh.bar),this.selectedGraph.property||(this.selectedGraph.property=new wO),this.checkPropertyFunction(this.selectedGraph.property)}isGraphSelected(t){if(t===this.selectedGraph)return"mychips-selected"}onGraphXTypeChanged(t){this.selectedGraph&&(this.selectedGraph.property.xtype=t,this.checkPropertyFunction(this.selectedGraph.property))}onGraphDateFunctionTypeChanged(t){console.log(t)}checkPropertyFunction(t){t&&t.xtype===this.xTypeDate&&(t.function||(t.function=new uW),this.dateFunction=t.function)}getTagLabel(t){return t.label?t.label:t.name}getDeviceTagName(t){if("@"===t.device)return t.name;let i=this.data.devices.filter(n=>n.name===t.device);if(i&&i.length>0){let n=Object.values(i[0].tags);for(let a=0;a<n.length;a++)if(t.id===n[a].id)return this.getTagLabel(n[a])}return""}getNextColor(){for(let t=0;t<this.lineColor.length;t++){let i=!1;if(this.selectedGraph.sources)for(let n=0;n<this.selectedGraph.sources.length;n++)this.selectedGraph.sources[n].color===this.lineColor[t]&&(i=!0);if(!i)return this.lineColor[t]}return ii.Aq.lineColor[0]}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-graph-config"]],decls:37,vars:19,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],[2,"display","inline-block","width","100%","position","relative"],[1,"toolbox-toadd"],["mat-icon-button","",3,"click"],[1,"panelTop"],["class","mychips",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"panelBottom"],[1,"section-panel","section-category"],[1,"section-header"],[1,"section-list"],["class","my-form-field section-item",4,"ngIf"],[1,"section-panel","section-sources"],[1,"list"],["class","list-item list-item-hover",3,"click",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action",2,"padding","unset"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[1,"mychips",3,"ngClass","click"],[3,"click"],[3,"matMenuTriggerFor","click"],[3,"overlapTrigger"],["optionsgMenu",""],["mat-menu-item","",2,"font-size","14px",3,"click"],[2,"margin-right","unset"],[1,"my-form-field","section-item"],[3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"list-item","list-item-hover",3,"click"],[1,"list-item-remove",3,"click"],[1,"list-item-text","list-item-name"],[1,"list-item-text","list-item-label"],[1,"list-item-text","list-item-device"],[1,"list-item-color"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"button",4),e.bIt("click",function(){return n.onEditGraph(null)}),e.j41(9,"mat-icon"),e.EFF(10,"add_circle_outline"),e.k0s()()(),e.j41(11,"div",5),e.DNE(12,pW,22,13,"div",6),e.k0s(),e.j41(13,"div",7)(14,"div",8)(15,"div",9)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"div",10),e.DNE(20,gW,5,7,"div",11),e.DNE(21,vW,5,7,"div",11),e.k0s()(),e.j41(22,"div",12)(23,"div",9)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"div",10)(28,"mat-list",13),e.DNE(29,_W,14,7,"mat-list-item",14),e.k0s()()()()(),e.j41(30,"div",15)(31,"button",16),e.bIt("click",function(){return n.onNoClick()}),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"button",17),e.bIt("click",function(){return n.onOkClick()}),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,9,"graph.config-title")),e.R7$(10),e.Y8G("ngForOf",n.data.graphs),e.R7$(5),e.JRh(e.bMT(18,11,"graph.property-xtype")),e.R7$(3),e.Y8G("ngIf",n.isSelection()),e.R7$(1),e.Y8G("ngIf",n.selectedGraph.property.xtype===n.xTypeDate),e.R7$(4),e.JRh(e.bMT(26,13,"graph.property-sources")),e.R7$(4),e.Y8G("ngForOf",n.selectedGraph.sources),e.R7$(3),e.JRh(e.bMT(33,15,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(36,17,"dlg.ok")))},dependencies:[l.YU,l.Sq,l.bT,Ur,zn,Or,Rr,Kn,Tg,Fg,Gc,rA,tc,yo,Wr,Vi.D9,ii.yN],styles:[".panelTop[_ngcontent-%COMP%]{display:block;width:100%;height:180px;border:1px solid var(--formBorder);position:relative;overflow:auto}.mychips[_ngcontent-%COMP%]{display:inline-block;font-size:14px;height:32px;line-height:30px;border-radius:20px;background-color:var(--chipsBackground);cursor:pointer;margin:2px}.mychips[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:5px;opacity:.5;font-size:20px;text-align:center}.mychips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px;vertical-align:top}.mychips[_ngcontent-%COMP%]:hover{opacity:.9}.mychips-selected[_ngcontent-%COMP%]{background-color:var(--chipSelectedBackground);color:var(--chipSelectedColor)}.toolbox-toadd[_ngcontent-%COMP%]{position:absolute;right:50px;top:-40px}.panelBottom[_ngcontent-%COMP%]{display:block;width:100%;height:300px;margin-top:10px}.list[_ngcontent-%COMP%]{width:100%!important;height:100%!important;font-size:16px!important;padding-top:0!important}.list[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-left:10px}.list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{padding-left:10px}.list-item[_ngcontent-%COMP%]{display:block;font-size:12px;height:28px!important;line-height:26px;cursor:pointer;overflow:hidden;padding-left:10px}.list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.list-item-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.list-item-hover[_ngcontent-%COMP%]:hover{background-color:#0000001a}.list-header[_ngcontent-%COMP%]{background-color:#000c;color:#fff;line-height:26px;cursor:unset}.list-item-remove[_ngcontent-%COMP%]{width:20px;max-width:20px;color:gray}.list-item-name[_ngcontent-%COMP%], .list-item-label[_ngcontent-%COMP%], .list-item-device[_ngcontent-%COMP%]{width:30%;max-width:30%}.list-item-color[_ngcontent-%COMP%]{width:5%;max-width:5%;height:14px;border-style:solid;border-width:3px}.list-panel[_ngcontent-%COMP%]{height:calc(100% - 26px);overflow-x:hidden}.device-list[_ngcontent-%COMP%], .tag-list[_ngcontent-%COMP%]{margin-right:2px;overflow-y:auto}.color-line[_ngcontent-%COMP%]{width:30px;border:unset;border:1px solid rgba(0,0,0,.1);border-radius:2px;opacity:1;background-color:#f1f3f4}.showEditor[_ngcontent-%COMP%]{display:block}.hideEditor[_ngcontent-%COMP%]{display:none}.section-panel[_ngcontent-%COMP%]{height:100%;font-size:12px}.section-category[_ngcontent-%COMP%]{width:25%;display:inline-block}.section-header[_ngcontent-%COMP%]{width:100%;background-color:var(--chipsBackground);color:#fff;height:26px;line-height:26px}.section-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px}.section-item[_ngcontent-%COMP%]{width:100%;margin-bottom:3px}.section-item[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:calc(100% - 7px)}.section-list[_ngcontent-%COMP%]{border:1px solid var(--formBorder);height:calc(100% - 30px);padding:2px;overflow-x:hidden;overflow-y:auto}.section-sources[_ngcontent-%COMP%]{width:74%;float:right}"]})}return r})();var It=ie(3276);let Tf=(()=>{class r{static fonts=["Sans-serif","Roboto-Thin","Roboto-Light","Roboto-Regular","Roboto-Medium","Roboto-Bold","Quicksand-Regular","Quicksand-Medium","Quicksand-Bold"];static MaterialIconsRegular="\n10k e951\n10mp e952\n11mp e953\n123 eb8d\n12mp e954\n13mp e955\n14mp e956\n15mp e957\n16mp e958\n17mp e959\n18_up_rating f8fd\n18mp e95a\n19mp e95b\n1k e95c\n1k_plus e95d\n1x_mobiledata efcd\n20mp e95e\n21mp e95f\n22mp e960\n23mp e961\n24mp e962\n2k e963\n2k_plus e964\n2mp e965\n30fps efce\n30fps_select efcf\n360 e577\n3d_rotation e84d\n3g_mobiledata efd0\n3k e966\n3k_plus e967\n3mp e968\n3p efd1\n4g_mobiledata efd2\n4g_plus_mobiledata efd3\n4k e072\n4k_plus e969\n4mp e96a\n5g ef38\n5k e96b\n5k_plus e96c\n5mp e96d\n60fps efd4\n60fps_select efd5\n6_ft_apart f21e\n6k e96e\n6k_plus e96f\n6mp e970\n7k e971\n7k_plus e972\n7mp e973\n8k e974\n8k_plus e975\n8mp e976\n9k e977\n9k_plus e978\n9mp e979\nabc eb94\nac_unit eb3b\naccess_alarm e190\naccess_alarms e191\naccess_time e192\naccess_time_filled efd6\naccessibility e84e\naccessibility_new e92c\naccessible e914\naccessible_forward e934\naccount_balance e84f\naccount_balance_wallet e850\naccount_box e851\naccount_circle e853\naccount_tree e97a\nad_units ef39\nadb e60e\nadd e145\nadd_a_photo e439\nadd_alarm e193\nadd_alert e003\nadd_box e146\nadd_business e729\nadd_call e0e8\nadd_card eb86\nadd_chart e97b\nadd_circle e147\nadd_circle_outline e148\nadd_comment e266\nadd_home f8eb\nadd_home_work f8ed\nadd_ic_call e97c\nadd_link e178\nadd_location e567\nadd_location_alt ef3a\nadd_moderator e97d\nadd_photo_alternate e43e\nadd_reaction e1d3\nadd_road ef3b\nadd_shopping_cart e854\nadd_task f23a\nadd_to_drive e65c\nadd_to_home_screen e1fe\nadd_to_photos e39d\nadd_to_queue e05c\naddchart ef3c\nadf_scanner eada\nadjust e39e\nadmin_panel_settings ef3d\nadobe ea96\nads_click e762\nagriculture ea79\nair efd8\nairline_seat_flat e630\nairline_seat_flat_angled e631\nairline_seat_individual_suite e632\nairline_seat_legroom_extra e633\nairline_seat_legroom_normal e634\nairline_seat_legroom_reduced e635\nairline_seat_recline_extra e636\nairline_seat_recline_normal e637\nairline_stops e7d0\nairlines e7ca\nairplane_ticket efd9\nairplanemode_active e195\nairplanemode_inactive e194\nairplanemode_off e194\nairplanemode_on e195\nairplay e055\nairport_shuttle eb3c\nalarm e855\nalarm_add e856\nalarm_off e857\nalarm_on e858\nalbum e019\nalign_horizontal_center e00f\nalign_horizontal_left e00d\nalign_horizontal_right e010\nalign_vertical_bottom e015\nalign_vertical_center e011\nalign_vertical_top e00c\nall_inbox e97f\nall_inclusive eb3d\nall_out e90b\nalt_route f184\nalternate_email e0e6\namp_stories ea13\nanalytics ef3e\nanchor f1cd\nandroid e859\nanimation e71c\nannouncement e85a\naod efda\napartment ea40\napi f1b7\napp_blocking ef3f\napp_registration ef40\napp_settings_alt ef41\napp_shortcut eae4\napple ea80\napproval e982\napps e5c3\napps_outage e7cc\narchitecture ea3b\narchive e149\narea_chart e770\narrow_back e5c4\narrow_back_ios e5e0\narrow_back_ios_new e2ea\narrow_circle_down f181\narrow_circle_left eaa7\narrow_circle_right eaaa\narrow_circle_up f182\narrow_downward e5db\narrow_drop_down e5c5\narrow_drop_down_circle e5c6\narrow_drop_up e5c7\narrow_forward e5c8\narrow_forward_ios e5e1\narrow_left e5de\narrow_outward f8ce\narrow_right e5df\narrow_right_alt e941\narrow_upward e5d8\nart_track e060\narticle ef42\naspect_ratio e85b\nassessment e85c\nassignment e85d\nassignment_add f848\nassignment_ind e85e\nassignment_late e85f\nassignment_return e860\nassignment_returned e861\nassignment_turned_in e862\nassist_walker f8d5\nassistant e39f\nassistant_direction e988\nassistant_navigation e989\nassistant_photo e3a0\nassured_workload eb6f\natm e573\nattach_email ea5e\nattach_file e226\nattach_money e227\nattachment e2bc\nattractions ea52\nattribution efdb\naudio_file eb82\naudiotrack e3a1\nauto_awesome e65f\nauto_awesome_mosaic e660\nauto_awesome_motion e661\nauto_delete ea4c\nauto_fix_high e663\nauto_fix_normal e664\nauto_fix_off e665\nauto_graph e4fb\nauto_mode ec20\nauto_stories e666\nautofps_select efdc\nautorenew e863\nav_timer e01b\nbaby_changing_station f19b\nback_hand e764\nbackpack f19c\nbackspace e14a\nbackup e864\nbackup_table ef43\nbadge ea67\nbakery_dining ea53\nbalance eaf6\nbalcony e58f\nballot e172\nbar_chart e26b\nbarcode_reader f85c\nbatch_prediction f0f5\nbathroom efdd\nbathtub ea41\nbattery_0_bar ebdc\nbattery_1_bar ebd9\nbattery_2_bar ebe0\nbattery_3_bar ebdd\nbattery_4_bar ebe2\nbattery_5_bar ebd4\nbattery_6_bar ebd2\nbattery_alert e19c\nbattery_charging_full e1a3\nbattery_full e1a4\nbattery_saver efde\nbattery_std e1a5\nbattery_unknown e1a6\nbeach_access eb3e\nbed efdf\nbedroom_baby efe0\nbedroom_child efe1\nbedroom_parent efe2\nbedtime ef44\nbedtime_off eb76\nbeenhere e52d\nbento f1f4\nbike_scooter ef45\nbiotech ea3a\nblender efe3\nblind f8d6\nblinds e286\nblinds_closed ec1f\nblock e14b\nblock_flipped ef46\nbloodtype efe4\nbluetooth e1a7\nbluetooth_audio e60f\nbluetooth_connected e1a8\nbluetooth_disabled e1a9\nbluetooth_drive efe5\nbluetooth_searching e1aa\nblur_circular e3a2\nblur_linear e3a3\nblur_off e3a4\nblur_on e3a5\nbolt ea0b\nbook e865\nbook_online f217\nbookmark e866\nbookmark_add e598\nbookmark_added e599\nbookmark_border e867\nbookmark_outline e867\nbookmark_remove e59a\nbookmarks e98b\nborder_all e228\nborder_bottom e229\nborder_clear e22a\nborder_color e22b\nborder_horizontal e22c\nborder_inner e22d\nborder_left e22e\nborder_outer e22f\nborder_right e230\nborder_style e231\nborder_top e232\nborder_vertical e233\nboy eb67\nbranding_watermark e06b\nbreakfast_dining ea54\nbrightness_1 e3a6\nbrightness_2 e3a7\nbrightness_3 e3a8\nbrightness_4 e3a9\nbrightness_5 e3aa\nbrightness_6 e3ab\nbrightness_7 e3ac\nbrightness_auto e1ab\nbrightness_high e1ac\nbrightness_low e1ad\nbrightness_medium e1ae\nbroadcast_on_home f8f8\nbroadcast_on_personal f8f9\nbroken_image e3ad\nbrowse_gallery ebd1\nbrowser_not_supported ef47\nbrowser_updated e7cf\nbrunch_dining ea73\nbrush e3ae\nbubble_chart e6dd\nbug_report e868\nbuild e869\nbuild_circle ef48\nbungalow e591\nburst_mode e43c\nbus_alert e98f\nbusiness e0af\nbusiness_center eb3f\ncabin e589\ncable efe6\ncached e86a\ncake e7e9\ncalculate ea5f\ncalendar_month ebcc\ncalendar_today e935\ncalendar_view_day e936\ncalendar_view_month efe7\ncalendar_view_week efe8\ncall e0b0\ncall_end e0b1\ncall_made e0b2\ncall_merge e0b3\ncall_missed e0b4\ncall_missed_outgoing e0e4\ncall_received e0b5\ncall_split e0b6\ncall_to_action e06c\ncamera e3af\ncamera_alt e3b0\ncamera_enhance e8fc\ncamera_front e3b1\ncamera_indoor efe9\ncamera_outdoor efea\ncamera_rear e3b2\ncamera_roll e3b3\ncameraswitch efeb\ncampaign ef49\ncancel e5c9\ncancel_presentation e0e9\ncancel_schedule_send ea39\ncandlestick_chart ead4\ncar_crash ebf2\ncar_rental ea55\ncar_repair ea56\ncard_giftcard e8f6\ncard_membership e8f7\ncard_travel e8f8\ncarpenter f1f8\ncases e992\ncasino eb40\ncast e307\ncast_connected e308\ncast_for_education efec\ncastle eab1\ncatching_pokemon e508\ncategory e574\ncelebration ea65\ncell_tower ebba\ncell_wifi e0ec\ncenter_focus_strong e3b4\ncenter_focus_weak e3b5\nchair efed\nchair_alt efee\nchalet e585\nchange_circle e2e7\nchange_history e86b\ncharging_station f19d\nchat e0b7\nchat_bubble e0ca\nchat_bubble_outline e0cb\ncheck e5ca\ncheck_box e834\ncheck_box_outline_blank e835\ncheck_circle e86c\ncheck_circle_outline e92d\nchecklist e6b1\nchecklist_rtl e6b3\ncheckroom f19e\nchevron_left e5cb\nchevron_right e5cc\nchild_care eb41\nchild_friendly eb42\nchrome_reader_mode e86d\nchurch eaae\ncircle ef4a\ncircle_notifications e994\nclass e86e\nclean_hands f21f\ncleaning_services f0ff\nclear e14c\nclear_all e0b8\nclose e5cd\nclose_fullscreen f1cf\nclosed_caption e01c\nclosed_caption_disabled f1dc\nclosed_caption_off e996\ncloud e2bd\ncloud_circle e2be\ncloud_done e2bf\ncloud_download e2c0\ncloud_off e2c1\ncloud_queue e2c2\ncloud_sync eb5a\ncloud_upload e2c3\ncloudy_snowing e810\nco2 e7b0\nco_present eaf0\ncode e86f\ncode_off e4f3\ncoffee efef\ncoffee_maker eff0\ncollections e3b6\ncollections_bookmark e431\ncolor_lens e3b7\ncolorize e3b8\ncomment e0b9\ncomment_bank ea4e\ncomments_disabled e7a2\ncommit eaf5\ncommute e940\ncompare e3b9\ncompare_arrows e915\ncompass_calibration e57c\ncompost e761\ncompress e94d\ncomputer e30a\nconfirmation_num e638\nconfirmation_number e638\nconnect_without_contact f223\nconnected_tv e998\nconnecting_airports e7c9\nconstruction ea3c\ncontact_emergency f8d1\ncontact_mail e0d0\ncontact_page f22e\ncontact_phone e0cf\ncontact_support e94c\ncontactless ea71\ncontacts e0ba\ncontent_copy e14d\ncontent_cut e14e\ncontent_paste e14f\ncontent_paste_go ea8e\ncontent_paste_off e4f8\ncontent_paste_search ea9b\ncontrast eb37\ncontrol_camera e074\ncontrol_point e3ba\ncontrol_point_duplicate e3bb\nconveyor_belt f867\ncookie eaac\ncopy_all e2ec\ncopyright e90c\ncoronavirus f221\ncorporate_fare f1d0\ncottage e587\ncountertops f1f7\ncreate e150\ncreate_new_folder e2cc\ncredit_card e870\ncredit_card_off e4f4\ncredit_score eff1\ncrib e588\ncrisis_alert ebe9\ncrop e3be\ncrop_16_9 e3bc\ncrop_3_2 e3bd\ncrop_5_4 e3bf\ncrop_7_5 e3c0\ncrop_din e3c1\ncrop_free e3c2\ncrop_landscape e3c3\ncrop_original e3c4\ncrop_portrait e3c5\ncrop_rotate e437\ncrop_square e3c6\ncruelty_free e799\ncss eb93\ncurrency_bitcoin ebc5\ncurrency_exchange eb70\ncurrency_franc eafa\ncurrency_lira eaef\ncurrency_pound eaf1\ncurrency_ruble eaec\ncurrency_rupee eaf7\ncurrency_yen eafb\ncurrency_yuan eaf9\ncurtains ec1e\ncurtains_closed ec1d\ncyclone ebd5\ndangerous e99a\ndark_mode e51c\ndashboard e871\ndashboard_customize e99b\ndata_array ead1\ndata_exploration e76f\ndata_object ead3\ndata_saver_off eff2\ndata_saver_on eff3\ndata_thresholding eb9f\ndata_usage e1af\ndataset f8ee\ndataset_linked f8ef\ndate_range e916\ndeblur eb77\ndeck ea42\ndehaze e3c7\ndelete e872\ndelete_forever e92b\ndelete_outline e92e\ndelete_sweep e16c\ndelivery_dining ea72\ndensity_large eba9\ndensity_medium eb9e\ndensity_small eba8\ndeparture_board e576\ndescription e873\ndeselect ebb6\ndesign_services f10a\ndesk f8f4\ndesktop_access_disabled e99d\ndesktop_mac e30b\ndesktop_windows e30c\ndetails e3c8\ndeveloper_board e30d\ndeveloper_board_off e4ff\ndeveloper_mode e1b0\ndevice_hub e335\ndevice_thermostat e1ff\ndevice_unknown e339\ndevices e1b1\ndevices_fold ebde\ndevices_other e337\ndew_point f879\ndialer_sip e0bb\ndialpad e0bc\ndiamond ead5\ndifference eb7d\ndining eff4\ndinner_dining ea57\ndirections e52e\ndirections_bike e52f\ndirections_boat e532\ndirections_boat_filled eff5\ndirections_bus e530\ndirections_bus_filled eff6\ndirections_car e531\ndirections_car_filled eff7\ndirections_ferry e532\ndirections_off f10f\ndirections_railway e534\ndirections_railway_filled eff8\ndirections_run e566\ndirections_subway e533\ndirections_subway_filled eff9\ndirections_train e534\ndirections_transit e535\ndirections_transit_filled effa\ndirections_walk e536\ndirty_lens ef4b\ndisabled_by_default f230\ndisabled_visible e76e\ndisc_full e610\ndiscord ea6c\ndiscount ebc9\ndisplay_settings eb97\ndiversity_1 f8d7\ndiversity_2 f8d8\ndiversity_3 f8d9\ndnd_forwardslash e611\ndns e875\ndo_disturb f08c\ndo_disturb_alt f08d\ndo_disturb_off f08e\ndo_disturb_on f08f\ndo_not_disturb e612\ndo_not_disturb_alt e611\ndo_not_disturb_off e643\ndo_not_disturb_on e644\ndo_not_disturb_on_total_silence effb\ndo_not_step f19f\ndo_not_touch f1b0\ndock e30e\ndocument_scanner e5fa\ndomain e7ee\ndomain_add eb62\ndomain_disabled e0ef\ndomain_verification ef4c\ndone e876\ndone_all e877\ndone_outline e92f\ndonut_large e917\ndonut_small e918\ndoor_back effc\ndoor_front effd\ndoor_sliding effe\ndoorbell efff\ndouble_arrow ea50\ndownhill_skiing e509\ndownload f090\ndownload_done f091\ndownload_for_offline f000\ndownloading f001\ndrafts e151\ndrag_handle e25d\ndrag_indicator e945\ndraw e746\ndrive_eta e613\ndrive_file_move e675\ndrive_file_move_outline e9a1\ndrive_file_move_rtl e76d\ndrive_file_rename_outline e9a2\ndrive_folder_upload e9a3\ndry f1b3\ndry_cleaning ea58\nduo e9a5\ndvr e1b2\ndynamic_feed ea14\ndynamic_form f1bf\ne_mobiledata f002\nearbuds f003\nearbuds_battery f004\neast f1df\neco ea35\nedgesensor_high f005\nedgesensor_low f006\nedit e3c9\nedit_attributes e578\nedit_calendar e742\nedit_document f88c\nedit_location e568\nedit_location_alt e1c5\nedit_note e745\nedit_notifications e525\nedit_off e950\nedit_road ef4d\nedit_square f88d\negg eacc\negg_alt eac8\neject e8fb\nelderly f21a\nelderly_woman eb69\nelectric_bike eb1b\nelectric_bolt ec1c\nelectric_car eb1c\nelectric_meter ec1b\nelectric_moped eb1d\nelectric_rickshaw eb1e\nelectric_scooter eb1f\nelectrical_services f102\nelevator f1a0\nemail e0be\nemergency e1eb\nemergency_recording ebf4\nemergency_share ebf6\nemoji_emotions ea22\nemoji_events ea23\nemoji_flags ea1a\nemoji_food_beverage ea1b\nemoji_nature ea1c\nemoji_objects ea24\nemoji_people ea1d\nemoji_symbols ea1e\nemoji_transportation ea1f\nenergy_savings_leaf ec1a\nengineering ea3d\nenhance_photo_translate e8fc\nenhanced_encryption e63f\nequalizer e01d\nerror e000\nerror_outline e001\nescalator f1a1\nescalator_warning f1ac\neuro ea15\neuro_symbol e926\nev_station e56d\nevent e878\nevent_available e614\nevent_busy e615\nevent_note e616\nevent_repeat eb7b\nevent_seat e903\nexit_to_app e879\nexpand e94f\nexpand_circle_down e7cd\nexpand_less e5ce\nexpand_more e5cf\nexplicit e01e\nexplore e87a\nexplore_off e9a8\nexposure e3ca\nexposure_minus_1 e3cb\nexposure_minus_2 e3cc\nexposure_neg_1 e3cb\nexposure_neg_2 e3cc\nexposure_plus_1 e3cd\nexposure_plus_2 e3ce\nexposure_zero e3cf\nextension e87b\nextension_off e4f5\nface e87c\nface_2 f8da\nface_3 f8db\nface_4 f8dc\nface_5 f8dd\nface_6 f8de\nface_retouching_natural ef4e\nface_retouching_off f007\nfacebook f234\nfact_check f0c5\nfactory ebbc\nfamily_restroom f1a2\nfast_forward e01f\nfast_rewind e020\nfastfood e57a\nfavorite e87d\nfavorite_border e87e\nfavorite_outline e87e\nfax ead8\nfeatured_play_list e06d\nfeatured_video e06e\nfeed f009\nfeedback e87f\nfemale e590\nfence f1f6\nfestival ea68\nfiber_dvr e05d\nfiber_manual_record e061\nfiber_new e05e\nfiber_pin e06a\nfiber_smart_record e062\nfile_copy e173\nfile_download e2c4\nfile_download_done e9aa\nfile_download_off e4fe\nfile_open eaf3\nfile_present ea0e\nfile_upload e2c6\nfile_upload_off f886\nfilter e3d3\nfilter_1 e3d0\nfilter_2 e3d1\nfilter_3 e3d2\nfilter_4 e3d4\nfilter_5 e3d5\nfilter_6 e3d6\nfilter_7 e3d7\nfilter_8 e3d8\nfilter_9 e3d9\nfilter_9_plus e3da\nfilter_alt ef4f\nfilter_alt_off eb32\nfilter_b_and_w e3db\nfilter_center_focus e3dc\nfilter_drama e3dd\nfilter_frames e3de\nfilter_hdr e3df\nfilter_list e152\nfilter_list_alt e94e\nfilter_list_off eb57\nfilter_none e3e0\nfilter_tilt_shift e3e2\nfilter_vintage e3e3\nfind_in_page e880\nfind_replace e881\nfingerprint e90d\nfire_extinguisher f1d8\nfire_hydrant f1a3\nfire_hydrant_alt f8f1\nfire_truck f8f2\nfireplace ea43\nfirst_page e5dc\nfit_screen ea10\nfitbit e82b\nfitness_center eb43\nflag e153\nflag_circle eaf8\nflaky ef50\nflare e3e4\nflash_auto e3e5\nflash_off e3e6\nflash_on e3e7\nflashlight_off f00a\nflashlight_on f00b\nflatware f00c\nflight e539\nflight_class e7cb\nflight_land e904\nflight_takeoff e905\nflip e3e8\nflip_camera_android ea37\nflip_camera_ios ea38\nflip_to_back e882\nflip_to_front e883\nflood ebe6\nflourescent ec31\nflourescent f00d\nfluorescent ec31\nflutter_dash e00b\nfmd_bad f00e\nfmd_good f00f\nfoggy e818\nfolder e2c7\nfolder_copy ebbd\nfolder_delete eb34\nfolder_off eb83\nfolder_open e2c8\nfolder_shared e2c9\nfolder_special e617\nfolder_zip eb2c\nfollow_the_signs f222\nfont_download e167\nfont_download_off e4f9\nfood_bank f1f2\nforest ea99\nfork_left eba0\nfork_right ebac\nforklift f868\nformat_align_center e234\nformat_align_justify e235\nformat_align_left e236\nformat_align_right e237\nformat_bold e238\nformat_clear e239\nformat_color_fill e23a\nformat_color_reset e23b\nformat_color_text e23c\nformat_indent_decrease e23d\nformat_indent_increase e23e\nformat_italic e23f\nformat_line_spacing e240\nformat_list_bulleted e241\nformat_list_bulleted_add f849\nformat_list_numbered e242\nformat_list_numbered_rtl e267\nformat_overline eb65\nformat_paint e243\nformat_quote e244\nformat_shapes e25e\nformat_size e245\nformat_strikethrough e246\nformat_textdirection_l_to_r e247\nformat_textdirection_r_to_l e248\nformat_underline e249\nformat_underlined e249\nfort eaad\nforum e0bf\nforward e154\nforward_10 e056\nforward_30 e057\nforward_5 e058\nforward_to_inbox f187\nfoundation f200\nfree_breakfast eb44\nfree_cancellation e748\nfront_hand e769\nfront_loader f869\nfullscreen e5d0\nfullscreen_exit e5d1\nfunctions e24a\ng_mobiledata f010\ng_translate e927\ngamepad e30f\ngames e021\ngarage f011\ngas_meter ec19\ngavel e90e\ngenerating_tokens e749\ngesture e155\nget_app e884\ngif e908\ngif_box e7a3\ngirl eb68\ngite e58b\ngoat 10fffd\ngolf_course eb45\ngpp_bad f012\ngpp_good f013\ngpp_maybe f014\ngps_fixed e1b3\ngps_not_fixed e1b4\ngps_off e1b5\ngrade e885\ngradient e3e9\ngrading ea4f\ngrain e3ea\ngraphic_eq e1b8\ngrass f205\ngrid_3x3 f015\ngrid_4x4 f016\ngrid_goldenratio f017\ngrid_off e3eb\ngrid_on e3ec\ngrid_view e9b0\ngroup e7ef\ngroup_add e7f0\ngroup_off e747\ngroup_remove e7ad\ngroup_work e886\ngroups f233\ngroups_2 f8df\ngroups_3 f8e0\nh_mobiledata f018\nh_plus_mobiledata f019\nhail e9b1\nhandshake ebcb\nhandyman f10b\nhardware ea59\nhd e052\nhdr_auto f01a\nhdr_auto_select f01b\nhdr_enhanced_select ef51\nhdr_off e3ed\nhdr_off_select f01c\nhdr_on e3ee\nhdr_on_select f01d\nhdr_plus f01e\nhdr_strong e3f1\nhdr_weak e3f2\nheadphones f01f\nheadphones_battery f020\nheadset e310\nheadset_mic e311\nheadset_off e33a\nhealing e3f3\nhealth_and_safety e1d5\nhearing e023\nhearing_disabled f104\nheart_broken eac2\nheat_pump ec18\nheight ea16\nhelp e887\nhelp_center f1c0\nhelp_outline e8fd\nhevc f021\nhexagon eb39\nhide_image f022\nhide_source f023\nhigh_quality e024\nhighlight e25f\nhighlight_alt ef52\nhighlight_off e888\nhighlight_remove e888\nhiking e50a\nhistory e889\nhistory_edu ea3e\nhistory_toggle_off f17d\nhive eaa6\nhls eb8a\nhls_off eb8c\nholiday_village e58a\nhome e88a\nhome_filled e9b2\nhome_max f024\nhome_mini f025\nhome_repair_service f100\nhome_work ea09\nhorizontal_distribute e014\nhorizontal_rule f108\nhorizontal_split e947\nhot_tub eb46\nhotel e53a\nhotel_class e743\nhourglass_bottom ea5c\nhourglass_disabled ef53\nhourglass_empty e88b\nhourglass_full e88c\nhourglass_top ea5b\nhouse ea44\nhouse_siding f202\nhouseboat e584\nhow_to_reg e174\nhow_to_vote e175\nhtml eb7e\nhttp e902\nhttps e88d\nhub e9f4\nhvac f10e\nice_skating e50b\nicecream ea69\nimage e3f4\nimage_aspect_ratio e3f5\nimage_not_supported f116\nimage_search e43f\nimagesearch_roller e9b4\nimport_contacts e0e0\nimport_export e0c3\nimportant_devices e912\ninbox e156\nincomplete_circle e79b\nindeterminate_check_box e909\ninfo e88e\ninfo_outline e88f\ninput e890\ninsert_chart e24b\ninsert_chart_outlined e26a\ninsert_comment e24c\ninsert_drive_file e24d\ninsert_emoticon e24e\ninsert_invitation e24f\ninsert_link e250\ninsert_page_break eaca\ninsert_photo e251\ninsights f092\ninstall_desktop eb71\ninstall_mobile eb72\nintegration_instructions ef54\ninterests e7c8\ninterpreter_mode e83b\ninventory e179\ninventory_2 e1a1\ninvert_colors e891\ninvert_colors_off e0c4\ninvert_colors_on e891\nios_share e6b8\niron e583\niso e3f6\njavascript eb7c\njoin_full eaeb\njoin_inner eaf4\njoin_left eaf2\njoin_right eaea\nkayaking e50c\nkebab_dining e842\nkey e73c\nkey_off eb84\nkeyboard e312\nkeyboard_alt f028\nkeyboard_arrow_down e313\nkeyboard_arrow_left e314\nkeyboard_arrow_right e315\nkeyboard_arrow_up e316\nkeyboard_backspace e317\nkeyboard_capslock e318\nkeyboard_command eae0\nkeyboard_command_key eae7\nkeyboard_control e5d3\nkeyboard_control_key eae6\nkeyboard_double_arrow_down ead0\nkeyboard_double_arrow_left eac3\nkeyboard_double_arrow_right eac9\nkeyboard_double_arrow_up eacf\nkeyboard_hide e31a\nkeyboard_option eadf\nkeyboard_option_key eae8\nkeyboard_return e31b\nkeyboard_tab e31c\nkeyboard_voice e31d\nking_bed ea45\nkitchen eb47\nkitesurfing e50d\nlabel e892\nlabel_important e937\nlabel_important_outline e948\nlabel_off e9b6\nlabel_outline e893\nlan eb2f\nlandscape e3f7\nlandslide ebd7\nlanguage e894\nlaptop e31e\nlaptop_chromebook e31f\nlaptop_mac e320\nlaptop_windows e321\nlast_page e5dd\nlaunch e895\nlayers e53b\nlayers_clear e53c\nleaderboard f20c\nleak_add e3f8\nleak_remove e3f9\nleave_bags_at_home f21b\nlegend_toggle f11b\nlens e3fa\nlens_blur f029\nlibrary_add e02e\nlibrary_add_check e9b7\nlibrary_books e02f\nlibrary_music e030\nlight f02a\nlight_mode e518\nlightbulb e0f0\nlightbulb_circle ebfe\nlightbulb_outline e90f\nline_axis ea9a\nline_style e919\nline_weight e91a\nlinear_scale e260\nlink e157\nlink_off e16f\nlinked_camera e438\nliquor ea60\nlist e896\nlist_alt e0ee\nlive_help e0c6\nlive_tv e639\nliving f02b\nlocal_activity e53f\nlocal_airport e53d\nlocal_atm e53e\nlocal_attraction e53f\nlocal_bar e540\nlocal_cafe e541\nlocal_car_wash e542\nlocal_convenience_store e543\nlocal_dining e556\nlocal_drink e544\nlocal_fire_department ef55\nlocal_florist e545\nlocal_gas_station e546\nlocal_grocery_store e547\nlocal_hospital e548\nlocal_hotel e549\nlocal_laundry_service e54a\nlocal_library e54b\nlocal_mall e54c\nlocal_movies e54d\nlocal_offer e54e\nlocal_parking e54f\nlocal_pharmacy e550\nlocal_phone e551\nlocal_pizza e552\nlocal_play e553\nlocal_police ef56\nlocal_post_office e554\nlocal_print_shop e555\nlocal_printshop e555\nlocal_restaurant e556\nlocal_see e557\nlocal_shipping e558\nlocal_taxi e559\nlocation_city e7f1\nlocation_disabled e1b6\nlocation_history e55a\nlocation_off e0c7\nlocation_on e0c8\nlocation_pin f1db\nlocation_searching e1b7\nlock e897\nlock_clock ef57\nlock_open e898\nlock_outline e899\nlock_person f8f3\nlock_reset eade\nlogin ea77\nlogo_dev ead6\nlogout e9ba\nlooks e3fc\nlooks_3 e3fb\nlooks_4 e3fd\nlooks_5 e3fe\nlooks_6 e3ff\nlooks_one e400\nlooks_two e401\nloop e028\nloupe e402\nlow_priority e16d\nloyalty e89a\nlte_mobiledata f02c\nlte_plus_mobiledata f02d\nluggage f235\nlunch_dining ea61\nlyrics ec0b\nmacro_off f8d2\nmail e158\nmail_lock ec0a\nmail_outline e0e1\nmale e58e\nman e4eb\nman_2 f8e1\nman_3 f8e2\nman_4 f8e3\nmanage_accounts f02e\nmanage_history ebe7\nmanage_search f02f\nmap e55b\nmaps_home_work f030\nmaps_ugc ef58\nmargin e9bb\nmark_as_unread e9bc\nmark_chat_read f18b\nmark_chat_unread f189\nmark_email_read f18c\nmark_email_unread f18a\nmark_unread_chat_alt eb9d\nmarkunread e159\nmarkunread_mailbox e89b\nmasks f218\nmaximize e930\nmedia_bluetooth_off f031\nmedia_bluetooth_on f032\nmediation efa7\nmedical_information ebed\nmedical_services f109\nmedication f033\nmedication_liquid ea87\nmeeting_room eb4f\nmemory e322\nmenu e5d2\nmenu_book ea19\nmenu_open e9bd\nmerge eb98\nmerge_type e252\nmessage e0c9\nmessenger e0ca\nmessenger_outline e0cb\nmic e029\nmic_external_off ef59\nmic_external_on ef5a\nmic_none e02a\nmic_off e02b\nmicrowave f204\nmilitary_tech ea3f\nminimize e931\nminor_crash ebf1\nmiscellaneous_services f10c\nmissed_video_call e073\nmms e618\nmobile_friendly e200\nmobile_off e201\nmobile_screen_share e0e7\nmobiledata_off f034\nmode f097\nmode_comment e253\nmode_edit e254\nmode_edit_outline f035\nmode_fan_off ec17\nmode_night f036\nmode_of_travel e7ce\nmode_standby f037\nmodel_training f0cf\nmonetization_on e263\nmoney e57d\nmoney_off e25c\nmoney_off_csred f038\nmonitor ef5b\nmonitor_heart eaa2\nmonitor_weight f039\nmonochrome_photos e403\nmood e7f2\nmood_bad e7f3\nmoped eb28\nmore e619\nmore_horiz e5d3\nmore_time ea5d\nmore_vert e5d4\nmosque eab2\nmotion_photos_auto f03a\nmotion_photos_off e9c0\nmotion_photos_on e9c1\nmotion_photos_pause f227\nmotion_photos_paused e9c2\nmotorcycle e91b\nmouse e323\nmove_down eb61\nmove_to_inbox e168\nmove_up eb64\nmovie e02c\nmovie_creation e404\nmovie_edit f840\nmovie_filter e43a\nmoving e501\nmp e9c3\nmultiline_chart e6df\nmultiple_stop f1b9\nmultitrack_audio e1b8\nmuseum ea36\nmusic_note e405\nmusic_off e440\nmusic_video e063\nmy_library_add e02e\nmy_library_books e02f\nmy_library_music e030\nmy_location e55c\nnat ef5c\nnature e406\nnature_people e407\nnavigate_before e408\nnavigate_next e409\nnavigation e55d\nnear_me e569\nnear_me_disabled f1ef\nnearby_error f03b\nnearby_off f03c\nnest_cam_wired_stand ec16\nnetwork_cell e1b9\nnetwork_check e640\nnetwork_locked e61a\nnetwork_ping ebca\nnetwork_wifi e1ba\nnetwork_wifi_1_bar ebe4\nnetwork_wifi_2_bar ebd6\nnetwork_wifi_3_bar ebe1\nnew_label e609\nnew_releases e031\nnewspaper eb81\nnext_plan ef5d\nnext_week e16a\nnfc e1bb\nnight_shelter f1f1\nnightlife ea62\nnightlight f03d\nnightlight_round ef5e\nnights_stay ea46\nno_accounts f03e\nno_adult_content f8fe\nno_backpack f237\nno_cell f1a4\nno_crash ebf0\nno_drinks f1a5\nno_encryption e641\nno_encryption_gmailerrorred f03f\nno_flash f1a6\nno_food f1a7\nno_luggage f23b\nno_meals f1d6\nno_meals_ouline f229\nno_meeting_room eb4e\nno_photography f1a8\nno_sim e0cc\nno_stroller f1af\nno_transfer f1d5\nnoise_aware ebec\nnoise_control_off ebf3\nnordic_walking e50e\nnorth f1e0\nnorth_east f1e1\nnorth_west f1e2\nnot_accessible f0fe\nnot_interested e033\nnot_listed_location e575\nnot_started f0d1\nnote e06f\nnote_add e89c\nnote_alt f040\nnotes e26c\nnotification_add e399\nnotification_important e004\nnotifications e7f4\nnotifications_active e7f7\nnotifications_none e7f5\nnotifications_off e7f6\nnotifications_on e7f7\nnotifications_paused e7f8\nnow_wallpaper e1bc\nnow_widgets e1bd\nnumbers eac7\noffline_bolt e932\noffline_pin e90a\noffline_share e9c5\noil_barrel ec15\non_device_training ebfd\nondemand_video e63a\nonline_prediction f0eb\nopacity e91c\nopen_in_browser e89d\nopen_in_full f1ce\nopen_in_new e89e\nopen_in_new_off e4f6\nopen_with e89f\nother_houses e58c\noutbond f228\noutbound e1ca\noutbox ef5f\noutdoor_grill ea47\noutgoing_mail f0d2\noutlet f1d4\noutlined_flag e16e\noutput ebbe\npadding e9c8\npages e7f9\npageview e8a0\npaid f041\npalette e40a\npallet f86a\npan_tool e925\npan_tool_alt ebb9\npanorama e40b\npanorama_fish_eye e40c\npanorama_fisheye e40c\npanorama_horizontal e40d\npanorama_horizontal_select ef60\npanorama_photosphere e9c9\npanorama_photosphere_select e9ca\npanorama_vertical e40e\npanorama_vertical_select ef61\npanorama_wide_angle e40f\npanorama_wide_angle_select ef62\nparagliding e50f\npark ea63\nparty_mode e7fa\npassword f042\npattern f043\npause e034\npause_circle e1a2\npause_circle_filled e035\npause_circle_outline e036\npause_presentation e0ea\npayment e8a1\npayments ef63\npaypal ea8d\npedal_bike eb29\npending ef64\npending_actions f1bb\npentagon eb50\npeople e7fb\npeople_alt ea21\npeople_outline e7fc\npercent eb58\nperm_camera_mic e8a2\nperm_contact_cal e8a3\nperm_contact_calendar e8a3\nperm_data_setting e8a4\nperm_device_info e8a5\nperm_device_information e8a5\nperm_identity e8a6\nperm_media e8a7\nperm_phone_msg e8a8\nperm_scan_wifi e8a9\nperson e7fd\nperson_2 f8e4\nperson_3 f8e5\nperson_4 f8e6\nperson_add e7fe\nperson_add_alt ea4d\nperson_add_alt_1 ef65\nperson_add_disabled e9cb\nperson_off e510\nperson_outline e7ff\nperson_pin e55a\nperson_pin_circle e56a\nperson_remove ef66\nperson_remove_alt_1 ef67\nperson_search f106\npersonal_injury e6da\npersonal_video e63b\npest_control f0fa\npest_control_rodent f0fd\npets e91d\nphishing ead7\nphone e0cd\nphone_android e324\nphone_bluetooth_speaker e61b\nphone_callback e649\nphone_disabled e9cc\nphone_enabled e9cd\nphone_forwarded e61c\nphone_in_talk e61d\nphone_iphone e325\nphone_locked e61e\nphone_missed e61f\nphone_paused e620\nphonelink e326\nphonelink_erase e0db\nphonelink_lock e0dc\nphonelink_off e327\nphonelink_ring e0dd\nphonelink_setup e0de\nphoto e410\nphoto_album e411\nphoto_camera e412\nphoto_camera_back ef68\nphoto_camera_front ef69\nphoto_filter e43b\nphoto_library e413\nphoto_size_select_actual e432\nphoto_size_select_large e433\nphoto_size_select_small e434\nphp eb8f\npiano e521\npiano_off e520\npicture_as_pdf e415\npicture_in_picture e8aa\npicture_in_picture_alt e911\npie_chart e6c4\npie_chart_outline f044\npie_chart_outlined e6c5\npin f045\npin_drop e55e\npin_end e767\npin_invoke e763\npinch eb38\npivot_table_chart e9ce\npix eaa3\nplace e55f\nplagiarism ea5a\nplay_arrow e037\nplay_circle e1c4\nplay_circle_fill e038\nplay_circle_filled e038\nplay_circle_outline e039\nplay_disabled ef6a\nplay_for_work e906\nplay_lesson f047\nplaylist_add e03b\nplaylist_add_check e065\nplaylist_add_check_circle e7e6\nplaylist_add_circle e7e5\nplaylist_play e05f\nplaylist_remove eb80\nplumbing f107\nplus_one e800\npodcasts f048\npoint_of_sale f17e\npolicy ea17\npoll e801\npolyline ebbb\npolymer e8ab\npool eb48\nportable_wifi_off e0ce\nportrait e416\npost_add ea20\npower e63c\npower_input e336\npower_off e646\npower_settings_new e8ac\nprecision_manufacturing f049\npregnant_woman e91e\npresent_to_all e0df\npreview f1c5\nprice_change f04a\nprice_check f04b\nprint e8ad\nprint_disabled e9cf\npriority_high e645\nprivacy_tip f0dc\nprivate_connectivity e744\nproduction_quantity_limits e1d1\npropane ec14\npropane_tank ec13\npsychology ea4a\npsychology_alt f8ea\npublic e80b\npublic_off f1ca\npublish e255\npublished_with_changes f232\npunch_clock eaa8\npush_pin f10d\nqr_code ef6b\nqr_code_2 e00a\nqr_code_scanner f206\nquery_builder e8ae\nquery_stats e4fc\nquestion_answer e8af\nquestion_mark eb8b\nqueue e03c\nqueue_music e03d\nqueue_play_next e066\nquick_contacts_dialer e0cf\nquick_contacts_mail e0d0\nquickreply ef6c\nquiz f04c\nquora ea98\nr_mobiledata f04d\nradar f04e\nradio e03e\nradio_button_checked e837\nradio_button_off e836\nradio_button_on e837\nradio_button_unchecked e836\nrailway_alert e9d1\nramen_dining ea64\nramp_left eb9c\nramp_right eb96\nrate_review e560\nraw_off f04f\nraw_on f050\nread_more ef6d\nreal_estate_agent e73a\nrebase_edit f846\nreceipt e8b0\nreceipt_long ef6e\nrecent_actors e03f\nrecommend e9d2\nrecord_voice_over e91f\nrectangle eb54\nrecycling e760\nreddit eaa0\nredeem e8b1\nredo e15a\nreduce_capacity f21c\nrefresh e5d5\nremember_me f051\nremove e15b\nremove_circle e15c\nremove_circle_outline e15d\nremove_done e9d3\nremove_from_queue e067\nremove_moderator e9d4\nremove_red_eye e417\nremove_road ebfc\nremove_shopping_cart e928\nreorder e8fe\nrepartition f8e8\nrepeat e040\nrepeat_on e9d6\nrepeat_one e041\nrepeat_one_on e9d7\nreplay e042\nreplay_10 e059\nreplay_30 e05a\nreplay_5 e05b\nreplay_circle_filled e9d8\nreply e15e\nreply_all e15f\nreport e160\nreport_gmailerrorred f052\nreport_off e170\nreport_problem e8b2\nrequest_page f22c\nrequest_quote f1b6\nreset_tv e9d9\nrestart_alt f053\nrestaurant e56c\nrestaurant_menu e561\nrestore e8b3\nrestore_from_trash e938\nrestore_page e929\nreviews f054\nrice_bowl f1f5\nring_volume e0d1\nrocket eba5\nrocket_launch eb9b\nroller_shades ec12\nroller_shades_closed ec11\nroller_skating ebcd\nroofing f201\nroom e8b4\nroom_preferences f1b8\nroom_service eb49\nrotate_90_degrees_ccw e418\nrotate_90_degrees_cw eaab\nrotate_left e419\nrotate_right e41a\nroundabout_left eb99\nroundabout_right eba3\nrounded_corner e920\nroute eacd\nrouter e328\nrowing e921\nrss_feed e0e5\nrsvp f055\nrtt e9ad\nrule f1c2\nrule_folder f1c9\nrun_circle ef6f\nrunning_with_errors e51d\nrv_hookup e642\nsafety_check ebef\nsafety_divider e1cc\nsailing e502\nsanitizer f21d\nsatellite e562\nsatellite_alt eb3a\nsave e161\nsave_alt e171\nsave_as eb60\nsaved_search ea11\nsavings e2eb\nscale eb5f\nscanner e329\nscatter_plot e268\nschedule e8b5\nschedule_send ea0a\nschema e4fd\nschool e80c\nscience ea4b\nscore e269\nscoreboard ebd0\nscreen_lock_landscape e1be\nscreen_lock_portrait e1bf\nscreen_lock_rotation e1c0\nscreen_rotation e1c1\nscreen_rotation_alt ebee\nscreen_search_desktop ef70\nscreen_share e0e2\nscreenshot f056\nscreenshot_monitor ec08\nscuba_diving ebce\nsd e9dd\nsd_card e623\nsd_card_alert f057\nsd_storage e1c2\nsearch e8b6\nsearch_off ea76\nsecurity e32a\nsecurity_update f058\nsecurity_update_good f059\nsecurity_update_warning f05a\nsegment e94b\nselect_all e162\nself_improvement ea78\nsell f05b\nsend e163\nsend_and_archive ea0c\nsend_time_extension eadb\nsend_to_mobile f05c\nsensor_door f1b5\nsensor_occupied ec10\nsensor_window f1b4\nsensors e51e\nsensors_off e51f\nsentiment_dissatisfied e811\nsentiment_neutral e812\nsentiment_satisfied e813\nsentiment_satisfied_alt e0ed\nsentiment_very_dissatisfied e814\nsentiment_very_satisfied e815\nset_meal f1ea\nsettings e8b8\nsettings_accessibility f05d\nsettings_applications e8b9\nsettings_backup_restore e8ba\nsettings_bluetooth e8bb\nsettings_brightness e8bd\nsettings_cell e8bc\nsettings_display e8bd\nsettings_ethernet e8be\nsettings_input_antenna e8bf\nsettings_input_component e8c0\nsettings_input_composite e8c1\nsettings_input_hdmi e8c2\nsettings_input_svideo e8c3\nsettings_overscan e8c4\nsettings_phone e8c5\nsettings_power e8c6\nsettings_remote e8c7\nsettings_suggest f05e\nsettings_system_daydream e1c3\nsettings_voice e8c8\nsevere_cold ebd3\nshape_line f8d3\nshare e80d\nshare_arrival_time e524\nshare_location f05f\nshelves f86e\nshield e9e0\nshield_moon eaa9\nshop e8c9\nshop_2 e19e\nshop_two e8ca\nshopify ea9d\nshopping_bag f1cc\nshopping_basket e8cb\nshopping_cart e8cc\nshopping_cart_checkout eb88\nshort_text e261\nshortcut f060\nshow_chart e6e1\nshower f061\nshuffle e043\nshuffle_on e9e1\nshutter_speed e43d\nsick f220\nsign_language ebe5\nsignal_cellular_0_bar f0a8\nsignal_cellular_4_bar e1c8\nsignal_cellular_alt e202\nsignal_cellular_alt_1_bar ebdf\nsignal_cellular_alt_2_bar ebe3\nsignal_cellular_connected_no_internet_0_bar f0ac\nsignal_cellular_connected_no_internet_4_bar e1cd\nsignal_cellular_no_sim e1ce\nsignal_cellular_nodata f062\nsignal_cellular_null e1cf\nsignal_cellular_off e1d0\nsignal_wifi_0_bar f0b0\nsignal_wifi_4_bar e1d8\nsignal_wifi_4_bar_lock e1d9\nsignal_wifi_bad f063\nsignal_wifi_connected_no_internet_4 f064\nsignal_wifi_off e1da\nsignal_wifi_statusbar_4_bar f065\nsignal_wifi_statusbar_connected_no_internet_4 f066\nsignal_wifi_statusbar_null f067\nsignpost eb91\nsim_card e32b\nsim_card_alert e624\nsim_card_download f068\nsingle_bed ea48\nsip f069\nskateboarding e511\nskip_next e044\nskip_previous e045\nsledding e512\nslideshow e41b\nslow_motion_video e068\nsmart_button f1c1\nsmart_display f06a\nsmart_screen f06b\nsmart_toy f06c\nsmartphone e32c\nsmoke_free eb4a\nsmoking_rooms eb4b\nsms e625\nsms_failed e626\nsnapchat ea6e\nsnippet_folder f1c7\nsnooze e046\nsnowboarding e513\nsnowing e80f\nsnowmobile e503\nsnowshoeing e514\nsoap f1b2\nsocial_distance e1cb\nsolar_power ec0f\nsort e164\nsort_by_alpha e053\nsos ebf7\nsoup_kitchen e7d3\nsource f1c4\nsouth f1e3\nsouth_america e7e4\nsouth_east f1e4\nsouth_west f1e5\nspa eb4c\nspace_bar e256\nspace_dashboard e66b\nspatial_audio ebeb\nspatial_audio_off ebe8\nspatial_tracking ebea\nspeaker e32d\nspeaker_group e32e\nspeaker_notes e8cd\nspeaker_notes_off e92a\nspeaker_phone e0d2\nspeed e9e4\nspellcheck e8ce\nsplitscreen f06d\nspoke e9a7\nsports ea30\nsports_bar f1f3\nsports_baseball ea51\nsports_basketball ea26\nsports_cricket ea27\nsports_esports ea28\nsports_football ea29\nsports_golf ea2a\nsports_gymnastics ebc4\nsports_handball ea33\nsports_hockey ea2b\nsports_kabaddi ea34\nsports_martial_arts eae9\nsports_mma ea2c\nsports_motorsports ea2d\nsports_rugby ea2e\nsports_score f06e\nsports_soccer ea2f\nsports_tennis ea32\nsports_volleyball ea31\nsquare eb36\nsquare_foot ea49\nssid_chart eb66\nstacked_bar_chart e9e6\nstacked_line_chart f22b\nstadium eb90\nstairs f1a9\nstar e838\nstar_border e83a\nstar_border_purple500 f099\nstar_half e839\nstar_outline f06f\nstar_purple500 f09a\nstar_rate f0ec\nstars e8d0\nstart e089\nstay_current_landscape e0d3\nstay_current_portrait e0d4\nstay_primary_landscape e0d5\nstay_primary_portrait e0d6\nsticky_note_2 f1fc\nstop e047\nstop_circle ef71\nstop_screen_share e0e3\nstorage e1db\nstore e8d1\nstore_mall_directory e563\nstorefront ea12\nstorm f070\nstraight eb95\nstraighten e41c\nstream e9e9\nstreetview e56e\nstrikethrough_s e257\nstroller f1ae\nstyle e41d\nsubdirectory_arrow_left e5d9\nsubdirectory_arrow_right e5da\nsubject e8d2\nsubscript f111\nsubscriptions e064\nsubtitles e048\nsubtitles_off ef72\nsubway e56f\nsummarize f071\nsunny e81a\nsunny_snowing e819\nsuperscript f112\nsupervised_user_circle e939\nsupervisor_account e8d3\nsupport ef73\nsupport_agent f0e2\nsurfing e515\nsurround_sound e049\nswap_calls e0d7\nswap_horiz e8d4\nswap_horizontal_circle e933\nswap_vert e8d5\nswap_vert_circle e8d6\nswap_vertical_circle e8d6\nswipe e9ec\nswipe_down eb53\nswipe_down_alt eb30\nswipe_left eb59\nswipe_left_alt eb33\nswipe_right eb52\nswipe_right_alt eb56\nswipe_up eb2e\nswipe_up_alt eb35\nswipe_vertical eb51\nswitch_access_shortcut e7e1\nswitch_access_shortcut_add e7e2\nswitch_account e9ed\nswitch_camera e41e\nswitch_left f1d1\nswitch_right f1d2\nswitch_video e41f\nsynagogue eab0\nsync e627\nsync_alt ea18\nsync_disabled e628\nsync_lock eaee\nsync_problem e629\nsystem_security_update f072\nsystem_security_update_good f073\nsystem_security_update_warning f074\nsystem_update e62a\nsystem_update_alt e8d7\nsystem_update_tv e8d7\ntab e8d8\ntab_unselected e8d9\ntable_bar ead2\ntable_chart e265\ntable_restaurant eac6\ntable_rows f101\ntable_view f1be\ntablet e32f\ntablet_android e330\ntablet_mac e331\ntag e9ef\ntag_faces e420\ntakeout_dining ea74\ntap_and_play e62b\ntapas f1e9\ntask f075\ntask_alt e2e6\ntaxi_alert ef74\ntelegram ea6b\ntemple_buddhist eab3\ntemple_hindu eaaf\nterminal eb8e\nterrain e564\ntext_decrease eadd\ntext_fields e262\ntext_format e165\ntext_increase eae2\ntext_rotate_up e93a\ntext_rotate_vertical e93b\ntext_rotation_angledown e93c\ntext_rotation_angleup e93d\ntext_rotation_down e93e\ntext_rotation_none e93f\ntext_snippet f1c6\ntextsms e0d8\ntexture e421\ntheater_comedy ea66\ntheaters e8da\nthermostat f076\nthermostat_auto f077\nthumb_down e8db\nthumb_down_alt e816\nthumb_down_off_alt e9f2\nthumb_up e8dc\nthumb_up_alt e817\nthumb_up_off_alt e9f3\nthumbs_up_down e8dd\nthunderstorm ebdb\ntiktok ea7e\ntime_to_leave e62c\ntimelapse e422\ntimeline e922\ntimer e425\ntimer_10 e423\ntimer_10_select f07a\ntimer_3 e424\ntimer_3_select f07b\ntimer_off e426\ntips_and_updates e79a\ntire_repair ebc8\ntitle e264\ntoc e8de\ntoday e8df\ntoggle_off e9f5\ntoggle_on e9f6\ntoken ea25\ntoll e8e0\ntonality e427\ntopic f1c8\ntornado e199\ntouch_app e913\ntour ef75\ntoys e332\ntrack_changes e8e1\ntraffic e565\ntrain e570\ntram e571\ntranscribe f8ec\ntransfer_within_a_station e572\ntransform e428\ntransgender e58d\ntransit_enterexit e579\ntranslate e8e2\ntravel_explore e2db\ntrending_down e8e3\ntrending_flat e8e4\ntrending_neutral e8e4\ntrending_up e8e5\ntrip_origin e57b\ntrolley f86b\ntroubleshoot e1d2\ntry f07c\ntsunami ebd8\ntty f1aa\ntune e429\ntungsten f07d\nturn_left eba6\nturn_right ebab\nturn_sharp_left eba7\nturn_sharp_right ebaa\nturn_slight_left eba4\nturn_slight_right eb9a\nturned_in e8e6\nturned_in_not e8e7\ntv e333\ntv_off e647\ntwo_wheeler e9f9\ntype_specimen f8f0\nu_turn_left eba1\nu_turn_right eba2\numbrella f1ad\nunarchive e169\nundo e166\nunfold_less e5d6\nunfold_less_double f8cf\nunfold_more e5d7\nunfold_more_double f8d0\nunpublished f236\nunsubscribe e0eb\nupcoming f07e\nupdate e923\nupdate_disabled e075\nupgrade f0fb\nupload f09b\nupload_file e9fc\nusb e1e0\nusb_off e4fa\nvaccines e138\nvape_free ebc6\nvaping_rooms ebcf\nverified ef76\nverified_user e8e8\nvertical_align_bottom e258\nvertical_align_center e259\nvertical_align_top e25a\nvertical_distribute e076\nvertical_shades ec0e\nvertical_shades_closed ec0d\nvertical_split e949\nvibration e62d\nvideo_call e070\nvideo_camera_back f07f\nvideo_camera_front f080\nvideo_chat f8a0\nvideo_collection e04a\nvideo_file eb87\nvideo_label e071\nvideo_library e04a\nvideo_settings ea75\nvideo_stable f081\nvideocam e04b\nvideocam_off e04c\nvideogame_asset e338\nvideogame_asset_off e500\nview_agenda e8e9\nview_array e8ea\nview_carousel e8eb\nview_column e8ec\nview_comfortable e42a\nview_comfy e42a\nview_comfy_alt eb73\nview_compact e42b\nview_compact_alt eb74\nview_cozy eb75\nview_day e8ed\nview_headline e8ee\nview_in_ar e9fe\nview_kanban eb7f\nview_list e8ef\nview_module e8f0\nview_quilt e8f1\nview_sidebar f114\nview_stream e8f2\nview_timeline eb85\nview_week e8f3\nvignette e435\nvilla e586\nvisibility e8f4\nvisibility_off e8f5\nvoice_chat e62e\nvoice_over_off e94a\nvoicemail e0d9\nvolcano ebda\nvolume_down e04d\nvolume_down_alt e79c\nvolume_mute e04e\nvolume_off e04f\nvolume_up e050\nvolunteer_activism ea70\nvpn_key e0da\nvpn_key_off eb7a\nvpn_lock e62f\nvrpano f082\nwallet f8ff\nwallet_giftcard e8f6\nwallet_membership e8f7\nwallet_travel e8f8\nwallpaper e1bc\nwarehouse ebb8\nwarning e002\nwarning_amber f083\nwash f1b1\nwatch e334\nwatch_later e924\nwatch_off eae3\nwater f084\nwater_damage f203\nwater_drop e798\nwaterfall_chart ea00\nwaves e176\nwaving_hand e766\nwb_auto e42c\nwb_cloudy e42d\nwb_incandescent e42e\nwb_iridescent e436\nwb_shade ea01\nwb_sunny e430\nwb_twighlight ea02\nwb_twilight e1c6\nwc e63d\nweb e051\nweb_asset e069\nweb_asset_off e4f7\nweb_stories e595\nwebhook eb92\nwechat ea81\nweekend e16b\nwest f1e6\nwhatshot e80e\nwheelchair_pickup f1ab\nwhere_to_vote e177\nwidgets e1bd\nwidth_full f8f5\nwidth_normal f8f6\nwidth_wide f8f7\nwifi e63e\nwifi_1_bar e4ca\nwifi_2_bar e4d9\nwifi_calling ef77\nwifi_calling_3 f085\nwifi_channel eb6a\nwifi_find eb31\nwifi_lock e1e1\nwifi_off e648\nwifi_password eb6b\nwifi_protected_setup f0fc\nwifi_tethering e1e2\nwifi_tethering_error ead9\nwifi_tethering_error_rounded f086\nwifi_tethering_off f087\nwind_power ec0c\nwindow f088\nwine_bar f1e8\nwoman e13e\nwoman_2 f8e7\nwoo_commerce ea6d\nwordpress ea9f\nwork e8f9\nwork_history ec09\nwork_off e942\nwork_outline e943\nworkspace_premium e7af\nworkspaces e1a0\nworkspaces_filled ea0d\nworkspaces_outline ea0f\nwrap_text e25b\nwrong_location ef78\nwysiwyg f1c3\nyard f089\nyoutube_searched_for e8fa\nzoom_in e8ff\nzoom_in_map eb2d\nzoom_out e900\nzoom_out_map e56b";static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();var Y1=function(r){return r.images="images",r.widgets="widgets",r}(Y1||{}),Kg=ie(8326);let x_=(()=>{class r{http;endPointConfig=Kg.G.getURL();constructor(t){this.http=t}getResources(t){let i=new ka.Lr({"Content-Type":"application/json"});return this.http.get(this.endPointConfig+"/api/resources/"+t,{headers:i,params:{type:t}})}removeWidget(t){let i=new ka.Lr({"Content-Type":"application/json"});return this.http.post(this.endPointConfig+"/api/resources/removeWidget",{path:t.path},{headers:i})}generateImage(t){const n={responseType:"text",headers:new ka.Lr({"Content-Type":"application/json"}),params:{param:JSON.stringify(t)}};return this.http.get(this.endPointConfig+"/api/resources/generateImage",n)}static \u0275fac=function(i){return new(i||r)(e.KVO(ka.Qq))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var N1=ie(2771);function bW(r,o){if(1&r&&(e.j41(0,"div",4)(1,"mat-list-option",5),e.EFF(2),e.k0s(),e.j41(3,"mat-list-option",5),e.EFF(4),e.k0s(),e.j41(5,"mat-list-option",5),e.EFF(6),e.k0s(),e.j41(7,"mat-list-option",5),e.EFF(8),e.k0s(),e.j41(9,"mat-list-option",5),e.EFF(10),e.k0s(),e.j41(11,"mat-list-option",5),e.EFF(12),e.k0s(),e.j41(13,"mat-list-option",5),e.EFF(14),e.k0s(),e.j41(15,"mat-list-option",5),e.EFF(16),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("selected",t.bits[8].selected)("value",t.bits[8]),e.R7$(1),e.JRh(t.bits[8].label),e.R7$(1),e.Y8G("selected",t.bits[9].selected)("value",t.bits[9]),e.R7$(1),e.JRh(t.bits[9].label),e.R7$(1),e.Y8G("selected",t.bits[10].selected)("value",t.bits[10]),e.R7$(1),e.JRh(t.bits[10].label),e.R7$(1),e.Y8G("selected",t.bits[11].selected)("value",t.bits[11]),e.R7$(1),e.JRh(t.bits[11].label),e.R7$(1),e.Y8G("selected",t.bits[12].selected)("value",t.bits[12]),e.R7$(1),e.JRh(t.bits[12].label),e.R7$(1),e.Y8G("selected",t.bits[13].selected)("value",t.bits[13]),e.R7$(1),e.JRh(t.bits[13].label),e.R7$(1),e.Y8G("selected",t.bits[14].selected)("value",t.bits[14]),e.R7$(1),e.JRh(t.bits[14].label),e.R7$(1),e.Y8G("selected",t.bits[15].selected)("value",t.bits[15]),e.R7$(1),e.JRh(t.bits[15].label)}}function wW(r,o){if(1&r&&(e.j41(0,"div",4)(1,"mat-list-option",5),e.EFF(2),e.k0s(),e.j41(3,"mat-list-option",5),e.EFF(4),e.k0s(),e.j41(5,"mat-list-option",5),e.EFF(6),e.k0s(),e.j41(7,"mat-list-option",5),e.EFF(8),e.k0s(),e.j41(9,"mat-list-option",5),e.EFF(10),e.k0s(),e.j41(11,"mat-list-option",5),e.EFF(12),e.k0s(),e.j41(13,"mat-list-option",5),e.EFF(14),e.k0s(),e.j41(15,"mat-list-option",5),e.EFF(16),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("selected",t.bits[16].selected)("value",t.bits[16]),e.R7$(1),e.JRh(t.bits[16].label),e.R7$(1),e.Y8G("selected",t.bits[17].selected)("value",t.bits[17]),e.R7$(1),e.JRh(t.bits[17].label),e.R7$(1),e.Y8G("selected",t.bits[18].selected)("value",t.bits[18]),e.R7$(1),e.JRh(t.bits[18].label),e.R7$(1),e.Y8G("selected",t.bits[19].selected)("value",t.bits[19]),e.R7$(1),e.JRh(t.bits[19].label),e.R7$(1),e.Y8G("selected",t.bits[20].selected)("value",t.bits[20]),e.R7$(1),e.JRh(t.bits[20].label),e.R7$(1),e.Y8G("selected",t.bits[21].selected)("value",t.bits[21]),e.R7$(1),e.JRh(t.bits[21].label),e.R7$(1),e.Y8G("selected",t.bits[22].selected)("value",t.bits[22]),e.R7$(1),e.JRh(t.bits[22].label),e.R7$(1),e.Y8G("selected",t.bits[23].selected)("value",t.bits[23]),e.R7$(1),e.JRh(t.bits[23].label)}}function CW(r,o){if(1&r&&(e.j41(0,"div",4)(1,"mat-list-option",5),e.EFF(2),e.k0s(),e.j41(3,"mat-list-option",5),e.EFF(4),e.k0s(),e.j41(5,"mat-list-option",5),e.EFF(6),e.k0s(),e.j41(7,"mat-list-option",5),e.EFF(8),e.k0s(),e.j41(9,"mat-list-option",5),e.EFF(10),e.k0s(),e.j41(11,"mat-list-option",5),e.EFF(12),e.k0s(),e.j41(13,"mat-list-option",5),e.EFF(14),e.k0s(),e.j41(15,"mat-list-option",5),e.EFF(16),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("selected",t.bits[24].selected)("value",t.bits[24]),e.R7$(1),e.JRh(t.bits[24].label),e.R7$(1),e.Y8G("selected",t.bits[25].selected)("value",t.bits[25]),e.R7$(1),e.JRh(t.bits[25].label),e.R7$(1),e.Y8G("selected",t.bits[26].selected)("value",t.bits[26]),e.R7$(1),e.JRh(t.bits[26].label),e.R7$(1),e.Y8G("selected",t.bits[27].selected)("value",t.bits[27]),e.R7$(1),e.JRh(t.bits[27].label),e.R7$(1),e.Y8G("selected",t.bits[28].selected)("value",t.bits[28]),e.R7$(1),e.JRh(t.bits[28].label),e.R7$(1),e.Y8G("selected",t.bits[29].selected)("value",t.bits[29]),e.R7$(1),e.JRh(t.bits[29].label),e.R7$(1),e.Y8G("selected",t.bits[30].selected)("value",t.bits[30]),e.R7$(1),e.JRh(t.bits[30].label),e.R7$(1),e.Y8G("selected",t.bits[31].selected)("value",t.bits[31]),e.R7$(1),e.JRh(t.bits[31].label)}}let EW=(()=>{class r{dialogRef;data;size=32;bits=[];selected=[];constructor(t,i){this.dialogRef=t,this.data=i}ngOnInit(){this.size=this.data.size||32;for(let t=0;t<this.size;t++){let i={id:Math.pow(2,t),label:t.toString()};this.bits.push(i),this.data.bitmask&i.id&&this.selected.push(i)}}onNoClick(){this.dialogRef.close()}onOkClick(){let t={bitmask:this.getValue()};this.dialogRef.close(t)}getValue(){let t=0;for(let i=0;i<this.selected.length;i++)t+=this.selected[i].id;return t}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-bitmask"]],decls:35,vars:37,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",2,"width","fit-content"],[2,"display","flex",3,"ngModel","ngModelChange"],[2,"display","inline-block"],["checkboxPosition","after",1,"bitmask-item",3,"selected","value"],["style","display: inline-block;",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"mat-selection-list",3),e.bIt("ngModelChange",function(s){return n.selected=s}),e.j41(8,"div",4)(9,"mat-list-option",5),e.EFF(10),e.k0s(),e.j41(11,"mat-list-option",5),e.EFF(12),e.k0s(),e.j41(13,"mat-list-option",5),e.EFF(14),e.k0s(),e.j41(15,"mat-list-option",5),e.EFF(16),e.k0s(),e.j41(17,"mat-list-option",5),e.EFF(18),e.k0s(),e.j41(19,"mat-list-option",5),e.EFF(20),e.k0s(),e.j41(21,"mat-list-option",5),e.EFF(22),e.k0s(),e.j41(23,"mat-list-option",5),e.EFF(24),e.k0s()(),e.DNE(25,bW,17,24,"div",6),e.DNE(26,wW,17,24,"div",6),e.DNE(27,CW,17,24,"div",6),e.k0s()(),e.j41(28,"div",7)(29,"button",8),e.bIt("click",function(){return n.onNoClick()}),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"button",9),e.bIt("click",function(){return n.onOkClick()}),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,31,"dlg.bitmask-title")),e.R7$(5),e.Y8G("ngModel",n.selected),e.R7$(2),e.Y8G("selected",n.bits[0].selected)("value",n.bits[0]),e.R7$(1),e.JRh(n.bits[0].label),e.R7$(1),e.Y8G("selected",n.bits[1].selected)("value",n.bits[1]),e.R7$(1),e.JRh(n.bits[1].label),e.R7$(1),e.Y8G("selected",n.bits[2].selected)("value",n.bits[2]),e.R7$(1),e.JRh(n.bits[2].label),e.R7$(1),e.Y8G("selected",n.bits[3].selected)("value",n.bits[3]),e.R7$(1),e.JRh(n.bits[3].label),e.R7$(1),e.Y8G("selected",n.bits[4].selected)("value",n.bits[4]),e.R7$(1),e.JRh(n.bits[4].label),e.R7$(1),e.Y8G("selected",n.bits[5].selected)("value",n.bits[5]),e.R7$(1),e.JRh(n.bits[5].label),e.R7$(1),e.Y8G("selected",n.bits[6].selected)("value",n.bits[6]),e.R7$(1),e.JRh(n.bits[6].label),e.R7$(1),e.Y8G("selected",n.bits[7].selected)("value",n.bits[7]),e.R7$(1),e.JRh(n.bits[7].label),e.R7$(1),e.Y8G("ngIf",n.size>8),e.R7$(1),e.Y8G("ngIf",n.size>16),e.R7$(1),e.Y8G("ngIf",n.size>24),e.R7$(3),e.JRh(e.bMT(31,33,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(34,35,"dlg.ok")))},dependencies:[l.bT,qe,tn,zn,Or,eo,Rr,Kn,pp,Hv,Wr,Vi.D9],styles:[".bitmask-item[_ngcontent-%COMP%]{font-size:13px;height:26px!important;cursor:pointer}"]})}return r})();function BW(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"input",13),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.variableValue=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChanged())}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(1),e.xc7("background",t.variableValue),e.Y8G("colorPicker",t.variableValue)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")}}function MW(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"input",14),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.variableValue=n)})("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChanged())}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngModel",t.variableValue)}}function xW(r,o){if(1&r&&(e.j41(0,"div",9)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.qex(4,10),e.DNE(5,BW,2,12,"ng-container",11),e.DNE(6,MW,2,1,"ng-container",12),e.bVm(),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,t.variableLabel)),e.R7$(2),e.Y8G("ngSwitch",t.withStaticType),e.R7$(1),e.Y8G("ngSwitchCase","color")}}function DW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",15)(1,"span",16),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"div",17),e.j41(5,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onBindTag())}),e.j41(6,"mat-icon"),e.EFF(7,"link"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,1,t.tagLabel))}}function IW(r,o){if(1&r&&(e.j41(0,"mat-option",21)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(2),e.JRh(t.name)}}function kW(r,o){if(1&r&&(e.j41(0,"mat-optgroup",19),e.DNE(1,IW,3,2,"mat-option",20),e.k0s()),2&r){const t=o.$implicit;e.Y8G("label",t.name),e.R7$(1),e.Y8G("ngForOf",t.tags)}}function TW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",22)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",23),e.nrm(5,"input",24),e.j41(6,"mat-icon",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSetBitmask())}),e.EFF(7,"arrow_drop_down"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"gauges.property-mask")),e.R7$(3),e.FS9("value",t.getVariableMask()),e.Y8G("disabled",!0)}}const FW=(r,o)=>{const t=o?.toLowerCase();return r.filter(i=>i.name?.toLowerCase().includes(t))};let Cp=(()=>{class r{dialog;projectService;data;variableId;value;allowManualEdit=!1;variableValue;variableLabel="gauges.property-variable-value";withStaticValue=!0;withStaticType=null;withBitmask=!1;tagLabel="gauges.property-tag-label";tagTitle="";bitmask;readonly=!1;placeholders=[];devicesOnly=!1;onchange=new e.bkB;valueChange=new e.bkB;manualEdit=!1;defaultColor=ii.Aq.defaultColor;variableList=[];selectedTag;devices=[];devicesTags$;tagFilter=new _i;constructor(t,i){this.dialog=t,this.projectService=i}ngOnInit(){if(this.loadDevicesTags(),this.devicesTags$=this.tagFilter.valueChanges.pipe(ia(""),(0,h.T)(t=>this._filterGroup(t||""))),this.value?(this.variableId=this.value.variableId,this.variableValue=this.value.variableValue):this.value={variableId:this.variableId},!this.devicesOnly){let t=ii.Aq.clone(Gi.e4);this.placeholders?.forEach(i=>{t.tags.push({id:i.variableId,name:i.variableId,device:"@"})}),this.variableId?.startsWith(Gi.e4.id)&&!t.tags.find(i=>i.id===this.variableId)&&t.tags.push({id:this.variableId,name:this.variableId,device:"@"}),this.devices.unshift(t)}this._setSelectedTag()}_tagToVariableName(t){let i=t.label||t.name;return i&&t.address&&i!==t.address&&(i=i+" - "+t.address),i}_filterGroup(t){return t?this.devices.map(i=>({name:i.name,tags:FW(i.tags,t?.name||t)})).filter(i=>i.tags.length>0):this.devices}_getDeviceTag(t){for(let i=0;i<this.devices.length;i++){const n=this.devices[i].tags.find(a=>a.id===t);if(n)return n}return null}_setSelectedTag(){const t=this._getDeviceTag(this.variableId);this.tagFilter.patchValue(t)}displayFn(t){return t?.name}onDeviceTagSelected(t){this.variableId=t.id,this.onChanged()}getDeviceName(){let t=Gi.$d.getDeviceFromTagId(this.data.devices||{},this.variableId);return t?t.name:""}getVariableName(){let t=Gi.$d.getTagFromTagId(this.data.devices||{},this.variableId);if(t){let i=t.label||t.name;return i&&t.address&&i!==t.address?i+" - "+t.address:t.address?t.address:i}return""}getVariableMask(){return this.bitmask?`bit ${ii.Aq.findBitPosition(this.bitmask).toString()}`:""}onChanged(){if(this.tagFilter.value?.startsWith&&this.tagFilter.value.startsWith(Gi.e4.id))this.value.variableId=this.tagFilter.value,this.value.variableRaw=null;else if(this.tagFilter.value?.id?.startsWith&&this.tagFilter.value.id.startsWith(Gi.e4.id))this.value.variableId=this.tagFilter.value.id,this.value.variableRaw=null;else{let t=Gi.$d.getTagFromTagId(this.data.devices||{},this.variableId);t?(this.value.variableId=t.id,this.value.variableRaw=t):(this.value.variableId=null,this.value.variableRaw=null)}this.withBitmask&&(this.value.bitmask=this.bitmask),this.value.variableValue=this.variableValue,this.onchange.emit(this.value),this.valueChange.emit(this.value)}onBindTag(){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:this.variableId}}).afterClosed().subscribe(i=>{i&&(i.deviceName&&this.loadDevicesTags(i.deviceName),this.variableId=i.variableId,this.onChanged(),this._setSelectedTag())})}setVariable(t){this.variableId=t?t.id:null,this.onChanged()}onSetBitmask(){this.dialog.open(EW,{position:{top:"60px"},data:{bitmask:this.bitmask}}).afterClosed().subscribe(i=>{i&&(this.bitmask=i.bitmask,this.onChanged())})}loadDevicesTags(t){const i=Object.values(this.projectService.getDevices()).find(n=>n.name===t);Object.values(this.data.devices||{}).forEach(n=>{let a={name:n.name,tags:[]},s=n.tags;i&&i.name===t&&(s=i.tags),Object.values(s).forEach(d=>{const m={id:d.id,name:this._tagToVariableName(d),device:n.name};a.tags.push(m)}),this.devices.push(a)})}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["flex-variable"]],inputs:{data:"data",variableId:"variableId",value:"value",allowManualEdit:"allowManualEdit",variableValue:"variableValue",variableLabel:"variableLabel",withStaticValue:"withStaticValue",withStaticType:"withStaticType",withBitmask:"withBitmask",tagLabel:"tagLabel",tagTitle:"tagTitle",bitmask:"bitmask",readonly:"readonly",placeholders:"placeholders",devicesOnly:"devicesOnly"},outputs:{onchange:"onchange",valueChange:"valueChange"},decls:14,vars:17,consts:[[1,"container"],["class","my-form-field value",4,"ngIf"],["class","my-form-field link",4,"ngIf"],[1,"my-form-field","input"],["matInput","","type","text",1,"variable-input",3,"title","placeholder","formControl","matAutocomplete","readonly","input"],[3,"displayWith","optionSelected"],["autoDevices","matAutocomplete"],["class","group-label",3,"label",4,"ngFor","ngForOf"],["class","my-form-field bitmask",4,"ngIf"],[1,"my-form-field","value"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-color",2,"width","80px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],["type","text",2,"width","80px",3,"ngModel","ngModelChange","change"],[1,"my-form-field","link"],[1,"span-link"],[1,"tag-link"],["mat-icon-button","",3,"click"],[1,"group-label",3,"label"],["class","option-label",3,"value",4,"ngFor","ngForOf"],[1,"option-label",3,"value"],[1,"my-form-field","bitmask"],[1,"my-form-field-bitmask"],["readonly","true",3,"value","disabled"],[1,"header-icon",3,"click"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0),e.DNE(1,xW,7,5,"div",1),e.DNE(2,DW,8,3,"div",2),e.j41(3,"div",3)(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"input",4),e.bIt("input",function(){return n.onChanged()}),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s(),e.j41(9,"mat-autocomplete",5,6),e.bIt("optionSelected",function(s){return n.onDeviceTagSelected(s.option.value)}),e.DNE(11,kW,2,2,"mat-optgroup",7),e.nI1(12,"async"),e.k0s()(),e.DNE(13,TW,8,5,"div",8),e.k0s()),2&i){const a=e.sdS(10);e.R7$(1),e.Y8G("ngIf",n.withStaticValue||n.withStaticType),e.R7$(1),e.Y8G("ngIf",!n.readonly),e.R7$(3),e.JRh(n.getDeviceName()),e.R7$(1),e.FS9("title",e.bMT(7,11,n.tagTitle)),e.FS9("placeholder",e.bMT(8,13,n.tagTitle)),e.Y8G("formControl",n.tagFilter)("matAutocomplete",a)("readonly",n.readonly),e.R7$(3),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(12,15,n.devicesTags$)),e.R7$(2),e.Y8G("ngIf",n.withBitmask)}},dependencies:[l.Sq,l.bT,l.ux,l.e1,l.fG,k,qe,tn,ca,Av,Tm,Ur,Gu,zn,Kn,qd,XA,l.Jj,Vi.D9],styles:[".container[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.container[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{max-width:100px;margin-right:18px}.container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom}.container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .span-link[_ngcontent-%COMP%]{text-overflow:clip;white-space:nowrap;width:28px}.container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:28px;height:28px;width:28px;vertical-align:middle}.container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-left:0}  .group-label span{line-height:28px;height:28px}  .option-label{line-height:28px!important;height:28px!important}  .option-label span{font-size:13px}  .variable-input{font-size:13px;min-width:450px;vertical-align:unset!important;width:unset}.tag-link[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;height:28px;width:28px;border-radius:2px 0 0 2px;background-color:var(--formInputBackground);color:var(--formInputColor)}.bitmask[_ngcontent-%COMP%]{vertical-align:bottom;margin-left:7px}"]})}return r})();function SW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",7),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.range.min=n)}),e.k0s()(),e.j41(6,"div",8)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",7),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.range.max=n)}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"gui.range-number-min")),e.R7$(2),e.Y8G("ngModel",t.range.min),e.R7$(3),e.JRh(e.bMT(9,6,"gui.range-number-max")),e.R7$(2),e.Y8G("ngModel",t.range.max)}}function QW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",5)(1,"div",9)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",10),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.booleanValue=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onBooleanChanged())}),e.j41(6,"mat-option",11),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"mat-option",11),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,6,"gui.range-number-boolean")),e.R7$(2),e.Y8G("value",t.booleanValue),e.R7$(1),e.Y8G("value",1),e.R7$(1),e.JRh(e.bMT(8,8,"gui.range-number-true")),e.R7$(2),e.Y8G("value",0),e.R7$(1),e.JRh(e.bMT(11,10,"gui.range-number-false"))}}function RW(r,o){1&r&&(e.j41(0,"span"),e.EFF(1,"[ - ]"),e.k0s())}function PW(r,o){1&r&&(e.j41(0,"span"),e.EFF(1,"1/0"),e.k0s())}let cS=(()=>{class r{range={min:0,max:100};isNumber=!0;booleanValue=1;oldRange={min:0,max:100};constructor(){}ngOnInit(){this.saveOld(this.range)}onBooleanChanged(){this.range.min=this.booleanValue,this.range.max=this.booleanValue}onTypeChanged(){this.isNumber?(this.range.min=this.oldRange.min,this.range.max=this.oldRange.max):(this.booleanValue=this.range.min===this.range.max&&this.range.min>=1?1:0,this.onBooleanChanged())}saveOld(t){this.oldRange.min=t.min,this.oldRange.max=t.max}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["range-number"]],inputs:{range:"range"},decls:8,vars:7,consts:[[1,"range-container"],["class","range-type",4,"ngIf"],[1,"range-type-switch"],["mat-icon-button","",3,"matTooltip","click"],[4,"ngIf"],[1,"range-type"],[1,"my-form-field"],["numberOnly","","type","number",2,"width","70px",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"padding-left","10px"],[1,"my-form-field","boolean-selection"],[3,"value","valueChange","selectionChange"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,SW,11,8,"div",1),e.DNE(2,QW,12,12,"div",1),e.j41(3,"div",2)(4,"button",3),e.bIt("click",function(){return n.isNumber=!n.isNumber,n.onTypeChanged()}),e.nI1(5,"translate"),e.DNE(6,RW,2,0,"span",4),e.DNE(7,PW,2,0,"span",4),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("ngIf",n.isNumber),e.R7$(1),e.Y8G("ngIf",!n.isNumber),e.R7$(2),e.FS9("matTooltip",e.bMT(5,5,"gui.range-number-switcher")),e.R7$(2),e.Y8G("ngIf",!n.isNumber),e.R7$(1),e.Y8G("ngIf",n.isNumber))},dependencies:[l.bT,k,Zn,qe,tn,Ur,zn,yo,Is,Hs,Vi.D9],styles:[".range-container[_ngcontent-%COMP%]{width:200px}.range-type[_ngcontent-%COMP%]{display:inline-block}.range-type-switch[_ngcontent-%COMP%]{float:right}.range-type-switch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:11px;line-height:30px;height:30px;width:30px}.boolean-selection[_ngcontent-%COMP%]{width:157px}"]})}return r})();const OW=["unit"],LW=["digits"];function YW(r,o){if(1&r&&(e.j41(0,"div",11),e.nrm(1,"range-number",12),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("range",t)}}function NW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",15),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.color=n)}),e.k0s()(),e.j41(6,"div",16)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",15),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.stroke=n)}),e.k0s()()()}if(2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,30,"gauges.property-input-color")),e.R7$(2),e.xc7("background",t.color),e.Y8G("colorPicker",t.color)("value",t.color)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex"),e.R7$(3),e.JRh(e.bMT(9,32,"gauges.property-input-stroke")),e.R7$(2),e.xc7("background",t.stroke),e.Y8G("colorPicker",t.stroke)("value",t.stroke)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex")}}function jW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div"),e.DNE(1,YW,2,1,"div",7),e.DNE(2,NW,11,34,"div",8),e.j41(3,"div",9)(4,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,a=e.XpG();return e.Njj(a.onRemoveInput(n))}),e.j41(5,"mat-icon"),e.EFF(6,"clear"),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.slideView),e.R7$(1),e.Y8G("ngIf",t.isWithRangeColor())}}function GW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",17)(2,"div",14)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"input",18),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.min=n)}),e.k0s()(),e.j41(7,"div",19)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",18),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.max=n)}),e.k0s()(),e.nrm(12,"div",20),e.j41(13,"div",21)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",22),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.color=n)}),e.k0s()()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,17,"gauges.property-input-min")),e.R7$(2),e.Y8G("ngModel",t.min),e.R7$(3),e.JRh(e.bMT(10,19,"gauges.property-input-max")),e.R7$(2),e.Y8G("ngModel",t.max),e.R7$(4),e.JRh(e.bMT(16,21,"gauges.property-input-color")),e.R7$(2),e.xc7("background",i.getColor(t)),e.Y8G("colorPicker",t.color)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")}}function UW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",23)(1,"div",14)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",24),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.min=n)}),e.k0s()(),e.j41(6,"div",25),e.EFF(7,"-"),e.k0s(),e.j41(8,"div",14)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"input",26),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.text=n)}),e.k0s()(),e.j41(13,"div",27)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",22),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.color=n)}),e.k0s()(),e.j41(18,"div",16)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",15),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.stroke=n)}),e.k0s()(),e.j41(23,"div",9)(24,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,a=e.XpG();return e.Njj(a.onRemoveInput(n))}),e.j41(25,"mat-icon"),e.EFF(26,"clear"),e.k0s()()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,32,"gauges.property-input-value")),e.R7$(2),e.Y8G("ngModel",t.min),e.R7$(5),e.JRh(e.bMT(11,34,"gauges.property-input-label")),e.R7$(2),e.Y8G("ngModel",t.text),e.R7$(3),e.JRh(e.bMT(16,36,"gauges.property-input-color")),e.R7$(2),e.xc7("background",i.getColor(t)),e.Y8G("colorPicker",t.color)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always"),e.R7$(3),e.JRh(e.bMT(21,38,"gauges.property-input-stroke")),e.R7$(2),e.xc7("background",t.stroke),e.Y8G("colorPicker",t.stroke)("value",t.stroke)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex")}}function zW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"flex-variable",29,30),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onUnitChanged(a,n))}),e.k0s(),e.j41(3,"flex-variable",29,31),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onFormatDigitChanged(a,n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("variableId",t.textId)("variableValue",t.text)("variableLabel","gauges.property-input-unit"),e.R7$(2),e.Y8G("data",i.data)("variableId",t.fractionDigitsId)("variableValue",t.fractionDigits)("variableLabel","gauges.property-format-digits")}}function HW(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",17)(5,"div",14)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"input",18),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.min=n)}),e.k0s()(),e.j41(10,"div",19)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",18),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.max=n)}),e.k0s()()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,5,"gauges.property-input-range")),e.R7$(5),e.JRh(e.bMT(8,7,"gauges.property-input-min")),e.R7$(2),e.Y8G("ngModel",t.min),e.R7$(3),e.JRh(e.bMT(13,9,"gauges.property-input-max")),e.R7$(2),e.Y8G("ngModel",t.max)}}function VW(r,o){if(1&r&&(e.j41(0,"div",3),e.DNE(1,jW,7,2,"div",4),e.DNE(2,GW,18,23,"div",4),e.DNE(3,UW,27,40,"div",5),e.DNE(4,zW,5,8,"div",6),e.DNE(5,HW,15,11,"div",4),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.isWithRange()),e.R7$(1),e.Y8G("ngIf",t.isMinMax()),e.R7$(1),e.Y8G("ngIf",t.isWithStep()),e.R7$(1),e.Y8G("ngIf",t.isOutputCtrl()),e.R7$(1),e.Y8G("ngIf",t.isInputMinMax())}}function JW(r,o){if(1&r&&(e.j41(0,"mat-option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"gauges.property-input-type-"+t.value)," ")}}function WW(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",37)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",41),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.property.options.min=n)}),e.k0s()(),e.j41(6,"div",37)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",41),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.property.options.max=n)}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-input-min")),e.R7$(2),e.Y8G("ngModel",t.property.options.min),e.R7$(3),e.JRh(e.bMT(9,6,"gauges.property-input-max")),e.R7$(2),e.Y8G("ngModel",t.property.options.max)}}function KW(r,o){if(1&r&&(e.j41(0,"mat-option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"gauges.property-input-time-format-"+t.value)," ")}}function XW(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",42)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",39),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.property.options.timeformat=n)}),e.DNE(6,KW,3,4,"mat-option",35),e.nI1(7,"enumToArray"),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"gauges.property-input-time-format")),e.R7$(2),e.Y8G("ngModel",t.property.options.timeformat),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,5,t.inputTimeFormatType))}}function ZW(r,o){if(1&r&&(e.j41(0,"mat-option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"gauges.property-input-convertion-"+t.value)," ")}}function $W(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",43)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",39),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.property.options.convertion=n)}),e.DNE(6,ZW,3,4,"mat-option",35),e.nI1(7,"enumToArray"),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"gauges.property-input-convertion")),e.R7$(2),e.Y8G("ngModel",t.property.options.convertion),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,5,t.inputConvertionType))}}function qW(r,o){if(1&r&&(e.j41(0,"mat-option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"gauges.property-action-esc-"+t.value)," ")}}function eK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"div",32)(2,"div",33)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-select",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.property.options.type=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onTypeChange(n))}),e.DNE(7,JW,3,4,"mat-option",35),e.nI1(8,"enumToArray"),e.k0s()(),e.DNE(9,WW,11,8,"ng-container",4),e.DNE(10,XW,8,7,"ng-container",4),e.DNE(11,$W,8,7,"ng-container",4),e.j41(12,"div",32)(13,"div",14)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-slide-toggle",36),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.property.options.updated=n)}),e.k0s()(),e.j41(18,"div",37)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-slide-toggle",36),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.property.options.selectOnClick=n)}),e.k0s()(),e.j41(23,"div",38)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"mat-select",39),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.property.options.actionOnEsc=n)}),e.nrm(28,"mat-option",40),e.DNE(29,qW,3,4,"mat-option",35),e.nI1(30,"enumToArray"),e.k0s()()()()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,14,"gauges.property-input-type")),e.R7$(2),e.Y8G("ngModel",t.property.options.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(8,16,t.inputOptionType)),e.R7$(2),e.Y8G("ngIf",t.property.options.type===t.inputOptionType.number),e.R7$(1),e.Y8G("ngIf",t.property.options.type===t.inputOptionType.time||t.property.options.type===t.inputOptionType.datetime),e.R7$(1),e.Y8G("ngIf",t.property.options.type===t.inputOptionType.time||t.property.options.type===t.inputOptionType.date||t.property.options.type===t.inputOptionType.datetime),e.R7$(4),e.JRh(e.bMT(16,18,"gauges.property-update-enabled")),e.R7$(2),e.Y8G("ngModel",t.property.options.updated),e.R7$(3),e.JRh(e.bMT(21,20,"gauges.property-select-content-on-click")),e.R7$(2),e.Y8G("ngModel",t.property.options.selectOnClick),e.R7$(3),e.JRh(e.bMT(26,22,"gauges.property-input-esc-action")),e.R7$(2),e.Y8G("ngModel",t.property.options.actionOnEsc),e.R7$(1),e.Y8G("value",null),e.R7$(1),e.Y8G("ngForOf",e.bMT(30,24,t.inputActionEscType))}}let tK=(()=>{class r{data;property;ranges;type;propertyType;default;varunit;vardigits;tag=null;withLabel=!0;withValue=!0;slideView=!0;defaultColor=ii.Aq.defaultColor;valueresult="123";inputOptionType=It.qR;inputTimeFormatType=It.FY;inputConvertionType=It.u6;inputActionEscType=It.Qs;constructor(){}ngOnInit(){if(this.ranges)this.isMinMax()?this.ranges.length>0&&2===this.ranges[0].style.length&&(this.withLabel=this.ranges[0].style[0],this.withValue=this.ranges[0].style[1]):this.isOutputCtrl();else{this.ranges=[];let t=new It.EV;this.isWithStep()?(t.type=this.type,t.min=1,t.max=1):this.isMinMax()?(t.type=this.type,t.min=0,t.max=100,t.style=[!0,!0]):(t.type=this.type,t.min=20,t.max=80),this.addInput(t)}this.isInputCtrl()&&(this.property.options=this.property.options||{updated:!1,numeric:!1},this.property.options.type=this.property.options.type?this.property.options.type:this.property.options.numeric?this.inputOptionType.number:this.inputOptionType.text,!this.property.options.actionOnEsc&&this.property.options.updatedEsc?this.property.options.actionOnEsc=It.Qs.update:this.property.options.actionOnEsc&&(this.property.options.updatedEsc=null)),this.ranges.forEach(t=>{t.color||(t.color=""),t.stroke||(t.stroke="")})}onAddInput(){let t=new It.EV;t.type=this.type,t.color="",t.stroke="",this.addInput(t)}onRemoveInput(t){this.ranges.splice(t,1)}onRangeViewToggle(t){this.slideView=t}getRanges(){let t=[];return this.ranges.forEach(i=>{i.type=this.propertyType,this.isWithStep()?(i.max=i.min,null!==i.min&&null!==i.max&&t.push(i)):this.isMinMax()?(i.style=[this.withLabel,this.withValue],t.push(i)):!ii.Aq.isNullOrUndefined(i.min)&&!ii.Aq.isNullOrUndefined(i.max)&&t.push(i)}),t}getColor(t){return t&&t.color?t.color:this.default&&this.default.color?this.default.color:void 0}changeTag(t){if(this.tag=t,this.isOutputCtrl()){let i=Gi.$d.getDeviceFromTagId(this.data.devices,t?.id);i&&(this.varunit&&this.varunit.setVariable(Gi.$d.getTagFromTagAddress(i,t.address+"OpcEngUnit")),this.vardigits&&this.vardigits.setVariable(Gi.$d.getTagFromTagAddress(i,t.address+"DecimalPlaces")))}}isWithRange(){return this.propertyType===tu.range}isMinMax(){return this.propertyType===tu.minmax}isWithRangeColor(){return this.propertyType===tu.range}isWithStep(){return this.propertyType===tu.step}isOutputCtrl(){return this.propertyType===tu.output}isInputCtrl(){return this.propertyType===tu.input}isInputMinMax(){return 16===this.data.dlgType}onFormatDigitChanged(t,i){t.fractionDigitsId=i.variableId,t.fractionDigits=i.variableValue}onUnitChanged(t,i){t.textId=i.variableId,t.text=i.variableValue}onTypeChange(t){!this.property.options.timeformat&&(t.value===It.qR.time||t.value===It.qR.datetime)&&(this.property.options.timeformat=It.FY.normal),!this.property.options.convertion&&(t.value===It.qR.time||t.value===It.qR.date||t.value===It.qR.datetime)&&(this.property.options.convertion=It.u6.milliseconds)}addInput(t){this.ranges.push(t)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["flex-input"]],viewQuery:function(i,n){if(1&i&&(e.GBs(OW,5),e.GBs(LW,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.varunit=a.first),e.mGM(a=e.lsd())&&(n.vardigits=a.first)}},inputs:{data:"data",property:"property",ranges:"ranges",type:"type",propertyType:"propertyType",default:"default"},decls:3,vars:2,consts:[[1,"grid-conta"],["class","item",4,"ngFor","ngForOf"],["class","mt15",4,"ngIf"],[1,"item"],[4,"ngIf"],["class","item-step",4,"ngIf"],["class","item-unit",4,"ngIf"],["class","item-range",4,"ngIf"],["style","display: inline-block;",4,"ngIf"],[1,"item-remove"],["mat-icon-button","",1,"remove",3,"click"],[1,"item-range"],[3,"range"],[2,"display","inline-block"],[1,"my-form-field"],[1,"input-color",2,"width","70px",3,"colorPicker","value","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","cpAlphaChannel","cpOutputFormat","colorPickerChange"],[1,"my-form-field",2,"margin-left","10px"],[1,"item-minmax"],["numberOnly","","type","text",2,"width","80px",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"padding-left","20px"],[1,"my-form-field",2,"padding-left","30px"],[1,"my-form-field",2,"width","60px","margin-left","20px"],[1,"input-color",2,"width","70px",3,"colorPicker","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","cpAlphaChannel","colorPickerChange"],[1,"item-step"],["numberOnly","","type","text",2,"width","100px",3,"ngModel","ngModelChange"],[2,"font-size","18px","width","11px","display","inline-block","text-align","center"],["type","text",2,"width","200px","text-align","left !important",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"margin-left","20px"],[1,"item-unit"],[3,"data","variableId","variableValue","variableLabel","onchange"],["unit",""],["digits",""],[1,"mt15"],[1,"my-form-field",2,"width","140px"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"ml20",3,"ngModel","ngModelChange"],[1,"my-form-field","ml20"],[1,"my-form-field","ml20",2,"width","140px"],[3,"ngModel","ngModelChange"],[3,"value"],["numberOnly","","type","number",2,"width","80px",3,"ngModel","ngModelChange"],[1,"my-form-field","ml20",2,"width","160px"],[1,"my-form-field","ml20",2,"width","120px"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,VW,6,5,"div",1),e.DNE(2,eK,31,26,"div",2),e.k0s()),2&i&&(e.R7$(1),e.Y8G("ngForOf",n.ranges),e.R7$(1),e.Y8G("ngIf",n.isInputCtrl()))},dependencies:[l.Sq,l.bT,k,Zn,qe,tn,Ur,zn,Kn,yo,wc,XA,Cp,Hs,cS,Vi.D9,ii.yN],styles:[".item[_ngcontent-%COMP%]{display:block;width:100%;border-bottom:1px solid rgba(0,0,0,.1);padding:0 0 5px}.item-alarm[_ngcontent-%COMP%]{margin-left:-30px;width:calc(100% + 30px)}.remove[_ngcontent-%COMP%]{position:relative;top:4px;right:0}.item-range[_ngcontent-%COMP%]{display:inline-block;min-width:320px;max-width:320px;width:320px}.item-minmax[_ngcontent-%COMP%]{display:inline-block;width:100%}.item-step[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-top:5px}.item-unit[_ngcontent-%COMP%]{display:inline-block}.item-remove[_ngcontent-%COMP%]{float:right}.panel-color-class[_ngcontent-%COMP%]{position:relative;top:30px}.panel-color[_ngcontent-%COMP%]{display:inline-block;padding-top:10px;max-width:60px;height:21px;line-height:12px;margin-right:25px}.option-color[_ngcontent-%COMP%]{height:32px!important}.panel-color-class[_ngcontent-%COMP%]{margin-top:30px!important}.input-range[_ngcontent-%COMP%]{display:inline-block;max-width:80px}.input-range[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;text-align:center}.input-minmax[_ngcontent-%COMP%]{display:inline-block;max-width:80px}.input-minmax[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;text-align:center}.input-step[_ngcontent-%COMP%]{display:inline-block;max-width:80px}.input-minmax-cb[_ngcontent-%COMP%]{font-size:15px}  .input-range .input-step .input-minmax .mat-form-field-wrapper{margin-bottom:-15px!important}  .input-range .input-step .input-minmax .mat-form-field-infix{padding-top:1px;padding-bottom:5px}.input-step[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;text-align:center}.input-slider[_ngcontent-%COMP%]{display:inline}  .input-slider span{font-size:14px!important}.toolbox[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:3px}.toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;margin-left:8px}.slider-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px;text-overflow:clip;max-width:125px;white-space:nowrap;overflow:hidden}.slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{background-color:#f1f3f4;height:30px}"]})}return r})();var tu=function(r){return r[r.output=1]="output",r[r.range=2]="range",r[r.text=3]="text",r[r.step=4]="step",r[r.minmax=5]="minmax",r[r.input=6]="input",r}(tu||{});const nK=["flexinput"];function rK(r,o){if(1&r&&e.nrm(0,"flex-input",4,5),2&r){const t=e.XpG();e.Y8G("data",t.data)("property",t.property)("ranges",t.property.ranges)("default",t.defaultValue)("propertyType",t.withProperty)}}let j1=(()=>{class r{data;property;withStaticValue=!0;withBitmask=!1;flexInput;variable;withProperty=null;alarme;currentTag=null;defaultValue;defaultColor=ii.Aq.defaultColor;alarmDeviceCtrl=new _i;alarmDeviceFilterCtrl=new _i;alarmCtrl=new _i;alarmFilterCtrl=new _i;filteredAlarmDevice=new N1.m(1);filteredAlarm=new N1.m(1);_onDestroy=new An.B;constructor(){}ngOnInit(){this.property||(this.property=new It.f5)}ngOnDestroy(){this._onDestroy.next(null),this._onDestroy.complete()}getProperty(){return this.withProperty&&(this.property.ranges=this.flexInput.getRanges()),this.property}getVariableLabel(t){return t.label?t.label:t.name}setVariable(t){this.property.variableId=t.variableId,this.property.variableValue=t.variableValue,this.property.bitmask=t.bitmask,this.flexInput&&this.flexInput.changeTag(t.variableRaw)}onAddInput(){this.flexInput.onAddInput()}onRangeViewToggle(t){this.flexInput.onRangeViewToggle(t),this.flexInput.changeTag(this.currentTag)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["flex-head"]],viewQuery:function(i,n){if(1&i&&e.GBs(nK,5),2&i){let a;e.mGM(a=e.lsd())&&(n.flexInput=a.first)}},inputs:{data:"data",property:"property",withStaticValue:"withStaticValue",withBitmask:"withBitmask"},decls:4,vars:7,consts:[[1,"container"],[1,"head",2,"padding-top","10px"],[3,"data","variableId","variableValue","bitmask","withStaticValue","withBitmask","onchange"],["style","padding-bottom: 5px",3,"data","property","ranges","default","propertyType",4,"ngIf"],[2,"padding-bottom","5px",3,"data","property","ranges","default","propertyType"],["flexinput",""]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"flex-variable",2),e.bIt("onchange",function(s){return n.setVariable(s)}),e.k0s()(),e.DNE(3,rK,2,5,"flex-input",3),e.k0s()),2&i&&(e.R7$(2),e.Y8G("data",n.data)("variableId",n.property.variableId)("variableValue",n.property.variableValue)("bitmask",n.property.bitmask)("withStaticValue",n.withStaticValue)("withBitmask",n.withBitmask),e.R7$(1),e.Y8G("ngIf",n.withProperty))},dependencies:[l.bT,tK,Cp],styles:[".head{padding-top:0}.selection{margin-right:20px;margin-bottom:-10px;margin-top:2px;width:220px}.selection .mat-form-field-wrapper{padding-bottom:15px!important}.item-set{display:inline-block;float:right;padding-top:13px;min-width:140px}.panel-color-class{position:relative;top:30px}.panel-color{display:inline-block;padding-top:10px;max-width:60px;height:20px;line-height:12px;margin-right:25px}.option-color{height:32px!important}\n"],encapsulation:2})}return r})();var qo=ie(3955);function oK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.settings.name=n)}),e.k0s()(),e.j41(6,"div",4)(7,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onEdit())}),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,3,"editor.interactivity-name")),e.R7$(2),e.Y8G("ngModel",t.settings.name),e.R7$(3),e.JRh(e.bMT(9,5,"gauges.property-title"))}}let Io=(()=>{class r{data;settings;edit=new e.bkB;static GAUGE_TEXT="text";constructor(){}onEdit(){this.edit.emit(this.settings)}static pathToAbsolute(t){var n=[];return t.replace(/([ml])\s*(-?\d*\.?\d+)\s*,\s*(-?\d*\.?\d+)/gi,function(a,s,d,m){var I;d=parseFloat(d),m=parseFloat(m),0===n.length||s.toUpperCase()===s?n.push([d,m]):n.push([d+(I=n[n.length-1])[0],m+I[1]])}),n}static getEvents(t,i){let n=[];if(!t||!t.events)return null;let a=Object.values(It.e6).indexOf(i);return t.events.forEach(s=>{(a<0||Object.keys(It.e6).indexOf(s.type)===a)&&n.push(s)}),n}static getUnit(t,i){return t&&t.ranges&&t.ranges.length>0&&t.ranges[0].type===tu.output?(t.ranges[0].textId&&!ii.Aq.isNullOrUndefined(i.variablesValue[t.ranges[0].textId])&&(t.ranges[0].text=i.variablesValue[t.ranges[0].textId]),t.ranges[0].text):""}static getDigits(t,i){return t&&t.ranges&&t.ranges.length>0&&(t.ranges[0].fractionDigitsId&&!ii.Aq.isNullOrUndefined(i.variablesValue[t.ranges[0].fractionDigitsId])&&(t.ranges[0].fractionDigits=i.variablesValue[t.ranges[0].fractionDigitsId]),t.ranges[0].fractionDigits)?t.ranges[0].fractionDigits:null}static runActionHide(t,i,n){let a={type:i,animr:t.hide()};n.actionRef&&(a.spool=n.actionRef.spool,a.timer=n.actionRef.timer),n.actionRef=a}static runActionShow(t,i,n){let a={type:i,animr:t.show()};n.actionRef&&(a.spool=n.actionRef.spool,a.timer=n.actionRef.timer),n.actionRef=a}static checkActionBlink(t,i,n,a,s,d){if(n.actionRef||(n.actionRef=new It.c$(i.type)),n.actionRef.type=i.type,a){if(n.actionRef.timer&&r.getBlinkActionId(i)===n.actionRef.spool?.actId)return;r.clearAnimationTimer(n.actionRef);var m=!1;try{const I=r.getBlinkActionId(i);n.actionRef.spool=s?{bk:t.style.backgroundColor,clr:t.style.color,actId:I}:{bk:t.node.getAttribute("fill"),clr:t.node.getAttribute("stroke"),actId:I}}catch(I){console.error(I)}n.actionRef.timer=setInterval(()=>{m=!m;try{m?s?(t.style.backgroundColor=i.options.fillA,t.style.color=i.options.strokeA):(r.walkTreeNodeToSetAttribute(t.node,"fill",i.options.fillA),r.walkTreeNodeToSetAttribute(t.node,"stroke",i.options.strokeA)):s?(t.style.backgroundColor=i.options.fillB,t.style.color=i.options.strokeB):(r.walkTreeNodeToSetAttribute(t.node,"fill",i.options.fillB),r.walkTreeNodeToSetAttribute(t.node,"stroke",i.options.strokeB))}catch(I){console.error(I)}},i.options.interval)}else if(!a)try{(!n.actionRef.spool||n.actionRef.spool.actId===r.getBlinkActionId(i))&&(n.actionRef.timer&&(clearInterval(n.actionRef.timer),n.actionRef.timer=null),d&&n.actionRef.spool&&(d.fill&&(n.actionRef.spool.bk=d.fill),d.stroke&&(n.actionRef.spool.clr=d.stroke)),s?(t.style.backgroundColor=n.actionRef.spool?.bk,t.style.color=n.actionRef.spool?.clr):n.actionRef.spool&&(r.walkTreeNodeToSetAttribute(t.node,"fill",n.actionRef.spool.bk),r.walkTreeNodeToSetAttribute(t.node,"stroke",n.actionRef.spool.clr)))}catch(I){console.error(I)}}static clearAnimationTimer(t){t&&t.timer&&(clearTimeout(t.timer),t.timer=null)}static checkBitmask(t,i){return t?i&t?1:0:i}static checkBitmaskAndValue(t,i,n,a){return t?i&a&t?1:0:i==n?0:1}static valueBitmask(t,i,n){return t?i&t|n&~t:i}static toggleBitmask(t,i){return t^i}static getBlinkActionId(t){return`${t.variableId}-${t.range.max}-${t.range.min}`}static walkTreeNodeToSetAttribute(t,i,n){t?.setAttribute(i,n),ii.Aq.walkTree(t,a=>{(a.id?.startsWith("SHE")||a.id?.startsWith("svg_"))&&a.setAttribute(i,n)})}static setLanguageText(t,i){i&&t?.tagName?.toLowerCase()===r.GAUGE_TEXT&&(t.textContent=i)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["gauge-base"]],inputs:{data:"data",settings:"settings"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","svg-property-split2",4,"ngIf"],[1,"svg-property-split2"],["title","Gauge name",1,"svg-property"],["type","text","id","gaugename","type","text","readonly","",3,"ngModel","ngModelChange"],["title","Change rectangle height",1,"svg-property",2,"display","block !important","padding","0px 10px 5px 10px"],["mat-button","","color","primary",2,"background-color","dimgrey","color","white","display","inline-block",3,"click"]],template:function(i,n){1&i&&e.DNE(0,oK,10,7,"div",0),2&i&&e.Y8G("ngIf",n.settings)},dependencies:[l.bT,k,qe,tn,zn,Vi.D9],styles:[".svg-property-split2[_ngcontent-%COMP%]:after{display:table;clear:both}.svg-property-split2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.svg-property[_ngcontent-%COMP%]{color:#ffffffbf}.svg-property[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:10px;margin:0 5px 0 10px}.svg-property[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:0 10px 12px;border:unset;background-color:inherit;color:var(--toolboxFlyColor);border-bottom:1px solid var(--toolboxFlyColor)}.mat-button[_ngcontent-%COMP%]{min-width:60px}"]})}return r})();class Fs extends Io{static TypeTag="svg-ext-html_input";static LabelTag="HtmlInput";static prefix="I-HXI_";static actionsType={hide:It.vo.hide,show:It.vo.show};static InputDateTimeType=["date","time","datetime"];constructor(){super()}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getDialogType(){return Ho.Input}static getActions(o){return this.actionsType}static getHtmlEvents(o){let t=document.getElementById(o.id);if(t){let i=ii.Aq.searchTreeStartWith(t,this.prefix);if(i){let n=new It.Jh;return n.dom=i,n.type="key-enter",n.ga=o,n}}return null}static processValue(o,t,i,n){try{if(t.node&&t.node.children&&t.node.children.length>=1){let a=ii.Aq.searchTreeStartWith(t.node,this.prefix);if(a){let s=parseFloat(i.value),d=null,m=null,I="";o.property.ranges&&(d=Io.getUnit(o.property,n),m=Io.getDigits(o.property,n)),Number.isNaN(s)?s=ii.Aq.toNumber(i.value):o.property?.options?.type===It.qR.time?(I=i.value,o.property?.options?.convertion===It.u6.milliseconds&&(I=ii.Aq.millisecondsToTimeString(s,o.property?.options?.timeformat===It.FY.milliseconds?1e3:o.property?.options?.timeformat===It.FY.seconds?100:0))):o.property?.options?.type===It.qR.date||o.property?.options?.type===It.qR.datetime?(I=i.value,o.property?.options?.convertion===It.u6.milliseconds&&(I=o.property?.options?.type===It.qR.date?ii.Aq.millisecondsToDateString(s):ii.Aq.millisecondsToDateString(s,o.property?.options?.timeformat===It.FY.milliseconds?1e3:o.property?.options?.timeformat===It.FY.seconds?100:o.property?.options?.timeformat===It.FY.normal?1:0))):s=parseFloat(s.toFixed(m||5)),o.property?.variableId==i.id&&o.property?.options?.updated&&!(document.hasFocus&&a.id==document.activeElement.id)&&(I?a.value=I:(a.value=o.property?.options?.type===It.qR.text?i.value:s,d&&(a.value+=" "+d))),o.property.actions&&o.property.actions.forEach(J=>{J.variableId===i.id&&Fs.processAction(J,t,a,s,n)})}}}catch(a){console.error(a)}}static initElement(o,t){let i=null;if(t){let n=document.getElementById(o.id);if(n&&o.property&&(n?.setAttribute("data-name",o.name),i=ii.Aq.searchTreeStartWith(n,this.prefix),i)){if(i.value="",Fs.checkInputType(i,o.property.options),i.setAttribute("autocomplete","off"),o.property.options){if(o.property.options.numeric||o.property.options.type===It.qR.number){const a=parseFloat(o.property.options.min),s=parseFloat(o.property.options.max);i.addEventListener("keydown",d=>{try{if("Enter"===d.code||"NumpadEnter"===d.code){const m=parseFloat(i.value);let I="";if(a>m&&(I+=`Min=${a} `),s<m&&(I+=`Max=${s} `),I){let J=i.getBoundingClientRect();const oe=document.createElement("div");oe.innerText=I,oe.style.position="absolute",oe.style.top=`${J.top+i.offsetHeight+3}px`,oe.style.left=`${J.left}px`,oe.style.zIndex="99999",oe.style.padding="3px 5px",oe.style.border="1px solid black",oe.style.backgroundColor="white",document.body.appendChild(oe),setTimeout(()=>{document.body.removeChild(oe)},2e3)}}}catch(m){console.error(m)}})}if(Fs.InputDateTimeType.includes(o.property.options?.type)){let d=function(){a.style.backgroundColor="rgba(0,0,0,0.2)"},m=function(){a.style.backgroundColor="unset"};const a=document.createElement("button");a.style.position="absolute",a.style.left="0",a.style.height="100%",a.style.display="flex",a.style.alignItems="center",a.style.padding="0 5px",a.style.backgroundColor="unset",a.style.border="none",a.style.cursor="pointer";const s=document.createElement("i");s.className="material-icons",s.innerText="done",s.style.fontSize=window.getComputedStyle(i).getPropertyValue("font-size"),s.style.fontWeight="bold",a.appendChild(s),i.parentElement.insertBefore(a,i),a.addEventListener("mousedown",d),a.addEventListener("touchstart",d),a.addEventListener("mouseup",m),a.addEventListener("touchend",m),a.addEventListener("click",function(){const I=new KeyboardEvent("keydown",{key:"Enter"});i.dispatchEvent(I)})}}i.style.margin="1px 1px"}if(n){let a=n.getElementsByTagName("foreignObject");a&&(a[0].style.paddingLeft="1px");let s=n.getElementsByTagName("rect");s&&s[0].setAttribute("stroke-width","0.5")}}return new aK(i)}static checkInputType(o,t){t?.type&&(o.setAttribute("type",t.type===It.qR.datetime?"datetime-local":t.type),t.type===It.qR.time&&(t.timeformat===It.FY.seconds?o.setAttribute("step","1"):t.timeformat===It.FY.milliseconds&&o.setAttribute("step","0.001")))}static initElementColor(o,t,i){let n=ii.Aq.searchTreeStartWith(i,this.prefix);n&&(o&&(n.style.backgroundColor=o),t&&(n.style.color=t))}static getFillColor(o){if(o.children&&o.children[0]){let t=ii.Aq.searchTreeStartWith(o,this.prefix);if(t)return t.style.backgroundColor}return o.getAttribute("fill")}static getStrokeColor(o){if(o.children&&o.children[0]){let t=ii.Aq.searchTreeStartWith(o,this.prefix);if(t)return t.style.color}return o.getAttribute("stroke")}static processAction(o,t,i,n,a){if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=n&&o.range.max>=n){let s=SVG.adopt(t.node);this.runActionHide(s,o.type,a)}}else if(this.actionsType[o.type]===this.actionsType.show&&o.range.min<=n&&o.range.max>=n){let s=SVG.adopt(t.node);this.runActionShow(s,o.type,a)}}static validateValue(o,t){let i={valid:!0,value:o,errorText:"",min:0,max:0};if(t.property?.options?.numeric||t.property?.options?.type===It.qR.number){if(!ii.Aq.isNullOrUndefined(t.property.options.min)&&!ii.Aq.isNullOrUndefined(t.property.options.max)){if(Number.isNaN(o)||!/^-?[\d.]+$/.test(o))return{...i,valid:!1,errorText:"html-input.not-a-number"};{let n=parseFloat(o);if(n<t.property.options.min||n>t.property.options.max)return{...i,valid:!1,errorText:"html-input.out-of-range",min:t.property.options.min,max:t.property.options.max}}}}else if(t.property?.options?.convertion===It.u6.milliseconds&&t.property?.options?.type===It.qR.time){const[n,a,s,d]=o.split(/:|\./);i.value=1e3*((n?3600*parseInt(n):0)+(a?60*parseInt(a):0)+(s?parseInt(s):0))+(d?parseInt(d):0)}else t.property?.options?.convertion===It.u6.milliseconds&&(t.property?.options?.type===It.qR.date||t.property?.options?.type===It.qR.datetime)&&(i.value=new Date(o).getTime());return i}static \u0275fac=function(t){return new(t||Fs)};static \u0275cmp=e.VBU({type:Fs,selectors:[["html-input"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}class aK{source;constructor(o){this.source=o}getValue(){return this.source.value}}class Ul extends Io{static TypeTag="svg-ext-html_select";static LabelTag="HtmlSelect";static prefix="S-HXS_";static actionsType={hide:It.vo.hide,show:It.vo.show};constructor(){super()}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getDialogType(){return Ho.Step}static getActions(o){return this.actionsType}static getHtmlEvents(o){let t=document.getElementById(o.id);if(t){let i=ii.Aq.searchTreeStartWith(t,this.prefix);if(i){let n=new It.Jh;return n.dom=i,n.type="change",n.ga=o,n}}return null}static processValue(o,t,i,n){try{let a=ii.Aq.searchTreeStartWith(t.node,this.prefix);if(a){let s=parseFloat(i.value);s=Number.isNaN(s)?Number(i.value):parseFloat(s.toFixed(5)),a.value=s;let d=o.property.ranges.find(m=>m.min==s);d&&(a.style.background=d.color,a.style.color=d.stroke),o.property.actions&&o.property.actions.forEach(m=>{m.variableId===i.id&&Ul.processAction(m,t,a,s,n)})}}catch(a){console.error(a)}}static initElement(o,t=!1){let i=null,n=document.getElementById(o.id);if(n&&(n?.setAttribute("data-name",o.name),i=ii.Aq.searchTreeStartWith(n,this.prefix),i)){if(o.property){o.property.readonly&&t?(i.disabled=!0,i.style.appearance="none",i.style["border-width"]="0px"):i.style.appearance="menulist";let a=i.style["text-align"];a&&(i.style["text-align-last"]=a)}if(i.innerHTML="",t)o.property?.ranges?.forEach(a=>{let s=document.createElement("option");s.value=a.min,a.text&&(s.text=a.text),i.appendChild(s)});else{let a=document.createElement("option");a.disabled=!0,a.selected=!0,a.innerHTML="Choose...",i.appendChild(a)}}return i}static initElementColor(o,t,i){let n=ii.Aq.searchTreeStartWith(i,this.prefix);n&&(o&&(n.style.backgroundColor=o),t&&(n.style.color=t))}static getFillColor(o){if(o.children&&o.children[0]){let t=ii.Aq.searchTreeStartWith(o,this.prefix);if(t)return t.style.backgroundColor}return o.getAttribute("fill")}static getStrokeColor(o){if(o.children&&o.children[0]){let t=ii.Aq.searchTreeStartWith(o,this.prefix);if(t)return t.style.color}return o.getAttribute("stroke")}static processAction(o,t,i,n,a){if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=n&&o.range.max>=n){let s=SVG.adopt(t.node);this.runActionHide(s,o.type,a)}}else if(this.actionsType[o.type]===this.actionsType.show&&o.range.min<=n&&o.range.max>=n){let s=SVG.adopt(t.node);this.runActionShow(s,o.type,a)}}static \u0275fac=function(t){return new(t||Ul)};static \u0275cmp=e.VBU({type:Ul,selectors:[["html-select"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}const sK=["*"];let lK=(()=>{class r{view;data;value;placeholders=[];valueChange=new e.bkB;constructor(){}ngOnInit(){this.value||(this.value={}),this.value.from=this.value.from||{},this.value.to=this.value.to||{}}onValueChange(){this.valueChange.emit(this.value)}compareVariables(t,i){return t&&i&&t.variableId==i.variableId}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["flex-variable-map"]],inputs:{view:"view",data:"data",value:"value",placeholders:"placeholders"},outputs:{valueChange:"valueChange"},ngContentSelectors:sK,decls:6,vars:11,consts:[[1,"flex-variable-mapping"],[1,"flex-join"],[2,"display","inline-block"],[2,"display","block",3,"value","data","placeholders","allowManualEdit","withStaticValue","tagTitle","valueChange"],[2,"display","block",3,"value","data","allowManualEdit","withStaticValue","devicesOnly","valueChange"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0),e.nrm(1,"div",1),e.j41(2,"div",2)(3,"flex-variable",3),e.bIt("valueChange",function(s){return n.value.from=s})("valueChange",function(){return n.onValueChange()}),e.k0s(),e.j41(4,"flex-variable",4),e.bIt("valueChange",function(s){return n.value.to=s})("valueChange",function(){return n.onValueChange()}),e.k0s()(),e.SdG(5),e.k0s()),2&i&&(e.R7$(3),e.Y8G("value",n.value.from)("data",n.data)("placeholders",n.placeholders)("allowManualEdit",!0)("withStaticValue",!1)("tagTitle","gauges.property-tag-internal-title"),e.R7$(1),e.Y8G("value",n.value.to)("data",n.data)("allowManualEdit",!1)("withStaticValue",!0)("devicesOnly",!0))},dependencies:[Cp],styles:["[_nghost-%COMP%]   .flex-variable-mapping[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.08);padding-bottom:3px;padding-top:3px}[_nghost-%COMP%]   .flex-join[_ngcontent-%COMP%]{float:left;position:relative;left:0;top:28px;margin-bottom:2px;width:8px;height:45px;margin-right:3px;border-radius:3px 0 0 3px;border-top:2px solid #cacaca;border-left:2px solid #cacaca;border-bottom:2px solid #cacaca}"]})}return r})();function cK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"flex-variable-map",3),e.bIt("valueChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChange())}),e.j41(2,"button",4),e.bIt("click",function(n){const s=e.eBV(t).index,d=e.XpG();return e.Njj(d.removeVariableMapping(n,s))}),e.nI1(3,"translate"),e.j41(4,"mat-icon"),e.EFF(5,"clear"),e.k0s()()()()}if(2&r){const t=o.index,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("view",i.view)("value",i.mapping[t])("placeholders",i.viewPlaceholders),e.R7$(1),e.FS9("matTooltip",e.bMT(3,5,"gauges.property-head-remove-mapvariable"))}}let AK=(()=>{class r{view;mapping;data;mappingChange=new e.bkB;placeholders;constructor(){}ngOnInit(){this.mapping||(this.mapping=[])}ngOnChanges(t){t.view&&(this.placeholders=null)}get viewPlaceholders(){if(this.placeholders)return this.placeholders;let t={};return this.view&&Object.values(this.view.items).forEach(i=>{i&&i.property&&(i.property.variableId&&this.assignVariableTo(i.property,t),i.property.actions&&Object.values(i.property.actions).forEach(n=>{this.assignVariableTo(n,t)}),i.property.events&&Object.values(i.property.events).forEach(n=>{n.actoptions&&n.actoptions.variableId?this.assignVariableTo(n.actoptions,t):n.actoptions&&n.actoptions.variable&&this.assignVariableTo(n.actoptions.variable,t)}))}),this.placeholders=Object.values(t),this.placeholders}assignVariableTo(t,i){let n={variableId:t.variableId};i[n.variableId]=n}addVariableMapping(t){t.preventDefault(),this.mapping.push({from:{},to:{}})}removeVariableMapping(t,i){t.preventDefault(),this.mapping.splice(i,1)}onChange(){this.mappingChange.emit(this.mapping)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["flex-variables-mapping"]],inputs:{view:"view",mapping:"mapping",data:"data"},outputs:{mappingChange:"mappingChange"},features:[e.OA$],decls:7,vars:4,consts:[[1,"flex-variable-mapping"],["mat-icon-button","",3,"click"],[4,"ngFor","ngForOf"],[3,"data","view","value","placeholders","valueChange"],["mat-icon-button","",2,"float","right","margin-top","7px",3,"matTooltip","click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(s){return n.addVariableMapping(s)}),e.j41(2,"mat-icon"),e.EFF(3,"add_circle_outline"),e.k0s(),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,cK,6,7,"div",2),e.k0s()),2&i&&(e.R7$(4),e.SpI(" ",e.bMT(5,2,"gauges.property-map-variable")," "),e.R7$(2),e.Y8G("ngForOf",n.mapping))},dependencies:[l.Sq,zn,Kn,Is,lK,Vi.D9]})}return r})();function dK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function uK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function hK(r,o){if(1&r&&(e.qex(0),e.DNE(1,uK,2,2,"mat-option",7),e.nI1(2,"enumToArray"),e.bVm()),2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",e.bMT(2,1,t.actionType))}}function pK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function fK(r,o){if(1&r&&(e.DNE(0,pK,2,2,"mat-option",7),e.nI1(1,"enumToArray")),2&r){const t=e.XpG(2);e.Y8G("ngForOf",e.bMT(1,1,t.enterActionType))}}function gK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function mK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function vK(r,o){if(1&r){const t=e.RV6();e.qex(0,4),e.j41(1,"div",25)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",6),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actoptions.panelId=n)}),e.DNE(6,gK,2,2,"mat-option",7),e.k0s()(),e.j41(7,"div",26)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",6),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actparam=n)}),e.DNE(12,mK,2,2,"mat-option",7),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,6,"gauges.property-event-destination-panel")),e.R7$(2),e.Y8G("value",t.actoptions.panelId),e.R7$(1),e.Y8G("ngForOf",i.viewPanels),e.R7$(3),e.JRh(e.bMT(10,8,"gauges.property-event-destination")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",i.views)}}function _K(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function yK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",27)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",6),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actparam=n)}),e.DNE(5,_K,2,2,"mat-option",7),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"gauges.property-event-destination")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",i.views)}}function bK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-slide-toggle",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.actoptions.singleCard=n)}),e.k0s()()}if(2&r){const t=e.XpG(3).$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-single-card")),e.R7$(2),e.Y8G("ngModel",t.actoptions.singleCard)}}function wK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"shapes.event-relativefrom-"+t.value)," ")}}function CK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actoptions.left=n)}),e.k0s()(),e.j41(6,"div",31)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actoptions.top=n)}),e.k0s()(),e.DNE(11,bK,5,4,"div",32),e.j41(12,"div",24)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",6),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actoptions.relativeFrom=n)}),e.DNE(17,wK,3,4,"mat-option",7),e.nI1(18,"enumToArray"),e.k0s()()()}if(2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,8,"general-x")),e.R7$(2),e.Y8G("ngModel",t.actoptions.left),e.R7$(3),e.JRh(e.bMT(9,10,"general-y")),e.R7$(2),e.Y8G("ngModel",t.actoptions.top),e.R7$(1),e.Y8G("ngIf",i.cardDestination===t.action),e.R7$(3),e.JRh(e.bMT(15,12,"gauges.property-event-destination-relative-from")),e.R7$(2),e.Y8G("value",t.actoptions.relativeFrom),e.R7$(1),e.Y8G("ngForOf",e.bMT(18,14,i.relativeFromType))}}function EK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function BK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20),e.DNE(1,vK,13,10,"ng-container",21),e.DNE(2,yK,6,5,"ng-template",null,22,e.C5r),e.DNE(4,CK,19,16,"div",23),e.j41(5,"div",24)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"mat-select",6),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.sourceDeviceId=n)}),e.nrm(10,"mat-option",19),e.DNE(11,EK,2,2,"mat-option",7),e.k0s()()()}if(2&r){const t=e.sdS(3),i=e.XpG().$implicit,n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.isWithPanel(i.action))("ngIfElse",t),e.R7$(3),e.Y8G("ngIf",n.withPosition(i.action)),e.R7$(3),e.JRh(e.bMT(8,6,"gauges.property-event-destination-target-device")),e.R7$(2),e.Y8G("value",i.actoptions.sourceDeviceId),e.R7$(2),e.Y8G("ngForOf",n.getDevices())}}function MK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",35)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-slide-toggle",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.hideClose=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-destination-hide-close")),e.R7$(2),e.Y8G("ngModel",t.actoptions.hideClose)}}function xK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",36)(1,"flex-variables-mapping",37),e.bIt("mappingChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.variablesMapping=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(1),e.Y8G("mapping",t.actoptions.variablesMapping)("view",i.getView(t.actparam))("data",i.data)}}function DK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function IK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",6),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)}),e.DNE(6,DK,2,2,"mat-option",7),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,3,"gauges.property-event-input")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",i.inputs)}}function kK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function TK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",42),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)}),e.k0s()(),e.j41(6,"div",43)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",44),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.function=n)}),e.DNE(11,kK,2,2,"mat-option",7),e.nI1(12,"enumToArray"),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"gauges.property-event-value")),e.R7$(2),e.Y8G("ngModel",t.actparam),e.R7$(3),e.JRh(e.bMT(9,7,"gauges.property-event-function")),e.R7$(2),e.Y8G("value",t.actoptions.function),e.R7$(1),e.Y8G("ngForOf",e.bMT(12,9,i.setValueType))}}function FK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",45)(1,"flex-variable",46),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.variable=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("value",t.actoptions.variable)("withStaticValue",!1)}}function SK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",45)(1,"flex-variable",47),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.variable=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("value",t.actoptions.variable)("withBitmask",!0)("bitmask",null==t.actoptions.variable?null:t.actoptions.variable.bitmask)("withStaticValue",!1)}}function QK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",51)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-slide-toggle",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.actoptions.newTab=n)}),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-newtab")),e.R7$(2),e.Y8G("ngModel",t.actoptions.newTab)}}function RK(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",41)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.actoptions.width=n)}),e.k0s()(),e.j41(6,"div",43)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.actoptions.height=n)}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(3).$implicit;e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-event-width")),e.R7$(2),e.Y8G("ngModel",t.actoptions.width),e.R7$(3),e.JRh(e.bMT(9,6,"gauges.property-event-height")),e.R7$(2),e.Y8G("ngModel",t.actoptions.height)}}function PK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",43)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.actoptions.scale=n)}),e.k0s()()}if(2&r){const t=e.XpG(3).$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-scale")),e.R7$(2),e.Y8G("ngModel",t.actoptions.scale)}}function OK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",55)(1,"div",41)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.actoptions.left=n)}),e.k0s()(),e.j41(6,"div",43)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3).$implicit;return e.Njj(a.actoptions.top=n)}),e.k0s()()()}if(2&r){const t=e.XpG(3).$implicit;e.R7$(3),e.JRh(e.bMT(4,4,"general-x")),e.R7$(2),e.Y8G("ngModel",t.actoptions.left),e.R7$(3),e.JRh(e.bMT(9,6,"general-y")),e.R7$(2),e.Y8G("ngModel",t.actoptions.top)}}function LK(r,o){if(1&r&&(e.j41(0,"div",52),e.DNE(1,RK,11,8,"ng-container",18),e.DNE(2,PK,5,4,"div",53),e.DNE(3,OK,11,8,"div",54),e.k0s()),2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(1),e.Y8G("ngIf",i.withSize(t.action)),e.R7$(1),e.Y8G("ngIf",i.withScale(t.action)),e.R7$(1),e.Y8G("ngIf",i.withPosition(t.action))}}function YK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)}),e.k0s()(),e.DNE(6,QK,5,4,"div",49),e.DNE(7,LK,4,3,"div",50),e.k0s()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-event-address")),e.R7$(2),e.Y8G("ngModel",t.actparam),e.R7$(1),e.Y8G("ngIf",i.eventOnOpenTab===t.action),e.R7$(1),e.Y8G("ngIf",i.withAddress(t.action))}}function NK(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function jK(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"input",65),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.value=n)}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("ngModel",t.value)}}function GK(r,o){if(1&r){const t=e.RV6();e.j41(0,"input",66),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2).$implicit;return e.Njj(a.value=n)}),e.nI1(1,"translate"),e.k0s()}if(2&r){const t=e.XpG(2).$implicit;e.FS9("placeholder",e.bMT(1,2,"gauges.property-event-script-param-input-value")),e.Y8G("ngModel",t.value)}}function UK(r,o){if(1&r&&(e.j41(0,"div",41)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,jK,2,1,"ng-container",10),e.DNE(5,GK,2,4,"ng-template",null,64,e.C5r),e.k0s()),2&r){const t=e.sdS(6),i=e.XpG(3).$implicit,n=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"gauges.property-event-script-param-value")),e.R7$(2),e.Y8G("ngIf",!n.isEnterOrSelect(i.type))("ngIfElse",t)}}function zK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41)(1,"flex-variable",67),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.setScriptParam(a,n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(1),e.Y8G("data",i.data)("variableId",t.value)("withStaticValue",!1)}}function HK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",60)(1,"div",41)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",61),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.name=n)}),e.k0s()(),e.j41(6,"div",62),e.DNE(7,UK,7,5,"div",63),e.DNE(8,zK,2,3,"div",63),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(3),e.JRh(e.bMT(4,5,"gauges.property-event-script-param-name")),e.R7$(2),e.Y8G("ngModel",t.name)("disabled",!0),e.R7$(2),e.Y8G("ngIf","value"===t.type),e.R7$(1),e.Y8G("ngIf","tagid"===t.type)}}function VK(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",56)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",57),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onScriptChanged(n.value,a))}),e.DNE(6,NK,2,2,"mat-option",7),e.k0s()(),e.j41(7,"div",58),e.DNE(8,HK,9,7,"div",59),e.k0s(),e.bVm()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-event-script")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",i.scripts),e.R7$(2),e.Y8G("ngForOf",t.actoptions.params)}}function JK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"button",3),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemoveEvent(a))}),e.j41(3,"mat-icon"),e.EFF(4,"clear"),e.k0s()()(),e.j41(5,"div",4)(6,"div",5)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",6),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)}),e.DNE(11,dK,2,2,"mat-option",7),e.nI1(12,"enumToArray"),e.k0s()(),e.j41(13,"div",8)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-select",9),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.action=n)})("change",function(){const a=e.eBV(t).$implicit;return e.Njj(a.actparam="")}),e.DNE(18,hK,3,3,"ng-container",10),e.DNE(19,fK,2,3,"ng-template",null,11,e.C5r),e.k0s()()(),e.DNE(21,BK,12,8,"div",12),e.DNE(22,MK,5,4,"div",13),e.DNE(23,xK,2,3,"div",14),e.DNE(24,IK,7,5,"div",15),e.DNE(25,TK,13,11,"div",16),e.DNE(26,FK,2,3,"div",17),e.DNE(27,SK,2,5,"div",17),e.DNE(28,YK,8,6,"div",16),e.DNE(29,VK,9,6,"ng-container",18),e.k0s()}if(2&r){const t=o.$implicit,i=e.sdS(20),n=e.XpG();e.R7$(8),e.JRh(e.bMT(9,16,"gauges.property-event-type")),e.R7$(2),e.Y8G("value",t.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(12,18,n.eventType)),e.R7$(4),e.JRh(e.bMT(16,20,"gauges.property-event-action")),e.R7$(2),e.Y8G("value",t.action),e.R7$(1),e.Y8G("ngIf",!n.isEnterOrSelect(t.type))("ngIfElse",i),e.R7$(3),e.Y8G("ngIf",n.withDestination(t.action)),e.R7$(1),e.Y8G("ngIf",n.destinationWithHideClose(t.action)),e.R7$(1),e.Y8G("ngIf",n.withDestination(t.action)),e.R7$(1),e.Y8G("ngIf",n.withSetInput(t.action)),e.R7$(1),e.Y8G("ngIf",n.withSetValue(t.action)),e.R7$(1),e.Y8G("ngIf",n.withSetValue(t.action)||n.withSetInput(t.action)),e.R7$(1),e.Y8G("ngIf",n.withToggleValue(t.action)),e.R7$(1),e.Y8G("ngIf",n.withAddress(t.action)),e.R7$(1),e.Y8G("ngIf",n.withRunScript(t.action))}}let AS=(()=>{class r{translateService;projectService;property;views;inputs;data;scripts;eventRunScript=ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript);events;eventType={};setValueType=It.Z4;enterActionType={};actionType=It.Qk;relativeFromType=It.Eh;eventActionOnCard=ii.Aq.getEnumKey(It.Qk,It.Qk.onwindow);eventWithPosition=[ii.Aq.getEnumKey(It.Qk,It.Qk.oncard),ii.Aq.getEnumKey(It.Qk,It.Qk.onwindow),ii.Aq.getEnumKey(It.Qk,It.Qk.oniframe)];cardDestination=ii.Aq.getEnumKey(It.Qk,It.Qk.onwindow);panelDestination=ii.Aq.getEnumKey(It.Qk,It.Qk.onViewToPanel);eventOnWindows=ii.Aq.getEnumKey(It.Qk,It.Qk.oncard);viewPanels;eventOnOpenTab=ii.Aq.getEnumKey(It.Qk,It.Qk.onOpenTab);eventOnIframe=ii.Aq.getEnumKey(It.Qk,It.Qk.oniframe);constructor(t,i){this.translateService=t,this.projectService=i}ngOnInit(){this.data?.type===It.qi.svg?(this.actionType=It.Uy,this.eventType[ii.Aq.getEnumKey(It.yy,It.yy.onopen)]=this.translateService.instant(It.yy.onopen),this.eventType[ii.Aq.getEnumKey(It.yy,It.yy.onclose)]=this.translateService.instant(It.yy.onclose)):this.data.settings?.type===Fs.TypeTag?this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.enter)]=this.translateService.instant(It.e6.enter):this.data.settings?.type===Ul.TypeTag?this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.select)]=this.translateService.instant(It.e6.select):(this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.click)]=this.translateService.instant(It.e6.click),this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.dblclick)]=this.translateService.instant(It.e6.dblclick),this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.mousedown)]=this.translateService.instant(It.e6.mousedown),this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.mouseup)]=this.translateService.instant(It.e6.mouseup),this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.mouseover)]=this.translateService.instant(It.e6.mouseover),this.eventType[ii.Aq.getEnumKey(It.e6,It.e6.mouseout)]=this.translateService.instant(It.e6.mouseout)),this.viewPanels=Object.values(this.data.view?.items??[])?.filter(t=>"svg-ext-own_ctrl-panel"===t.type),this.enterActionType[ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript)]=this.translateService.instant(It.Qk.onRunScript),Object.keys(this.actionType).forEach(t=>{this.translateService.get(this.actionType[t]).subscribe(i=>{this.actionType[t]=i})}),Object.keys(this.setValueType).forEach(t=>{this.translateService.get(this.setValueType[t]).subscribe(i=>{this.setValueType[t]=i})}),this.property&&(this.events=this.property.events,this.events.forEach(t=>{(!t.actoptions||0==Object.keys(t.actoptions).length)&&(t.actoptions={variablesMapping:[]})})),(!this.events||this.events.length<=0)&&this.onAddEvent()}getEvents(){let t=[];return this.events&&this.events.forEach(i=>{i.type&&(i.action===this.eventRunScript?delete i.actoptions.variablesMapping:delete i.actoptions[qo.od],t.push(i))}),t}onAddEvent(){let t=new It.cH;this.addEvent(t)}onRemoveEvent(t){this.events.splice(t,1)}onScriptChanged(t,i){if(i&&this.scripts){let n=this.scripts.find(a=>a.id===t);i.actoptions[qo.od]=[],n&&n.parameters&&(i.actoptions[qo.od]=JSON.parse(JSON.stringify(n.parameters)))}}withDestination(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.onpage),a=Object.values(this.actionType).indexOf(It.Qk.onwindow),s=Object.values(this.actionType).indexOf(It.Qk.ondialog),d=Object.values(this.actionType).indexOf(It.Qk.onViewToPanel);return i>-1&&(i===n||i===a||i===s||i===d)}withPosition(t){return-1!==this.eventWithPosition.indexOf(t)}withWindows(t){return t!==this.eventOnOpenTab}withSetValue(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.onSetValue);return i>-1&&i===n}withToggleValue(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.onToggleValue);return i>-1&&i===n}withSetInput(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.onSetInput);return i>-1&&i===n}withAddress(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.oniframe),a=Object.values(this.actionType).indexOf(It.Qk.oncard),s=Object.values(this.actionType).indexOf(It.Qk.onOpenTab);return i>-1&&(i===n||i===a||i===s)}withSize(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.oniframe),a=Object.values(this.actionType).indexOf(It.Qk.oncard);return i>-1&&(i===n||i===a)}withScale(t){let i=Object.keys(this.actionType).indexOf(t),n=Object.values(this.actionType).indexOf(It.Qk.oniframe);return i>-1&&i===n}withRunScript(t){return t===this.eventRunScript}getView(t){return this.views.find(function(i){return i.id===t})}setScriptParam(t,i){t.value=i.variableId}destinationWithHideClose(t){return t===ii.Aq.getEnumKey(It.Qk,It.Qk.onwindow)||t===ii.Aq.getEnumKey(It.Qk,It.Qk.ondialog)}isEnterOrSelect(t){return"enter"===t||"select"===t}isWithPanel(t){return Object.keys(this.actionType).indexOf(t)===Object.values(this.actionType).indexOf(It.Qk.onViewToPanel)}addEvent(t){this.events||(this.events=[]),this.events.push(t)}getDevices(){return this.projectService.getDeviceList()}static \u0275fac=function(i){return new(i||r)(e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["flex-event"]],inputs:{property:"property",views:"views",inputs:"inputs",data:"data",scripts:"scripts"},decls:1,vars:1,consts:[["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"item-remove"],["mat-icon-button","",1,"remove",3,"click"],[1,"inbk",2,"vertical-align","top"],[1,"my-form-field",2,"width","140px"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","ml15",2,"width","140px"],[3,"value","valueChange","change"],[4,"ngIf","ngIfElse"],["enterOrSelectAction",""],["class","my-form-field","style","width: 280px;padding-left: 20px",4,"ngIf"],["class","my-form-field lbk ml10 tac","style","max-width: 60px; vertical-align: top;",4,"ngIf"],["style","padding-left: 25px;",4,"ngIf"],["style","display: inline-block",4,"ngIf"],["class","inbk ml15",4,"ngIf"],["style","display: block; padding-top: 5px;padding-left: 25px;",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"my-form-field",2,"width","280px","padding-left","20px"],["class","inbk","style","vertical-align: top;",4,"ngIf","ngIfElse"],["destination",""],["class","table mt8",4,"ngIf"],[1,"my-form-field","lbk","mt5",2,"width","240px"],[1,"my-form-field","block",2,"width","240px"],[1,"my-form-field","block","mt5",2,"width","240px"],[1,"my-form-field","lbk",2,"width","240px"],[1,"table","mt8"],[1,"my-form-field","lbk"],["numberOnly","","type","number",2,"width","60px",3,"ngModel","ngModelChange"],[1,"my-form-field","lbk","ml10"],["class","my-form-field lbk ml10 mt5 tac","style","max-width: 70px",4,"ngIf"],[1,"my-form-field","lbk","ml10","mt5","tac",2,"max-width","70px"],["color","primary",3,"ngModel","ngModelChange"],[1,"my-form-field","lbk","ml10","tac",2,"max-width","60px","vertical-align","top"],[2,"padding-left","25px"],[3,"mapping","view","data","mappingChange"],[2,"display","inline-block"],[1,"my-form-field","ml15",2,"width","260px"],[1,"inbk","ml15"],[1,"my-form-field"],["type","text",2,"width","180px",3,"ngModel","ngModelChange"],[1,"my-form-field","ml10"],[2,"width","80px",3,"value","valueChange"],[2,"display","block","padding-top","5px","padding-left","25px"],[2,"display","block",3,"data","value","withStaticValue","valueChange"],[2,"display","block",3,"data","value","withBitmask","bitmask","withStaticValue","valueChange"],["type","text",2,"width","240px",3,"ngModel","ngModelChange"],["class","my-form-field lbk ml20 tac","style","max-width: 70px",4,"ngIf"],["style","display: table; padding-left: 20px; padding-top: 5px;",4,"ngIf"],[1,"my-form-field","lbk","ml20","tac",2,"max-width","70px"],[2,"display","table","padding-left","20px","padding-top","5px"],["class","my-form-field ml10",4,"ngIf"],["class","block mt5",4,"ngIf"],[1,"block","mt5"],[1,"my-form-field","inbk",2,"width","260px","padding-left","20px"],[3,"value","valueChange","selectionChange"],[2,"display","table","padding-top","5px"],["style","padding-left: 10px; padding-top: 5px;",4,"ngFor","ngForOf"],[2,"padding-left","10px","padding-top","5px"],["type","text","readonly","",2,"width","160px",3,"ngModel","disabled","ngModelChange"],[2,"margin-left","10px","display","inline-block"],["class","my-form-field",4,"ngIf"],["enterParamValue",""],["type","text",2,"width","260px",3,"ngModel","ngModelChange"],["type","text",2,"width","260px",3,"ngModel","placeholder","ngModelChange"],[2,"display","block",3,"data","variableId","withStaticValue","onchange"]],template:function(i,n){1&i&&e.DNE(0,JK,30,22,"div",0),2&i&&e.Y8G("ngForOf",n.events)},dependencies:[l.Sq,l.bT,k,Zn,qe,tn,Ur,zn,Kn,yo,wc,Cp,AK,Hs,Vi.D9,ii.yN],styles:[".item[_ngcontent-%COMP%]{display:block;width:100%;border-bottom:1px solid rgba(0,0,0,.1);padding:0 0 5px;min-width:664px;margin-bottom:3px}.remove[_ngcontent-%COMP%]{position:relative;top:4px;right:0}.item-remove[_ngcontent-%COMP%]{float:right}"]})}return r})();function WK(r,o){if(1&r&&(e.j41(0,"div",12),e.nrm(1,"range-number",13),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("range",t.range)}}function KK(r,o){if(1&r&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function XK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",15)(1,"div",16)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",17),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.fillA=n)}),e.k0s()(),e.j41(6,"div",18)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",17),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.strokeA=n)}),e.k0s()(),e.j41(11,"div",19)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",20),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.interval=n)}),e.k0s()(),e.j41(16,"div",16)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",17),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.fillB=n)}),e.k0s()(),e.j41(21,"div",18)(22,"span"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"input",17),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.strokeB=n)}),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,62,"gauges.property-input-color")),e.R7$(2),e.xc7("background",t.options.fillA),e.Y8G("colorPicker",t.options.fillA)("value",t.options.fillA)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex"),e.R7$(3),e.JRh(e.bMT(9,64,"gauges.property-input-stroke")),e.R7$(2),e.xc7("background",t.options.strokeA),e.Y8G("colorPicker",t.options.strokeA)("value",t.options.strokeA)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex"),e.R7$(3),e.JRh(e.bMT(14,66,"gauges.property-interval-msec")),e.R7$(2),e.Y8G("ngModel",t.options.interval),e.R7$(3),e.JRh(e.bMT(19,68,"gauges.property-input-color")),e.R7$(2),e.xc7("background",t.options.fillB),e.Y8G("colorPicker",t.options.fillB)("value",t.options.fillB)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex"),e.R7$(3),e.JRh(e.bMT(24,70,"gauges.property-input-stroke")),e.R7$(2),e.xc7("background",t.options.strokeB),e.Y8G("colorPicker",t.options.strokeB)("value",t.options.strokeB)("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")("cpAlphaChannel","always")("cpOutputFormat","hex")}}function ZK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",15)(1,"div",21)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.minAngle=n)}),e.k0s()(),e.j41(6,"div",16)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.maxAngle=n)}),e.k0s()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-action-minAngle")),e.R7$(2),e.Y8G("ngModel",t.options.minAngle),e.R7$(3),e.JRh(e.bMT(9,6,"gauges.property-action-maxAngle")),e.R7$(2),e.Y8G("ngModel",t.options.maxAngle)}}function $K(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",15)(1,"div",23)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.toX=n)}),e.k0s()(),e.j41(6,"div",23)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.toY=n)}),e.k0s()(),e.j41(11,"div",23)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.options.duration=n)}),e.k0s()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,6,"gauges.property-action-toX")),e.R7$(2),e.Y8G("ngModel",t.options.toX),e.R7$(3),e.JRh(e.bMT(9,8,"gauges.property-action-toY")),e.R7$(2),e.Y8G("ngModel",t.options.toY),e.R7$(3),e.JRh(e.bMT(14,10,"gauges.property-action-duration")),e.R7$(2),e.Y8G("ngModel",t.options.duration)}}function qK(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",1)(1,"flex-variable",2),e.bIt("onchange",function(n){const s=e.eBV(t).index,d=e.XpG();return e.Njj(d.setVariable(s,n))}),e.k0s(),e.j41(2,"div",3),e.DNE(3,WK,2,1,"div",4),e.j41(4,"div",5)(5,"span"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"mat-select",6),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)})("selectionChange",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onCheckActionType(a.type,a))}),e.DNE(9,KK,2,2,"mat-option",7),e.nI1(10,"enumToArray"),e.k0s()(),e.j41(11,"div",8)(12,"button",9),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemoveAction(a))}),e.j41(13,"mat-icon"),e.EFF(14,"clear"),e.k0s()()(),e.j41(15,"div",10),e.DNE(16,XK,26,72,"div",11),e.k0s(),e.j41(17,"div",10),e.DNE(18,ZK,11,8,"div",11),e.DNE(19,$K,16,12,"div",11),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("variableId",t.variableId)("withStaticValue",!1)("withBitmask",i.withBitmask)("bitmask",t.bitmask),e.R7$(2),e.Y8G("ngIf",i.slideView),e.R7$(3),e.JRh(e.bMT(7,14,"gauges.property-action-type")),e.R7$(2),e.Y8G("value",t.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(10,16,i.actionsSupported)),e.R7$(6),e.Y8G("ngSwitch",t.type),e.R7$(1),e.Y8G("ngSwitchCase",i.actionBlink),e.R7$(1),e.Y8G("ngSwitch",t.type),e.R7$(1),e.Y8G("ngSwitchCase",i.actionRotate),e.R7$(1),e.Y8G("ngSwitchCase",i.actionMove)}}let BO=(()=>{class r{translateService;data;property;withBitmask=!1;actions;actionsSupported;actionBlink=Object.keys(It.vo).find(t=>It.vo[t]===It.vo.blink);actionRotate=Object.keys(It.vo).find(t=>It.vo[t]===It.vo.rotate);actionMove=Object.keys(It.vo).find(t=>It.vo[t]===It.vo.move);itemtype;slideView=!0;defaultColor=ii.Aq.defaultColor;constructor(t){this.translateService=t}ngOnInit(){this.property&&(this.actions=this.property.actions),(!this.actions||this.actions.length<=0)&&this.onAddAction(),this.data.withActions&&(this.actionsSupported=this.data.withActions,Object.keys(this.actionsSupported).forEach(t=>{this.translateService.get(this.actionsSupported[t]).subscribe(i=>{this.actionsSupported[t]=i})}))}getActions(){let t=null;return this.actions&&(t=[],this.actions.forEach(i=>{i.variableId&&t.push(i)})),t}onAddAction(){let t=new It.iz;t.range=new It.EV,this.addAction(t)}onRemoveAction(t){this.actions.splice(t,1)}onRangeViewToggle(t){this.slideView=t}setVariable(t,i){this.actions[t].variableId=i.variableId,this.actions[t].bitmask=i.bitmask}addAction(t){this.actions||(this.actions=[]),this.actions.push(t)}onCheckActionType(t,i){t===this.actionBlink&&typeof i.options!=typeof It.yO?i.options=new It.yO:t===this.actionRotate&&typeof i.options!=typeof It.Xp?i.options=new It.Xp:t===this.actionMove&&typeof i.options!=typeof It.zQ&&(i.options=new It.zQ)}static \u0275fac=function(i){return new(i||r)(e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["flex-action"]],inputs:{data:"data",property:"property",withBitmask:"withBitmask"},decls:1,vars:1,consts:[["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"item-head",3,"data","variableId","withStaticValue","withBitmask","bitmask","onchange"],[1,"action-content"],["class","item-range",4,"ngIf"],[1,"my-form-field",2,"width","278px"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"item-remove"],["mat-icon-button","",1,"_remove",3,"click"],[3,"ngSwitch"],["class","action-params",4,"ngSwitchCase"],[1,"item-range"],[3,"range"],[3,"value"],[1,"action-params"],[1,"my-form-field"],[1,"input-color",2,"width","70px",3,"colorPicker","value","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","cpAlphaChannel","cpOutputFormat","colorPickerChange"],[1,"my-form-field",2,"margin-left","10px"],[1,"my-form-field",2,"padding-left","35px","padding-right","35px"],["numberOnly","","type","text",2,"width","80px",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"padding-right","10px"],["numberOnly","","type","number",2,"width","70px",3,"ngModel","ngModelChange"],[1,"my-form-field","mr10"]],template:function(i,n){1&i&&e.DNE(0,qK,20,18,"div",0),2&i&&e.Y8G("ngForOf",n.actions)},dependencies:[l.Sq,l.bT,l.ux,l.e1,k,Zn,qe,tn,Ur,zn,Kn,yo,XA,Cp,Hs,cS,Vi.D9,ii.yN],styles:[".item[_ngcontent-%COMP%]{display:block;width:100%;border-bottom:1px solid rgba(0,0,0,.1);padding:0 0 5px;margin-bottom:3px}.item-head[_ngcontent-%COMP%]{display:block}.remove[_ngcontent-%COMP%]{position:relative;top:4px;right:0}.item-remove[_ngcontent-%COMP%]{float:right}.action-content[_ngcontent-%COMP%]{display:block;padding-top:2px;margin-left:30px}.item-range[_ngcontent-%COMP%]{display:inline-block;min-width:240px;width:240px}.action-params[_ngcontent-%COMP%]{display:inline-block;padding-top:5px}.input-slider[_ngcontent-%COMP%]{display:inline}  .input-slider span{font-size:14px!important}"]})}return r})();function eX(r,o){if(1&r&&e.nrm(0,"mat-list-option",7),2&r){const t=o.$implicit;e.Y8G("selected",t.selected)("value",t)}}function tX(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-selection-list",4,5),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.extSelected=n)}),e.DNE(2,eX,1,2,"mat-list-option",6),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("ngModel",t.extSelected)("disabled",t.disabled),e.R7$(2),e.Y8G("ngForOf",t.options)}}function iX(r,o){if(1&r&&(e.j41(0,"mat-list-option",8),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("selected",t.selected)("value",t),e.R7$(1),e.SpI(" ",t.label," ")}}let Xg=(()=>{class r{disabled;selected=[];options=[];extSelected;constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["sel-options"]],inputs:{disabled:"disabled",selected:"selected",options:"options",extSelected:"extSelected"},decls:4,vars:4,consts:[["style","display: inline-block; width: 40px;padding-top: 0px; padding-bottom: 10px;",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[2,"display","inline-block","padding-top","0px","padding-bottom","10px",3,"ngModel","disabled","ngModelChange"],["selGroups",""],["style","font-size: 14px;height: 26px !important;cursor: pointer;","checkboxPosition","before",3,"selected","value",4,"ngFor","ngForOf"],[2,"display","inline-block","width","40px","padding-top","0px","padding-bottom","10px",3,"ngModel","disabled","ngModelChange"],["extGroups",""],["style","height: 26px;cursor: pointer;","checkboxPosition","before",3,"selected","value",4,"ngFor","ngForOf"],["checkboxPosition","before",2,"height","26px","cursor","pointer",3,"selected","value"],["checkboxPosition","before",2,"font-size","14px","height","26px !important","cursor","pointer",3,"selected","value"]],template:function(i,n){1&i&&(e.DNE(0,tX,3,3,"mat-selection-list",0),e.j41(1,"mat-selection-list",1,2),e.bIt("ngModelChange",function(s){return n.selected=s}),e.DNE(3,iX,2,3,"mat-list-option",3),e.k0s()),2&i&&(e.Y8G("ngIf",n.extSelected),e.R7$(1),e.Y8G("ngModel",n.selected)("disabled",n.disabled),e.R7$(2),e.Y8G("ngForOf",n.options))},dependencies:[l.Sq,l.bT,qe,tn,pp,Hv]})}return r})(),Zg=(()=>{class r{http;translateService;toastr;appService;resewbApiService;resDemoService;resClientService;endPointConfig=Kg.G.getURL();storage;constructor(t,i,n,a,s,d,m){this.http=t,this.translateService=i,this.toastr=n,this.appService=a,this.resewbApiService=s,this.resDemoService=d,this.resClientService=m,this.storage=s,!_p.c.serverEnabled||a.isDemoApp?this.storage=d:a.isClientApp&&(this.storage=m)}getUsers(t){let i=new ka.Lr({"Content-Type":"application/json"});return this.http.get(this.endPointConfig+"/api/users",{headers:i,params:t})}setUser(t){return new Ha.c(i=>{if(_p.c.serverEnabled){let n=new ka.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/users",{headers:n,params:t}).subscribe(a=>{i.next(null)},a=>{console.error(a),this.notifySaveError(),i.error(a)})}else i.next(null)})}removeUser(t){return new Ha.c(i=>{if(_p.c.serverEnabled){let n=new ka.Lr({"Content-Type":"application/json"});this.http.delete(this.endPointConfig+"/api/users",{headers:n,params:{param:t.username}}).subscribe(a=>{i.next(null)},a=>{console.error(a),this.notifySaveError(),i.error(a)})}else i.next(null)})}getRoles(){return new Ha.c(t=>{this.storage.getRoles().subscribe(i=>{t.next(i)},i=>{console.error(i),t.error(i)})})}setRole(t){return new Ha.c(i=>{this.storage.setRoles([t]).subscribe(n=>{i.next(n)},n=>{console.error(n),i.error(n)})})}removeRole(t){return new Ha.c(i=>{this.storage.removeRoles([t]).subscribe(n=>{i.next(n)},n=>{console.error(n),i.error(n)})})}notifySaveError(){let t="";this.translateService.get("msg.users-save-error").subscribe(i=>{t=i}),this.toastr.error(t,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}static \u0275fac=function(i){return new(i||r)(e.KVO(ka.Qq),e.KVO(Vi.c$),e.KVO(Gg.tw),e.KVO(Bf.d),e.KVO(OF.K),e.KVO(LF.t),e.KVO(PF.F))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();function nX(r,o){1&r&&(e.j41(0,"span",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"dlg.gauge-permission-show")))}function rX(r,o){1&r&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"dlg.gauge-permission-enabled")))}let dS=(()=>{class r{dialogRef;userService;cdr;settingsService;data;selected=[];extension=[];options=[];destroy$=new An.B;seloptions;constructor(t,i,n,a,s){this.dialogRef=t,this.userService=i,this.cdr=n,this.settingsService=a,this.data=s}ngAfterViewInit(){this.isRolePermission()?this.userService.getRoles().pipe((0,h.T)(t=>t.sort((i,n)=>i.index-n.index)),(0,jn.Q)(this.destroy$)).subscribe(t=>{this.options=t?.map(i=>({id:i.id,label:i.name})),this.selected=this.options.filter(i=>this.data.permissionRoles?.enabled?.includes(i.id)),this.extension=this.data.mode?null:this.options.filter(i=>this.data.permissionRoles?.show?.includes(i.id))},t=>{console.error("get Roles err: "+t)}):(this.selected=Uc.yD.ValueToGroups(this.data.permission),this.extension=this.data.mode?null:Uc.yD.ValueToGroups(this.data.permission,!0),this.options=Uc.yD.Groups),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}isRolePermission(){return this.settingsService.getSettings()?.userRole}onNoClick(){this.dialogRef.close()}onOkClick(){this.isRolePermission()?(this.data.permissionRoles||(this.data.permissionRoles={show:null,enabled:null}),this.data.permissionRoles.enabled=this.seloptions.selected?.map(t=>t.id),this.data.permissionRoles.show="onlyShow"===this.data.mode?this.seloptions.selected?.map(t=>t.id):this.seloptions.extSelected?.map(t=>t.id)):(this.data.permission=Uc.yD.GroupsToValue(this.seloptions.selected),this.data.permission+=Uc.yD.GroupsToValue("onlyShow"===this.data.mode?this.seloptions.selected:this.seloptions.extSelected,!0)),this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Zg),e.rXU(e.gRc),e.rXU(yp.h),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-permission-dialog"]],viewQuery:function(i,n){if(1&i&&e.GBs(Xg,5),2&i){let a;e.mGM(a=e.lsd())&&(n.seloptions=a.first)}},decls:22,vars:17,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block","mb10"],["class","label label-show",4,"ngIf"],["class","label label-enable",4,"ngIf"],[1,"label"],[1,"block",3,"selected","options","extSelected"],["seloptions",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[1,"label","label-show"],[1,"label","label-enable"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4),e.DNE(8,nX,3,3,"span",5),e.DNE(9,rX,3,3,"span",6),e.j41(10,"span",7),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"sel-options",8,9),e.k0s()(),e.j41(15,"div",10)(16,"button",11),e.bIt("click",function(){return n.onNoClick()}),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"button",12),e.bIt("click",function(){return n.onOkClick()}),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,9,"dlg.gauge-permission-title")),e.R7$(6),e.Y8G("ngIf",!n.data.mode||"onlyShow"===n.data.mode),e.R7$(1),e.Y8G("ngIf",!n.data.mode||"onlyEnable"===n.data.mode),e.R7$(2),e.JRh(e.bMT(12,11,"dlg.gauge-permission-label")),e.R7$(2),e.Y8G("selected",n.selected)("options",n.options)("extSelected",n.extension),e.R7$(4),e.JRh(e.bMT(18,13,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(21,15,"dlg.ok")))},dependencies:[l.bT,zn,Or,eo,Rr,Kn,Wr,Xg,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:350px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .label-show[_ngcontent-%COMP%]{width:45px;text-align:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .label-enable[_ngcontent-%COMP%]{width:70px}"]})}return r})();const oX=["flexhead"],aX=["flexevent"],sX=["flexaction"];function lX(r,o){1&r&&(e.j41(0,"mat-icon",22),e.EFF(1,"lock"),e.k0s())}function cX(r,o){1&r&&(e.j41(0,"mat-icon",22),e.EFF(1,"lock_open"),e.k0s())}function AX(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",23)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",24),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.property.text=n)}),e.nI1(5,"translate"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"gauges.property-text")),e.R7$(2),e.FS9("placeholder",e.bMT(5,5,"gauges.property-language-text")),e.Y8G("ngModel",t.property.text)}}function dX(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",25)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-slide-toggle",26),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.property.readonly=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-readonly")),e.R7$(2),e.Y8G("ngModel",t.property.readonly)}}function uX(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddInput())}),e.j41(2,"mat-icon"),e.EFF(3,"add_circle_outline"),e.k0s()()()}}function hX(r,o){if(1&r&&e.nrm(0,"flex-widget-property",29),2&r){const t=e.XpG();e.Y8G("property",t.property)}}function pX(r,o){if(1&r&&e.nrm(0,"flex-head",30,31),2&r){const t=e.XpG();e.Y8G("data",t.data)("property",t.property)("withBitmask",t.withBitmask)}}function fX(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-tab",4),e.nI1(1,"translate"),e.j41(2,"div",5)(3,"div",27)(4,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddEvent())}),e.nI1(5,"translate"),e.j41(6,"mat-icon"),e.EFF(7,"add_circle_outline"),e.k0s()()(),e.j41(8,"div",15),e.nrm(9,"flex-event",33,34),e.k0s()()()}if(2&r){const t=e.XpG();e.FS9("label",e.bMT(1,7,"gauges.property-events")),e.R7$(4),e.FS9("matTooltip",e.bMT(5,9,"gauges.property-tooltip-add-event")),e.R7$(5),e.Y8G("property",t.property)("views",t.views)("data",t.data)("inputs",t.inputs)("scripts",t.scripts)}}function gX(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-tab",4),e.nI1(1,"translate"),e.j41(2,"div",5)(3,"div",27)(4,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddAction())}),e.j41(5,"mat-icon"),e.EFF(6,"add_circle_outline"),e.k0s()()(),e.j41(7,"div",15),e.nrm(8,"flex-action",35,36),e.k0s()()()}if(2&r){const t=e.XpG();e.FS9("label",e.bMT(1,4,"gauges.property-actions")),e.R7$(8),e.Y8G("data",t.data)("property",t.property)("withBitmask",t.withBitmask)}}let uS=(()=>{class r{dialog;dialogRef;settingsService;cdr;data;name;flexHead;flexEvent;flexAction;slideView=!0;slideActionView=!0;withBitmask=!1;property;dialogType=Ho.RangeWithAlarm;eventsSupported;actionsSupported;views;defaultValue;inputs;scripts;constructor(t,i,n,a,s){this.dialog=t,this.dialogRef=i,this.settingsService=n,this.cdr=a,this.data=s,this.dialogType=this.data.dlgType,this.eventsSupported=this.data.withEvents,this.actionsSupported=this.data.withActions,this.views=this.data.views,this.inputs=this.data.inputs,this.scripts=this.data.scripts,this.property=JSON.parse(JSON.stringify(this.data.settings.property)),this.property||(this.property=new It.f5)}ngAfterViewInit(){this.defaultValue=this.data.default,!this.isWidget()&&!1!==this.data.withProperty&&(this.dialogType===Ho.Input?this.flexHead.withProperty=tu.input:this.dialogType===Ho.ValueAndUnit?this.flexHead.withProperty=tu.output:(this.flexHead.defaultValue=this.defaultValue,this.flexHead.withProperty=tu.range,this.dialogType===Ho.ValueWithRef?this.flexHead.withProperty=tu.text:this.dialogType===Ho.Step?this.flexHead.withProperty=tu.step:this.dialogType===Ho.MinMax&&(this.flexHead.withProperty=tu.minmax))),this.data.withBitmask&&(this.withBitmask=this.data.withBitmask)}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.settings.property=this.isWidget()?this.property:this.flexHead?.getProperty(),this.flexEvent&&(this.data.settings.property.events=this.flexEvent.getEvents()),this.flexAction&&(this.data.settings.property.actions=this.flexAction.getActions()),this.property.readonly?this.property.readonly=!0:delete this.property.readonly}onAddInput(){this.flexHead.onAddInput()}onAddEvent(){this.flexEvent.onAddEvent()}onAddAction(){this.flexAction.onAddAction()}onRangeViewToggle(){this.flexHead.onRangeViewToggle(this.slideView)}onActionRangeViewToggle(){this.flexAction.onRangeViewToggle(this.slideActionView)}isToolboxToShow(){return(this.dialogType===Ho.RangeWithAlarm||this.dialogType===Ho.Range||this.dialogType===Ho.Step||this.dialogType===Ho.RangeAndText)&&!1!==this.data.withProperty}isRangeToShow(){return this.dialogType===Ho.RangeWithAlarm||this.dialogType===Ho.Range||this.dialogType===Ho.RangeAndText}isTextToShow(){return this.data.languageTextEnabled||this.dialogType===Ho.RangeAndText}isAlarmToShow(){return this.dialogType===Ho.RangeWithAlarm}isReadonlyToShow(){return this.dialogType===Ho.Step}onEditPermission(){this.dialog.open(dS,{position:{top:"60px"},data:{permission:this.property.permission,permissionRoles:this.property.permissionRoles}}).afterClosed().subscribe(i=>{i&&(this.property.permission=i.permission,this.property.permissionRoles=i.permissionRoles),this.cdr.detectChanges()})}isWidget(){return this.property.type}isRolePermission(){return this.settingsService.getSettings()?.userRole}havePermission(){return this.isRolePermission()?this.property.permissionRoles?.show?.length||this.property.permissionRoles?.enabled?.length:this.property.permission}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(yr),e.rXU(yp.h),e.rXU(e.gRc),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["gauge-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(oX,5),e.GBs(aX,5),e.GBs(sX,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.flexHead=a.first),e.mGM(a=e.lsd())&&(n.flexEvent=a.first),e.mGM(a=e.lsd())&&(n.flexAction=a.first)}},inputs:{name:"name"},decls:38,vars:27,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],[2,"width","100%"],[3,"label"],[1,"mat-tab-container"],[1,"my-form-field"],["type","text",2,"width","220px",3,"ngModel","ngModelChange"],[1,"my-form-field","ml10",2,"vertical-align","bottom"],[1,"my-form-field-permission","pointer",2,"text-align","center",3,"click"],["class","header-icon","style","line-height: 28px;",4,"ngIf","ngIfElse"],["unlock",""],["class","my-form-field ml10",4,"ngIf"],["class","my-form-field","style","padding-left: 100px",4,"ngIf"],["class","toolbox",4,"ngIf"],["mat-dialog-content","",2,"overflow","visible","width","100%"],[3,"property",4,"ngIf"],[3,"data","property","withBitmask",4,"ngIf"],[3,"label",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close","click"],[1,"header-icon",2,"line-height","28px"],[1,"my-form-field","ml10"],["type","text",2,"width","270px",3,"ngModel","placeholder","ngModelChange"],[1,"my-form-field",2,"padding-left","100px"],["color","primary",3,"ngModel","ngModelChange"],[1,"toolbox"],["mat-icon-button","",3,"click"],[3,"property"],[3,"data","property","withBitmask"],["flexhead",""],["mat-icon-button","",3,"matTooltip","click"],[2,"padding-bottom","5px",3,"property","views","data","inputs","scripts"],["flexevent",""],[2,"padding-bottom","5px",3,"data","property","withBitmask"],["flexaction",""]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.k0s(),e.j41(3,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(4,"clear"),e.k0s(),e.j41(5,"mat-tab-group",3)(6,"mat-tab",4),e.nI1(7,"translate"),e.j41(8,"div",5)(9,"div")(10,"div",6)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",7),e.bIt("ngModelChange",function(s){return n.data.settings.name=s}),e.k0s()(),e.j41(15,"div",8)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",9),e.bIt("click",function(){return n.onEditPermission()}),e.DNE(20,lX,2,0,"mat-icon",10),e.DNE(21,cX,2,0,"ng-template",null,11,e.C5r),e.k0s()(),e.DNE(23,AX,6,7,"div",12),e.DNE(24,dX,5,4,"div",13),e.DNE(25,uX,4,0,"div",14),e.k0s(),e.j41(26,"div",15),e.DNE(27,hX,1,1,"flex-widget-property",16),e.DNE(28,pX,2,3,"flex-head",17),e.k0s()()(),e.DNE(29,fX,11,11,"mat-tab",18),e.DNE(30,gX,10,6,"mat-tab",18),e.k0s(),e.j41(31,"div",19)(32,"button",20),e.bIt("click",function(){return n.onNoClick()}),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"button",21),e.bIt("click",function(){return n.onOkClick()}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()),2&i){const a=e.sdS(22);e.R7$(2),e.JRh(n.data.title),e.R7$(4),e.FS9("label",e.bMT(7,17,"gauges.property-props")),e.R7$(6),e.JRh(e.bMT(13,19,"gauges.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(18,21,"gauges.property-permission")),e.R7$(3),e.Y8G("ngIf",n.havePermission())("ngIfElse",a),e.R7$(3),e.Y8G("ngIf",n.isTextToShow()),e.R7$(1),e.Y8G("ngIf",n.isReadonlyToShow()),e.R7$(1),e.Y8G("ngIf",n.isToolboxToShow()),e.R7$(2),e.Y8G("ngIf",n.isWidget()),e.R7$(1),e.Y8G("ngIf",!n.isWidget()),e.R7$(1),e.Y8G("ngIf",n.eventsSupported),e.R7$(1),e.Y8G("ngIf",n.actionsSupported),e.R7$(3),e.JRh(e.bMT(34,23,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(37,25,"dlg.ok"))}},styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:760px;position:relative}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]{float:right;line-height:44px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]     .input-text .mat-form-field-infix{padding-top:5px;padding-bottom:0}[_nghost-%COMP%]     .mat-dialog-container{display:inline-table!important}[_nghost-%COMP%]     .mat-tab-label{height:34px!important}[_nghost-%COMP%]   .mat-tab-container[_ngcontent-%COMP%]{min-height:300px;height:60vmin;overflow-y:auto;overflow-x:hidden;padding-top:15px}[_nghost-%COMP%]   .mat-tab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return r})();var Ho=function(r){return r[r.Range=0]="Range",r[r.RangeAndText=1]="RangeAndText",r[r.RangeWithAlarm=2]="RangeWithAlarm",r[r.ValueAndUnit=3]="ValueAndUnit",r[r.ValueWithRef=4]="ValueWithRef",r[r.Step=5]="Step",r[r.MinMax=6]="MinMax",r[r.Chart=7]="Chart",r[r.Gauge=8]="Gauge",r[r.Pipe=9]="Pipe",r[r.Slider=10]="Slider",r[r.Switch=11]="Switch",r[r.Graph=12]="Graph",r[r.Iframe=13]="Iframe",r[r.Table=14]="Table",r[r.Input=15]="Input",r[r.Panel=16]="Panel",r}(Ho||{});class uc extends Io{static TypeTag="svg-ext-html_button";static LabelTag="HtmlButton";static prefixB="B-HXB_";static prefixRect="svg_";static actionsType={hide:It.vo.hide,show:It.vo.show,blink:It.vo.blink};constructor(){super()}static getSignals(o){let t=[];return o?.variableId&&t.push(o.variableId),o?.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getDialogType(){return Ho.RangeAndText}static getActions(o){return this.actionsType}static initElement(o,t){let i=document.getElementById(o.id);if(i&&o.property){let n=ii.Aq.searchTreeStartWith(i,this.prefixB);n&&(n.innerHTML=t||o.property.text||o.name||"<span>&nbsp;</span>")}return i}static initElementColor(o,t,i){let n=ii.Aq.searchTreeStartWith(i,this.prefixB);if(n){i.setAttribute("fill","rgba(0, 0, 0, 0)"),i.setAttribute("stroke","rgba(0, 0, 0, 0)");for(let a=0;a<i.children.length;a++)i.children[a].removeAttribute("fill"),i.children[a].removeAttribute("stroke");o&&(n.style.backgroundColor=o),t&&(n.style.color=t)}}static processValue(o,t,i,n,a=!1){try{let s=t instanceof HTMLElement?t:null;if(null===s&&t.node?.children&&t.node.children.length>=1&&(s=ii.Aq.searchTreeStartWith(t.node,this.prefixB)),s){if(a)return void(s.textContent=i.value);let d=parseFloat(i.value);if(Number.isNaN(d)&&(d=Number(i.value)),o.property){let m=new It._O;if(o.property.ranges){for(let I=0;I<o.property.ranges.length;I++)o.property.ranges[I].min<=d&&o.property.ranges[I].max>=d&&(m.fill=o.property.ranges[I].color,m.stroke=o.property.ranges[I].stroke);m.fill&&(s.style.backgroundColor=m.fill),m.stroke&&(s.style.color=m.stroke)}o.property.actions&&o.property.actions.forEach(I=>{I.variableId===i.id&&uc.processAction(I,t,s,d,n,m)})}}}catch(s){console.error(s)}}static getFillColor(o){if(o.children&&o.children[0]){let t=ii.Aq.searchTreeStartWith(o,this.prefixB);if(t){let i=t.style["background-color"];if(i||(i=t.getAttribute("fill")),i)return i}}return o.getAttribute("fill")}static getStrokeColor(o){if(o.children&&o.children[0]){let t=ii.Aq.searchTreeStartWith(o,this.prefixB);if(t){let i=t.style.color;if(i||(i=t.getAttribute("stroke")),i)return i}}return o.getAttribute("stroke")}static processAction(o,t,i,n,a,s){if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=n&&o.range.max>=n)if(i===t)i.style.display="none";else{let d=SVG.adopt(t.node);this.runActionHide(d,o.type,a)}}else if(this.actionsType[o.type]===this.actionsType.show){if(o.range.min<=n&&o.range.max>=n)if(i===t)i.style.display="unset";else{let d=SVG.adopt(t.node);this.runActionShow(d,o.type,a)}}else this.actionsType[o.type]===this.actionsType.blink&&this.checkActionBlink(i,o,a,o.range.min<=n&&o.range.max>=n,!0,s)}static \u0275fac=function(t){return new(t||uc)};static \u0275cmp=e.VBU({type:uc,selectors:[["html-button"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}function mX(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-option",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.data.item.image="")}),e.j41(1,"mat-icon",25),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(2),e.JRh(t)}}function vX(r,o){if(1&r&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function _X(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",3)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",12),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.item.link=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"dlg.menuitem-address")),e.R7$(2),e.Y8G("ngModel",t.data.item.link)}}function yX(r,o){if(1&r&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function bX(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",29)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",30),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.link=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"dlg.menuitem-address")),e.R7$(2),e.Y8G("ngModel",t.link)}}function wX(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",30),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.text=n)}),e.k0s()(),e.j41(6,"div",29)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",31),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.view=n)}),e.DNE(11,yX,2,2,"mat-option",14),e.j41(12,"mat-option",15),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"mat-option",15),e.EFF(16),e.nI1(17,"translate"),e.k0s()()(),e.DNE(18,bX,5,4,"div",32),e.j41(19,"button",33),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.onDeleteChild(a))}),e.j41(20,"mat-icon"),e.EFF(21,"delete"),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,10,"dlg.menuitem-text")),e.R7$(2),e.Y8G("ngModel",t.text),e.R7$(3),e.JRh(e.bMT(9,12,"dlg.menuitem-view")),e.R7$(2),e.Y8G("value",t.view),e.R7$(1),e.Y8G("ngForOf",i.data.views),e.R7$(1),e.Y8G("value",i.linkAddress),e.R7$(1),e.SpI("[",e.bMT(14,14,"dlg.menuitem-link"),"]"),e.R7$(2),e.Y8G("value",i.linkAlarms),e.R7$(1),e.SpI("[",e.bMT(17,16,"dlg.menuitem-alarms"),"]"),e.R7$(2),e.Y8G("ngIf","[link]"===t.view)}}function CX(r,o){if(1&r&&(e.j41(0,"div",26)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,wX,22,18,"div",27),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"dlg.menuitem-submenu-items")),e.R7$(2),e.Y8G("ngForOf",t.data.item.children)}}ie(8495);let EX=(()=>{class r{projectService;userService;cdr;settingsService;dialogRef;data;selected=[];options=[];icons$;filteredIcons$;filterText="";filterTextSubject=new Ca.t("");linkAddress=It.J.address;linkAlarms=It.J.alarms;destroy$=new An.B;seloptions;constructor(t,i,n,a,s,d){this.projectService=t,this.userService=i,this.cdr=n,this.settingsService=a,this.dialogRef=s,this.data=d,this.data.item.children=this.data.item.children||[],this.icons$=(0,lr.of)(Tf.MaterialIconsRegular).pipe((0,h.T)(m=>m.split("\n")),(0,h.T)(m=>m.map(I=>I.split(" ")[0])),(0,h.T)(m=>m.filter(I=>!!I))),this.filteredIcons$=Kl([this.icons$,this.filterTextSubject.asObservable()]).pipe((0,h.T)(([m,I])=>m.filter(J=>J.toLowerCase().includes(I.toLowerCase()))))}ngAfterViewInit(){this.isRolePermission()?this.userService.getRoles().pipe((0,h.T)(t=>t.sort((i,n)=>i.index-n.index)),(0,jn.Q)(this.destroy$)).subscribe(t=>{this.options=t?.map(i=>({id:i.id,label:i.name})),this.selected=this.options.filter(i=>this.data.permissionRoles?.enabled?.includes(i.id))},t=>{console.error("get Roles err: "+t)}):(this.selected=Uc.yD.ValueToGroups(this.data.permission),this.options=Uc.yD.Groups),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}isRolePermission(){return this.settingsService.getSettings()?.userRole}onNoClick(){this.dialogRef.close()}onOkClick(){this.isRolePermission()?(this.data.permissionRoles||(this.data.permissionRoles={enabled:null}),this.data.permissionRoles.enabled=this.seloptions.selected?.map(t=>t.id)):this.data.permission=Uc.yD.GroupsToValue(this.seloptions.selected),this.dialogRef.close(this.data),this.data.item.children=this.data.item.children||[]}onSetImage(t){if(t.target.files){let i=t.target.files[0].name,n={type:i.split(".").pop().toLowerCase(),name:i.split("/").pop(),data:null},a=new FileReader;a.onload=()=>{try{n.data=a.result,this.projectService.uploadFile(n).subscribe(s=>{this.data.item.image=s.location,this.data.item.icon=null,this.cdr.detectChanges()})}catch(s){console.error(s)}},"svg"===n.type?a.readAsText(t.target.files[0]):a.readAsDataURL(t.target.files[0])}}onFilterChange(){this.filterTextSubject.next(this.filterText)}onAddChild(){const t=new It.Qo;t.id=ii.Aq.getRandomId(),t.text="New Submenu Item",this.data.item.children=this.data.item.children||[],this.data.item.children.push(t),console.log("Added child:",t,"Total children:",this.data.item.children),this.cdr.detectChanges()}onDeleteChild(t){this.data.item.children.splice(t,1),this.cdr.detectChanges()}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(Zg),e.rXU(e.gRc),e.rXU(yp.h),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-layout-menu-item-property"]],viewQuery:function(i,n){if(1&i&&e.GBs(Xg,5),2&i){let a;e.mGM(a=e.lsd())&&(n.seloptions=a.first)}},decls:66,vars:55,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field",2,"display","block","margin-bottom","10px"],[2,"width","60px","height","30px",3,"value","valueChange"],["iconsel",""],[3,"value","click"],["type","file","accept","image/png|jpg|svg",2,"display","none",3,"change"],["imagefile",""],[1,"my-form-field"],["matInput","","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange","input","click","keydown"],["style","display: inline-block !important;",3,"value","click",4,"ngFor","ngForOf"],["type","text",2,"width","300px",3,"ngModel","ngModelChange"],[2,"width","300px",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","my-form-field","style","display: block;margin-bottom: 10px;",4,"ngIf"],[3,"selected","options"],["seloptions",""],["mat-raised-button","","color","primary",2,"margin-left","10px",3,"click"],["class","submenu-list",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[2,"display","inline-block !important",3,"value","click"],[1,""],[1,"submenu-list"],["class","submenu-item",4,"ngFor","ngForOf"],[1,"submenu-item"],[1,"my-form-field",2,"display","inline-block","margin-right","10px"],["type","text",2,"width","200px",3,"ngModel","ngModelChange"],[2,"width","200px",3,"value","valueChange"],["class","my-form-field","style","display: inline-block; margin-right: 10px;",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",4,5),e.bIt("valueChange",function(d){return n.data.item.icon=d}),e.j41(13,"mat-select-trigger")(14,"mat-icon"),e.EFF(15),e.k0s()(),e.j41(16,"mat-option",6),e.bIt("click",function(){e.eBV(a);const d=e.sdS(20);return d.value="",e.Njj(d.click())}),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"input",7,8),e.bIt("change",function(d){return n.onSetImage(d)}),e.k0s()(),e.j41(21,"mat-option")(22,"div",9)(23,"input",10),e.bIt("ngModelChange",function(d){return n.filterText=d})("input",function(){return n.onFilterChange()})("click",function(d){return d.stopPropagation()})("keydown",function(d){return d.stopPropagation()}),e.nI1(24,"translate"),e.k0s()()(),e.DNE(25,mX,3,2,"mat-option",11),e.nI1(26,"async"),e.k0s()(),e.j41(27,"div",3)(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"input",12),e.bIt("ngModelChange",function(d){return n.data.item.text=d}),e.k0s()(),e.j41(32,"div",3)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"mat-select",13),e.bIt("valueChange",function(d){return n.data.item.view=d}),e.DNE(37,vX,2,2,"mat-option",14),e.j41(38,"mat-option",15),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"mat-option",15),e.EFF(42),e.nI1(43,"translate"),e.k0s()()(),e.DNE(44,_X,5,4,"div",16),e.j41(45,"div",3)(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.nrm(49,"sel-options",17,18),e.k0s(),e.j41(51,"div",3)(52,"span"),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"button",19),e.bIt("click",function(){return n.onAddChild()}),e.EFF(56),e.nI1(57,"translate"),e.k0s()(),e.DNE(58,CX,5,4,"div",20),e.k0s(),e.j41(59,"div",21)(60,"button",22),e.bIt("click",function(){return n.onNoClick()}),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"button",23),e.bIt("click",function(){return n.onOkClick()}),e.EFF(64),e.nI1(65,"translate"),e.k0s()()()}if(2&i){const a=e.sdS(12);e.R7$(2),e.JRh(e.bMT(3,27,"dlg.menuitem-title")),e.R7$(7),e.JRh(e.bMT(10,29,"dlg.menuitem-icon")),e.R7$(2),e.Y8G("value",n.data.item.icon),e.R7$(4),e.JRh(a.value),e.R7$(1),e.Y8G("value","image"),e.R7$(1),e.SpI(" ",e.bMT(18,31,"dlg.menuitem-image")," "),e.R7$(6),e.FS9("placeholder",e.bMT(24,33,"dlg.menuitem-icons-filter")),e.Y8G("ngModel",n.filterText),e.R7$(2),e.Y8G("ngForOf",e.bMT(26,35,n.filteredIcons$)),e.R7$(4),e.JRh(e.bMT(30,37,"dlg.menuitem-text")),e.R7$(2),e.Y8G("ngModel",n.data.item.text),e.R7$(3),e.JRh(e.bMT(35,39,"dlg.menuitem-view")),e.R7$(2),e.Y8G("value",n.data.item.view),e.R7$(1),e.Y8G("ngForOf",n.data.views),e.R7$(1),e.Y8G("value",n.linkAddress),e.R7$(1),e.SpI("[",e.bMT(40,41,"dlg.menuitem-link"),"]"),e.R7$(2),e.Y8G("value",n.linkAlarms),e.R7$(1),e.SpI("[",e.bMT(43,43,"dlg.menuitem-alarms"),"]"),e.R7$(2),e.Y8G("ngIf","[link]"===n.data.item.view),e.R7$(3),e.JRh(e.bMT(48,45,"dlg.useraccess-groups")),e.R7$(2),e.Y8G("selected",n.selected)("options",n.options),e.R7$(4),e.JRh(e.bMT(54,47,"dlg.menuitem-submenu")),e.R7$(3),e.SpI(" ",e.bMT(57,49,"dlg.menuitem-add-submenu")," "),e.R7$(2),e.Y8G("ngIf",null==n.data.item.children?null:n.data.item.children.length),e.R7$(3),e.JRh(e.bMT(62,51,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(65,53,"dlg.ok"))}},dependencies:[l.Sq,l.bT,k,qe,tn,Ur,zn,Or,eo,Rr,Kn,qd,yo,BB,Wr,Xg,l.Jj,Vi.D9],styles:["[_nghost-%COMP%]   mat-option[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-option[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 17px);margin-left:5px;height:13px}"]})}return r})();function BX(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-option",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.item.image="")}),e.j41(1,"mat-icon",24),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(2),e.JRh(t)}}function MX(r,o){if(1&r&&(e.j41(0,"mat-option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"item.headertype-"+t)," ")}}let xX=(()=>{class r{projectService;dialogRef;data;item;icons$;filteredIcons$;filterText="";filterTextSubject=new Ca.t("");headerType=["button","label","image"];defaultColor=ii.Aq.defaultColor;constructor(t,i,n){this.projectService=t,this.dialogRef=i,this.data=n,this.item=n,this.icons$=(0,lr.of)(Tf.MaterialIconsRegular).pipe((0,h.T)(a=>a.split("\n")),(0,h.T)(a=>a.map(s=>s.split(" ")[0])),(0,h.T)(a=>a.filter(s=>!!s))),this.filteredIcons$=Kl([this.icons$,this.filterTextSubject.asObservable()]).pipe((0,h.T)(([a,s])=>a.filter(d=>d.toLowerCase().includes(s.toLowerCase()))))}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.item)}onFilterChange(){this.filterTextSubject.next(this.filterText)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-layout-header-item-property"]],decls:57,vars:64,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"force-lbk","pointer-move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block","mb10"],[1,"icons-selector",3,"value","valueChange"],["iconsel",""],[1,"my-form-field"],["matInput","","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange","input","click","keydown"],["style","display: inline-block !important;",3,"value","click",4,"ngFor","ngForOf"],[1,"block","mt10"],[1,"my-form-field","ftl"],[2,"width","120px",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ftr","ml10"],[1,"my-form-field","lbk","field-input-60"],["numberOnly","","min","0","step","1","type","number",3,"ngModel","ngModelChange"],[1,"my-form-field","lbk","field-input-60","ml5"],[1,"my-form-field","ftl","mt10"],[1,"input-color",2,"width","126px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","ftr","mt10"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[2,"display","inline-block !important",3,"value","click"],[1,""],[3,"value"]],template:function(i,n){if(1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",4,5),e.bIt("valueChange",function(s){return n.item.icon=s}),e.j41(13,"mat-select-trigger")(14,"mat-icon"),e.EFF(15),e.k0s()(),e.j41(16,"mat-option")(17,"div",6)(18,"input",7),e.bIt("ngModelChange",function(s){return n.filterText=s})("input",function(){return n.onFilterChange()})("click",function(s){return s.stopPropagation()})("keydown",function(s){return s.stopPropagation()}),e.nI1(19,"translate"),e.k0s()()(),e.DNE(20,BX,3,2,"mat-option",8),e.nI1(21,"async"),e.k0s()(),e.j41(22,"div",9)(23,"div",10)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"mat-select",11),e.bIt("ngModelChange",function(s){return n.item.type=s}),e.DNE(28,MX,3,4,"mat-option",12),e.k0s()(),e.j41(29,"div",13)(30,"div",14)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"input",15),e.bIt("ngModelChange",function(s){return n.item.marginLeft=s}),e.k0s()(),e.j41(35,"div",16)(36,"span"),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"input",15),e.bIt("ngModelChange",function(s){return n.item.marginRight=s}),e.k0s()()()(),e.j41(40,"div",17)(41,"span"),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.j41(44,"input",18),e.bIt("colorPickerChange",function(s){return n.item.bkcolor=s}),e.k0s()(),e.j41(45,"div",19)(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"input",18),e.bIt("colorPickerChange",function(s){return n.item.fgcolor=s}),e.k0s()()(),e.j41(50,"div",20)(51,"button",21),e.bIt("click",function(){return n.onNoClick()}),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"button",22),e.bIt("click",function(){return n.onOkClick()}),e.EFF(55),e.nI1(56,"translate"),e.k0s()()()),2&i){const a=e.sdS(12);e.R7$(2),e.JRh(e.bMT(3,42,"dlg.headeritem-title")),e.R7$(7),e.JRh(e.bMT(10,44,"dlg.headeritem-icon")),e.R7$(2),e.Y8G("value",n.item.icon),e.R7$(4),e.JRh(a.value),e.R7$(3),e.FS9("placeholder",e.bMT(19,46,"dlg.headeritem-icons-filter")),e.Y8G("ngModel",n.filterText),e.R7$(2),e.Y8G("ngForOf",e.bMT(21,48,n.filteredIcons$)),e.R7$(5),e.JRh(e.bMT(26,50,"dlg.layout-lbl-type")),e.R7$(2),e.Y8G("ngModel",n.item.type),e.R7$(1),e.Y8G("ngForOf",n.headerType),e.R7$(4),e.JRh(e.bMT(33,52,"dlg.layout-lbl-margin-left")),e.R7$(2),e.Y8G("ngModel",n.item.marginLeft),e.R7$(3),e.JRh(e.bMT(38,54,"dlg.layout-lbl-margin-right")),e.R7$(2),e.Y8G("ngModel",n.item.marginRight),e.R7$(3),e.JRh(e.bMT(43,56,"dlg.layout-nav-bkcolor")),e.R7$(2),e.xc7("background",n.item.bkcolor),e.Y8G("colorPicker",n.item.bkcolor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(3),e.JRh(e.bMT(48,58,"dlg.layout-nav-fgcolor")),e.R7$(2),e.xc7("background",n.item.fgcolor),e.Y8G("colorPicker",n.item.fgcolor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(3),e.JRh(e.bMT(53,60,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(56,62,"dlg.ok"))}},dependencies:[l.Sq,k,Zn,qe,qn,tn,Ur,zn,Or,eo,Rr,Kn,qd,yo,BB,XA,Wr,Hs,l.Jj,Vi.D9],styles:["[_nghost-%COMP%]   .icons-selector[_ngcontent-%COMP%]{width:60px;height:30px}[_nghost-%COMP%]   .field-input-60[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"]})}return r})();function DX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function IX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"item.overlaycolor-"+t.value)," ")}}function kX(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",10)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",8),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.layout.loginoverlaycolor=n)}),e.DNE(5,IX,3,4,"mat-option",9),e.nI1(6,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"dlg.layout-lbl-login-overlay-color")),e.R7$(2),e.Y8G("value",t.data.layout.loginoverlaycolor),e.R7$(1),e.Y8G("ngForOf",e.bMT(6,5,t.loginOverlayColor))}}function TX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function FX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function SX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function QX(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"sidenav.title")))}function RX(r,o){if(1&r&&e.nrm(0,"img",73),2&r){const t=e.XpG();e.FS9("src",t.data.layout.navigation.logo,e.B4B)}}function PX(r,o){if(1&r&&e.nrm(0,"img",91),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function OX(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function LX(r,o){if(1&r&&(e.j41(0,"div",88),e.DNE(1,PX,1,1,"img",89),e.DNE(2,OX,2,1,"mat-icon",90),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon)}}function YX(r,o){if(1&r&&(e.j41(0,"div",92)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.text)}}function NX(r,o){if(1&r&&e.nrm(0,"img",91),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function jX(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function GX(r,o){if(1&r&&(e.j41(0,"div",93),e.DNE(1,NX,1,1,"img",89),e.DNE(2,jX,2,1,"mat-icon",90),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.text)}}function UX(r,o){if(1&r&&e.nrm(0,"img",91),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function zX(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function HX(r,o){if(1&r&&(e.j41(0,"div",94),e.DNE(1,UX,1,1,"img",89),e.DNE(2,zX,2,1,"mat-icon",90),e.j41(3,"span",95),e.EFF(4),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.text)}}function VX(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-list-item",74)(1,"button",75),e.DNE(2,LX,3,2,"div",76),e.DNE(3,YX,3,1,"div",77),e.DNE(4,GX,5,3,"div",78),e.DNE(5,HX,5,3,"div",79),e.k0s(),e.j41(6,"div",80)(7,"div",81)(8,"mat-icon",82),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onMoveMenuItem(a,"top"))}),e.EFF(9,"arrow_upward"),e.k0s(),e.j41(10,"mat-icon",82),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onMoveMenuItem(a,"bottom"))}),e.EFF(11,"arrow_downward"),e.k0s()(),e.j41(12,"div",83)(13,"mat-icon",84),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onAddMenuItem(a))}),e.EFF(14,"edit"),e.k0s(),e.j41(15,"div",85),e.EFF(16),e.k0s()(),e.j41(17,"div",86)(18,"mat-icon",87),e.bIt("click",function(){const n=e.eBV(t),a=n.index,s=n.$implicit,d=e.XpG();return e.Njj(d.onRemoveMenuItem(a,s))}),e.EFF(19,"clear"),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("ngClass","menu-item-"+i.data.layout.navigation.type),e.R7$(1),e.xc7("color",i.data.layout.navigation.fgcolor),e.Y8G("ngSwitch",i.data.layout.navigation.type),e.R7$(1),e.Y8G("ngSwitchCase","icon"),e.R7$(1),e.Y8G("ngSwitchCase","text"),e.R7$(1),e.Y8G("ngSwitchCase","block"),e.R7$(1),e.Y8G("ngSwitchCase","inline"),e.R7$(11),e.SpI(" ",i.getViewName(t)," ")}}function JX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function WX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function KX(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.path),e.R7$(1),e.SpI(" ",t.name," ")}}function XX(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function ZX(r,o){if(1&r&&(e.qex(0),e.j41(1,"button",98),e.DNE(2,XX,2,1,"mat-icon",90),e.EFF(3),e.k0s(),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG();let n,a,s;e.R7$(1),e.xc7("background-color",null!==(n=t.bkcolor)&&void 0!==n?n:i.data.layout.header.bkcolor)("color",null!==(a=t.fgcolor)&&void 0!==a?a:i.data.layout.header.fgcolor)("font-family",i.data.layout.header.fontFamily)("font-size",i.data.layout.header.fontSize+"px !important")("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(1),e.SpI(" ",null!==(s=null==t.property?null:t.property.text)&&void 0!==s?s:t.type," ")}}function $X(r,o){if(1&r&&(e.qex(0),e.j41(1,"button",99),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG();let n,a,s;e.R7$(1),e.xc7("background-color",null!==(n=t.bkcolor)&&void 0!==n?n:i.data.layout.header.bkcolor)("color",null!==(a=t.fgcolor)&&void 0!==a?a:i.data.layout.header.fgcolor)("font-family",i.data.layout.header.fontFamily)("font-size",i.data.layout.header.fontSize+"px !important")("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),e.R7$(1),e.SpI(" ",null!==(s=null==t.property?null:t.property.text)&&void 0!==s?s:t.type," ")}}function qX(r,o){if(1&r&&(e.qex(0),e.j41(1,"button",18)(2,"mat-icon"),e.EFF(3),e.k0s()(),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG();let n,a;e.R7$(1),e.xc7("background-color",null!==(n=t.bkcolor)&&void 0!==n?n:i.data.layout.header.bkcolor)("color",null!==(a=t.fgcolor)&&void 0!==a?a:i.data.layout.header.fgcolor)("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),e.R7$(2),e.JRh(t.icon)}}function eZ(r,o){1&r&&(e.qex(0,96),e.DNE(1,ZX,4,14,"ng-container",97),e.DNE(2,$X,3,13,"ng-container",97),e.DNE(3,qX,4,9,"ng-container",97),e.bVm()),2&r&&(e.Y8G("ngSwitch",o.$implicit.type),e.R7$(1),e.Y8G("ngSwitchCase","button"),e.R7$(1),e.Y8G("ngSwitchCase","label"),e.R7$(1),e.Y8G("ngSwitchCase","image"))}function tZ(r,o){if(1&r&&(e.j41(0,"div",100),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",e.i5U(2,1,t.currentDateTime,t.data.layout.header.dateTimeDisplay)," ")}}function iZ(r,o){1&r&&(e.j41(0,"div",104),e.EFF(1,"EN"),e.k0s())}function nZ(r,o){1&r&&(e.j41(0,"div",104),e.EFF(1,"English"),e.k0s())}function rZ(r,o){if(1&r&&(e.j41(0,"div",101)(1,"button",102)(2,"mat-icon",58),e.EFF(3,"language"),e.k0s()(),e.DNE(4,iZ,2,0,"div",103),e.DNE(5,nZ,2,0,"div",103),e.k0s()),2&r){const t=e.XpG();e.R7$(4),e.Y8G("ngIf","key"===t.data.layout.header.language),e.R7$(1),e.Y8G("ngIf","fullname"===t.data.layout.header.language)}}function oZ(r,o){1&r&&(e.qex(0),e.j41(1,"span",108),e.EFF(2,"username"),e.k0s(),e.bVm())}function aZ(r,o){1&r&&(e.qex(0),e.j41(1,"span",108),e.EFF(2,"Full Name"),e.k0s(),e.bVm())}function sZ(r,o){1&r&&(e.qex(0),e.j41(1,"span",108),e.EFF(2,"username"),e.k0s(),e.j41(3,"span",109),e.EFF(4,"Full Name"),e.k0s(),e.bVm())}function lZ(r,o){if(1&r&&(e.j41(0,"div",105)(1,"button",18)(2,"mat-icon",106),e.EFF(3,"account_circle"),e.k0s()(),e.j41(4,"div",107),e.qex(5,96),e.DNE(6,oZ,3,0,"ng-container",97),e.DNE(7,aZ,3,0,"ng-container",97),e.DNE(8,sZ,5,0,"ng-container",97),e.bVm(),e.k0s()()),2&r){const t=e.XpG();e.R7$(5),e.Y8G("ngSwitch",t.data.layout.header.loginInfo),e.R7$(1),e.Y8G("ngSwitchCase","username"),e.R7$(1),e.Y8G("ngSwitchCase","fullname"),e.R7$(1),e.Y8G("ngSwitchCase","both")}}function cZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-list-item",110)(1,"div",111)(2,"div",112)(3,"mat-icon",113),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onMoveHeaderItem(a,"top"))}),e.EFF(4,"arrow_upward"),e.k0s(),e.j41(5,"mat-icon",113),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onMoveHeaderItem(a,"bottom"))}),e.EFF(6,"arrow_downward"),e.k0s()(),e.j41(7,"div",83)(8,"mat-icon",84),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onAddHeaderItem(a))}),e.EFF(9,"edit"),e.k0s(),e.j41(10,"div",85),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",114)(14,"button",115),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditPropertyItem(a))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.j41(17,"div",86)(18,"mat-icon",87),e.bIt("click",function(){const n=e.eBV(t),a=n.index,s=n.$implicit,d=e.XpG();return e.Njj(d.onRemoveHeaderItem(a,s))}),e.EFF(19,"clear"),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("ngClass","menu-item-"+i.data.layout.navigation.type),e.R7$(11),e.SpI(" ",e.bMT(12,3,"item.headertype-"+t.type)," "),e.R7$(4),e.SpI(" ",e.bMT(16,5,"gauges.property-title")," ")}}function AZ(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"item.logininfo-type-"+t)," ")}}function dZ(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"item.language-show-mode-"+t)," ")}}function uZ(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function hZ(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function pZ(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("font-family",t),e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function fZ(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"item.headeranchor-"+t)," ")}}let gZ=(()=>{class r{data;dialog;dialogRef;projectService;changeDetector;translateService;resourcesService;draggableListLeft=[];headerItems;layout;defaultColor=ii.Aq.defaultColor;fonts=Tf.fonts;anchorType=["left","center","right"];loginInfoType=["nothing","username","fullname","both"];languageShowModeType=["nothing","simple","key","fullname"];currentDateTime;unsubscribeTimer$=new An.B;startView;sideMode;resources=[];navMode;navType;notifyMode;zoomMode;inputMode=It.G_;headerMode=It.uR;logo=null;loginOverlayColor=It.V0;ready=!1;CodeMirror;codeMirrorContent;codeMirrorOptions={lineNumbers:!0,theme:"material",mode:"css",lint:!0};constructor(t,i,n,a,s,d,m){this.data=t,this.dialog=i,this.dialogRef=n,this.projectService=a,this.changeDetector=s,this.translateService=d,this.resourcesService=m,t.layout=ii.Aq.mergeDeep(new It.QQ,t.layout),this.startView=t.layout.start,this.sideMode=t.layout.navigation.mode,t.layout.navigation.items||(t.layout.navigation.items=[]),this.headerItems=t.layout.header.items??[],this.draggableListLeft=t.layout.navigation.items,this.resourcesService.getResources(Y1.images).subscribe(I=>{I&&I.groups.forEach(J=>{this.resources.push(...J.items)})})}ngOnInit(){this.navMode=It.k,this.navType=It.OX,this.notifyMode=It.Vq,this.zoomMode=It.Fo,Object.keys(this.navMode).forEach(t=>{this.translateService.get(this.navMode[t]).subscribe(i=>{this.navMode[t]=i})}),Object.keys(this.navType).forEach(t=>{this.translateService.get(this.navType[t]).subscribe(i=>{this.navType[t]=i})}),Object.keys(this.notifyMode).forEach(t=>{this.translateService.get(this.notifyMode[t]).subscribe(i=>{this.notifyMode[t]=i})}),Object.keys(this.zoomMode).forEach(t=>{this.translateService.get(this.zoomMode[t]).subscribe(i=>{this.zoomMode[t]=i})}),Object.keys(this.inputMode).forEach(t=>{this.translateService.get(this.inputMode[t]).subscribe(i=>{this.inputMode[t]=i})}),Object.keys(this.headerMode).forEach(t=>{this.translateService.get(this.headerMode[t]).subscribe(i=>{this.headerMode[t]=i})})}ngOnDestroy(){this.unsubscribeTimer$.next(null),this.unsubscribeTimer$.complete()}onTabChanged(t){3==t.index?(this.changeDetector.detectChanges(),this.CodeMirror?.codeMirror?.refresh()):2==t.index&&this.checkTimer()}checkTimer(){this.data.layout.header?.dateTimeDisplay?this.currentDateTime||h_(1e3).pipe((0,jn.Q)(this.unsubscribeTimer$)).subscribe(()=>{this.currentDateTime=new Date}):(this.unsubscribeTimer$.next(null),this.currentDateTime=null)}onAddMenuItem(t=null){let i=new It.Qo;t&&(i=JSON.parse(JSON.stringify(t)));let n=JSON.parse(JSON.stringify(this.data.views));n.unshift({id:"",name:""}),this.dialog.open(EX,{disableClose:!0,position:{top:"60px"},data:{item:i,views:n,permission:i.permission,permissionRoles:i.permissionRoles}}).afterClosed().subscribe(s=>{if(s)if(t)Object.assign(t,s.item),t.icon=s.item.icon,t.image=s.item.image,t.text=s.item.text,t.view=s.item.view,t.link=s.item.link,t.permission=s.permission,t.permissionRoles=s.permissionRoles;else{let d=new It.Qo;Object.assign(d,s.item),d.icon=s.item.icon,d.image=s.item.image,d.text=s.item.text,d.view=s.item.view,d.link=s.item.link,d.permission=s.permission,d.permissionRoles=s.permissionRoles,this.draggableListLeft.push(d)}})}onRemoveMenuItem(t,i){this.draggableListLeft.splice(t,1)}onMoveMenuItem(t,i){"top"===i&&t>0?this.draggableListLeft.splice(t-1,0,this.draggableListLeft.splice(t,1)[0]):"bottom"===i&&t<this.draggableListLeft.length&&this.draggableListLeft.splice(t+1,0,this.draggableListLeft.splice(t,1)[0])}getViewName(t){if(!t.view)return t.link?t.link:"";{const i=this.data.views.find(n=>n.id===t.view);if(i)return i.name}}onAddHeaderItem(t=null){let i=t?JSON.parse(JSON.stringify(t)):{id:ii.Aq.getShortGUID("i_"),type:"button",marginLeft:5,marginRight:5};this.dialog.open(xX,{position:{top:"60px"},data:i}).afterClosed().subscribe(a=>{if(a){if(t){const s=this.headerItems.findIndex(d=>d.id===t.id);this.headerItems[s]=a}else this.headerItems.push(a);this.data.layout.header.items=this.headerItems}})}onRemoveHeaderItem(t,i){this.headerItems.splice(t,1),this.data.layout.header.items=this.headerItems}onMoveHeaderItem(t,i){"top"===i&&t>0?this.headerItems.splice(t-1,0,this.headerItems.splice(t,1)[0]):"bottom"===i&&t<this.draggableListLeft.length&&this.headerItems.splice(t+1,0,this.headerItems.splice(t,1)[0]),this.data.layout.header.items=this.headerItems}onEditPropertyItem(t){let i={property:t.property??new It.f5},n=this.projectService.getHmi(),a=Ho.RangeAndText,s=this.translateService.instant("editor.header-item-settings");this.dialog.open(uS,{position:{top:"60px"},data:{settings:i,devices:Object.values(this.projectService.getDevices()),title:s,views:n.views,dlgType:a,withEvents:!0,withActions:uc.actionsType,withBitmask:!1,withProperty:"label"!==t.type,scripts:this.projectService.getScripts()}}).afterClosed().subscribe(m=>{m&&(t.property=m.settings.property)})}onNoClick(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(Gr),e.rXU(Qo),e.rXU(yr),e.rXU(kr.TR),e.rXU(e.gRc),e.rXU(Vi.c$),e.rXU(x_))};static \u0275cmp=e.VBU({type:r,selectors:[["app-layout-property"]],viewQuery:function(i,n){if(1&i&&e.GBs(WM,5),2&i){let a;e.mGM(a=e.lsd())&&(n.CodeMirror=a.first)}},decls:235,vars:225,consts:[[1,"dialog-mdsd-main",2,"position","relative"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],[1,"dialog-mdsd-content","content"],[3,"selectedTabChange"],[3,"label"],[1,"container-split-ver","mt25"],[1,"my-form-field","block"],[2,"width","400px",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","block","mt10"],[3,"value"],["class","my-form-field block mt10",4,"ngIf"],[2,"display","inline-block","margin-left","180px"],["mat-icon-button","",2,"color","rgba(255,255,255,1)","background-color","rgba(68,138,255, 1)"],[1,"my-form-field",2,"display","inline-block","margin-left","30px"],["color","primary",3,"ngModel","ngModelChange"],[1,"tab-container"],["mat-icon-button",""],["aria-label","Menu"],[2,"display","inline-block","padding-left","140px"],["mat-icon-button","",3,"click"],["aria-label","Add"],[1,"nav-config"],[1,"config-left"],[1,"sidenav-menu",2,"height","calc(100% - 50px)",3,"ngClass"],[1,"dndList",2,"padding-top","10px","background-color","inherit"],[2,"display","flex","justify-content","center","height","35px","font-weight","bold","padding-bottom","10px","margin-bottom","10px","width","unset"],[4,"ngIf","ngIfElse"],["hasLogo",""],["style","width: unset",3,"ngClass",4,"ngFor","ngForOf"],[1,"config-right","mr10"],[1,"my-form-field",2,"display","block"],[2,"width","300px",3,"value","valueChange"],[1,"my-form-field",2,"display","block","margin-top","10px"],[2,"display","block","margin-top","10px"],[1,"my-form-field",2,"display","inline-block"],[1,"input-color",2,"width","126px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field",2,"float","right"],[1,"my-form-field",2,"display","inline-block","margin-top","10px"],[3,"click"],[1,"header-layout"],[1,"header-menu"],[1,"items"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"header-notify-button"],["mat-icon-button","",1,"alarm-button"],["aria-label","Alarms"],["mat-icon-button","",1,"info-button"],["aria-label","Info"],["class","header-date-time",4,"ngIf"],["class","header-language",4,"ngIf"],["class","header-login",4,"ngIf"],[1,"header-config","ml20"],[1,"add-item"],[1,"header-items"],[3,"ngClass",4,"ngFor","ngForOf"],[2,"width","260px",3,"value","valueChange"],["aria-label","Language"],["type","text",2,"width","260px",3,"ngModel","ngModelChange","input"],[1,"my-form-field","lbk"],[2,"width","180px",3,"ngModel","ngModelChange"],[3,"fontFamily","value",4,"ngFor","ngForOf"],[1,"my-form-field","lbk","ml15"],["numberOnly","","max","20","min","10","step","1","type","number",3,"ngModel","ngModelChange"],[2,"width","260px",3,"ngModel","ngModelChange"],[1,"colors","block"],[1,"input-color",2,"width","120px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[3,"ngModel","options","ngModelChange"],["CodeMirror",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],[2,"max-width","100%","max-height","100%",3,"src"],[2,"width","unset",3,"ngClass"],["type","button","mat-button","",1,"sidenav-btn",3,"ngSwitch"],["class","menu-item-content-icon",4,"ngSwitchCase"],["class","menu-item-content-text",4,"ngSwitchCase"],["class","menu-item-content-block",4,"ngSwitchCase"],["class","menu-item-content-inline",4,"ngSwitchCase"],[1,"nav-item"],[1,"position"],[1,"layout-menu-item-icon",2,"display","block",3,"click"],[1,"edit"],[1,"layout-menu-item-icon","layout-menu-item-edit",3,"click"],[1,"type"],[1,"remove"],[1,"layout-menu-item-icon","layout-menu-item-delete",3,"click"],[1,"menu-item-content-icon"],[3,"src",4,"ngIf"],[4,"ngIf"],[3,"src"],[1,"menu-item-content-text"],[1,"menu-item-content-block"],[1,"menu-item-content-inline"],[2,"display","inline-block"],[3,"ngSwitch"],[4,"ngSwitchCase"],["mat-raised-button",""],["mat-button",""],[1,"header-date-time"],[1,"header-language"],["mat-icon-button","",1,"inbk"],["class","inbk",4,"ngIf"],[1,"inbk"],[1,"header-login"],["aria-label","Login"],[1,"info"],[1,"primary"],[1,"secondary"],[3,"ngClass"],[1,"header-item"],[1,"position","mr15"],[1,"layout-menu-item-icon","block",3,"click"],[1,"property"],["mat-button","",3,"click"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"mat-tab-group",4),e.bIt("selectedTabChange",function(s){return n.onTabChanged(s)}),e.j41(8,"mat-tab",5),e.nI1(9,"translate"),e.j41(10,"div",6)(11,"div")(12,"div",7)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",8),e.bIt("valueChange",function(s){return n.data.layout.start=s}),e.DNE(17,DX,2,2,"mat-option",9),e.k0s()(),e.j41(18,"div",10)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",8),e.bIt("valueChange",function(s){return n.data.layout.loginonstart=s}),e.j41(23,"mat-option",11),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"mat-option",11),e.EFF(27),e.nI1(28,"translate"),e.k0s()()(),e.DNE(29,kX,7,7,"div",12),e.j41(30,"div",10)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"mat-select",8),e.bIt("valueChange",function(s){return n.data.layout.zoom=s}),e.DNE(35,TX,2,2,"mat-option",9),e.nI1(36,"enumToArray"),e.k0s()(),e.j41(37,"div",10)(38,"span"),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"mat-select",8),e.bIt("valueChange",function(s){return n.data.layout.inputdialog=s}),e.DNE(42,FX,2,2,"mat-option",9),e.nI1(43,"enumToArray"),e.k0s()(),e.j41(44,"div",10)(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"mat-select",8),e.bIt("valueChange",function(s){return n.data.layout.hidenavigation=s}),e.DNE(49,SX,2,2,"mat-option",9),e.nI1(50,"enumToArray"),e.k0s()(),e.j41(51,"div",10)(52,"span"),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"mat-select",8),e.bIt("valueChange",function(s){return n.data.layout.show_connection_error=s}),e.j41(56,"mat-option",11),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"mat-option",11),e.EFF(60),e.nI1(61,"translate"),e.k0s()()()(),e.j41(62,"div")(63,"div",13)(64,"button",14)(65,"mat-icon"),e.EFF(66,"menu"),e.k0s()()(),e.j41(67,"div",15)(68,"span"),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"mat-slide-toggle",16),e.bIt("ngModelChange",function(s){return n.data.layout.showdev=s}),e.k0s()()()()(),e.j41(72,"mat-tab",5),e.nI1(73,"translate"),e.j41(74,"div",17)(75,"div")(76,"button",18)(77,"mat-icon",19),e.EFF(78,"menu"),e.k0s()(),e.j41(79,"div",20)(80,"button",21),e.bIt("click",function(){return n.onAddMenuItem()}),e.j41(81,"mat-icon",22),e.EFF(82,"control_point"),e.k0s()()()(),e.j41(83,"div",23)(84,"div",24)(85,"div",25)(86,"mat-list",26)(87,"mat-list-item",27),e.DNE(88,QX,3,3,"span",28),e.DNE(89,RX,1,1,"ng-template",null,29,e.C5r),e.k0s(),e.DNE(91,VX,20,9,"mat-list-item",30),e.k0s()()(),e.j41(92,"div",31)(93,"div",32)(94,"span"),e.EFF(95),e.nI1(96,"translate"),e.k0s(),e.j41(97,"mat-select",33),e.bIt("valueChange",function(s){return n.data.layout.navigation.mode=s}),e.DNE(98,JX,2,2,"mat-option",9),e.nI1(99,"enumToArray"),e.k0s()(),e.j41(100,"div",34)(101,"span"),e.EFF(102),e.nI1(103,"translate"),e.k0s(),e.j41(104,"mat-select",33),e.bIt("valueChange",function(s){return n.data.layout.navigation.type=s}),e.DNE(105,WX,2,2,"mat-option",9),e.nI1(106,"enumToArray"),e.k0s()(),e.j41(107,"div",35)(108,"div",36)(109,"span"),e.EFF(110),e.nI1(111,"translate"),e.k0s(),e.j41(112,"input",37),e.bIt("colorPickerChange",function(s){return n.data.layout.navigation.bkcolor=s}),e.k0s()(),e.j41(113,"div",38)(114,"span"),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"input",37),e.bIt("colorPickerChange",function(s){return n.data.layout.navigation.fgcolor=s}),e.k0s()()(),e.j41(118,"div",39)(119,"span"),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"mat-select",33),e.bIt("valueChange",function(s){return n.data.layout.navigation.logo=s}),e.j41(123,"mat-option",40),e.bIt("click",function(){return n.data.layout.navigation.logo=null}),e.k0s(),e.DNE(124,KX,2,2,"mat-option",9),e.k0s()()()()()(),e.j41(125,"mat-tab",5),e.nI1(126,"translate"),e.j41(127,"div",17)(128,"div",41)(129,"div",42)(130,"button",18)(131,"mat-icon",19),e.EFF(132,"menu"),e.k0s()()(),e.j41(133,"div",43),e.DNE(134,eZ,4,4,"ng-container",44),e.k0s(),e.j41(135,"div",45)(136,"button",46)(137,"mat-icon",47),e.EFF(138,"notifications_none"),e.k0s()(),e.j41(139,"button",48)(140,"mat-icon",49),e.EFF(141,"error_outline"),e.k0s()(),e.DNE(142,tZ,3,4,"div",50),e.DNE(143,rZ,6,2,"div",51),e.DNE(144,lZ,9,4,"div",52),e.k0s()(),e.j41(145,"div",53)(146,"div",24)(147,"div",54)(148,"button",21),e.bIt("click",function(){return n.onAddHeaderItem()}),e.j41(149,"mat-icon",22),e.EFF(150,"control_point"),e.k0s()()(),e.j41(151,"div",55)(152,"mat-list"),e.DNE(153,cZ,20,7,"mat-list-item",56),e.k0s()()(),e.j41(154,"div",31)(155,"div",7)(156,"span"),e.EFF(157),e.nI1(158,"translate"),e.k0s(),e.j41(159,"mat-select",57),e.bIt("valueChange",function(s){return n.data.layout.header.loginInfo=s}),e.DNE(160,AZ,3,4,"mat-option",9),e.k0s(),e.j41(161,"mat-icon",49),e.EFF(162,"account_circle"),e.k0s()(),e.j41(163,"div",10)(164,"span"),e.EFF(165),e.nI1(166,"translate"),e.k0s(),e.j41(167,"mat-select",57),e.bIt("valueChange",function(s){return n.data.layout.header.language=s}),e.DNE(168,dZ,3,4,"mat-option",9),e.k0s(),e.j41(169,"mat-icon",58),e.EFF(170,"language"),e.k0s()(),e.j41(171,"div",10)(172,"span"),e.EFF(173),e.nI1(174,"translate"),e.k0s(),e.j41(175,"input",59),e.bIt("ngModelChange",function(s){return n.data.layout.header.dateTimeDisplay=s})("input",function(){return n.checkTimer()}),e.k0s()(),e.j41(176,"div",10)(177,"span"),e.EFF(178),e.nI1(179,"translate"),e.k0s(),e.j41(180,"mat-select",57),e.bIt("valueChange",function(s){return n.data.layout.header.alarms=s}),e.DNE(181,uZ,2,2,"mat-option",9),e.nI1(182,"enumToArray"),e.k0s(),e.j41(183,"mat-icon",47),e.EFF(184,"notifications_none"),e.k0s()(),e.j41(185,"div",10)(186,"span"),e.EFF(187),e.nI1(188,"translate"),e.k0s(),e.j41(189,"mat-select",57),e.bIt("valueChange",function(s){return n.data.layout.header.infos=s}),e.DNE(190,hZ,2,2,"mat-option",9),e.nI1(191,"enumToArray"),e.k0s(),e.j41(192,"mat-icon",49),e.EFF(193,"error_outline"),e.k0s()(),e.j41(194,"div",10)(195,"div",60)(196,"span"),e.EFF(197),e.nI1(198,"translate"),e.k0s(),e.j41(199,"mat-select",61),e.bIt("ngModelChange",function(s){return n.data.layout.header.fontFamily=s}),e.DNE(200,pZ,2,4,"mat-option",62),e.k0s()(),e.j41(201,"div",63)(202,"span"),e.EFF(203),e.nI1(204,"translate"),e.k0s(),e.j41(205,"input",64),e.bIt("ngModelChange",function(s){return n.data.layout.header.fontSize=s}),e.k0s()()(),e.j41(206,"div",10)(207,"span"),e.EFF(208),e.nI1(209,"translate"),e.k0s(),e.j41(210,"mat-select",65),e.bIt("ngModelChange",function(s){return n.data.layout.header.itemsAnchor=s}),e.DNE(211,fZ,3,4,"mat-option",9),e.k0s()(),e.j41(212,"div",66)(213,"div",36)(214,"span"),e.EFF(215),e.nI1(216,"translate"),e.k0s(),e.j41(217,"input",67),e.bIt("colorPickerChange",function(s){return n.data.layout.header.bkcolor=s}),e.k0s()(),e.j41(218,"div",38)(219,"span"),e.EFF(220),e.nI1(221,"translate"),e.k0s(),e.j41(222,"input",67),e.bIt("colorPickerChange",function(s){return n.data.layout.header.fgcolor=s}),e.k0s()()()()()()(),e.j41(223,"mat-tab",5),e.nI1(224,"translate"),e.j41(225,"div",17)(226,"ngx-codemirror",68,69),e.bIt("ngModelChange",function(s){return n.data.layout.customStyles=s}),e.k0s()()()()(),e.j41(228,"div",70)(229,"button",71),e.EFF(230),e.nI1(231,"translate"),e.k0s(),e.j41(232,"button",72),e.EFF(233),e.nI1(234,"translate"),e.k0s()()()),2&i){const a=e.sdS(90);e.R7$(2),e.JRh(e.bMT(3,145,"dlg.layout-title")),e.R7$(6),e.FS9("label",e.bMT(9,147,"dlg.layout-general")),e.R7$(6),e.JRh(e.bMT(15,149,"dlg.layout-lbl-sview")),e.R7$(2),e.Y8G("value",n.data.layout.start),e.R7$(1),e.Y8G("ngForOf",n.data.views),e.R7$(3),e.JRh(e.bMT(21,151,"dlg.layout-lbl-login-start")),e.R7$(2),e.Y8G("value",n.data.layout.loginonstart),e.R7$(1),e.Y8G("value",!0),e.R7$(1),e.JRh(e.bMT(25,153,"general.enabled")),e.R7$(2),e.Y8G("value",!1),e.R7$(1),e.JRh(e.bMT(28,155,"general.disabled")),e.R7$(2),e.Y8G("ngIf",n.data.layout.loginonstart),e.R7$(3),e.JRh(e.bMT(33,157,"dlg.layout-lbl-zoom")),e.R7$(2),e.Y8G("value",n.data.layout.zoom),e.R7$(1),e.Y8G("ngForOf",e.bMT(36,159,n.zoomMode)),e.R7$(4),e.JRh(e.bMT(40,161,"dlg.layout-input-dialog")),e.R7$(2),e.Y8G("value",n.data.layout.inputdialog),e.R7$(1),e.Y8G("ngForOf",e.bMT(43,163,n.inputMode)),e.R7$(4),e.JRh(e.bMT(47,165,"dlg.layout-navigation-mode")),e.R7$(2),e.Y8G("value",n.data.layout.hidenavigation),e.R7$(1),e.Y8G("ngForOf",e.bMT(50,167,n.headerMode)),e.R7$(4),e.JRh(e.bMT(54,169,"dlg.layout-connection-message")),e.R7$(2),e.Y8G("value",n.data.layout.show_connection_error),e.R7$(1),e.Y8G("value",!0),e.R7$(1),e.JRh(e.bMT(58,171,"general.enabled")),e.R7$(2),e.Y8G("value",!1),e.R7$(1),e.JRh(e.bMT(61,173,"general.disabled")),e.R7$(9),e.JRh(e.bMT(70,175,"dlg.layout-show-dev")),e.R7$(2),e.Y8G("ngModel",n.data.layout.showdev),e.R7$(1),e.FS9("label",e.bMT(73,177,"dlg.layout-navigation")),e.R7$(3),e.xc7("background-color",n.data.layout.header.bkcolor)("color",n.data.layout.header.fgcolor),e.R7$(10),e.xc7("background-color",n.data.layout.navigation.bkcolor)("color",n.data.layout.navigation.fgcolor),e.Y8G("ngClass","sidenav-menu-"+n.data.layout.navigation.type),e.R7$(2),e.xc7("color",n.data.layout.navigation.fgcolor),e.R7$(1),e.Y8G("ngIf",!n.data.layout.navigation.logo)("ngIfElse",a),e.R7$(3),e.Y8G("ngForOf",n.draggableListLeft),e.R7$(4),e.JRh(e.bMT(96,179,"dlg.layout-lbl-smode")),e.R7$(2),e.Y8G("value",n.data.layout.navigation.mode),e.R7$(1),e.Y8G("ngForOf",e.bMT(99,181,n.navMode)),e.R7$(4),e.JRh(e.bMT(103,183,"dlg.layout-lbl-type")),e.R7$(2),e.Y8G("value",n.data.layout.navigation.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(106,185,n.navType)),e.R7$(5),e.JRh(e.bMT(111,187,"dlg.layout-nav-bkcolor")),e.R7$(2),e.xc7("background",n.data.layout.navigation.bkcolor),e.Y8G("colorPicker",n.data.layout.navigation.bkcolor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(3),e.JRh(e.bMT(116,189,"dlg.layout-nav-fgcolor")),e.R7$(2),e.xc7("background",n.data.layout.navigation.fgcolor),e.Y8G("colorPicker",n.data.layout.navigation.fgcolor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(3),e.JRh(e.bMT(121,191,"dlg.layout-lbl-logo")),e.R7$(2),e.Y8G("value",n.data.layout.navigation.logo),e.R7$(2),e.Y8G("ngForOf",n.resources),e.R7$(1),e.FS9("label",e.bMT(126,193,"dlg.layout-header")),e.R7$(3),e.xc7("background-color",n.data.layout.header.bkcolor)("color",n.data.layout.header.fgcolor),e.R7$(5),e.xc7("text-align",n.data.layout.header.itemsAnchor),e.R7$(1),e.Y8G("ngForOf",n.headerItems),e.R7$(8),e.Y8G("ngIf",n.data.layout.header.dateTimeDisplay),e.R7$(1),e.Y8G("ngIf",n.data.layout.header.language&&"nothing"!==n.data.layout.header.language),e.R7$(1),e.Y8G("ngIf",n.data.securityEnabled),e.R7$(9),e.Y8G("ngForOf",n.headerItems),e.R7$(4),e.JRh(e.bMT(158,195,"dlg.layout-lbl-login-info")),e.R7$(2),e.Y8G("value",n.data.layout.header.loginInfo),e.R7$(1),e.Y8G("ngForOf",n.loginInfoType),e.R7$(5),e.JRh(e.bMT(166,197,"dlg.layout-lbl-show-language")),e.R7$(2),e.Y8G("value",n.data.layout.header.language),e.R7$(1),e.Y8G("ngForOf",n.languageShowModeType),e.R7$(5),e.JRh(e.bMT(174,199,"dlg.layout-lbl-datetime")),e.R7$(2),e.Y8G("ngModel",n.data.layout.header.dateTimeDisplay),e.R7$(3),e.JRh(e.bMT(179,201,"dlg.layout-lbl-alarms")),e.R7$(2),e.Y8G("value",n.data.layout.header.alarms),e.R7$(1),e.Y8G("ngForOf",e.bMT(182,203,n.notifyMode)),e.R7$(6),e.JRh(e.bMT(188,205,"dlg.layout-lbl-infos")),e.R7$(2),e.Y8G("value",n.data.layout.header.infos),e.R7$(1),e.Y8G("ngForOf",e.bMT(191,207,n.notifyMode)),e.R7$(7),e.JRh(e.bMT(198,209,"dlg.layout-lbl-font")),e.R7$(2),e.Y8G("ngModel",n.data.layout.header.fontFamily),e.R7$(1),e.Y8G("ngForOf",n.fonts),e.R7$(3),e.JRh(e.bMT(204,211,"dlg.layout-lbl-font-size")),e.R7$(2),e.Y8G("ngModel",n.data.layout.header.fontSize),e.R7$(3),e.JRh(e.bMT(209,213,"dlg.layout-lbl-anchor")),e.R7$(2),e.Y8G("ngModel",n.data.layout.header.itemsAnchor),e.R7$(1),e.Y8G("ngForOf",n.anchorType),e.R7$(4),e.JRh(e.bMT(216,215,"dlg.layout-header-bkcolor")),e.R7$(2),e.xc7("background",n.data.layout.header.bkcolor),e.Y8G("colorPicker",n.data.layout.header.bkcolor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(3),e.JRh(e.bMT(221,217,"dlg.layout-header-fgcolor")),e.R7$(2),e.xc7("background",n.data.layout.header.fgcolor),e.Y8G("colorPicker",n.data.layout.header.fgcolor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(1),e.FS9("label",e.bMT(224,219,"dlg.layout-lbl-custom-styles")),e.R7$(3),e.Y8G("ngModel",n.data.layout.customStyles)("options",n.codeMirrorOptions),e.R7$(4),e.JRh(e.bMT(231,221,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(234,223,"dlg.ok"))}},dependencies:[l.YU,l.Sq,l.bT,l.ux,l.e1,k,Zn,qe,qn,Er,tn,Ur,zn,nA,Or,Rr,Kn,Tg,Fg,yo,wc,eu,Td,XA,WM,Wr,Hs,l.vh,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{min-width:950px;min-height:700px}[_nghost-%COMP%]   .tab-container[_ngcontent-%COMP%]{display:block;margin-top:10px;width:100%;min-height:500px;overflow-y:auto;height:650px}[_nghost-%COMP%]   .layout-menu-item-icon[_ngcontent-%COMP%]{font-size:17px;height:18px;width:18px;cursor:pointer}[_nghost-%COMP%]   .layout-menu-item-link[_ngcontent-%COMP%]{display:block;font-size:12px;white-space:nowrap}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]{overflow-y:auto}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;line-height:35px;min-width:max-content}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{display:inline-block;line-height:35px;margin-left:15px;vertical-align:bottom}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:inline-block;line-height:35px}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:10px;vertical-align:middle}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{display:inline-block;font-size:12px;margin-left:10px;white-space:nowrap}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{display:inline-block;line-height:35px;margin-left:10px}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .nav-config[_ngcontent-%COMP%]   .config-right[_ngcontent-%COMP%]{float:right;margin-top:30px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]{display:flex;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003!important;height:46px!important;line-height:46px;padding-left:4px;padding-right:10px;background-color:#fff}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:inline-block;margin-left:20px;min-width:200px;text-align:right;line-height:46px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-login[_ngcontent-%COMP%]{line-height:46px;border-left-width:1px;border-left-style:solid;padding-left:10px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-login[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:inline-block;line-height:46px;vertical-align:middle}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-login[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:-moz-fit-content;max-width:fit-content;line-height:16px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-login[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:100;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:-moz-fit-content;max-width:fit-content;color:gray;line-height:16px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-date-time[_ngcontent-%COMP%]{border-left-width:1px;border-left-style:solid;padding-left:10px;padding-right:10px;display:inline-block}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-language[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;display:inline-block}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-notify-button[_ngcontent-%COMP%]{display:flex;line-height:46px;text-align:right;margin-left:10px;margin-right:10px;padding-right:10px;align-items:center}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-notify-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-notify-button[_ngcontent-%COMP%]   .alarm-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .header-notify-button[_ngcontent-%COMP%]   .info-button[_ngcontent-%COMP%]{margin-right:20px}[_nghost-%COMP%]   .header-layout[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{flex:1;align-items:center}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]{padding-top:30px;overflow-y:auto}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:50px}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{min-height:50px}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:inline-block;line-height:35px}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{display:inline-block;font-size:12px;margin-left:10px;width:60px}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{display:inline-block;line-height:35px}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#696969;color:#fff}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{display:inline-block;line-height:35px;margin-left:10px}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-left[_ngcontent-%COMP%]   .header-items[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-right[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .header-config[_ngcontent-%COMP%]   .config-right[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:block;margin-top:10px;width:268px}[_nghost-%COMP%]   .icons-selector[_ngcontent-%COMP%]{width:60px;height:30px}[_nghost-%COMP%]   .my-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-left:10px;vertical-align:middle}[_nghost-%COMP%]   .dndList[_ngcontent-%COMP%]{transition:all .6s ease}[_nghost-%COMP%]     .mat-tab-label{height:34px!important}[_nghost-%COMP%]     .CodeMirror{height:100%}"]})}return r})(),px=(()=>{class r{http;onPluginsChanged=new e.bkB;endPointConfig=Kg.G.getURL();constructor(t){this.http=t}getPlugins(){return this.http.get(this.endPointConfig+"/api/plugins")}installPlugin(t){return new Ha.c(i=>{if(_p.c.serverEnabled){let n=new ka.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/plugins",{headers:n,params:t}).subscribe(a=>{i.next(null),this.onPluginsChanged.emit()},a=>{console.error(a),i.error(a)})}else i.next(null)})}removePlugin(t){return new Ha.c(i=>{if(_p.c.serverEnabled){let n=new ka.Lr({"Content-Type":"application/json"});this.http.delete(this.endPointConfig+"/api/plugins",{headers:n,params:{param:t.name}}).subscribe(a=>{i.next(null),this.onPluginsChanged.emit()},a=>{console.error(a),i.error(a)})}else i.next(null)})}static \u0275fac=function(i){return new(i||r)(e.KVO(ka.Qq))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function mZ(r,o){1&r&&e.nrm(0,"mat-spinner",20)}function vZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.install(n))}),e.j41(2,"mat-icon"),e.EFF(3,"add_circle_outline"),e.k0s()(),e.j41(4,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.remove(n))}),e.j41(5,"mat-icon"),e.EFF(6,"remove_circle_outline"),e.k0s()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("disabled",t.current.length>0),e.R7$(3),e.Y8G("disabled",!t.pkg||!t.current.length)}}function _Z(r,o){if(1&r&&(e.j41(0,"mat-list-item",15)(1,"span",16),e.EFF(2),e.k0s(),e.j41(3,"span",7),e.EFF(4),e.k0s(),e.j41(5,"span",8),e.EFF(6),e.k0s(),e.j41(7,"span",8),e.EFF(8),e.k0s(),e.j41(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"span",10),e.EFF(13),e.k0s(),e.j41(14,"div",11)(15,"div",17),e.DNE(16,mZ,1,0,"mat-spinner",18),e.k0s(),e.DNE(17,vZ,7,2,"div",19),e.k0s()()),2&r){const t=o.$implicit;e.R7$(2),e.JRh(t.type),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.version),e.R7$(2),e.JRh(t.current),e.R7$(2),e.JRh(e.bMT(11,8,"plugin.group-"+t.group)),e.R7$(3),e.JRh(t.status),e.R7$(3),e.Y8G("ngIf",t.working),e.R7$(1),e.Y8G("ngIf",t.dinamic)}}let yZ=(()=>{class r{data;dialog;dialogRef;translateService;pluginService;projectService;plugins=[];installing;removing;installed;removed;error;constructor(t,i,n,a,s,d){this.data=t,this.dialog=i,this.dialogRef=n,this.translateService=a,this.pluginService=s,this.projectService=d}ngOnInit(){this.translateService.get("dlg.plugins-status-installing").subscribe(t=>{this.installing=t}),this.translateService.get("dlg.plugins-status-removing").subscribe(t=>{this.removing=t}),this.translateService.get("dlg.plugins-status-installed").subscribe(t=>{this.installed=t}),this.translateService.get("dlg.plugins-status-removed").subscribe(t=>{this.removed=t}),this.translateService.get("dlg.plugins-status-error").subscribe(t=>{this.error=t}),this.pluginService.getPlugins().subscribe(t=>{this.plugins=t},t=>{console.error("Error getPlugin")})}onNoClick(){this.dialogRef.close()}install(t){t.status=this.installing,t.working=!0;let i=JSON.parse(JSON.stringify(t));i.pkg=!0,this.pluginService.installPlugin(i).subscribe(n=>{t.status=this.installed,t.current=t.version,t.working=!1},n=>{t.status=this.error+n,t.working=!1})}remove(t){t.status=this.removing,t.working=!0,this.pluginService.removePlugin(t).subscribe(i=>{t.status=this.removed,t.current="",t.working=!1},i=>{t.status=this.error+i,t.working=!1})}static \u0275fac=function(i){return new(i||r)(e.rXU(Gr),e.rXU(Qo),e.rXU(yr),e.rXU(Vi.c$),e.rXU(px),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-plugins"]],decls:34,vars:25,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"info"],[1,"list"],[1,"list-header","list-item"],[1,"list-type"],[1,"list-name"],[1,"list-version"],[1,"list-description"],[1,"list-status"],[1,"list-tool"],["class","list-item list-item-text",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"mat-dialog-close"],[1,"list-item","list-item-text"],[1,"list-type",2,"font-weight","700"],[2,"width","40px","padding-top","10px"],["diameter","20",4,"ngIf"],[4,"ngIf"],["diameter","20"],["mat-icon-button","",3,"disabled","click"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-list",4)(11,"mat-list-item",5)(12,"span",6),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"span",7),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"span",8),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"span",8),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"span",9),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"span",10)(28,"span",11),e.k0s(),e.DNE(29,_Z,18,10,"mat-list-item",12),e.k0s()(),e.j41(30,"div",13)(31,"button",14),e.EFF(32),e.nI1(33,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,9,"dlg.plugins-title")),e.R7$(6),e.JRh(e.bMT(9,11,"dlg.plugins-info")),e.R7$(5),e.JRh(e.bMT(14,13,"dlg.plugins-type")),e.R7$(3),e.JRh(e.bMT(17,15,"dlg.plugins-name")),e.R7$(3),e.JRh(e.bMT(20,17,"dlg.plugins-version")),e.R7$(3),e.JRh(e.bMT(23,19,"dlg.plugins-current")),e.R7$(3),e.JRh(e.bMT(26,21,"dlg.plugins-description")),e.R7$(4),e.Y8G("ngForOf",n.plugins),e.R7$(3),e.JRh(e.bMT(33,23,"dlg.ok")))},dependencies:[l.Sq,l.bT,zn,nA,Or,eo,Rr,Kn,Tg,Fg,Id,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .list[_ngcontent-%COMP%]{min-width:600px;height:400px;font-size:16px!important;padding-top:0!important}[_nghost-%COMP%]   .list-header[_ngcontent-%COMP%]{display:block;height:20px!important}[_nghost-%COMP%]   .list-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;color:gray;font-size:12px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]{display:block;font-size:14px;height:40px!important;overflow:hidden}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-type[_ngcontent-%COMP%]{width:160px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-name[_ngcontent-%COMP%]{width:200px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-version[_ngcontent-%COMP%]{width:100px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-description[_ngcontent-%COMP%]{width:260px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-status[_ngcontent-%COMP%]{width:200px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-tool[_ngcontent-%COMP%]{display:flex;min-width:120px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .list-item-text[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}"]})}return r})(),hS=(()=>{class r{http;endPointConfig=Kg.G.getURL();constructor(t){this.http=t}getLogsDir(){return this.http.get(this.endPointConfig+"/api/logsdir")}getLogs(t){const n={responseType:"text",headers:new ka.Lr({"Content-Type":"application/json"}),params:t,observe:"response"};return this.http.get(this.endPointConfig+"/api/logs",n)}sendMail(t,i){return new Ha.c(n=>{if(_p.c.serverEnabled){let a=new ka.Lr({"Content-Type":"application/json"});this.http.post(this.endPointConfig+"/api/sendmail",{headers:a,params:{msg:t,smtp:i}}).subscribe(d=>{n.next(null)},d=>{console.error(d),n.error(d)})}else n.next(null)})}static \u0275fac=function(i){return new(i||r)(e.KVO(ka.Qq))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ff=ie(8329);function bZ(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.text," ")}}function wZ(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.text," ")}}function CZ(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function EZ(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"store.retention-"+t.value)," ")}}function BZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",11)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",36),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.retention=n)}),e.DNE(5,EZ,3,4,"mat-option",8),e.nI1(6,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"dlg.app-settings-daqstore-retention")),e.R7$(2),e.Y8G("value",t.settings.daqstore.retention),e.R7$(1),e.Y8G("ngForOf",e.bMT(6,5,t.retationType))}}function MZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",26)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",47),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.url=n)}),e.k0s()(),e.j41(6,"div",26)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.credentials.token=n)}),e.k0s()(),e.j41(11,"div",26)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.bucket=n)}),e.k0s()(),e.j41(16,"div",26)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.organization=n)}),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,8,"dlg.app-settings-daqstore-url")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.url),e.R7$(3),e.JRh(e.bMT(9,10,"dlg.app-settings-daqstore-token")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.credentials.token),e.R7$(3),e.JRh(e.bMT(14,12,"dlg.app-settings-daqstore-bucket")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.bucket),e.R7$(3),e.JRh(e.bMT(19,14,"dlg.app-settings-daqstore-organization")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.organization)}}function xZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",26)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.url=n)}),e.k0s()(),e.j41(6,"div",26)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.database=n)}),e.k0s()(),e.j41(11,"div",26)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.credentials.username=n)}),e.k0s()(),e.j41(16,"div",26)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.credentials.password=n)}),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,8,"dlg.app-settings-daqstore-url")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.url),e.R7$(3),e.JRh(e.bMT(9,10,"dlg.app-settings-daqstore-database")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.database),e.R7$(3),e.JRh(e.bMT(14,12,"dlg.app-settings-daqstore-username")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.credentials.username),e.R7$(3),e.JRh(e.bMT(19,14,"dlg.app-settings-daqstore-password")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.credentials.password)}}function DZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",26)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",50),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.url=n)}),e.k0s()(),e.j41(6,"div",26)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",51),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.database=n)}),e.k0s()(),e.j41(11,"div",26)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",52),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.credentials.username=n)}),e.k0s()(),e.j41(16,"div",26)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",53),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.settings.daqstore.credentials.password=n)}),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,8,"dlg.app-settings-daqstore-url")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.url),e.R7$(3),e.JRh(e.bMT(9,10,"dlg.app-settings-daqstore-database")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.database),e.R7$(3),e.JRh(e.bMT(14,12,"dlg.app-settings-daqstore-username")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.credentials.username),e.R7$(3),e.JRh(e.bMT(19,14,"dlg.app-settings-daqstore-password")),e.R7$(2),e.Y8G("ngModel",t.settings.daqstore.credentials.password)}}function IZ(r,o){if(1&r&&(e.j41(0,"div",21)(1,"div",44),e.DNE(2,BZ,7,7,"div",45),e.DNE(3,MZ,21,16,"div",46),e.DNE(4,xZ,21,16,"div",46),e.DNE(5,DZ,21,16,"div",46),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngSwitch",t.settings.daqstore.type),e.R7$(1),e.Y8G("ngSwitchCase",t.daqstoreType.SQlite),e.R7$(1),e.Y8G("ngSwitchCase",t.daqstoreType.influxDB),e.R7$(1),e.Y8G("ngSwitchCase",t.influxDB18),e.R7$(1),e.Y8G("ngSwitchCase",t.daqstoreType.TDengine)}}function kZ(r,o){if(1&r&&(e.j41(0,"mat-option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"store.retention-"+t.value)," ")}}let TZ=(()=>{class r{settingsService;diagnoseService;translateService;toastr;dialogRef;languageType=[{text:"dlg.app-language-de",value:"de"},{text:"dlg.app-language-en",value:"en"},{text:"dlg.app-language-es",value:"es"},{text:"dlg.app-language-fr",value:"fr"},{text:"dlg.app-language-ko",value:"ko"},{text:"dlg.app-language-pt",value:"pt"},{text:"dlg.app-language-ru",value:"ru"},{text:"dlg.app-language-sv",value:"sv"},{text:"dlg.app-language-tr",value:"tr"},{text:"dlg.app-language-ua",value:"ua"},{text:"dlg.app-language-zh-cn",value:"zh-cn"}];authType=[{text:"dlg.app-auth-disabled",value:""},{text:"dlg.app-auth-expiration-15m",value:"15m"},{text:"dlg.app-auth-expiration-1h",value:"1h"},{text:"dlg.app-auth-expiration-3h",value:"3h"},{text:"dlg.app-auth-expiration-1d",value:"1d"}];settings=new Ff.$9;authentication="";authenticationTooltip="";smtpTesting=!1;smtpTestAddress="";showPassword=!1;daqstoreType=Ff.Kb;retationType=Ff.SC;alarmsRetationType=Ff.bO;influxDB18=ii.Aq.getEnumKey(Ff.Kb,Ff.Kb.influxDB18);constructor(t,i,n,a,s){this.settingsService=t,this.diagnoseService=i,this.translateService=n,this.toastr=a,this.dialogRef=s}ngOnInit(){this.settings=JSON.parse(JSON.stringify(this.settingsService.getSettings()));for(let t=0;t<this.languageType.length;t++)this.translateService.get(this.languageType[t].text).subscribe(i=>{this.languageType[t].text=i});for(let t=0;t<this.authType.length;t++)this.translateService.get(this.authType[t].text).subscribe(i=>{this.authType[t].text=i});this.translateService.get("dlg.app-auth-tooltip").subscribe(t=>{this.authenticationTooltip=t}),this.settings.secureEnabled&&(this.authentication=this.settings.tokenExpiresIn),ii.Aq.isNullOrUndefined(this.settings.broadcastAll)&&(this.settings.broadcastAll=!0),ii.Aq.isNullOrUndefined(this.settings.logFull)&&(this.settings.logFull=!1),this.settings.smtp||(this.settings.smtp=new Ff.sd),this.settings.daqstore=this.settings.daqstore||new Ff.CT,this.settings.daqstore.credentials||(this.settings.daqstore.credentials=new Ff.sr)}onNoClick(){this.dialogRef.close()}onOkClick(){this.settings.secureEnabled=!!this.authentication,this.settings.tokenExpiresIn=this.authentication,this.settingsService.setSettings(this.settings)&&this.settingsService.saveSettings(),this.dialogRef.close()}onLanguageChange(t){this.settings.language=t}onAlarmsClear(){this.settingsService.clearAlarms(!0)}onSmtpTest(){this.smtpTesting=!0,this.diagnoseService.sendMail({from:this.settings.smtp.mailsender||this.settings.smtp.username,to:this.smtpTestAddress,subject:"FUXA",text:"TEST"},this.settings.smtp).subscribe(()=>{this.smtpTesting=!1;var i="";this.translateService.get("msg.sendmail-success").subscribe(n=>{i=n}),this.toastr.success(i)},i=>{if(this.smtpTesting=!1,i.message)this.notifyError(i.message);else{var n="";this.translateService.get("msg.sendmail-error").subscribe(a=>{n=a}),this.notifyError(n)}})}isSmtpTestReady(){return!(this.smtpTesting||!this.settings.smtp.host||!this.settings.smtp.host.length||!this.settings.smtp.username||!this.settings.smtp.username.length||!this.smtpTestAddress||!this.smtpTestAddress.length)}keyDownStopPropagation(t){t.stopPropagation()}notifyError(t){this.toastr.error(t,"",{timeOut:3e3,closeButton:!0})}static \u0275fac=function(i){return new(i||r)(e.rXU(yp.h),e.rXU(hS),e.rXU(Vi.c$),e.rXU(Gg.tw),e.rXU(yr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-app-settings"]],decls:142,vars:125,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"tabs-container"],[3,"label"],[1,"block","mt20","tab-system"],[1,"my-form-field","block","system-input"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","block","mt15","system-input"],["numberOnly","","type","text","disabled","true",2,"width","320px",3,"ngModel","ngModelChange"],[1,"my-form-field","block","mt15"],[1,"my-form-field","system-input"],[2,"display","inline-block"],[1,"my-form-field-info",2,"height","16px",3,"matTooltip"],[2,"display","block",3,"value","valueChange"],[1,"my-form-field","ml20"],["color","primary",3,"ngModel","disabled","ngModelChange"],[3,"value","valueChange"],[3,"value"],[1,"block","mt20","tab-smtp"],[1,"block"],[1,"my-form-field"],["placeholder","smtp.example.com","type","text",2,"width","320px",3,"ngModel","ngModelChange"],[1,"my-form-field","lbk","ml10"],["numberOnly","","type","text",2,"width","80px",3,"ngModel","ngModelChange"],[1,"my-form-field","block","mt15","w100"],["placeholder","fuxa@example.com","type","text",1,"input-row",3,"ngModel","ngModelChange"],["autocomplete","off",1,"input-row",3,"type","ngModel","keydown","ngModelChange"],["matSuffix","",1,"show-password",3,"click"],[1,"block","mt15","w100"],[1,"my-form-field","lbk"],["type","text",2,"width","320px",3,"ngModel","ngModelChange"],["mat-raised-button","","color","basic",3,"disabled","click"],[1,"block","mt20","tab-daq"],[1,"my-form-field","block"],[2,"width","200px",3,"value","valueChange"],["class","block",4,"ngIf"],[1,"block","mt20","tab-alarms"],[1,"block","mt20","mb20"],["mat-raised-button","","color","basic",3,"click"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[3,"ngSwitch"],["class","my-form-field block mt15",4,"ngSwitchCase"],[4,"ngSwitchCase"],["placeholder","https://us-west-2-1.aws.cloud2.influxdata.com","type","text",1,"input-row",3,"ngModel","ngModelChange"],["placeholder","","type","text",1,"input-row",3,"ngModel","ngModelChange"],["placeholder","http://localhost:8086","type","text",1,"input-row",3,"ngModel","ngModelChange"],["placeholder","http://localhost:6041/rest/sql","type","text",1,"input-row",3,"ngModel","ngModelChange"],["placeholder","fuxa","type","text",1,"input-row",3,"ngModel","ngModelChange"],["placeholder","root","type","text",1,"input-row",3,"ngModel","ngModelChange"],["placeholder","taosdata","type","text",1,"input-row",3,"ngModel","ngModelChange"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"mat-tab-group",3)(8,"mat-tab",4),e.nI1(9,"translate"),e.j41(10,"div",5)(11,"div",6)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"mat-select",7),e.bIt("valueChange",function(s){return n.settings.language=s})("selectionChange",function(s){return n.onLanguageChange(s.value)}),e.DNE(16,bZ,2,2,"mat-option",8),e.k0s()(),e.j41(17,"div",9)(18,"span"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.settings.uiPort=s}),e.k0s()(),e.j41(22,"div",11)(23,"div",12)(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"mat-icon",14),e.EFF(28,"error_outline"),e.k0s(),e.j41(29,"mat-select",15),e.bIt("valueChange",function(s){return n.authentication=s}),e.DNE(30,wZ,2,2,"mat-option",8),e.k0s()(),e.j41(31,"div",16)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"mat-slide-toggle",17),e.bIt("ngModelChange",function(s){return n.settings.secureOnlyEditor=s}),e.k0s()()(),e.j41(36,"div",9)(37,"span"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"mat-select",18),e.bIt("valueChange",function(s){return n.settings.broadcastAll=s}),e.j41(41,"mat-option",19),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.j41(44,"mat-option",19),e.EFF(45),e.nI1(46,"translate"),e.k0s()()(),e.j41(47,"div",9)(48,"span"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"mat-select",18),e.bIt("valueChange",function(s){return n.settings.logFull=s}),e.j41(52,"mat-option",19),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"mat-option",19),e.EFF(56),e.nI1(57,"translate"),e.k0s()()(),e.j41(58,"div",9)(59,"span"),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"mat-select",18),e.bIt("valueChange",function(s){return n.settings.userRole=s}),e.j41(63,"mat-option",19),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"mat-option",19),e.EFF(67),e.nI1(68,"translate"),e.k0s()()()()(),e.j41(69,"mat-tab",4),e.nI1(70,"translate"),e.j41(71,"div",20)(72,"div",21)(73,"div",22)(74,"span"),e.EFF(75),e.nI1(76,"translate"),e.k0s(),e.j41(77,"input",23),e.bIt("ngModelChange",function(s){return n.settings.smtp.host=s}),e.k0s()(),e.j41(78,"div",24)(79,"span"),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.j41(82,"input",25),e.bIt("ngModelChange",function(s){return n.settings.smtp.port=s}),e.k0s()()(),e.j41(83,"div",26)(84,"span"),e.EFF(85),e.nI1(86,"translate"),e.k0s(),e.j41(87,"input",27),e.bIt("ngModelChange",function(s){return n.settings.smtp.mailsender=s}),e.k0s()(),e.j41(88,"div",26)(89,"span"),e.EFF(90),e.nI1(91,"translate"),e.k0s(),e.j41(92,"input",27),e.bIt("ngModelChange",function(s){return n.settings.smtp.username=s}),e.k0s()(),e.j41(93,"div",26)(94,"span"),e.EFF(95),e.nI1(96,"translate"),e.k0s(),e.j41(97,"input",28),e.bIt("keydown",function(s){return n.keyDownStopPropagation(s)})("ngModelChange",function(s){return n.settings.smtp.password=s}),e.k0s(),e.j41(98,"mat-icon",29),e.bIt("click",function(){return n.showPassword=!n.showPassword}),e.EFF(99),e.k0s()(),e.j41(100,"div",30)(101,"div",31)(102,"span"),e.EFF(103),e.nI1(104,"translate"),e.k0s(),e.j41(105,"input",32),e.bIt("ngModelChange",function(s){return n.smtpTestAddress=s}),e.k0s()(),e.j41(106,"div",24)(107,"button",33),e.bIt("click",function(){return n.onSmtpTest()}),e.EFF(108),e.nI1(109,"translate"),e.k0s()()()()(),e.j41(110,"mat-tab",4),e.nI1(111,"translate"),e.j41(112,"div",34)(113,"div",35)(114,"span"),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"mat-select",36),e.bIt("valueChange",function(s){return n.settings.daqstore.type=s}),e.DNE(118,CZ,2,2,"mat-option",8),e.nI1(119,"enumToArray"),e.k0s()(),e.DNE(120,IZ,6,5,"div",37),e.k0s()(),e.j41(121,"mat-tab",4),e.nI1(122,"translate"),e.j41(123,"div",38)(124,"div",35)(125,"span"),e.EFF(126),e.nI1(127,"translate"),e.k0s(),e.j41(128,"mat-select",36),e.bIt("valueChange",function(s){return n.settings.alarms.retention=s}),e.DNE(129,kZ,3,4,"mat-option",8),e.nI1(130,"enumToArray"),e.k0s()(),e.j41(131,"div",39)(132,"button",40),e.bIt("click",function(){return n.onAlarmsClear()}),e.EFF(133),e.nI1(134,"translate"),e.k0s()()()()()(),e.j41(135,"div",41)(136,"button",42),e.bIt("click",function(){return n.onNoClick()}),e.EFF(137),e.nI1(138,"translate"),e.k0s(),e.j41(139,"button",43),e.bIt("click",function(){return n.onOkClick()}),e.EFF(140),e.nI1(141,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,61,"dlg.app-settings-title")),e.R7$(6),e.FS9("label",e.bMT(9,63,"dlg.app-settings-system")),e.R7$(5),e.JRh(e.bMT(14,65,"dlg.app-settings-language")),e.R7$(2),e.Y8G("value",n.settings.language),e.R7$(1),e.Y8G("ngForOf",n.languageType),e.R7$(3),e.JRh(e.bMT(20,67,"dlg.app-settings-server-port")),e.R7$(2),e.Y8G("ngModel",n.settings.uiPort),e.R7$(4),e.JRh(e.bMT(26,69,"dlg.app-settings-auth-token")),e.R7$(2),e.FS9("matTooltip",n.authenticationTooltip),e.R7$(2),e.Y8G("value",n.authentication),e.R7$(1),e.Y8G("ngForOf",n.authType),e.R7$(3),e.JRh(e.bMT(34,71,"dlg.app-settings-auth-only-editor")),e.R7$(2),e.Y8G("ngModel",n.settings.secureOnlyEditor)("disabled",""===n.authentication),e.R7$(3),e.JRh(e.bMT(39,73,"dlg.app-settings-client-broadcast")),e.R7$(2),e.Y8G("value",n.settings.broadcastAll),e.R7$(1),e.Y8G("value",!0),e.R7$(1),e.JRh(e.bMT(43,75,"general.enabled")),e.R7$(2),e.Y8G("value",!1),e.R7$(1),e.JRh(e.bMT(46,77,"general.disabled")),e.R7$(4),e.JRh(e.bMT(50,79,"dlg.app-settings-server-log-full")),e.R7$(2),e.Y8G("value",n.settings.logFull),e.R7$(1),e.Y8G("value",!0),e.R7$(1),e.JRh(e.bMT(54,81,"general.enabled")),e.R7$(2),e.Y8G("value",!1),e.R7$(1),e.JRh(e.bMT(57,83,"general.disabled")),e.R7$(4),e.JRh(e.bMT(61,85,"dlg.app-settings-user-group-label")),e.R7$(2),e.Y8G("value",n.settings.userRole),e.R7$(1),e.Y8G("value",!1),e.R7$(1),e.JRh(e.bMT(65,87,"dlg.app-settings-user-group")),e.R7$(2),e.Y8G("value",!0),e.R7$(1),e.JRh(e.bMT(68,89,"dlg.app-settings-user-roles")),e.R7$(2),e.FS9("label",e.bMT(70,91,"dlg.app-settings-smtp")),e.R7$(6),e.JRh(e.bMT(76,93,"dlg.app-settings-smtp-host")),e.R7$(2),e.Y8G("ngModel",n.settings.smtp.host),e.R7$(3),e.JRh(e.bMT(81,95,"dlg.app-settings-smtp-port")),e.R7$(2),e.Y8G("ngModel",n.settings.smtp.port),e.R7$(3),e.JRh(e.bMT(86,97,"dlg.app-settings-smtp-mailsender")),e.R7$(2),e.Y8G("ngModel",n.settings.smtp.mailsender),e.R7$(3),e.JRh(e.bMT(91,99,"dlg.app-settings-smtp-user")),e.R7$(2),e.Y8G("ngModel",n.settings.smtp.username),e.R7$(3),e.JRh(e.bMT(96,101,"dlg.app-settings-smtp-password")),e.R7$(2),e.Y8G("type",n.showPassword?"text":"password")("ngModel",n.settings.smtp.password),e.R7$(2),e.JRh(n.showPassword?"visibility":"visibility_off"),e.R7$(4),e.JRh(e.bMT(104,103,"dlg.app-settings-smtp-testaddress")),e.R7$(2),e.Y8G("ngModel",n.smtpTestAddress),e.R7$(2),e.Y8G("disabled",!n.isSmtpTestReady()),e.R7$(1),e.JRh(e.bMT(109,105,"dlg.app-settings-smtp-test")),e.R7$(2),e.FS9("label",e.bMT(111,107,"dlg.app-settings-daqstore")),e.R7$(5),e.JRh(e.bMT(116,109,"dlg.app-settings-daqstore-type")),e.R7$(2),e.Y8G("value",n.settings.daqstore.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(119,111,n.daqstoreType)),e.R7$(2),e.Y8G("ngIf",n.settings.daqstore.type),e.R7$(1),e.FS9("label",e.bMT(122,113,"dlg.app-settings-alarms")),e.R7$(5),e.JRh(e.bMT(127,115,"dlg.app-settings-daqstore-retention")),e.R7$(2),e.Y8G("value",n.settings.alarms.retention),e.R7$(1),e.Y8G("ngForOf",e.bMT(130,117,n.alarmsRetationType)),e.R7$(4),e.JRh(e.bMT(134,119,"dlg.app-settings-alarms-clear")),e.R7$(4),e.JRh(e.bMT(138,121,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(141,123,"dlg.ok")))},dependencies:[l.Sq,l.bT,l.ux,l.e1,k,qe,tn,Ur,zn,Or,eo,Rr,Kn,Yv,yo,wc,eu,Td,Is,Wr,Hs,Vi.D9,ii.yN],styles:[".mat-tab-label{height:34px!important;padding:0}.tabs-container[_ngcontent-%COMP%]{min-height:500px;min-width:620px}.tabs-container[_ngcontent-%COMP%]   .tab-system[_ngcontent-%COMP%]{min-width:320px}.tabs-container[_ngcontent-%COMP%]   .tab-smtp[_ngcontent-%COMP%], .tabs-container[_ngcontent-%COMP%]   .tab-daq[_ngcontent-%COMP%], .tabs-container[_ngcontent-%COMP%]   .tab-alarms[_ngcontent-%COMP%]{padding-right:10px}.input-row[_ngcontent-%COMP%]{width:100%}.system-input[_ngcontent-%COMP%]{width:320px}"]})}return r})();function FZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",10)(1,"mat-slide-toggle",11),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.enabled=n)}),e.j41(2,"code"),e.EFF(3),e.k0s(),e.j41(4,"span",12),e.nI1(5,"translate"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&r){const t=o.$implicit;e.R7$(1),e.Y8G("ngModel",t.enabled),e.R7$(2),e.JRh(t.name),e.R7$(1),e.FS9("matTooltip",e.bMT(5,4,t.tooltip)),e.R7$(2),e.JRh(e.bMT(7,6,t.tooltip))}}let SZ=(()=>{class r{dialogRef;projectService;scriptFunctions=[];constructor(t,i){this.dialogRef=t,this.projectService=i}ngOnInit(){const t=new qo.N0(qo.bR.CLIENT),i=this.projectService.getClientAccess();this.scriptFunctions=t.functions.map(n=>({name:n.name,label:n.text,tooltip:n.tooltip,enabled:i?.scriptSystemFunctions?.includes(n.name)??!1}))}getClientAccess(){return{scriptSystemFunctions:this.scriptFunctions.filter(t=>t.enabled).map(t=>t.name)}}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close();const t=this.getClientAccess();this.projectService.setClientAccess(t)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-client-script-access"]],decls:19,vars:13,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"info"],[1,"function-list"],["class","function-item",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"function-item"],["color","primary",3,"ngModel","ngModelChange"],[3,"matTooltip"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",5),e.DNE(11,FZ,8,8,"div",6),e.k0s()(),e.j41(12,"div",7)(13,"button",8),e.bIt("click",function(){return n.onNoClick()}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",9),e.bIt("click",function(){return n.onOkClick()}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,5,"client.script-access-title")),e.R7$(6),e.JRh(e.bMT(9,7,"client.script-access-info")),e.R7$(3),e.Y8G("ngForOf",n.scriptFunctions),e.R7$(3),e.JRh(e.bMT(15,9,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(18,11,"dlg.ok")))},dependencies:[l.Sq,qe,tn,zn,Or,eo,Rr,Kn,wc,Is,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{max-width:900px;width:100%;min-width:700px;margin:0 auto}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .function-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:20px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .function-item[_ngcontent-%COMP%]{padding:1px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .function-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:gray;margin-left:6px}"]})}return r})();const QZ=["messages","users","userRoles","plugins","notifications","scripts","reports","materials","logs","events","language"];let RZ=(()=>{class r{router;appService;dialog;projectService;dialogRef;constructor(t,i,n,a,s){this.router=t,this.appService=i,this.dialog=n,this.projectService=a,this.dialogRef=s,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}onNoClick(){this.dialogRef.close()}goTo(t,i){this.onNoClick(),this.router.navigate([t],{queryParams:{type:i}})}onChartConfig(){this.onNoClick(),this.dialog.open(bO,{position:{top:"60px"},minWidth:"1090px",width:"1090px"}).afterClosed().subscribe()}onGraphConfig(t){this.onNoClick(),this.dialog.open(EO,{position:{top:"60px"},minWidth:"1090px",width:"1090px",data:{type:t}}).afterClosed().subscribe()}onLayoutConfig(){this.onNoClick();let t=null,i=this.projectService.getHmi();i.layout&&(t=JSON.parse(JSON.stringify(i.layout))),t&&!1!==t.showdev&&(t.showdev=!0),this.dialog.open(gZ,{position:{top:"60px"},data:{layout:t,views:i.views,securityEnabled:this.projectService.isSecurityEnabled()}}).afterClosed().subscribe(a=>{a&&(i.layout=JSON.parse(JSON.stringify(a.layout)),this.projectService.setLayout(i.layout))})}onPlugins(){this.onNoClick(),this.dialog.open(yZ,{position:{top:"60px"}}).afterClosed().subscribe(i=>{})}onSettings(){this.onNoClick(),this.dialog.open(TZ,{position:{top:"60px"}}).afterClosed().subscribe(i=>{})}isToDisable(t){return-1!==QZ.indexOf(t)&&this.appService.isClientApp}onWidgets(){this.onNoClick(),this.dialog.open(SZ,{position:{top:"60px"}}).afterClosed().subscribe(i=>{})}static \u0275fac=function(i){return new(i||r)(e.rXU(zc),e.rXU(Bf.d),e.rXU(Qo),e.rXU(kr.TR),e.rXU(yr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-setup"]],decls:172,vars:75,consts:[[1,"dlg-container"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"separator"],[1,"separator-line",2,"position","absolute","left","0px"],[1,"separator-text"],[1,"separator-line",2,"position","absolute","right","0px"],[1,"btn-cards"],[1,"btn-card"],["mat-button","",1,"card-btn",3,"click"],[1,"card-btn-content"],["mat-button","",1,"card-btn",3,"disabled","click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4),e.nrm(8,"div",5),e.j41(9,"div",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"div",7),e.k0s(),e.j41(13,"div",8)(14,"div",9)(15,"button",10),e.bIt("click",function(){return n.goTo("/editor")}),e.j41(16,"div",11)(17,"mat-icon"),e.EFF(18,"view_module"),e.k0s(),e.j41(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()(),e.j41(22,"div",9)(23,"button",10),e.bIt("click",function(){return n.onLayoutConfig()}),e.j41(24,"div",11)(25,"mat-icon"),e.EFF(26,"perm_data_setting"),e.k0s(),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()()(),e.j41(30,"div",9)(31,"button",10),e.bIt("click",function(){return n.onChartConfig()}),e.j41(32,"div",11)(33,"mat-icon"),e.EFF(34,"multiline_chart"),e.k0s(),e.j41(35,"span"),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()(),e.j41(38,"div",9)(39,"button",10),e.bIt("click",function(){return n.onGraphConfig("bar")}),e.j41(40,"div",11)(41,"mat-icon"),e.EFF(42,"insert_chart_outlined"),e.k0s(),e.j41(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s()()()(),e.j41(46,"div",9)(47,"button",10),e.bIt("click",function(){return n.goTo("/mapsLocations")}),e.j41(48,"div",11)(49,"mat-icon"),e.EFF(50,"location_on"),e.k0s(),e.j41(51,"span"),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()(),e.j41(54,"div",4),e.nrm(55,"div",5),e.j41(56,"div",6),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.nrm(59,"div",7),e.k0s(),e.j41(60,"div",8)(61,"div",9)(62,"button",10),e.bIt("click",function(){return n.goTo("/device")}),e.j41(63,"div",11)(64,"mat-icon"),e.EFF(65,"lan"),e.k0s(),e.j41(66,"span"),e.EFF(67),e.nI1(68,"translate"),e.k0s()()()(),e.j41(69,"div",9)(70,"button",12),e.bIt("click",function(){return n.goTo("/users")}),e.j41(71,"div",11)(72,"mat-icon"),e.EFF(73,"people"),e.k0s(),e.j41(74,"span"),e.EFF(75),e.nI1(76,"translate"),e.k0s()()()(),e.j41(77,"div",9)(78,"button",12),e.bIt("click",function(){return n.goTo("/userRoles")}),e.j41(79,"div",11)(80,"mat-icon"),e.EFF(81,"groups"),e.k0s(),e.j41(82,"span"),e.EFF(83),e.nI1(84,"translate"),e.k0s()()()(),e.j41(85,"div",9)(86,"button",12),e.bIt("click",function(){return n.onPlugins()}),e.j41(87,"div",11)(88,"mat-icon"),e.EFF(89,"extension"),e.k0s(),e.j41(90,"span"),e.EFF(91),e.nI1(92,"translate"),e.k0s()()()(),e.j41(93,"div",9)(94,"button",10),e.bIt("click",function(){return n.onWidgets()}),e.j41(95,"div",11)(96,"mat-icon"),e.EFF(97,"lock_open"),e.k0s(),e.j41(98,"span"),e.EFF(99),e.nI1(100,"translate"),e.k0s()()()(),e.j41(101,"div",9)(102,"button",10),e.bIt("click",function(){return n.onSettings()}),e.j41(103,"div",11)(104,"mat-icon"),e.EFF(105,"settings"),e.k0s(),e.j41(106,"span"),e.EFF(107),e.nI1(108,"translate"),e.k0s()()()()(),e.nrm(109,"div",8),e.j41(110,"div",4),e.nrm(111,"div",5),e.j41(112,"div",6),e.EFF(113),e.nI1(114,"translate"),e.k0s(),e.nrm(115,"div",7),e.k0s(),e.j41(116,"div",8)(117,"div",9)(118,"button",12),e.bIt("click",function(){return n.goTo("/messages")}),e.j41(119,"div",11)(120,"mat-icon"),e.EFF(121,"warning_amber"),e.k0s(),e.j41(122,"span"),e.EFF(123),e.nI1(124,"translate"),e.k0s()()()(),e.j41(125,"div",9)(126,"button",12),e.bIt("click",function(){return n.goTo("/notifications")}),e.j41(127,"div",11)(128,"mat-icon"),e.EFF(129,"notifications_none"),e.k0s(),e.j41(130,"span"),e.EFF(131),e.nI1(132,"translate"),e.k0s()()()(),e.j41(133,"div",9)(134,"button",12),e.bIt("click",function(){return n.goTo("/scripts")}),e.j41(135,"div",11)(136,"mat-icon"),e.EFF(137,"code"),e.k0s(),e.j41(138,"span"),e.EFF(139),e.nI1(140,"translate"),e.k0s()()()(),e.j41(141,"div",9)(142,"button",12),e.bIt("click",function(){return n.goTo("/reports")}),e.j41(143,"div",11)(144,"mat-icon"),e.EFF(145,"content_paste"),e.k0s(),e.j41(146,"span"),e.EFF(147),e.nI1(148,"translate"),e.k0s()()()(),e.j41(149,"div",9)(150,"button",12),e.bIt("click",function(){return n.goTo("/language")}),e.j41(151,"div",11)(152,"mat-icon"),e.EFF(153,"language"),e.k0s(),e.j41(154,"span"),e.EFF(155),e.nI1(156,"translate"),e.k0s()()()()(),e.j41(157,"div",4),e.nrm(158,"div",5),e.j41(159,"div",6),e.EFF(160),e.nI1(161,"translate"),e.k0s(),e.nrm(162,"div",7),e.k0s(),e.j41(163,"div",8)(164,"div",9)(165,"button",12),e.bIt("click",function(){return n.goTo("/logs")}),e.j41(166,"div",11)(167,"mat-icon"),e.EFF(168,"assignment"),e.k0s(),e.j41(169,"span"),e.EFF(170),e.nI1(171,"translate"),e.k0s()()()()()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,31,"dlg.setup-title")),e.R7$(8),e.SpI(" ",e.bMT(11,33,"dlg.setup-gui")," "),e.R7$(10),e.JRh(e.bMT(21,35,"dlg.setup-views")),e.R7$(8),e.JRh(e.bMT(29,37,"dlg.setup-layout")),e.R7$(8),e.JRh(e.bMT(37,39,"dlg.setup-line-charts")),e.R7$(8),e.JRh(e.bMT(45,41,"dlg.setup-bar-charts")),e.R7$(8),e.JRh(e.bMT(53,43,"dlg.setup-maps-locations")),e.R7$(5),e.SpI(" ",e.bMT(58,45,"dlg.setup-diverse")," "),e.R7$(10),e.JRh(e.bMT(68,47,"dlg.setup-connections")),e.R7$(3),e.Y8G("disabled",n.isToDisable("users")),e.R7$(5),e.JRh(e.bMT(76,49,"dlg.setup-users")),e.R7$(3),e.Y8G("disabled",n.isToDisable("userRoles")),e.R7$(5),e.JRh(e.bMT(84,51,"dlg.setup-user-roles")),e.R7$(3),e.Y8G("disabled",n.isToDisable("plugins")),e.R7$(5),e.JRh(e.bMT(92,53,"dlg.setup-plugins")),e.R7$(8),e.JRh(e.bMT(100,55,"dlg.setup-client-access")),e.R7$(8),e.JRh(e.bMT(108,57,"dlg.setup-settings")),e.R7$(6),e.SpI(" ",e.bMT(114,59,"dlg.setup-logic")," "),e.R7$(5),e.Y8G("disabled",n.isToDisable("messages")),e.R7$(5),e.JRh(e.bMT(124,61,"dlg.setup-alarms")),e.R7$(3),e.Y8G("disabled",n.isToDisable("notifications")),e.R7$(5),e.JRh(e.bMT(132,63,"dlg.setup-notifications")),e.R7$(3),e.Y8G("disabled",n.isToDisable("scripts")),e.R7$(5),e.JRh(e.bMT(140,65,"dlg.setup-scripts")),e.R7$(3),e.Y8G("disabled",n.isToDisable("reports")),e.R7$(5),e.JRh(e.bMT(148,67,"dlg.setup-reports")),e.R7$(3),e.Y8G("disabled",n.isToDisable("language")),e.R7$(5),e.JRh(e.bMT(156,69,"dlg.setup-language")),e.R7$(5),e.SpI(" ",e.bMT(161,71,"dlg.setup-system")," "),e.R7$(5),e.Y8G("disabled",n.isToDisable("logs")),e.R7$(5),e.JRh(e.bMT(171,73,"dlg.setup-logs")))},dependencies:[zn,Or,eo,Kn,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .mat-button[_ngcontent-%COMP%]   .mat-button-focus-overlay[_ngcontent-%COMP%]{background-color:transparent}[_nghost-%COMP%]   .dlg-container[_ngcontent-%COMP%]{position:relative;height:600px}[_nghost-%COMP%]   .separator[_ngcontent-%COMP%]{align-items:center;display:flex;position:relative;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]   .separator-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--setupSeparatorColor);height:1px;width:35%}[_nghost-%COMP%]   .separator-text[_ngcontent-%COMP%]{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);font-size:13px}[_nghost-%COMP%]   .btn-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:16px -8px 18px;justify-content:center}[_nghost-%COMP%]   .btn-card[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px;padding-left:4px;padding-right:4px;flex:1}[_nghost-%COMP%]   .card-btn[_ngcontent-%COMP%]{height:85px;min-height:auto;min-width:100px;width:100px;font-size:16px;text-align:center;align-content:center;overflow:hidden;padding:0!important}[_nghost-%COMP%]   .card-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:400!important;font-size:13px;text-align:center}[_nghost-%COMP%]   .card-btn-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:10px 0 5px;text-align:center;height:100%}[_nghost-%COMP%]   .card-btn-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;margin-bottom:6px;height:32px;width:32px}[_nghost-%COMP%]   .card-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:14px;text-align:center;white-space:normal;overflow:hidden;text-overflow:ellipsis;line-height:1.2;min-height:2.4em;max-height:2.4em;padding:0 4px}"]})}return r})();const MO={default:{headerBackground:"hsl(0, 0%, 100%)",headerColor:"rgba(33,33,33,0.92)",headerBorder:"#f9f9f9",toolboxBackground:"#FBFBFB",toolboxColor:"#000000",toolboxBorder:"#F1F3F4",toolboxPanelBackgroung:"#f9f9f9",toolboxButton:"#545454",sidenavBackgroung:"#f9f9f9",toolboxItemActiveBackgroung:"#3059af",toolboxItemActiveColor:"#FFFFFF",toolboxFlyColor:"#000000",footZoomBackground:"#E4E4E4",footZoomBackgroundHover:"#CDCDCD",footZoomColor:"#000000",svgEditRulersBackground:"#f9f9f9",svgEditRulersColor:"#000000",svgEditWorkareaBackground:"#e4e4e4",svgEditWorkareaContextMenu:"#e4e4e4",svgEditWorkareaContextColor:"#000000",formInputBackground:"#f1f3f4",formExtInputBackground:"#fdfdfd",formInputColor:"#000000",formInputReadonlyBackground:"#f1f3f4",formInputBorderFocus:"#ccc",formInputBackgroundFocus:"#FFFFFF",formSliderBackground:"#f1f3f4",formSeparatorColor:"#e0e0e0",formBorder:"#F1F3F4",setupSeparatorColor:"#ccc",workPanelBackground:"#FFFFFF",mapBorderColor:"#3C3C3C",formExtBackground:"#f1f3f4",formInputExtBackground:"#FFFFFF",scrollbarTrack:"#D9D9D9",scrollbarThumb:"#BEBEBE",chipsBackground:"#F1F1F1",chipSelectedBackground:"#3059AF",chipSelectedColor:"#FFFFFF",inputTime:"invert(0%)"},dark:{headerBackground:"#333333",headerColor:"rgba(255,255,255,1)",tableHeaderColor:"rgba(255,255,255,0.7)",headerBorder:"#252526",toolboxBackground:"#252526",toolboxColor:"#FFFFFF",toolboxBorder:"rgba(33,33,33,0.92)",toolboxPanelBackgroung:"#252526",toolboxButton:"##313131",sidenavBackgroung:"#252526",toolboxItemActiveBackgroung:"#3059af",toolboxItemActiveColor:"#FFFFFF",toolboxFlyColor:"#FFFFFF",footZoomBackground:"#212121",footZoomBackgroundHover:"#161616",footZoomColor:"#FFFFFF",svgEditRulersBackground:"#2f2f2f",svgEditRulersColor:"#A4A4A4",svgEditWorkareaBackground:"#434343",svgEditWorkareaContextMenu:"#212121",svgEditWorkareaContextColor:"#FFFFFF",formInputBackground:"#37373D",formExtInputBackground:"#2d2d2d",formInputColor:"#FFFFFF",formInputReadonlyBackground:"#37373D",formInputBorderFocus:"#1177BB",formInputBackgroundFocus:"#37373D",formSliderBackground:"#37373D",formSeparatorColor:"#37373D",formBorder:"rgba(39,39,39,0.42)",setupSeparatorColor:"#808080",workPanelBackground:"#424242",workPanelExpandBackground:"#292A2D",mapBorderColor:"#333333",formExtBackground:"#37373D",formInputExtBackground:"#424242",scrollbarTrack:"#414142",scrollbarThumb:"#686868",chipsBackground:"#242424",chipSelectedBackground:"#3059AF",chipSelectedColor:"#FFFFFF",inputTime:"invert(100%)"}};let fx=(()=>{class r{document;constructor(t){this.document=t}static ThemeType={Dark:"dark",Default:"default"};setTheme(t=r.ThemeType.Dark){MO[t]||(t=r.ThemeType.Dark);const i=MO[t];Object.keys(i).forEach(a=>{this.document.documentElement.style.setProperty(`--${a}`,i[a])});const n=document.getElementsByTagName("body")[0];n.classList.remove("dark-theme"),t===r.ThemeType.Dark&&n.classList.add("dark-theme")}static \u0275fac=function(i){return new(i||r)(e.KVO(l.qQ))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function PZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.close())}),e.EFF(6," \xd7 "),e.k0s()(),e.j41(7,"div",5)(8,"mat-accordion",6)(9,"mat-expansion-panel",7)(10,"mat-expansion-panel-header",8)(11,"mat-panel-title"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"mat-panel-description"),e.k0s(),e.j41(15,"div",9)(16,"ul")(17,"li"),e.EFF(18,"Ctrl + Left / Right: rotate selected item"),e.k0s(),e.j41(19,"li"),e.EFF(20,"Ctrl + Shift + Left / Right: rotate the selected item in big step"),e.k0s(),e.j41(21,"li"),e.EFF(22,"Shift + O / P: select the prev / next item"),e.k0s(),e.j41(23,"li"),e.EFF(24,"Tab / Shift + Tab: select the prev / next item"),e.k0s(),e.j41(25,"li"),e.EFF(26,"Ctrl + Up / Down: central zoom in / out"),e.k0s(),e.j41(27,"li"),e.EFF(28,"Ctrl + Z / Y: undo / redo"),e.k0s(),e.j41(29,"li"),e.EFF(30,"Shift + 'resize with mouse the selected item': lock width and height"),e.k0s(),e.j41(31,"li"),e.EFF(32,"Shift + Up / Down / Left / Right: move the selected item"),e.k0s(),e.j41(33,"li"),e.EFF(34,"Shift + SCROLLER: zoom by mouse position"),e.k0s(),e.j41(35,"li"),e.EFF(36,"Ctrl + A: select all item"),e.k0s(),e.j41(37,"li"),e.EFF(38,"Ctrl + G: group or ungroup selected item"),e.k0s(),e.j41(39,"li"),e.EFF(40,"Ctrl + D: duplicate selected item"),e.k0s(),e.j41(41,"li"),e.EFF(42,"Shift + 'Draw line': line gradient horizonal, vertical 45\xb0 diagonal"),e.k0s(),e.j41(43,"li"),e.EFF(44,"Ctrl + X: cut selected item"),e.k0s(),e.j41(45,"li"),e.EFF(46,"Ctrl + C / V: copy / paste selected item"),e.k0s()()()()()()()}2&r&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"tutorial.title")," "),e.R7$(7),e.Y8G("collapsedHeight","40px")("expandedHeight","40px"),e.R7$(2),e.SpI(" ",e.bMT(13,6,"tutorial.editor-keyboard-shortcuts")," "))}let OZ=(()=>{class r{show=!1;constructor(){}close(){this.show=!1}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-tutorial"]],decls:1,vars:1,consts:[["class","tutorial-panel","ngDraggable","",4,"ngIf"],["ngDraggable","",1,"tutorial-panel"],[1,"tutorial-header"],[1,"tutorial-title"],[1,"tutorial-close",3,"click"],[1,"tutorial-body"],["multi","true"],["expanded","true",1,"my-expansion-panel"],[1,"header",3,"collapsedHeight","expandedHeight"],[1,"tutorial-content"]],template:function(i,n){1&i&&e.DNE(0,PZ,47,8,"div",0),2&i&&e.Y8G("ngIf",n.show)},dependencies:[l.bT,Dg,up,$d,xg,Qv,FF,Vi.D9],styles:[".tutorial-panel[_ngcontent-%COMP%]{width:460px;height:720px;z-index:99999!important;position:absolute;right:10px;top:50px;background-color:#585858;box-shadow:0 2px 6px #0003,0 2px 6px #00000030;border:0px!important}.tutorial-header[_ngcontent-%COMP%]{height:36px;background-color:#212121;color:#fff;padding-left:5px;cursor:move;line-height:30px}.tutorial-title[_ngcontent-%COMP%]{padding:5px 10px 5px 20px;font-size:16px}.tutorial-close[_ngcontent-%COMP%]{font-size:28px;cursor:pointer;right:5px;position:absolute;top:0}.tutorial-content[_ngcontent-%COMP%]{font-size:13px}.my-expansion-panel[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:100}  .mat-expansion-panel-body{padding:unset!important}","pre[_ngcontent-%COMP%] {\n            white-space: pre-line;\n        }"]})}return r})();const LZ=["sidenav"],YZ=["tutorial"],NZ=["fileImportInput"];function jZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",3)(1,"button",4,5),e.nI1(3,"translate"),e.j41(4,"mat-icon",6),e.EFF(5,"save"),e.k0s()(),e.j41(6,"mat-menu",7,8)(8,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onNewProject())}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"mat-divider",10),e.j41(12,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveProject())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveProjectAs())}),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"mat-divider",10),e.j41(19,"button",9),e.bIt("click",function(n){return e.eBV(t),e.XpG().onOpenProject(),e.Njj(n.stopPropagation())}),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"mat-divider",10),e.j41(23,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRenameProject())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"input",11,12),e.bIt("change",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onFileChangeListener(n))}),e.k0s()(),e.j41(28,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSetup())}),e.nI1(29,"translate"),e.j41(30,"mat-icon",14),e.EFF(31,"settings"),e.k0s()()()}if(2&r){const t=e.sdS(7);e.R7$(1),e.FS9("title",e.bMT(3,9,"header.save-project")),e.Y8G("matMenuTriggerFor",t),e.R7$(5),e.Y8G("overlapTrigger",!1),e.R7$(3),e.JRh(e.bMT(10,11,"header.new-project")),e.R7$(4),e.JRh(e.bMT(14,13,"header.save-project")),e.R7$(3),e.JRh(e.bMT(17,15,"header.saveas-project")),e.R7$(4),e.JRh(e.bMT(21,17,"header.open-project")),e.R7$(4),e.JRh(e.bMT(25,19,"header.rename-project")),e.R7$(4),e.FS9("title",e.bMT(29,21,"header.edit-project"))}}function GZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",15)(1,"div",16)(2,"button",4),e.nI1(3,"translate"),e.j41(4,"mat-icon",17),e.EFF(5,"help_outline"),e.k0s()(),e.j41(6,"mat-menu",7,18)(8,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onShowHelp("help"))}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"mat-divider",10),e.j41(12,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onShowHelp("info"))}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.nrm(15,"mat-divider",10),e.j41(16,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeTheme())}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&r){const t=e.sdS(7);e.R7$(2),e.FS9("title",e.bMT(3,6,"header.help")),e.Y8G("matMenuTriggerFor",t),e.R7$(4),e.Y8G("overlapTrigger",!1),e.R7$(3),e.JRh(e.bMT(10,8,"header.help-tutorial")),e.R7$(4),e.JRh(e.bMT(14,10,"header.help-info")),e.R7$(4),e.JRh(e.bMT(18,12,"header.change-thema"))}}const UZ=["/editor","/device","/messages","/language","/users","/userRoles","/notifications","/scripts","/reports","/materials","/logs","/events","/mapsLocations"],zZ=["/device","/messages","/language","/users","/userRoles","/notifications","/scripts","/reports","/materials","/logs","/events","/mapsLocations"];let HZ=(()=>{class r{router;dialog;translateService;themeService;projectService;sidenav;tutorial;fileImportInput;darkTheme=!0;editorMode=!1;saveFromEditor=!1;subscriptionShowHelp;subscriptionLoad;constructor(t,i,n,a,s){this.router=t,this.dialog=i,this.translateService=n,this.themeService=a,this.projectService=s,this.router.events.pipe((0,Jr.p)(d=>d instanceof Mf)).subscribe(d=>{const m=d.url.split("?")[0];this.editorMode=!!UZ.includes(m),this.saveFromEditor=!!zZ.includes(m),this.router.url.indexOf(It.Y6)>=0&&(this.editorMode=!1)}),this.themeService.setTheme(this.projectService.getLayoutTheme())}ngAfterViewInit(){this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{let i=this.projectService.getLayoutTheme();this.darkTheme=i!==fx.ThemeType.Default,this.themeService.setTheme(this.projectService.getLayoutTheme())},t=>{console.error("Error loadHMI")})}ngOnDestroy(){try{this.subscriptionShowHelp&&this.subscriptionShowHelp.unsubscribe(),this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}onClick(t){this.sidenav.close()}onShowHelp(t){let i=new It.mt;i.page=t,i.tag="device",this.showHelp(i)}onSetup(){this.projectService.saveProject(kr.PS.Current),this.dialog.open(RZ,{position:{top:"60px"}})}showHelp(t){"help"===t.page?this.tutorial.show=!0:"info"===t.page&&this.showInfo()}showInfo(){this.dialog.open(VZ,{data:{name:"Info",version:_p.c.version}}).afterClosed().subscribe(i=>{})}goTo(t){this.router.navigate([t])}onChangeTheme(){this.darkTheme=!this.darkTheme;let t=fx.ThemeType.Default;this.darkTheme&&(t=fx.ThemeType.Dark),this.themeService.setTheme(t),this.projectService.setLayoutTheme(t)}onNewProject(){try{let t="";this.translateService.get("msg.project-save-ask").subscribe(i=>{t=i}),window.confirm(t)&&(this.projectService.setNewProject(),this.onRenameProject())}catch(t){console.error(t)}}onSaveProjectAs(){try{this.saveFromEditor?this.projectService.saveAs():this.projectService.saveProject(kr.PS.SaveAs)}catch{}}onOpenProject(){document.getElementById("projectFileUpload").click()}onFileChangeListener(t){let i=t.target,n=new FileReader;n.onload=a=>{let s=JSON.parse(n.result.toString());this.projectService.setProject(s,!0)},n.onerror=function(){alert("Unable to read "+i.files[0])},n.readAsText(i.files[0]),this.fileImportInput.nativeElement.value=null}onSaveProject(){try{this.saveFromEditor?this.projectService.save():this.projectService.saveProject(kr.PS.Save)}catch(t){console.error(t)}}onRenameProject(){let t="";this.translateService.get("project.name").subscribe(n=>{t=n}),this.dialog.open(C_,{position:{top:"60px"},data:{name:this.projectService.getProjectName(),title:t}}).afterClosed().subscribe(n=>{n&&n.name!==this.projectService.getProjectName()&&this.projectService.setProjectName(n.name.replace(/ /g,""))})}static \u0275fac=function(i){return new(i||r)(e.rXU(zc),e.rXU(Qo),e.rXU(Vi.c$),e.rXU(fx),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-header"]],viewQuery:function(i,n){if(1&i&&(e.GBs(LZ,5),e.GBs(YZ,5),e.GBs(NZ,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.sidenav=a.first),e.mGM(a=e.lsd())&&(n.tutorial=a.first),e.mGM(a=e.lsd())&&(n.fileImportInput=a.first)}},decls:4,vars:2,consts:[["class","header-panel",4,"ngIf"],["class","header-right",4,"ngIf"],["tutorial",""],[1,"header-panel"],["mat-button","",1,"main-btn",3,"title","matMenuTriggerFor"],["prjviewtrigger","matMenuTrigger"],["aria-label","Save Project"],["yPosition","below",1,"leftbar-item-menu","header-menu",3,"overlapTrigger"],["prjview","matMenu"],["mat-menu-item","",3,"click"],[1,"menu-separator"],["type","file","id","projectFileUpload","accept",".json",2,"display","none",3,"change"],["fileImportInput",""],["mat-button","",1,"main-btn",3,"title","click"],["aria-label","Edit Views"],[1,"header-right"],[1,"header-help"],["aria-label","HELP"],["helpmenu","matMenu"]],template:function(i,n){1&i&&(e.DNE(0,jZ,32,23,"div",0),e.DNE(1,GZ,19,14,"div",1),e.nrm(2,"app-tutorial",null,2)),2&i&&(e.Y8G("ngIf",n.editorMode),e.R7$(1),e.Y8G("ngIf",n.editorMode))},dependencies:[l.bT,zn,Kn,r0,Gc,rA,tc,OZ,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{z-index:99!important;position:fixed;top:0;left:0;background-color:var(--headerBackground);color:var(--headerColor);height:36px;width:200px}.header-right[_ngcontent-%COMP%]{z-index:99!important;position:fixed;top:0;right:0;background-color:var(--headerBackground);color:var(--headerColor);height:36px;width:120px}.header-help[_ngcontent-%COMP%]{float:right;height:36px;width:36px;margin-right:20px}.header-theme[_ngcontent-%COMP%]{float:right;height:36px;width:36px;margin-right:5px}.main-btn[_ngcontent-%COMP%]{height:34px;width:34px;min-width:unset!important;padding:unset!important;line-height:34px;margin-left:5px;margin-right:5px}.main-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;height:unset;width:unset}.header-menu[_ngcontent-%COMP%]{box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003}.header-icon[_ngcontent-%COMP%]{padding:0 14px}.menu-separator[_ngcontent-%COMP%]{border-top-color:#0003}  .mat-menu-item{font-size:11px;height:30px!important;line-height:unset!important}"]})}return r})(),VZ=(()=>{class r{dialogRef;data;constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["dialog-info"]],decls:20,vars:11,consts:[[2,"width","280px"],["mat-dialog-title","",2,"display","inline-block"],[1,"logo",2,"display","inline-block"],[2,"font-size","18px","display","inline-block","vertical-align","super","padding-left","5px"],["mat-dialog-content","",2,"margin-bottom","10px"],[2,"display","block"],[2,"display","block","font-size","13px","margin-top","10px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"mat-dialog-close"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"div",2),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",4)(7,"div",5),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",6),e.EFF(11," powered by "),e.j41(12,"span")(13,"b"),e.EFF(14,"frango"),e.k0s(),e.EFF(15,"team"),e.k0s()()(),e.j41(16,"div",7)(17,"button",8),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()),2&i&&(e.R7$(4),e.JRh(e.bMT(5,5,"dlg.info-title")),e.R7$(4),e.Lme(" ",e.bMT(9,7,"header.info-version")," ",n.data.version," "),e.R7$(9),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(19,9,"dlg.ok")))},dependencies:[zn,nA,Or,eo,Rr,Vi.D9],encapsulation:2})}return r})();const JZ=["elementref"],WZ=["contentref"];function KZ(r,o){if(1&r&&e.nrm(0,"img",9),2&r){const t=e.XpG();e.FS9("src",t.svgicon,e.B4B)}}function XZ(r,o){if(1&r&&(e.j41(0,"i",10),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.icon," ")}}function ZZ(r,o){if(1&r){const t=e.RV6();e.j41(0,"a",11),e.bIt("click",function(n){e.eBV(t);const a=e.XpG();return a.stopPropagation(n),e.Njj(a.emitClickExEvent(n))}),e.j41(1,"i",12),e.EFF(2),e.k0s()()}if(2&r){const t=e.XpG();e.xc7("background-color",t.color),e.R7$(2),e.SpI(" ",t.iconex," ")}}let xO=(()=>{class r{icon;svgicon;iconex;svgiconex;content;color="white";clicked=new e.bkB;exclicked=new e.bkB;disabled=!1;elementref;contentref;emitClickEvent(t){if(this.disabled)return this.disabled;this.clicked.emit(t)}emitClickExEvent(t){if(this.disabled)return this.disabled;this.exclicked.emit(t)}stopPropagation(t){t.stopPropagation()}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-fab-item-button"]],viewQuery:function(i,n){if(1&i&&(e.GBs(JZ,7),e.GBs(WZ,7)),2&i){let a;e.mGM(a=e.lsd())&&(n.elementref=a.first),e.mGM(a=e.lsd())&&(n.contentref=a.first)}},inputs:{icon:"icon",svgicon:"svgicon",iconex:"iconex",svgiconex:"svgiconex",content:"content",color:"color",disabled:"disabled"},outputs:{clicked:"clicked",exclicked:"exclicked"},decls:10,vars:13,consts:[[3,"click"],["elementref",""],[1,"fab-item"],[3,"src",4,"ngIf"],["class","material-icons",4,"ngIf"],[1,"content-wrapper"],["contentref",""],[1,"content"],["class","fab-item-ex",3,"backgroundColor","click",4,"ngIf"],[3,"src"],[1,"material-icons"],[1,"fab-item-ex",3,"click"],[1,"material-icons",2,"font-size","18px"]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.bIt("click",function(s){return n.emitClickEvent(s)}),e.j41(2,"a",2),e.DNE(3,KZ,1,1,"img",3),e.DNE(4,XZ,2,1,"i",4),e.k0s(),e.j41(5,"div",5,6)(7,"div",7),e.EFF(8),e.DNE(9,ZZ,3,3,"a",8),e.k0s()()()),2&i&&(e.ZvI("item ",n.disabled?"disabled":"",""),e.R7$(2),e.xc7("background-color",n.color),e.R7$(1),e.Y8G("ngIf",n.svgicon),e.R7$(1),e.Y8G("ngIf",!n.svgicon),e.R7$(3),e.xc7("display",n.content?"block":"none")("padding-right",n.iconex?"28px":"20px"),e.R7$(1),e.SpI("",n.content," "),e.R7$(1),e.Y8G("ngIf",n.iconex))},dependencies:[l.bT],styles:[".item[_ngcontent-%COMP%]{height:36px;left:3px;transform:translateZ(0);transition:transform,opacity ease-out .2s;transition-timing-function:cubic-bezier(.165,.84,.44,1);transition-duration:.18s;position:absolute;cursor:pointer;top:5px;display:flex;justify-content:flex-end;align-items:center;z-index:9999}.item.disabled[_ngcontent-%COMP%]{pointer-events:none}.item.disabled[_ngcontent-%COMP%]   .fab-item[_ngcontent-%COMP%]{background-color:#d3d3d3}.content[_ngcontent-%COMP%]{z-index:9999;background:rgba(68,138,255,1);margin-left:0;line-height:25px;color:#fff;padding:5px 20px 3px;border-radius:18px;display:none;font-size:13px;height:28px;box-shadow:0 2px 5px #00000042;white-space:nowrap}.fab-item[_ngcontent-%COMP%]{left:0;background:rgba(68,138,255,1);border-radius:100%;width:36px;height:36px;position:absolute;color:#fff;text-align:center;cursor:pointer;line-height:50px}.fab-item-ex[_ngcontent-%COMP%]{top:0;background:rgba(68,138,255,1);border-radius:100%;width:36px;height:36px;position:absolute;color:#fff;text-align:center;cursor:pointer;line-height:45px}.fab-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-bottom:2px;padding-left:5px}"],changeDetection:0})}return r})();function $Z(r,o){if(1&r&&(e.j41(0,"i",3),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.icon," ")}}function qZ(r,o){if(1&r&&(e.j41(0,"i",3),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.iconOpen," ")}}const e$=["*"];let t$=(()=>{class r{element;cd;elementref;subs=[];state;icon;iconOpen;direction;spaceBetweenButtons=45;open;color="#dd0031";disabled=!1;events=new An.B;opened=!1;buttons;constructor(t,i){this.element=t,this.cd=i,this.elementref=t.nativeElement,this.state=new Ca.t({display:!1,direction:"top",event:"start",spaceBetweenButtons:this.spaceBetweenButtons})}toggle(){if(this.disabled)return this.disabled;this.state.next({...this.state.getValue(),display:!this.state.getValue().display,event:this.state.getValue().display?"close":"open"}),this.opened=this.state.getValue().display}checkDirectionType(){if(this.buttons.toArray()){let t="block";("right"===this.direction||"left"===this.direction)&&(t="none"),this.buttons.toArray().forEach(i=>{i.contentref.nativeElement.style.display=t})}}animateButtons(t){this.buttons.toArray().forEach((i,n)=>{if(n+=1,i.elementref){const a=i.elementref.nativeElement.style;"directionChanged"!==t&&this.state.getValue().display&&(a.transform="scale(1)",a["transition-duration"]="0s",i.timeout&&clearTimeout(i.timeout)),setTimeout(()=>{a["transition-duration"]=this.state.getValue().display?90+100*n+"ms":"",a.transform=this.state.getValue().display?this.getTranslate(n):""},50),"directionChanged"!==t&&!this.state.getValue().display&&(i.timeout=setTimeout(()=>{a.transform="scale(0)"},90+100*n))}})}getTranslate(t){let i;switch(this.direction){case"right":i=`translate3d(${this.state.getValue().spaceBetweenButtons*t}px,0,0)`;break;case"bottom":i=`translate3d(0,${this.state.getValue().spaceBetweenButtons*t}px,0)`;break;case"left":i=`translate3d(-${this.state.getValue().spaceBetweenButtons*t}px,0,0)`;break;default:i=`translate3d(0,-${this.state.getValue().spaceBetweenButtons*t}px,0)`}return i}ngAfterContentInit(){this.direction&&this.checkDirectionType();const t=this.state.subscribe(i=>{this.animateButtons(i.event),this.events.next({display:i.display,event:i.event,direction:i.direction})});this.subs.push(t)}ngOnChanges(t){if(t.direction&&!t.direction.firstChange&&(this.state.next({...this.state.getValue(),event:"directionChanged",direction:t.direction.currentValue}),this.checkDirectionType()),t.open&&t.open.currentValue){const i=this.open.subscribe(n=>{n!==this.state.getValue().display&&(this.state.next({...this.state.getValue(),event:n?"open":"close",display:n}),this.cd.markForCheck())});this.subs.push(i)}t.spaceBetweenButtons&&t.spaceBetweenButtons.currentValue&&this.state.next({...this.state.getValue(),event:"spaceBetweenButtonsChanged",spaceBetweenButtons:t.spaceBetweenButtons.currentValue})}ngOnDestroy(){this.subs.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(i){return new(i||r)(e.rXU(e.aKT),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-fab-button"]],contentQueries:function(i,n,a){if(1&i&&e.wni(a,xO,4),2&i){let s;e.mGM(s=e.lsd())&&(n.buttons=s)}},inputs:{icon:"icon",iconOpen:"iconOpen",direction:"direction",spaceBetweenButtons:"spaceBetweenButtons",open:"open",color:"color",disabled:"disabled"},outputs:{events:"events",opened:"opened"},features:[e.OA$],ngContentSelectors:e$,decls:6,vars:8,consts:[[1,"fab-menu"],[1,"fab-toggle",3,"click","touchend"],["class","material-icons",4,"ngIf"],[1,"material-icons"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"a",1),e.bIt("click",function(){return n.toggle()})("touchend",function(){return n.toggle()}),e.DNE(3,$Z,2,1,"i",2),e.DNE(4,qZ,2,1,"i",2),e.k0s(),e.SdG(5),e.k0s()),2&i&&(e.AVh("active",e.bMT(1,6,n.state).display),e.R7$(2),e.xc7("background-color",n.color),e.R7$(1),e.Y8G("ngIf",!n.opened),e.R7$(1),e.Y8G("ngIf",n.opened))},dependencies:[l.bT,l.Jj],styles:["[_nghost-%COMP%]{position:absolute}.fab-menu[_ngcontent-%COMP%]{box-sizing:border-box;font-size:12px;width:40px;height:40px;text-align:left;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9}.fab-toggle[_ngcontent-%COMP%]{border-radius:100%;width:36px;height:36px;color:#fff;text-align:center;line-height:50px;transform:translateZ(0);transition:all ease-out .2s;z-index:2;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);transition-duration:.4s;transform:scale(1) translateZ(0);cursor:pointer;box-shadow:0 2px 5px #00000042}.fab-menu[_ngcontent-%COMP%]   .fab-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.2) translateZ(0)}.fab-menu[_ngcontent-%COMP%]     .item{opacity:0}.fab-menu.active[_ngcontent-%COMP%]     .item{opacity:1}.fab-menu.active[_ngcontent-%COMP%]     .content-wrapper{display:flex;justify-content:center;align-items:center}.fab-menu.active[_ngcontent-%COMP%]     .content{display:block}.fab-menu.active[_ngcontent-%COMP%]   .fab-toggle[_ngcontent-%COMP%]{transition-timing-function:linear;transition-duration:.2s;transform:scale(1) translateZ(0)}"],changeDetection:0})}return r})();const i$=["fabmenu"];function n$(r,o){1&r&&e.nrm(0,"mat-progress-bar",5)}function r$(r,o){if(1&r){const t=e.RV6();e.j41(0,"ngx-fab-button",6,7)(2,"ngx-fab-item-button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoTo("editor"))})("touchend",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoTo("editor"))}),e.nI1(3,"translate"),e.k0s(),e.j41(4,"ngx-fab-item-button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoTo("lab"))})("touchend",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoTo("lab"))}),e.nI1(5,"translate"),e.k0s(),e.j41(6,"ngx-fab-item-button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoTo("home"))})("touchend",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoTo("home"))}),e.nI1(7,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.FS9("content",e.bMT(3,3,"app.editor")),e.R7$(2),e.FS9("content",e.bMT(5,5,"app.lab")),e.R7$(2),e.FS9("content",e.bMT(7,7,"app.home")))}let o$=(()=>{class r{document;router;appService;projectService;settingsService;translateService;heartbeatService;cdr;title="app";location;showdev=!1;isLoading=!1;fabmenu;subscriptionLoad;subscriptionShowLoading;constructor(t,i,n,a,s,d,m,I,J){this.document=t,this.router=i,this.appService=n,this.projectService=a,this.settingsService=s,this.translateService=d,this.heartbeatService=m,this.cdr=I,this.location=J}ngOnInit(){console.log(`FUXA v${_p.c.version}`),this.heartbeatService.startHeartbeatPolling(),(0,Ka.h)(Ue(document,"click"),Ue(document,"touchstart")).pipe(jr(()=>this.heartbeatService.setActivity(!0)),(0,Zs.n)(()=>h_(6e4))).subscribe(()=>{this.heartbeatService.setActivity(!1)})}ngAfterViewInit(){try{this.settingsService.init(),this.projectService.getHmi()&&this.checkSettings(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(i=>{this.checkSettings(),this.applyCustomCss()},i=>{console.error("Error loadHMI")}),this.translateService.get("general.usergroups").subscribe(i=>{let n=i.split(",");if(n&&n.length>0)for(let a=0;a<n.length&&a<Uc.yD.Groups.length;a++)Uc.yD.Groups[a].label=n[a]}),this.subscriptionShowLoading=this.appService.onShowLoading.subscribe(i=>{this.isLoading=i,this.cdr.detectChanges()},i=>{this.isLoading=!1,console.error("Error to show loading")})}catch(t){console.error(t)}}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe(),this.subscriptionShowLoading&&this.subscriptionShowLoading.unsubscribe()}catch{}}applyCustomCss(){let t=this.projectService.getHmi();if(t?.layout?.customStyles){const i=this.document.createElement("style");i.textContent=t.layout.customStyles,this.document.head.appendChild(i)}}checkSettings(){let t=this.projectService.getHmi();this.showdev=!t||!t.layout||!1!==t.layout.showdev}isHidden(){const t=this.location.path();return!(t&&!t.startsWith("/home")&&"/lab"!==t)}getClass(){return this.location.path().startsWith("/view")?"work-void":this.isHidden()?"work-home":"work-editor"}showDevNavigation(){return!this.location.path().startsWith("/view")&&this.showdev}onGoTo(t){this.router.navigate([t]),this.fabmenu.toggle(),!this.location.path().includes(t)&&-1!==["home","lab"].indexOf(t)&&"lab"===t&&(this.router.navigate([""]),setTimeout(()=>{this.router.navigate([t])},0))}static \u0275fac=function(i){return new(i||r)(e.rXU(l.qQ),e.rXU(zc),e.rXU(Bf.d),e.rXU(kr.TR),e.rXU(yp.h),e.rXU(Vi.c$),e.rXU(fO),e.rXU(e.gRc),e.rXU(l.aZ))};static \u0275cmp=e.VBU({type:r,selectors:[["app-root"]],viewQuery:function(i,n){if(1&i&&e.GBs(i$,5),2&i){let a;e.mGM(a=e.lsd())&&(n.fabmenu=a.first)}},decls:6,vars:4,consts:[["id","main-container",1,"container"],["mode","indeterminate","color","warn","style","position: absolute; top: 0px; left: 0px; right: 0px; z-index: 99999;",4,"ngIf"],[1,"header",3,"hidden"],[3,"ngClass"],["icon","menu","iconOpen","menu","class","fab-button","color","rgba(68,138,255, 1)",4,"ngIf"],["mode","indeterminate","color","warn",2,"position","absolute","top","0px","left","0px","right","0px","z-index","99999"],["icon","menu","iconOpen","menu","color","rgba(68,138,255, 1)",1,"fab-button"],["fabmenu",""],["color","rgba(68,138,255, 1)",3,"content","click","touchend"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,n$,1,0,"mat-progress-bar",1),e.nrm(2,"app-header",2),e.j41(3,"div",3),e.nrm(4,"router-outlet"),e.DNE(5,r$,8,9,"ngx-fab-button",4),e.k0s()()),2&i&&(e.R7$(1),e.Y8G("ngIf",n.isLoading),e.R7$(1),e.Y8G("hidden",n.isHidden()),e.R7$(1),e.Y8G("ngClass",n.getClass()),e.R7$(2),e.Y8G("ngIf",n.showDevNavigation()))},dependencies:[l.YU,l.bT,$F,d0,HZ,t$,xO,Vi.D9],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%!important;background-color:#fff}.work-void[_ngcontent-%COMP%]{height:100%;width:100%}.work-editor[_ngcontent-%COMP%]{background-color:#fff;height:calc(100% - 46px);min-width:800px}.work-home[_ngcontent-%COMP%]{background-color:#fff;height:100%;min-width:640px}.footer[_ngcontent-%COMP%]{height:20px;position:absolute;bottom:0}.fab-button[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:10px;color:#fff;background-color:#448aff00}"]})}return r})();const wu_DONE='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="m12 15-5-5h10Z"/></svg>',wu_ENTER='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="m9 18-6-6 6-6 1.4 1.4L6.8 11H19V7h2v6H6.8l3.6 3.6Z"/></svg>',wu_SHIFT='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="M10.8796773,2.4676627 C10.7983669,2.53542133 10.7233714,2.61041687 10.6556128,2.69172724 L2.79065437,12.1296773 C2.17191723,12.8721619 2.27223434,13.9756501 3.01471891,14.5943872 L3.15432027,14.6993778 C3.44275103,14.8945506 3.78413686,15 4.13504161,15 L6.999,15 L7,20.25 C7,21.2164983 7.78350169,22 8.75,22 L15.25,22 L15.3935272,21.9941988 C16.2928897,21.9211923 17,21.1681734 17,20.25 L16.999,15 L19.8649584,15 C20.8314567,15 21.6149584,14.2164983 21.6149584,13.25 C21.6149584,12.8406111 21.47143,12.4441786 21.2093456,12.1296773 L13.3443872,2.69172724 C12.7600244,1.99049181 11.7432755,1.8620539 11.0066223,2.37118457 L10.8796773,2.4676627 Z M12.1920553,3.65200384 L20.0570137,13.0899539 C20.0944543,13.1348827 20.1149584,13.1915159 20.1149584,13.25 C20.1149584,13.3880712 20.0030296,13.5 19.8649584,13.5 L16.25,13.5 C15.8357864,13.5 15.5,13.8357864 15.5,14.25 L15.5,20.25 C15.5,20.3880712 15.3880712,20.5 15.25,20.5 L8.75,20.5 C8.61192881,20.5 8.5,20.3880712 8.5,20.25 L8.5,14.25 C8.5,13.8357864 8.16421356,13.5 7.75,13.5 L4.13504161,13.5 C4.07655749,13.5 4.01992426,13.4794959 3.97499551,13.4420553 C3.86892629,13.3536643 3.85459527,13.1960231 3.94298629,13.0899539 L11.8079447,3.65200384 C11.8176245,3.64038807 11.8283381,3.62967442 11.8399539,3.61999462 C11.9460231,3.5316036 12.1036643,3.54593461 12.1920553,3.65200384 Z"></path></svg>',wu_BACKSPACE='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="M18.75,4 C20.4830315,4 21.8992459,5.35645477 21.9948552,7.06557609 L22,7.25 L22,16.75 C22,18.4830315 20.6435452,19.8992459 18.9344239,19.9948552 L18.75,20 L10.2488122,20 C9.48467584,20 8.74731983,19.7308489 8.16441163,19.243553 L8.00936186,19.1052839 L3.01367221,14.3552839 C1.71288481,13.1184697 1.66102433,11.0613371 2.89783857,9.76054971 L3.01367221,9.64471607 L8.00936186,4.89471607 C8.56313355,4.36817906 9.28295917,4.05514987 10.0411712,4.00663485 L10.2488122,4 L18.75,4 Z M18.75,5.5 L10.2488122,5.5 C9.85605678,5.5 9.47644043,5.63205173 9.16975262,5.87226779 L9.04295431,5.98177019 L4.04726465,10.7317702 L3.98489269,10.7941421 C3.3580909,11.4533647 3.34595643,12.473346 3.93064574,13.1462921 L4.04726465,13.2682298 L9.04295431,18.0182298 C9.32758521,18.2888625 9.69368599,18.4547433 10.0814672,18.4919848 L10.2488122,18.5 L18.75,18.5 C19.6681734,18.5 20.4211923,17.7928897 20.4941988,16.8935272 L20.5,16.75 L20.5,7.25 C20.5,6.3318266 19.7928897,5.57880766 18.8935272,5.5058012 L18.75,5.5 Z M11.4462117,8.39705176 L11.5303301,8.46966991 L14.000116,10.939 L16.4696699,8.46966991 C16.7625631,8.1767767 17.2374369,8.1767767 17.5303301,8.46966991 C17.7965966,8.73593648 17.8208027,9.15260016 17.6029482,9.44621165 L17.5303301,9.53033009 L15.061116,12 L17.5303301,14.4696699 C17.8232233,14.7625631 17.8232233,15.2374369 17.5303301,15.5303301 C17.2640635,15.7965966 16.8473998,15.8208027 16.5537883,15.6029482 L16.4696699,15.5303301 L14.000116,13.061 L11.5303301,15.5303301 C11.2374369,15.8232233 10.7625631,15.8232233 10.4696699,15.5303301 C10.2034034,15.2640635 10.1791973,14.8473998 10.3970518,14.5537883 L10.4696699,14.4696699 L12.939116,12 L10.4696699,9.53033009 C10.1767767,9.23743687 10.1767767,8.76256313 10.4696699,8.46966991 C10.7359365,8.20340335 11.1526002,8.1791973 11.4462117,8.39705176 Z"></path></svg>',l$={code:"en-GB",dir:"ltr",layouts:{text_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],text_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],text_numeric:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["{symbolic}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],text_symbolic:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","\u20ac","\xa3","\xa5","\u2022"],["{numeric}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],search_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],search_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],search_numeric:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["{symbolic}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],search_symbolic:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","\u20ac","\xa3","\xa5","\u2022"],["{numeric}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],email_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","@","{space}",".","{done}","{enter}"]],email_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","@","{space}",".","{done}","{enter}"]],email_numeric:[["1","2","3","4","5","6","7","8","9","0"],["$","!","~","&","=","#","[","]"],["{symbolic}",".","_","-","+","{backspace}"],["{alphabetic}","@","{space}",".","{done}","{enter}"]],email_symbolic:[["`","|","{","}","?","%","^","*","/","'"],["$","!","~","&","=","#","[","]"],["{numeric}",".","_","-","+","{backspace}"],["{alphabetic}","@","{space}",".","{done}","{enter}"]],url_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","/",".com",".","{done}","{enter}"]],url_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","/",".com",".","{done}","{enter}"]],url_numeric:[["1","2","3","4","5","6","7","8","9","0"],["@","&","%","?",",","=","[","]"],["{symbolic}","_",":","-","+","{backspace}"],["{alphabetic}","/",".com",".","{done}","{enter}"]],url_symbolic:[["1","2","3","4","5","6","7","8","9","0"],["*","$","#","!","'","^","[","]"],["{numeric}","~",";","(",")","{backspace}"],["{alphabetic}","/",".com",".","{done}","{enter}"]],numeric_default:[["1","2","3"],["4","5","6"],["7","8","9"],["0","{backspace}","{enter}"]],decimal_default:[["1","2","3","-"],["4","5","6","+"],["7","8","9","{backspace}"],["{done}","0",".","{enter}"]],tel_default:[["1","2","3","*"],["4","5","6","#"],["7","8","9","+"],["0","{backspace}","{enter}"]]},display:{"{enter}":wu_ENTER,"{done}":wu_DONE,"{shift}":wu_SHIFT,"{backspace}":wu_BACKSPACE,"{space}":" ","{alphabetic}":"ABC","{numeric}":"123","{symbolic}":"#+="}},pS={code:"en-US",dir:"ltr",layouts:{text_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],text_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],text_numeric:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["{symbolic}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],text_symbolic:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","\u20ac","\xa3","\xa5","\u2022"],["{numeric}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],search_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],search_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","{space}","{done}","{enter}"]],search_numeric:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["{symbolic}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],search_symbolic:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","\u20ac","\xa3","\xa5","\u2022"],["{numeric}",".",",","?","!","'","{backspace}"],["{alphabetic}","{space}","{done}","{enter}"]],email_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","@","{space}",".","{done}","{enter}"]],email_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","@","{space}",".","{done}","{enter}"]],email_numeric:[["1","2","3","4","5","6","7","8","9","0"],["$","!","~","&","=","#","[","]"],["{symbolic}",".","_","-","+","{backspace}"],["{alphabetic}","@","{space}",".","{done}","{enter}"]],email_symbolic:[["`","|","{","}","?","%","^","*","/","'"],["$","!","~","&","=","#","[","]"],["{numeric}",".","_","-","+","{backspace}"],["{alphabetic}","@","{space}",".","{done}","{enter}"]],url_alphabetic:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["{shift}","z","x","c","v","b","n","m","{backspace}"],["{numeric}","/",".com",".","{done}","{enter}"]],url_shift:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["{shift}","Z","X","C","V","B","N","M","{backspace}"],["{numeric}","/",".com",".","{done}","{enter}"]],url_numeric:[["1","2","3","4","5","6","7","8","9","0"],["@","&","%","?",",","=","[","]"],["{symbolic}","_",":","-","+","{backspace}"],["{alphabetic}","/",".com",".","{done}","{enter}"]],url_symbolic:[["1","2","3","4","5","6","7","8","9","0"],["*","$","#","!","'","^","[","]"],["{numeric}","~",";","(",")","{backspace}"],["{alphabetic}","/",".com",".","{done}","{enter}"]],numeric_default:[["1","2","3"],["4","5","6"],["7","8","9"],["0","{backspace}","{enter}"]],decimal_default:[["1","2","3","-"],["4","5","6","+"],["7","8","9","{backspace}"],["{done}","0",".","{enter}"]],tel_default:[["1","2","3","*"],["4","5","6","#"],["7","8","9","+"],["0","{backspace}","{enter}"]]},display:{"{enter}":wu_ENTER,"{done}":wu_DONE,"{shift}":wu_SHIFT,"{backspace}":wu_BACKSPACE,"{space}":" ","{alphabetic}":"ABC","{numeric}":"123","{symbolic}":"#+="}},h$={code:"fa-IR",dir:"rtl",layouts:{text_alphabetic:[["\u0636","\u0635","\u0642","\u0641","\u063a","\u0639","\u0647","\u062e","\u062d","\u062c","\u0686"],["\u0634","\u0633","\u06cc","\u0628","\u0644","\u0627","\u062a","\u0646","\u0645","\u06a9","\u06af"],["\u0638","\u0637","\u0698","\u0632","\u0631","\u0630","\u062f","\u067e","\u0648","\u062b","{backspace}"],["{numeric}","{space}","{done}"]],text_numeric:[["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"],["-","/",":","\u061b",")","(","$","@","\xbb","\xab"],["{symbolic}",".","\u060c","\u061f","!","\u066b","{backspace}"],["{alphabetic}","{space}","{done}"]],text_symbolic:[["]","[","}","{","#","%","^","*","+","="],["_","\\","|","~",">","<","&","\u2022","\u2018","\u201c"],["{numeric}",".","\u060c","\u061f","!","\u066c","{backspace}"],["{alphabetic}","{space}","{done}"]],search_alphabetic:[["\u0636","\u0635","\u0642","\u0641","\u063a","\u0639","\u0647","\u062e","\u062d","\u062c","\u0686"],["\u0634","\u0633","\u06cc","\u0628","\u0644","\u0627","\u062a","\u0646","\u0645","\u06a9","\u06af"],["\u0638","\u0637","\u0698","\u0632","\u0631","\u0630","\u062f","\u067e","\u0648","\u062b","{backspace}"],["{numeric}","{space}","{done}"]],search_numeric:[["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"],["-","/",":","\u061b",")","(","$","@","\xbb","\xab"],["{symbolic}",".","\u060c","\u061f","!","\u066b","{backspace}"],["{alphabetic}","{space}","{done}"]],search_symbolic:[["]","[","}","{","#","%","^","*","+","="],["_","\\","|","~",">","<","&","\u2022","\u2018","\u201c"],["{numeric}",".","\u060c","\u061f","!","\u066c","{backspace}"],["{alphabetic}","{space}","{done}"]],email_alphabetic:[["\u0636","\u0635","\u0642","\u0641","\u063a","\u0639","\u0647","\u062e","\u062d","\u062c","\u0686"],["\u0634","\u0633","\u06cc","\u0628","\u0644","\u0627","\u062a","\u0646","\u0645","\u06a9","\u06af"],["\u0638","\u0637","\u0698","\u0632","\u0631","\u0630","\u062f","\u067e","\u0648","\u062b","{backspace}"],["{numeric}","@","{space}",".","{done}"]],email_numeric:[["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"],["$","!","~","&","=","#","]","["],["{symbolic}",".","_","-","+","{backspace}"],["{alphabetic}","@","{space}",".","{done}"]],email_symbolic:[["`","|","{","}","?","%","^","*","/","'"],["$","!","~","&","=","#","]","["],["{numeric}",".","_","-","+","{backspace}"],["{alphabetic}","@","{space}",".","{done}"]],url_alphabetic:[["\u0636","\u0635","\u0642","\u0641","\u063a","\u0639","\u0647","\u062e","\u062d","\u062c","\u0686"],["\u0634","\u0633","\u06cc","\u0628","\u0644","\u0627","\u062a","\u0646","\u0645","\u06a9","\u06af"],["\u0638","\u0637","\u0698","\u0632","\u0631","\u0630","\u062f","\u067e","\u0648","\u062b","{backspace}"],["{numeric}","/",".com",".","{done}"]],url_numeric:[["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"],["@","&","%","?",",","=","]","["],["{symbolic}","_",":","-","+","{backspace}"],["{alphabetic}","/",".com",".","{done}"]],url_symbolic:[["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"],["*","$","#","!","'","^","]","["],["{numeric}","~",";",")","(","{backspace}"],["{alphabetic}","/",".com",".","{done}"]],numeric_default:[["\u06f1","\u06f2","\u06f3"],["\u06f4","\u06f5","\u06f6"],["\u06f7","\u06f8","\u06f9"],["\u06f0","{backspace}"]],decimal_default:[["\u06f1","\u06f2","\u06f3"],["\u06f4","\u06f5","\u06f6"],["\u06f7","\u06f8","\u06f9"],["\u066b","\u06f0","{backspace}"]],tel_default:[["\u06f1","\u06f2","\u06f3","*"],["\u06f4","\u06f5","\u06f6","#"],["\u06f7","\u06f8","\u06f9","+"],["\u06f0","{backspace}"]]},display:{"{done}":wu_DONE,"{backspace}":wu_BACKSPACE,"{space}":" ","{alphabetic}":"\u0627\u200c\u0628\u200c\u067e","{numeric}":"\u06f1\u06f2\u06f3","{symbolic}":"=+#"}};function p$(r,o){if(1&r&&(e.j41(0,"div",3)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.SpI(" ",t.current," ")}}const f$=function(r){return[r]};function g$(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"button",5),e.bIt("pointerdown",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return d.handleButtonClicked(s,n),e.Njj(d.handleButtonMouseDown(s,n))})("pointerup",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.handleButtonMouseUp(s,n))})("pointercancel",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.handleButtonMouseUp(s,n))}),e.k0s(),e.bVm()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(1),e.Y8G("name",t)("dir",i.locale.dir)("ngClass",e.eq3(5,f$,i.getButtonClass(t)))("innerHtml",i.getButtonDisplayName(t),e.npT),e.BMQ("data-layout",i.layoutName)}}function m$(r,o){if(1&r&&(e.qex(0),e.j41(1,"div",4),e.DNE(2,g$,2,7,"ng-container",2),e.k0s(),e.bVm()),2&r){const t=o.$implicit;e.R7$(2),e.Y8G("ngForOf",t)}}let v$=(()=>{class r{_sanitizer;_elementRef;_defaultLocale;locale=pS;layoutMode="text";layoutName="alphabetic";debug=!1;fullScreen=!1;closePanel=new e.bkB;_activeButtonClass="active";_caretPosition=null;_caretPositionEnd=null;_activeInputElement;constructor(t,i,n){this._sanitizer=t,this._elementRef=i,this._defaultLocale=n}handleKeyUp(t){t.isTrusted&&(this._caretEventHandler(t),this._handleHighlightKeyUp(t))}handleKeyDown(t){t.isTrusted&&this._handleHighlightKeyDown(t)}handleMouseUp(t){this._caretEventHandler(t)}handleSelect(t){this._caretEventHandler(t)}handleSelectionChange(t){this._caretEventHandler(t)}setLocale(t=this._defaultLocale){t=t.replace("-","").trim(),this.locale=Object.keys(N).includes(t)?N[t]:pS}detachActiveInput(){(this._activeInputElement instanceof HTMLInputElement||this._activeInputElement instanceof HTMLTextAreaElement)&&this._activeInputElement.blur()}setActiveInput(t){this._activeInputElement=t;const i=this._activeInputElement?.inputMode;this.layoutMode=i&&["text","search","email","url","numeric","decimal","tel"].some(n=>n===i)?i:"text",i&&["numeric","decimal","tel"].some(n=>n===i)?("number"===this._activeInputElement?.getAttribute("type")&&this._activeInputElement?.setAttribute("type","text"),this.layoutName="default"):this.layoutName="alphabetic",this.debug&&(console.log("Locale:",`${this.locale.code||this._defaultLocale}`),console.log("Layout:",`${this.layoutMode}_${this.layoutName}`)),this._setCaretPosition(this._activeInputElement.selectionStart,this._activeInputElement.selectionEnd),this.debug&&console.log("Caret start at:",this._caretPosition,this._caretPositionEnd),this._focusActiveInput()}isStandardButton=t=>t&&!("{"===t[0]&&"}"===t[t.length-1]);getButtonType(t){return this.isStandardButton(t)?"standard-key":"function-key"}getButtonClass(t){const i=this.getButtonType(t),n=t.replace("{","").replace("}","");let a="";return"standard-key"!==i&&(a=`${n}-key`),`${i} ${a}`}getButtonDisplayName(t){return this._sanitizer.bypassSecurityTrustHtml(this.locale.display[t]||t)}handleButtonClicked(t,i){if(this.debug&&console.log("Key pressed:",t),"{shift}"===t)return void(this.layoutName="alphabetic"===this.layoutName?"shift":"alphabetic");if("{done}"===t)return this.closePanel.emit(),void this.detachActiveInput();let n=[this._caretPosition||0,this._caretPositionEnd||0,!0],a=this._activeInputElement?.value||"";if(null===this._caretPosition&&null===this._caretPositionEnd&&(n[0]="decimal"===this._activeInputElement?.inputMode?a.length:0,n[1]="decimal"===this._activeInputElement?.inputMode?a.length:0),this.isStandardButton(t))a=this._addStringAt(a,t,...n);else if("{backspace}"===t)a.length>0&&(a=this._removeAt(a,...n));else if("{space}"===t)a=this._addStringAt(a," ",...n);else if("{tab}"===t)a=this._addStringAt(a,"\t",...n);else if("{enter}"!==t)return void(this.layoutName=t.substring(1,t.length-1));this._activeInputElement&&(this._activeInputElement.value=a,this.debug&&console.log("Caret at:",this._caretPosition,this._caretPositionEnd,"Button",i)),this._dispatchEvents(t),"{enter}"!==t||this.closePanel.emit()}handleButtonMouseDown(t,i){i&&(i.preventDefault(),i.stopPropagation()),this._setActiveButton(t)}handleButtonMouseUp(t,i){i&&(i.preventDefault(),i.stopPropagation()),this._removeActiveButton()}get current(){const t=this._activeInputElement?.getAttribute("type"),i=this._activeInputElement?.value||"";return"password"===t?"*".repeat(i.length):i}_setCaretPosition(t,i=t){this._caretPosition=t,this._caretPositionEnd=i}_updateCaretPos(t,i=!1){const n=this._updateCaretPosAction(t,i);this._setCaretPosition(n)}_updateCaretPosAction(t,i=!1){let n=this._caretPosition;return null!=n&&(i?n>0&&(n-=t):n+=t),n}_removeAt(t,i=t.length,n=t.length,a=!1){let s;if(0===i&&0===n&&(i=t.length,n=t.length),i===n){let d,m;const I=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;i&&i>=0?(d=t.substring(i-2,i),m=d.match(I),m?(s=t.substr(0,i-2)+t.substr(i),a&&this._updateCaretPos(2,!0)):(s=t.substr(0,i-1)+t.substr(i),a&&this._updateCaretPos(1,!0))):(d=t.slice(-2),m=d.match(I),m?(s=t.slice(0,-2),a&&this._updateCaretPos(2,!0)):(s=t.slice(0,-1),a&&this._updateCaretPos(1,!0)))}else s=t.slice(0,i)+t.slice(n),a&&this._setCaretPosition(i);return s}_addStringAt(t,i,n=t.length,a=t.length,s=!1){let d;return n||0===n?(d=[t.slice(0,n),i,t.slice(a)].join(""),s&&this._updateCaretPos(i.length,!1)):d=t+i,d}_dispatchEvents(t){let i,n;t.includes("{")&&t.includes("}")?(i=t.slice(1,t.length-1).toLowerCase(),i=i.charAt(0).toUpperCase()+i.slice(1),n=i):(i=t,n=Number.isInteger(Number(t))?`Digit${t}`:`Key${t.toUpperCase()}`);const a={bubbles:!0,cancelable:!0,shiftKey:"shift"==this.layoutName,key:i,code:n,location:0};this._activeInputElement?.dispatchEvent(new KeyboardEvent("keydown",a)),this._activeInputElement?.dispatchEvent(new KeyboardEvent("keypress",a)),this._activeInputElement?.dispatchEvent(new Event("input",{bubbles:!0})),this._activeInputElement?.dispatchEvent(new KeyboardEvent("keyup",a)),this._focusActiveInput()}_caretEventHandler(t){let i="";t.target.tagName&&(i=t.target.tagName.toLowerCase()),"textarea"===i||"input"===i&&["text","search","email","password","url","tel"].includes(t.target.type);const a=t.target===this._elementRef.nativeElement||t.target&&this._elementRef.nativeElement.contains(t.target);if(this._activeInputElement==t.target)this._setCaretPosition(t.target.selectionStart,t.target.selectionEnd),this.debug&&console.log("Caret at:",this._caretPosition,this._caretPositionEnd,t&&t.target.tagName.toLowerCase(),t);else{if("pointerup"===t.type&&this._activeInputElement===document.activeElement)return;!a&&"selectionchange"!==t?.type&&"select"!==t?.type&&(this._setCaretPosition(null),this.debug&&console.log(`Caret position reset due to "${t?.type}" event`,t),this.closePanel.emit())}}_focusActiveInput(){this._activeInputElement?.focus(),this._caretPosition&&this._caretPositionEnd&&this._activeInputElement?.setSelectionRange(this._caretPosition,this._caretPositionEnd)}_handleHighlightKeyDown(t){const i=this._getKeyboardLayoutKey(t);this._setActiveButton(i)}_handleHighlightKeyUp(t){const i=this._getKeyboardLayoutKey(t);this._removeActiveButton(i)}_getKeyboardLayoutKey(t){let i="";const n=t.code||t.key;return i=n?.includes("Space")||n?.includes("Numpad")||n?.includes("Backspace")||n?.includes("CapsLock")||n?.includes("Meta")?`{${t.code}}`||"":n?.includes("Control")||n?.includes("Shift")||n?.includes("Alt")?`{${t.key}}`||"":t.key||"",i.length>1?i?.toLowerCase():i}_setActiveButton(t){const i=this._elementRef.nativeElement.getElementsByTagName("button").namedItem(t);i&&i.classList&&i.classList.add(this._activeButtonClass)}_removeActiveButton(t){const i=this._elementRef.nativeElement.getElementsByTagName("button");if(t){const n=i.namedItem(t);n&&n.classList&&n.classList.remove(this._activeButtonClass)}else for(let n=0;n<i.length;n++)i[n].classList.remove(this._activeButtonClass)}static \u0275fac=function(i){return new(i||r)(e.rXU(D.up),e.rXU(e.aKT),e.rXU(e.xe9))};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-touch-keyboard"]],hostBindings:function(i,n){1&i&&e.bIt("keyup",function(s){return n.handleKeyUp(s)},!1,e.tSv)("keydown",function(s){return n.handleKeyDown(s)},!1,e.tSv)("pointerup",function(s){return n.handleMouseUp(s)},!1,e.tSv)("select",function(s){return n.handleSelect(s)},!1,e.tSv)("selectionchange",function(s){return n.handleSelectionChange(s)},!1,e.tSv)},outputs:{closePanel:"closePanel"},decls:3,vars:3,consts:[["dir","ltr",1,"touch-keyboard",3,"ngClass"],["class","content",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content"],[1,"touch-keyboard-row"],[1,"touch-keyboard-key",3,"name","dir","ngClass","innerHtml","pointerdown","pointerup","pointercancel"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,p$,3,1,"div",1),e.DNE(2,m$,3,1,"ng-container",2),e.k0s()),2&i&&(e.Y8G("ngClass","layout-"+n.layoutName),e.R7$(1),e.Y8G("ngIf",n.fullScreen),e.R7$(1),e.Y8G("ngForOf",n.locale.layouts[n.layoutMode+"_"+n.layoutName]))},dependencies:[l.YU,l.Sq,l.bT,Zf],styles:[":root{--tk-color-text: #27272a;--tk-background: rgba(238, 238, 238, .87);--tk-background-button: rgba(255, 255, 255, .96);--tk-background-button-fn: rgba(255, 255, 255, .5);--tk-background-button-active: rgba(0, 0, 0, .04)}.dark{--tk-color-text: #ffffff;--tk-background: rgba(33, 33, 33, .87);--tk-background-button: rgba(66, 66, 66, .96);--tk-background-button-fn: rgba(66, 66, 66, .5);--tk-background-button-active: rgba(255, 255, 255, .2)}ngx-touch-keyboard{z-index:999999;width:100%;padding:.25rem .25rem .375rem;border-radius:.375rem;touch-action:manipulation;-webkit-user-select:none;user-select:none;display:flex;justify-content:center;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:var(--tk-background);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.touch-keyboard{z-index:999999;flex:1 1 auto;max-width:840px}.touch-keyboard .content{margin:5px 5px 8px;text-align:center;display:block}.touch-keyboard .content span{padding:3px 5px;background-color:#ffffffb3}.touch-keyboard .touch-keyboard-row{display:flex;flex-direction:row}.touch-keyboard .touch-keyboard-row:not(:last-child){margin-bottom:.25rem}.touch-keyboard .touch-keyboard-key{z-index:999999;width:20px;box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;text-align:center;margin:0;line-height:32px;padding:.25rem;border-radius:.375rem;font-size:14px;font-weight:500;display:flex;flex-grow:1;align-items:center;justify-content:center;color:var(--tk-color-text);background-color:var(--tk-background-button);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.touch-keyboard .touch-keyboard-key>svg{fill:var(--tk-color-text)}.touch-keyboard .touch-keyboard-key.function-key:not(.space-key){background-color:var(--tk-background-button-fn)}.touch-keyboard .touch-keyboard-key.active{background-color:var(--tk-background-button-active)!important}.touch-keyboard .touch-keyboard-key.alphabetic-key,.touch-keyboard .touch-keyboard-key.numeric-key,.touch-keyboard .touch-keyboard-key.symbolic-key,.touch-keyboard .touch-keyboard-key.language-key,.touch-keyboard .touch-keyboard-key.done-key{max-width:4rem}.touch-keyboard .touch-keyboard-key.space-key{min-width:40%}.touch-keyboard .touch-keyboard-key[data-layout=numeric],.touch-keyboard .touch-keyboard-key[data-layout=decimal],.touch-keyboard .touch-keyboard-key[data-layout=tel]{width:33%;max-width:none}.touch-keyboard .touch-keyboard-key:not(:last-child){margin-right:.25rem}@media (min-width: 600px){.touch-keyboard .touch-keyboard-key.alphabetic-key,.touch-keyboard .touch-keyboard-key.numeric-key,.touch-keyboard .touch-keyboard-key.symbolic-key,.touch-keyboard .touch-keyboard-key.done-key{max-width:6rem}}\n"],encapsulation:2,changeDetection:0})}return r})(),DO=(()=>{class r{_overlay;_elementRef;_document;isOpen=!1;_locale;get ngxTouchKeyboard(){return this._locale}set ngxTouchKeyboard(t){this._locale=t}_debugMode;get ngxTouchKeyboardDebug(){return this._debugMode}set ngxTouchKeyboardDebug(t){this._debugMode=Tn(t)}_fullScreenMode;get ngxTouchKeyboardFullScreen(){return this._fullScreenMode}set ngxTouchKeyboardFullScreen(t){this._fullScreenMode=Tn(t)}_overlayRef;_panelRef;closePanelSubject=new An.B;closePanelObservable;constructor(t,i,n){this._overlay=t,this._elementRef=i,this._document=n,this.closePanelObservable=this.closePanelSubject.asObservable()}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose()}openPanel(t=null){if(t&&(this._elementRef=t,this._overlayRef=null),!this._overlayRef?.hasAttached())return this._overlayRef||this._createOverlay(),this._overlayRef.setDirection(this._document.body.getAttribute("dir")||this._document.dir||"ltr"),this._overlayRef.updatePositionStrategy(this._getPositionStrategy(this.ngxTouchKeyboardFullScreen)),this._overlayRef.updateSize(this._getOverlaySize(this.ngxTouchKeyboardFullScreen)),this._panelRef=this._overlayRef.attach(new Vd(v$)),this._panelRef.instance.debug=this.ngxTouchKeyboardDebug,this._panelRef.instance.fullScreen=this.ngxTouchKeyboardFullScreen,this._panelRef.instance.setLocale(this._locale),this._panelRef.instance.setActiveInput(this._elementRef.nativeElement),this.isOpen=!0,this._panelRef.instance.closePanel.subscribe(()=>this.closePanel()),this.closePanelObservable}closePanel(){this._overlayRef?.detach(),this.isOpen=!1,this.closePanelSubject.next(null)}togglePanel(){this.isOpen?this.closePanel():this.openPanel()}_createOverlay(){this._overlayRef=this._overlay.create({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.noop()})}_getPositionStrategy(t){return t?this._overlay.position().global().centerHorizontally().bottom("0"):this._overlay.position().flexibleConnectedTo(this._inputOrigin()).withLockedPosition(!0).withPush(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}_getOverlaySize(t){return t?{width:"100%",maxWidth:"100%",minWidth:"100%"}:{width:this._inputOrigin().getBoundingClientRect().width,maxWidth:this._inputOrigin().getBoundingClientRect().width,minWidth:"260px"}}_inputOrigin(){const t=this._elementRef.nativeElement;return t.classList.contains("mat-input-element")?t.parentNode?.parentNode:t.classList.contains("mat-mdc-input-element")?t.parentNode?.parentNode?.parentNode:t}static \u0275fac=function(i){return new(i||r)(e.rXU(jc),e.rXU(e.aKT),e.rXU(l.qQ))};static \u0275dir=e.FsC({type:r,selectors:[["input","ngxTouchKeyboard",""],["textarea","ngxTouchKeyboard",""]],inputs:{ngxTouchKeyboard:"ngxTouchKeyboard",ngxTouchKeyboardDebug:"ngxTouchKeyboardDebug",ngxTouchKeyboardFullScreen:"ngxTouchKeyboardFullScreen"},exportAs:["ngxTouchKeyboard"]})}return r})();const _$=["touchKeyboard"];function y$(r,o){1&r&&(e.j41(0,"mat-error",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI("",e.bMT(2,1,"msg.login-username-required")," "))}function b$(r,o){1&r&&(e.j41(0,"mat-error",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI("",e.bMT(2,1,"msg.login-password-required")," "))}function w$(r,o){if(1&r&&(e.j41(0,"div",16),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.messageError," ")}}function C$(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"mat-spinner",17),e.k0s())}let IO=(()=>{class r{authService;projectService;translateService;dialogRef;data;touchKeyboard;loading=!1;showPassword=!1;submitLoading=!1;messageError;username=new _i;password=new _i;errorEnabled=!1;disableCancel=!1;constructor(t,i,n,a,s){this.authService=t,this.projectService=i,this.translateService=n,this.dialogRef=a,this.data=s;const d=this.projectService.getHmi();this.disableCancel=d?.layout?.loginonstart&&d.layout?.loginoverlaycolor!==It.V0.none}onNoClick(){this.dialogRef.close()}onOkClick(){this.errorEnabled=!0,this.messageError="",this.signIn()}isValidate(){return!(!this.username.value||!this.password.value)}signIn(){this.submitLoading=!0,this.authService.signIn(this.username.value,this.password.value).subscribe(t=>{this.submitLoading=!1,this.dialogRef.close(!0),this.projectService.reload()},t=>{this.submitLoading=!1,this.translateService.get("msg.signin-failed").subscribe(i=>this.messageError=i)})}keyDownStopPropagation(t){t.stopPropagation()}onFocus(t){const i=this.projectService.getHmi();if(i?.layout?.inputdialog?.includes("keyboard")){"keyboardFullScreen"===i.layout.inputdialog&&(this.touchKeyboard.ngxTouchKeyboardFullScreen=!0),this.touchKeyboard.closePanel();const a=new e.aKT(t.target);this.touchKeyboard.openPanel(a)}}static \u0275fac=function(i){return new(i||r)(e.rXU(zg.u),e.rXU(kr.TR),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-login"]],viewQuery:function(i,n){if(1&i&&e.GBs(_$,5),2&i){let a;e.mGM(a=e.lsd())&&(n.touchKeyboard=a.first)}},decls:31,vars:26,consts:[[2,"width","250px","position","relative","padding-bottom","40px"],["mat-dialog-title","",2,"display","inline-block","margin-bottom","14px !important"],["mat-dialog-content",""],[1,"my-form-field",2,"display","block","margin-bottom","10px","margin-right","5px"],["cdkFocusInitial","","autocomplete","off",2,"width","100%",3,"type","formControl","focus"],["class","error",4,"ngIf"],["autocomplete","off",2,"width","100%",3,"type","formControl","keydown","focus"],["matSuffix","",1,"show-password",3,"click"],["class","message-error",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"disabled","mat-dialog-close"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"disabled","click"],["type","text","ngxTouchKeyboard","",2,"display","none",3,"focus"],["touchKeyboard","ngxTouchKeyboard"],[1,"error"],[1,"message-error"],["diameter","20",2,"margin","auto"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"form")(1,"div",0)(2,"h1",1),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",2)(6,"div",3)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",4),e.bIt("focus",function(d){return n.onFocus(d)}),e.k0s(),e.DNE(11,y$,3,3,"mat-error",5),e.k0s(),e.j41(12,"div",3)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",6),e.bIt("keydown",function(d){return n.keyDownStopPropagation(d)})("focus",function(d){return n.onFocus(d)}),e.k0s(),e.j41(17,"mat-icon",7),e.bIt("click",function(){return n.showPassword=!n.showPassword}),e.EFF(18),e.k0s(),e.DNE(19,b$,3,3,"mat-error",5),e.k0s()(),e.DNE(20,w$,2,1,"div",8),e.DNE(21,C$,2,0,"div",9),e.j41(22,"div",10)(23,"button",11),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"button",12),e.bIt("click",function(){return n.onOkClick()}),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()(),e.j41(29,"input",13,14),e.bIt("focus",function(){e.eBV(a);const d=e.sdS(30);return e.Njj(d.openPanel())}),e.k0s()}2&i&&(e.R7$(3),e.JRh(e.bMT(4,16,"dlg.login-title")),e.R7$(5),e.JRh(e.bMT(9,18,"general.username")),e.R7$(2),e.Y8G("type","text")("formControl",n.username),e.R7$(1),e.Y8G("ngIf",n.errorEnabled&&n.username.errors&&n.username.errors.required),e.R7$(3),e.JRh(e.bMT(15,20,"general.password")),e.R7$(2),e.Y8G("type",n.showPassword?"text":"password")("formControl",n.password),e.R7$(2),e.JRh(n.showPassword?"visibility":"visibility_off"),e.R7$(1),e.Y8G("ngIf",n.errorEnabled&&n.password.errors&&n.password.errors.required),e.R7$(1),e.Y8G("ngIf",n.messageError),e.R7$(1),e.Y8G("ngIf",n.submitLoading),e.R7$(2),e.Y8G("disabled",n.disableCancel),e.R7$(1),e.JRh(e.bMT(25,22,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",!n.isValidate()),e.R7$(1),e.JRh(e.bMT(28,24,"dlg.ok")))},dependencies:[l.bT,Fn,k,qe,Ke,Vt,ca,zn,nA,Or,eo,Rr,Kn,Eb,Yv,Id,DO,Vi.D9],styles:[".error[_ngcontent-%COMP%]{display:block;font-size:12px}.message-error[_ngcontent-%COMP%]{width:100%;color:red;padding-bottom:20px;font-size:13px}.show-password[_ngcontent-%COMP%]{bottom:2px;right:0;position:absolute}"]})}return r})(),ZA=(()=>{class r{authService;translateService;toastr;projectService;dialog;router;constructor(t,i,n,a,s,d){this.authService=t,this.translateService=i,this.toastr=n,this.projectService=a,this.dialog=s,this.router=d}canActivate(t,i){return!this.projectService.isSecurityEnabled()||this.authService.isAdmin()?(0,lr.of)(!0):this.projectService.checkServer().pipe((0,h.T)(a=>!!a?.secureEnabled)).pipe((0,Zs.n)(a=>a?this.dialog.open(IO).afterClosed().pipe((0,ga.Z)(d=>d&&this.authService.isAdmin()?(0,lr.of)(!0):(this.notifySaveError("msg.signin-unauthorized"),this.router.navigateByUrl("/"),(0,lr.of)(!1)))):(0,lr.of)(!0)))}notifySaveError(t){let i="";this.translateService.get(t).subscribe(n=>{i=n}),this.toastr.error(i,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}static \u0275fac=function(i){return new(i||r)(e.KVO(zg.u),e.KVO(Vi.c$),e.KVO(Gg.tw),e.KVO(kr.TR),e.KVO(Qo),e.KVO(zc))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();var E$=ie(1394);function B$(r,o){if(1&r&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function M$(r,o){if(1&r&&(e.j41(0,"div",6)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",21)(5,"mat-option",22),e.EFF(6),e.k0s(),e.DNE(7,B$,2,2,"mat-option",17),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,4,"dlg.userproperty-language")),e.R7$(3),e.Y8G("value",null==t.languages||null==t.languages.default?null:t.languages.default.id),e.R7$(1),e.JRh(null==t.languages||null==t.languages.default?null:t.languages.default.name),e.R7$(1),e.Y8G("ngForOf",null==t.languages?null:t.languages.options)}}function x$(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"dlg.userproperty-role")))}function D$(r,o){1&r&&e.DNE(0,x$,3,3,"ng-template")}function I$(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"dlg.userproperty-groups")))}function k$(r,o){if(1&r&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}let T$=(()=>{class r{dialogRef;fb;data;projectService;cdr;userService;settingsService;formGroup;selected=[];options=[];showPassword;views;userInfo;languages;seloptions;destroy$=new An.B;constructor(t,i,n,a,s,d,m){this.dialogRef=t,this.fb=i,this.data=n,this.projectService=a,this.cdr=s,this.userService=d,this.settingsService=m}ngOnInit(){this.views=this.projectService.getViews(),this.languages=this.projectService.getLanguages(),this.userInfo=new gx(this.data.user?.info),this.formGroup=this.fb.group({username:[this.data.user?.username,[j.required,this.isValidUserName()]],fullname:[this.data.user?.fullname],password:[],start:[this.userInfo.start],languageId:[this.userInfo.languageId]}),this.data.current?.username&&this.formGroup.get("username").disable(),this.formGroup.updateValueAndValidity()}ngAfterViewInit(){this.isRolePermission()?this.userService.getRoles().pipe((0,h.T)(t=>t.sort((i,n)=>i.index-n.index)),(0,jn.Q)(this.destroy$)).subscribe(t=>{this.options=t?.map(i=>({id:i.id,label:i.name})),this.selected=this.options.filter(i=>this.userInfo.roleIds?.includes(i.id))},t=>{console.error("get Roles err: "+t)}):(this.selected=Uc.yD.ValueToGroups(this.data.user.groups),this.options=Uc.yD.Groups),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onCancelClick(){this.dialogRef.close()}onOkClick(){let t;this.seloptions&&(this.isRolePermission()?t=this.seloptions.selected?.map(i=>i.id):this.data.user.groups=Uc.yD.GroupsToValue(this.seloptions.selected)),this.data.user.username=this.formGroup.controls.username.value,this.data.user.fullname=this.formGroup.controls.fullname.value||"",this.data.user.password=this.formGroup.controls.password.value,this.data.user.info=JSON.stringify({start:this.formGroup.controls.start.value||"",roles:t,languageId:this.formGroup.controls.languageId.value}),this.dialogRef.close(this.data.user)}isValidUserName(){return t=>t.value&&this.isValid(t.value)?null:{UserNameNotValid:!0}}isValid(t){return!!this.data.current?.username||!!t&&!this.data.users.find(i=>i===t&&i!==this.data.user?.username)}isAdmin(){return!(!this.data.user||"admin"!==this.data.user.username)}keyDownStopPropagation(t){t.stopPropagation()}isRolePermission(){return this.settingsService.getSettings()?.userRole}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Gr),e.rXU(kr.TR),e.rXU(e.gRc),e.rXU(Zg),e.rXU(yp.h))};static \u0275cmp=e.VBU({type:r,selectors:[["app-user-edit"]],viewQuery:function(i,n){if(1&i&&e.GBs(Xg,5),2&i){let a;e.mGM(a=e.lsd())&&(n.seloptions=a.first)}},decls:44,vars:32,consts:[[3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"force-lbk","pointer-move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block"],["formControlName","username","type","text",2,"width","125px"],[1,"my-form-field","block","mt10"],["formControlName","fullname","type","text",2,"width","250px"],["autocomplete","off","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022",2,"width","250px",3,"type","keydown"],["matSuffix","",1,"show-password",3,"click"],["class","my-form-field block mt10",4,"ngIf"],[4,"ngIf","ngIfElse"],["groups",""],[3,"selected","disabled","options"],["seloptions",""],[1,"my-form-field","block","mt10","mb5"],["formControlName","start",2,"width","250px"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["formControlName","languageId",2,"width","250px"],[3,"value"]],template:function(i,n){if(1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onCancelClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.k0s(),e.j41(17,"div",6)(18,"span"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"input",8),e.bIt("keydown",function(s){return n.keyDownStopPropagation(s)}),e.k0s(),e.j41(22,"mat-icon",9),e.bIt("click",function(){return n.showPassword=!n.showPassword}),e.EFF(23),e.k0s()(),e.DNE(24,M$,8,6,"div",10),e.j41(25,"div",6),e.DNE(26,D$,1,0,null,11),e.DNE(27,I$,3,3,"ng-template",null,12,e.C5r),e.nrm(29,"sel-options",13,14),e.k0s(),e.j41(31,"div",15)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"mat-select",16),e.DNE(36,k$,2,2,"mat-option",17),e.k0s()()(),e.j41(37,"div",18)(38,"button",19),e.bIt("click",function(){return n.onCancelClick()}),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"button",20),e.bIt("click",function(){return n.onOkClick()}),e.EFF(42),e.nI1(43,"translate"),e.k0s()()()),2&i){const a=e.sdS(28);e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,18,"dlg.userproperty-title")),e.R7$(7),e.JRh(e.bMT(10,20,"general.username")),e.R7$(5),e.JRh(e.bMT(15,22,"general.fullname")),e.R7$(5),e.JRh(e.bMT(20,24,"general.password")),e.R7$(2),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(2),e.JRh(n.showPassword?"visibility":"visibility_off"),e.R7$(1),e.Y8G("ngIf",n.languages),e.R7$(2),e.Y8G("ngIf",n.isRolePermission())("ngIfElse",a),e.R7$(3),e.Y8G("selected",n.selected)("disabled",n.isAdmin())("options",n.options),e.R7$(4),e.JRh(e.bMT(34,26,"dlg.userproperty-start")),e.R7$(3),e.Y8G("ngForOf",n.views),e.R7$(3),e.JRh(e.bMT(40,28,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(43,30,"dlg.ok"))}},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,Yv,yo,Wr,Xg,Vi.D9]})}return r})();class gx{start;roleIds;languageId;constructor(o){if(o){const t=JSON.parse(o);this.start=t.start,this.roleIds=t.roles,this.languageId=t.languageId}}}let D_=(()=>{class r{projectService;authService;localStorageItem="currentLanguage";languages;languageConfig;languageConfig$=new Ca.t(null);texts={};constructor(t,i){this.projectService=t,this.authService=i,this.projectService.onLoadHmi.subscribe(()=>{let n=this.getStorageLanguage();this.languages=this.projectService.getLanguages(),this.languageConfig={currentLanguage:n||this.languages?.default||{id:"EN",name:"English"},...this.languages};const a=this.authService.getUser(),s=new gx(a?.info).languageId;s&&(this.languageConfig.currentLanguage??=this.getLanguage(s)),this.setCurrentLanguage(this.languageConfig.currentLanguage),this.texts=this.projectService.getTexts().reduce((d,m)=>(d[m.name]=m,d),{})})}setCurrentLanguage(t){const i=this.authService.getUser()?.username||"";this.languageConfig.currentLanguage=t,this.languageConfig$.next(this.languageConfig),localStorage.setItem(`${this.localStorageItem}-${i}`,JSON.stringify(t))}getStorageLanguage(){const t=this.authService.getUser()?.username||"";return JSON.parse(localStorage.getItem(`${this.localStorageItem}-${t}`))}getTranslation(t){if(!t||!t.startsWith(E$.yq))return null;const i=this.texts[t.substring(1)];return i?i.translations[this.languageConfig.currentLanguage.id]?i.translations[this.languageConfig.currentLanguage.id]:i.value:null}getLanguage(t){return this.languages?.default?.id===t?this.languages.default:this.languages?.options?.find(i=>i.id===t)}static \u0275fac=function(i){return new(i||r)(e.KVO(kr.TR),e.KVO(zg.u))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function F$(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"sidenav.title")))}function S$(r,o){if(1&r&&e.nrm(0,"img",7),2&r){const t=e.XpG(2);e.FS9("src",t.logo,e.B4B)}}function Q$(r,o){if(1&r&&e.nrm(0,"img",19),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function R$(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function P$(r,o){if(1&r&&(e.j41(0,"mat-icon",20),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(1),e.SpI(" ",i.isExpanded(t)?"expand_less":"expand_more"," ")}}function O$(r,o){if(1&r&&(e.j41(0,"div",15),e.DNE(1,Q$,1,1,"img",16),e.DNE(2,R$,2,1,"mat-icon",17),e.DNE(3,P$,2,1,"mat-icon",18),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(1),e.Y8G("ngIf",null==t.children?null:t.children.length)}}function L$(r,o){if(1&r&&(e.j41(0,"mat-icon",20),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(1),e.SpI(" ",i.isExpanded(t)?"expand_less":"expand_more"," ")}}function Y$(r,o){if(1&r&&(e.j41(0,"div",21)(1,"span"),e.EFF(2),e.k0s(),e.DNE(3,L$,2,1,"mat-icon",18),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.text),e.R7$(1),e.Y8G("ngIf",null==t.children?null:t.children.length)}}function N$(r,o){if(1&r&&e.nrm(0,"img",19),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function j$(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function G$(r,o){if(1&r&&(e.j41(0,"mat-icon",20),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(1),e.SpI(" ",i.isExpanded(t)?"expand_less":"expand_more"," ")}}function U$(r,o){if(1&r&&(e.j41(0,"div",22),e.DNE(1,N$,1,1,"img",16),e.DNE(2,j$,2,1,"mat-icon",17),e.j41(3,"span"),e.EFF(4),e.k0s(),e.DNE(5,G$,2,1,"mat-icon",18),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.text),e.R7$(1),e.Y8G("ngIf",null==t.children?null:t.children.length)}}function z$(r,o){if(1&r&&e.nrm(0,"img",19),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function H$(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function V$(r,o){if(1&r&&(e.j41(0,"mat-icon",20),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(1),e.SpI(" ",i.isExpanded(t)?"expand_less":"expand_more"," ")}}function J$(r,o){if(1&r&&(e.j41(0,"div",23),e.DNE(1,z$,1,1,"img",16),e.DNE(2,H$,2,1,"mat-icon",17),e.j41(3,"span",24),e.EFF(4),e.k0s(),e.DNE(5,V$,2,1,"mat-icon",18),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.text),e.R7$(1),e.Y8G("ngIf",null==t.children?null:t.children.length)}}function W$(r,o){if(1&r&&e.nrm(0,"img",19),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function K$(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function X$(r,o){if(1&r&&(e.j41(0,"div",15),e.DNE(1,W$,1,1,"img",16),e.DNE(2,K$,2,1,"mat-icon",17),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon)}}function Z$(r,o){if(1&r&&(e.j41(0,"div",21)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.text)}}function $$(r,o){if(1&r&&e.nrm(0,"img",19),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function q$(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function eq(r,o){if(1&r&&(e.j41(0,"div",22),e.DNE(1,$$,1,1,"img",16),e.DNE(2,q$,2,1,"mat-icon",17),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.text)}}function tq(r,o){if(1&r&&e.nrm(0,"img",19),2&r){const t=e.XpG(2).$implicit;e.FS9("src",t.image,e.B4B)}}function iq(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function nq(r,o){if(1&r&&(e.j41(0,"div",23),e.DNE(1,tq,1,1,"img",16),e.DNE(2,iq,2,1,"mat-icon",17),e.j41(3,"span",24),e.EFF(4),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.image),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.text)}}function rq(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-list-item",8)(1,"button",9),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.onGoTo(a))}),e.DNE(2,X$,3,2,"div",10),e.DNE(3,Z$,3,1,"div",11),e.DNE(4,eq,5,3,"div",12),e.DNE(5,nq,5,3,"div",13),e.k0s()()}if(2&r){const t=e.XpG(4);e.xc7("color",t.layoutNavigation.fgcolor),e.Y8G("ngClass","menu-item-"+t.layout.navigation.type),e.R7$(1),e.Y8G("ngSwitch",t.layout.navigation.type),e.R7$(1),e.Y8G("ngSwitchCase","icon"),e.R7$(1),e.Y8G("ngSwitchCase","text"),e.R7$(1),e.Y8G("ngSwitchCase","block"),e.R7$(1),e.Y8G("ngSwitchCase","inline")}}function oq(r,o){if(1&r&&(e.j41(0,"mat-list",25),e.DNE(1,rq,6,8,"mat-list-item",26),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.children)}}function aq(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"mat-list-item",8)(2,"button",9),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(null!=a.children&&a.children.length?s.toggleSubMenu(a):s.onGoTo(a))}),e.DNE(3,O$,4,3,"div",10),e.DNE(4,Y$,4,2,"div",11),e.DNE(5,U$,6,4,"div",12),e.DNE(6,J$,6,4,"div",13),e.k0s()(),e.DNE(7,oq,2,1,"mat-list",14),e.bVm()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(1),e.xc7("color",i.layoutNavigation.fgcolor),e.Y8G("ngClass","menu-item-"+i.layout.navigation.type),e.R7$(1),e.Y8G("ngSwitch",i.layout.navigation.type),e.R7$(1),e.Y8G("ngSwitchCase","icon"),e.R7$(1),e.Y8G("ngSwitchCase","text"),e.R7$(1),e.Y8G("ngSwitchCase","block"),e.R7$(1),e.Y8G("ngSwitchCase","inline"),e.R7$(1),e.Y8G("ngIf",(null==t.children?null:t.children.length)&&i.isExpanded(t))}}function sq(r,o){if(1&r&&(e.j41(0,"div",1)(1,"mat-list",2)(2,"mat-list-item",3),e.DNE(3,F$,3,3,"span",4),e.DNE(4,S$,1,1,"ng-template",null,5,e.C5r),e.k0s(),e.DNE(6,aq,8,9,"ng-container",6),e.k0s()()),2&r){const t=e.sdS(5),i=e.XpG();e.xc7("background-color",i.layoutNavigation.bkcolor)("color",i.layoutNavigation.fgcolor),e.Y8G("ngClass","sidenav-menu-"+i.layout.navigation.type),e.R7$(2),e.xc7("color",i.layoutNavigation.fgcolor),e.R7$(1),e.Y8G("ngIf",!i.logo)("ngIfElse",t),e.R7$(3),e.Y8G("ngForOf",i.layout.navigation.items)}}let lq=(()=>{class r{location;router;projectService;languageService;changeDetector;sidenav;goToPage=new e.bkB;goToLink=new e.bkB;viewAsLink=It.J.address;viewAsAlarms=It.J.alarms;logo=null;layout=null;showSidenav=!1;layoutNavigation=new It.oI;expandedItems=new Set;constructor(t,i,n,a,s){this.location=t,this.router=i,this.projectService=n,this.languageService=a,this.changeDetector=s}ngAfterContentChecked(){this.showSidenav=!!this.layout,this.changeDetector.detectChanges()}onGoTo(t){if(this.location.path().startsWith("/home/")){const i=this.projectService.getViewFromId(t.view);i&&this.router.navigate(["/home",i.name])}t.link&&t.view===this.viewAsLink?this.goToLink.emit(t.link):t.view&&this.goToPage.emit(t.view)}toggleSubMenu(t){t.id&&t.children?.length&&(this.expandedItems.has(t.id)?this.expandedItems.delete(t.id):this.expandedItems.add(t.id),this.changeDetector.detectChanges())}isExpanded(t){return!!t.id&&this.expandedItems.has(t.id)}setLayout(t){this.layout=ii.Aq.clone(t),this.layout.navigation&&(this.layoutNavigation=this.layout.navigation,this.logo=this.layout.navigation.logo,this.layout.navigation.items?.forEach(i=>{i.text=this.languageService.getTranslation(i.text)??i.text,i.id||(i.id=ii.Aq.getRandomId()),i.children?.forEach(n=>{n.text=this.languageService.getTranslation(n.text)??n.text,n.id||(n.id=ii.Aq.getRandomId())})}))}static \u0275fac=function(i){return new(i||r)(e.rXU(l.aZ),e.rXU(zc),e.rXU(kr.TR),e.rXU(D_),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:r,selectors:[["app-sidenav"]],inputs:{sidenav:"sidenav"},outputs:{goToPage:"goToPage",goToLink:"goToLink"},decls:1,vars:1,consts:[["class","sidenav-menu","style","height: 100%",3,"ngClass","background-color","color",4,"ngIf"],[1,"sidenav-menu",2,"height","100%",3,"ngClass"],[2,"background-color","inherit"],[2,"display","flex","justify-content","center","height","35px","font-weight","bold","padding-bottom","10px","margin-bottom","10px","width","unset"],[4,"ngIf","ngIfElse"],["hasLogo",""],[4,"ngFor","ngForOf"],[2,"max-width","100%","max-height","100%",3,"src"],[2,"width","unset",3,"ngClass"],["type","button","mat-button","",1,"sidenav-btn",3,"ngSwitch","click"],["class","menu-item-content-icon",4,"ngSwitchCase"],["class","menu-item-content-text",4,"ngSwitchCase"],["class","menu-item-content-block",4,"ngSwitchCase"],["class","menu-item-content-inline",4,"ngSwitchCase"],["class","submenu","style","padding-left: 20px;",4,"ngIf"],[1,"menu-item-content-icon"],[3,"src",4,"ngIf"],[4,"ngIf"],["class","submenu-icon",4,"ngIf"],[3,"src"],[1,"submenu-icon"],[1,"menu-item-content-text"],[1,"menu-item-content-block"],[1,"menu-item-content-inline"],[2,"display","inline-block"],[1,"submenu",2,"padding-left","20px"],["style","width: unset",3,"ngClass","color",4,"ngFor","ngForOf"]],template:function(i,n){1&i&&e.DNE(0,sq,7,10,"div",0),2&i&&e.Y8G("ngIf",n.showSidenav)},dependencies:[l.YU,l.Sq,l.bT,l.ux,l.e1,zn,Kn,Tg,Fg,Vi.D9]})}return r})();var Ep=function(r){return r.realtime1="realtime1",r.history="history",r.custom="custom",r}(Ep||{}),I_=function(r){return r.last8h="chart.rangetype-last8h",r.last1d="chart.rangetype-last1d",r.last3d="chart.rangetype-last3d",r.last1w="chart.rangetype-last1w",r}(I_||{}),$g=function(r){return r.always="chart.legend-always",r.follow="chart.legend-follow",r.bottom="chart.legend-bottom",r.never="chart.legend-never",r}($g||{});class kO{static ChartRangeToHours(o){let t=Object.keys(I_);return o===t[0]?8:o===t[1]?24:o===t[2]?72:o===t[3]?168:0}}class qg extends Io{static TypeTag="svg-ext-value";static LabelTag="Value";static actionsType={hide:It.vo.hide,show:It.vo.show,blink:It.vo.blink};constructor(){super()}static getSignals(o){let t=[];return o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),o.ranges&&o.ranges.forEach(i=>{i.textId&&t.push(i.textId),i.fractionDigitsId&&t.push(i.fractionDigitsId)}),o.variableId&&t.push(o.variableId),t}static getDialogType(){return Ho.ValueAndUnit}static getActions(o){return this.actionsType}static processValue(o,t,i,n){try{if(t.node&&t.node.children&&t.node.children.length<=1){let a=t.node.children[0],s=parseFloat(i.value);switch(typeof i.value){case"undefined":default:break;case"boolean":s=Number(i.value);break;case"number":s=parseFloat(s.toFixed(5));break;case"string":s=i.value}if(o.property){let d=Io.getUnit(o.property,n),m=Io.getDigits(o.property,n);if(!ii.Aq.isNullOrUndefined(m)&&ii.Aq.isNumeric(s)&&(s=parseFloat(i.value).toFixed(m)),o.property.variableId===i.id)try{a.textContent=s,d&&(a.textContent+=" "+d)}catch(I){console.error(o,i,I)}o.property.actions&&o.property.actions.forEach(I=>{I.variableId===i.id&&qg.processAction(I,t,parseFloat(s),n)})}}}catch(a){console.error(a)}}static processAction(o,t,i,n){if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=i&&o.range.max>=i){let a=SVG.adopt(t.node);this.runActionHide(a,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.show){if(o.range.min<=i&&o.range.max>=i){let a=SVG.adopt(t.node);this.runActionShow(a,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.blink){let a=SVG.adopt(t.node.children[0]);this.checkActionBlink(a,o,n,o.range.min<=i&&o.range.max>=i,!1)}}static \u0275fac=function(t){return new(t||qg)};static \u0275cmp=e.VBU({type:qg,selectors:[["gauge-value"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}const cq=["graph"];let Aq=(()=>{class r{id;options;graph;lineInterpolations={linear:0,stepAfter:1,stepBefore:2,spline:3};rawData=!1;overlay;uplot;data;get xSample(){return this.rawData?[2,7]:[(new Date).getTime()/1e3-1,(new Date).getTime()/1e3]}sampleData=[this.xSample,[35,71]];getShortTimeFormat(t=!0){return this.options&&"hh_mm_ss_AA"===this.options.timeFormat?t?"{h}:{mm} {AA}":"{h} {AA}":t?"{HH}:{mm}":"{HH}"}xTimeFormat={hh_mm_ss:"{HH}:{mm}:{ss}",hh_mm_ss_AA:"{h}:{mm}:{ss} {AA}"};xDateFormat={};checkDateFormat(){this.xDateFormat={YYYY_MM_DD:{legendDate:"{YYYY}/{MM}/{DD}",values:[[31536e3,"{YYYY}",null,null,null,null,null,null,1],[2419200,"{MMM}","\n{YYYY}",null,null,null,null,null,1],[86400,"{DD}/{MM}","\n{YYYY}",null,null,null,null,null,1],[3600,""+this.getShortTimeFormat(!1),"\n{YYYY}/{MM}/{DD}",null,"\n{DD}/{MM}",null,null,null,1],[60,""+this.getShortTimeFormat(),"\n{YYYY}/{MM}/{DD}",null,"\n{DD}/{MM}",null,null,null,1],[1,"{mm}:{ss}","\n{YYYY}/{MM}/{DD} "+this.getShortTimeFormat(),null,"\n{DD}/{MM} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1],[.001,":{ss}.{fff}","\n{YYYY}/{MM}/{DD} "+this.getShortTimeFormat(),null,"\n{DD}/{MM} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1]]},MM_DD_YYYY:{legendDate:"{MM}/{DD}/{YYYY}",values:[[31536e3,"{YYYY}",null,null,null,null,null,null,1],[2419200,"{MMM}","\n{YYYY}",null,null,null,null,null,1],[86400,"{MM}/{DD}","\n{YYYY}",null,null,null,null,null,1],[3600,""+this.getShortTimeFormat(!1),"\n{MM}/{DD}/{YYYY}",null,"\n{MM}/{DD}",null,null,null,1],[60,""+this.getShortTimeFormat(),"\n{MM}/{DD}/{YYYY}",null,"\n{MM}/{DD}",null,null,null,1],[1,"{mm}:{ss}","\n{MM}/{DD}/{YYYY} "+this.getShortTimeFormat(),null,"\n{MM}/{DD} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1],[.001,":{ss}.{fff}","\n{MM}/{DD}/{YYYY} "+this.getShortTimeFormat(),null,"\n{MM}/{DD} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1]]},DD_MM_YYYY:{legendDate:"{DD}/{MM}/{YYYY}",values:[[31536e3,"{YYYY}",null,null,null,null,null,null,1],[2419200,"{MMM}","\n{YYYY}",null,null,null,null,null,1],[86400,"{DD}/{MM}","\n{YYYY}",null,null,null,null,null,1],[3600,""+this.getShortTimeFormat(!1),"\n{DD}/{MM}/{YYYY}",null,"\n{DD}/{MM}",null,null,null,1],[60,""+this.getShortTimeFormat(),"\n{DD}/{MM}/{YYYY}",null,"\n{DD}/{MM}",null,null,null,1],[1,"{mm}:{ss}","\n{DD}/{MM}/{YYYY} "+this.getShortTimeFormat(),null,"\n{DD}/{MM} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1],[.001,":{ss}.{fff}","\n{DD}/{MM}/{YYYY} "+this.getShortTimeFormat(),null,"\n{DD}/{MM} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1]]},MM_DD_YY:{legendDate:"{MM}/{DD}/{YY}",values:[[31536e3,"{YYYY}",null,null,null,null,null,null,1],[2419200,"{MMM}","\n{YYYY}",null,null,null,null,null,1],[86400,"{MM}/{DD}","\n{YYYY}",null,null,null,null,null,1],[3600,""+this.getShortTimeFormat(!1),"\n{MM}/{DD}/{YY}",null,"\n{MM}/{DD}",null,null,null,1],[60,""+this.getShortTimeFormat(),"\n{MM}/{DD}/{YY}",null,"\n{MM}/{DD}",null,null,null,1],[1,"{mm}:{ss}","\n{MM}/{DD}/{YY} "+this.getShortTimeFormat(),null,"\n{MM}/{DD} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1],[.001,":{ss}.{fff}","\n{MM}/{DD}/{YY} "+this.getShortTimeFormat(),null,"\n{MM}/{DD} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1]]},DD_MM_YY:{legendDate:"{DD}/{MM}/{YY}",values:[[31536e3,"{YYYY}",null,null,null,null,null,null,1],[2419200,"{MMM}","\n{YYYY}",null,null,null,null,null,1],[86400,"{DD}/{MM}","\n{YYYY}",null,null,null,null,null,1],[3600,""+this.getShortTimeFormat(!1),"\n{DD}/{MM}/{YY}",null,"\n{DD}/{MM}",null,null,null,1],[60,""+this.getShortTimeFormat(),"\n{DD}/{MM}/{YY}",null,"\n{DD}/{MM}",null,null,null,1],[1,"{mm}:{ss}","\n{DD}/{MM}/{YY} "+this.getShortTimeFormat(),null,"\n{DD}/{MM} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1],[.001,":{ss}.{fff}","\n{DD}/{MM}/{YY} "+this.getShortTimeFormat(),null,"\n{DD}/{MM} "+this.getShortTimeFormat(),null,"\n"+this.getShortTimeFormat(),null,1]]}}}fmtDate=uPlot.fmtDate("{DD}/{MM}/{YY} {HH}:{mm}:{ss}");sampleSerie=[{value:(t,i)=>this.fmtDate(new Date(1e3*i))},{show:!0,spanGaps:!1,label:"Serie",value:(t,i)=>i?.toFixed(this.options.decimalsPrecision),stroke:"red",width:1,fill:"rgba(255, 0, 0, 0.3)",dash:[10,5]}];defOptions={title:"Default Chart",id:"defchart",class:"my-chart",width:800,height:600,legend:{show:!0,width:1},scales:{x:{time:!0}},series:this.sampleSerie,cursor:{dataIdx:(t,i,n,a)=>this._proximityIndex(t,i,n,a)}};languageLabels={time:"Time",serie:"Serie",title:"Title"};constructor(){}ngOnInit(){this.options=this.defOptions,this.uplot=new uPlot(this.defOptions,this.sampleData,this.graph.nativeElement)}ngOnDestroy(){try{this.uplot.destroy(),this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}catch(t){console.error(t)}}resize(t,i){let n=this.graph.nativeElement;t||(t=n.clientHeight),i||(i=n.clientWidth),this.uplot.setSize({height:t,width:i})}init(t,i){this.data=[[]],this.rawData=i,ii.Aq.isNullOrUndefined(t?.rawData)||(this.rawData=t.rawData),t&&(this.options=t,t.id?this.data=[this.xSample]:(this.data=this.sampleData,this.options.series=this.sampleSerie));let n=this.options||this.defOptions;n.cursor=this.defOptions.cursor,this.uplot&&this.uplot.destroy(),this.checkDateFormat(),this.options.dateFormat&&this.xDateFormat[this.options.dateFormat]&&this.options.timeFormat&&this.xTimeFormat[this.options.timeFormat]&&(this.fmtDate=uPlot.fmtDate(this.xDateFormat[this.options.dateFormat].legendDate+" "+this.xTimeFormat[this.options.timeFormat]),this.options.axes[0].values=this.rawData?(a,s)=>s:this.xDateFormat[this.options.dateFormat].values),this.sampleSerie[1].label=this.languageLabels.serie,this.options.series.length>0&&(this.options.series[0].value=(a,s)=>this.rawData?s:this.fmtDate(new Date(1e3*s)),this.options.series[0].label=this.languageLabels.time),this.options.axes.length>0&&(this.options.axes[0].label?this.options.series[0].label=this.options.axes[0].label:this.options.axes[0].label=this.languageLabels.time),this.options.title||(this.options.title=this.languageLabels.title),this.options.scales={1:{range:[ii.Aq.isNumeric(t.scaleY1min)?t.scaleY1min:null,ii.Aq.isNumeric(t.scaleY1max)?t.scaleY1max:null]},2:{range:[ii.Aq.isNumeric(t.scaleY2min)?t.scaleY2min:null,ii.Aq.isNumeric(t.scaleY2max)?t.scaleY2max:null]},3:{range:[ii.Aq.isNumeric(t.scaleY3min)?t.scaleY3min:null,ii.Aq.isNumeric(t.scaleY3max)?t.scaleY3max:null]},4:{range:[ii.Aq.isNumeric(t.scaleY4min)?t.scaleY4min:null,ii.Aq.isNumeric(t.scaleY4max)?t.scaleY4max:null]}},n.plugins=this.options.tooltip&&this.options.tooltip.show?[this.tooltipPlugin()]:[],this.options.thouchZoom&&n.plugins.push(this.touchZoomPlugin(n)),this.uplot=new uPlot(n,this.data,this.graph.nativeElement)}setOptions(t){this.options=t,this.init(this.options,this.rawData)}addSerie(t,i){this.data.push([null,null]),i.lineInterpolation===this.lineInterpolations.stepAfter?i.paths=uPlot.paths.stepped({align:1}):i.lineInterpolation===this.lineInterpolations.stepBefore?i.paths=uPlot.paths.stepped({align:-1}):i.lineInterpolation===this.lineInterpolations.spline&&(i.paths=uPlot.paths.spline()),this.uplot.addSeries(i,t),this.uplot.setData(this.data)}setSample(){let t=[this.xSample];for(let i=0;i<this.uplot.series.length;i++)t.push([Math.floor(20*Math.random()),Math.floor(30*Math.random())]);this.setData(t)}setData(t=[[]]){this.data=t,this.uplot.setData(this.data)}addData(t=[[]]){for(var i=0;i<t.length;i++)this.data[i]=this.data[i].concat(t[i]);this.uplot.setData(this.data)}setXScala(t,i){this.uplot.setScale("x",{min:t,max:i})}addValue(t,i,n,a){let s=this.data[0].indexOf(i);if(s<0){this.data[0].push(i);for(let m=0;m<this.data.length;m++)m===t?this.data[m].push(n):m&&this.data[m].push(null)}else this.data[t][s]=n;let d=i-a;for(;this.data[0][0]<d;)for(let m=0;m<this.data.length;m++)this.data[m].shift();this.uplot.setData(this.data)}redraw(t=!1){this.uplot.redraw(t)}checkAxisOptions(){}tooltipPlugin(t=null){let i,n,a,s;this.overlay=document.createElement("div");let m=this.overlay;return m.id="overlay",m.style.display="none",m.style.position="absolute",document.body.appendChild(m),{hooks:{init:I=>{i=I.root.querySelector(".u-over"),n=i,i.onmouseenter=()=>{m.style.display="block"},i.onmouseleave=()=>{m.style.display="none"}},setSize:I=>{!function d(){let I=i.getBoundingClientRect();a=I.left,s=I.top}()},setCursor:I=>{const{left:J,top:oe,idx:Ce}=I.cursor,$e=I.data[0][Ce],nt={left:J+a,top:oe+s},Tt=this.fmtDate(new Date(1e3*$e)),Zt=`<div class="ut-head">${I.series[0].label}: ${this.rawData?$e:Tt}</div>`;let ci="";for(let Oi=1;Oi<I.series.length;Oi++){let Ui="";try{var xi=this._proximityIndex(I,Oi,Ce,$e);isNaN(I.data[Oi][xi])||(Ui=I.data[Oi][xi])}catch{}ci+=`<div class="ut-serie"><div class="ut-marker" style="border-color: ${I.series[Oi]._stroke}"></div>${I.series[Oi].label}: <div class="ut-value">${Ui}</div></div>`}m.innerHTML=Zt+ci,placement(m,nt,"right","start",{bound:n})}}}}getColorForValue(t,i){const n=t.sort((a,s)=>a.min-s.min);for(let a=0;a<n.length;a++){const s=n[a];if(i>=s.min&&i<=s.max)return s.stroke}return"red"}scaleGradient(t,i,n,a,s=!1){let m,I,d=t.scales[i];for(let Hi=0;Hi<a.length;Hi++){let gn=a[Hi][0];if((gn<=d.min||null==m)&&(m=Hi),I=Hi,gn>=d.max)break}if(m==I)return a[m][1];let J=a[m][0],oe=a[I][0];J==-1/0&&(J=d.min),oe==1/0&&(oe=d.max);let Tt,Zt,ci,xi,Ce=t.valToPos(J,i,!0),$e=t.valToPos(oe,i,!0),nt=Ce-$e;if(1==n?(Tt=ci=0,Zt=Ce,xi=$e):(Zt=xi=0,Tt=Ce,ci=$e),Number.isNaN(Zt)||Number.isNaN(xi))return null;let Ui,Oi=this.uplot.ctx.createLinearGradient(Tt,Zt,ci,xi);for(let Hi=m;Hi<=I;Hi++){let gn=a[Hi],Jn=(Ce-(Hi==m?Ce:Hi==I?$e:t.valToPos(gn[0],i,!0)))/nt;s&&Hi>m&&Oi.addColorStop(Jn,Ui),Oi.addColorStop(Jn,Ui=gn[1])}return Oi}_proximityIndex(t,i,n,a){let d=t.data[i];if(null==d[n]){let J,m=null,I=null;for(J=n;null==m&&J-- >0;)null!=d[J]&&(m=J);for(J=n;null==I&&J++<d.length;)null!=d[J]&&(I=J);let oe=t.data[0],Ce=t.valToPos(a,"x"),$e=null==I?1/0:t.valToPos(oe[I],"x"),Tt=Ce-(null==m?-1/0:t.valToPos(oe[m],"x")),Zt=$e-Ce;Tt<=Zt?Tt<=30&&(n=m):Zt<=30&&(n=I)}return n}touchZoomPlugin(t){return{hooks:{init:function i(n,a,s){let m,I,J,oe,Ce,d=n.over,$e={x:0,y:0,dx:0,dy:0},nt={x:0,y:0,dx:0,dy:0};function Tt(Oi,Ui){let Hi=Ui.touches,gn=Hi[0],pn=gn.clientX-m.left,Jn=gn.clientY-m.top;if(1==Hi.length)Oi.x=pn,Oi.y=Jn,Oi.d=Oi.dx=Oi.dy=1;else{let tr=Ui.touches[1],pr=tr.clientX-m.left,ho=tr.clientY-m.top,io=Math.min(pn,pr),sa=Math.min(Jn,ho),Rs=Math.max(pn,pr),ko=Math.max(Jn,ho);Oi.y=(sa+ko)/2,Oi.x=(io+Rs)/2,Oi.dx=Rs-io,Oi.dy=ko-sa,Oi.d=Math.sqrt(Oi.dx*Oi.dx+Oi.dy*Oi.dy)}}let Zt=!1;function ci(){Zt=!1;let tr=I*($e.dx/nt.dx),pr=oe-nt.x/m.width*tr,ho=pr+tr,io=J*($e.dy/nt.dy),sa=Ce-(1-nt.y/m.height)*io,Rs=sa+io;n.batch(()=>{n.setScale("x",{min:pr,max:ho}),n.setScale("y",{min:sa,max:Rs})})}function xi(Oi){Tt(nt,Oi),Zt||(Zt=!0,requestAnimationFrame(ci))}d.addEventListener("touchstart",function(Oi){m=d.getBoundingClientRect(),Tt($e,Oi),I=n.scales.x.max-n.scales.x.min,J=n.scales.y.max-n.scales.y.min;let Hi=$e.y;oe=n.posToVal($e.x,"x"),Ce=n.posToVal(Hi,"y"),document.addEventListener("touchmove",xi,{passive:!0})}),d.addEventListener("touchend",function(Oi){document.removeEventListener("touchmove",xi,{})})}}}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-uplot"]],viewQuery:function(i,n){if(1&i&&e.GBs(cq,7),2&i){let a;e.mGM(a=e.lsd())&&(n.graph=a.first)}},inputs:{id:"id",options:"options"},decls:2,vars:0,consts:[["graph",""]],template:function(i,n){1&i&&e.nrm(0,"div",null,0)}})}return r})();const dq=["dtrange"];let TO=(()=>{class r{dialogRef;dtrange;options={};constructor(t){this.dialogRef=t}onOkClick(){let t={start:this.dtrange.startDate.toDate().getTime(),end:this.dtrange.endDate.toDate().getTime()};this.dialogRef.close(t)}onNoClick(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(yr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-daterange-dialog"]],viewQuery:function(i,n){if(1&i&&e.GBs(dq,5),2&i){let a;e.mGM(a=e.lsd())&&(n.dtrange=a.first)}},decls:10,vars:8,consts:[[1,"container"],[1,"custom-datapicker",3,"autoApply","locale"],["dtrange",""],[1,"action-panel"],["mat-raised-button","",1,"btn-cancel",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.nrm(1,"ngx-daterangepicker-material",1,2),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){return n.onOkClick()}),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("autoApply",!0)("locale",n.options),e.R7$(4),e.JRh(e.bMT(6,4,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(9,6,"dlg.ok")))},dependencies:[zn,aH,Vi.D9],styles:[".container[_ngcontent-%COMP%]{background-color:#fff}.custom-datapicker[_ngcontent-%COMP%]{display:flex}.action-panel[_ngcontent-%COMP%]{float:right;padding-right:20px;margin-bottom:8px}.action-panel[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#fff;color:#000;margin-right:10px}  .light-dialog-container .mat-dialog-container{background-color:#fff!important}"]})}return r})();var k_=ie(5384);const uq=["chartPanel"],hq=["nguplot"];function pq(r,o){if(1&r&&(e.j41(0,"div"),e.nrm(1,"button",10),e.j41(2,"button",11)(3,"mat-icon",12),e.EFF(4,"access_time"),e.k0s()(),e.j41(5,"button",11)(6,"mat-icon",13),e.EFF(7,"skip_previous"),e.k0s()(),e.j41(8,"button",11)(9,"mat-icon",14),e.EFF(10,"skip_next"),e.k0s()()()),2&r){const t=e.XpG(2);e.R7$(1),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground),e.R7$(1),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground),e.R7$(3),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground),e.R7$(3),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground)}}function fq(r,o){if(1&r&&(e.j41(0,"mat-option",18),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.xc7("color",i.options.axisLabelColor)("background-color",i.options.colorBackground),e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,6,t.value)," ")}}function gq(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"mat-select",15),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.rangeTypeValue=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onRangeChanged(n.source.value))}),e.DNE(2,fq,3,8,"mat-option",16),e.nI1(3,"enumToArray"),e.k0s(),e.j41(4,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onDateRange())}),e.j41(5,"mat-icon",12),e.EFF(6,"access_time"),e.k0s()(),e.j41(7,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onClick("B"))}),e.j41(8,"mat-icon",13),e.EFF(9,"skip_previous"),e.k0s()(),e.j41(10,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onClick("F"))}),e.j41(11,"mat-icon",14),e.EFF(12,"skip_next"),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(1),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground),e.Y8G("value",t.rangeTypeValue),e.R7$(1),e.Y8G("ngForOf",e.bMT(3,18,t.rangeType)),e.R7$(2),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground),e.R7$(3),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground),e.R7$(3),e.xc7("color",t.options.axisLabelColor)("background-color",t.options.colorBackground)}}function mq(r,o){if(1&r&&(e.j41(0,"div",7)(1,"div",8),e.DNE(2,pq,11,16,"div",9),e.DNE(3,gq,13,20,"div",9),e.k0s()()),2&r){const t=e.XpG();e.xc7("display",t.options.hideToolbar?"none":"block"),e.R7$(2),e.Y8G("ngIf",t.isEditor),e.R7$(1),e.Y8G("ngIf",!t.isEditor)}}const vq=function(r){return{"reload-active":r}};function _q(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",19)(1,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRefresh(!0))}),e.j41(2,"mat-icon",21),e.EFF(3,"autorenew"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(1),e.xc7("color",t.options.axisLabelColor),e.R7$(1),e.Y8G("ngClass",e.eq3(3,vq,t.reloadActive))}}function yq(r,o){1&r&&(e.j41(0,"div",22),e.nrm(1,"mat-spinner",23),e.k0s())}let fS=(()=>{class r{projectService;hmiService;scriptService;dialog;translateService;chartPanel;nguplot;options;onTimeRange=new e.bkB;loading=!1;id;withToolbar=!1;isEditor=!1;reloadActive=!1;lastDaqQuery=new It.FV;rangeTypeValue=ii.Aq.getEnumKey(I_,I_.last8h);rangeType;range={from:Date.now(),to:Date.now(),zoomStep:0};mapData={};pauseMemoryValue={};destroy$=new An.B;property;chartName;addValueInterval=0;zoomSize=0;constructor(t,i,n,a,s){this.projectService=t,this.hmiService=i,this.scriptService=n,this.dialog=a,this.translateService=s}ngOnInit(){this.options||(this.options=r.DefaultOptions())}ngAfterViewInit(){!this.isEditor&&this.property?.type===Ep.custom&&this.getCustomData(),this.nguplot&&(this.nguplot.languageLabels.serie=this.translateService.instant("chart.labels-serie"),this.nguplot.languageLabels.time=this.translateService.instant("chart.labels-time"),this.nguplot.languageLabels.title=this.translateService.instant("chart.labels-title"))}ngOnDestroy(){try{delete this.chartPanel,this.nguplot&&this.nguplot.ngOnDestroy(),delete this.nguplot,this.destroy$.next(null),this.destroy$.unsubscribe()}catch(t){console.error(t)}}onClick(t){if(this.isEditor)return;this.lastDaqQuery.gid=this.id;let i=60*kO.ChartRangeToHours(this.rangeTypeValue)*60;this.zoomSize&&(i=this.zoomSize),"B"===t?(this.range.to=new Date(this.range.from).getTime(),this.range.from=new Date(this.range.from).setTime(new Date(this.range.from).getTime()-1e3*i)):"F"===t&&(this.range.from=new Date(this.range.to).getTime(),this.range.to=new Date(this.range.from).setTime(new Date(this.range.from).getTime()+1e3*i)),this.lastDaqQuery.sids=Object.keys(this.mapData),this.updateLastDaqQueryRange(this.range)}onRangeChanged(t,i){if(!this.isEditor&&(i||(this.zoomSize=0),t)){this.range.from=Date.now(),this.range.to=Date.now();let n=60*kO.ChartRangeToHours(t)*60;this.zoomSize&&(n=this.zoomSize),this.range.from=new Date(this.range.from).setTime(new Date(this.range.from).getTime()-1e3*n),this.lastDaqQuery.event=t,this.lastDaqQuery.gid=this.id,this.lastDaqQuery.sids=Object.keys(this.mapData),this.updateLastDaqQueryRange(this.range)}}onDateRange(){this.dialog.open(TO,{panelClass:"light-dialog-container"}).afterClosed().subscribe(i=>{i&&(this.range.from=i.start,this.range.to=i.end,this.lastDaqQuery.gid=this.id,this.lastDaqQuery.sids=Object.keys(this.mapData),this.updateLastDaqQueryRange(this.range))})}onDaqQuery(t){t&&(this.lastDaqQuery=ii.Aq.mergeDeep(this.lastDaqQuery,t)),this.lastDaqQuery.chunked=!0,this.onTimeRange.emit(this.lastDaqQuery),this.withToolbar&&this.setLoading(!0)}onRefresh(t){this.property?.type===Ep.custom?this.getCustomData():(this.onRangeChanged(this.lastDaqQuery.event,t),this.reloadActive=!0)}onExportData(){}resize(t,i){if(!this.chartPanel)return;let n=this.chartPanel.nativeElement;if(!t&&n.offsetParent&&(t=n.offsetParent.clientHeight),!i&&n.offsetParent&&(i=n.offsetParent.clientWidth),t&&i){this.options.panel.width=i,this.options.width=i,this.options.panel.height=t,this.options.height=t,this.options.height-=40,this.withToolbar&&!this.options.hideToolbar&&(this.options.height-=34);let a=ii.Aq.getDomTextHeight(this.options.titleHeight,this.options.fontFamily);this.options.height-=a,a=ii.Aq.getDomTextHeight(this.options.axisLabelFontSize,this.options.fontFamily),a<10&&(a=10),this.options.height-=a,this.nguplot.resize(this.options.height,this.options.width)}}init(t=null,i=!0){i&&(this.mapData={}),t&&(this.options=t),this.destroy$.next(null),this.property?.type===Ep.history&&this.options.refreshInterval&&h_(6e4*this.options.refreshInterval).pipe((0,jn.Q)(this.destroy$)).subscribe(n=>{this.onRefresh()}),this.updateCanvasOptions(this.nguplot),this.options.panel&&this.resize(this.options.panel.height,this.options.panel.width),this.nguplot.init(this.options,this.property?.type===Ep.custom),this.updateDomOptions(this.nguplot)}setInitRange(t){this.withToolbar&&(t||this.options.lastRange)&&(this.rangeTypeValue=this.options.lastRange),this.property?.type===Ep.history?this.onRangeChanged(this.rangeTypeValue):this.options.loadOldValues&&this.options.realtime&&(this.lastDaqQuery.gid=this.id,this.lastDaqQuery.sids=Object.keys(this.mapData),this.range.from=new Date((new Date).getTime()-6e4*this.options.realtime).getTime(),this.range.to=Date.now(),this.updateLastDaqQueryRange(this.range))}setOptions(t,i=!1){this.options={...this.options,...t},i&&(this.options={...this.options,series:[{}]}),this.init(this.options),this.redraw()}updateOptions(t){this.options={...this.options,...t},this.init(this.options,!1),Object.keys(this.mapData).forEach(i=>{this.nguplot.addSerie(this.mapData[i].index,this.mapData[i].attribute)}),this.setInitRange(),this.redraw()}getOptions(){return this.options}addLine(t,i,n,a){if(!this.mapData[t]){let s=n.label||i;a&&(s=`Y${n.yaxis} - ${s}`);let d={label:s,stroke:n.color,spanGaps:!0};if(d.scale=n.yaxis>1?n.yaxis.toString():"1",d.spanGaps=!!ii.Aq.isNullOrUndefined(n.spanGaps)||n.spanGaps,n.fill&&(d.fill=n.fill),n.lineWidth&&(d.width=n.lineWidth),n.zones?.some(m=>m.fill)){const m=this.generateZones(n.zones,"fill",n.fill);m&&(d.fill=(I,J)=>this.nguplot.scaleGradient(I,n.yaxis,1,m,!0)||n.fill)}else n.fill&&(d.fill=n.fill);if(n.zones?.some(m=>m.stroke)){const m=this.generateZones(n.zones,"stroke",n.color);m&&(d.stroke=(I,J)=>this.nguplot.scaleGradient(I,n.yaxis,1,m,!0)||n.color)}d.lineInterpolation=n.lineInterpolation,this.mapData[t]={index:Object.keys(this.mapData).length+1,attribute:d,lastValueTime:0},this.nguplot.addSerie(this.mapData[t].index,this.mapData[t].attribute)}this.isEditor&&this.nguplot.setSample()}generateZones(t,i,n){const a=[],s=t.sort((d,m)=>d.min-m.min);return a.push([-1/0,n]),s.forEach((d,m)=>{a.push([d.min,d[i]]),m<s.length-1?d.max<s[m+1].min&&a.push([d.max,n]):a.push([d.max,n])}),a}addValue(t,i,n){const a=this.mapData[t];if(a){if(this.addValueInterval&&ii.Aq.getTimeDifferenceInSeconds(a.lastValueTime)<this.addValueInterval)return;if(this.range?.zoomStep)return this.pauseMemoryValue[t]||(this.pauseMemoryValue[t]=[]),void this.pauseMemoryValue[t].push({x:i,y:n});this.nguplot.addValue(a.index,i,n,this.zoomSize||60*this.options.realtime),a.lastValueTime=Date.now(),this.range.to=Date.now()}}setValues(t,i){let n=[];n.push([]);let a={};for(var s=0;s<t.length;s++){n.push([]);for(var d=0;d<t[s].length;d++){let m=t[s][d].dt/1e3;-1===n[0].indexOf(m)&&(n[0].push(m),a[m]={}),a[m][s]=t[s][d].value}}for(n[0].sort(function(m,I){return m-I}),s=0;s<n[0].length;s++){let I=n[0][s];for(d=1;d<n.length;d++)n[d].push(void 0!==a[I][d-1]?a[I][d-1]:null)}i&&1!==i.index?this.nguplot.addData(n):this.nguplot.setData(n),this.nguplot.setXScala(this.range.from/1e3,this.range.to/1e3),(!i||i.index===i.of)&&setTimeout(()=>{this.setLoading(!1)},500)}redraw(){this.nguplot.redraw()}setZoom(t){this.range=t,this.nguplot.setXScala(this.range.from/1e3,this.range.to/1e3),this.zoomSize=this.range.to/1e3-this.range.from/1e3,t.zoomStep||(Object.keys(this.pauseMemoryValue).forEach(i=>{const n=this.pauseMemoryValue[i];n&&Object.values(n).forEach(a=>{this.addValue(i,a.x,a.y)})}),this.pauseMemoryValue={}),this.updateLastDaqQueryRange(this.range)}updateLastDaqQueryRange(t){this.lastDaqQuery.from=t.from,this.lastDaqQuery.to=t.to,this.onDaqQuery()}getZoomStatus(){return this.range}setProperty(t,i){return!ii.Aq.isNullOrUndefined(this[t])&&(this[t]=i,!0)}static DefaultOptions(){return{title:"Title",fontFamily:"Roboto-Regular",legendFontSize:12,colorBackground:"rgba(255,255,255,0)",legendBackground:"rgba(255,255,255,0)",titleHeight:18,axisLabelFontSize:12,labelsDivWidth:0,axisLineColor:"rgba(0,0,0,1)",axisLabelColor:"rgba(0,0,0,1)",legendMode:"always",series:[],width:360,height:200,decimalsPrecision:2,realtime:60,dateFormat:ii.Aq.getEnumKey(It.cq,It.cq.MM_DD_YYYY),timeFormat:ii.Aq.getEnumKey(It.pT,It.pT.hh_mm_ss_AA)}}setLoading(t){t&&(0,Co.O)(1e4).pipe((0,jn.Q)(this.destroy$)).subscribe(i=>{this.loading=!1}),this.loading=t}updateCanvasOptions(t){this.options.axes||(this.options.axes=[{label:"Time",grid:{show:!0,width:1/devicePixelRatio},ticks:{}}],this.options.axes.push({grid:{show:!0,width:1/devicePixelRatio},ticks:{},scale:"1"}),this.options.axes.push({grid:{show:!1,width:1/devicePixelRatio},ticks:{},side:1,scale:"2"}),this.options.axes.push({grid:{show:!1,width:1/devicePixelRatio},ticks:{},side:3,scale:"3"}),this.options.axes.push({grid:{show:!1,width:1/devicePixelRatio},ticks:{},side:1,scale:"4"}));for(let s=0;s<this.options.axes.length;s++){let d="";this.options.axisLabelFontSize&&(d=this.options.axisLabelFontSize+"px"),this.options.fontFamily&&(d+=" "+this.options.fontFamily),this.options.axes[s].font=d,this.options.axes[s].labelFont=d,this.options.axes[s].ticks={width:1/devicePixelRatio},this.options.gridLineColor&&(this.options.axes[s].grid.stroke=this.options.gridLineColor,this.options.axes[s].ticks.stroke=this.options.gridLineColor),this.options.axisLabelColor&&(this.options.axes[s].stroke=this.options.axisLabelColor)}let i=ii.Aq.getEnumKey($g,$g.always),n=ii.Aq.getEnumKey($g,$g.bottom),a=ii.Aq.getEnumKey($g,$g.follow);this.options.legend={show:this.options.legendMode===i||this.options.legendMode===n,width:1},this.options.tooltip={show:this.options.legendMode===i||this.options.legendMode===a},this.options.axisLabelX&&(this.options.axes[0].label=this.options.axisLabelX),this.options.axisLabelY1&&(this.options.axes[1].label=this.options.axisLabelY1),this.options.axisLabelY2&&(this.options.axes[2].label=this.options.axisLabelY2),this.options.axisLabelY3&&(this.options.axes[3].label=this.options.axisLabelY3),this.options.axisLabelY4&&(this.options.axes[4].label=this.options.axisLabelY4)}updateDomOptions(t){let i=this.chartPanel.nativeElement.getElementsByClassName("u-title");if(i){let a=i[0];this.options.titleHeight?(this.options.axisLabelColor&&(a.style.color=this.options.axisLabelColor),this.options.titleHeight&&(a.style.fontSize=this.options.titleHeight+"px"),this.options.fontFamily&&(a.style.fontFamily=this.options.fontFamily)):a.style.display="none"}let n=this.chartPanel.nativeElement.querySelector(".u-legend");n&&(this.options.axisLabelColor&&(n.style.color=this.options.axisLabelColor),n.style.lineHeight=0),this.chartPanel.nativeElement.style.backgroundColor=this.options.colorBackground}getCustomData(){const t=this.projectService.getScripts()?.find(i=>i.id===this.property?.options?.scriptId);if(t){let i=ii.Aq.clone(t),n=this.hmiService.getChart(this.property.id);this.reloadActive=!0,i.parameters=[{type:qo.H8.chart,value:n?.lines,name:t.parameters[0]?.name}],this.scriptService.runScript(i).pipe(dg(200)).subscribe(a=>{this.setCustomValues(a)},a=>{console.error(a)},()=>{this.reloadActive=!1})}}setCustomValues(t){let i=[];i.push([]);let n={};for(var a=0;a<t?.length;a++){i.push([]);for(var s=0;s<t[a]?.x.length;s++){let m=t[a].x[s];-1===i[0].indexOf(m)&&(i[0].push(m),n[m]={}),n[m][a]=t[a].y[s]}}for(i[0].sort(function(m,I){return m-I}),a=0;a<i[0].length;a++){let I=i[0][a];for(var d=1;d<i.length;d++)i[d].push(void 0!==n[I][d-1]?n[I][d-1]:null)}this.nguplot?.setData(i),setTimeout(()=>{this.setLoading(!1)},500)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(BA.Ih),e.rXU(k_.f),e.rXU(Qo),e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["chart-uplot"]],viewQuery:function(i,n){if(1&i&&(e.GBs(uq,5),e.GBs(hq,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.chartPanel=a.first),e.mGM(a=e.lsd())&&(n.nguplot=a.first)}},inputs:{options:"options"},outputs:{onTimeRange:"onTimeRange"},decls:7,vars:3,consts:[[1,"mychart-panel"],["chartPanel",""],["class","mychart-toolbar",3,"display",4,"ngIf"],[1,"mychart-graph"],["nguplot",""],["class","reload-btn",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"mychart-toolbar"],[1,"my-form-field",2,"display","block","padding-right","5px","text-align","center"],[4,"ngIf"],[1,"mychart-toolbar-editor"],["mat-flat-button","",1,"mychart-toolbar-step"],["aria-label","time range"],["aria-label","back"],["aria-label","forward"],["panelClass","my-select-panel-class",1,"mychart-toolbar-srange",3,"value","valueChange","selectionChange"],[3,"value","color","backgroundColor",4,"ngFor","ngForOf"],["mat-flat-button","",1,"mychart-toolbar-step",3,"click"],[3,"value"],[1,"reload-btn"],["mat-icon-button","",1,"small-icon-button","default-color",3,"click"],[3,"ngClass"],[1,"spinner"],["diameter","40",2,"margin","auto"]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.DNE(2,mq,4,4,"div",2),e.nrm(3,"ngx-uplot",3,4),e.DNE(5,_q,4,5,"div",5),e.DNE(6,yq,2,0,"div",6),e.k0s()),2&i&&(e.R7$(2),e.Y8G("ngIf",n.withToolbar),e.R7$(3),e.Y8G("ngIf",!n.isEditor&&n.withToolbar),e.R7$(1),e.Y8G("ngIf",n.loading))},dependencies:[l.YU,l.Sq,l.bT,Ur,zn,Kn,Id,yo,Aq,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]     .mychart-panel{display:block;margin:0 auto;height:inherit;width:inherit}[_nghost-%COMP%]     .mychart-graph{display:block;margin:0 auto}[_nghost-%COMP%]     .mychart-toolbar{display:block;height:34px!important;width:100%!important;background-color:transparent}[_nghost-%COMP%]     .mychart-toolbar-editor{margin-left:5px;border:0px;height:28px;width:140px;vertical-align:middle;line-height:20px;box-shadow:1px 1px 3px -1px #888}[_nghost-%COMP%]     .mychart-toolbar-srange{width:140px;background-color:inherit!important;box-shadow:1px 1px 3px -1px #888}[_nghost-%COMP%]       .mychart-toolbar-srange .mat-select-value{color:inherit!important}[_nghost-%COMP%]       .mychart-toolbar-srange .mat-select-arrow{color:inherit!important}[_nghost-%COMP%]     .mychart-toolbar-step{margin-left:5px;border:0px;height:28px;width:40px;cursor:pointer;vertical-align:middle;line-height:20px;box-shadow:1px 1px 3px -1px #888!important;min-width:40px;padding:unset}[_nghost-%COMP%]       .my-select-panel-class{background:inherit!important;color:inherit!important}[_nghost-%COMP%]     .spinner{position:absolute;top:40%;left:calc(50% - 20px)}[_nghost-%COMP%]     .small-icon-button{width:24px;height:24px;line-height:24px}[_nghost-%COMP%]     .small-icon-button .mat-icon{width:20px;height:20px;line-height:20px}[_nghost-%COMP%]     .small-icon-button .material-icons{font-size:20px}[_nghost-%COMP%]     .reload-btn{position:absolute;top:0;right:5px;z-index:9999}"]})}return r})(),Bp=(()=>{class r extends Io{resolver;static TypeTag="svg-ext-html_chart";static LabelTag="HtmlChart";static prefixD="D-HXC_";constructor(t){super(),this.resolver=t}static getSignals(t){return t.variableIds}static getDialogType(){return Ho.Chart}static processValue(t,i,n,a,s){try{s.addValue(n.id,(new Date).getTime()/1e3,n.value)}catch(d){console.error(d)}}static initElement(t,i,n,a,s){let d=document.getElementById(t.id);if(d){d?.setAttribute("data-name",t.name);let m=ii.Aq.searchTreeStartWith(d,this.prefixD);if(m){const I=i.resolveComponentFactory(fS),J=n.createComponent(I);return t.property&&(J.instance.withToolbar="history"===t.property.type),m.innerHTML="",J.instance.isEditor=!a,J.instance.rangeType=s,J.instance.id=t.id,J.instance.property=t.property,J.instance.chartName=t.name,J.changeDetectorRef.detectChanges(),m.appendChild(J.location.nativeElement),J.instance.setOptions({title:"",panel:{height:m.clientHeight,width:m.clientWidth}}),J.instance.myComRef=J,J.instance.name=t.name,J.instance}}}static detectChange(t,i,n){return r.initElement(t,i,n,!1,null)}static \u0275fac=function(i){return new(i||r)(e.rXU(e.OM3))};static \u0275cmp=e.VBU({type:r,selectors:[["html-chart"]],features:[e.Vt3],decls:0,vars:0,template:function(i,n){}})}return r})(),T_=(()=>{class r{onReload=new e.bkB;id;isEditor;static VerticalBarChartType="bar";static PieChartType="pie";isOffline(){return!1}static getGridLines(t){let i={display:t.gridLinesShow};return t.gridLinesColor&&(i.color=t.gridLinesColor),i}static getTitle(t,i){return i&&(t.plugins.title.text=i),t.plugins.title.text}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],outputs:{onReload:"onReload"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}return r})();var gS=function(r){return r.customise="customise",r.dark="dark",r.light="light",r}(gS||{});let G1=(()=>{class r{static integral(t,i,n){let a=[],s=t.sort(function(oe,Ce){return oe.dt-Ce.dt}),d=(oe,Ce,$e)=>{oe[Ce]?oe[Ce]+=$e:oe[Ce]=$e},m=(oe,Ce,$e)=>{let nt=new Date(oe),Tt=$e?1:0;return Ce===Gh.Year?nt=new Date(nt.getFullYear()+Tt,0,0,0,0,0):Ce===Gh.Month?nt=new Date(nt.getFullYear(),nt.getMonth()+Tt,0,0,0,0):Ce===Gh.Day?nt=new Date(nt.getFullYear(),nt.getMonth(),nt.getDate()+Tt,0,0,0):Ce===Gh.Hour?nt=new Date(nt.getFullYear(),nt.getMonth(),nt.getDate(),nt.getHours()+Tt,0,0):Ce===Gh.Minute?nt=new Date(nt.getFullYear(),nt.getMonth(),nt.getDate(),nt.getHours(),nt.getMinutes()+Tt,0):Ce===Gh.Second&&(nt=new Date(nt.getFullYear(),nt.getMonth(),nt.getDate(),nt.getHours(),nt.getMinutes(),nt.getSeconds()+Tt)),nt},I=null,J=null;for(let oe=0;oe<s.length;oe++){let Ce=m(s[oe].dt,i,!1).getTime();for(;J&&J<Ce;){let $e=m(I.dt,i,!0).getTime();d(a,$e,I.value*(($e-I.dt)/1e3)),J=$e,I.dt=$e}I&&d(a,Ce,s[oe].value*((s[oe].dt-I.dt)/1e3)),I=s[oe],J=Ce}return n&&Object.keys(a).forEach(oe=>{a[oe]/=n}),a}static integralForHour(t,i){return r.integral(t,i,3600)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();var Gh=function(r){return r[r.Year=0]="Year",r[r.Month=1]="Month",r[r.Day=2]="Day",r[r.Hour=3]="Hour",r[r.Minute=4]="Minute",r[r.Second=5]="Second",r}(Gh||{});function Sf(){}const bq=function(){let r=0;return function(){return r++}}();function Fa(r){return null===r||typeof r>"u"}function ml(r){if(Array.isArray&&Array.isArray(r))return!0;const o=Object.prototype.toString.call(r);return"[object"===o.slice(0,7)&&"Array]"===o.slice(-6)}function Ra(r){return null!==r&&"[object Object]"===Object.prototype.toString.call(r)}const Ec=r=>("number"==typeof r||r instanceof Number)&&isFinite(+r);function nh(r,o){return Ec(r)?r:o}function oa(r,o){return typeof r>"u"?o:r}const FO=(r,o)=>"string"==typeof r&&r.endsWith("%")?parseFloat(r)/100*o:+r;function $s(r,o,t){if(r&&"function"==typeof r.call)return r.apply(t,o)}function Ss(r,o,t,i){let n,a,s;if(ml(r))if(a=r.length,i)for(n=a-1;n>=0;n--)o.call(t,r[n],n);else for(n=0;n<a;n++)o.call(t,r[n],n);else if(Ra(r))for(s=Object.keys(r),a=s.length,n=0;n<a;n++)o.call(t,r[s[n]],s[n])}function mx(r,o){let t,i,n,a;if(!r||!o||r.length!==o.length)return!1;for(t=0,i=r.length;t<i;++t)if(n=r[t],a=o[t],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function vx(r){if(ml(r))return r.map(vx);if(Ra(r)){const o=Object.create(null),t=Object.keys(r),i=t.length;let n=0;for(;n<i;++n)o[t[n]]=vx(r[t[n]]);return o}return r}function SO(r){return-1===["__proto__","prototype","constructor"].indexOf(r)}function Cq(r,o,t,i){if(!SO(r))return;const n=o[r],a=t[r];Ra(n)&&Ra(a)?Mp(n,a,i):o[r]=vx(a)}function Mp(r,o,t){const i=ml(o)?o:[o],n=i.length;if(!Ra(r))return r;const a=(t=t||{}).merger||Cq;for(let s=0;s<n;++s){if(!Ra(o=i[s]))continue;const d=Object.keys(o);for(let m=0,I=d.length;m<I;++m)a(d[m],r,o,t)}return r}function U1(r,o){return Mp(r,o,{merger:Eq})}function Eq(r,o,t){if(!SO(r))return;const i=o[r],n=t[r];Ra(i)&&Ra(n)?U1(i,n):Object.prototype.hasOwnProperty.call(o,r)||(o[r]=vx(n))}const QO={"":r=>r,x:r=>r.x,y:r=>r.y};function em(r,o){return(QO[o]||(QO[o]=function Bq(r){const o=function Mq(r){const o=r.split("."),t=[];let i="";for(const n of o)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(r);return t=>{for(const i of o){if(""===i)break;t=t&&t[i]}return t}}(o)))(r)}function mS(r){return r.charAt(0).toUpperCase()+r.slice(1)}const rh=r=>typeof r<"u",tm=r=>"function"==typeof r,RO=(r,o)=>{if(r.size!==o.size)return!1;for(const t of r)if(!o.has(t))return!1;return!0},zl=Math.PI,qs=2*zl,Dq=qs+zl,_x=Number.POSITIVE_INFINITY,Iq=zl/180,hc=zl/2,z1=zl/4,PO=2*zl/3,oh=Math.log10,xp=Math.sign;function OO(r){const o=Math.round(r);r=H1(r,o,r/1e3)?o:r;const t=Math.pow(10,Math.floor(oh(r))),i=r/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function F_(r){return!isNaN(parseFloat(r))&&isFinite(r)}function H1(r,o,t){return Math.abs(r-o)<t}function LO(r,o,t){let i,n,a;for(i=0,n=r.length;i<n;i++)a=r[i][t],isNaN(a)||(o.min=Math.min(o.min,a),o.max=Math.max(o.max,a))}function Uh(r){return r*(zl/180)}function vS(r){return r*(180/zl)}function YO(r){if(!Ec(r))return;let o=1,t=0;for(;Math.round(r*o)/o!==r;)o*=10,t++;return t}function NO(r,o){const t=o.x-r.x,i=o.y-r.y,n=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*zl&&(a+=qs),{angle:a,distance:n}}function _S(r,o){return Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2))}function Fq(r,o){return(r-o+Dq)%qs-zl}function Cu(r){return(r%qs+qs)%qs}function V1(r,o,t,i){const n=Cu(r),a=Cu(o),s=Cu(t),d=Cu(a-n),m=Cu(s-n),I=Cu(n-a),J=Cu(n-s);return n===a||n===s||i&&a===s||d>m&&I<J}function xA(r,o,t){return Math.max(o,Math.min(t,r))}function Qf(r,o,t,i=1e-6){return r>=Math.min(o,t)-i&&r<=Math.max(o,t)+i}function yS(r,o,t){t=t||(s=>r[s]<o);let a,i=r.length-1,n=0;for(;i-n>1;)a=n+i>>1,t(a)?n=a:i=a;return{lo:n,hi:i}}const Rf=(r,o,t,i)=>yS(r,t,i?n=>r[n][o]<=t:n=>r[n][o]<t),Qq=(r,o,t)=>yS(r,t,i=>r[i][o]>=t),jO=["push","pop","shift","splice","unshift"];function GO(r,o){const t=r._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(o);-1!==n&&i.splice(n,1),!(i.length>0)&&(jO.forEach(a=>{delete r[a]}),delete r._chartjs)}function UO(r){const o=new Set;let t,i;for(t=0,i=r.length;t<i;++t)o.add(r[t]);return o.size===i?r:Array.from(o)}const zO=typeof window>"u"?function(r){return r()}:window.requestAnimationFrame;function HO(r,o,t){const i=t||(s=>Array.prototype.slice.call(s));let n=!1,a=[];return function(...s){a=i(s),n||(n=!0,zO.call(window,()=>{n=!1,r.apply(o,a)}))}}const bS=r=>"start"===r?"left":"end"===r?"right":"center",$A=(r,o,t)=>"start"===r?o:"end"===r?t:(o+t)/2;function VO(r,o,t){const i=o.length;let n=0,a=i;if(r._sorted){const{iScale:s,_parsed:d}=r,m=s.axis,{min:I,max:J,minDefined:oe,maxDefined:Ce}=s.getUserBounds();oe&&(n=xA(Math.min(Rf(d,s.axis,I).lo,t?i:Rf(o,m,s.getPixelForValue(I)).lo),0,i-1)),a=Ce?xA(Math.max(Rf(d,s.axis,J,!0).hi+1,t?0:Rf(o,m,s.getPixelForValue(J),!0).hi+1),n,i)-n:i-n}return{start:n,count:a}}function JO(r){const{xScale:o,yScale:t,_scaleRanges:i}=r,n={xmin:o.min,xmax:o.max,ymin:t.min,ymax:t.max};if(!i)return r._scaleRanges=n,!0;const a=i.xmin!==o.min||i.xmax!==o.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,n),a}const yx=r=>0===r||1===r,WO=(r,o,t)=>-Math.pow(2,10*(r-=1))*Math.sin((r-o)*qs/t),KO=(r,o,t)=>Math.pow(2,-10*r)*Math.sin((r-o)*qs/t)+1,J1={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>1-Math.cos(r*hc),easeOutSine:r=>Math.sin(r*hc),easeInOutSine:r=>-.5*(Math.cos(zl*r)-1),easeInExpo:r=>0===r?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>1===r?1:1-Math.pow(2,-10*r),easeInOutExpo:r=>yx(r)?r:r<.5?.5*Math.pow(2,10*(2*r-1)):.5*(2-Math.pow(2,-10*(2*r-1))),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>yx(r)?r:WO(r,.075,.3),easeOutElastic:r=>yx(r)?r:KO(r,.075,.3),easeInOutElastic:r=>yx(r)?r:r<.5?.5*WO(2*r,.1125,.45):.5+.5*KO(2*r-1,.1125,.45),easeInBack:r=>r*r*(2.70158*r-1.70158),easeOutBack:r=>(r-=1)*r*(2.70158*r+1.70158)+1,easeInOutBack(r){let o=1.70158;return(r/=.5)<1?r*r*((1+(o*=1.525))*r-o)*.5:.5*((r-=2)*r*((1+(o*=1.525))*r+o)+2)},easeInBounce:r=>1-J1.easeOutBounce(1-r),easeOutBounce:r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,easeInOutBounce:r=>r<.5?.5*J1.easeInBounce(2*r):.5*J1.easeOutBounce(2*r-1)+.5};function W1(r){return r+.5|0}const im=(r,o,t)=>Math.max(Math.min(r,t),o);function K1(r){return im(W1(2.55*r),0,255)}function nm(r){return im(W1(255*r),0,255)}function Pf(r){return im(W1(r/2.55)/100,0,1)}function XO(r){return im(W1(100*r),0,100)}const ah={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wS=[..."0123456789ABCDEF"],Yq=r=>wS[15&r],Nq=r=>wS[(240&r)>>4]+wS[15&r],bx=r=>(240&r)>>4==(15&r);const Hq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZO(r,o,t){const i=o*Math.min(t,1-t),n=(a,s=(a+r/30)%12)=>t-i*Math.max(Math.min(s-3,9-s,1),-1);return[n(0),n(8),n(4)]}function Vq(r,o,t){const i=(n,a=(n+r/60)%6)=>t-t*o*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Jq(r,o,t){const i=ZO(r,1,.5);let n;for(o+t>1&&(n=1/(o+t),o*=n,t*=n),n=0;n<3;n++)i[n]*=1-o-t,i[n]+=o;return i}function CS(r){const t=r.r/255,i=r.g/255,n=r.b/255,a=Math.max(t,i,n),s=Math.min(t,i,n),d=(a+s)/2;let m,I,J;return a!==s&&(J=a-s,I=d>.5?J/(2-a-s):J/(a+s),m=function Wq(r,o,t,i,n){return r===n?(o-t)/i+(o<t?6:0):o===n?(t-r)/i+2:(r-o)/i+4}(t,i,n,J,a),m=60*m+.5),[0|m,I||0,d]}function ES(r,o,t,i){return(Array.isArray(o)?r(o[0],o[1],o[2]):r(o,t,i)).map(nm)}function BS(r,o,t){return ES(ZO,r,o,t)}function $O(r){return(r%360+360)%360}const qO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},eL={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let wx;const iee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,MS=r=>r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055,S_=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function Cx(r,o,t){if(r){let i=CS(r);i[o]=Math.max(0,Math.min(i[o]+i[o]*t,0===o?360:1)),i=BS(i),r.r=i[0],r.g=i[1],r.b=i[2]}}function tL(r,o){return r&&Object.assign(o||{},r)}function iL(r){var o={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(o={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(o.a=nm(r[3]))):(o=tL(r,{r:0,g:0,b:0,a:1})).a=nm(o.a),o}function aee(r){return"r"===r.charAt(0)?function nee(r){const o=iee.exec(r);let i,n,a,t=255;if(o){if(o[7]!==i){const s=+o[7];t=o[8]?K1(s):im(255*s,0,255)}return i=+o[1],n=+o[3],a=+o[5],i=255&(o[2]?K1(i):im(i,0,255)),n=255&(o[4]?K1(n):im(n,0,255)),a=255&(o[6]?K1(a):im(a,0,255)),{r:i,g:n,b:a,a:t}}}(r):function Zq(r){const o=Hq.exec(r);let i,t=255;if(!o)return;o[5]!==i&&(t=o[6]?K1(+o[5]):nm(+o[5]));const n=$O(+o[2]),a=+o[3]/100,s=+o[4]/100;return i="hwb"===o[1]?function Kq(r,o,t){return ES(Jq,r,o,t)}(n,a,s):"hsv"===o[1]?function Xq(r,o,t){return ES(Vq,r,o,t)}(n,a,s):BS(n,a,s),{r:i[0],g:i[1],b:i[2],a:t}}(r)}class Ex{constructor(o){if(o instanceof Ex)return o;const t=typeof o;let i;"object"===t?i=iL(o):"string"===t&&(i=function Gq(r){var t,o=r.length;return"#"===r[0]&&(4===o||5===o?t={r:255&17*ah[r[1]],g:255&17*ah[r[2]],b:255&17*ah[r[3]],a:5===o?17*ah[r[4]]:255}:(7===o||9===o)&&(t={r:ah[r[1]]<<4|ah[r[2]],g:ah[r[3]]<<4|ah[r[4]],b:ah[r[5]]<<4|ah[r[6]],a:9===o?ah[r[7]]<<4|ah[r[8]]:255})),t}(o)||function tee(r){wx||(wx=function eee(){const r={},o=Object.keys(eL),t=Object.keys(qO);let i,n,a,s,d;for(i=0;i<o.length;i++){for(s=d=o[i],n=0;n<t.length;n++)a=t[n],d=d.replace(a,qO[a]);a=parseInt(eL[s],16),r[d]=[a>>16&255,a>>8&255,255&a]}return r}(),wx.transparent=[0,0,0,0]);const o=wx[r.toLowerCase()];return o&&{r:o[0],g:o[1],b:o[2],a:4===o.length?o[3]:255}}(o)||aee(o)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var o=tL(this._rgb);return o&&(o.a=Pf(o.a)),o}set rgb(o){this._rgb=iL(o)}rgbString(){return this._valid?function ree(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Pf(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}(this._rgb):void 0}hexString(){return this._valid?function zq(r){var o=(r=>bx(r.r)&&bx(r.g)&&bx(r.b)&&bx(r.a))(r)?Yq:Nq;return r?"#"+o(r.r)+o(r.g)+o(r.b)+((r,o)=>r<255?o(r):"")(r.a,o):void 0}(this._rgb):void 0}hslString(){return this._valid?function qq(r){if(!r)return;const o=CS(r),t=o[0],i=XO(o[1]),n=XO(o[2]);return r.a<255?`hsla(${t}, ${i}%, ${n}%, ${Pf(r.a)})`:`hsl(${t}, ${i}%, ${n}%)`}(this._rgb):void 0}mix(o,t){if(o){const i=this.rgb,n=o.rgb;let a;const s=t===a?.5:t,d=2*s-1,m=i.a-n.a,I=((d*m==-1?d:(d+m)/(1+d*m))+1)/2;a=1-I,i.r=255&I*i.r+a*n.r+.5,i.g=255&I*i.g+a*n.g+.5,i.b=255&I*i.b+a*n.b+.5,i.a=s*i.a+(1-s)*n.a,this.rgb=i}return this}interpolate(o,t){return o&&(this._rgb=function oee(r,o,t){const i=S_(Pf(r.r)),n=S_(Pf(r.g)),a=S_(Pf(r.b));return{r:nm(MS(i+t*(S_(Pf(o.r))-i))),g:nm(MS(n+t*(S_(Pf(o.g))-n))),b:nm(MS(a+t*(S_(Pf(o.b))-a))),a:r.a+t*(o.a-r.a)}}(this._rgb,o._rgb,t)),this}clone(){return new Ex(this.rgb)}alpha(o){return this._rgb.a=nm(o),this}clearer(o){return this._rgb.a*=1-o,this}greyscale(){const o=this._rgb,t=W1(.3*o.r+.59*o.g+.11*o.b);return o.r=o.g=o.b=t,this}opaquer(o){return this._rgb.a*=1+o,this}negate(){const o=this._rgb;return o.r=255-o.r,o.g=255-o.g,o.b=255-o.b,this}lighten(o){return Cx(this._rgb,2,o),this}darken(o){return Cx(this._rgb,2,-o),this}saturate(o){return Cx(this._rgb,1,o),this}desaturate(o){return Cx(this._rgb,1,-o),this}rotate(o){return function $q(r,o){var t=CS(r);t[0]=$O(t[0]+o),t=BS(t),r.r=t[0],r.g=t[1],r.b=t[2]}(this._rgb,o),this}}function nL(r){return new Ex(r)}function rL(r){if(r&&"object"==typeof r){const o=r.toString();return"[object CanvasPattern]"===o||"[object CanvasGradient]"===o}return!1}function oL(r){return rL(r)?r:nL(r)}function xS(r){return rL(r)?r:nL(r).saturate(.5).darken(.1).hexString()}const T0=Object.create(null),DS=Object.create(null);function X1(r,o){if(!o)return r;const t=o.split(".");for(let i=0,n=t.length;i<n;++i){const a=t[i];r=r[a]||(r[a]=Object.create(null))}return r}function IS(r,o,t){return"string"==typeof o?Mp(X1(r,o),t):Mp(X1(r,""),o)}var Pa=new class see{constructor(o){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>xS(i.backgroundColor),this.hoverBorderColor=(t,i)=>xS(i.borderColor),this.hoverColor=(t,i)=>xS(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(o)}set(o,t){return IS(this,o,t)}get(o){return X1(this,o)}describe(o,t){return IS(DS,o,t)}override(o,t){return IS(T0,o,t)}route(o,t,i,n){const a=X1(this,o),s=X1(this,i),d="_"+t;Object.defineProperties(a,{[d]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const m=this[d],I=s[n];return Ra(m)?Object.assign({},I,m):oa(m,I)},set(m){this[d]=m}}})}}({_scriptable:r=>!r.startsWith("on"),_indexable:r=>"events"!==r,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Bx(r,o,t,i,n){let a=o[n];return a||(a=o[n]=r.measureText(n).width,t.push(n)),a>i&&(i=a),i}function cee(r,o,t,i){let n=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==o&&(n=i.data={},a=i.garbageCollect=[],i.font=o),r.save(),r.font=o;let s=0;const d=t.length;let m,I,J,oe,Ce;for(m=0;m<d;m++)if(oe=t[m],null!=oe&&!0!==ml(oe))s=Bx(r,n,a,s,oe);else if(ml(oe))for(I=0,J=oe.length;I<J;I++)Ce=oe[I],null!=Ce&&!ml(Ce)&&(s=Bx(r,n,a,s,Ce));r.restore();const $e=a.length/2;if($e>t.length){for(m=0;m<$e;m++)delete n[a[m]];a.splice(0,$e)}return s}function F0(r,o,t){const i=r.currentDevicePixelRatio,n=0!==t?Math.max(t/2,.5):0;return Math.round((o-n)*i)/i+n}function aL(r,o){(o=o||r.getContext("2d")).save(),o.resetTransform(),o.clearRect(0,0,r.width,r.height),o.restore()}function kS(r,o,t,i){sL(r,o,t,i,null)}function sL(r,o,t,i,n){let a,s,d,m,I,J;const oe=o.pointStyle,Ce=o.rotation,$e=o.radius;let nt=(Ce||0)*Iq;if(oe&&"object"==typeof oe&&(a=oe.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return r.save(),r.translate(t,i),r.rotate(nt),r.drawImage(oe,-oe.width/2,-oe.height/2,oe.width,oe.height),void r.restore();if(!(isNaN($e)||$e<=0)){switch(r.beginPath(),oe){default:n?r.ellipse(t,i,n/2,$e,0,0,qs):r.arc(t,i,$e,0,qs),r.closePath();break;case"triangle":r.moveTo(t+Math.sin(nt)*$e,i-Math.cos(nt)*$e),nt+=PO,r.lineTo(t+Math.sin(nt)*$e,i-Math.cos(nt)*$e),nt+=PO,r.lineTo(t+Math.sin(nt)*$e,i-Math.cos(nt)*$e),r.closePath();break;case"rectRounded":I=.516*$e,m=$e-I,s=Math.cos(nt+z1)*m,d=Math.sin(nt+z1)*m,r.arc(t-s,i-d,I,nt-zl,nt-hc),r.arc(t+d,i-s,I,nt-hc,nt),r.arc(t+s,i+d,I,nt,nt+hc),r.arc(t-d,i+s,I,nt+hc,nt+zl),r.closePath();break;case"rect":if(!Ce){m=Math.SQRT1_2*$e,J=n?n/2:m,r.rect(t-J,i-m,2*J,2*m);break}nt+=z1;case"rectRot":s=Math.cos(nt)*$e,d=Math.sin(nt)*$e,r.moveTo(t-s,i-d),r.lineTo(t+d,i-s),r.lineTo(t+s,i+d),r.lineTo(t-d,i+s),r.closePath();break;case"crossRot":nt+=z1;case"cross":s=Math.cos(nt)*$e,d=Math.sin(nt)*$e,r.moveTo(t-s,i-d),r.lineTo(t+s,i+d),r.moveTo(t+d,i-s),r.lineTo(t-d,i+s);break;case"star":s=Math.cos(nt)*$e,d=Math.sin(nt)*$e,r.moveTo(t-s,i-d),r.lineTo(t+s,i+d),r.moveTo(t+d,i-s),r.lineTo(t-d,i+s),nt+=z1,s=Math.cos(nt)*$e,d=Math.sin(nt)*$e,r.moveTo(t-s,i-d),r.lineTo(t+s,i+d),r.moveTo(t+d,i-s),r.lineTo(t-d,i+s);break;case"line":s=n?n/2:Math.cos(nt)*$e,d=Math.sin(nt)*$e,r.moveTo(t-s,i-d),r.lineTo(t+s,i+d);break;case"dash":r.moveTo(t,i),r.lineTo(t+Math.cos(nt)*$e,i+Math.sin(nt)*$e)}r.fill(),o.borderWidth>0&&r.stroke()}}function Z1(r,o,t){return t=t||.5,!o||r&&r.x>o.left-t&&r.x<o.right+t&&r.y>o.top-t&&r.y<o.bottom+t}function Mx(r,o){r.save(),r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()}function xx(r){r.restore()}function Aee(r,o,t,i,n){if(!o)return r.lineTo(t.x,t.y);if("middle"===n){const a=(o.x+t.x)/2;r.lineTo(a,o.y),r.lineTo(a,t.y)}else"after"===n!=!!i?r.lineTo(o.x,t.y):r.lineTo(t.x,o.y);r.lineTo(t.x,t.y)}function dee(r,o,t,i){if(!o)return r.lineTo(t.x,t.y);r.bezierCurveTo(i?o.cp1x:o.cp2x,i?o.cp1y:o.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function S0(r,o,t,i,n,a={}){const s=ml(o)?o:[o],d=a.strokeWidth>0&&""!==a.strokeColor;let m,I;for(r.save(),r.font=n.string,function uee(r,o){o.translation&&r.translate(o.translation[0],o.translation[1]),Fa(o.rotation)||r.rotate(o.rotation),o.color&&(r.fillStyle=o.color),o.textAlign&&(r.textAlign=o.textAlign),o.textBaseline&&(r.textBaseline=o.textBaseline)}(r,a),m=0;m<s.length;++m)I=s[m],d&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),Fa(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(I,t,i,a.maxWidth)),r.fillText(I,t,i,a.maxWidth),hee(r,t,i,I,a),i+=n.lineHeight;r.restore()}function hee(r,o,t,i,n){if(n.strikethrough||n.underline){const a=r.measureText(i),s=o-a.actualBoundingBoxLeft,d=o+a.actualBoundingBoxRight,I=t+a.actualBoundingBoxDescent,J=n.strikethrough?(t-a.actualBoundingBoxAscent+I)/2:I;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=n.decorationWidth||2,r.moveTo(s,J),r.lineTo(d,J),r.stroke()}}function $1(r,o){const{x:t,y:i,w:n,h:a,radius:s}=o;r.arc(t+s.topLeft,i+s.topLeft,s.topLeft,-hc,zl,!0),r.lineTo(t,i+a-s.bottomLeft),r.arc(t+s.bottomLeft,i+a-s.bottomLeft,s.bottomLeft,zl,hc,!0),r.lineTo(t+n-s.bottomRight,i+a),r.arc(t+n-s.bottomRight,i+a-s.bottomRight,s.bottomRight,hc,0,!0),r.lineTo(t+n,i+s.topRight),r.arc(t+n-s.topRight,i+s.topRight,s.topRight,0,-hc,!0),r.lineTo(t+s.topLeft,i)}const pee=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),fee=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function gee(r,o){const t=(""+r).match(pee);if(!t||"normal"===t[1])return 1.2*o;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100}return o*r}const mee=r=>+r||0;function TS(r,o){const t={},i=Ra(o),n=i?Object.keys(o):o,a=Ra(r)?i?s=>oa(r[s],r[o[s]]):s=>r[s]:()=>r;for(const s of n)t[s]=mee(a(s));return t}function lL(r){return TS(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Q0(r){return TS(r,["topLeft","topRight","bottomLeft","bottomRight"])}function OA(r){const o=lL(r);return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Hc(r,o){let t=oa((r=r||{}).size,(o=o||Pa.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=oa(r.style,o.style);i&&!(""+i).match(fee)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const n={family:oa(r.family,o.family),lineHeight:gee(oa(r.lineHeight,o.lineHeight),t),size:t,style:i,weight:oa(r.weight,o.weight),string:""};return n.string=function lee(r){return!r||Fa(r.size)||Fa(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}(n),n}function kl(r,o,t,i){let a,s,d,n=!0;for(a=0,s=r.length;a<s;++a)if(d=r[a],void 0!==d&&(void 0!==o&&"function"==typeof d&&(d=d(o),n=!1),void 0!==t&&ml(d)&&(d=d[t%d.length],n=!1),void 0!==d))return i&&!n&&(i.cacheable=!1),d}function rm(r,o){return Object.assign(Object.create(r),o)}function FS(r,o=[""],t=r,i,n=(()=>r[0])){rh(i)||(i=hL("_fallback",r));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:t,_fallback:i,_getTarget:n,override:s=>FS([s,...r],o,t,i)};return new Proxy(a,{deleteProperty:(s,d)=>(delete s[d],delete s._keys,delete r[0][d],!0),get:(s,d)=>AL(s,d,()=>function Mee(r,o,t,i){let n;for(const a of o)if(n=hL(_ee(a,r),t),rh(n))return SS(r,n)?QS(t,i,r,n):n}(d,o,r,s)),getOwnPropertyDescriptor:(s,d)=>Reflect.getOwnPropertyDescriptor(s._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(r[0]),has:(s,d)=>pL(s).includes(d),ownKeys:s=>pL(s),set(s,d,m){const I=s._storage||(s._storage=n());return s[d]=I[d]=m,delete s._keys,!0}})}function Q_(r,o,t,i){const n={_cacheable:!1,_proxy:r,_context:o,_subProxy:t,_stack:new Set,_descriptors:cL(r,i),setContext:a=>Q_(r,a,t,i),override:a=>Q_(r.override(a),o,t,i)};return new Proxy(n,{deleteProperty:(a,s)=>(delete a[s],delete r[s],!0),get:(a,s,d)=>AL(a,s,()=>function yee(r,o,t){const{_proxy:i,_context:n,_subProxy:a,_descriptors:s}=r;let d=i[o];return tm(d)&&s.isScriptable(o)&&(d=function bee(r,o,t,i){const{_proxy:n,_context:a,_subProxy:s,_stack:d}=t;if(d.has(r))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+r);return d.add(r),o=o(a,s||i),d.delete(r),SS(r,o)&&(o=QS(n._scopes,n,r,o)),o}(o,d,r,t)),ml(d)&&d.length&&(d=function wee(r,o,t,i){const{_proxy:n,_context:a,_subProxy:s,_descriptors:d}=t;if(rh(a.index)&&i(r))o=o[a.index%o.length];else if(Ra(o[0])){const m=o,I=n._scopes.filter(J=>J!==m);o=[];for(const J of m){const oe=QS(I,n,r,J);o.push(Q_(oe,a,s&&s[r],d))}}return o}(o,d,r,s.isIndexable)),SS(o,d)&&(d=Q_(d,n,a&&a[o],s)),d}(a,s,d)),getOwnPropertyDescriptor:(a,s)=>a._descriptors.allKeys?Reflect.has(r,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,s),getPrototypeOf:()=>Reflect.getPrototypeOf(r),has:(a,s)=>Reflect.has(r,s),ownKeys:()=>Reflect.ownKeys(r),set:(a,s,d)=>(r[s]=d,delete a[s],!0)})}function cL(r,o={scriptable:!0,indexable:!0}){const{_scriptable:t=o.scriptable,_indexable:i=o.indexable,_allKeys:n=o.allKeys}=r;return{allKeys:n,scriptable:t,indexable:i,isScriptable:tm(t)?t:()=>t,isIndexable:tm(i)?i:()=>i}}const _ee=(r,o)=>r?r+mS(o):o,SS=(r,o)=>Ra(o)&&"adapters"!==r&&(null===Object.getPrototypeOf(o)||o.constructor===Object);function AL(r,o,t){if(Object.prototype.hasOwnProperty.call(r,o))return r[o];const i=t();return r[o]=i,i}function dL(r,o,t){return tm(r)?r(o,t):r}const Cee=(r,o)=>!0===r?o:"string"==typeof r?em(o,r):void 0;function Eee(r,o,t,i,n){for(const a of o){const s=Cee(t,a);if(s){r.add(s);const d=dL(s._fallback,t,n);if(rh(d)&&d!==t&&d!==i)return d}else if(!1===s&&rh(i)&&t!==i)return null}return!1}function QS(r,o,t,i){const n=o._rootScopes,a=dL(o._fallback,t,i),s=[...r,...n],d=new Set;d.add(i);let m=uL(d,s,t,a||t,i);return!(null===m||rh(a)&&a!==t&&(m=uL(d,s,a,m,i),null===m))&&FS(Array.from(d),[""],n,a,()=>function Bee(r,o,t){const i=r._getTarget();o in i||(i[o]={});const n=i[o];return ml(n)&&Ra(t)?t:n}(o,t,i))}function uL(r,o,t,i,n){for(;t;)t=Eee(r,o,t,i,n);return t}function hL(r,o){for(const t of o){if(!t)continue;const i=t[r];if(rh(i))return i}}function pL(r){let o=r._keys;return o||(o=r._keys=function xee(r){const o=new Set;for(const t of r)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))o.add(i);return Array.from(o)}(r._scopes)),o}function fL(r,o,t,i){const{iScale:n}=r,{key:a="r"}=this._parsing,s=new Array(i);let d,m,I,J;for(d=0,m=i;d<m;++d)I=d+t,J=o[I],s[d]={r:n.parse(em(J,a),I)};return s}const Dee=Number.EPSILON||1e-14,R_=(r,o)=>o<r.length&&!r[o].skip&&r[o],gL=r=>"x"===r?"y":"x";function Iee(r,o,t,i){const n=r.skip?o:r,a=o,s=t.skip?o:t,d=_S(a,n),m=_S(s,a);let I=d/(d+m),J=m/(d+m);I=isNaN(I)?0:I,J=isNaN(J)?0:J;const oe=i*I,Ce=i*J;return{previous:{x:a.x-oe*(s.x-n.x),y:a.y-oe*(s.y-n.y)},next:{x:a.x+Ce*(s.x-n.x),y:a.y+Ce*(s.y-n.y)}}}function Dx(r,o,t){return Math.max(Math.min(r,t),o)}function Qee(r,o,t,i,n){let a,s,d,m;if(o.spanGaps&&(r=r.filter(I=>!I.skip)),"monotone"===o.cubicInterpolationMode)!function Fee(r,o="x"){const t=gL(o),i=r.length,n=Array(i).fill(0),a=Array(i);let s,d,m,I=R_(r,0);for(s=0;s<i;++s)if(d=m,m=I,I=R_(r,s+1),m){if(I){const J=I[o]-m[o];n[s]=0!==J?(I[t]-m[t])/J:0}a[s]=d?I?xp(n[s-1])!==xp(n[s])?0:(n[s-1]+n[s])/2:n[s-1]:n[s]}(function kee(r,o,t){const i=r.length;let n,a,s,d,m,I=R_(r,0);for(let J=0;J<i-1;++J)if(m=I,I=R_(r,J+1),m&&I){if(H1(o[J],0,Dee)){t[J]=t[J+1]=0;continue}n=t[J]/o[J],a=t[J+1]/o[J],d=Math.pow(n,2)+Math.pow(a,2),!(d<=9)&&(s=3/Math.sqrt(d),t[J]=n*s*o[J],t[J+1]=a*s*o[J])}})(r,n,a),function Tee(r,o,t="x"){const i=gL(t),n=r.length;let a,s,d,m=R_(r,0);for(let I=0;I<n;++I){if(s=d,d=m,m=R_(r,I+1),!d)continue;const J=d[t],oe=d[i];s&&(a=(J-s[t])/3,d[`cp1${t}`]=J-a,d[`cp1${i}`]=oe-a*o[I]),m&&(a=(m[t]-J)/3,d[`cp2${t}`]=J+a,d[`cp2${i}`]=oe+a*o[I])}}(r,a,o)}(r,n);else{let I=i?r[r.length-1]:r[0];for(a=0,s=r.length;a<s;++a)d=r[a],m=Iee(I,d,r[Math.min(a+1,s-(i?0:1))%s],o.tension),d.cp1x=m.previous.x,d.cp1y=m.previous.y,d.cp2x=m.next.x,d.cp2y=m.next.y,I=d}o.capBezierPoints&&function See(r,o){let t,i,n,a,s,d=Z1(r[0],o);for(t=0,i=r.length;t<i;++t)s=a,a=d,d=t<i-1&&Z1(r[t+1],o),a&&(n=r[t],s&&(n.cp1x=Dx(n.cp1x,o.left,o.right),n.cp1y=Dx(n.cp1y,o.top,o.bottom)),d&&(n.cp2x=Dx(n.cp2x,o.left,o.right),n.cp2y=Dx(n.cp2y,o.top,o.bottom)))}(r,t)}function mL(){return typeof window<"u"&&typeof document<"u"}function RS(r){let o=r.parentNode;return o&&"[object ShadowRoot]"===o.toString()&&(o=o.host),o}function Ix(r,o,t){let i;return"string"==typeof r?(i=parseInt(r,10),-1!==r.indexOf("%")&&(i=i/100*o.parentNode[t])):i=r,i}const kx=r=>window.getComputedStyle(r,null),Pee=["top","right","bottom","left"];function R0(r,o,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const a=Pee[n];i[a]=parseFloat(r[o+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Oee=(r,o,t)=>(r>0||o>0)&&(!t||!t.shadowRoot);function P0(r,o){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:i}=o,n=kx(t),a="border-box"===n.boxSizing,s=R0(n,"padding"),d=R0(n,"border","width"),{x:m,y:I,box:J}=function Lee(r,o){const t=r.touches,i=t&&t.length?t[0]:r,{offsetX:n,offsetY:a}=i;let d,m,s=!1;if(Oee(n,a,r.target))d=n,m=a;else{const I=o.getBoundingClientRect();d=i.clientX-I.left,m=i.clientY-I.top,s=!0}return{x:d,y:m,box:s}}(r,t),oe=s.left+(J&&d.left),Ce=s.top+(J&&d.top);let{width:$e,height:nt}=o;return a&&($e-=s.width+d.width,nt-=s.height+d.height),{x:Math.round((m-oe)/$e*t.width/i),y:Math.round((I-Ce)/nt*t.height/i)}}const PS=r=>Math.round(10*r)/10;function vL(r,o,t){const i=o||1,n=Math.floor(r.height*i),a=Math.floor(r.width*i);r.height=n/i,r.width=a/i;const s=r.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${r.height}px`,s.style.width=`${r.width}px`),(r.currentDevicePixelRatio!==i||s.height!==n||s.width!==a)&&(r.currentDevicePixelRatio=i,s.height=n,s.width=a,r.ctx.setTransform(i,0,0,i,0,0),!0)}const jee=function(){let r=!1;try{const o={get passive(){return r=!0,!1}};window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{}return r}();function _L(r,o){const t=function Ree(r,o){return kx(r).getPropertyValue(o)}(r,o),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function O0(r,o,t,i){return{x:r.x+t*(o.x-r.x),y:r.y+t*(o.y-r.y)}}function Gee(r,o,t,i){return{x:r.x+t*(o.x-r.x),y:"middle"===i?t<.5?r.y:o.y:"after"===i?t<1?r.y:o.y:t>0?o.y:r.y}}function Uee(r,o,t,i){const n={x:r.cp2x,y:r.cp2y},a={x:o.cp1x,y:o.cp1y},s=O0(r,n,t),d=O0(n,a,t),m=O0(a,o,t),I=O0(s,d,t),J=O0(d,m,t);return O0(I,J,t)}const yL=new Map;function q1(r,o,t){return function zee(r,o){o=o||{};const t=r+JSON.stringify(o);let i=yL.get(t);return i||(i=new Intl.NumberFormat(r,o),yL.set(t,i)),i}(o,t).format(r)}function P_(r,o,t){return r?function(r,o){return{x:t=>r+r+o-t,setWidth(t){o=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(o,t):{x:r=>r,setWidth(r){},textAlign:r=>r,xPlus:(r,o)=>r+o,leftForLtr:(r,o)=>r}}function bL(r,o){let t,i;("ltr"===o||"rtl"===o)&&(t=r.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",o,"important"),r.prevTextDirection=i)}function wL(r,o){void 0!==o&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",o[0],o[1]))}function CL(r){return"angle"===r?{between:V1,compare:Fq,normalize:Cu}:{between:Qf,compare:(o,t)=>o-t,normalize:o=>o}}function EL({start:r,end:o,count:t,loop:i,style:n}){return{start:r%t,end:o%t,loop:i&&(o-r+1)%t==0,style:n}}function BL(r,o,t){if(!t)return[r];const{property:i,start:n,end:a}=t,s=o.length,{compare:d,between:m,normalize:I}=CL(i),{start:J,end:oe,loop:Ce,style:$e}=function Jee(r,o,t){const{property:i,start:n,end:a}=t,{between:s,normalize:d}=CL(i),m=o.length;let Ce,$e,{start:I,end:J,loop:oe}=r;if(oe){for(I+=m,J+=m,Ce=0,$e=m;Ce<$e&&s(d(o[I%m][i]),n,a);++Ce)I--,J--;I%=m,J%=m}return J<I&&(J+=m),{start:I,end:J,loop:oe,style:r.style}}(r,o,t),nt=[];let ci,xi,Oi,Tt=!1,Zt=null;for(let Jn=J,tr=J;Jn<=oe;++Jn)xi=o[Jn%s],!xi.skip&&(ci=I(xi[i]),ci!==Oi&&(Tt=m(ci,n,a),null===Zt&&(Tt||m(n,Oi,ci)&&0!==d(n,Oi))&&(Zt=0===d(ci,n)?Jn:tr),null!==Zt&&(!Tt||0===d(a,ci)||m(a,Oi,ci))&&(nt.push(EL({start:Zt,end:Jn,loop:Ce,count:s,style:$e})),Zt=null),tr=Jn,Oi=ci));return null!==Zt&&nt.push(EL({start:Zt,end:oe,loop:Ce,count:s,style:$e})),nt}function ML(r,o){const t=[],i=r.segments;for(let n=0;n<i.length;n++){const a=BL(i[n],r.points,o);a.length&&t.push(...a)}return t}function DL(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function $ee(r,o){return o&&JSON.stringify(r)!==JSON.stringify(o)}var Of=new class qee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(o,t,i,n){const s=t.duration;t.listeners[n].forEach(d=>d({chart:o,initial:t.initial,numSteps:s,currentStep:Math.min(i-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=zO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(o=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const a=i.items;let m,s=a.length-1,d=!1;for(;s>=0;--s)m=a[s],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(o),d=!0):(a[s]=a[a.length-1],a.pop());d&&(n.draw(),this._notify(n,i,o,"progress")),a.length||(i.running=!1,this._notify(n,i,o,"complete"),i.initial=!1),t+=a.length}),this._lastDate=o,0===t&&(this._running=!1)}_getAnims(o){const t=this._charts;let i=t.get(o);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(o,i)),i}listen(o,t,i){this._getAnims(o).listeners[t].push(i)}add(o,t){!t||!t.length||this._getAnims(o).items.push(...t)}has(o){return this._getAnims(o).items.length>0}start(o){const t=this._charts.get(o);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(o){if(!this._running)return!1;const t=this._charts.get(o);return!(!t||!t.running||!t.items.length)}stop(o){const t=this._charts.get(o);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(o,t,Date.now(),"complete")}remove(o){return this._charts.delete(o)}};const IL="transparent",ete={boolean:(r,o,t)=>t>.5?o:r,color(r,o,t){const i=oL(r||IL),n=i.valid&&oL(o||IL);return n&&n.valid?n.mix(i,t).hexString():o},number:(r,o,t)=>r+(o-r)*t};class tte{constructor(o,t,i,n){const a=t[i];n=kl([o.to,n,a,o.from]);const s=kl([o.from,a,n]);this._active=!0,this._fn=o.fn||ete[o.type||typeof s],this._easing=J1[o.easing]||J1.linear,this._start=Math.floor(Date.now()+(o.delay||0)),this._duration=this._total=Math.floor(o.duration),this._loop=!!o.loop,this._target=t,this._prop=i,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(o,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],a=i-this._start,s=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(s,o.duration)),this._total+=a,this._loop=!!o.loop,this._to=kl([o.to,t,n,o.from]),this._from=kl([o.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(o){const t=o-this._start,i=this._duration,n=this._prop,a=this._from,s=this._loop,d=this._to;let m;if(this._active=a!==d&&(s||t<i),!this._active)return this._target[n]=d,void this._notify(!0);t<0?this._target[n]=a:(m=t/i%2,m=s&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[n]=this._fn(a,d,m))}wait(){const o=this._promises||(this._promises=[]);return new Promise((t,i)=>{o.push({res:t,rej:i})})}_notify(o){const t=o?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}Pa.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const rte=Object.keys(Pa.animation);Pa.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>"onProgress"!==r&&"onComplete"!==r&&"fn"!==r}),Pa.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Pa.describe("animations",{_fallback:"animation"}),Pa.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>0|r}}}});class kL{constructor(o,t){this._chart=o,this._properties=new Map,this.configure(t)}configure(o){if(!Ra(o))return;const t=this._properties;Object.getOwnPropertyNames(o).forEach(i=>{const n=o[i];if(!Ra(n))return;const a={};for(const s of rte)a[s]=n[s];(ml(n.properties)&&n.properties||[i]).forEach(s=>{(s===i||!t.has(s))&&t.set(s,a)})})}_animateOptions(o,t){const i=t.options,n=function ate(r,o){if(!o)return;let t=r.options;if(t)return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;r.options=o}(o,i);if(!n)return[];const a=this._createAnimations(n,i);return i.$shared&&function ote(r,o){const t=[],i=Object.keys(o);for(let n=0;n<i.length;n++){const a=r[i[n]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}(o.options.$animations,i).then(()=>{o.options=i},()=>{}),a}_createAnimations(o,t){const i=this._properties,n=[],a=o.$animations||(o.$animations={}),s=Object.keys(t),d=Date.now();let m;for(m=s.length-1;m>=0;--m){const I=s[m];if("$"===I.charAt(0))continue;if("options"===I){n.push(...this._animateOptions(o,t));continue}const J=t[I];let oe=a[I];const Ce=i.get(I);if(oe){if(Ce&&oe.active()){oe.update(Ce,J,d);continue}oe.cancel()}Ce&&Ce.duration?(a[I]=oe=new tte(Ce,o,I,J),n.push(oe)):o[I]=J}return n}update(o,t){if(0===this._properties.size)return void Object.assign(o,t);const i=this._createAnimations(o,t);return i.length?(Of.add(this._chart,i),!0):void 0}}function TL(r,o){const t=r&&r.options||{},i=t.reverse,n=void 0===t.min?o:0,a=void 0===t.max?o:0;return{start:i?a:n,end:i?n:a}}function FL(r,o){const t=[],i=r._getSortedDatasetMetas(o);let n,a;for(n=0,a=i.length;n<a;++n)t.push(i[n].index);return t}function SL(r,o,t,i={}){const n=r.keys,a="single"===i.mode;let s,d,m,I;if(null!==o){for(s=0,d=n.length;s<d;++s){if(m=+n[s],m===t){if(i.all)continue;break}I=r.values[m],Ec(I)&&(a||0===o||xp(o)===xp(I))&&(o+=I)}return o}}function QL(r,o){const t=r&&r.options.stacked;return t||void 0===t&&void 0!==o.stack}function ute(r,o,t){const i=r[o]||(r[o]={});return i[t]||(i[t]={})}function RL(r,o,t,i){for(const n of o.getMatchingVisibleMetas(i).reverse()){const a=r[n.index];if(t&&a>0||!t&&a<0)return n.index}return null}function PL(r,o){const{chart:t,_cachedMeta:i}=r,n=t._stacks||(t._stacks={}),{iScale:a,vScale:s,index:d}=i,m=a.axis,I=s.axis,J=function Ate(r,o,t){return`${r.id}.${o.id}.${t.stack||t.type}`}(a,s,i),oe=o.length;let Ce;for(let $e=0;$e<oe;++$e){const nt=o[$e],{[m]:Tt,[I]:Zt}=nt;Ce=(nt._stacks||(nt._stacks={}))[I]=ute(n,J,Tt),Ce[d]=Zt,Ce._top=RL(Ce,s,!0,i.type),Ce._bottom=RL(Ce,s,!1,i.type)}}function OS(r,o){const t=r.scales;return Object.keys(t).filter(i=>t[i].axis===o).shift()}function ew(r,o){const t=r.controller.index,i=r.vScale&&r.vScale.axis;if(i){o=o||r._parsed;for(const n of o){const a=n._stacks;if(!a||void 0===a[i]||void 0===a[i][t])return;delete a[i][t]}}}const LS=r=>"reset"===r||"none"===r,OL=(r,o)=>o?r:Object.assign({},r);let Dp=(()=>{class r{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=QL(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&ew(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),a=(Ce,$e,nt,Tt)=>"x"===Ce?$e:"r"===Ce?Tt:nt,s=i.xAxisID=oa(n.xAxisID,OS(t,"x")),d=i.yAxisID=oa(n.yAxisID,OS(t,"y")),m=i.rAxisID=oa(n.rAxisID,OS(t,"r")),I=i.indexAxis,J=i.iAxisID=a(I,s,d,m),oe=i.vAxisID=a(I,d,s,m);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(m),i.iScale=this.getScaleForId(J),i.vScale=this.getScaleForId(oe)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&GO(this._data,this),t._stacked&&ew(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(Ra(i))this._data=function cte(r){const o=Object.keys(r),t=new Array(o.length);let i,n,a;for(i=0,n=o.length;i<n;++i)a=o[i],t[i]={x:a,y:r[a]};return t}(i);else if(n!==i){if(n){GO(n,this);const a=this._cachedMeta;ew(a),a._parsed=[]}i&&Object.isExtensible(i)&&function Pq(r,o){r._chartjs?r._chartjs.listeners.push(o):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),jO.forEach(t=>{const i="_onData"+mS(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){const s=n.apply(this,a);return r._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...a)}),s}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=i._stacked;i._stacked=QL(i.vScale,i),i.stack!==n.stack&&(a=!0,ew(i),i.stack=n.stack),this._resyncElements(t),(a||s!==i._stacked)&&PL(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:d}=n,m=s.axis;let oe,Ce,$e,I=0===t&&i===a.length||n._sorted,J=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,$e=a;else{$e=ml(a[t])?this.parseArrayData(n,a,t,i):Ra(a[t])?this.parseObjectData(n,a,t,i):this.parsePrimitiveData(n,a,t,i);const nt=()=>null===Ce[m]||J&&Ce[m]<J[m];for(oe=0;oe<i;++oe)n._parsed[oe+t]=Ce=$e[oe],I&&(nt()&&(I=!1),J=Ce);n._sorted=I}d&&PL(this,$e)}parsePrimitiveData(t,i,n,a){const{iScale:s,vScale:d}=t,m=s.axis,I=d.axis,J=s.getLabels(),oe=s===d,Ce=new Array(a);let $e,nt,Tt;for($e=0,nt=a;$e<nt;++$e)Tt=$e+n,Ce[$e]={[m]:oe||s.parse(J[Tt],Tt),[I]:d.parse(i[Tt],Tt)};return Ce}parseArrayData(t,i,n,a){const{xScale:s,yScale:d}=t,m=new Array(a);let I,J,oe,Ce;for(I=0,J=a;I<J;++I)oe=I+n,Ce=i[oe],m[I]={x:s.parse(Ce[0],oe),y:d.parse(Ce[1],oe)};return m}parseObjectData(t,i,n,a){const{xScale:s,yScale:d}=t,{xAxisKey:m="x",yAxisKey:I="y"}=this._parsing,J=new Array(a);let oe,Ce,$e,nt;for(oe=0,Ce=a;oe<Ce;++oe)$e=oe+n,nt=i[$e],J[oe]={x:s.parse(em(nt,m),$e),y:d.parse(em(nt,I),$e)};return J}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const s=this._cachedMeta,d=i[t.axis];return SL({keys:FL(this.chart,!0),values:i._stacks[t.axis]},d,s.index,{mode:n})}updateRangeFromParsed(t,i,n,a){const s=n[i.axis];let d=null===s?NaN:s;const m=a&&n._stacks[i.axis];a&&m&&(a.values=m,d=SL(a,s,this._cachedMeta.index)),t.min=Math.min(t.min,d),t.max=Math.max(t.max,d)}getMinMax(t,i){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&t===n.iScale,d=a.length,m=this._getOtherScale(t),I=((r,o,t)=>r&&!o.hidden&&o._stacked&&{keys:FL(this.chart,!0),values:null})(i,n),J={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:oe,max:Ce}=function dte(r){const{min:o,max:t,minDefined:i,maxDefined:n}=r.getUserBounds();return{min:i?o:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}(m);let $e,nt;function Tt(){nt=a[$e];const Zt=nt[m.axis];return!Ec(nt[t.axis])||oe>Zt||Ce<Zt}for($e=0;$e<d&&(Tt()||(this.updateRangeFromParsed(J,t,nt,I),!s));++$e);if(s)for($e=d-1;$e>=0;--$e)if(!Tt()){this.updateRangeFromParsed(J,t,nt,I);break}return J}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let a,s,d;for(a=0,s=i.length;a<s;++a)d=i[a][t.axis],Ec(d)&&n.push(d);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,a=i.vScale,s=this.getParsed(t);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function lte(r){let o,t,i,n;return Ra(r)?(o=r.top,t=r.right,i=r.bottom,n=r.left):o=t=i=n=r,{top:o,right:t,bottom:i,left:n,disabled:!1===r}}(oa(this.options.clip,function ste(r,o,t){if(!1===t)return!1;const i=TL(r,t),n=TL(o,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this._cachedMeta,a=n.data||[],s=this.chart.chartArea,d=[],m=this._drawStart||0,I=this._drawCount||a.length-m,J=this.options.drawActiveElementsOnTop;let oe;for(n.dataset&&n.dataset.draw(t,s,m,I),oe=m;oe<m+I;++oe){const Ce=a[oe];Ce.hidden||(Ce.active&&J?d.push(Ce):Ce.draw(t,s))}for(oe=0;oe<d.length;++oe)d[oe].draw(t,s)}getStyle(t,i){const n=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const a=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const d=this._cachedMeta.data[t];s=d.$context||(d.$context=function pte(r,o,t){return rm(r,{active:!1,dataIndex:o,parsed:void 0,raw:void 0,element:t,index:o,mode:"default",type:"data"})}(this.getContext(),t,d)),s.parsed=this.getParsed(t),s.raw=a.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function hte(r,o){return rm(r,{active:!1,dataset:void 0,datasetIndex:o,index:o,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=n,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const a="active"===i,s=this._cachedDataOpts,d=t+"-"+i,m=s[d],I=this.enableOptionSharing&&rh(n);if(m)return OL(m,I);const J=this.chart.config,oe=J.datasetElementScopeKeys(this._type,t),Ce=a?[`${t}Hover`,"hover",t,""]:[t,""],$e=J.getOptionScopes(this.getDataset(),oe),nt=Object.keys(Pa.elements[t]),Zt=J.resolveNamedOptions($e,nt,()=>this.getContext(n,a),Ce);return Zt.$shared&&(Zt.$shared=I,s[d]=Object.freeze(OL(Zt,I))),Zt}_resolveAnimations(t,i,n){const a=this.chart,s=this._cachedDataOpts,d=`animation-${i}`,m=s[d];if(m)return m;let I;if(!1!==a.options.animation){const oe=this.chart.config,Ce=oe.datasetAnimationScopeKeys(this._type,i),$e=oe.getOptionScopes(this.getDataset(),Ce);I=oe.createResolver($e,this.getContext(t,n,i))}const J=new kL(a,I&&I.animations);return I&&I._cacheable&&(s[d]=Object.freeze(J)),J}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||LS(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),a=this._sharedOptions,s=this.getSharedOptions(n),d=this.includeOptions(i,s)||s!==a;return this.updateSharedOptions(s,i,n),{sharedOptions:s,includeOptions:d}}updateElement(t,i,n,a){LS(a)?Object.assign(t,n):this._resolveAnimations(i,a).update(t,n)}updateSharedOptions(t,i,n){t&&!LS(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,a){t.active=a;const s=this.getStyle(i,a);this._resolveAnimations(i,n,a).update(t,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[m,I,J]of this._syncList)this[m](I,J);this._syncList=[];const a=n.length,s=i.length,d=Math.min(s,a);d&&this.parse(0,d),s>a?this._insertElements(a,s-a,t):s<a&&this._removeElements(s,a-s)}_insertElements(t,i,n=!0){const a=this._cachedMeta,s=a.data,d=t+i;let m;const I=J=>{for(J.length+=i,m=J.length-1;m>=d;m--)J[m]=J[m-i]};for(I(s),m=t;m<d;++m)s[m]=new this.dataElementType;this._parsing&&I(a._parsed),this.parse(t,i),n&&this.updateElements(s,t,i,"reset")}updateElements(t,i,n,a){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,i);n._stacked&&ew(n,a)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,a]=t;this[i](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return r.defaults={},r})();function mte(r){const o=r.iScale,t=function gte(r,o){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(o);let i=[];for(let n=0,a=t.length;n<a;n++)i=i.concat(t[n].controller.getAllParsedValues(r));r._cache.$bar=UO(i.sort((n,a)=>n-a))}return r._cache.$bar}(o,r.type);let n,a,s,d,i=o._length;const m=()=>{32767===s||-32768===s||(rh(d)&&(i=Math.min(i,Math.abs(s-d)||i)),d=s)};for(n=0,a=t.length;n<a;++n)s=o.getPixelForValue(t[n]),m();for(d=void 0,n=0,a=o.ticks.length;n<a;++n)s=o.getPixelForTick(n),m();return i}function LL(r,o,t,i){return ml(r)?function yte(r,o,t,i){const n=t.parse(r[0],i),a=t.parse(r[1],i),s=Math.min(n,a),d=Math.max(n,a);let m=s,I=d;Math.abs(s)>Math.abs(d)&&(m=d,I=s),o[t.axis]=I,o._custom={barStart:m,barEnd:I,start:n,end:a,min:s,max:d}}(r,o,t,i):o[t.axis]=t.parse(r,i),o}function YL(r,o,t,i){const n=r.iScale,a=r.vScale,s=n.getLabels(),d=n===a,m=[];let I,J,oe,Ce;for(I=t,J=t+i;I<J;++I)Ce=o[I],oe={},oe[n.axis]=d||n.parse(s[I],I),m.push(LL(Ce,oe,a,I));return m}function YS(r){return r&&void 0!==r.barStart&&void 0!==r.barEnd}function Cte(r,o,t,i){let n=o.borderSkipped;const a={};if(!n)return void(r.borderSkipped=a);if(!0===n)return void(r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:d,reverse:m,top:I,bottom:J}=function wte(r){let o,t,i,n,a;return r.horizontal?(o=r.base>r.x,t="left",i="right"):(o=r.base<r.y,t="bottom",i="top"),o?(n="end",a="start"):(n="start",a="end"),{start:t,end:i,reverse:o,top:n,bottom:a}}(r);"middle"===n&&t&&(r.enableBorderRadius=!0,(t._top||0)===i?n=I:(t._bottom||0)===i?n=J:(a[NL(J,s,d,m)]=!0,n=I)),a[NL(n,s,d,m)]=!0,r.borderSkipped=a}function NL(r,o,t,i){return i?(r=function Ete(r,o,t){return r===o?t:r===t?o:r}(r,o,t),r=jL(r,t,o)):r=jL(r,o,t),r}function jL(r,o,t){return"start"===r?o:"end"===r?t:r}function Bte(r,{inflateAmount:o},t){r.inflateAmount="auto"===o?1===t?.33:0:o}Dp.prototype.datasetElementType=null,Dp.prototype.dataElementType=null;let Mte=(()=>{class r extends Dp{parsePrimitiveData(t,i,n,a){return YL(t,i,n,a)}parseArrayData(t,i,n,a){return YL(t,i,n,a)}parseObjectData(t,i,n,a){const{iScale:s,vScale:d}=t,{xAxisKey:m="x",yAxisKey:I="y"}=this._parsing,J="x"===s.axis?m:I,oe="x"===d.axis?m:I,Ce=[];let $e,nt,Tt,Zt;for($e=n,nt=n+a;$e<nt;++$e)Zt=i[$e],Tt={},Tt[s.axis]=s.parse(em(Zt,J),$e),Ce.push(LL(em(Zt,oe),Tt,d,$e));return Ce}updateRangeFromParsed(t,i,n,a){super.updateRangeFromParsed(t,i,n,a);const s=n._custom;s&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:n,vScale:a}=i,s=this.getParsed(t),d=s._custom,m=YS(d)?"["+d.start+", "+d.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:m}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,n,a){const s="reset"===a,{index:d,_cachedMeta:{vScale:m}}=this,I=m.getBasePixel(),J=m.isHorizontal(),oe=this._getRuler(),{sharedOptions:Ce,includeOptions:$e}=this._getSharedOptions(i,a);for(let nt=i;nt<i+n;nt++){const Tt=this.getParsed(nt),Zt=s||Fa(Tt[m.axis])?{base:I,head:I}:this._calculateBarValuePixels(nt),ci=this._calculateBarIndexPixels(nt,oe),xi=(Tt._stacks||{})[m.axis],Oi={horizontal:J,base:Zt.base,enableBorderRadius:!xi||YS(Tt._custom)||d===xi._top||d===xi._bottom,x:J?Zt.head:ci.center,y:J?ci.center:Zt.head,height:J?ci.size:Math.abs(Zt.size),width:J?Math.abs(Zt.size):ci.size};$e&&(Oi.options=Ce||this.resolveDataElementOptions(nt,t[nt].active?"active":a));const Ui=Oi.options||t[nt].options;Cte(Oi,Ui,xi,d),Bte(Oi,Ui,oe.ratio),this.updateElement(t[nt],nt,Oi,a)}}_getStacks(t,i){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(I=>I.controller.options.grouped),s=n.options.stacked,d=[],m=I=>{const J=I.controller.getParsed(i),oe=J&&J[I.vScale.axis];if(Fa(oe)||isNaN(oe))return!0};for(const I of a)if((void 0===i||!m(I))&&((!1===s||-1===d.indexOf(I.stack)||void 0===s&&void 0===I.stack)&&d.push(I.stack),I.index===t))break;return d.length||d.push(void 0),d}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,n){const a=this._getStacks(t,n),s=void 0!==i?a.indexOf(i):-1;return-1===s?a.length-1:s}_getRuler(){const t=this.options,i=this._cachedMeta,n=i.iScale,a=[];let s,d;for(s=0,d=i.data.length;s<d;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const m=t.barThickness;return{min:m||mte(i),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:m?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:n},options:{base:a,minBarLength:s}}=this,d=a||0,m=this.getParsed(t),I=m._custom,J=YS(I);let nt,Tt,oe=m[i.axis],Ce=0,$e=n?this.applyStack(i,m,n):oe;$e!==oe&&(Ce=$e-oe,$e=oe),J&&(oe=I.barStart,$e=I.barEnd-I.barStart,0!==oe&&xp(oe)!==xp(I.barEnd)&&(Ce=0),Ce+=oe);const Zt=Fa(a)||J?Ce:a;let ci=i.getPixelForValue(Zt);if(nt=this.chart.getDataVisibility(t)?i.getPixelForValue(Ce+$e):ci,Tt=nt-ci,Math.abs(Tt)<s){Tt=function bte(r,o,t){return 0!==r?xp(r):(o.isHorizontal()?1:-1)*(o.min>=t?1:-1)}(Tt,i,d)*s,oe===d&&(ci-=Tt/2);const xi=i.getPixelForDecimal(0),Oi=i.getPixelForDecimal(1),Ui=Math.min(xi,Oi),Hi=Math.max(xi,Oi);ci=Math.max(Math.min(ci,Hi),Ui),nt=ci+Tt}if(ci===i.getPixelForValue(d)){const xi=xp(Tt)*i.getLineWidthForValue(d)/2;ci+=xi,Tt-=xi}return{size:Tt,base:ci,head:nt,center:nt+Tt/2}}_calculateBarIndexPixels(t,i){const n=i.scale,a=this.options,s=a.skipNull,d=oa(a.maxBarThickness,1/0);let m,I;if(i.grouped){const J=s?this._getStackCount(t):i.stackCount,oe="flex"===a.barThickness?function _te(r,o,t,i){const n=o.pixels,a=n[r];let s=r>0?n[r-1]:null,d=r<n.length-1?n[r+1]:null;const m=t.categoryPercentage;null===s&&(s=a-(null===d?o.end-o.start:d-a)),null===d&&(d=a+a-s);const I=a-(a-Math.min(s,d))/2*m;return{chunk:Math.abs(d-s)/2*m/i,ratio:t.barPercentage,start:I}}(t,i,a,J):function vte(r,o,t,i){const n=t.barThickness;let a,s;return Fa(n)?(a=o.min*t.categoryPercentage,s=t.barPercentage):(a=n*i,s=1),{chunk:a/i,ratio:s,start:o.pixels[r]-a/2}}(t,i,a,J),Ce=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);m=oe.start+oe.chunk*Ce+oe.chunk/2,I=Math.min(d,oe.chunk*oe.ratio)}else m=n.getPixelForValue(this.getParsed(t)[n.axis],t),I=Math.min(d,i.min*i.ratio);return{base:m-I/2,head:m+I/2,center:m,size:I}}draw(){const t=this._cachedMeta,i=t.vScale,n=t.data,a=n.length;let s=0;for(;s<a;++s)null!==this.getParsed(s)[i.axis]&&n[s].draw(this._ctx)}}return r.id="bar",r.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},r.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},r})(),xte=(()=>{class r extends Dp{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,n,a){const s=super.parsePrimitiveData(t,i,n,a);for(let d=0;d<s.length;d++)s[d]._custom=this.resolveDataElementOptions(d+n).radius;return s}parseArrayData(t,i,n,a){const s=super.parseArrayData(t,i,n,a);for(let d=0;d<s.length;d++)s[d]._custom=oa(i[n+d][2],this.resolveDataElementOptions(d+n).radius);return s}parseObjectData(t,i,n,a){const s=super.parseObjectData(t,i,n,a);for(let d=0;d<s.length;d++){const m=i[n+d];s[d]._custom=oa(m&&m.r&&+m.r,this.resolveDataElementOptions(d+n).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let n=t.length-1;n>=0;--n)i=Math.max(i,t[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,{xScale:n,yScale:a}=i,s=this.getParsed(t),d=n.getLabelForValue(s.x),m=a.getLabelForValue(s.y),I=s._custom;return{label:i.label,value:"("+d+", "+m+(I?", "+I:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,n,a){const s="reset"===a,{iScale:d,vScale:m}=this._cachedMeta,{sharedOptions:I,includeOptions:J}=this._getSharedOptions(i,a),oe=d.axis,Ce=m.axis;for(let $e=i;$e<i+n;$e++){const nt=t[$e],Tt=!s&&this.getParsed($e),Zt={},ci=Zt[oe]=s?d.getPixelForDecimal(.5):d.getPixelForValue(Tt[oe]),xi=Zt[Ce]=s?m.getBasePixel():m.getPixelForValue(Tt[Ce]);Zt.skip=isNaN(ci)||isNaN(xi),J&&(Zt.options=I||this.resolveDataElementOptions($e,nt.active?"active":a),s&&(Zt.options.radius=0)),this.updateElement(nt,$e,Zt,a)}}resolveDataElementOptions(t,i){const n=this.getParsed(t);let a=super.resolveDataElementOptions(t,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return"active"!==i&&(a.radius=0),a.radius+=oa(n&&n._custom,s),a}}return r.id="bubble",r.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},r.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},r})(),GL=(()=>{class r extends Dp{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const n=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=n;else{let d,m,s=I=>+n[I];if(Ra(n[t])){const{key:I="value"}=this._parsing;s=J=>+em(n[J],I)}for(d=t,m=t+i;d<m;++d)a._parsed[d]=s(d)}}_getRotation(){return Uh(this.options.rotation-90)}_getCircumference(){return Uh(this.options.circumference)}_getRotationExtents(){let t=qs,i=-qs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),d=a._getCircumference();t=Math.min(t,s),i=Math.max(i,s+d)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:n}=i,a=this._cachedMeta,s=a.data,d=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,m=Math.max((Math.min(n.width,n.height)-d)/2,0),I=Math.min(((r,o)=>"string"==typeof r&&r.endsWith("%")?parseFloat(r)/100:r/o)(this.options.cutout,m),1),J=this._getRingWeight(this.index),{circumference:oe,rotation:Ce}=this._getRotationExtents(),{ratioX:$e,ratioY:nt,offsetX:Tt,offsetY:Zt}=function Dte(r,o,t){let i=1,n=1,a=0,s=0;if(o<qs){const d=r,m=d+o,I=Math.cos(d),J=Math.sin(d),oe=Math.cos(m),Ce=Math.sin(m),$e=(Oi,Ui,Hi)=>V1(Oi,d,m,!0)?1:Math.max(Ui,Ui*t,Hi,Hi*t),nt=(Oi,Ui,Hi)=>V1(Oi,d,m,!0)?-1:Math.min(Ui,Ui*t,Hi,Hi*t),Tt=$e(0,I,oe),Zt=$e(hc,J,Ce),ci=nt(zl,I,oe),xi=nt(zl+hc,J,Ce);i=(Tt-ci)/2,n=(Zt-xi)/2,a=-(Tt+ci)/2,s=-(Zt+xi)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:s}}(Ce,oe,I),Oi=Math.max(Math.min((n.width-d)/$e,(n.height-d)/nt)/2,0),Ui=FO(this.options.radius,Oi),gn=(Ui-Math.max(Ui*I,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Tt*Ui,this.offsetY=Zt*Ui,a.total=this.calculateTotal(),this.outerRadius=Ui-gn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-gn*J,0),this.updateElements(s,0,s.length,t)}_circumference(t,i){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===a._parsed[t]||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*s/qs)}updateElements(t,i,n,a){const s="reset"===a,d=this.chart,m=d.chartArea,oe=(m.left+m.right)/2,Ce=(m.top+m.bottom)/2,$e=s&&d.options.animation.animateScale,nt=$e?0:this.innerRadius,Tt=$e?0:this.outerRadius,{sharedOptions:Zt,includeOptions:ci}=this._getSharedOptions(i,a);let Oi,xi=this._getRotation();for(Oi=0;Oi<i;++Oi)xi+=this._circumference(Oi,s);for(Oi=i;Oi<i+n;++Oi){const Ui=this._circumference(Oi,s),Hi=t[Oi],gn={x:oe+this.offsetX,y:Ce+this.offsetY,startAngle:xi,endAngle:xi+Ui,circumference:Ui,outerRadius:Tt,innerRadius:nt};ci&&(gn.options=Zt||this.resolveDataElementOptions(Oi,Hi.active?"active":a)),xi+=Ui,this.updateElement(Hi,Oi,gn,a)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let a,n=0;for(a=0;a<i.length;a++){const s=t._parsed[a];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?qs*(Math.abs(t)/i):0}getLabelAndValue(t){const n=this.chart,a=n.data.labels||[],s=q1(this._cachedMeta._parsed[t],n.options.locale);return{label:a[t]||"",value:s}}getMaxBorderWidth(t){let i=0;const n=this.chart;let a,s,d,m,I;if(!t)for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){d=n.getDatasetMeta(a),t=d.data,m=d.controller;break}if(!t)return 0;for(a=0,s=t.length;a<s;++a)I=m.resolveDataElementOptions(a),"inner"!==I.borderAlign&&(i=Math.max(i,I.borderWidth||0,I.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let n=0,a=t.length;n<a;++n){const s=this.resolveDataElementOptions(n);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(t){return Math.max(oa(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return r.id="doughnut",r.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},r.descriptors={_scriptable:o=>"spacing"!==o,_indexable:o=>"spacing"!==o},r.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const t=o.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=o.legend.options;return t.labels.map((n,a)=>{const d=o.getDatasetMeta(0).controller.getStyle(a);return{text:n,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!o.getDataVisibility(a),index:a}})}return[]}},onClick(o,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(o){let t=o.label;const i=": "+o.formattedValue;return ml(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},r})(),Ite=(()=>{class r extends Dp{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=i,d=this.chart._animationsDisabled;let{start:m,count:I}=VO(i,a,d);this._drawStart=m,this._drawCount=I,JO(i)&&(m=0,I=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const J=this.resolveDatasetElementOptions(t);this.options.showLine||(J.borderWidth=0),J.segment=this.options.segment,this.updateElement(n,void 0,{animated:!d,options:J},t),this.updateElements(a,m,I,t)}updateElements(t,i,n,a){const s="reset"===a,{iScale:d,vScale:m,_stacked:I,_dataset:J}=this._cachedMeta,{sharedOptions:oe,includeOptions:Ce}=this._getSharedOptions(i,a),$e=d.axis,nt=m.axis,{spanGaps:Tt,segment:Zt}=this.options,ci=F_(Tt)?Tt:Number.POSITIVE_INFINITY,xi=this.chart._animationsDisabled||s||"none"===a;let Oi=i>0&&this.getParsed(i-1);for(let Ui=i;Ui<i+n;++Ui){const Hi=t[Ui],gn=this.getParsed(Ui),pn=xi?Hi:{},Jn=Fa(gn[nt]),tr=pn[$e]=d.getPixelForValue(gn[$e],Ui),pr=pn[nt]=s||Jn?m.getBasePixel():m.getPixelForValue(I?this.applyStack(m,gn,I):gn[nt],Ui);pn.skip=isNaN(tr)||isNaN(pr)||Jn,pn.stop=Ui>0&&Math.abs(gn[$e]-Oi[$e])>ci,Zt&&(pn.parsed=gn,pn.raw=J.data[Ui]),Ce&&(pn.options=oe||this.resolveDataElementOptions(Ui,Hi.active?"active":a)),xi||this.updateElement(Hi,Ui,pn,a),Oi=gn}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),d=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,d)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return r.id="line",r.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},r.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},r})(),kte=(()=>{class r extends Dp{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this.chart,a=n.data.labels||[],s=q1(this._cachedMeta._parsed[t].r,n.options.locale);return{label:a[t]||"",value:s}}parseObjectData(t,i,n,a){return fL.bind(this)(t,i,n,a)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,n=t.options,a=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(a/2,0),m=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-m*this.index,this.innerRadius=this.outerRadius-m}updateElements(t,i,n,a){const s="reset"===a,d=this.chart,I=d.options.animation,J=this._cachedMeta.rScale,oe=J.xCenter,Ce=J.yCenter,$e=J.getIndexAngle(0)-.5*zl;let Tt,nt=$e;const Zt=360/this.countVisibleElements();for(Tt=0;Tt<i;++Tt)nt+=this._computeAngle(Tt,a,Zt);for(Tt=i;Tt<i+n;Tt++){const ci=t[Tt];let xi=nt,Oi=nt+this._computeAngle(Tt,a,Zt),Ui=d.getDataVisibility(Tt)?J.getDistanceFromCenterForValue(this.getParsed(Tt).r):0;nt=Oi,s&&(I.animateScale&&(Ui=0),I.animateRotate&&(xi=Oi=$e));const Hi={x:oe,y:Ce,innerRadius:0,outerRadius:Ui,startAngle:xi,endAngle:Oi,options:this.resolveDataElementOptions(Tt,ci.active?"active":a)};this.updateElement(ci,Tt,Hi,a)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(t,i,n){return this.chart.getDataVisibility(t)?Uh(this.resolveDataElementOptions(t,i).angle||n):0}}return r.id="polarArea",r.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},r.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const t=o.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=o.legend.options;return t.labels.map((n,a)=>{const d=o.getDatasetMeta(0).controller.getStyle(a);return{text:n,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!o.getDataVisibility(a),index:a}})}return[]}},onClick(o,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:o=>o.chart.data.labels[o.dataIndex]+": "+o.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},r})(),Tte=(()=>{class r extends GL{}return r.id="pie",r.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},r})(),Fte=(()=>{class r extends Dp{getLabelAndValue(t){const i=this._cachedMeta.vScale,n=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(t,i,n,a){return fL.bind(this)(t,i,n,a)}update(t){const i=this._cachedMeta,n=i.dataset,a=i.data||[],s=i.iScale.getLabels();if(n.points=a,"resize"!==t){const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),this.updateElement(n,void 0,{_loop:!0,_fullLoop:s.length===a.length,options:d},t)}this.updateElements(a,0,a.length,t)}updateElements(t,i,n,a){const s=this._cachedMeta.rScale,d="reset"===a;for(let m=i;m<i+n;m++){const I=t[m],J=this.resolveDataElementOptions(m,I.active?"active":a),oe=s.getPointPositionForValue(m,this.getParsed(m).r),Ce=d?s.xCenter:oe.x,$e=d?s.yCenter:oe.y,nt={x:Ce,y:$e,angle:oe.angle,skip:isNaN(Ce)||isNaN($e),options:J};this.updateElement(I,m,nt,a)}}}return r.id="radar",r.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},r.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},r})();class zh{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(o){const{x:t,y:i}=this.getProps(["x","y"],o);return{x:t,y:i}}hasValue(){return F_(this.x)&&F_(this.y)}getProps(o,t){const i=this.$animations;if(!t||!i)return this;const n={};return o.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}}zh.defaults={},zh.defaultRoutes=void 0;const UL={values:r=>ml(r)?r:""+r,numeric(r,o,t){if(0===r)return"0";const i=this.chart.options.locale;let n,a=r;if(t.length>1){const I=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(I<1e-4||I>1e15)&&(n="scientific"),a=function Ste(r,o){let t=o.length>3?o[2].value-o[1].value:o[1].value-o[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}(r,t)}const s=oh(Math.abs(a)),d=Math.max(Math.min(-1*Math.floor(s),20),0),m={notation:n,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(m,this.options.ticks.format),q1(r,i,m)},logarithmic(r,o,t){if(0===r)return"0";const i=r/Math.pow(10,Math.floor(oh(r)));return 1===i||2===i||5===i?UL.numeric.call(this,r,o,t):""}};var Tx={formatters:UL};function Fx(r,o,t,i,n){const a=oa(i,0),s=Math.min(oa(n,r.length),r.length);let m,I,J,d=0;for(t=Math.ceil(t),n&&(m=n-i,t=m/Math.floor(m/t)),J=a;J<0;)d++,J=Math.round(a+d*t);for(I=Math.max(a,0);I<s;I++)I===J&&(o.push(r[I]),d++,J=Math.round(a+d*t))}Pa.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,o)=>o.lineWidth,tickColor:(r,o)=>o.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Pa.route("scale.ticks","color","","color"),Pa.route("scale.grid","color","","borderColor"),Pa.route("scale.grid","borderColor","","borderColor"),Pa.route("scale.title","color","","color"),Pa.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&"callback"!==r&&"parser"!==r,_indexable:r=>"borderDash"!==r&&"tickBorderDash"!==r}),Pa.describe("scales",{_fallback:"scale"}),Pa.describe("scale.ticks",{_scriptable:r=>"backdropPadding"!==r&&"callback"!==r,_indexable:r=>"backdropPadding"!==r});const zL=(r,o,t)=>"top"===o||"left"===o?r[o]+t:r[o]-t;function HL(r,o){const t=[],i=r.length/o,n=r.length;let a=0;for(;a<n;a+=i)t.push(r[Math.floor(a)]);return t}function jte(r,o,t){const i=r.ticks.length,n=Math.min(o,i-1),a=r._startPixel,s=r._endPixel,d=1e-6;let I,m=r.getPixelForTick(n);if(!(t&&(I=1===i?Math.max(m-a,s-m):0===o?(r.getPixelForTick(1)-m)/2:(m-r.getPixelForTick(n-1))/2,m+=n<o?I:-I,m<a-d||m>s+d)))return m}function tw(r){return r.drawTicks?r.tickLength:0}function VL(r,o){if(!r.display)return 0;const t=Hc(r.font,o),i=OA(r.padding);return(ml(r.text)?r.text.length:1)*t.lineHeight+i.height}function Hte(r,o,t){let i=bS(r);return(t&&"right"!==o||!t&&"right"===o)&&(i=(r=>"left"===r?"right":"right"===r?"left":r)(i)),i}class L0 extends zh{constructor(o){super(),this.id=o.id,this.type=o.type,this.options=void 0,this.ctx=o.ctx,this.chart=o.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(o){this.options=o.setContext(this.getContext()),this.axis=o.axis,this._userMin=this.parse(o.min),this._userMax=this.parse(o.max),this._suggestedMin=this.parse(o.suggestedMin),this._suggestedMax=this.parse(o.suggestedMax)}parse(o,t){return o}getUserBounds(){let{_userMin:o,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return o=nh(o,Number.POSITIVE_INFINITY),t=nh(t,Number.NEGATIVE_INFINITY),i=nh(i,Number.POSITIVE_INFINITY),n=nh(n,Number.NEGATIVE_INFINITY),{min:nh(o,i),max:nh(t,n),minDefined:Ec(o),maxDefined:Ec(t)}}getMinMax(o){let s,{min:t,max:i,minDefined:n,maxDefined:a}=this.getUserBounds();if(n&&a)return{min:t,max:i};const d=this.getMatchingVisibleMetas();for(let m=0,I=d.length;m<I;++m)s=d[m].controller.getMinMax(this,o),n||(t=Math.min(t,s.min)),a||(i=Math.max(i,s.max));return t=a&&t>i?i:t,i=n&&t>i?t:i,{min:nh(t,nh(i,t)),max:nh(i,nh(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$s(this.options.beforeUpdate,[this])}update(o,t,i){const{beginAtZero:n,grace:a,ticks:s}=this.options,d=s.sampleSize;this.beforeUpdate(),this.maxWidth=o,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function vee(r,o,t){const{min:i,max:n}=r,a=FO(o,(n-i)/2),s=(d,m)=>t&&0===d?0:d+m;return{min:s(i,-Math.abs(a)),max:s(n,a)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=d<this.ticks.length;this._convertTicksToLabels(m?HL(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function Qte(r,o){const t=r.options.ticks,i=t.maxTicksLimit||function Rte(r){const o=r.options.offset,t=r._tickSize();return Math.floor(Math.min(r._length/t+(o?0:1),r._maxLength/t))}(r),n=t.major.enabled?function Ote(r){const o=[];let t,i;for(t=0,i=r.length;t<i;t++)r[t].major&&o.push(t);return o}(o):[],a=n.length,s=n[0],d=n[a-1],m=[];if(a>i)return function Lte(r,o,t,i){let s,n=0,a=t[0];for(i=Math.ceil(i),s=0;s<r.length;s++)s===a&&(o.push(r[s]),n++,a=t[n*i])}(o,m,n,a/i),m;const I=function Pte(r,o,t){const i=function Yte(r){const o=r.length;let t,i;if(o<2)return!1;for(i=r[0],t=1;t<o;++t)if(r[t]-r[t-1]!==i)return!1;return i}(r),n=o.length/t;if(!i)return Math.max(n,1);const a=function kq(r){const o=[],t=Math.sqrt(r);let i;for(i=1;i<t;i++)r%i==0&&(o.push(i),o.push(r/i));return t===(0|t)&&o.push(t),o.sort((n,a)=>n-a).pop(),o}(i);for(let s=0,d=a.length-1;s<d;s++){const m=a[s];if(m>n)return m}return Math.max(n,1)}(n,o,i);if(a>0){let J,oe;const Ce=a>1?Math.round((d-s)/(a-1)):null;for(Fx(o,m,I,Fa(Ce)?0:s-Ce,s),J=0,oe=a-1;J<oe;J++)Fx(o,m,I,n[J],n[J+1]);return Fx(o,m,I,d,Fa(Ce)?o.length:d+Ce),m}return Fx(o,m,I),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,o=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,o=!o),this._startPixel=t,this._endPixel=i,this._reversePixels=o,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$s(this.options.afterUpdate,[this])}beforeSetDimensions(){$s(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$s(this.options.afterSetDimensions,[this])}_callHooks(o){this.chart.notifyPlugins(o,this.getContext()),$s(this.options[o],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$s(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(o){const t=this.options.ticks;let i,n,a;for(i=0,n=o.length;i<n;i++)a=o[i],a.label=$s(t.callback,[a.value,i,o],this)}afterTickToLabelConversion(){$s(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$s(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const o=this.options,t=o.ticks,i=this.ticks.length,n=t.minRotation||0,a=t.maxRotation;let d,m,I,s=n;if(!this._isVisible()||!t.display||n>=a||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const J=this._getLabelSizes(),oe=J.widest.width,Ce=J.highest.height,$e=xA(this.chart.width-oe,0,this.maxWidth);d=o.offset?this.maxWidth/i:$e/(i-1),oe+6>d&&(d=$e/(i-(o.offset?.5:1)),m=this.maxHeight-tw(o.grid)-t.padding-VL(o.title,this.chart.options.font),I=Math.sqrt(oe*oe+Ce*Ce),s=vS(Math.min(Math.asin(xA((J.highest.height+6)/d,-1,1)),Math.asin(xA(m/I,-1,1))-Math.asin(xA(Ce/I,-1,1)))),s=Math.max(n,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){$s(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$s(this.options.beforeFit,[this])}fit(){const o={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:a}}=this,s=this._isVisible(),d=this.isHorizontal();if(s){const m=VL(n,t.options.font);if(d?(o.width=this.maxWidth,o.height=tw(a)+m):(o.height=this.maxHeight,o.width=tw(a)+m),i.display&&this.ticks.length){const{first:I,last:J,widest:oe,highest:Ce}=this._getLabelSizes(),$e=2*i.padding,nt=Uh(this.labelRotation),Tt=Math.cos(nt),Zt=Math.sin(nt);d?o.height=Math.min(this.maxHeight,o.height+(i.mirror?0:Zt*oe.width+Tt*Ce.height)+$e):o.width=Math.min(this.maxWidth,o.width+(i.mirror?0:Tt*oe.width+Zt*Ce.height)+$e),this._calculatePadding(I,J,Zt,Tt)}}this._handleMargins(),d?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=o.height):(this.width=o.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(o,t,i,n){const{ticks:{align:a,padding:s},position:d}=this.options,m=0!==this.labelRotation,I="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const J=this.getPixelForTick(0)-this.left,oe=this.right-this.getPixelForTick(this.ticks.length-1);let Ce=0,$e=0;m?I?(Ce=n*o.width,$e=i*t.height):(Ce=i*o.height,$e=n*t.width):"start"===a?$e=t.width:"end"===a?Ce=o.width:"inner"!==a&&(Ce=o.width/2,$e=t.width/2),this.paddingLeft=Math.max((Ce-J+s)*this.width/(this.width-J),0),this.paddingRight=Math.max(($e-oe+s)*this.width/(this.width-oe),0)}else{let J=t.height/2,oe=o.height/2;"start"===a?(J=0,oe=o.height):"end"===a&&(J=t.height,oe=0),this.paddingTop=J+s,this.paddingBottom=oe+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$s(this.options.afterFit,[this])}isHorizontal(){const{axis:o,position:t}=this.options;return"top"===t||"bottom"===t||"x"===o}isFullSize(){return this.options.fullSize}_convertTicksToLabels(o){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(o),t=0,i=o.length;t<i;t++)Fa(o[t].label)&&(o.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let o=this._labelSizes;if(!o){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=HL(i,t)),this._labelSizes=o=this._computeLabelSizes(i,i.length)}return o}_computeLabelSizes(o,t){const{ctx:i,_longestTextCache:n}=this,a=[],s=[];let I,J,oe,Ce,$e,nt,Tt,Zt,ci,xi,Oi,d=0,m=0;for(I=0;I<t;++I){if(Ce=o[I].label,$e=this._resolveTickFontOptions(I),i.font=nt=$e.string,Tt=n[nt]=n[nt]||{data:{},gc:[]},Zt=$e.lineHeight,ci=xi=0,Fa(Ce)||ml(Ce)){if(ml(Ce))for(J=0,oe=Ce.length;J<oe;++J)Oi=Ce[J],!Fa(Oi)&&!ml(Oi)&&(ci=Bx(i,Tt.data,Tt.gc,ci,Oi),xi+=Zt)}else ci=Bx(i,Tt.data,Tt.gc,ci,Ce),xi=Zt;a.push(ci),s.push(xi),d=Math.max(ci,d),m=Math.max(xi,m)}!function Gte(r,o){Ss(r,t=>{const i=t.gc,n=i.length/2;let a;if(n>o){for(a=0;a<n;++a)delete t.data[i[a]];i.splice(0,n)}})}(n,t);const Ui=a.indexOf(d),Hi=s.indexOf(m),gn=pn=>({width:a[pn]||0,height:s[pn]||0});return{first:gn(0),last:gn(t-1),widest:gn(Ui),highest:gn(Hi),widths:a,heights:s}}getLabelForValue(o){return o}getPixelForValue(o,t){return NaN}getValueForPixel(o){}getPixelForTick(o){const t=this.ticks;return o<0||o>t.length-1?null:this.getPixelForValue(t[o].value)}getPixelForDecimal(o){this._reversePixels&&(o=1-o);const t=this._startPixel+o*this._length;return function Sq(r){return xA(r,-32768,32767)}(this._alignToPixels?F0(this.chart,t,0):t)}getDecimalForPixel(o){const t=(o-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:o,max:t}=this;return o<0&&t<0?t:o>0&&t>0?o:0}getContext(o){const t=this.ticks||[];if(o>=0&&o<t.length){const i=t[o];return i.$context||(i.$context=function zte(r,o,t){return rm(r,{tick:t,index:o,type:"tick"})}(this.getContext(),o,i))}return this.$context||(this.$context=function Ute(r,o){return rm(r,{scale:o,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const o=this.options.ticks,t=Uh(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),s=o.autoSkipPadding||0,d=a?a.widest.width+s:0,m=a?a.highest.height+s:0;return this.isHorizontal()?m*i>d*n?d/i:m/n:m*n<d*i?m/i:d/n}_isVisible(){const o=this.options.display;return"auto"!==o?!!o:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(o){const t=this.axis,i=this.chart,n=this.options,{grid:a,position:s}=n,d=a.offset,m=this.isHorizontal(),J=this.ticks.length+(d?1:0),oe=tw(a),Ce=[],$e=a.setContext(this.getContext()),nt=$e.drawBorder?$e.borderWidth:0,Tt=nt/2,Zt=function(ko){return F0(i,ko,nt)};let ci,xi,Oi,Ui,Hi,gn,pn,Jn,tr,pr,ho,io;if("top"===s)ci=Zt(this.bottom),gn=this.bottom-oe,Jn=ci-Tt,pr=Zt(o.top)+Tt,io=o.bottom;else if("bottom"===s)ci=Zt(this.top),pr=o.top,io=Zt(o.bottom)-Tt,gn=ci+Tt,Jn=this.top+oe;else if("left"===s)ci=Zt(this.right),Hi=this.right-oe,pn=ci-Tt,tr=Zt(o.left)+Tt,ho=o.right;else if("right"===s)ci=Zt(this.left),tr=o.left,ho=Zt(o.right)-Tt,Hi=ci+Tt,pn=this.left+oe;else if("x"===t){if("center"===s)ci=Zt((o.top+o.bottom)/2+.5);else if(Ra(s)){const ko=Object.keys(s)[0];ci=Zt(this.chart.scales[ko].getPixelForValue(s[ko]))}pr=o.top,io=o.bottom,gn=ci+Tt,Jn=gn+oe}else if("y"===t){if("center"===s)ci=Zt((o.left+o.right)/2);else if(Ra(s)){const ko=Object.keys(s)[0];ci=Zt(this.chart.scales[ko].getPixelForValue(s[ko]))}Hi=ci-Tt,pn=Hi-oe,tr=o.left,ho=o.right}const sa=oa(n.ticks.maxTicksLimit,J),Rs=Math.max(1,Math.ceil(J/sa));for(xi=0;xi<J;xi+=Rs){const ko=a.setContext(this.getContext(xi)),ur=ko.lineWidth,br=ko.color,no=ko.borderDash||[],Da=ko.borderDashOffset,Al=ko.tickWidth,YA=ko.tickColor,pc=ko.tickBorderDash||[],ed=ko.tickBorderDashOffset;Oi=jte(this,xi,d),void 0!==Oi&&(Ui=F0(i,Oi,ur),m?Hi=pn=tr=ho=Ui:gn=Jn=pr=io=Ui,Ce.push({tx1:Hi,ty1:gn,tx2:pn,ty2:Jn,x1:tr,y1:pr,x2:ho,y2:io,width:ur,color:br,borderDash:no,borderDashOffset:Da,tickWidth:Al,tickColor:YA,tickBorderDash:pc,tickBorderDashOffset:ed}))}return this._ticksLength=J,this._borderValue=ci,Ce}_computeLabelItems(o){const t=this.axis,i=this.options,{position:n,ticks:a}=i,s=this.isHorizontal(),d=this.ticks,{align:m,crossAlign:I,padding:J,mirror:oe}=a,Ce=tw(i.grid),$e=Ce+J,nt=oe?-J:$e,Tt=-Uh(this.labelRotation),Zt=[];let ci,xi,Oi,Ui,Hi,gn,pn,Jn,tr,pr,ho,io,sa="middle";if("top"===n)gn=this.bottom-nt,pn=this._getXAxisLabelAlignment();else if("bottom"===n)gn=this.top+nt,pn=this._getXAxisLabelAlignment();else if("left"===n){const ko=this._getYAxisLabelAlignment(Ce);pn=ko.textAlign,Hi=ko.x}else if("right"===n){const ko=this._getYAxisLabelAlignment(Ce);pn=ko.textAlign,Hi=ko.x}else if("x"===t){if("center"===n)gn=(o.top+o.bottom)/2+$e;else if(Ra(n)){const ko=Object.keys(n)[0];gn=this.chart.scales[ko].getPixelForValue(n[ko])+$e}pn=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)Hi=(o.left+o.right)/2-$e;else if(Ra(n)){const ko=Object.keys(n)[0];Hi=this.chart.scales[ko].getPixelForValue(n[ko])}pn=this._getYAxisLabelAlignment(Ce).textAlign}"y"===t&&("start"===m?sa="top":"end"===m&&(sa="bottom"));const Rs=this._getLabelSizes();for(ci=0,xi=d.length;ci<xi;++ci){Oi=d[ci],Ui=Oi.label;const ko=a.setContext(this.getContext(ci));Jn=this.getPixelForTick(ci)+a.labelOffset,tr=this._resolveTickFontOptions(ci),pr=tr.lineHeight,ho=ml(Ui)?Ui.length:1;const ur=ho/2,br=ko.color,no=ko.textStrokeColor,Da=ko.textStrokeWidth;let YA,Al=pn;if(s?(Hi=Jn,"inner"===pn&&(Al=ci===xi-1?this.options.reverse?"left":"right":0===ci?this.options.reverse?"right":"left":"center"),io="top"===n?"near"===I||0!==Tt?-ho*pr+pr/2:"center"===I?-Rs.highest.height/2-ur*pr+pr:pr/2-Rs.highest.height:"near"===I||0!==Tt?pr/2:"center"===I?Rs.highest.height/2-ur*pr:Rs.highest.height-ho*pr,oe&&(io*=-1)):(gn=Jn,io=(1-ho)*pr/2),ko.showLabelBackdrop){const pc=OA(ko.backdropPadding),ed=Rs.heights[ci],dl=Rs.widths[ci];let ty=gn+io-pc.top,Pw=Hi-pc.left;switch(sa){case"middle":ty-=ed/2;break;case"bottom":ty-=ed}switch(pn){case"center":Pw-=dl/2;break;case"right":Pw-=dl}YA={left:Pw,top:ty,width:dl+pc.width,height:ed+pc.height,color:ko.backdropColor}}Zt.push({rotation:Tt,label:Ui,font:tr,color:br,strokeColor:no,strokeWidth:Da,textOffset:io,textAlign:Al,textBaseline:sa,translation:[Hi,gn],backdrop:YA})}return Zt}_getXAxisLabelAlignment(){const{position:o,ticks:t}=this.options;if(-Uh(this.labelRotation))return"top"===o?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(o){const{position:t,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,d=o+a,m=this._getLabelSizes().widest.width;let I,J;return"left"===t?n?(J=this.right+a,"near"===i?I="left":"center"===i?(I="center",J+=m/2):(I="right",J+=m)):(J=this.right-d,"near"===i?I="right":"center"===i?(I="center",J-=m/2):(I="left",J=this.left)):"right"===t?n?(J=this.left+a,"near"===i?I="right":"center"===i?(I="center",J-=m/2):(I="left",J-=m)):(J=this.left+d,"near"===i?I="left":"center"===i?(I="center",J+=m/2):(I="right",J=this.right)):I="right",{textAlign:I,x:J}}_computeLabelArea(){if(this.options.ticks.mirror)return;const o=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:o.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:o.width}:void 0}drawBackground(){const{ctx:o,options:{backgroundColor:t},left:i,top:n,width:a,height:s}=this;t&&(o.save(),o.fillStyle=t,o.fillRect(i,n,a,s),o.restore())}getLineWidthForValue(o){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(a=>a.value===o);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(o){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(o));let a,s;const d=(m,I,J)=>{!J.width||!J.color||(i.save(),i.lineWidth=J.width,i.strokeStyle=J.color,i.setLineDash(J.borderDash||[]),i.lineDashOffset=J.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(I.x,I.y),i.stroke(),i.restore())};if(t.display)for(a=0,s=n.length;a<s;++a){const m=n[a];t.drawOnChartArea&&d({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),t.drawTicks&&d({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:o,ctx:t,options:{grid:i}}=this,n=i.setContext(this.getContext()),a=i.drawBorder?n.borderWidth:0;if(!a)return;const s=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,I,J,oe;this.isHorizontal()?(m=F0(o,this.left,a)-a/2,I=F0(o,this.right,s)+s/2,J=oe=d):(J=F0(o,this.top,a)-a/2,oe=F0(o,this.bottom,s)+s/2,m=I=d),t.save(),t.lineWidth=n.borderWidth,t.strokeStyle=n.borderColor,t.beginPath(),t.moveTo(m,J),t.lineTo(I,oe),t.stroke(),t.restore()}drawLabels(o){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Mx(i,n);const a=this._labelItems||(this._labelItems=this._computeLabelItems(o));let s,d;for(s=0,d=a.length;s<d;++s){const m=a[s],I=m.font,J=m.label;m.backdrop&&(i.fillStyle=m.backdrop.color,i.fillRect(m.backdrop.left,m.backdrop.top,m.backdrop.width,m.backdrop.height)),S0(i,J,0,m.textOffset,I,m)}n&&xx(i)}drawTitle(){const{ctx:o,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const a=Hc(i.font),s=OA(i.padding),d=i.align;let m=a.lineHeight/2;"bottom"===t||"center"===t||Ra(t)?(m+=s.bottom,ml(i.text)&&(m+=a.lineHeight*(i.text.length-1))):m+=s.top;const{titleX:I,titleY:J,maxWidth:oe,rotation:Ce}=function Vte(r,o,t,i){const{top:n,left:a,bottom:s,right:d,chart:m}=r,{chartArea:I,scales:J}=m;let Ce,$e,nt,oe=0;const Tt=s-n,Zt=d-a;if(r.isHorizontal()){if($e=$A(i,a,d),Ra(t)){const ci=Object.keys(t)[0];nt=J[ci].getPixelForValue(t[ci])+Tt-o}else nt="center"===t?(I.bottom+I.top)/2+Tt-o:zL(r,t,o);Ce=d-a}else{if(Ra(t)){const ci=Object.keys(t)[0];$e=J[ci].getPixelForValue(t[ci])-Zt+o}else $e="center"===t?(I.left+I.right)/2-Zt+o:zL(r,t,o);nt=$A(i,s,n),oe="left"===t?-hc:hc}return{titleX:$e,titleY:nt,maxWidth:Ce,rotation:oe}}(this,m,t,d);S0(o,i.text,0,0,a,{color:i.color,maxWidth:oe,rotation:Ce,textAlign:Hte(d,t,n),textBaseline:"middle",translation:[I,J]})}draw(o){this._isVisible()&&(this.drawBackground(),this.drawGrid(o),this.drawBorder(),this.drawTitle(),this.drawLabels(o))}_layers(){const o=this.options,t=o.ticks&&o.ticks.z||0,i=oa(o.grid&&o.grid.z,-1);return this._isVisible()&&this.draw===L0.prototype.draw?[{z:i,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:n=>{this.drawLabels(n)}}]:[{z:t,draw:n=>{this.draw(n)}}]}getMatchingVisibleMetas(o){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let a,s;for(a=0,s=t.length;a<s;++a){const d=t[a];d[i]===this.id&&(!o||d.type===o)&&n.push(d)}return n}_resolveTickFontOptions(o){return Hc(this.options.ticks.setContext(this.getContext(o)).font)}_maxDigits(){const o=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/o}}class Sx{constructor(o,t,i){this.type=o,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(o){return Object.prototype.isPrototypeOf.call(this.type.prototype,o.prototype)}register(o){const t=Object.getPrototypeOf(o);let i;(function Kte(r){return"id"in r&&"defaults"in r})(t)&&(i=this.register(t));const n=this.items,a=o.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+o);return a in n||(n[a]=o,function Jte(r,o,t){const i=Mp(Object.create(null),[t?Pa.get(t):{},Pa.get(o),r.defaults]);Pa.set(o,i),r.defaultRoutes&&function Wte(r,o){Object.keys(o).forEach(t=>{const i=t.split("."),n=i.pop(),a=[r].concat(i).join("."),s=o[t].split("."),d=s.pop(),m=s.join(".");Pa.route(a,n,m,d)})}(o,r.defaultRoutes),r.descriptors&&Pa.describe(o,r.descriptors)}(o,s,i),this.override&&Pa.override(o.id,o.overrides)),s}get(o){return this.items[o]}unregister(o){const t=this.items,i=o.id,n=this.scope;i in t&&delete t[i],n&&i in Pa[n]&&(delete Pa[n][i],this.override&&delete T0[i])}}var Ip=new class Xte{constructor(){this.controllers=new Sx(Dp,"datasets",!0),this.elements=new Sx(zh,"elements"),this.plugins=new Sx(Object,"plugins"),this.scales=new Sx(L0,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...o){this._each("register",o)}remove(...o){this._each("unregister",o)}addControllers(...o){this._each("register",o,this.controllers)}addElements(...o){this._each("register",o,this.elements)}addPlugins(...o){this._each("register",o,this.plugins)}addScales(...o){this._each("register",o,this.scales)}getController(o){return this._get(o,this.controllers,"controller")}getElement(o){return this._get(o,this.elements,"element")}getPlugin(o){return this._get(o,this.plugins,"plugin")}getScale(o){return this._get(o,this.scales,"scale")}removeControllers(...o){this._each("unregister",o,this.controllers)}removeElements(...o){this._each("unregister",o,this.elements)}removePlugins(...o){this._each("unregister",o,this.plugins)}removeScales(...o){this._each("unregister",o,this.scales)}_each(o,t,i){[...t].forEach(n=>{const a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(o,a,n):Ss(n,s=>{const d=i||this._getRegistryForType(s);this._exec(o,d,s)})})}_exec(o,t,i){const n=mS(o);$s(i["before"+n],[],i),t[o](i),$s(i["after"+n],[],i)}_getRegistryForType(o){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(o))return i}return this.plugins}_get(o,t,i){const n=t.get(o);if(void 0===n)throw new Error('"'+o+'" is not a registered '+i+".");return n}},Zte=Object.freeze({__proto__:null,BarController:Mte,BubbleController:xte,DoughnutController:GL,LineController:Ite,PolarAreaController:kte,PieController:Tte,RadarController:Fte,ScatterController:(()=>{class r extends Dp{update(t){const i=this._cachedMeta,{data:n=[]}=i,a=this.chart._animationsDisabled;let{start:s,count:d}=VO(i,n,a);if(this._drawStart=s,this._drawCount=d,JO(i)&&(s=0,d=n.length),this.options.showLine){const{dataset:m,_dataset:I}=i;m._chart=this.chart,m._datasetIndex=this.index,m._decimated=!!I._decimated,m.points=n;const J=this.resolveDatasetElementOptions(t);J.segment=this.options.segment,this.updateElement(m,void 0,{animated:!a,options:J},t)}this.updateElements(n,s,d,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Ip.getElement("line")),super.addElements()}updateElements(t,i,n,a){const s="reset"===a,{iScale:d,vScale:m,_stacked:I,_dataset:J}=this._cachedMeta,oe=this.resolveDataElementOptions(i,a),Ce=this.getSharedOptions(oe),$e=this.includeOptions(a,Ce),nt=d.axis,Tt=m.axis,{spanGaps:Zt,segment:ci}=this.options,xi=F_(Zt)?Zt:Number.POSITIVE_INFINITY,Oi=this.chart._animationsDisabled||s||"none"===a;let Ui=i>0&&this.getParsed(i-1);for(let Hi=i;Hi<i+n;++Hi){const gn=t[Hi],pn=this.getParsed(Hi),Jn=Oi?gn:{},tr=Fa(pn[Tt]),pr=Jn[nt]=d.getPixelForValue(pn[nt],Hi),ho=Jn[Tt]=s||tr?m.getBasePixel():m.getPixelForValue(I?this.applyStack(m,pn,I):pn[Tt],Hi);Jn.skip=isNaN(pr)||isNaN(ho)||tr,Jn.stop=Hi>0&&Math.abs(pn[nt]-Ui[nt])>xi,ci&&(Jn.parsed=pn,Jn.raw=J.data[Hi]),$e&&(Jn.options=Ce||this.resolveDataElementOptions(Hi,gn.active?"active":a)),Oi||this.updateElement(gn,Hi,Jn,a),Ui=pn}this.updateSharedOptions(Ce,a,oe)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let m=0;for(let I=i.length-1;I>=0;--I)m=Math.max(m,i[I].size(this.resolveDataElementOptions(I))/2);return m>0&&m}const n=t.dataset,a=n.options&&n.options.borderWidth||0;if(!i.length)return a;const s=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,s,d)/2}}return r.id="scatter",r.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},r.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:o=>"("+o.label+", "+o.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},r})()});function Y0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var $te={_date:(()=>{class r{constructor(t){this.options=t||{}}init(t){}formats(){return Y0()}parse(t,i){return Y0()}format(t,i){return Y0()}add(t,i,n){return Y0()}diff(t,i,n){return Y0()}startOf(t,i,n){return Y0()}endOf(t,i){return Y0()}}return r.override=function(o){Object.assign(r.prototype,o)},r})()};function qte(r,o,t,i){const{controller:n,data:a,_sorted:s}=r,d=n._cachedMeta.iScale;if(d&&o===d.axis&&"r"!==o&&s&&a.length){const m=d._reversePixels?Qq:Rf;if(!i)return m(a,o,t);if(n._sharedOptions){const I=a[0],J="function"==typeof I.getRange&&I.getRange(o);if(J){const oe=m(a,o,t-J),Ce=m(a,o,t+J);return{lo:oe.lo,hi:Ce.hi}}}}return{lo:0,hi:a.length-1}}function iw(r,o,t,i,n){const a=r.getSortedVisibleDatasetMetas(),s=t[o];for(let d=0,m=a.length;d<m;++d){const{index:I,data:J}=a[d],{lo:oe,hi:Ce}=qte(a[d],o,s,n);for(let $e=oe;$e<=Ce;++$e){const nt=J[$e];nt.skip||i(nt,I,$e)}}}function NS(r,o,t,i,n){const a=[];return!n&&!r.isPointInArea(o)||iw(r,t,o,function(d,m,I){!n&&!Z1(d,r.chartArea,0)||d.inRange(o.x,o.y,i)&&a.push({element:d,datasetIndex:m,index:I})},!0),a}function jS(r,o,t,i,n,a){return a||r.isPointInArea(o)?"r"!==t||i?function iie(r,o,t,i,n,a){let s=[];const d=function eie(r){const o=-1!==r.indexOf("x"),t=-1!==r.indexOf("y");return function(i,n){const a=o?Math.abs(i.x-n.x):0,s=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(t);let m=Number.POSITIVE_INFINITY;return iw(r,t,o,function I(J,oe,Ce){const $e=J.inRange(o.x,o.y,n);if(i&&!$e)return;const nt=J.getCenterPoint(n);if(!a&&!r.isPointInArea(nt)&&!$e)return;const Zt=d(o,nt);Zt<m?(s=[{element:J,datasetIndex:oe,index:Ce}],m=Zt):Zt===m&&s.push({element:J,datasetIndex:oe,index:Ce})}),s}(r,o,t,i,n,a):function tie(r,o,t,i){let n=[];return iw(r,t,o,function a(s,d,m){const{startAngle:I,endAngle:J}=s.getProps(["startAngle","endAngle"],i),{angle:oe}=NO(s,{x:o.x,y:o.y});V1(oe,I,J)&&n.push({element:s,datasetIndex:d,index:m})}),n}(r,o,t,n):[]}function JL(r,o,t,i,n){const a=[],s="x"===t?"inXRange":"inYRange";let d=!1;return iw(r,t,o,(m,I,J)=>{m[s](o[t],n)&&(a.push({element:m,datasetIndex:I,index:J}),d=d||m.inRange(o.x,o.y,n))}),i&&!d?[]:a}var nie={evaluateInteractionItems:iw,modes:{index(r,o,t,i){const n=P0(o,r),a=t.axis||"x",s=t.includeInvisible||!1,d=t.intersect?NS(r,n,a,i,s):jS(r,n,a,!1,i,s),m=[];return d.length?(r.getSortedVisibleDatasetMetas().forEach(I=>{const J=d[0].index,oe=I.data[J];oe&&!oe.skip&&m.push({element:oe,datasetIndex:I.index,index:J})}),m):[]},dataset(r,o,t,i){const n=P0(o,r),a=t.axis||"xy",s=t.includeInvisible||!1;let d=t.intersect?NS(r,n,a,i,s):jS(r,n,a,!1,i,s);if(d.length>0){const m=d[0].datasetIndex,I=r.getDatasetMeta(m).data;d=[];for(let J=0;J<I.length;++J)d.push({element:I[J],datasetIndex:m,index:J})}return d},point:(r,o,t,i)=>NS(r,P0(o,r),t.axis||"xy",i,t.includeInvisible||!1),nearest:(r,o,t,i)=>jS(r,P0(o,r),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(r,o,t,i)=>JL(r,P0(o,r),"x",t.intersect,i),y:(r,o,t,i)=>JL(r,P0(o,r),"y",t.intersect,i)}};const WL=["left","top","right","bottom"];function nw(r,o){return r.filter(t=>t.pos===o)}function KL(r,o){return r.filter(t=>-1===WL.indexOf(t.pos)&&t.box.axis===o)}function rw(r,o){return r.sort((t,i)=>{const n=o?i:t,a=o?t:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function XL(r,o,t,i){return Math.max(r[t],o[t])+Math.max(r[i],o[i])}function ZL(r,o){r.top=Math.max(r.top,o.top),r.left=Math.max(r.left,o.left),r.bottom=Math.max(r.bottom,o.bottom),r.right=Math.max(r.right,o.right)}function lie(r,o,t,i){const{pos:n,box:a}=t,s=r.maxPadding;if(!Ra(n)){t.size&&(r[n]-=t.size);const oe=i[t.stack]||{size:0,count:1};oe.size=Math.max(oe.size,t.horizontal?a.height:a.width),t.size=oe.size/oe.count,r[n]+=t.size}a.getPadding&&ZL(s,a.getPadding());const d=Math.max(0,o.outerWidth-XL(s,r,"left","right")),m=Math.max(0,o.outerHeight-XL(s,r,"top","bottom")),I=d!==r.w,J=m!==r.h;return r.w=d,r.h=m,t.horizontal?{same:I,other:J}:{same:J,other:I}}function Aie(r,o){const t=o.maxPadding;return function i(n){const a={left:0,top:0,right:0,bottom:0};return n.forEach(s=>{a[s]=Math.max(o[s],t[s])}),a}(r?["left","right"]:["top","bottom"])}function ow(r,o,t,i){const n=[];let a,s,d,m,I,J;for(a=0,s=r.length,I=0;a<s;++a){d=r[a],m=d.box,m.update(d.width||o.w,d.height||o.h,Aie(d.horizontal,o));const{same:oe,other:Ce}=lie(o,t,d,i);I|=oe&&n.length,J=J||Ce,m.fullSize||n.push(d)}return I&&ow(n,o,t,i)||J}function Qx(r,o,t,i,n){r.top=t,r.left=o,r.right=o+i,r.bottom=t+n,r.width=i,r.height=n}function $L(r,o,t,i){const n=t.padding;let{x:a,y:s}=o;for(const d of r){const m=d.box,I=i[d.stack]||{count:1,placed:0,weight:1},J=d.stackWeight/I.weight||1;if(d.horizontal){const oe=o.w*J,Ce=I.size||m.height;rh(I.start)&&(s=I.start),m.fullSize?Qx(m,n.left,s,t.outerWidth-n.right-n.left,Ce):Qx(m,o.left+I.placed,s,oe,Ce),I.start=s,I.placed+=oe,s=m.bottom}else{const oe=o.h*J,Ce=I.size||m.width;rh(I.start)&&(a=I.start),m.fullSize?Qx(m,a,n.top,Ce,t.outerHeight-n.bottom-n.top):Qx(m,a,o.top+I.placed,Ce,oe),I.start=a,I.placed+=oe,a=m.right}}o.x=a,o.y=s}Pa.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var qA={addBox(r,o){r.boxes||(r.boxes=[]),o.fullSize=o.fullSize||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw(t){o.draw(t)}}]},r.boxes.push(o)},removeBox(r,o){const t=r.boxes?r.boxes.indexOf(o):-1;-1!==t&&r.boxes.splice(t,1)},configure(r,o,t){o.fullSize=t.fullSize,o.position=t.position,o.weight=t.weight},update(r,o,t,i){if(!r)return;const n=OA(r.options.layout.padding),a=Math.max(o-n.width,0),s=Math.max(t-n.height,0),d=function sie(r){const o=function rie(r){const o=[];let t,i,n,a,s,d;for(t=0,i=(r||[]).length;t<i;++t)n=r[t],({position:a,options:{stack:s,stackWeight:d=1}}=n),o.push({index:t,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:s&&a+s,stackWeight:d});return o}(r),t=rw(o.filter(I=>I.box.fullSize),!0),i=rw(nw(o,"left"),!0),n=rw(nw(o,"right")),a=rw(nw(o,"top"),!0),s=rw(nw(o,"bottom")),d=KL(o,"x"),m=KL(o,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:n.concat(m).concat(s).concat(d),chartArea:nw(o,"chartArea"),vertical:i.concat(n).concat(m),horizontal:a.concat(s).concat(d)}}(r.boxes),m=d.vertical,I=d.horizontal;Ss(r.boxes,Tt=>{"function"==typeof Tt.beforeLayout&&Tt.beforeLayout()});const J=m.reduce((Tt,Zt)=>Zt.box.options&&!1===Zt.box.options.display?Tt:Tt+1,0)||1,oe=Object.freeze({outerWidth:o,outerHeight:t,padding:n,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/J,hBoxMaxHeight:s/2}),Ce=Object.assign({},n);ZL(Ce,OA(i));const $e=Object.assign({maxPadding:Ce,w:a,h:s,x:n.left,y:n.top},n),nt=function aie(r,o){const t=function oie(r){const o={};for(const t of r){const{stack:i,pos:n,stackWeight:a}=t;if(!i||!WL.includes(n))continue;const s=o[i]||(o[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return o}(r),{vBoxMaxWidth:i,hBoxMaxHeight:n}=o;let a,s,d;for(a=0,s=r.length;a<s;++a){d=r[a];const{fullSize:m}=d.box,I=t[d.stack],J=I&&d.stackWeight/I.weight;d.horizontal?(d.width=J?J*i:m&&o.availableWidth,d.height=n):(d.width=i,d.height=J?J*n:m&&o.availableHeight)}return t}(m.concat(I),oe);ow(d.fullSize,$e,oe,nt),ow(m,$e,oe,nt),ow(I,$e,oe,nt)&&ow(m,$e,oe,nt),function cie(r){const o=r.maxPadding;function t(i){const n=Math.max(o[i]-r[i],0);return r[i]+=n,n}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}($e),$L(d.leftAndTop,$e,oe,nt),$e.x+=$e.w,$e.y+=$e.h,$L(d.rightAndBottom,$e,oe,nt),r.chartArea={left:$e.left,top:$e.top,right:$e.left+$e.w,bottom:$e.top+$e.h,height:$e.h,width:$e.w},Ss(d.chartArea,Tt=>{const Zt=Tt.box;Object.assign(Zt,r.chartArea),Zt.update($e.w,$e.h,{left:0,top:0,right:0,bottom:0})})}};class qL{acquireContext(o,t){}releaseContext(o){return!1}addEventListener(o,t,i){}removeEventListener(o,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(o,t,i,n){return t=Math.max(0,t||o.width),i=i||o.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(o){return!0}updateConfig(o){}}class die extends qL{acquireContext(o){return o&&o.getContext&&o.getContext("2d")||null}updateConfig(o){o.options.animation=!1}}const Rx="$chartjs",uie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eY=r=>null===r||""===r,tY=!!jee&&{passive:!0};function fie(r,o,t){r.canvas.removeEventListener(o,t,tY)}function Px(r,o){for(const t of r)if(t===o||t.contains(o))return!0}function mie(r,o,t){const i=r.canvas,n=new MutationObserver(a=>{let s=!1;for(const d of a)s=s||Px(d.addedNodes,i),s=s&&!Px(d.removedNodes,i);s&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function vie(r,o,t){const i=r.canvas,n=new MutationObserver(a=>{let s=!1;for(const d of a)s=s||Px(d.removedNodes,i),s=s&&!Px(d.addedNodes,i);s&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const aw=new Map;let iY=0;function nY(){const r=window.devicePixelRatio;r!==iY&&(iY=r,aw.forEach((o,t)=>{t.currentDevicePixelRatio!==r&&o()}))}function bie(r,o,t){const i=r.canvas,n=i&&RS(i);if(!n)return;const a=HO((d,m)=>{const I=n.clientWidth;t(d,m),I<n.clientWidth&&t()},window),s=new ResizeObserver(d=>{const m=d[0],I=m.contentRect.width,J=m.contentRect.height;0===I&&0===J||a(I,J)});return s.observe(n),function _ie(r,o){aw.size||window.addEventListener("resize",nY),aw.set(r,o)}(r,a),s}function GS(r,o,t){t&&t.disconnect(),"resize"===o&&function yie(r){aw.delete(r),aw.size||window.removeEventListener("resize",nY)}(r)}function wie(r,o,t){const i=r.canvas,n=HO(a=>{null!==r.ctx&&t(function gie(r,o){const t=uie[r.type]||r.type,{x:i,y:n}=P0(r,o);return{type:t,chart:o,native:r,x:void 0!==i?i:null,y:void 0!==n?n:null}}(a,r))},r,a=>{const s=a[0];return[s,s.offsetX,s.offsetY]});return function pie(r,o,t){r.addEventListener(o,t,tY)}(i,o,n),n}class Cie extends qL{acquireContext(o,t){const i=o&&o.getContext&&o.getContext("2d");return i&&i.canvas===o?(function hie(r,o){const t=r.style,i=r.getAttribute("height"),n=r.getAttribute("width");if(r[Rx]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",eY(n)){const a=_L(r,"width");void 0!==a&&(r.width=a)}if(eY(i))if(""===r.style.height)r.height=r.width/(o||2);else{const a=_L(r,"height");void 0!==a&&(r.height=a)}}(o,t),i):null}releaseContext(o){const t=o.canvas;if(!t[Rx])return!1;const i=t[Rx].initial;["height","width"].forEach(a=>{const s=i[a];Fa(s)?t.removeAttribute(a):t.setAttribute(a,s)});const n=i.style||{};return Object.keys(n).forEach(a=>{t.style[a]=n[a]}),t.width=t.width,delete t[Rx],!0}addEventListener(o,t,i){this.removeEventListener(o,t),(o.$proxies||(o.$proxies={}))[t]=({attach:mie,detach:vie,resize:bie}[t]||wie)(o,t,i)}removeEventListener(o,t){const i=o.$proxies||(o.$proxies={}),n=i[t];n&&(({attach:GS,detach:GS,resize:GS}[t]||fie)(o,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(o,t,i,n){return function Nee(r,o,t,i){const n=kx(r),a=R0(n,"margin"),s=Ix(n.maxWidth,r,"clientWidth")||_x,d=Ix(n.maxHeight,r,"clientHeight")||_x,m=function Yee(r,o,t){let i,n;if(void 0===o||void 0===t){const a=RS(r);if(a){const s=a.getBoundingClientRect(),d=kx(a),m=R0(d,"border","width"),I=R0(d,"padding");o=s.width-I.width-m.width,t=s.height-I.height-m.height,i=Ix(d.maxWidth,a,"clientWidth"),n=Ix(d.maxHeight,a,"clientHeight")}else o=r.clientWidth,t=r.clientHeight}return{width:o,height:t,maxWidth:i||_x,maxHeight:n||_x}}(r,o,t);let{width:I,height:J}=m;if("content-box"===n.boxSizing){const oe=R0(n,"border","width"),Ce=R0(n,"padding");I-=Ce.width+oe.width,J-=Ce.height+oe.height}return I=Math.max(0,I-a.width),J=Math.max(0,i?Math.floor(I/i):J-a.height),I=PS(Math.min(I,s,m.maxWidth)),J=PS(Math.min(J,d,m.maxHeight)),I&&!J&&(J=PS(I/2)),{width:I,height:J}}(o,t,i,n)}isAttached(o){const t=RS(o);return!(!t||!t.isConnected)}}class Bie{constructor(){this._init=[]}notify(o,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install"));const a=n?this._descriptors(o).filter(n):this._descriptors(o),s=this._notify(a,o,t,i);return"afterDestroy"===t&&(this._notify(a,o,"stop"),this._notify(this._init,o,"uninstall")),s}_notify(o,t,i,n){n=n||{};for(const a of o){const s=a.plugin;if(!1===$s(s[i],[t,n,a.options],s)&&n.cancelable)return!1}return!0}invalidate(){Fa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(o){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(o);return this._notifyStateChanges(o),t}_createDescriptors(o,t){const i=o&&o.config,n=oa(i.options&&i.options.plugins,{}),a=function Mie(r){const o={},t=[],i=Object.keys(Ip.plugins.items);for(let a=0;a<i.length;a++)t.push(Ip.getPlugin(i[a]));const n=r.plugins||[];for(let a=0;a<n.length;a++){const s=n[a];-1===t.indexOf(s)&&(t.push(s),o[s.id]=!0)}return{plugins:t,localIds:o}}(i);return!1!==n||t?function Die(r,{plugins:o,localIds:t},i,n){const a=[],s=r.getContext();for(const d of o){const m=d.id,I=xie(i[m],n);null!==I&&a.push({plugin:d,options:Iie(r.config,{plugin:d,local:t[m]},I,s)})}return a}(o,a,n,t):[]}_notifyStateChanges(o){const t=this._oldCache||[],i=this._cache,n=(a,s)=>a.filter(d=>!s.some(m=>d.plugin.id===m.plugin.id));this._notify(n(t,i),o,"stop"),this._notify(n(i,t),o,"start")}}function xie(r,o){return o||!1!==r?!0===r?{}:r:null}function Iie(r,{plugin:o,local:t},i,n){const a=r.pluginScopeKeys(o),s=r.getOptionScopes(i,a);return t&&o.defaults&&s.push(o.defaults),r.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function US(r,o){return((o.datasets||{})[r]||{}).indexAxis||o.indexAxis||(Pa.datasets[r]||{}).indexAxis||"x"}function zS(r,o){return"x"===r||"y"===r?r:o.axis||function Fie(r){return"top"===r||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0}(o.position)||r.charAt(0).toLowerCase()}function rY(r){const o=r.options||(r.options={});o.plugins=oa(o.plugins,{}),o.scales=function Sie(r,o){const t=T0[r.type]||{scales:{}},i=o.scales||{},n=US(r.type,o),a=Object.create(null),s=Object.create(null);return Object.keys(i).forEach(d=>{const m=i[d];if(!Ra(m))return console.error(`Invalid scale configuration for scale: ${d}`);if(m._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const I=zS(d,m),J=function Tie(r,o){return r===o?"_index_":"_value_"}(I,n),oe=t.scales||{};a[I]=a[I]||d,s[d]=U1(Object.create(null),[{axis:I},m,oe[I],oe[J]])}),r.data.datasets.forEach(d=>{const m=d.type||r.type,I=d.indexAxis||US(m,o),oe=(T0[m]||{}).scales||{};Object.keys(oe).forEach(Ce=>{const $e=function kie(r,o){let t=r;return"_index_"===r?t=o:"_value_"===r&&(t="x"===o?"y":"x"),t}(Ce,I),nt=d[$e+"AxisID"]||a[$e]||$e;s[nt]=s[nt]||Object.create(null),U1(s[nt],[{axis:$e},i[nt],oe[Ce]])})}),Object.keys(s).forEach(d=>{const m=s[d];U1(m,[Pa.scales[m.type],Pa.scale])}),s}(r,o)}function oY(r){return(r=r||{}).datasets=r.datasets||[],r.labels=r.labels||[],r}const aY=new Map,sY=new Set;function Ox(r,o){let t=aY.get(r);return t||(t=o(),aY.set(r,t),sY.add(t)),t}const sw=(r,o,t)=>{const i=em(o,t);void 0!==i&&r.add(i)};class Rie{constructor(o){this._config=function Qie(r){return(r=r||{}).data=oY(r.data),rY(r),r}(o),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(o){this._config.type=o}get data(){return this._config.data}set data(o){this._config.data=oY(o)}get options(){return this._config.options}set options(o){this._config.options=o}get plugins(){return this._config.plugins}update(){const o=this._config;this.clearCache(),rY(o)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(o){return Ox(o,()=>[[`datasets.${o}`,""]])}datasetAnimationScopeKeys(o,t){return Ox(`${o}.transition.${t}`,()=>[[`datasets.${o}.transitions.${t}`,`transitions.${t}`],[`datasets.${o}`,""]])}datasetElementScopeKeys(o,t){return Ox(`${o}-${t}`,()=>[[`datasets.${o}.elements.${t}`,`datasets.${o}`,`elements.${t}`,""]])}pluginScopeKeys(o){const t=o.id;return Ox(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...o.additionalOptionScopes||[]]])}_cachedScopes(o,t){const i=this._scopeCache;let n=i.get(o);return(!n||t)&&(n=new Map,i.set(o,n)),n}getOptionScopes(o,t,i){const{options:n,type:a}=this,s=this._cachedScopes(o,i),d=s.get(t);if(d)return d;const m=new Set;t.forEach(J=>{o&&(m.add(o),J.forEach(oe=>sw(m,o,oe))),J.forEach(oe=>sw(m,n,oe)),J.forEach(oe=>sw(m,T0[a]||{},oe)),J.forEach(oe=>sw(m,Pa,oe)),J.forEach(oe=>sw(m,DS,oe))});const I=Array.from(m);return 0===I.length&&I.push(Object.create(null)),sY.has(t)&&s.set(t,I),I}chartOptionScopes(){const{options:o,type:t}=this;return[o,T0[t]||{},Pa.datasets[t]||{},{type:t},Pa,DS]}resolveNamedOptions(o,t,i,n=[""]){const a={$shared:!0},{resolver:s,subPrefixes:d}=lY(this._resolverCache,o,n);let m=s;(function Oie(r,o){const{isScriptable:t,isIndexable:i}=cL(r);for(const n of o){const a=t(n),s=i(n),d=(s||a)&&r[n];if(a&&(tm(d)||Pie(d))||s&&ml(d))return!0}return!1})(s,t)&&(a.$shared=!1,m=Q_(s,i=tm(i)?i():i,this.createResolver(o,i,d)));for(const I of t)a[I]=m[I];return a}createResolver(o,t,i=[""],n){const{resolver:a}=lY(this._resolverCache,o,i);return Ra(t)?Q_(a,t,void 0,n):a}}function lY(r,o,t){let i=r.get(o);i||(i=new Map,r.set(o,i));const n=t.join();let a=i.get(n);return a||(a={resolver:FS(o,t),subPrefixes:t.filter(d=>!d.toLowerCase().includes("hover"))},i.set(n,a)),a}const Pie=r=>Ra(r)&&Object.getOwnPropertyNames(r).reduce((o,t)=>o||tm(r[t]),!1),Yie=["top","bottom","left","right","chartArea"];function cY(r,o){return"top"===r||"bottom"===r||-1===Yie.indexOf(r)&&"x"===o}function AY(r,o){return function(t,i){return t[r]===i[r]?t[o]-i[o]:t[r]-i[r]}}function dY(r){const o=r.chart,t=o.options.animation;o.notifyPlugins("afterRender"),$s(t&&t.onComplete,[r],o)}function Nie(r){const o=r.chart,t=o.options.animation;$s(t&&t.onProgress,[r],o)}function uY(r){return mL()&&"string"==typeof r?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Lx={},hY=r=>{const o=uY(r);return Object.values(Lx).filter(t=>t.canvas===o).pop()};function jie(r,o,t){const i=Object.keys(r);for(const n of i){const a=+n;if(a>=o){const s=r[n];delete r[n],(t>0||a>o)&&(r[a+t]=s)}}}class lw{constructor(o,t){const i=this.config=new Rie(t),n=uY(o),a=hY(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Eie(r){return!mL()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?die:Cie}(n)),this.platform.updateConfig(i);const d=this.platform.acquireContext(n,s.aspectRatio),m=d&&d.canvas,I=m&&m.height,J=m&&m.width;this.id=bq(),this.ctx=d,this.canvas=m,this.width=J,this.height=I,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Bie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Oq(r,o){let t;return function(...i){return o?(clearTimeout(t),t=setTimeout(r,o,i)):r.apply(this,i),o}}(oe=>this.update(oe),s.resizeDelay||0),this._dataChanges=[],Lx[this.id]=this,d&&m?(Of.listen(this,"complete",dY),Of.listen(this,"progress",Nie),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:t},width:i,height:n,_aspectRatio:a}=this;return Fa(o)?t&&a?a:n?i/n:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vL(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aL(this.canvas,this.ctx),this}stop(){return Of.stop(this),this}resize(o,t){Of.running(this)?this._resizeBeforeDraw={width:o,height:t}:this._resize(o,t)}_resize(o,t){const i=this.options,s=this.platform.getMaximumSize(this.canvas,o,t,i.maintainAspectRatio&&this.aspectRatio),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,vL(this,d,!0)&&(this.notifyPlugins("resize",{size:s}),$s(i.onResize,[this,s],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){Ss(this.options.scales||{},(i,n)=>{i.id=n})}buildOrUpdateScales(){const o=this.options,t=o.scales,i=this.scales,n=Object.keys(i).reduce((s,d)=>(s[d]=!1,s),{});let a=[];t&&(a=a.concat(Object.keys(t).map(s=>{const d=t[s],m=zS(s,d),I="r"===m,J="x"===m;return{options:d,dposition:I?"chartArea":J?"bottom":"left",dtype:I?"radialLinear":J?"category":"linear"}}))),Ss(a,s=>{const d=s.options,m=d.id,I=zS(m,d),J=oa(d.type,s.dtype);(void 0===d.position||cY(d.position,I)!==cY(s.dposition))&&(d.position=s.dposition),n[m]=!0;let oe=null;m in i&&i[m].type===J?oe=i[m]:(oe=new(Ip.getScale(J))({id:m,type:J,ctx:this.ctx,chart:this}),i[oe.id]=oe),oe.init(d,o)}),Ss(n,(s,d)=>{s||delete i[d]}),Ss(i,s=>{qA.configure(this,s,s.options),qA.addBox(this,s)})}_updateMetasets(){const o=this._metasets,t=this.data.datasets.length,i=o.length;if(o.sort((n,a)=>n.index-a.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);o.splice(t,i-t)}this._sortedMetasets=o.slice(0).sort(AY("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:t}}=this;o.length>t.length&&delete this._stacks,o.forEach((i,n)=>{0===t.filter(a=>a===i._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const o=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const a=t[i];let s=this.getDatasetMeta(i);const d=a.type||this.config.type;if(s.type&&s.type!==d&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=d,s.indexAxis=a.indexAxis||US(d,this.options),s.order=a.order||0,s.index=i,s.label=""+a.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const m=Ip.getController(d),{datasetElementType:I,dataElementType:J}=Pa.datasets[d];Object.assign(m.prototype,{dataElementType:Ip.getElement(J),datasetElementType:I&&Ip.getElement(I)}),s.controller=new m(this,i),o.push(s.controller)}}return this._updateMetasets(),o}_resetElements(){Ss(this.data.datasets,(o,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let I=0,J=this.data.datasets.length;I<J;I++){const{controller:oe}=this.getDatasetMeta(I),Ce=!n&&-1===a.indexOf(oe);oe.buildOrUpdateElements(Ce),s=Math.max(+oe.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),n||Ss(a,I=>{I.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(AY("z","_idx"));const{_active:d,_lastEvent:m}=this;m?this._eventHandler(m,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Ss(this.scales,o=>{qA.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(o.events);(!RO(t,i)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:a}of t)jie(o,n,"_removeElements"===i?-a:a)}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(o.filter(s=>s[0]===a).map((s,d)=>d+","+s.splice(1).join(","))),n=i(0);for(let a=1;a<t;a++)if(!RO(n,i(a)))return;return Array.from(n).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(o){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qA.update(this,this.width,this.height,o);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ss(this.boxes,n=>{i&&"chartArea"===n.position||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,a)=>{n._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,tm(o)?o({datasetIndex:t}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,t){const i=this.getDatasetMeta(o),n={meta:i,index:o,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Of.has(this)?this.attached&&!Of.running(this)&&Of.start(this):(this.draw(),dY({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resize(i,n),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(o=0;o<t.length&&t[o].z<=0;++o)t[o].draw(this.chartArea);for(this._drawDatasets();o<t.length;++o)t[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const t=this._sortedMetasets,i=[];let n,a;for(n=0,a=t.length;n<a;++n){const s=t[n];(!o||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const o=this.getSortedVisibleDatasetMetas();for(let t=o.length-1;t>=0;--t)this._drawDataset(o[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const t=this.ctx,i=o._clip,n=!i.disabled,a=this.chartArea,s={meta:o,index:o.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&Mx(t,{left:!1===i.left?0:a.left-i.left,right:!1===i.right?this.width:a.right+i.right,top:!1===i.top?0:a.top-i.top,bottom:!1===i.bottom?this.height:a.bottom+i.bottom}),o.controller.draw(),n&&xx(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(o){return Z1(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,t,i,n){const a=nie.modes[t];return"function"==typeof a?a(this,o,i,n):[]}getDatasetMeta(o){const t=this.data.datasets[o],i=this._metasets;let n=i.filter(a=>a&&a._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:o,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=rm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const t=this.data.datasets[o];if(!t)return!1;const i=this.getDatasetMeta(o);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(o,t){this.getDatasetMeta(o).hidden=!t}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,t,i){const n=i?"show":"hide",a=this.getDatasetMeta(o),s=a.controller._resolveAnimations(void 0,n);rh(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(o,i),s.update(a,{visible:i}),this.update(d=>d.datasetIndex===o?n:void 0))}hide(o,t){this._updateVisibility(o,t,!1)}show(o,t){this._updateVisibility(o,t,!0)}_destroyDatasetMeta(o){const t=this._metasets[o];t&&t.controller&&t.controller._destroy(),delete this._metasets[o]}_stop(){let o,t;for(this.stop(),Of.remove(this),o=0,t=this.data.datasets.length;o<t;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:t}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),aL(o,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Lx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,t=this.platform,i=(a,s)=>{t.addEventListener(this,a,s),o[a]=s},n=(a,s,d)=>{a.offsetX=s,a.offsetY=d,this._eventHandler(a)};Ss(this.options.events,a=>i(a,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,t=this.platform,i=(m,I)=>{t.addEventListener(this,m,I),o[m]=I},n=(m,I)=>{o[m]&&(t.removeEventListener(this,m,I),delete o[m])},a=(m,I)=>{this.canvas&&this.resize(m,I)};let s;const d=()=>{n("attach",d),this.attached=!0,this.resize(),i("resize",a),i("detach",s)};s=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),i("attach",d)},t.isAttached(this.canvas)?d():s()}unbindEvents(){Ss(this._listeners,(o,t)=>{this.platform.removeEventListener(this,t,o)}),this._listeners={},Ss(this._responsiveListeners,(o,t)=>{this.platform.removeEventListener(this,t,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,t,i){const n=i?"set":"remove";let a,s,d,m;for("dataset"===t&&(a=this.getDatasetMeta(o[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),d=0,m=o.length;d<m;++d){s=o[d];const I=s&&this.getDatasetMeta(s.datasetIndex).controller;I&&I[n+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const t=this._active||[],i=o.map(({datasetIndex:a,index:s})=>{const d=this.getDatasetMeta(a);if(!d)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:d.data[s],index:s}});!mx(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(o,t,i){return this._plugins.notify(this,o,t,i)}_updateHoverStyles(o,t,i){const n=this.options.hover,a=(m,I)=>m.filter(J=>!I.some(oe=>J.datasetIndex===oe.datasetIndex&&J.index===oe.index)),s=a(t,o),d=i?o:a(o,t);s.length&&this.updateHoverStyle(s,n.mode,!1),d.length&&n.mode&&this.updateHoverStyle(d,n.mode,!0)}_eventHandler(o,t){const i={event:o,replay:t,cancelable:!0,inChartArea:this.isPointInArea(o)},n=s=>(s.options.events||this.options.events).includes(o.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const a=this._handleEvent(o,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(a||i.changed)&&this.render(),this}_handleEvent(o,t,i){const{_active:n=[],options:a}=this,d=this._getActiveElements(o,n,i,t),m=function xq(r){return"mouseup"===r.type||"click"===r.type||"contextmenu"===r.type}(o),I=function Gie(r,o,t,i){return t&&"mouseout"!==r.type?i?o:r:null}(o,this._lastEvent,i,m);i&&(this._lastEvent=null,$s(a.onHover,[o,d,this],this),m&&$s(a.onClick,[o,d,this],this));const J=!mx(d,n);return(J||t)&&(this._active=d,this._updateHoverStyles(d,n,t)),this._lastEvent=I,J}_getActiveElements(o,t,i,n){if("mouseout"===o.type)return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(o,a.mode,a,n)}}const pY=()=>Ss(lw.instances,r=>r._plugins.invalidate()),om=!0;function fY(r,o,t){const{startAngle:i,pixelMargin:n,x:a,y:s,outerRadius:d,innerRadius:m}=o;let I=n/d;r.beginPath(),r.arc(a,s,d,i-I,t+I),m>n?(I=n/m,r.arc(a,s,m,t+I,i-I,!0)):r.arc(a,s,n,t+hc,i-hc),r.closePath(),r.clip()}function O_(r,o,t,i){return{x:t+r*Math.cos(o),y:i+r*Math.sin(o)}}function HS(r,o,t,i,n,a){const{x:s,y:d,startAngle:m,pixelMargin:I,innerRadius:J}=o,oe=Math.max(o.outerRadius+i+t-I,0),Ce=J>0?J+i+t+I:0;let $e=0;const nt=n-m;if(i){const br=((J>0?J-i:0)+(oe>0?oe-i:0))/2;$e=(nt-(0!==br?nt*br/(br+i):nt))/2}const Zt=(nt-Math.max(.001,nt*oe-t/zl)/oe)/2,ci=m+Zt+$e,xi=n-Zt-$e,{outerStart:Oi,outerEnd:Ui,innerStart:Hi,innerEnd:gn}=function zie(r,o,t,i){const n=function Uie(r){return TS(r,["outerStart","outerEnd","innerStart","innerEnd"])}(r.options.borderRadius),a=(t-o)/2,s=Math.min(a,i*o/2),d=m=>{const I=(t-Math.min(a,m))*i/2;return xA(m,0,Math.min(a,I))};return{outerStart:d(n.outerStart),outerEnd:d(n.outerEnd),innerStart:xA(n.innerStart,0,s),innerEnd:xA(n.innerEnd,0,s)}}(o,Ce,oe,xi-ci),pn=oe-Oi,Jn=oe-Ui,tr=ci+Oi/pn,pr=xi-Ui/Jn,ho=Ce+Hi,io=Ce+gn,sa=ci+Hi/ho,Rs=xi-gn/io;if(r.beginPath(),a){if(r.arc(s,d,oe,tr,pr),Ui>0){const br=O_(Jn,pr,s,d);r.arc(br.x,br.y,Ui,pr,xi+hc)}const ko=O_(io,xi,s,d);if(r.lineTo(ko.x,ko.y),gn>0){const br=O_(io,Rs,s,d);r.arc(br.x,br.y,gn,xi+hc,Rs+Math.PI)}if(r.arc(s,d,Ce,xi-gn/Ce,ci+Hi/Ce,!0),Hi>0){const br=O_(ho,sa,s,d);r.arc(br.x,br.y,Hi,sa+Math.PI,ci-hc)}const ur=O_(pn,ci,s,d);if(r.lineTo(ur.x,ur.y),Oi>0){const br=O_(pn,tr,s,d);r.arc(br.x,br.y,Oi,ci-hc,tr)}}else{r.moveTo(s,d);const ko=Math.cos(tr)*oe+s,ur=Math.sin(tr)*oe+d;r.lineTo(ko,ur);const br=Math.cos(pr)*oe+s,no=Math.sin(pr)*oe+d;r.lineTo(br,no)}r.closePath()}Object.defineProperties(lw,{defaults:{enumerable:om,value:Pa},instances:{enumerable:om,value:Lx},overrides:{enumerable:om,value:T0},registry:{enumerable:om,value:Ip},version:{enumerable:om,value:"3.9.1"},getChart:{enumerable:om,value:hY},register:{enumerable:om,value:(...r)=>{Ip.add(...r),pY()}},unregister:{enumerable:om,value:(...r)=>{Ip.remove(...r),pY()}}});class cw extends zh{constructor(o){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,o&&Object.assign(this,o)}inRange(o,t,i){const n=this.getProps(["x","y"],i),{angle:a,distance:s}=NO(n,{x:o,y:t}),{startAngle:d,endAngle:m,innerRadius:I,outerRadius:J,circumference:oe}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),Ce=this.options.spacing/2,nt=oa(oe,m-d)>=qs||V1(a,d,m),Tt=Qf(s,I+Ce,J+Ce);return nt&&Tt}getCenterPoint(o){const{x:t,y:i,startAngle:n,endAngle:a,innerRadius:s,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],o),{offset:m,spacing:I}=this.options,J=(n+a)/2,oe=(s+d+I+m)/2;return{x:t+Math.cos(J)*oe,y:i+Math.sin(J)*oe}}tooltipPosition(o){return this.getCenterPoint(o)}draw(o){const{options:t,circumference:i}=this,n=(t.offset||0)/2,a=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>qs?Math.floor(i/qs):0,0===i||this.innerRadius<0||this.outerRadius<0)return;o.save();let d=0;if(n){d=n/2;const I=(this.startAngle+this.endAngle)/2;o.translate(Math.cos(I)*d,Math.sin(I)*d),this.circumference>=zl&&(d=n)}o.fillStyle=t.backgroundColor,o.strokeStyle=t.borderColor;const m=function Hie(r,o,t,i,n){const{fullCircles:a,startAngle:s,circumference:d}=o;let m=o.endAngle;if(a){HS(r,o,t,i,s+qs,n);for(let I=0;I<a;++I)r.fill();isNaN(d)||(m=s+d%qs,d%qs==0&&(m+=qs))}return HS(r,o,t,i,m,n),r.fill(),m}(o,this,d,a,s);(function Jie(r,o,t,i,n,a){const{options:s}=o,{borderWidth:d,borderJoinStyle:m}=s,I="inner"===s.borderAlign;d&&(I?(r.lineWidth=2*d,r.lineJoin=m||"round"):(r.lineWidth=d,r.lineJoin=m||"bevel"),o.fullCircles&&function Vie(r,o,t){const{x:i,y:n,startAngle:a,pixelMargin:s,fullCircles:d}=o,m=Math.max(o.outerRadius-s,0),I=o.innerRadius+s;let J;for(t&&fY(r,o,a+qs),r.beginPath(),r.arc(i,n,I,a+qs,a,!0),J=0;J<d;++J)r.stroke();for(r.beginPath(),r.arc(i,n,m,a,a+qs),J=0;J<d;++J)r.stroke()}(r,o,I),I&&fY(r,o,n),HS(r,o,t,i,n,a),r.stroke())})(o,this,d,a,m,s),o.restore()}}function gY(r,o,t=o){r.lineCap=oa(t.borderCapStyle,o.borderCapStyle),r.setLineDash(oa(t.borderDash,o.borderDash)),r.lineDashOffset=oa(t.borderDashOffset,o.borderDashOffset),r.lineJoin=oa(t.borderJoinStyle,o.borderJoinStyle),r.lineWidth=oa(t.borderWidth,o.borderWidth),r.strokeStyle=oa(t.borderColor,o.borderColor)}function Wie(r,o,t){r.lineTo(t.x,t.y)}function mY(r,o,t={}){const i=r.length,{start:n=0,end:a=i-1}=t,{start:s,end:d}=o,m=Math.max(n,s),I=Math.min(a,d);return{count:i,start:m,loop:o.loop,ilen:I<m&&!(n<s&&a<s||n>d&&a>d)?i+I-m:I-m}}function Xie(r,o,t,i){const{points:n,options:a}=o,{count:s,start:d,loop:m,ilen:I}=mY(n,t,i),J=function Kie(r){return r.stepped?Aee:r.tension||"monotone"===r.cubicInterpolationMode?dee:Wie}(a);let $e,nt,Tt,{move:oe=!0,reverse:Ce}=i||{};for($e=0;$e<=I;++$e)nt=n[(d+(Ce?I-$e:$e))%s],!nt.skip&&(oe?(r.moveTo(nt.x,nt.y),oe=!1):J(r,Tt,nt,Ce,a.stepped),Tt=nt);return m&&(nt=n[(d+(Ce?I:0))%s],J(r,Tt,nt,Ce,a.stepped)),!!m}function Zie(r,o,t,i){const n=o.points,{count:a,start:s,ilen:d}=mY(n,t,i),{move:m=!0,reverse:I}=i||{};let Ce,$e,nt,Tt,Zt,ci,J=0,oe=0;const xi=Ui=>(s+(I?d-Ui:Ui))%a,Oi=()=>{Tt!==Zt&&(r.lineTo(J,Zt),r.lineTo(J,Tt),r.lineTo(J,ci))};for(m&&($e=n[xi(0)],r.moveTo($e.x,$e.y)),Ce=0;Ce<=d;++Ce){if($e=n[xi(Ce)],$e.skip)continue;const Ui=$e.x,Hi=$e.y,gn=0|Ui;gn===nt?(Hi<Tt?Tt=Hi:Hi>Zt&&(Zt=Hi),J=(oe*J+Ui)/++oe):(Oi(),r.lineTo(Ui,Hi),nt=gn,oe=0,Tt=Zt=Hi),ci=Hi}Oi()}function VS(r){const o=r.options;return r._decimated||r._loop||o.tension||"monotone"===o.cubicInterpolationMode||o.stepped||o.borderDash&&o.borderDash.length?Xie:Zie}cw.id="arc",cw.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},cw.defaultRoutes={backgroundColor:"backgroundColor"};const tne="function"==typeof Path2D;let Yx=(()=>{class r extends zh{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(Qee(this._points,n,t,n.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Xee(r,o){const t=r.points,i=r.options.spanGaps,n=t.length;if(!n)return[];const a=!!r._loop,{start:s,end:d}=function Wee(r,o,t,i){let n=0,a=o-1;if(t&&!i)for(;n<o&&!r[n].skip;)n++;for(;n<o&&r[n].skip;)n++;for(n%=o,t&&(a+=n);a>n&&r[a%o].skip;)a--;return a%=o,{start:n,end:a}}(t,n,a,i);return function xL(r,o,t,i){return i&&i.setContext&&t?function Zee(r,o,t,i){const n=r._chart.getContext(),a=DL(r.options),{_datasetIndex:s,options:{spanGaps:d}}=r,m=t.length,I=[];let J=a,oe=o[0].start,Ce=oe;function $e(nt,Tt,Zt,ci){const xi=d?-1:1;if(nt!==Tt){for(nt+=m;t[nt%m].skip;)nt-=xi;for(;t[Tt%m].skip;)Tt+=xi;nt%m!=Tt%m&&(I.push({start:nt%m,end:Tt%m,loop:Zt,style:ci}),J=ci,oe=Tt%m)}}for(const nt of o){oe=d?oe:nt.start;let Zt,Tt=t[oe%m];for(Ce=oe+1;Ce<=nt.end;Ce++){const ci=t[Ce%m];Zt=DL(i.setContext(rm(n,{type:"segment",p0:Tt,p1:ci,p0DataIndex:(Ce-1)%m,p1DataIndex:Ce%m,datasetIndex:s}))),$ee(Zt,J)&&$e(oe,Ce-1,nt.loop,J),Tt=ci,J=Zt}oe<Ce-1&&$e(oe,Ce-1,nt.loop,J)}return I}(r,o,t,i):o}(r,!0===i?[{start:s,end:d,loop:a}]:function Kee(r,o,t,i){const n=r.length,a=[];let m,s=o,d=r[o];for(m=o+1;m<=t;++m){const I=r[m%n];I.skip||I.stop?d.skip||(a.push({start:o%n,end:(m-1)%n,loop:i=!1}),o=s=I.stop?m:null):(s=m,d.skip&&(o=m)),d=I}return null!==s&&a.push({start:o%n,end:s%n,loop:i}),a}(t,s,d<s?d+n:d,!!r._fullLoop&&0===s&&d===n-1),t,o)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,n=t.length;return n&&this.points[t[n-1].end]}interpolate(t,i){const n=this.options,a=t[i],s=this.points,d=ML(this,{property:i,start:a,end:a});if(!d.length)return;const m=[],I=function $ie(r){return r.stepped?Gee:r.tension||"monotone"===r.cubicInterpolationMode?Uee:O0}(n);let J,oe;for(J=0,oe=d.length;J<oe;++J){const{start:Ce,end:$e}=d[J],nt=s[Ce],Tt=s[$e];if(nt===Tt){m.push(nt);continue}const ci=I(nt,Tt,Math.abs((a-nt[i])/(Tt[i]-nt[i])),n.stepped);ci[i]=t[i],m.push(ci)}return 1===m.length?m[0]:m}pathSegment(t,i,n){return VS(this)(t,this,i,n)}path(t,i,n){const a=this.segments,s=VS(this);let d=this._loop;i=i||0,n=n||this.points.length-i;for(const m of a)d&=s(t,this,m,{start:i,end:i+n-1});return!!d}draw(t,i,n,a){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function ine(r,o,t,i){tne&&!o.options.segment?function qie(r,o,t,i){let n=o._path;n||(n=o._path=new Path2D,o.path(n,t,i)&&n.closePath()),gY(r,o.options),r.stroke(n)}(r,o,t,i):function ene(r,o,t,i){const{segments:n,options:a}=o,s=VS(o);for(const d of n)gY(r,a,d.style),r.beginPath(),s(r,o,d,{start:t,end:t+i-1})&&r.closePath(),r.stroke()}(r,o,t,i)}(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return r.id="line",r.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},r.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},r.descriptors={_scriptable:!0,_indexable:o=>"borderDash"!==o&&"fill"!==o},r})();function vY(r,o,t,i){const n=r.options,{[t]:a}=r.getProps([t],i);return Math.abs(o-a)<n.radius+n.hitRadius}let _Y=(()=>{class r extends zh{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,n){const a=this.options,{x:s,y:d}=this.getProps(["x","y"],n);return Math.pow(t-s,2)+Math.pow(i-d,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return vY(this,t,"x",i)}inYRange(t,i){return vY(this,t,"y",i)}getCenterPoint(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const n=this.options;this.skip||n.radius<.1||!Z1(this,i,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,kS(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return r.id="point",r.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},r.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},r})();function yY(r,o){const{x:t,y:i,base:n,width:a,height:s}=r.getProps(["x","y","base","width","height"],o);let d,m,I,J,oe;return r.horizontal?(oe=s/2,d=Math.min(t,n),m=Math.max(t,n),I=i-oe,J=i+oe):(oe=a/2,d=t-oe,m=t+oe,I=Math.min(i,n),J=Math.max(i,n)),{left:d,top:I,right:m,bottom:J}}function am(r,o,t,i){return r?0:xA(o,t,i)}function JS(r,o,t,i){const n=null===o,a=null===t,d=r&&!(n&&a)&&yY(r,i);return d&&(n||Qf(o,d.left,d.right))&&(a||Qf(t,d.top,d.bottom))}function sne(r,o){r.rect(o.x,o.y,o.w,o.h)}function WS(r,o,t={}){const i=r.x!==t.x?-o:0,n=r.y!==t.y?-o:0;return{x:r.x+i,y:r.y+n,w:r.w+((r.x+r.w!==t.x+t.w?o:0)-i),h:r.h+((r.y+r.h!==t.y+t.h?o:0)-n),radius:r.radius}}class Aw extends zh{constructor(o){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,o&&Object.assign(this,o)}draw(o){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:s}=function one(r){const o=yY(r),t=o.right-o.left,i=o.bottom-o.top,n=function nne(r,o,t){const n=r.borderSkipped,a=lL(r.options.borderWidth);return{t:am(n.top,a.top,0,t),r:am(n.right,a.right,0,o),b:am(n.bottom,a.bottom,0,t),l:am(n.left,a.left,0,o)}}(r,t/2,i/2),a=function rne(r,o,t){const{enableBorderRadius:i}=r.getProps(["enableBorderRadius"]),n=r.options.borderRadius,a=Q0(n),s=Math.min(o,t),d=r.borderSkipped,m=i||Ra(n);return{topLeft:am(!m||d.top||d.left,a.topLeft,0,s),topRight:am(!m||d.top||d.right,a.topRight,0,s),bottomLeft:am(!m||d.bottom||d.left,a.bottomLeft,0,s),bottomRight:am(!m||d.bottom||d.right,a.bottomRight,0,s)}}(r,t/2,i/2);return{outer:{x:o.left,y:o.top,w:t,h:i,radius:a},inner:{x:o.left+n.l,y:o.top+n.t,w:t-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}(this),d=function ane(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}(s.radius)?$1:sne;o.save(),(s.w!==a.w||s.h!==a.h)&&(o.beginPath(),d(o,WS(s,t,a)),o.clip(),d(o,WS(a,-t,s)),o.fillStyle=i,o.fill("evenodd")),o.beginPath(),d(o,WS(a,t)),o.fillStyle=n,o.fill(),o.restore()}inRange(o,t,i){return JS(this,o,t,i)}inXRange(o,t){return JS(this,o,null,t)}inYRange(o,t){return JS(this,null,o,t)}getCenterPoint(o){const{x:t,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],o);return{x:a?(t+n)/2:t,y:a?i:(i+n)/2}}getRange(o){return"x"===o?this.width/2:this.height/2}}Aw.id="bar",Aw.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Aw.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var lne=Object.freeze({__proto__:null,ArcElement:cw,LineElement:Yx,PointElement:_Y,BarElement:Aw});function bY(r){if(r._decimated){const o=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:o})}}function wY(r){r.data.datasets.forEach(o=>{bY(o)})}var une={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,o,t)=>{if(!t.enabled)return void wY(r);const i=r.width;r.data.datasets.forEach((n,a)=>{const{_data:s,indexAxis:d}=n,m=r.getDatasetMeta(a),I=s||n.data;if("y"===kl([d,r.options.indexAxis])||!m.controller.supportsDecimation)return;const J=r.scales[m.xAxisID];if("linear"!==J.type&&"time"!==J.type||r.options.parsing)return;let nt,{start:oe,count:Ce}=function dne(r,o){const t=o.length;let n,i=0;const{iScale:a}=r,{min:s,max:d,minDefined:m,maxDefined:I}=a.getUserBounds();return m&&(i=xA(Rf(o,a.axis,s).lo,0,t-1)),n=I?xA(Rf(o,a.axis,d).hi+1,i,t)-i:t-i,{start:i,count:n}}(m,I);if(Ce<=(t.threshold||4*i))bY(n);else{switch(Fa(s)&&(n._data=I,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Tt){this._data=Tt}})),t.algorithm){case"lttb":nt=function cne(r,o,t,i,n){const a=n.samples||i;if(a>=t)return r.slice(o,o+t);const s=[],d=(t-2)/(a-2);let m=0;const I=o+t-1;let oe,Ce,$e,nt,Tt,J=o;for(s[m++]=r[J],oe=0;oe<a-2;oe++){let xi,Zt=0,ci=0;const Oi=Math.floor((oe+1)*d)+1+o,Ui=Math.min(Math.floor((oe+2)*d)+1,t)+o,Hi=Ui-Oi;for(xi=Oi;xi<Ui;xi++)Zt+=r[xi].x,ci+=r[xi].y;Zt/=Hi,ci/=Hi;const gn=Math.floor(oe*d)+1+o,pn=Math.min(Math.floor((oe+1)*d)+1,t)+o,{x:Jn,y:tr}=r[J];for($e=nt=-1,xi=gn;xi<pn;xi++)nt=.5*Math.abs((Jn-Zt)*(r[xi].y-tr)-(Jn-r[xi].x)*(ci-tr)),nt>$e&&($e=nt,Ce=r[xi],Tt=xi);s[m++]=Ce,J=Tt}return s[m++]=r[I],s}(I,oe,Ce,i,t);break;case"min-max":nt=function Ane(r,o,t,i){let s,d,m,I,J,oe,Ce,$e,nt,Tt,n=0,a=0;const Zt=[],xi=r[o].x,Ui=r[o+t-1].x-xi;for(s=o;s<o+t;++s){d=r[s],m=(d.x-xi)/Ui*i,I=d.y;const Hi=0|m;if(Hi===J)I<nt?(nt=I,oe=s):I>Tt&&(Tt=I,Ce=s),n=(a*n+d.x)/++a;else{const gn=s-1;if(!Fa(oe)&&!Fa(Ce)){const pn=Math.min(oe,Ce),Jn=Math.max(oe,Ce);pn!==$e&&pn!==gn&&Zt.push({...r[pn],x:n}),Jn!==$e&&Jn!==gn&&Zt.push({...r[Jn],x:n})}s>0&&gn!==$e&&Zt.push(r[gn]),Zt.push(d),J=Hi,a=0,nt=Tt=I,oe=Ce=$e=s}}return Zt}(I,oe,Ce,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}n._decimated=nt}})},destroy(r){wY(r)}};function KS(r,o,t,i){if(i)return;let n=o[r],a=t[r];return"angle"===r&&(n=Cu(n),a=Cu(a)),{property:r,start:n,end:a}}function XS(r,o,t){for(;o>r;o--){const i=t[o];if(!isNaN(i.x)&&!isNaN(i.y))break}return o}function CY(r,o,t,i){return r&&o?i(r[t],o[t]):r?r[t]:o?o[t]:0}function EY(r,o){let t=[],i=!1;return ml(r)?(i=!0,t=r):t=function pne(r,o){const{x:t=null,y:i=null}=r||{},n=o.points,a=[];return o.segments.forEach(({start:s,end:d})=>{d=XS(s,d,n);const m=n[s],I=n[d];null!==i?(a.push({x:m.x,y:i}),a.push({x:I.x,y:i})):null!==t&&(a.push({x:t,y:m.y}),a.push({x:t,y:I.y}))}),a}(r,o),t.length?new Yx({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function BY(r){return r&&!1!==r.fill}function fne(r,o,t){let n=r[o].fill;const a=[o];let s;if(!t)return n;for(;!1!==n&&-1===a.indexOf(n);){if(!Ec(n))return n;if(s=r[n],!s)return!1;if(s.visible)return n;a.push(n),n=s.fill}return!1}function gne(r,o,t){const i=function yne(r){const o=r.options,t=o.fill;let i=oa(t&&t.target,t);return void 0===i&&(i=!!o.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(r);if(Ra(i))return!isNaN(i.value)&&i;let n=parseFloat(i);return Ec(n)&&Math.floor(n)===n?function mne(r,o,t,i){return("-"===r||"+"===r)&&(t=o+t),!(t===o||t<0||t>=i)&&t}(i[0],o,n,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Cne(r,o,t){const i=[];for(let n=0;n<t.length;n++){const a=t[n],{first:s,last:d,point:m}=Ene(a,o,"x");if(!(!m||s&&d))if(s)i.unshift(m);else if(r.push(m),!d)break}r.push(...i)}function Ene(r,o,t){const i=r.interpolate(o,t);if(!i)return{};const n=i[t],a=r.segments,s=r.points;let d=!1,m=!1;for(let I=0;I<a.length;I++){const J=a[I],oe=s[J.start][t],Ce=s[J.end][t];if(Qf(n,oe,Ce)){d=n===oe,m=n===Ce;break}}return{first:d,last:m,point:i}}class MY{constructor(o){this.x=o.x,this.y=o.y,this.radius=o.radius}pathSegment(o,t,i){const{x:n,y:a,radius:s}=this;return o.arc(n,a,s,(t=t||{start:0,end:qs}).end,t.start,!0),!i.bounds}interpolate(o){const{x:t,y:i,radius:n}=this,a=o.angle;return{x:t+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}}function ZS(r,o,t){const i=function Bne(r){const{chart:o,fill:t,line:i}=r;if(Ec(t))return function Mne(r,o){const t=r.getDatasetMeta(o);return t&&r.isDatasetVisible(o)?t.dataset:null}(o,t);if("stack"===t)return function bne(r){const{scale:o,index:t,line:i}=r,n=[],a=i.segments,s=i.points,d=function wne(r,o){const t=[],i=r.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const a=i[n];if(a.index===o)break;a.hidden||t.unshift(a.dataset)}return t}(o,t);d.push(EY({x:null,y:o.bottom},i));for(let m=0;m<a.length;m++){const I=a[m];for(let J=I.start;J<=I.end;J++)Cne(n,s[J],d)}return new Yx({points:n,options:{}})}(r);if("shape"===t)return!0;const n=function xne(r){return(r.scale||{}).getPointPositionForValue?function Ine(r){const{scale:o,fill:t}=r,i=o.options,n=o.getLabels().length,a=i.reverse?o.max:o.min,s=function _ne(r,o,t){let i;return i="start"===r?t:"end"===r?o.options.reverse?o.min:o.max:Ra(r)?r.value:o.getBaseValue(),i}(t,o,a),d=[];if(i.grid.circular){const m=o.getPointPositionForValue(0,a);return new MY({x:m.x,y:m.y,radius:o.getDistanceFromCenterForValue(s)})}for(let m=0;m<n;++m)d.push(o.getPointPositionForValue(m,s));return d}(r):function Dne(r){const{scale:o={},fill:t}=r,i=function vne(r,o){let t=null;return"start"===r?t=o.bottom:"end"===r?t=o.top:Ra(r)?t=o.getPixelForValue(r.value):o.getBasePixel&&(t=o.getBasePixel()),t}(t,o);if(Ec(i)){const n=o.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}(r)}(r);return n instanceof MY?n:EY(n,i)}(o),{line:n,scale:a,axis:s}=o,d=n.options,m=d.fill,I=d.backgroundColor,{above:J=I,below:oe=I}=m||{};i&&n.points.length&&(Mx(r,t),function kne(r,o){const{line:t,target:i,above:n,below:a,area:s,scale:d}=o,m=t._loop?"angle":o.axis;r.save(),"x"===m&&a!==n&&(xY(r,i,s.top),DY(r,{line:t,target:i,color:n,scale:d,property:m}),r.restore(),r.save(),xY(r,i,s.bottom)),DY(r,{line:t,target:i,color:a,scale:d,property:m}),r.restore()}(r,{line:n,target:i,above:J,below:oe,area:t,scale:a,axis:s}),xx(r))}function xY(r,o,t){const{segments:i,points:n}=o;let a=!0,s=!1;r.beginPath();for(const d of i){const{start:m,end:I}=d,J=n[m],oe=n[XS(m,I,n)];a?(r.moveTo(J.x,J.y),a=!1):(r.lineTo(J.x,t),r.lineTo(J.x,J.y)),s=!!o.pathSegment(r,d,{move:s}),s?r.closePath():r.lineTo(oe.x,t)}r.lineTo(o.first().x,t),r.closePath(),r.clip()}function DY(r,o){const{line:t,target:i,property:n,color:a,scale:s}=o,d=function hne(r,o,t){const i=r.segments,n=r.points,a=o.points,s=[];for(const d of i){let{start:m,end:I}=d;I=XS(m,I,n);const J=KS(t,n[m],n[I],d.loop);if(!o.segments){s.push({source:d,target:J,start:n[m],end:n[I]});continue}const oe=ML(o,J);for(const Ce of oe){const $e=KS(t,a[Ce.start],a[Ce.end],Ce.loop),nt=BL(d,n,$e);for(const Tt of nt)s.push({source:Tt,target:Ce,start:{[t]:CY(J,$e,"start",Math.max)},end:{[t]:CY(J,$e,"end",Math.min)}})}}return s}(t,i,n);for(const{source:m,target:I,start:J,end:oe}of d){const{style:{backgroundColor:Ce=a}={}}=m,$e=!0!==i;r.save(),r.fillStyle=Ce,Tne(r,s,$e&&KS(n,J,oe)),r.beginPath();const nt=!!t.pathSegment(r,m);let Tt;if($e){nt?r.closePath():IY(r,i,oe,n);const Zt=!!i.pathSegment(r,I,{move:nt,reverse:!0});Tt=nt&&Zt,Tt||IY(r,i,J,n)}r.closePath(),r.fill(Tt?"evenodd":"nonzero"),r.restore()}}function Tne(r,o,t){const{top:i,bottom:n}=o.chart.chartArea,{property:a,start:s,end:d}=t||{};"x"===a&&(r.beginPath(),r.rect(s,i,d-s,n-i),r.clip())}function IY(r,o,t,i){const n=o.interpolate(t,i);n&&r.lineTo(n.x,n.y)}var Fne={id:"filler",afterDatasetsUpdate(r,o,t){const i=(r.data.datasets||[]).length,n=[];let a,s,d,m;for(s=0;s<i;++s)a=r.getDatasetMeta(s),d=a.dataset,m=null,d&&d.options&&d instanceof Yx&&(m={visible:r.isDatasetVisible(s),index:s,fill:gne(d,s,i),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:d}),a.$filler=m,n.push(m);for(s=0;s<i;++s)m=n[s],m&&!1!==m.fill&&(m.fill=fne(n,s,t.propagate))},beforeDraw(r,o,t){const i="beforeDraw"===t.drawTime,n=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let s=n.length-1;s>=0;--s){const d=n[s].$filler;d&&(d.line.updateControlPoints(a,d.axis),i&&d.fill&&ZS(r.ctx,d,a))}},beforeDatasetsDraw(r,o,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=r.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const a=i[n].$filler;BY(a)&&ZS(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,o,t){const i=o.meta.$filler;!BY(i)||"beforeDatasetDraw"!==t.drawTime||ZS(r.ctx,i,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kY=(r,o)=>{let{boxHeight:t=o,boxWidth:i=o}=r;return r.usePointStyle&&(t=Math.min(t,o),i=r.pointStyleWidth||Math.min(i,o)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(o,t)}};class TY extends zh{constructor(o){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,t,i){this.maxWidth=o,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const o=this.options.labels||{};let t=$s(o.generateLabels,[this.chart],this)||[];o.filter&&(t=t.filter(i=>o.filter(i,this.chart.data))),o.sort&&(t=t.sort((i,n)=>o.sort(i,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:o,ctx:t}=this;if(!o.display)return void(this.width=this.height=0);const i=o.labels,n=Hc(i.font),a=n.size,s=this._computeTitleHeight(),{boxWidth:d,itemHeight:m}=kY(i,a);let I,J;t.font=n.string,this.isHorizontal()?(I=this.maxWidth,J=this._fitRows(s,a,d,m)+10):(J=this.maxHeight,I=this._fitCols(s,a,d,m)+10),this.width=Math.min(I,o.maxWidth||this.maxWidth),this.height=Math.min(J,o.maxHeight||this.maxHeight)}_fitRows(o,t,i,n){const{ctx:a,maxWidth:s,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],I=this.lineWidths=[0],J=n+d;let oe=o;a.textAlign="left",a.textBaseline="middle";let Ce=-1,$e=-J;return this.legendItems.forEach((nt,Tt)=>{const Zt=i+t/2+a.measureText(nt.text).width;(0===Tt||I[I.length-1]+Zt+2*d>s)&&(oe+=J,I[I.length-(Tt>0?0:1)]=0,$e+=J,Ce++),m[Tt]={left:0,top:$e,row:Ce,width:Zt,height:n},I[I.length-1]+=Zt+d}),oe}_fitCols(o,t,i,n){const{ctx:a,maxHeight:s,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],I=this.columnSizes=[],J=s-o;let oe=d,Ce=0,$e=0,nt=0,Tt=0;return this.legendItems.forEach((Zt,ci)=>{const xi=i+t/2+a.measureText(Zt.text).width;ci>0&&$e+n+2*d>J&&(oe+=Ce+d,I.push({width:Ce,height:$e}),nt+=Ce+d,Tt++,Ce=$e=0),m[ci]={left:nt,top:$e,col:Tt,width:xi,height:n},Ce=Math.max(Ce,xi),$e+=n+d}),oe+=Ce,I.push({width:Ce,height:$e}),oe}adjustHitBoxes(){if(!this.options.display)return;const o=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:a}}=this,s=P_(a,this.left,this.width);if(this.isHorizontal()){let d=0,m=$A(i,this.left+n,this.right-this.lineWidths[d]);for(const I of t)d!==I.row&&(d=I.row,m=$A(i,this.left+n,this.right-this.lineWidths[d])),I.top+=this.top+o+n,I.left=s.leftForLtr(s.x(m),I.width),m+=I.width+n}else{let d=0,m=$A(i,this.top+o+n,this.bottom-this.columnSizes[d].height);for(const I of t)I.col!==d&&(d=I.col,m=$A(i,this.top+o+n,this.bottom-this.columnSizes[d].height)),I.top=m,I.left+=this.left+n,I.left=s.leftForLtr(s.x(I.left),I.width),m+=I.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const o=this.ctx;Mx(o,this),this._draw(),xx(o)}}_draw(){const{options:o,columnSizes:t,lineWidths:i,ctx:n}=this,{align:a,labels:s}=o,d=Pa.color,m=P_(o.rtl,this.left,this.width),I=Hc(s.font),{color:J,padding:oe}=s,Ce=I.size,$e=Ce/2;let nt;this.drawTitle(),n.textAlign=m.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=I.string;const{boxWidth:Tt,boxHeight:Zt,itemHeight:ci}=kY(s,Ce),Ui=this.isHorizontal(),Hi=this._computeTitleHeight();nt=Ui?{x:$A(a,this.left+oe,this.right-i[0]),y:this.top+oe+Hi,line:0}:{x:this.left+oe,y:$A(a,this.top+Hi+oe,this.bottom-t[0].height),line:0},bL(this.ctx,o.textDirection);const gn=ci+oe;this.legendItems.forEach((pn,Jn)=>{n.strokeStyle=pn.fontColor||J,n.fillStyle=pn.fontColor||J;const tr=n.measureText(pn.text).width,pr=m.textAlign(pn.textAlign||(pn.textAlign=s.textAlign)),ho=Tt+$e+tr;let io=nt.x,sa=nt.y;m.setWidth(this.width),Ui?Jn>0&&io+ho+oe>this.right&&(sa=nt.y+=gn,nt.line++,io=nt.x=$A(a,this.left+oe,this.right-i[nt.line])):Jn>0&&sa+gn>this.bottom&&(io=nt.x=io+t[nt.line].width+oe,nt.line++,sa=nt.y=$A(a,this.top+Hi+oe,this.bottom-t[nt.line].height)),function(pn,Jn,tr){if(isNaN(Tt)||Tt<=0||isNaN(Zt)||Zt<0)return;n.save();const pr=oa(tr.lineWidth,1);if(n.fillStyle=oa(tr.fillStyle,d),n.lineCap=oa(tr.lineCap,"butt"),n.lineDashOffset=oa(tr.lineDashOffset,0),n.lineJoin=oa(tr.lineJoin,"miter"),n.lineWidth=pr,n.strokeStyle=oa(tr.strokeStyle,d),n.setLineDash(oa(tr.lineDash,[])),s.usePointStyle){const ho={radius:Zt*Math.SQRT2/2,pointStyle:tr.pointStyle,rotation:tr.rotation,borderWidth:pr},io=m.xPlus(pn,Tt/2);sL(n,ho,io,Jn+$e,s.pointStyleWidth&&Tt)}else{const ho=Jn+Math.max((Ce-Zt)/2,0),io=m.leftForLtr(pn,Tt),sa=Q0(tr.borderRadius);n.beginPath(),Object.values(sa).some(Rs=>0!==Rs)?$1(n,{x:io,y:ho,w:Tt,h:Zt,radius:sa}):n.rect(io,ho,Tt,Zt),n.fill(),0!==pr&&n.stroke()}n.restore()}(m.x(io),sa,pn),io=((r,o,t,i)=>r===(i?"left":"right")?t:"center"===r?(o+t)/2:o)(pr,io+Tt+$e,Ui?io+ho:this.right,o.rtl),function(pn,Jn,tr){S0(n,tr.text,pn,Jn+ci/2,I,{strikethrough:tr.hidden,textAlign:m.textAlign(tr.textAlign)})}(m.x(io),sa,pn),Ui?nt.x+=ho+oe:nt.y+=gn}),wL(this.ctx,o.textDirection)}drawTitle(){const o=this.options,t=o.title,i=Hc(t.font),n=OA(t.padding);if(!t.display)return;const a=P_(o.rtl,this.left,this.width),s=this.ctx,d=t.position,I=n.top+i.size/2;let J,oe=this.left,Ce=this.width;if(this.isHorizontal())Ce=Math.max(...this.lineWidths),J=this.top+I,oe=$A(o.align,oe,this.right-Ce);else{const nt=this.columnSizes.reduce((Tt,Zt)=>Math.max(Tt,Zt.height),0);J=I+$A(o.align,this.top,this.bottom-nt-o.labels.padding-this._computeTitleHeight())}const $e=$A(d,oe,oe+Ce);s.textAlign=a.textAlign(bS(d)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=i.string,S0(s,t.text,$e,J,i)}_computeTitleHeight(){const o=this.options.title,t=Hc(o.font),i=OA(o.padding);return o.display?t.lineHeight+i.height:0}_getLegendItemAt(o,t){let i,n,a;if(Qf(o,this.left,this.right)&&Qf(t,this.top,this.bottom))for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],Qf(o,n.left,n.left+n.width)&&Qf(t,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(o){const t=this.options;if(!function Qne(r,o){return!(("mousemove"!==r&&"mouseout"!==r||!o.onHover&&!o.onLeave)&&(!o.onClick||"click"!==r&&"mouseup"!==r))}(o.type,t))return;const i=this._getLegendItemAt(o.x,o.y);if("mousemove"===o.type||"mouseout"===o.type){const n=this._hoveredItem,a=((r,o)=>null!==r&&null!==o&&r.datasetIndex===o.datasetIndex&&r.index===o.index)(n,i);n&&!a&&$s(t.onLeave,[o,n,this],this),this._hoveredItem=i,i&&!a&&$s(t.onHover,[o,i,this],this)}else i&&$s(t.onClick,[o,i,this],this)}}var Rne={id:"legend",_element:TY,start(r,o,t){const i=r.legend=new TY({ctx:r.ctx,options:t,chart:r});qA.configure(r,i,t),qA.addBox(r,i)},stop(r){qA.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,o,t){const i=r.legend;qA.configure(r,i,t),i.options=t},afterUpdate(r){const o=r.legend;o.buildLabels(),o.adjustHitBoxes()},afterEvent(r,o){o.replay||r.legend.handleEvent(o.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,o,t){const i=o.datasetIndex,n=t.chart;n.isDatasetVisible(i)?(n.hide(i),o.hidden=!0):(n.show(i),o.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const o=r.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:n,color:a}}=r.legend.options;return r._getSortedDatasetMetas().map(s=>{const d=s.controller.getStyle(t?0:void 0),m=OA(d.borderWidth);return{text:o[s.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!s.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:0,datasetIndex:s.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class $S extends zh{constructor(o){super(),this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=o,this.height=this.bottom=t;const n=ml(i.text)?i.text.length:1;this._padding=OA(i.padding);const a=n*Hc(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const o=this.options.position;return"top"===o||"bottom"===o}_drawArgs(o){const{top:t,left:i,bottom:n,right:a,options:s}=this,d=s.align;let I,J,oe,m=0;return this.isHorizontal()?(J=$A(d,i,a),oe=t+o,I=a-i):("left"===s.position?(J=i+o,oe=$A(d,n,t),m=-.5*zl):(J=a-o,oe=$A(d,t,n),m=.5*zl),I=n-t),{titleX:J,titleY:oe,maxWidth:I,rotation:m}}draw(){const o=this.ctx,t=this.options;if(!t.display)return;const i=Hc(t.font),a=i.lineHeight/2+this._padding.top,{titleX:s,titleY:d,maxWidth:m,rotation:I}=this._drawArgs(a);S0(o,t.text,0,0,i,{color:t.color,maxWidth:m,rotation:I,textAlign:bS(t.align),textBaseline:"middle",translation:[s,d]})}}var One={id:"title",_element:$S,start(r,o,t){!function Pne(r,o){const t=new $S({ctx:r.ctx,options:o,chart:r});qA.configure(r,t,o),qA.addBox(r,t),r.titleBlock=t}(r,t)},stop(r){qA.removeBox(r,r.titleBlock),delete r.titleBlock},beforeUpdate(r,o,t){const i=r.titleBlock;qA.configure(r,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nx=new WeakMap;var Lne={id:"subtitle",start(r,o,t){const i=new $S({ctx:r.ctx,options:t,chart:r});qA.configure(r,i,t),qA.addBox(r,i),Nx.set(r,i)},stop(r){qA.removeBox(r,Nx.get(r)),Nx.delete(r)},beforeUpdate(r,o,t){const i=Nx.get(r);qA.configure(r,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dw={average(r){if(!r.length)return!1;let o,t,i=0,n=0,a=0;for(o=0,t=r.length;o<t;++o){const s=r[o].element;if(s&&s.hasValue()){const d=s.tooltipPosition();i+=d.x,n+=d.y,++a}}return{x:i/a,y:n/a}},nearest(r,o){if(!r.length)return!1;let a,s,d,t=o.x,i=o.y,n=Number.POSITIVE_INFINITY;for(a=0,s=r.length;a<s;++a){const m=r[a].element;if(m&&m.hasValue()){const J=_S(o,m.getCenterPoint());J<n&&(n=J,d=m)}}if(d){const m=d.tooltipPosition();t=m.x,i=m.y}return{x:t,y:i}}};function kp(r,o){return o&&(ml(o)?Array.prototype.push.apply(r,o):r.push(o)),r}function Lf(r){return("string"==typeof r||r instanceof String)&&r.indexOf("\n")>-1?r.split("\n"):r}function Yne(r,o){const{element:t,datasetIndex:i,index:n}=o,a=r.getDatasetMeta(i).controller,{label:s,value:d}=a.getLabelAndValue(n);return{chart:r,label:s,parsed:a.getParsed(n),raw:r.data.datasets[i].data[n],formattedValue:d,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function FY(r,o){const t=r.chart.ctx,{body:i,footer:n,title:a}=r,{boxWidth:s,boxHeight:d}=o,m=Hc(o.bodyFont),I=Hc(o.titleFont),J=Hc(o.footerFont),oe=a.length,Ce=n.length,$e=i.length,nt=OA(o.padding);let Tt=nt.height,Zt=0,ci=i.reduce((Ui,Hi)=>Ui+Hi.before.length+Hi.lines.length+Hi.after.length,0);ci+=r.beforeBody.length+r.afterBody.length,oe&&(Tt+=oe*I.lineHeight+(oe-1)*o.titleSpacing+o.titleMarginBottom),ci&&(Tt+=$e*(o.displayColors?Math.max(d,m.lineHeight):m.lineHeight)+(ci-$e)*m.lineHeight+(ci-1)*o.bodySpacing),Ce&&(Tt+=o.footerMarginTop+Ce*J.lineHeight+(Ce-1)*o.footerSpacing);let xi=0;const Oi=function(Ui){Zt=Math.max(Zt,t.measureText(Ui).width+xi)};return t.save(),t.font=I.string,Ss(r.title,Oi),t.font=m.string,Ss(r.beforeBody.concat(r.afterBody),Oi),xi=o.displayColors?s+2+o.boxPadding:0,Ss(i,Ui=>{Ss(Ui.before,Oi),Ss(Ui.lines,Oi),Ss(Ui.after,Oi)}),xi=0,t.font=J.string,Ss(r.footer,Oi),t.restore(),Zt+=nt.width,{width:Zt,height:Tt}}function Gne(r,o,t,i){const{x:n,width:a}=t,{width:s,chartArea:{left:d,right:m}}=r;let I="center";return"center"===i?I=n<=(d+m)/2?"left":"right":n<=a/2?I="left":n>=s-a/2&&(I="right"),function jne(r,o,t,i){const{x:n,width:a}=i,s=t.caretSize+t.caretPadding;if("left"===r&&n+a+s>o.width||"right"===r&&n-a-s<0)return!0}(I,r,o,t)&&(I="center"),I}function SY(r,o,t){const i=t.yAlign||o.yAlign||function Nne(r,o){const{y:t,height:i}=o;return t<i/2?"top":t>r.height-i/2?"bottom":"center"}(r,t);return{xAlign:t.xAlign||o.xAlign||Gne(r,o,t,i),yAlign:i}}function QY(r,o,t,i){const{caretSize:n,caretPadding:a,cornerRadius:s}=r,{xAlign:d,yAlign:m}=t,I=n+a,{topLeft:J,topRight:oe,bottomLeft:Ce,bottomRight:$e}=Q0(s);let nt=function Une(r,o){let{x:t,width:i}=r;return"right"===o?t-=i:"center"===o&&(t-=i/2),t}(o,d);const Tt=function zne(r,o,t){let{y:i,height:n}=r;return"top"===o?i+=t:i-="bottom"===o?n+t:n/2,i}(o,m,I);return"center"===m?"left"===d?nt+=I:"right"===d&&(nt-=I):"left"===d?nt-=Math.max(J,Ce)+n:"right"===d&&(nt+=Math.max(oe,$e)+n),{x:xA(nt,0,i.width-o.width),y:xA(Tt,0,i.height-o.height)}}function jx(r,o,t){const i=OA(t.padding);return"center"===o?r.x+r.width/2:"right"===o?r.x+r.width-i.right:r.x+i.left}function RY(r){return kp([],Lf(r))}function PY(r,o){const t=o&&o.dataset&&o.dataset.tooltip&&o.dataset.tooltip.callbacks;return t?r.override(t):r}let OY=(()=>{class r extends zh{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&i.options.animation&&n.animations,s=new kL(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function Hne(r,o,t){return rm(r,{tooltip:o,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:n}=i,a=n.beforeTitle.apply(this,[t]),s=n.title.apply(this,[t]),d=n.afterTitle.apply(this,[t]);let m=[];return m=kp(m,Lf(a)),m=kp(m,Lf(s)),m=kp(m,Lf(d)),m}getBeforeBody(t,i){return RY(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){const{callbacks:n}=i,a=[];return Ss(t,s=>{const d={before:[],lines:[],after:[]},m=PY(n,s);kp(d.before,Lf(m.beforeLabel.call(this,s))),kp(d.lines,m.label.call(this,s)),kp(d.after,Lf(m.afterLabel.call(this,s))),a.push(d)}),a}getAfterBody(t,i){return RY(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){const{callbacks:n}=i,a=n.beforeFooter.apply(this,[t]),s=n.footer.apply(this,[t]),d=n.afterFooter.apply(this,[t]);let m=[];return m=kp(m,Lf(a)),m=kp(m,Lf(s)),m=kp(m,Lf(d)),m}_createItems(t){const i=this._active,n=this.chart.data,a=[],s=[],d=[];let I,J,m=[];for(I=0,J=i.length;I<J;++I)m.push(Yne(this.chart,i[I]));return t.filter&&(m=m.filter((oe,Ce,$e)=>t.filter(oe,Ce,$e,n))),t.itemSort&&(m=m.sort((oe,Ce)=>t.itemSort(oe,Ce,n))),Ss(m,oe=>{const Ce=PY(t.callbacks,oe);a.push(Ce.labelColor.call(this,oe)),s.push(Ce.labelPointStyle.call(this,oe)),d.push(Ce.labelTextColor.call(this,oe))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=d,this.dataPoints=m,m}update(t,i){const n=this.options.setContext(this.getContext()),a=this._active;let s,d=[];if(a.length){const m=dw[n.position].call(this,a,this._eventPosition);d=this._createItems(n),this.title=this.getTitle(d,n),this.beforeBody=this.getBeforeBody(d,n),this.body=this.getBody(d,n),this.afterBody=this.getAfterBody(d,n),this.footer=this.getFooter(d,n);const I=this._size=FY(this,n),J=Object.assign({},m,I),oe=SY(this.chart,n,J),Ce=QY(n,J,oe,this.chart);this.xAlign=oe.xAlign,this.yAlign=oe.yAlign,s={opacity:1,x:Ce.x,y:Ce.y,width:I.width,height:I.height,caretX:m.x,caretY:m.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=d,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,a){const s=this.getCaretPosition(t,n,a);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(t,i,n){const{xAlign:a,yAlign:s}=this,{caretSize:d,cornerRadius:m}=n,{topLeft:I,topRight:J,bottomLeft:oe,bottomRight:Ce}=Q0(m),{x:$e,y:nt}=t,{width:Tt,height:Zt}=i;let ci,xi,Oi,Ui,Hi,gn;return"center"===s?(Hi=nt+Zt/2,"left"===a?(ci=$e,xi=ci-d,Ui=Hi+d,gn=Hi-d):(ci=$e+Tt,xi=ci+d,Ui=Hi-d,gn=Hi+d),Oi=ci):(xi="left"===a?$e+Math.max(I,oe)+d:"right"===a?$e+Tt-Math.max(J,Ce)-d:this.caretX,"top"===s?(Ui=nt,Hi=Ui-d,ci=xi-d,Oi=xi+d):(Ui=nt+Zt,Hi=Ui+d,ci=xi+d,Oi=xi-d),gn=Ui),{x1:ci,x2:xi,x3:Oi,y1:Ui,y2:Hi,y3:gn}}drawTitle(t,i,n){const a=this.title,s=a.length;let d,m,I;if(s){const J=P_(n.rtl,this.x,this.width);for(t.x=jx(this,n.titleAlign,n),i.textAlign=J.textAlign(n.titleAlign),i.textBaseline="middle",d=Hc(n.titleFont),m=n.titleSpacing,i.fillStyle=n.titleColor,i.font=d.string,I=0;I<s;++I)i.fillText(a[I],J.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+m,I+1===s&&(t.y+=n.titleMarginBottom-m)}}_drawColorBox(t,i,n,a,s){const d=this.labelColors[n],m=this.labelPointStyles[n],{boxHeight:I,boxWidth:J,boxPadding:oe}=s,Ce=Hc(s.bodyFont),$e=jx(this,"left",s),nt=a.x($e),Zt=i.y+(I<Ce.lineHeight?(Ce.lineHeight-I)/2:0);if(s.usePointStyle){const ci={radius:Math.min(J,I)/2,pointStyle:m.pointStyle,rotation:m.rotation,borderWidth:1},xi=a.leftForLtr(nt,J)+J/2,Oi=Zt+I/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,kS(t,ci,xi,Oi),t.strokeStyle=d.borderColor,t.fillStyle=d.backgroundColor,kS(t,ci,xi,Oi)}else{t.lineWidth=Ra(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,t.strokeStyle=d.borderColor,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset||0;const ci=a.leftForLtr(nt,J-oe),xi=a.leftForLtr(a.xPlus(nt,1),J-oe-2),Oi=Q0(d.borderRadius);Object.values(Oi).some(Ui=>0!==Ui)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,$1(t,{x:ci,y:Zt,w:J,h:I,radius:Oi}),t.fill(),t.stroke(),t.fillStyle=d.backgroundColor,t.beginPath(),$1(t,{x:xi,y:Zt+1,w:J-2,h:I-2,radius:Oi}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(ci,Zt,J,I),t.strokeRect(ci,Zt,J,I),t.fillStyle=d.backgroundColor,t.fillRect(xi,Zt+1,J-2,I-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){const{body:a}=this,{bodySpacing:s,bodyAlign:d,displayColors:m,boxHeight:I,boxWidth:J,boxPadding:oe}=n,Ce=Hc(n.bodyFont);let $e=Ce.lineHeight,nt=0;const Tt=P_(n.rtl,this.x,this.width),Zt=function(tr){i.fillText(tr,Tt.x(t.x+nt),t.y+$e/2),t.y+=$e+s},ci=Tt.textAlign(d);let xi,Oi,Ui,Hi,gn,pn,Jn;for(i.textAlign=d,i.textBaseline="middle",i.font=Ce.string,t.x=jx(this,ci,n),i.fillStyle=n.bodyColor,Ss(this.beforeBody,Zt),nt=m&&"right"!==ci?"center"===d?J/2+oe:J+2+oe:0,Hi=0,pn=a.length;Hi<pn;++Hi){for(xi=a[Hi],Oi=this.labelTextColors[Hi],i.fillStyle=Oi,Ss(xi.before,Zt),Ui=xi.lines,m&&Ui.length&&(this._drawColorBox(i,t,Hi,Tt,n),$e=Math.max(Ce.lineHeight,I)),gn=0,Jn=Ui.length;gn<Jn;++gn)Zt(Ui[gn]),$e=Ce.lineHeight;Ss(xi.after,Zt)}nt=0,$e=Ce.lineHeight,Ss(this.afterBody,Zt),t.y-=s}drawFooter(t,i,n){const a=this.footer,s=a.length;let d,m;if(s){const I=P_(n.rtl,this.x,this.width);for(t.x=jx(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=I.textAlign(n.footerAlign),i.textBaseline="middle",d=Hc(n.footerFont),i.fillStyle=n.footerColor,i.font=d.string,m=0;m<s;++m)i.fillText(a[m],I.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+n.footerSpacing}}drawBackground(t,i,n,a){const{xAlign:s,yAlign:d}=this,{x:m,y:I}=t,{width:J,height:oe}=n,{topLeft:Ce,topRight:$e,bottomLeft:nt,bottomRight:Tt}=Q0(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(m+Ce,I),"top"===d&&this.drawCaret(t,i,n,a),i.lineTo(m+J-$e,I),i.quadraticCurveTo(m+J,I,m+J,I+$e),"center"===d&&"right"===s&&this.drawCaret(t,i,n,a),i.lineTo(m+J,I+oe-Tt),i.quadraticCurveTo(m+J,I+oe,m+J-Tt,I+oe),"bottom"===d&&this.drawCaret(t,i,n,a),i.lineTo(m+nt,I+oe),i.quadraticCurveTo(m,I+oe,m,I+oe-nt),"center"===d&&"left"===s&&this.drawCaret(t,i,n,a),i.lineTo(m,I+Ce),i.quadraticCurveTo(m,I,m+Ce,I),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const d=dw[t.position].call(this,this._active,this._eventPosition);if(!d)return;const m=this._size=FY(this,t),I=Object.assign({},d,this._size),J=SY(i,t,I),oe=QY(t,I,J,i);(a._to!==oe.x||s._to!==oe.y)&&(this.xAlign=J.xAlign,this.yAlign=J.yAlign,this.width=m.width,this.height=m.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,oe))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const d=OA(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=n,this.drawBackground(s,t,a,i),bL(t,i.textDirection),s.y+=d.top,this.drawTitle(s,t,i),this.drawBody(s,t,i),this.drawFooter(s,t,i),wL(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const n=this._active,a=t.map(({datasetIndex:m,index:I})=>{const J=this.chart.getDatasetMeta(m);if(!J)throw new Error("Cannot find a dataset at index "+m);return{datasetIndex:m,element:J.data[I],index:I}}),s=!mx(n,a),d=this._positionChanged(a,i);(s||d)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],d=this._getActiveElements(t,s,i,n),m=this._positionChanged(d,t),I=i||!mx(d,s)||m;return I&&(this._active=d,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),I}_getActiveElements(t,i,n,a){const s=this.options;if("mouseout"===t.type)return[];if(!a)return i;const d=this.chart.getElementsAtEventForMode(t,s.mode,s,n);return s.reverse&&d.reverse(),d}_positionChanged(t,i){const{caretX:n,caretY:a,options:s}=this,d=dw[s.position].call(this,t,i);return!1!==d&&(n!==d.x||a!==d.y)}}return r.positioners=dw,r})();var Vne={id:"tooltip",_element:OY,positioners:dw,afterInit(r,o,t){t&&(r.tooltip=new OY({chart:r,options:t}))},beforeUpdate(r,o,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,o,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const o=r.tooltip;if(o&&o._willRender()){const t={tooltip:o};if(!1===r.notifyPlugins("beforeTooltipDraw",t))return;o.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,o){r.tooltip&&r.tooltip.handleEvent(o.event,o.replay,o.inChartArea)&&(o.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,o)=>o.bodyFont.size,boxWidth:(r,o)=>o.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Sf,title(r){if(r.length>0){const o=r[0],t=o.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return o.dataset.label||"";if(o.label)return o.label;if(i>0&&o.dataIndex<i)return t[o.dataIndex]}return""},afterTitle:Sf,beforeBody:Sf,beforeLabel:Sf,label(r){if(this&&this.options&&"dataset"===this.options.mode)return r.label+": "+r.formattedValue||r.formattedValue;let o=r.dataset.label||"";o&&(o+=": ");const t=r.formattedValue;return Fa(t)||(o+=t),o},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Sf,afterBody:Sf,beforeFooter:Sf,footer:Sf,afterFooter:Sf}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>"filter"!==r&&"itemSort"!==r&&"external"!==r,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Jne=Object.freeze({__proto__:null,Decimation:une,Filler:Fne,Legend:Rne,SubTitle:Lne,Title:One,Tooltip:Vne});class Gx extends L0{constructor(o){super(o),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(o){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:n,label:a}of t)i[n]===a&&i.splice(n,1);this._addedLabels=[]}super.init(o)}parse(o,t){if(Fa(o))return null;const i=this.getLabels();return((r,o)=>null===r?null:xA(Math.round(r),0,o))(t=isFinite(t)&&i[t]===o?t:function Kne(r,o,t,i){const n=r.indexOf(o);return-1===n?((r,o,t,i)=>("string"==typeof o?(t=r.push(o)-1,i.unshift({index:t,label:o})):isNaN(o)&&(t=null),t))(r,o,t,i):n!==r.lastIndexOf(o)?t:n}(i,o,oa(t,o),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:o,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(o||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const o=this.min,t=this.max,i=this.options.offset,n=[];let a=this.getLabels();a=0===o&&t===a.length-1?a:a.slice(o,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=o;s<=t;s++)n.push({value:s});return n}getLabelForValue(o){const t=this.getLabels();return o>=0&&o<t.length?t[o]:o}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(o){return"number"!=typeof o&&(o=this.parse(o)),null===o?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getPixelForTick(o){const t=this.ticks;return o<0||o>t.length-1?null:this.getPixelForValue(t[o].value)}getValueForPixel(o){return Math.round(this._startValue+this.getDecimalForPixel(o)*this._valueRange)}getBasePixel(){return this.bottom}}function LY(r,o,{horizontal:t,minRotation:i}){const n=Uh(i),a=(t?Math.sin(n):Math.cos(n))||.001;return Math.min(o/a,.75*o*(""+r).length)}Gx.id="category",Gx.defaults={ticks:{callback:Gx.prototype.getLabelForValue}};class Ux extends L0{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(o,t){return Fa(o)||("number"==typeof o||o instanceof Number)&&!isFinite(+o)?null:+o}handleTickRangeOptions(){const{beginAtZero:o}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:a}=this;const s=m=>n=t?n:m,d=m=>a=i?a:m;if(o){const m=xp(n),I=xp(a);m<0&&I<0?d(0):m>0&&I>0&&s(0)}if(n===a){let m=1;(a>=Number.MAX_SAFE_INTEGER||n<=Number.MIN_SAFE_INTEGER)&&(m=Math.abs(.05*a)),d(a+m),o||s(n-m)}this.min=n,this.max=a}getTickLimit(){const o=this.options.ticks;let n,{maxTicksLimit:t,stepSize:i}=o;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const o=this.options,t=o.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function Zne(r,o){const t=[],{bounds:n,step:a,min:s,max:d,precision:m,count:I,maxTicks:J,maxDigits:oe,includeBounds:Ce}=r,$e=a||1,nt=J-1,{min:Tt,max:Zt}=o,ci=!Fa(s),xi=!Fa(d),Oi=!Fa(I),Ui=(Zt-Tt)/(oe+1);let gn,pn,Jn,tr,Hi=OO((Zt-Tt)/nt/$e)*$e;if(Hi<1e-14&&!ci&&!xi)return[{value:Tt},{value:Zt}];tr=Math.ceil(Zt/Hi)-Math.floor(Tt/Hi),tr>nt&&(Hi=OO(tr*Hi/nt/$e)*$e),Fa(m)||(gn=Math.pow(10,m),Hi=Math.ceil(Hi*gn)/gn),"ticks"===n?(pn=Math.floor(Tt/Hi)*Hi,Jn=Math.ceil(Zt/Hi)*Hi):(pn=Tt,Jn=Zt),ci&&xi&&a&&function Tq(r,o){const t=Math.round(r);return t-o<=r&&t+o>=r}((d-s)/a,Hi/1e3)?(tr=Math.round(Math.min((d-s)/Hi,J)),Hi=(d-s)/tr,pn=s,Jn=d):Oi?(pn=ci?s:pn,Jn=xi?d:Jn,tr=I-1,Hi=(Jn-pn)/tr):(tr=(Jn-pn)/Hi,tr=H1(tr,Math.round(tr),Hi/1e3)?Math.round(tr):Math.ceil(tr));const pr=Math.max(YO(Hi),YO(pn));gn=Math.pow(10,Fa(m)?pr:m),pn=Math.round(pn*gn)/gn,Jn=Math.round(Jn*gn)/gn;let ho=0;for(ci&&(Ce&&pn!==s?(t.push({value:s}),pn<s&&ho++,H1(Math.round((pn+ho*Hi)*gn)/gn,s,LY(s,Ui,r))&&ho++):pn<s&&ho++);ho<tr;++ho)t.push({value:Math.round((pn+ho*Hi)*gn)/gn});return xi&&Ce&&Jn!==d?t.length&&H1(t[t.length-1].value,d,LY(d,Ui,r))?t[t.length-1].value=d:t.push({value:d}):(!xi||Jn===d)&&t.push({value:Jn}),t}({maxTicks:i,bounds:o.bounds,min:o.min,max:o.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===o.bounds&&LO(s,this,"value"),o.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const o=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&o.length){const n=(i-t)/Math.max(o.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(o){return q1(o,this.chart.options.locale,this.options.ticks.format)}}class qS extends Ux{determineDataLimits(){const{min:o,max:t}=this.getMinMax(!0);this.min=Ec(o)?o:0,this.max=Ec(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const o=this.isHorizontal(),t=o?this.width:this.height,i=Uh(this.options.ticks.minRotation),n=(o?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(o){return null===o?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getValueForPixel(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange}}function YY(r){return r/Math.pow(10,Math.floor(oh(r)))==1}qS.id="linear",qS.defaults={ticks:{callback:Tx.formatters.numeric}};class e4 extends L0{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(o,t){const i=Ux.prototype.parse.apply(this,[o,t]);if(0!==i)return Ec(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:o,max:t}=this.getMinMax(!0);this.min=Ec(o)?Math.max(0,o):null,this.max=Ec(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:o,maxDefined:t}=this.getUserBounds();let i=this.min,n=this.max;const a=m=>i=o?i:m,s=m=>n=t?n:m,d=(m,I)=>Math.pow(10,Math.floor(oh(m))+I);i===n&&(i<=0?(a(1),s(10)):(a(d(i,-1)),s(d(n,1)))),i<=0&&a(d(n,-1)),n<=0&&s(d(i,1)),this._zero&&this.min!==this._suggestedMin&&i===d(this.min,0)&&a(d(i,-1)),this.min=i,this.max=n}buildTicks(){const o=this.options,i=function $ne(r,o){const t=Math.floor(oh(o.max)),i=Math.ceil(o.max/Math.pow(10,t)),n=[];let a=nh(r.min,Math.pow(10,Math.floor(oh(o.min)))),s=Math.floor(oh(a)),d=Math.floor(a/Math.pow(10,s)),m=s<0?Math.pow(10,Math.abs(s)):1;do{n.push({value:a,major:YY(a)}),++d,10===d&&(d=1,++s,m=s>=0?1:m),a=Math.round(d*Math.pow(10,s)*m)/m}while(s<t||s===t&&d<i);const I=nh(r.max,a);return n.push({value:I,major:YY(a)}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===o.bounds&&LO(i,this,"value"),o.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(o){return void 0===o?"0":q1(o,this.chart.options.locale,this.options.ticks.format)}configure(){const o=this.min;super.configure(),this._startValue=oh(o),this._valueRange=oh(this.max)-oh(o)}getPixelForValue(o){return(void 0===o||0===o)&&(o=this.min),null===o||isNaN(o)?NaN:this.getPixelForDecimal(o===this.min?0:(oh(o)-this._startValue)/this._valueRange)}getValueForPixel(o){const t=this.getDecimalForPixel(o);return Math.pow(10,this._startValue+t*this._valueRange)}}function t4(r){const o=r.ticks;if(o.display&&r.display){const t=OA(o.backdropPadding);return oa(o.font&&o.font.size,Pa.font.size)+t.height}return 0}function qne(r,o,t){return t=ml(t)?t:[t],{w:cee(r,o.string,t),h:t.length*o.lineHeight}}function NY(r,o,t,i,n){return r===i||r===n?{start:o-t/2,end:o+t/2}:r<i||r>n?{start:o-t,end:o}:{start:o,end:o+t}}function tre(r,o,t,i,n){const a=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t));let d=0,m=0;i.start<o.l?(d=(o.l-i.start)/a,r.l=Math.min(r.l,o.l-d)):i.end>o.r&&(d=(i.end-o.r)/a,r.r=Math.max(r.r,o.r+d)),n.start<o.t?(m=(o.t-n.start)/s,r.t=Math.min(r.t,o.t-m)):n.end>o.b&&(m=(n.end-o.b)/s,r.b=Math.max(r.b,o.b+m))}function nre(r){return 0===r||180===r?"center":r<180?"left":"right"}function rre(r,o,t){return"right"===t?r-=o:"center"===t&&(r-=o/2),r}function ore(r,o,t){return 90===t||270===t?r-=o/2:(t>270||t<90)&&(r-=o),r}function jY(r,o,t,i){const{ctx:n}=r;if(t)n.arc(r.xCenter,r.yCenter,o,0,qs);else{let a=r.getPointPosition(0,o);n.moveTo(a.x,a.y);for(let s=1;s<i;s++)a=r.getPointPosition(s,o),n.lineTo(a.x,a.y)}}e4.id="logarithmic",e4.defaults={ticks:{callback:Tx.formatters.logarithmic,major:{enabled:!0}}};class uw extends Ux{constructor(o){super(o),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const o=this._padding=OA(t4(this.options)/2),t=this.width=this.maxWidth-o.width,i=this.height=this.maxHeight-o.height;this.xCenter=Math.floor(this.left+t/2+o.left),this.yCenter=Math.floor(this.top+i/2+o.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:o,max:t}=this.getMinMax(!1);this.min=Ec(o)&&!isNaN(o)?o:0,this.max=Ec(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/t4(this.options))}generateTickLabels(o){Ux.prototype.generateTickLabels.call(this,o),this._pointLabels=this.getLabels().map((t,i)=>{const n=$s(this.options.pointLabels.callback,[t,i],this);return n||0===n?n:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const o=this.options;o.display&&o.pointLabels.display?function ere(r){const o={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},o),i=[],n=[],a=r._pointLabels.length,s=r.options.pointLabels,d=s.centerPointLabels?zl/a:0;for(let m=0;m<a;m++){const I=s.setContext(r.getPointLabelContext(m));n[m]=I.padding;const J=r.getPointPosition(m,r.drawingArea+n[m],d),oe=Hc(I.font),Ce=qne(r.ctx,oe,r._pointLabels[m]);i[m]=Ce;const $e=Cu(r.getIndexAngle(m)+d),nt=Math.round(vS($e));tre(t,o,$e,NY(nt,J.x,Ce.w,0,180),NY(nt,J.y,Ce.h,90,270))}r.setCenterPoint(o.l-t.l,t.r-o.r,o.t-t.t,t.b-o.b),r._pointLabelItems=function ire(r,o,t){const i=[],n=r._pointLabels.length,a=r.options,s=t4(a)/2,d=r.drawingArea,m=a.pointLabels.centerPointLabels?zl/n:0;for(let I=0;I<n;I++){const J=r.getPointPosition(I,d+s+t[I],m),oe=Math.round(vS(Cu(J.angle+hc))),Ce=o[I],$e=ore(J.y,Ce.h,oe),nt=nre(oe),Tt=rre(J.x,Ce.w,nt);i.push({x:J.x,y:$e,textAlign:nt,left:Tt,top:$e,right:Tt+Ce.w,bottom:$e+Ce.h})}return i}(r,i,n)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(o,t,i,n){this.xCenter+=Math.floor((o-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(o,t,i,n))}getIndexAngle(o){return Cu(o*(qs/(this._pointLabels.length||1))+Uh(this.options.startAngle||0))}getDistanceFromCenterForValue(o){if(Fa(o))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-o)*t:(o-this.min)*t}getValueForDistanceFromCenter(o){if(Fa(o))return NaN;const t=o/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(o){const t=this._pointLabels||[];if(o>=0&&o<t.length){const i=t[o];return function lre(r,o,t){return rm(r,{label:t,index:o,type:"pointLabel"})}(this.getContext(),o,i)}}getPointPosition(o,t,i=0){const n=this.getIndexAngle(o)-hc+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(o,t){return this.getPointPosition(o,this.getDistanceFromCenterForValue(t))}getBasePosition(o){return this.getPointPositionForValue(o||0,this.getBaseValue())}getPointLabelPosition(o){const{left:t,top:i,right:n,bottom:a}=this._pointLabelItems[o];return{left:t,top:i,right:n,bottom:a}}drawBackground(){const{backgroundColor:o,grid:{circular:t}}=this.options;if(o){const i=this.ctx;i.save(),i.beginPath(),jY(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=o,i.fill(),i.restore()}}drawGrid(){const o=this.ctx,t=this.options,{angleLines:i,grid:n}=t,a=this._pointLabels.length;let s,d,m;if(t.pointLabels.display&&function are(r,o){const{ctx:t,options:{pointLabels:i}}=r;for(let n=o-1;n>=0;n--){const a=i.setContext(r.getPointLabelContext(n)),s=Hc(a.font),{x:d,y:m,textAlign:I,left:J,top:oe,right:Ce,bottom:$e}=r._pointLabelItems[n],{backdropColor:nt}=a;if(!Fa(nt)){const Tt=Q0(a.borderRadius),Zt=OA(a.backdropPadding);t.fillStyle=nt;const ci=J-Zt.left,xi=oe-Zt.top,Oi=Ce-J+Zt.width,Ui=$e-oe+Zt.height;Object.values(Tt).some(Hi=>0!==Hi)?(t.beginPath(),$1(t,{x:ci,y:xi,w:Oi,h:Ui,radius:Tt}),t.fill()):t.fillRect(ci,xi,Oi,Ui)}S0(t,r._pointLabels[n],d,m+s.lineHeight/2,s,{color:a.color,textAlign:I,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach((I,J)=>{0!==J&&(d=this.getDistanceFromCenterForValue(I.value),function sre(r,o,t,i){const n=r.ctx,a=o.circular,{color:s,lineWidth:d}=o;!a&&!i||!s||!d||t<0||(n.save(),n.strokeStyle=s,n.lineWidth=d,n.setLineDash(o.borderDash),n.lineDashOffset=o.borderDashOffset,n.beginPath(),jY(r,t,a,i),n.closePath(),n.stroke(),n.restore())}(this,n.setContext(this.getContext(J-1)),d,a))}),i.display){for(o.save(),s=a-1;s>=0;s--){const I=i.setContext(this.getPointLabelContext(s)),{color:J,lineWidth:oe}=I;!oe||!J||(o.lineWidth=oe,o.strokeStyle=J,o.setLineDash(I.borderDash),o.lineDashOffset=I.borderDashOffset,d=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),m=this.getPointPosition(s,d),o.beginPath(),o.moveTo(this.xCenter,this.yCenter),o.lineTo(m.x,m.y),o.stroke())}o.restore()}}drawBorder(){}drawLabels(){const o=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let a,s;o.save(),o.translate(this.xCenter,this.yCenter),o.rotate(n),o.textAlign="center",o.textBaseline="middle",this.ticks.forEach((d,m)=>{if(0===m&&!t.reverse)return;const I=i.setContext(this.getContext(m)),J=Hc(I.font);if(a=this.getDistanceFromCenterForValue(this.ticks[m].value),I.showLabelBackdrop){o.font=J.string,s=o.measureText(d.label).width,o.fillStyle=I.backdropColor;const oe=OA(I.backdropPadding);o.fillRect(-s/2-oe.left,-a-J.size/2-oe.top,s+oe.width,J.size+oe.height)}S0(o,d.label,0,-a,J,{color:I.color})}),o.restore()}drawTitle(){}}uw.id="radialLinear",uw.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:r=>r,padding:5,centerPointLabels:!1}},uw.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},uw.descriptors={angleLines:{_fallback:"grid"}};const zx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},iu=Object.keys(zx);function cre(r,o){return r-o}function GY(r,o){if(Fa(o))return null;const t=r._adapter,{parser:i,round:n,isoWeekday:a}=r._parseOpts;let s=o;return"function"==typeof i&&(s=i(s)),Ec(s)||(s="string"==typeof i?t.parse(s,i):t.parse(s)),null===s?null:(n&&(s="week"!==n||!F_(a)&&!0!==a?t.startOf(s,n):t.startOf(s,"isoWeek",a)),+s)}function UY(r,o,t,i){const n=iu.length;for(let a=iu.indexOf(r);a<n-1;++a){const s=zx[iu[a]];if(s.common&&Math.ceil((t-o)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=i)return iu[a]}return iu[n-1]}function zY(r,o,t){if(t){if(t.length){const{lo:i,hi:n}=yS(t,o);r[t[i]>=o?t[i]:t[n]]=!0}}else r[o]=!0}function HY(r,o,t){const i=[],n={},a=o.length;let s,d;for(s=0;s<a;++s)d=o[s],n[d]=s,i.push({value:d,major:!1});return 0!==a&&t?function ure(r,o,t,i){const n=r._adapter,a=+n.startOf(o[0].value,i),s=o[o.length-1].value;let d,m;for(d=a;d<=s;d=+n.add(d,1,i))m=t[d],m>=0&&(o[m].major=!0);return o}(r,i,n,t):i}let n4=(()=>{class r extends L0{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){const n=t.time||(t.time={}),a=this._adapter=new $te._date(t.adapters.date);a.init(i),U1(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:GY(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:a,max:s,minDefined:d,maxDefined:m}=this.getUserBounds();function I(J){!d&&!isNaN(J.min)&&(a=Math.min(a,J.min)),!m&&!isNaN(J.max)&&(s=Math.max(s,J.max))}(!d||!m)&&(I(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&I(this.getMinMax(!1))),a=Ec(a)&&!isNaN(a)?a:+i.startOf(Date.now(),n),s=Ec(s)&&!isNaN(s)?s:+i.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,a="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,m=function Rq(r,o,t){let i=0,n=r.length;for(;i<n&&r[i]<o;)i++;for(;n>i&&r[n-1]>t;)n--;return i>0||n<r.length?r.slice(i,n):r}(a,s,this.max);return this._unit=i.unit||(n.autoSkip?UY(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):function Are(r,o,t,i,n){for(let a=iu.length-1;a>=iu.indexOf(t);a--){const s=iu[a];if(zx[s].common&&r._adapter.diff(n,i,s)>=o-1)return s}return iu[t?iu.indexOf(t):0]}(this,m.length,i.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function dre(r){for(let o=iu.indexOf(r)+1,t=iu.length;o<t;++o)if(zx[iu[o]].common)return iu[o]}(this._unit):void 0,this.initOffsets(a),t.reverse&&m.reverse(),HY(this,m,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let a,s,i=0,n=0;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),i=1===t.length?1-a:(this.getDecimalForValue(t[1])-a)/2,s=this.getDecimalForValue(t[t.length-1]),n=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const d=t.length<3?.5:.25;i=xA(i,0,d),n=xA(n,0,d),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,a=this.options,s=a.time,d=s.unit||UY(s.minUnit,i,n,this._getLabelCapacity(i)),m=oa(s.stepSize,1),I="week"===d&&s.isoWeekday,J=F_(I)||!0===I,oe={};let $e,nt,Ce=i;if(J&&(Ce=+t.startOf(Ce,"isoWeek",I)),Ce=+t.startOf(Ce,J?"day":d),t.diff(n,i,d)>1e5*m)throw new Error(i+" and "+n+" are too far apart with stepSize of "+m+" "+d);const Tt="data"===a.ticks.source&&this.getDataTimestamps();for($e=Ce,nt=0;$e<n;$e=+t.add($e,m,d),nt++)zY(oe,$e,Tt);return($e===n||"ticks"===a.bounds||1===nt)&&zY(oe,$e,Tt),Object.keys(oe).sort((Zt,ci)=>Zt-ci).map(Zt=>+Zt)}getLabelForValue(t){const n=this.options.time;return this._adapter.format(t,n.tooltipFormat?n.tooltipFormat:n.displayFormats.datetime)}_tickFormatFunction(t,i,n,a){const s=this.options,d=s.time.displayFormats,m=this._unit,I=this._majorUnit,oe=I&&d[I],Ce=n[i],nt=this._adapter.format(t,a||(I&&oe&&Ce&&Ce.major?oe:m&&d[m])),Tt=s.ticks.callback;return Tt?$s(Tt,[nt,i,n],this):nt}generateTickLabels(t){let i,n,a;for(i=0,n=t.length;i<n;++i)a=t[i],a.label=this._tickFormatFunction(a.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,a=Uh(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(a),d=Math.sin(a),m=this._resolveTickFontOptions(0).size;return{w:n*s+m*d,h:n*d+m*s}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,a=n[i.unit]||n.millisecond,s=this._tickFormatFunction(t,0,HY(this,[t],this._majorUnit),a),d=this._getLabelSize(s),m=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return m>0?m:1}getDataTimestamps(){let i,n,t=this._cache.data||[];if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,n=a.length;i<n;++i)t=t.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const a=this.getLabels();for(i=0,n=a.length;i<n;++i)t.push(GY(this,a[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UO(t.sort(cre))}}return r.id="time",r.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},r})();function Hx(r,o,t){let a,s,d,m,i=0,n=r.length-1;t?(o>=r[i].pos&&o<=r[n].pos&&({lo:i,hi:n}=Rf(r,"pos",o)),({pos:a,time:d}=r[i]),({pos:s,time:m}=r[n])):(o>=r[i].time&&o<=r[n].time&&({lo:i,hi:n}=Rf(r,"time",o)),({time:a,pos:d}=r[i]),({time:s,pos:m}=r[n]));const I=s-a;return I?d+(m-d)*(o-a)/I:d}class r4 extends n4{constructor(o){super(o),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const o=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(o);this._minPos=Hx(t,this.min),this._tableRange=Hx(t,this.max)-this._minPos,super.initOffsets(o)}buildLookupTable(o){const{min:t,max:i}=this,n=[],a=[];let s,d,m,I,J;for(s=0,d=o.length;s<d;++s)I=o[s],I>=t&&I<=i&&n.push(I);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(s=0,d=n.length;s<d;++s)J=n[s+1],m=n[s-1],I=n[s],Math.round((J+m)/2)!==I&&a.push({time:I,pos:s/(d-1)});return a}_getTimestampsForTable(){let o=this._cache.all||[];if(o.length)return o;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return o=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,o=this._cache.all=o,o}getDecimalForValue(o){return(Hx(this._table,o)-this._minPos)/this._tableRange}getValueForPixel(o){const t=this._offsets,i=this.getDecimalForPixel(o)/t.factor-t.end;return Hx(this._table,i*this._tableRange+this._minPos,!0)}}r4.id="timeseries",r4.defaults=n4.defaults;const pre=[Zte,lne,Jne,Object.freeze({__proto__:null,CategoryScale:Gx,LinearScale:qS,LogarithmicScale:e4,RadialLinearScale:uw,TimeScale:n4,TimeSeriesScale:r4})],Vx=function mre(r,o){return r===o||r!=r&&o!=o},Jx=function vre(r,o){for(var t=r.length;t--;)if(Vx(r[t][0],o))return t;return-1};var yre=Array.prototype.splice;function L_(r){var o=-1,t=null==r?0:r.length;for(this.clear();++o<t;){var i=r[o];this.set(i[0],i[1])}}L_.prototype.clear=function fre(){this.__data__=[],this.size=0},L_.prototype.delete=function bre(r){var o=this.__data__,t=Jx(o,r);return!(t<0||(t==o.length-1?o.pop():yre.call(o,t,1),--this.size,0))},L_.prototype.get=function Cre(r){var o=this.__data__,t=Jx(o,r);return t<0?void 0:o[t][1]},L_.prototype.has=function Bre(r){return Jx(this.__data__,r)>-1},L_.prototype.set=function xre(r,o){var t=this.__data__,i=Jx(t,r);return i<0?(++this.size,t.push([r,o])):t[i][1]=o,this};const Wx=L_,VY="object"==typeof global&&global&&global.Object===Object&&global;var Lre="object"==typeof self&&self&&self.Object===Object&&self;const Y_=VY||Lre||Function("return this")();var Nre=Y_.Symbol,JY=Object.prototype,jre=JY.hasOwnProperty,Gre=JY.toString,hw=Nre?Nre.toStringTag:void 0;var Vre=Object.prototype.toString;var WY=Nre?Nre.toStringTag:void 0;const Xx=function Zre(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":WY&&WY in Object(r)?function Ure(r){var o=jre.call(r,hw),t=r[hw];try{r[hw]=void 0;var i=!0}catch{}var n=Gre.call(r);return i&&(o?r[hw]=t:delete r[hw]),n}(r):function Jre(r){return Vre.call(r)}(r)},N0=function $re(r){var o=typeof r;return null!=r&&("object"==o||"function"==o)},o4=function noe(r){if(!N0(r))return!1;var o=Xx(r);return"[object Function]"==o||"[object GeneratorFunction]"==o||"[object AsyncFunction]"==o||"[object Proxy]"==o};var r,roe=Y_["__core-js_shared__"],KY=(r=/[^.]+$/.exec(roe&&roe.keys&&roe.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";var loe=Function.prototype.toString;var uoe=/^\[object .+?Constructor\]$/,moe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const _oe=function voe(r){return!(!N0(r)||function ooe(r){return!!KY&&KY in r}(r))&&(o4(r)?moe:uoe).test(function coe(r){if(null!=r){try{return loe.call(r)}catch{}try{return r+""}catch{}}return""}(r))},s4=function woe(r,o){var t=function yoe(r,o){return r?.[o]}(r,o);return _oe(t)?t:void 0},XY=s4(Y_,"Map"),pw=s4(Object,"create");var Toe=Object.prototype.hasOwnProperty;var Roe=Object.prototype.hasOwnProperty;function N_(r){var o=-1,t=null==r?0:r.length;for(this.clear();++o<t;){var i=r[o];this.set(i[0],i[1])}}N_.prototype.clear=function Boe(){this.__data__=pw?pw(null):{},this.size=0},N_.prototype.delete=function xoe(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o},N_.prototype.get=function Foe(r){var o=this.__data__;if(pw){var t=o[r];return"__lodash_hash_undefined__"===t?void 0:t}return Toe.call(o,r)?o[r]:void 0},N_.prototype.has=function Poe(r){var o=this.__data__;return pw?void 0!==o[r]:Roe.call(o,r)},N_.prototype.set=function Yoe(r,o){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=pw&&void 0===o?"__lodash_hash_undefined__":o,this};const ZY=N_,Zx=function Hoe(r,o){var t=r.__data__;return function Uoe(r){var o=typeof r;return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r}(o)?t["string"==typeof o?"string":"hash"]:t.map};function j_(r){var o=-1,t=null==r?0:r.length;for(this.clear();++o<t;){var i=r[o];this.set(i[0],i[1])}}j_.prototype.clear=function joe(){this.size=0,this.__data__={hash:new ZY,map:new(XY||Wx),string:new ZY}},j_.prototype.delete=function Voe(r){var o=Zx(this,r).delete(r);return this.size-=o?1:0,o},j_.prototype.get=function Woe(r){return Zx(this,r).get(r)},j_.prototype.has=function Xoe(r){return Zx(this,r).has(r)},j_.prototype.set=function $oe(r,o){var t=Zx(this,r),i=t.size;return t.set(r,o),this.size+=t.size==i?0:1,this};const eae=j_;function G_(r){var o=this.__data__=new Wx(r);this.size=o.size}G_.prototype.clear=function Ire(){this.__data__=new Wx,this.size=0},G_.prototype.delete=function Tre(r){var o=this.__data__,t=o.delete(r);return this.size=o.size,t},G_.prototype.get=function Sre(r){return this.__data__.get(r)},G_.prototype.has=function Rre(r){return this.__data__.has(r)},G_.prototype.set=function iae(r,o){var t=this.__data__;if(t instanceof Wx){var i=t.__data__;if(!XY||i.length<199)return i.push([r,o]),this.size=++t.size,this;t=this.__data__=new eae(i)}return t.set(r,o),this.size=t.size,this};const rae=G_;var oae=function(){try{var r=s4(Object,"defineProperty");return r({},"",{}),r}catch{}}();const $x=oae,l4=function aae(r,o,t){"__proto__"==o&&$x?$x(r,o,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[o]=t},c4=function sae(r,o,t){(void 0!==t&&!Vx(r[o],t)||void 0===t&&!(o in r))&&l4(r,o,t)};var cae=function lae(r){return function(o,t,i){for(var n=-1,a=Object(o),s=i(o),d=s.length;d--;){var m=s[r?d:++n];if(!1===t(a[m],m,a))break}return o}}();const Aae=cae;var $Y="object"==typeof exports&&exports&&!exports.nodeType&&exports,qY=$Y&&"object"==typeof module&&module&&!module.nodeType&&module,eN=qY&&qY.exports===$Y?Y_.Buffer:void 0,tN=eN?eN.allocUnsafe:void 0;const iN=Y_.Uint8Array,vae=function mae(r,o){var t=o?function fae(r){var o=new r.constructor(r.byteLength);return new iN(o).set(new iN(r)),o}(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)};var nN=Object.create,bae=function(){function r(){}return function(o){if(!N0(o))return{};if(nN)return nN(o);r.prototype=o;var t=new r;return r.prototype=void 0,t}}();const wae=bae;var Eae=function Cae(r,o){return function(t){return r(o(t))}}(Object.getPrototypeOf,Object);const rN=Eae;var Bae=Object.prototype;const oN=function Mae(r){var o=r&&r.constructor;return r===("function"==typeof o&&o.prototype||Bae)},fw=function Iae(r){return null!=r&&"object"==typeof r},aN=function Tae(r){return fw(r)&&"[object Arguments]"==Xx(r)};var sN=Object.prototype,Fae=sN.hasOwnProperty,Sae=sN.propertyIsEnumerable,Qae=aN(function(){return arguments}())?aN:function(r){return fw(r)&&Fae.call(r,"callee")&&!Sae.call(r,"callee")};const A4=Qae,d4=Array.isArray,lN=function Oae(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991},u4=function Lae(r){return null!=r&&lN(r.length)&&!o4(r)};var cN="object"==typeof exports&&exports&&!exports.nodeType&&exports,AN=cN&&"object"==typeof module&&module&&!module.nodeType&&module,dN=AN&&AN.exports===cN?Y_.Buffer:void 0;const uN=(dN?dN.isBuffer:void 0)||function jae(){return!1};var hN=Function.prototype.toString,Kae=Object.prototype.hasOwnProperty,Xae=hN.call(Object);var Tl={};Tl["[object Float32Array]"]=Tl["[object Float64Array]"]=Tl["[object Int8Array]"]=Tl["[object Int16Array]"]=Tl["[object Int32Array]"]=Tl["[object Uint8Array]"]=Tl["[object Uint8ClampedArray]"]=Tl["[object Uint16Array]"]=Tl["[object Uint32Array]"]=!0,Tl["[object Arguments]"]=Tl["[object Array]"]=Tl["[object ArrayBuffer]"]=Tl["[object Boolean]"]=Tl["[object DataView]"]=Tl["[object Date]"]=Tl["[object Error]"]=Tl["[object Function]"]=Tl["[object Map]"]=Tl["[object Number]"]=Tl["[object Object]"]=Tl["[object RegExp]"]=Tl["[object Set]"]=Tl["[object String]"]=Tl["[object WeakMap]"]=!1;var pN="object"==typeof exports&&exports&&!exports.nodeType&&exports,gw=pN&&"object"==typeof module&&module&&!module.nodeType&&module,h4=gw&&gw.exports===pN&&VY.process,Dse=function(){try{return gw&&gw.require&&gw.require("util").types||h4&&h4.binding&&h4.binding("util")}catch{}}(),gN=Dse&&Dse.isTypedArray;const mN=gN?function Bse(r){return function(o){return r(o)}}(gN):function Cse(r){return fw(r)&&lN(r.length)&&!!Tl[Xx(r)]},p4=function kse(r,o){if(("constructor"!==o||"function"!=typeof r[o])&&"__proto__"!=o)return r[o]};var Fse=Object.prototype.hasOwnProperty;const Qse=function Sse(r,o,t){var i=r[o];(!Fse.call(r,o)||!Vx(i,t)||void 0===t&&!(o in r))&&l4(r,o,t)};var Nse=/^(?:0|[1-9]\d*)$/;const vN=function jse(r,o){var t=typeof r;return!!(o=o??9007199254740991)&&("number"==t||"symbol"!=t&&Nse.test(r))&&r>-1&&r%1==0&&r<o};var Use=Object.prototype.hasOwnProperty;const Hse=function zse(r,o){var t=d4(r),i=!t&&A4(r),n=!t&&!i&&uN(r),a=!t&&!i&&!n&&mN(r),s=t||i||n||a,d=s?function Ose(r,o){for(var t=-1,i=Array(r);++t<r;)i[t]=o(t);return i}(r.length,String):[],m=d.length;for(var I in r)(o||Use.call(r,I))&&(!s||!("length"==I||n&&("offset"==I||"parent"==I)||a&&("buffer"==I||"byteLength"==I||"byteOffset"==I)||vN(I,m)))&&d.push(I);return d};var Kse=Object.prototype.hasOwnProperty;const Zse=function Xse(r){if(!N0(r))return function Vse(r){var o=[];if(null!=r)for(var t in Object(r))o.push(t);return o}(r);var o=oN(r),t=[];for(var i in r)"constructor"==i&&(o||!Kse.call(r,i))||t.push(i);return t},_N=function $se(r){return u4(r)?Hse(r,!0):Zse(r)},ele=function qse(r){return function Rse(r,o,t,i){var n=!t;t||(t={});for(var a=-1,s=o.length;++a<s;){var d=o[a],m=i?i(t[d],r[d],d,t,r):void 0;void 0===m&&(m=r[d]),n?l4(t,d,m):Qse(t,d,m)}return t}(r,_N(r))},ile=function tle(r,o,t,i,n,a,s){var d=p4(r,t),m=p4(o,t),I=s.get(m);if(I)c4(r,t,I);else{var J=a?a(d,m,t+"",r,o,s):void 0,oe=void 0===J;if(oe){var Ce=d4(m),$e=!Ce&&uN(m),nt=!Ce&&!$e&&mN(m);J=m,Ce||$e||nt?d4(d)?J=d:function Yae(r){return fw(r)&&u4(r)}(d)?J=function _ae(r,o){var t=-1,i=r.length;for(o||(o=Array(i));++t<i;)o[t]=r[t];return o}(d):$e?(oe=!1,J=function uae(r,o){if(o)return r.slice();var t=r.length,i=tN?tN(t):new r.constructor(t);return r.copy(i),i}(m,!0)):nt?(oe=!1,J=vae(m,!0)):J=[]:function Zae(r){if(!fw(r)||"[object Object]"!=Xx(r))return!1;var o=rN(r);if(null===o)return!0;var t=Kae.call(o,"constructor")&&o.constructor;return"function"==typeof t&&t instanceof t&&hN.call(t)==Xae}(m)||A4(m)?(J=d,A4(d)?J=ele(d):(!N0(d)||o4(d))&&(J=function xae(r){return"function"!=typeof r.constructor||oN(r)?{}:wae(rN(r))}(m))):oe=!1}oe&&(s.set(m,J),n(J,m,i,a,s),s.delete(m)),c4(r,t,J)}},nle=function yN(r,o,t,i,n){r!==o&&Aae(o,function(a,s){if(n||(n=new rae),N0(a))ile(r,o,s,t,yN,i,n);else{var d=i?i(p4(r,s),a,s+"",r,o,n):void 0;void 0===d&&(d=a),c4(r,s,d)}},_N)},bN=function rle(r){return r};var wN=Math.max;const Ale=function cle(r){return function(){return r}};var dle=$x?function(r,o){return $x(r,"toString",{configurable:!0,enumerable:!1,value:Ale(o),writable:!0})}:bN,fle=Date.now,mle=function gle(r){var o=0,t=0;return function(){var i=fle(),n=16-(i-t);if(t=i,n>0){if(++o>=800)return arguments[0]}else o=0;return r.apply(void 0,arguments)}}(dle);const vle=mle,yle=function _le(r,o){return vle(function sle(r,o,t){return o=wN(void 0===o?r.length-1:o,0),function(){for(var i=arguments,n=-1,a=wN(i.length-o,0),s=Array(a);++n<a;)s[n]=i[o+n];n=-1;for(var d=Array(o+1);++n<o;)d[n]=i[n];return d[o]=t(s),function ole(r,o,t){switch(t.length){case 0:return r.call(o);case 1:return r.call(o,t[0]);case 2:return r.call(o,t[0],t[1]);case 3:return r.call(o,t[0],t[1],t[2])}return r.apply(o,t)}(r,this,d)}}(r,o,bN),r+"")};var Ele=function Cle(r){return yle(function(o,t){var i=-1,n=t.length,a=n>1?t[n-1]:void 0,s=n>2?t[2]:void 0;for(a=r.length>3&&"function"==typeof a?(n--,a):void 0,s&&function ble(r,o,t){if(!N0(t))return!1;var i=typeof o;return!!("number"==i?u4(t)&&vN(o,t.length):"string"==i&&o in t)&&Vx(t[o],r)}(t[0],t[1],s)&&(a=n<3?void 0:a,n=1),o=Object(o);++i<n;){var d=t[i];d&&r(o,d,i,a)}return o})}(function(r,o,t){nle(r,o,t)});const CN=Ele;let Ble=(()=>{class r{constructor(){this.colorschemesOptions=new Ca.t(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qx=(()=>{class r{constructor(t,i,n){this.zone=i,this.themeService=n,this.type="bar",this.plugins=[],this.chartClick=new e.bkB,this.chartHover=new e.bkB,this.subs=[],this.themeOverrides={},this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,qc.F)()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(t){const i=["type"],n=Object.getOwnPropertyNames(t);if(n.some(a=>i.includes(a))||n.every(a=>t[a].isFirstChange()))this.render();else{const a=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,a.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,a.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,a.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new lw(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return CN({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return r.\u0275fac=function(t){return new(t||r)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Ble))},r.\u0275dir=e.FsC({type:r,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[e.OA$]}),r})();const Mle=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],xle={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:r=>sm(lm(r.datasetIndex),.4),borderColor:r=>sm(lm(r.datasetIndex),1),pointBackgroundColor:r=>sm(lm(r.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:r=>sm(lm(r.datasetIndex),.6),borderColor:r=>sm(lm(r.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:r=>sm(lm(r.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:r=>sm(lm(r.dataIndex),.6),borderColor:r=>sm(lm(r.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function sm(r,o){return"rgba("+r.concat(o).join(",")+")"}function f4(r,o){return Math.floor(Math.random()*(o-r+1))+r}function lm(r=0){return Mle[r]||function Dle(){return[f4(0,255),f4(0,255),f4(0,255)]}()}let EN=(()=>{class r{constructor(){this.generateColors=!0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();lw.register(...pre);let Ile=(()=>{class r{constructor(t){t?.plugins&&lw.register(...t?.plugins);const i=CN(t?.generateColors?xle:{},t?.defaults||{});Pa.set(i)}static forRoot(t){return{ngModule:r,providers:[{provide:EN,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.KVO(EN,8))},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({}),r})();var BN=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var r=window.screen;if(r)return(r.deviceXDPI||1)/(r.logicalXDPI||1)}return 1}(),mw_textSize=function(r,o,t){var d,i=[].concat(o),n=i.length,a=r.font,s=0;for(r.font=t.string,d=0;d<n;++d)s=Math.max(r.measureText(i[d]).width,s);return r.font=a,{height:n*t.lineHeight,width:s}};function g4(r,o){var t=o.x,i=o.y;if(null===t)return{x:0,y:-1};if(null===i)return{x:1,y:0};var n=r.x-t,a=r.y-i,s=Math.sqrt(n*n+a*a);return{x:s?n/s:0,y:s?a/s:-1}}var Tle=0,MN=1,xN=2,DN=4,IN=8;function eD(r,o,t){var i=Tle;return r<t.left?i|=MN:r>t.right&&(i|=xN),o<t.top?i|=IN:o>t.bottom&&(i|=DN),i}function tD(r,o){var n,a,t=o.anchor,i=r;return o.clamp&&(i=function Fle(r,o){for(var m,I,J,t=r.x0,i=r.y0,n=r.x1,a=r.y1,s=eD(t,i,o),d=eD(n,a,o);s|d&&!(s&d);)(m=s||d)&IN?(I=t+(n-t)*(o.top-i)/(a-i),J=o.top):m&DN?(I=t+(n-t)*(o.bottom-i)/(a-i),J=o.bottom):m&xN?(J=i+(a-i)*(o.right-t)/(n-t),I=o.right):m&MN&&(J=i+(a-i)*(o.left-t)/(n-t),I=o.left),m===s?s=eD(t=I,i=J,o):d=eD(n=I,a=J,o);return{x0:t,x1:n,y0:i,y1:a}}(i,o.area)),"start"===t?(n=i.x0,a=i.y0):"end"===t?(n=i.x1,a=i.y1):(n=(i.x0+i.x1)/2,a=(i.y0+i.y1)/2),function kle(r,o,t,i,n){switch(n){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:n*=Math.PI/180,t=Math.cos(n),i=Math.sin(n)}return{x:r,y:o,vx:t,vy:i}}(n,a,r.vx,r.vy,o.align)}var iD={arc:function(r,o){var t=(r.startAngle+r.endAngle)/2,i=Math.cos(t),n=Math.sin(t),a=r.innerRadius,s=r.outerRadius;return tD({x0:r.x+i*a,y0:r.y+n*a,x1:r.x+i*s,y1:r.y+n*s,vx:i,vy:n},o)},point:function(r,o){var t=g4(r,o.origin),i=t.x*r.options.radius,n=t.y*r.options.radius;return tD({x0:r.x-i,y0:r.y-n,x1:r.x+i,y1:r.y+n,vx:t.x,vy:t.y},o)},bar:function(r,o){var t=g4(r,o.origin),i=r.x,n=r.y,a=0,s=0;return r.horizontal?(i=Math.min(r.x,r.base),a=Math.abs(r.base-r.x)):(n=Math.min(r.y,r.base),s=Math.abs(r.base-r.y)),tD({x0:i,y0:n+s,x1:i+a,y1:n,vx:t.x,vy:t.y},o)},fallback:function(r,o){var t=g4(r,o.origin);return tD({x0:r.x,y0:r.y,x1:r.x+(r.width||0),y1:r.y+(r.height||0),vx:t.x,vy:t.y},o)}},Yf=function(r){return Math.round(r*BN)/BN};function Qle(r,o){var t=o.chart.getDatasetMeta(o.datasetIndex).vScale;if(!t)return null;if(void 0!==t.xCenter&&void 0!==t.yCenter)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return r.horizontal?{x:i,y:null}:{x:null,y:i}}function Rle(r){return r instanceof cw?iD.arc:r instanceof _Y?iD.point:r instanceof Aw?iD.bar:iD.fallback}function Yle(r,o,t){var i=r.shadowBlur,n=t.stroked,a=Yf(t.x),s=Yf(t.y),d=Yf(t.w);n&&r.strokeText(o,a,s,d),t.filled&&(i&&n&&(r.shadowBlur=0),r.fillText(o,a,s,d),i&&n&&(r.shadowBlur=i))}var kN=function(r,o,t,i){var n=this;n._config=r,n._index=i,n._model=null,n._rects=null,n._ctx=o,n._el=t};Mp(kN.prototype,{_modelize:function(r,o,t,i){var n=this,a=n._index,s=Hc(kl([t.font,{}],i,a)),d=kl([t.color,Pa.color],i,a);return{align:kl([t.align,"center"],i,a),anchor:kl([t.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:kl([t.backgroundColor,null],i,a),borderColor:kl([t.borderColor,null],i,a),borderRadius:kl([t.borderRadius,0],i,a),borderWidth:kl([t.borderWidth,0],i,a),clamp:kl([t.clamp,!1],i,a),clip:kl([t.clip,!1],i,a),color:d,display:r,font:s,lines:o,offset:kl([t.offset,4],i,a),opacity:kl([t.opacity,1],i,a),origin:Qle(n._el,i),padding:OA(kl([t.padding,4],i,a)),positioner:Rle(n._el),rotation:kl([t.rotation,0],i,a)*(Math.PI/180),size:mw_textSize(n._ctx,o,s),textAlign:kl([t.textAlign,"start"],i,a),textShadowBlur:kl([t.textShadowBlur,0],i,a),textShadowColor:kl([t.textShadowColor,d],i,a),textStrokeColor:kl([t.textStrokeColor,d],i,a),textStrokeWidth:kl([t.textStrokeWidth,0],i,a)}},update:function(r){var s,d,m,o=this,t=null,i=null,n=o._index,a=o._config,I=kl([a.display,!0],r,n);I&&(m=Fa(d=oa($s(a.formatter,[s=r.dataset.data[n],r]),s))?[]:function(r){var t,o=[];for(r=[].concat(r);r.length;)"string"==typeof(t=r.pop())?o.unshift.apply(o,t.split("\n")):Array.isArray(t)?r.push.apply(r,t):Fa(r)||o.unshift(""+t);return o}(d)).length&&(i=function Sle(r){var o=r.borderWidth||0,t=r.padding,i=r.size.height,n=r.size.width,a=-n/2,s=-i/2;return{frame:{x:a-t.left-o,y:s-t.top-o,w:n+t.width+2*o,h:i+t.height+2*o},text:{x:a,y:s,w:n,h:i}}}(t=o._modelize(I,m,a,r))),o._model=t,o._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(r,o){var s,i=r.ctx,n=this._model,a=this._rects;this.visible()&&(i.save(),n.clip&&(s=n.area,i.beginPath(),i.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),i.clip()),i.globalAlpha=function(r,o,t){return Math.max(r,Math.min(o,t))}(0,n.opacity,1),i.translate(Yf(o.x),Yf(o.y)),i.rotate(n.rotation),function Ole(r,o,t){var i=t.backgroundColor,n=t.borderColor,a=t.borderWidth;!i&&(!n||!a)||(r.beginPath(),function Ple(r,o,t,i,n,a){var s=Math.PI/2;if(a){var d=Math.min(a,n/2,i/2),m=o+d,I=t+d,J=o+i-d,oe=t+n-d;r.moveTo(o,I),m<J&&I<oe?(r.arc(m,I,d,-Math.PI,-s),r.arc(J,I,d,-s,0),r.arc(J,oe,d,0,s),r.arc(m,oe,d,s,Math.PI)):m<J?(r.moveTo(m,t),r.arc(J,I,d,-s,s),r.arc(m,I,d,s,Math.PI+s)):I<oe?(r.arc(m,I,d,-Math.PI,0),r.arc(m,oe,d,0,Math.PI)):r.arc(m,I,d,-Math.PI,Math.PI),r.closePath(),r.moveTo(o,t)}else r.rect(o,t,i,n)}(r,Yf(o.x)+a/2,Yf(o.y)+a/2,Yf(o.w)-a,Yf(o.h)-a,t.borderRadius),r.closePath(),i&&(r.fillStyle=i,r.fill()),n&&a&&(r.strokeStyle=n,r.lineWidth=a,r.lineJoin="miter",r.stroke()))}(i,a.frame,n),function Nle(r,o,t,i){var Ce,n=i.textAlign,a=i.color,s=!!a,d=i.font,m=o.length,I=i.textStrokeColor,J=i.textStrokeWidth,oe=I&&J;if(m&&(s||oe))for(t=function Lle(r,o,t){var i=t.lineHeight,n=r.w,a=r.x;return"center"===o?a+=n/2:("end"===o||"right"===o)&&(a+=n),{h:i,w:n,x:a,y:r.y+i/2}}(t,n,d),r.font=d.string,r.textAlign=n,r.textBaseline="middle",r.shadowBlur=i.textShadowBlur,r.shadowColor=i.textShadowColor,s&&(r.fillStyle=a),oe&&(r.lineJoin="round",r.lineWidth=J,r.strokeStyle=I),Ce=0,m=o.length;Ce<m;++Ce)Yle(r,o[Ce],{stroked:oe,filled:s,w:t.w,x:t.x,y:t.y+t.h*Ce})}(i,n.lines,a.text,n),i.restore())}});var jle=Number.MIN_SAFE_INTEGER||-9007199254740991,Gle=Number.MAX_SAFE_INTEGER||9007199254740991;function vw(r,o,t){var i=Math.cos(t),n=Math.sin(t),a=o.x,s=o.y;return{x:a+i*(r.x-a)-n*(r.y-s),y:s+n*(r.x-a)+i*(r.y-s)}}function TN(r,o){var a,s,I,t=Gle,i=jle,n=o.origin;for(a=0;a<r.length;++a)I=o.vx*((s=r[a]).x-n.x)+o.vy*(s.y-n.y),t=Math.min(t,I),i=Math.max(i,I);return{min:t,max:i}}function nD(r,o){var t=o.x-r.x,i=o.y-r.y,n=Math.sqrt(t*t+i*i);return{vx:(o.x-r.x)/n,vy:(o.y-r.y)/n,origin:r,ln:n}}var FN=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function SN(r,o,t){var i=o.positioner(r,o),n=i.vx,a=i.vy;if(!n&&!a)return{x:i.x,y:i.y};var s=t.w,d=t.h,m=o.rotation,I=Math.abs(s/2*Math.cos(m))+Math.abs(d/2*Math.sin(m)),J=Math.abs(s/2*Math.sin(m))+Math.abs(d/2*Math.cos(m)),oe=1/Math.max(Math.abs(n),Math.abs(a));return I*=n*oe,J*=a*oe,{x:i.x+(I+=o.offset*n),y:i.y+(J+=o.offset*a)}}Mp(FN.prototype,{center:function(){var r=this._rect;return{x:r.x+r.w/2,y:r.y+r.h/2}},update:function(r,o,t){this._rotation=t,this._rect={x:o.x+r.x,y:o.y+r.y,w:o.w,h:o.h}},contains:function(r){var o=this,i=o._rect;return!((r=vw(r,o.center(),-o._rotation)).x<i.x-1||r.y<i.y-1||r.x>i.x+i.w+2||r.y>i.y+i.h+2)},intersects:function(r){var n,a,s,o=this._points(),t=r._points(),i=[nD(o[0],o[1]),nD(o[0],o[3])];for(this._rotation!==r._rotation&&i.push(nD(t[0],t[1]),nD(t[0],t[3])),n=0;n<i.length;++n)if(a=TN(o,i[n]),s=TN(t,i[n]),a.max<s.min||s.max<a.min)return!1;return!0},_points:function(){var r=this,o=r._rect,t=r._rotation,i=r.center();return[vw({x:o.x,y:o.y},i,t),vw({x:o.x+o.w,y:o.y},i,t),vw({x:o.x+o.w,y:o.y+o.h},i,t),vw({x:o.x,y:o.y+o.h},i,t)]}});var _w={prepare:function(r){var t,i,n,a,s,o=[];for(t=0,n=r.length;t<n;++t)for(i=0,a=r[t].length;i<a;++i)o.push(s=r[t][i]),s.$layout={_box:new FN,_hidable:!1,_visible:!0,_set:t,_idx:s._index};return o.sort(function(d,m){var I=d.$layout,J=m.$layout;return I._idx===J._idx?J._set-I._set:J._idx-I._idx}),this.update(o),o},update:function(r){var t,i,n,a,s,o=!1;for(t=0,i=r.length;t<i;++t)a=(n=r[t]).model(),(s=n.$layout)._hidable=a&&"auto"===a.display,s._visible=n.visible(),o|=s._hidable;o&&function zle(r){var o,t,i,n,a,s,d;for(o=0,t=r.length;o<t;++o)(n=(i=r[o]).$layout)._visible&&(d=new Proxy(i._el,{get:(m,I)=>m.getProps([I],!0)[I]}),a=i.geometry(),s=SN(d,i.model(),a),n._box.update(s,a,i.rotation()));(function Ule(r,o){var t,i,n,a;for(t=r.length-1;t>=0;--t)for(n=r[t].$layout,i=t-1;i>=0&&n._visible;--i)(a=r[i].$layout)._visible&&n._box.intersects(a._box)&&o(n,a)})(r,function(m,I){var J=m._hidable,oe=I._hidable;J&&oe||oe?I._visible=!1:J&&(m._visible=!1)})}(r)},lookup:function(r,o){var t,i;for(t=r.length-1;t>=0;--t)if((i=r[t].$layout)&&i._visible&&i._box.contains(o))return r[t];return null},draw:function(r,o){var t,i,n,a,s,d;for(t=0,i=o.length;t<i;++t)(a=(n=o[t]).$layout)._visible&&(s=n.geometry(),d=SN(n._el,n.model(),s),a._box.update(d,s,n.rotation()),n.draw(r,d))}},Vle={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(r){if(Fa(r))return null;var t,i,n,o=r;if(Ra(r))if(Fa(r.label))if(Fa(r.r))for(o="",n=0,i=(t=Object.keys(r)).length;n<i;++n)o+=(0!==n?", ":"")+t[n]+": "+r[t[n]];else o=r.r;else o=r.label;return""+o},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},nu="$datalabels",QN="$default";function m4(r,o,t,i){if(o){var s,n=t.$context,a=t.$groups;o[a._set]&&(s=o[a._set][a._key])&&!0===$s(s,[n,i])&&(r[nu]._dirty=!0,t.update(n))}}var RN={id:"datalabels",defaults:Vle,beforeInit:function(r){r[nu]={_actives:[]}},beforeUpdate:function(r){var o=r[nu];o._listened=!1,o._listeners={},o._datasets=[],o._labels=[]},afterDatasetUpdate:function(r,o,t){var oe,Ce,$e,nt,Tt,Zt,ci,xi,i=o.index,n=r[nu],a=n._datasets[i]=[],s=r.isDatasetVisible(i),d=r.data.datasets[i],m=function Jle(r,o){var a,s,t=r.datalabels,i={},n=[];return!1===t?null:(!0===t&&(t={}),o=Mp({},[o,t]),a=o.labels||{},s=Object.keys(a),delete o.labels,s.length?s.forEach(function(d){a[d]&&n.push(Mp({},[o,a[d],{_key:d}]))}):n.push(o),i=n.reduce(function(d,m){return Ss(m.listeners||{},function(I,J){d[J]=d[J]||{},d[J][m._key||QN]=I}),delete m.listeners,d},{}),{labels:n,listeners:i})}(d,t),I=o.meta.data||[],J=r.ctx;for(J.save(),oe=0,$e=I.length;oe<$e;++oe)if((ci=I[oe])[nu]=[],s&&ci&&r.getDataVisibility(oe)&&!ci.skip)for(Ce=0,nt=m.labels.length;Ce<nt;++Ce)Zt=(Tt=m.labels[Ce])._key,(xi=new kN(Tt,J,ci,oe)).$groups={_set:i,_key:Zt||QN},xi.$context={active:!1,chart:r,dataIndex:oe,dataset:d,datasetIndex:i},xi.update(xi.$context),ci[nu].push(xi),a.push(xi);J.restore(),Mp(n._listeners,m.listeners,{merger:function(Oi,Ui,Hi){Ui[Oi]=Ui[Oi]||{},Ui[Oi][o.index]=Hi[Oi],n._listened=!0}})},afterUpdate:function(r){r[nu]._labels=_w.prepare(r[nu]._datasets)},afterDatasetsDraw:function(r){_w.draw(r,r[nu]._labels)},beforeEvent:function(r,o){if(r[nu]._listened){var t=o.event;switch(t.type){case"mousemove":case"mouseout":!function Kle(r,o){var n,a,t=r[nu],i=t._listeners;if(i.enter||i.leave){if("mousemove"===o.type)a=_w.lookup(t._labels,o);else if("mouseout"!==o.type)return;n=t._hovered,t._hovered=a,function Wle(r,o,t,i,n){var a,s;!t&&!i||(t?i?t!==i&&(s=a=!0):s=!0:a=!0,s&&m4(r,o.leave,t,n),a&&m4(r,o.enter,i,n))}(r,i,n,a,o)}}(r,t);break;case"click":!function Xle(r,o){var t=r[nu],i=t._listeners.click,n=i&&_w.lookup(t._labels,o);n&&m4(r,i,n,o)}(r,t)}}},afterEvent:function(r){var a,s,d,m,I,J,oe,o=r[nu],n=function(r,o){var n,a,s,d,t=r.slice(),i=[];for(n=0,s=o.length;n<s;++n)-1===(a=t.indexOf(d=o[n]))?i.push([d,1]):t.splice(a,1);for(n=0,s=t.length;n<s;++n)i.push([t[n],-1]);return i}(o._actives,o._actives=r.getActiveElements());for(a=0,s=n.length;a<s;++a)if((I=n[a])[1])for(d=0,m=(oe=I[0].element[nu]||[]).length;d<m;++d)(J=oe[d]).$context.active=1===I[1],J.update(J.$context);(o._dirty||n.length)&&(_w.update(o._labels),r.render()),delete o._dirty}};const Zle=function(r){return{"reload-active":r}};function $le(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",4)(1,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRefresh(!0))}),e.j41(2,"mat-icon",6),e.EFF(3,"autorenew"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(1),e.xc7("color",(null==t.barChartOptions.plugins||null==t.barChartOptions.plugins.title?null:t.barChartOptions.plugins.title.color)||"black"),e.R7$(1),e.Y8G("ngClass",e.eq3(3,Zle,t.reloadActive))}}let rD=(()=>{class r extends T_{chart;height=240;width=380;onReload=new e.bkB;barChartOptions={responsive:!0,maintainAspectRatio:!1};barChartLabels=["2006","2007","2008","2009","2010","2011","2012"];barChartType="bar";barChartPlugins=[RN];barChartData=[{data:[65,59,80,81,56,55,40],label:"Series A"},{data:[28,48,40,19,86,27,90],label:"Series B"}];id="";isEditor=!1;title="";property;sourceMap={};sourceCount=0;xTypeValue=ii.Aq.getEnumKey(Sd,Sd.value);xTypeDate=ii.Aq.getEnumKey(Sd,Sd.date);fncSumHourIntegral=ii.Aq.getEnumKey(kf,kf.sumHourIntegral);fncValueIntegral=ii.Aq.getEnumKey(kf,kf.sumValueIntegral);hoursDateGroup=L1.hours;daysDateGroup=L1.days;dateGroupTemplate;currentQuery;reloadActive=!1;static demoValues=[];constructor(){super()}ngOnInit(){if(this.barChartOptions||(this.barChartOptions=r.DefaultOptions()),this.isEditor&&!r.demoValues.length)for(let t=0;t<300;t++)r.demoValues[t]=ii.Aq.rand(10,100)}ngAfterViewInit(){this.barChartOptions.panel&&this.resize(this.barChartOptions.panel.height,this.barChartOptions.panel.width)}ngOnDestroy(){}init(t,i,n){this.title=t,this.property=i,n&&this.setSources(n)}setSources(t){this.sourceMap={},this.barChartData=[];for(let i=0;i<t.length;i++){let n={label:t[i].label,data:[],backgroundColor:[t[i].fill],borderColor:[t[i].color],hoverBackgroundColor:[t[i].fill],hoverBorderColor:[t[i].color]};this.sourceMap[t[i].id]=n,this.barChartData.push(n)}this.sourceCount=t.length}setOptions(t){if(t){t.scales.y=t.type===this.barChartType?t.scales.y:t.scales.x,t.scales.x=t.type===this.barChartType?t.scales.x:t.scales.y;for(let i=0;i<t.scales.length;i++)t.scales[i].grid=T_.getGridLines(t);if(t.type&&(this.barChartType=t.type),this.barChartOptions={...this.barChartOptions,...t},this.barChartOptions.panel&&this.resize(this.barChartOptions.panel.height,this.barChartOptions.panel.width),t.borderWidth)for(let i=0;i<this.barChartData.length;i++)this.barChartData[i].borderWidth=t.borderWidth;this.property&&(this.property.xtype===this.xTypeValue?this.barChartLabels=[""]:this.property.xtype===this.xTypeDate?(this.currentQuery=this.getQuery(),this.dateGroupTemplate=this.getFunctionValues(this.property.function,[{dt:this.currentQuery.from,value:0},{dt:this.currentQuery.to,value:0}]),this.barChartLabels=this.getDateLabels(this.dateGroupTemplate)):this.barChartLabels=this.barChartData.map(i=>i.label)),this.barChartOptions.plugins.title.text=T_.getTitle(t,this.title),this.chart.update(),this.isEditor||setTimeout(()=>{this.onRefresh()},500),this.setDemo()}}onRefresh(t){if(this.isEditor||!this.property)return!1;this.currentQuery=this.getQuery(),this.onReload.emit(this.currentQuery),t&&(this.reloadActive=!0)}resize(t,i){t&&i&&(this.height=t,this.width=i,this.barChartOptions.panel.width=i,this.barChartOptions.panel.height=t)}setValue(t,i,n){this.sourceMap[t]&&this.property.xtype===this.xTypeValue&&(this.sourceMap[t].data[0]=parseFloat(n).toFixed(this.barChartOptions.decimals),this.chart.update(400))}setValues(t,i){try{if(i&&this.property)if(this.property.xtype===this.xTypeValue)for(let n=0;n<i.length;n++)i[n].forEach(a=>{a&&this.setValue(a.id,a.ts,a.value.toFixed(this.barChartOptions.decimals))});else if(this.property.xtype===this.xTypeDate)for(let n=0;n<i.length;n++){let a=[],s=this.getFunctionValues(this.property.function,i[n]);for(let m in this.dateGroupTemplate){let I=parseInt(m);a.push(s[I]?s[I].toFixed(this.barChartOptions.decimals):this.dateGroupTemplate[I])}let d=this.sourceMap[t[n]];d.data=a,this.fullDataSetAttribute(d),this.chart.update()}}catch(n){console.error(n)}this.reloadActive=!1}isOffline(){return this.barChartOptions.offline}setDemo(){if(!this.isEditor)return!1;this.barChartData=[];for(let t in this.sourceMap){let i=this.sourceMap[t];if(this.property.xtype===this.xTypeValue)i.data=[ii.Aq.rand(10,100)];else if(this.dateGroupTemplate&&this.property.xtype===this.xTypeDate){let n=Object.keys(this.dateGroupTemplate).length;if(n===i.data.length)return!1;i.data=r.demoValues.slice(0,n),this.fullDataSetAttribute(i)}this.barChartData.push(i)}}fullDataSetAttribute(t){t.backgroundColor=Array(t.data.length).fill(t.backgroundColor[0]),t.borderColor=Array(t.data.length).fill(t.borderColor[0]),t.hoverBackgroundColor=Array(t.data.length).fill(t.hoverBackgroundColor[0]),t.hoverBorderColor=Array(t.data.length).fill(t.hoverBorderColor[0])}getDateLabels(t){let i=[];for(let n in t){let a=new Date(parseInt(n));i.push(`${a.toLocaleDateString()} ${ii.Aq.formatDate(a,"HH:mm")}`)}return i}getFunctionValues(t,i){if(t.type===this.fncSumHourIntegral){if(this.barChartOptions.dateGroup===this.hoursDateGroup)return G1.integralForHour(i,Gh.Hour);if(this.barChartOptions.dateGroup===this.daysDateGroup)return G1.integralForHour(i,Gh.Day)}else if(t.type===this.fncValueIntegral){if(this.barChartOptions.dateGroup===this.hoursDateGroup)return G1.integral(i,Gh.Hour);if(this.barChartOptions.dateGroup===this.daysDateGroup)return G1.integral(i,Gh.Day)}}getQuery(){let t=new It.FV;return t.gid=this.id,this.property.xtype===this.xTypeValue?(t.to=Date.now(),t.from=t.to):this.property.xtype===this.xTypeDate&&(t.to=Date.now(),this.barChartOptions.lastRange===Wg.last1h?(t.from=new Date(t.to),t.from=new Date(t.from.getFullYear(),t.from.getMonth(),t.from.getDate(),t.from.getHours(),0,0).getTime()):this.barChartOptions.lastRange===Wg.last1d?(t.from=new Date(t.to),t.from=new Date(t.from.getFullYear(),t.from.getMonth(),t.from.getDate(),0,0,0).getTime()):this.barChartOptions.lastRange===Wg.last3d?(t.from=new Date(t.to-2592e5),t.from=new Date(t.from.getFullYear(),t.from.getMonth(),t.from.getDate(),0,0,0).getTime()):this.barChartOptions.lastRange===Wg.last1w?(t.from=new Date(t.to-6048e5),t.from=new Date(t.from.getFullYear(),t.from.getMonth(),t.from.getDate(),0,0,0).getTime()):this.barChartOptions.lastRange===Wg.last1m&&(t.from=new Date(t.to-2592e6),t.from=new Date(t.from.getFullYear(),t.from.getMonth(),t.from.getDate(),0,0,0).getTime())),t.sids=Object.keys(this.sourceMap),t}static DefaultOptions(){return{type:"bar",theme:gS.light,offline:!1,decimals:0,responsive:!0,backgroundColor:null,maintainAspectRatio:!1,indexAxis:"x",gridLinesShow:!0,scales:{y:{display:!0,min:0,ticks:{stepSize:20,font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.2)",display:!0}},x:{display:!0,ticks:{font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.2)",display:!0}}},plugins:{title:{display:!0,text:"Title",font:{size:12}},tooltip:{enabled:!0,intersect:!1},legend:{display:!0,position:"top",align:"center",labels:{font:{size:12},color:""}},datalabels:{display:!0,anchor:"end",align:"end",font:{size:12}}}}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["graph-bar"]],viewQuery:function(i,n){if(1&i&&e.GBs(qx,5),2&i){let a;e.mGM(a=e.lsd())&&(n.chart=a.first)}},inputs:{height:"height",width:"width"},outputs:{onReload:"onReload"},features:[e.Vt3],decls:4,vars:10,consts:[[2,"display","block"],["baseChart","",3,"datasets","labels","options","plugins","type"],["ngchart",""],["class","graph-toolbar",4,"ngIf"],[1,"graph-toolbar"],["mat-icon-button","",1,"small-icon-button","default-color",3,"click"],[3,"ngClass"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.nrm(1,"canvas",1,2),e.k0s(),e.DNE(3,$le,4,5,"div",3)),2&i&&(e.xc7("height",n.height+"px")("width",n.width+"px"),e.R7$(1),e.Y8G("datasets",n.barChartData)("labels",n.barChartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("type",n.barChartType),e.R7$(2),e.Y8G("ngIf",n.barChartOptions.offline))},dependencies:[l.YU,l.bT,zn,Kn,qx],styles:[".graph-toolbar[_ngcontent-%COMP%]{position:fixed;right:0;top:0;z-index:9999}.small-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}.small-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.small-icon-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.reload-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0);transform-origin:center center}to{transform:rotate(360deg);transform-origin:center center}}"]})}return r})(),oD=(()=>{class r extends T_{chart;height=380;width=380;pieChartOptions={responsive:!0,maintainAspectRatio:!1};pieChartType="pie";barChartPlugins=[RN];pieData=[300,500,100];pieChartData={labels:["Download Sales","In Store Sales","Mail Sales"],datasets:[{data:this.pieData,backgroundColor:["rgb(154, 162, 235)","rgb(63, 73, 100)","rgb(255, 105, 86)"]}]};id="";isEditor=!1;title="";property;sourceMap={};constructor(){super()}ngOnInit(){this.pieChartOptions||(this.pieChartOptions=r.DefaultOptions())}ngAfterViewInit(){this.pieChartOptions.panel&&this.resize(this.pieChartOptions.panel.height,this.pieChartOptions.panel.width)}ngOnDestroy(){}init(t,i,n){this.title=t,this.property=i,n&&this.setSources(n)}setSources(t){this.sourceMap={};let i=[];this.pieData=[];let n=[];for(let a=0;a<t.length;a++)i.push(t[a].label||t[a].name),this.pieData.push(10*(a+1)),n.push(t[a].fill),this.sourceMap[t[a].id]=a;this.pieChartData.labels=i,this.pieChartData.datasets=[{data:this.pieData,backgroundColor:n}]}resize(t,i){t&&i&&(this.height=t,this.width=i,this.pieChartOptions.panel.width=i,this.pieChartOptions.panel.height=t)}setValue(t,i,n){this.pieData[this.sourceMap[t]]=n,this.chart.update(400)}setOptions(t){t&&(this.pieChartOptions={...this.pieChartOptions,...t},this.pieChartOptions.panel&&this.resize(this.pieChartOptions.panel.height,this.pieChartOptions.panel.width),this.pieChartOptions.plugins.title.text=T_.getTitle(t,this.title))}static DefaultOptions(){return{type:"pie",plugins:{title:{display:!0,text:"Title",font:{size:12}},tooltip:{enabled:!0,intersect:!1},legend:{display:!0,position:"top",align:"center",labels:{font:{size:12},color:""}},datalabels:{display:!0,anchor:"end",align:"end",font:{size:12}}}}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-graph-pie"]],viewQuery:function(i,n){if(1&i&&e.GBs(qx,5),2&i){let a;e.mGM(a=e.lsd())&&(n.chart=a.first)}},inputs:{height:"height",width:"width"},features:[e.Vt3],decls:3,vars:7,consts:[[2,"display","block"],["baseChart","",3,"data","options","type"],["chart",""]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.nrm(1,"canvas",1,2),e.k0s()),2&i&&(e.xc7("height",n.height+"px")("width",n.width+"px"),e.R7$(1),e.Y8G("data",n.pieChartData)("options",n.pieChartOptions)("type",n.pieChartType))},dependencies:[qx]})}return r})(),Tp=(()=>{class r extends Io{static TypeTag="svg-ext-html_graph";static LabelTag="HtmlGraph";static prefixD="D-HXC_";static suffixPie="-pie";static suffixBar="-bar";constructor(){super()}static getSignals(t){return t.variableIds}static getDialogType(){return Ho.Graph}static processValue(t,i,n,a,s){try{s&&!s.isOffline()&&s.setValue(n.id,(new Date).getTime()/1e3,n.value)}catch(d){console.error(d)}}static initElement(t,i,n,a){let s=document.getElementById(t.id);if(s){s?.setAttribute("data-name",t.name);let d=ii.Aq.searchTreeStartWith(s,this.prefixD);if(d){let m=i.resolveComponentFactory(T_);m=t.type.endsWith(this.suffixBar)?i.resolveComponentFactory(rD):i.resolveComponentFactory(oD);const I=n.createComponent(m);d.innerHTML="",I.instance.isEditor=!a,I.instance.id=t.id,I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement);let J={panel:{height:d.clientHeight,width:d.clientWidth}};return J=t.type.endsWith(this.suffixBar)?{...rD.DefaultOptions(),...J}:{...oD.DefaultOptions(),...J},I.instance.setOptions(J),I.instance.myComRef=I,I.instance.name=t.name,I.instance}}}static detectChange(t,i,n){return r.initElement(t,i,n,!1)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["html-graph"]],features:[e.Vt3],decls:0,vars:0,template:function(i,n){}})}return r})();var Fl=function(r){return r[r.Gauge=0]="Gauge",r[r.Donut=1]="Donut",r[r.Zones=2]="Zones",r}(Fl||{});class Fp{minValue=0;maxValue=3e3;animationSpeed=40;colorStart="#6fadcf";colorStop="#6fadcf";gradientType="";strokeColor="#e0e0e0";pointer={length:.5,strokeWidth:.035,iconScale:1,color:"#000000"};angle=-.2;lineWidth=.2;radiusScale=.9;fontSize=18;fontFamily;textFilePosition=30;limitMax=!1;limitMin=!1;highDpiSupport=!0;backgroundColor="rgba(255, 255, 255, 0)";shadowColor="#d5d5d5";fractionDigits=0;ticksEnabled=!0;renderTicks={divisions:5,divWidth:1.1,divLength:.7,divColor:"#333333",subDivisions:3,subLength:.5,subWidth:.6,subColor:"#666666"};staticLabelsText="200;500;2100;2800";staticFontSize=10;staticFontColor="#000000";staticLabels={font:"10px sans-serif",labels:[200,500,2100,2800],fractionDigits:0,color:"#000000"};staticZones=[{strokeStyle:"#F03E3E",min:0,max:200},{strokeStyle:"#FFDD00",min:200,max:500},{strokeStyle:"#3F4964",min:500,max:2100},{strokeStyle:"#FFDD00",min:2100,max:2800},{strokeStyle:"#F03E3E",min:2800,max:3e3}]}const qle=["panel"],ece=["gauge"],tce=["gaugetext"];let v4=(()=>{class r{id;options;value;panel;canvas;gaugetext;destroy$=new An.B;gauge;type=Fl.Gauge;defOptions=new Fp;initialized=!1;constructor(){}ngOnInit(){this.options=Object.assign(this.defOptions,this.options)}ngAfterViewInit(){h_(100).pipe((0,Fo.s)(10),(0,jn.Q)(this.destroy$)).subscribe(()=>{this.onResize(null),this.setOptions(this.options)})}ngOnDestroy(){try{this.destroy$.next(null),this.destroy$.unsubscribe()}catch(t){console.error(t)}}ngOnChanges(t){this.gauge&&t&&t.value&&this.setValue(t.value.currentValue)}onResize(t){let i=this.canvas.nativeElement,n=i.parentNode.clientWidth,a=i.parentNode.clientHeight;n<a&&(a=n),this.canvas.nativeElement.height=a,this.canvas.nativeElement.width=n,this.reini()}resize(t,i){t&&i?(this.canvas.nativeElement.height=t,this.canvas.nativeElement.width=i,this.reini()):this.onResize(null)}reini(){this.gauge&&this.render(),this.initialized||this.init(this.type)}render(){this.gauge.setOptions(this.options),this.gauge.ctx.clearRect(0,0,this.gauge.ctx.canvas.width,this.gauge.ctx.canvas.height),this.gauge.render()}setValue(t){let i=ii.Aq.toFloatOrNumber(t);i=Math.max(i,Number(this.options.minValue)),i=Math.min(i,Number(this.options.maxValue)),this.gauge.set(i)}setOptions(t){this.options=t,this.gauge.animationSpeed=t.animationSpeed,this.gauge.minValue=t.minValue,this.gauge.maxValue=t.maxValue,this.gaugetext.nativeElement.style.fontSize=t.fontSize+"px",t.fontFamily&&(this.gaugetext.nativeElement.style.fontFamily=t.fontFamily),t.pointer&&t.pointer.color&&(this.gaugetext.nativeElement.style.color=t.pointer.color),this.gaugetext.nativeElement.style.top=t.textFilePosition+"%",this.render()}getOptions(){return this.options}init(t){this.type=t,t===Fl.Gauge||t===Fl.Zones?(this.gauge=new Gauge(this.canvas.nativeElement),this.gauge.setTextField(this.gaugetext.nativeElement)):t===Fl.Donut&&(this.gauge=new Donut(this.canvas.nativeElement),this.gauge.setTextField(this.gaugetext.nativeElement));const i=Number(this.options.minValue)+1;this.setOptions(this.options),this.setValue(i),this.initialized=!0}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-gauge"]],viewQuery:function(i,n){if(1&i&&(e.GBs(qle,5),e.GBs(ece,5),e.GBs(tce,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.panel=a.first),e.mGM(a=e.lsd())&&(n.canvas=a.first),e.mGM(a=e.lsd())&&(n.gaugetext=a.first)}},hostBindings:function(i,n){1&i&&e.bIt("resize",function(s){return n.onResize(s)},!1,e.tSv)},inputs:{id:"id",options:"options",value:"value"},features:[e.OA$],decls:6,vars:0,consts:[[1,"mygauge-container",3,"resize"],["panel",""],[1,"mygauge-value"],["gaugetext",""],["id","myGauge","width","180","height","50",1,"mygauge-canvas"],["gauge",""]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.bIt("resize",function(s){return n.onResize(s)},!1,e.tSv),e.nrm(2,"div",2,3)(4,"canvas",4,5),e.k0s())},styles:[".mygauge-container[_ngcontent-%COMP%]{z-index:1;position:relative;width:100%;height:100%;padding:20}.mygauge-canvas[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.mygauge-value[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:700;color:#000;font-family:Segoe UI Symbol,Roboto-Regular,Helvetica Neue,sans-serif!important;position:absolute;top:5px;left:0;right:0}"]})}return r})(),cm=(()=>{class r extends Io{resolver;static TypeTag="svg-ext-html_bag";static LabelTag="HtmlBag";static prefixD="D-BAG_";constructor(t){super(),this.resolver=t}static getSignals(t){let i=[];return t.variableId&&i.push(t.variableId),i}static getDialogType(){return Ho.Gauge}static processValue(t,i,n,a,s){try{s.setValue(n.value)}catch(d){console.error(d)}}static initElement(t,i,n,a){let s=document.getElementById(t.id);if(s){s?.setAttribute("data-name",t.name);let d=ii.Aq.searchTreeStartWith(s,this.prefixD);if(d){const m=i.resolveComponentFactory(v4),I=n.createComponent(m);return d.innerHTML="",I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement),I.instance.resize(d.clientHeight,d.clientWidth),t.property&&t.property.options&&(I.instance.setOptions(t.property.options),I.instance.init(t.property.options.type)),I.instance.name=t.name,I.instance}}}static resize(t,i,n,a){let s=document.getElementById(t.id);if(s){let d=ii.Aq.searchTreeStartWith(s,this.prefixD);if(d){const m=i.resolveComponentFactory(v4),I=n.createComponent(m);return d.innerHTML="",I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement),I.instance.resize(d.clientHeight,d.clientWidth),a&&(I.instance.setOptions(a),I.instance.init(a.type)),I.instance}}}static detectChange(t,i,n){let a;return t.property&&t.property.options&&(a=t.property.options),r.resize(t,i,n,a)}static \u0275fac=function(i){return new(i||r)(e.rXU(e.OM3))};static \u0275cmp=e.VBU({type:r,selectors:[["app-html-bag"]],features:[e.Vt3],decls:0,vars:0,template:function(i,n){}})}return r})();const ice=["switcher"],nce=["slider"],rce=["toggler"];let _4=(()=>{class r{switcher;slider;toggler;options=new PN;checked=!1;onUpdate;isReadonly=!1;disabled=!1;constructor(){}ngAfterViewInit(){this.onRefresh()}onClick(){this.isReadonly||(this.onRefresh(),this.onUpdate&&this.onUpdate(this.checked?this.options.onValue.toString():this.options.offValue.toString()))}onRefresh(){this.checked=this.switcher.nativeElement.checked,this.toggler.nativeElement.classList.toggle("active",this.checked),this.switcher.nativeElement.checked?(this.toggler.nativeElement.style.backgroundColor=this.options.onBackground,this.slider.nativeElement.style.backgroundColor=this.options.onSliderColor,this.slider.nativeElement.style.color=this.options.onTextColor,this.slider.nativeElement.innerHTML=this.options.onText):(this.toggler.nativeElement.style.backgroundColor=this.options.offBackground,this.slider.nativeElement.style.backgroundColor=this.options.offSliderColor,this.slider.nativeElement.style.color=this.options.offTextColor,this.slider.nativeElement.innerHTML=this.options.offText),this.slider.nativeElement.style.lineHeight=this.options.height+"px",this.switcher.nativeElement.disabled=this.disabled,this.toggler.nativeElement.style.opacity=this.disabled?"0.5":"1",this.toggler.nativeElement.style.pointerEvents=this.disabled?"none":"auto"}setOptions(t,i=!1){return i?(this.options=t,this.onRefresh()):setTimeout(()=>{this.options=t,this.onRefresh()},200),!0}setValue(t){this.switcher.nativeElement.checked=!!t,this.onRefresh()}setDisabled(t){this.disabled=t,this.onRefresh()}bindUpdate(t){this.onUpdate=t}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-switch"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ice,5),e.GBs(nce,5),e.GBs(rce,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.switcher=a.first),e.mGM(a=e.lsd())&&(n.slider=a.first),e.mGM(a=e.lsd())&&(n.toggler=a.first)}},decls:7,vars:6,consts:[[1,"md-switch"],[1,"toggle-button"],["toggler",""],["type","checkbox",3,"change"],["switcher",""],[1,"inner-circle",2,"text-align","center","line-height","inherit"],["slider",""]],template:function(i,n){1&i&&(e.j41(0,"label",0)(1,"div",1,2)(3,"input",3,4),e.bIt("change",function(){return n.onClick()}),e.k0s(),e.nrm(5,"div",5,6),e.k0s()()),2&i&&(e.xc7("border-radius",n.options.radius+"px"),e.R7$(5),e.xc7("font-size",n.options.fontSize+"px")("font-family",n.options.fontFamily))}})}return r})();class PN{offValue=0;onValue=1;offBackground="#ccc";onBackground="#ccc";offText="";onText="";offSliderColor="#fff";onSliderColor="#0CC868";offTextColor="#000";onTextColor="#fff";fontSize=12;fontFamily="";radius=0;height}let ru=(()=>{class r extends Io{static TypeTag="svg-ext-html_switch";static LabelTag="HtmlSwitch";static prefix="T-HXT_";constructor(){super()}static getSignals(t){let i=[];return t.variableId&&i.push(t.variableId),t.alarmId&&i.push(t.alarmId),t.actions&&t.actions.forEach(n=>{i.push(n.variableId)}),i}static getDialogType(){return Ho.Switch}static isBitmaskSupported(){return!0}static bindEvents(t,i,n){return i&&i.bindUpdate(a=>{let s=new It.Jh;s.type="on",s.ga=t,s.value=a,n(s)}),null}static processValue(t,i,n,a,s){try{if(s){let d=parseFloat(n.value);d=Number.isNaN(d)?Number(n.value):parseFloat(d.toFixed(5)),"boolean"!=typeof n.value&&(d=Io.checkBitmaskAndValue(t.property.bitmask,d,t.property.options.offValue,t.property.options.onValue)),s.setValue(d)}}catch(d){console.error(d)}}static initElement(t,i,n,a){let s=document.getElementById(t.id);if(s){s?.setAttribute("data-name",t.name);let d=ii.Aq.searchTreeStartWith(s,this.prefix);if(d){const m=a?a(t.property):null,I=i.resolveComponentFactory(_4),J=n.createComponent(I);return d.innerHTML="",J.changeDetectorRef.detectChanges(),d.appendChild(J.location.nativeElement),t.property?.options&&(t.property.options.height=d.clientHeight,J.instance.setOptions(t.property.options)&&t.property.options.radius&&(d.style.borderRadius=t.property.options.radius+"px")),J.instance.isReadonly=!!t.property?.events?.length,J.instance.name=t.name,m?.show&&!m?.enabled&&J.instance.setDisabled(!0),J.instance}}}static resize(t,i,n,a){let s=document.getElementById(t.id);if(s){let d=ii.Aq.searchTreeStartWith(s,this.prefix);if(d){const m=i.resolveComponentFactory(_4),I=n.createComponent(m);return d.innerHTML="",I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement),t.property&&t.property.options&&(t.property.options.height=d.clientHeight,I.instance.setOptions(t.property.options,!0)),I.instance}}}static detectChange(t,i,n){return r.initElement(t,i,n)}static getSize(t){let i={height:0,width:0},n=document.getElementById(t.id);if(n){let a=ii.Aq.searchTreeStartWith(n,this.prefix);a&&(i.height=a.clientHeight,i.width=a.clientWidth)}return i}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),ou=(()=>{class r extends Io{static TypeTag="svg-ext-gauge_progress";static LabelTag="HtmlProgress";static prefixA="A-GXP_";static prefixB="B-GXP_";static prefixH="H-GXP_";static prefixMax="M-GXP_";static prefixMin="m-GXP_";static prefixValue="V-GXP_";static barColor="#3F4964";constructor(){super()}static getSignals(t){let i=[];return t.variableId&&i.push(t.variableId),i}static getDialogType(){return Ho.Range}static processValue(t,i,n,a){try{if(3===i.node?.children?.length){let s=parseFloat(n.value);const d=t.property?.ranges?.reduce((nt,Tt)=>Tt.min<nt.min?Tt:nt,t.property?.ranges?.length?t.property.ranges[0]:void 0)?.min??0,m=t.property?.ranges?.reduce((nt,Tt)=>Tt.max>nt.max?Tt:nt,t.property?.ranges?.length?t.property.ranges[0]:void 0)?.max??100,I=t.property?.ranges?.find(nt=>s>=nt.min&&s<=nt.max);let J=ii.Aq.searchTreeStartWith(i.node,this.prefixA),oe=parseFloat(J.getAttribute("height")),Ce=parseFloat(J.getAttribute("y")),$e=ii.Aq.searchTreeStartWith(i.node,this.prefixB);if(J&&$e){s>m&&(s=m),s<d&&(s=d);let Tt=I?(oe-0)/(m-d)*(s-d):0;if(!Number.isNaN(Tt))if($e.setAttribute("y",Ce+oe-Tt),$e.setAttribute("height",Tt),I?.color&&$e.setAttribute("fill",I.color),I?.stroke&&$e.setAttribute("stroke",I.stroke),I?.text){let Zt=ii.Aq.searchTreeStartWith(i.node,this.prefixValue);Zt&&(Zt.innerHTML=s,I.text&&(Zt.innerHTML+=" "+I.text),Zt.style.top=(oe-Tt-7).toString()+"px")}else{let Zt=ii.Aq.searchTreeStartWith(i.node,this.prefixValue);Zt&&(Zt.innerHTML+="ER")}}}}catch(s){console.error(s)}}static initElement(t,i=!1){let n=document.getElementById(t.id);if(n){if(n?.setAttribute("data-name",t.name),!t.property){t.property=new It.f5;let a=new It.EV;a.type=this.getDialogType(),a.min=0,a.max=100,a.style=[!0,!0],a.color="#3F4964",t.property.ranges=[a]}if(t.property.ranges?.length>0){let a=t.property.ranges[0],s=ii.Aq.searchTreeStartWith(n,this.prefixMin);s&&(s.innerHTML=a.min.toString(),s.style.display=a.style[0]?"block":"none"),s=ii.Aq.searchTreeStartWith(n,this.prefixMax),s&&(s.innerHTML=a.max.toString(),s.style.display=a.style[0]?"block":"none");let d=ii.Aq.searchTreeStartWith(n,this.prefixValue);d&&(d.style.display=a.style[1]?"block":"none");let m=ii.Aq.searchTreeStartWith(n,this.prefixB);m&&m.setAttribute("fill",a.color)}}return n}static initElementColor(t,i,n){let a=ii.Aq.searchTreeStartWith(n,this.prefixA);a&&(t&&a.setAttribute("fill",t),i&&a.setAttribute("stroke",i)),a=ii.Aq.searchTreeStartWith(n,this.prefixB),a&&i&&a.setAttribute("stroke",i)}static getFillColor(t){let i=ii.Aq.searchTreeStartWith(t,this.prefixA);if(i)return i.getAttribute("fill")}static getStrokeColor(t){let i=ii.Aq.searchTreeStartWith(t,this.prefixA);if(i)return i.getAttribute("stroke")}static getDefaultValue(){return{color:this.barColor}}static getMinByAttribute(t,i){return t?.reduce((n,a)=>a[i]<n[i]?a:n)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["gauge-progress"]],features:[e.Vt3],decls:0,vars:0,template:function(i,n){}})}return r})();class sh extends Io{static TypeTag="svg-ext-gauge_semaphore";static LabelTag="HtmlSemaphore";static actionsType={hide:It.vo.hide,show:It.vo.show,blink:It.vo.blink};constructor(){super()}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getDialogType(){return Ho.Range}static getActions(){return this.actionsType}static isBitmaskSupported(){return!0}static processValue(o,t,i,n){try{if(t.node&&t.node.children&&t.node.children.length<=1){let a=t.node.children[0],s="",d=parseFloat(i.value);Number.isNaN(d)&&(d=Number(i.value));let m=Io.checkBitmask(o.property.bitmask,d);if(o.property&&o.property.ranges){for(let I=0;I<o.property.ranges.length;I++)o.property.ranges[I].min<=m&&o.property.ranges[I].max>=m&&(s=o.property.ranges[I].color);a.setAttribute("fill",s),o.property.actions&&o.property.actions.forEach(I=>{I.variableId===i.id&&sh.processAction(I,t,m,n)})}}}catch(a){console.error(a)}}static getFillColor(o){return o.children&&o.children[0]?o.children[0].getAttribute("fill"):o.getAttribute("fill")}static getStrokeColor(o){return o.children&&o.children[0]?o.children[0].getAttribute("stroke"):o.getAttribute("stroke")}static processAction(o,t,i,n){if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=i&&o.range.max>=i){let a=SVG.adopt(t.node);this.runActionHide(a,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.show){if(o.range.min<=i&&o.range.max>=i){let a=SVG.adopt(t.node);this.runActionShow(a,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.blink){let a=SVG.adopt(t.node);this.checkActionBlink(a,o,n,o.range.min<=i&&o.range.max>=i,!1)}}static \u0275fac=function(t){return new(t||sh)};static \u0275cmp=e.VBU({type:sh,selectors:[["gauge-semaphore"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}class Oa extends Io{static TypeTag="svg-ext-shapes";static LabelTag="Shapes";static actionsType={hide:It.vo.hide,show:It.vo.show,blink:It.vo.blink,stop:It.vo.stop,clockwise:It.vo.clockwise,anticlockwise:It.vo.anticlockwise,rotate:It.vo.rotate,move:It.vo.move};constructor(){super()}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.alarmId&&t.push(o.alarmId),o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getActions(o){return this.actionsType}static getDialogType(){return Ho.RangeWithAlarm}static isBitmaskSupported(){return!0}static processValue(o,t,i,n){try{if(t.node){let a=parseFloat(i.value);if(a=Number.isNaN(a)?Number(i.value):parseFloat(a.toFixed(5)),o.property){let s=Io.checkBitmask(o.property.bitmask,a),d=new It._O;if(o.property.variableId===i.id&&o.property.ranges){for(let m=0;m<o.property.ranges.length;m++)o.property.ranges[m].min<=s&&o.property.ranges[m].max>=s&&(d.fill=o.property.ranges[m].color,d.stroke=o.property.ranges[m].stroke);d.fill&&Io.walkTreeNodeToSetAttribute(t.node,"fill",d.fill),d.stroke&&Io.walkTreeNodeToSetAttribute(t.node,"stroke",d.stroke)}o.property.actions&&o.property.actions.forEach(m=>{m.variableId===i.id&&Oa.processAction(m,t,a,n,d)})}}}catch(a){console.error(a)}}static processAction(o,t,i,n,a){let s=Io.checkBitmask(o.bitmask,i);if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=s&&o.range.max>=s){let m=SVG.adopt(t.node);this.runActionHide(m,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.show){if(o.range.min<=s&&o.range.max>=s){let m=SVG.adopt(t.node);this.runActionShow(m,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.blink){let m=SVG.adopt(t.node);this.checkActionBlink(m,o,n,o.range.min<=s&&o.range.max>=s,!1,a)}else if(this.actionsType[o.type]===this.actionsType.rotate)Oa.rotateShape(o,t,s);else if(Oa.actionsType[o.type]===Oa.actionsType.move)Oa.moveShape(o,t,s);else if(o.range.min<=s&&o.range.max>=s){var d=SVG.adopt(t.node);Oa.runMyAction(d,o.type,n)}}static runMyAction(o,t,i){i.actionRef&&i.actionRef.type===t||(o.timeline&&o.timeline().stop(),i.actionRef?.animr&&i.actionRef?.animr.unschedule(),Oa.actionsType[t]===Oa.actionsType.clockwise?i.actionRef=Oa.startRotateAnimationShape(o,t,360):Oa.actionsType[t]===Oa.actionsType.anticlockwise?i.actionRef=Oa.startRotateAnimationShape(o,t,-360):Oa.actionsType[t]===Oa.actionsType.stop&&Oa.stopAnimationShape(i,t))}static startRotateAnimationShape(o,t,i){return{type:t,animr:o.animate(3e3).ease("-").rotate(i).loop()}}static stopAnimationShape(o,t){o.actionRef&&(Oa.clearAnimationTimer(o.actionRef),o.actionRef.type=t)}static rotateShape(o,t,i){if(o.range.min<=i&&o.range.max>=i){let n=SVG.adopt(t.node),a=o.range.max-o.range.min;o.range.max===o.range.min&&(a=1);let d=a>0?o.options.minAngle+i*(o.options.maxAngle-o.options.minAngle)/a:0;d>o.options.maxAngle?d=o.options.maxAngle:d<o.options.minAngle&&(d=o.options.minAngle),n.animate(200).ease("-").transform({rotate:d})}}static moveShape(o,t,i){let n=SVG.adopt(t.node);o.range.min<=i&&o.range.max>=i&&n.animate(o.options.duration||500).ease("-").move(o.options.toX,o.options.toY)}static \u0275fac=function(t){return new(t||Oa)};static \u0275cmp=e.VBU({type:Oa,selectors:[["gauge-shapes"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}class au extends Io{static TypeTag="svg-ext-proceng";static LabelTag="Proc-Eng";static actionsType={hide:It.vo.hide,show:It.vo.show,blink:It.vo.blink,stop:It.vo.stop,clockwise:It.vo.clockwise,anticlockwise:It.vo.anticlockwise,rotate:It.vo.rotate,move:It.vo.move};constructor(){super()}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.alarmId&&t.push(o.alarmId),o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getActions(o){return this.actionsType}static getDialogType(){return Ho.RangeWithAlarm}static isBitmaskSupported(){return!0}static processValue(o,t,i,n){try{if(t.node){let a=parseFloat(i.value);if(a=Number.isNaN(a)?Number(i.value):parseFloat(a.toFixed(5)),o.property){let s=Io.checkBitmask(o.property.bitmask,a),d=new It._O;if(o.property.variableId===i.id&&o.property.ranges){for(let m=0;m<o.property.ranges.length;m++)o.property.ranges[m].min<=s&&o.property.ranges[m].max>=s&&(d.fill=o.property.ranges[m].color,d.stroke=o.property.ranges[m].stroke);d.fill&&Io.walkTreeNodeToSetAttribute(t.node,"fill",d.fill),d.stroke&&Io.walkTreeNodeToSetAttribute(t.node,"stroke",d.stroke)}o.property.actions&&o.property.actions.forEach(m=>{m.variableId===i.id&&au.processAction(m,t,a,n,d)})}}}catch(a){console.error(a)}}static processAction(o,t,i,n,a){let s=Io.checkBitmask(o.bitmask,i);if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=s&&o.range.max>=s){let m=SVG.adopt(t.node);this.runActionHide(m,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.show){if(o.range.min<=s&&o.range.max>=s){let m=SVG.adopt(t.node);this.runActionShow(m,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.blink){let m=SVG.adopt(t.node);this.checkActionBlink(m,o,n,o.range.min<=s&&o.range.max>=s,!1,a)}else if(this.actionsType[o.type]===this.actionsType.rotate)Oa.rotateShape(o,t,s);else if(Oa.actionsType[o.type]===Oa.actionsType.move)Oa.moveShape(o,t,s);else if(o.range.min<=s&&o.range.max>=s){var d=SVG.adopt(t.node);au.runMyAction(d,o.type,n)}}static runMyAction(o,t,i){i.actionRef&&i.actionRef.type===t||(o.timeline&&o.timeline().stop(),i.actionRef?.animr&&i.actionRef?.animr.unschedule(),au.actionsType[t]===au.actionsType.clockwise?i.actionRef=Oa.startRotateAnimationShape(o,t,360):au.actionsType[t]===au.actionsType.anticlockwise?i.actionRef=Oa.startRotateAnimationShape(o,t,-360):au.actionsType[t]===au.actionsType.stop&&Oa.stopAnimationShape(i,t))}static \u0275fac=function(t){return new(t||au)};static \u0275cmp=e.VBU({type:au,selectors:[["gauge-proc-eng"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}class Bc extends Io{static TypeTag="svg-ext-ape";static EliType="svg-ext-ape-eli";static PistonType="svg-ext-ape-piston";static LabelTag="AnimProcEng";static actionsType={stop:It.vo.stop,clockwise:It.vo.clockwise,anticlockwise:It.vo.anticlockwise,downup:It.vo.downup,hide:It.vo.hide,show:It.vo.show,rotate:It.vo.rotate,move:It.vo.move};constructor(){super()}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.alarmId&&t.push(o.alarmId),o.actions&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getActions(o){let t=Object.assign({},Bc.actionsType);return o===Bc.EliType?delete t.downup:o===Bc.PistonType&&(delete t.anticlockwise,delete t.clockwise),t}static getDialogType(){return Ho.RangeWithAlarm}static isBitmaskSupported(){return!0}static processValue(o,t,i,n){try{if(t.node){let a=parseFloat(i.value);if(a=Number.isNaN(a)?Number(i.value):parseFloat(a.toFixed(5)),o.property){let s=Io.checkBitmask(o.property.bitmask,a);if(o.property.variableId===i.id&&o.property.ranges){let d=new It._O;for(let m=0;m<o.property.ranges.length;m++)o.property.ranges[m].min<=s&&o.property.ranges[m].max>=s&&(d.fill=o.property.ranges[m].color,d.stroke=o.property.ranges[m].stroke);d.fill&&Io.walkTreeNodeToSetAttribute(t.node,"fill",d.fill),d.stroke&&Io.walkTreeNodeToSetAttribute(t.node,"stroke",d.stroke)}o.property.actions&&o.property.actions.forEach(d=>{d.variableId===i.id&&Bc.processAction(d,t,a,n)})}}}catch(a){console.error(a)}}static processAction(o,t,i,n){let a=Io.checkBitmask(o.bitmask,i);if(this.actionsType[o.type]===this.actionsType.hide){if(o.range.min<=a&&o.range.max>=a){let d=SVG.adopt(t.node);Bc.clearAnimationTimer(n.actionRef),this.runActionHide(d,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.show){if(o.range.min<=a&&o.range.max>=a){let d=SVG.adopt(t.node);this.runActionShow(d,o.type,n)}}else if(this.actionsType[o.type]===this.actionsType.rotate)Oa.rotateShape(o,t,a);else if(Oa.actionsType[o.type]===Oa.actionsType.move)Oa.moveShape(o,t,a);else if(o.range.min<=a&&o.range.max>=a){var s=SVG.adopt(t.node);Bc.runMyAction(s,o.type,n)}}static runMyAction(o,t,i){if(!i.actionRef||i.actionRef.type!==t)if(o.timeline&&o.timeline().stop(),i.actionRef?.animr?.unschedule instanceof Function&&i.actionRef?.animr.unschedule(),Bc.actionsType[t]===Bc.actionsType.clockwise)i.actionRef=Oa.startRotateAnimationShape(o,t,360);else if(Bc.actionsType[t]===Bc.actionsType.anticlockwise)i.actionRef=Oa.startRotateAnimationShape(o,t,-360);else if(Bc.actionsType[t]===Bc.actionsType.downup){let s=ii.Aq.searchTreeStartWith(o.node,"pm");if(s){o=SVG.adopt(s);let d=s.getBBox();var n={x:d.x,y:d.y};i.actionRef&&i.actionRef.spool&&(n=i.actionRef.spool);var a={x:d.x,y:d.y-25};Bc.clearAnimationTimer(i.actionRef);let m=setInterval(()=>{o.animate(1e3).ease("-").move(a.x,a.y).animate(1e3).ease("-").move(n.x,n.y)},2e3);i.actionRef={type:t,timer:m,spool:n}}}else Bc.actionsType[t]===Bc.actionsType.stop&&Oa.stopAnimationShape(i,t)}static \u0275fac=function(t){return new(t||Bc)};static \u0275cmp=e.VBU({type:Bc,selectors:[["ape-shapes"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}var yw=function(r){return r.hidecontent="pipe.action-hide-content",r}(yw||{});class Xa{static TypeTag="svg-ext-pipe";static LabelTag="Pipe";static prefixB="PIE_";static prefixC="cPIE_";static prefixAnimation="aPIE_";static actionsType={stop:It.vo.stop,clockwise:It.vo.clockwise,anticlockwise:It.vo.anticlockwise,hidecontent:yw.hidecontent,blink:It.vo.blink};static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.alarmId&&t.push(o.alarmId),o.actions&&o.actions.forEach(i=>{t.push(i.variableId)}),t}static getActions(o){return this.actionsType}static getDialogType(){return Ho.Pipe}static isBitmaskSupported(){return!0}static processValue(o,t,i,n){try{if(t.node){let a=parseFloat(i.value);if(a=Number.isNaN(a)?Number(i.value):parseFloat(a.toFixed(5)),o.property){let s=new It._O;s.fill=o.property?.options?.pipe,s.stroke=o.property?.options.content,o.property.actions&&o.property.actions.forEach(d=>{if(d.variableId===i.id){const m=Xa.processAction(d,t,a,n,s);o.property?.options?.imageAnimation&&m&&Xa.runImageAction(o,d,t.node,n)}})}}}catch(a){console.error(a)}}static processAction(o,t,i,n,a){let s=Io.checkBitmask(o.bitmask,i);if(this.actionsType[o.type]===this.actionsType.blink){let J=SVG.adopt(t.node);var d=ii.Aq.searchTreeStartWith(J.node,"p"+this.prefixB),m=ii.Aq.searchTreeStartWith(J.node,"c"+this.prefixB);this.runMyActionBlink(d,m,o,n,o.range.min<=s&&o.range.max>=s,a)}else if(o.range.min<=s&&o.range.max>=s){var I=SVG.adopt(t.node);return Xa.runMyAction(I,o.type,n),!0}return!1}static runMyAction(o,t,i){if(Xa.actionsType[t]===Xa.actionsType.stop)i.actionRef?.timer&&(clearTimeout(i.actionRef.timer),i.actionRef.timer=null),i.actionRef?.animr&&i.actionRef.animr.stop();else{if(i.actionRef?.timer){if(i.actionRef.type===t)return;clearTimeout(i.actionRef.timer),i.actionRef.timer=null}var n=ii.Aq.searchTreeStartWith(o.node,"c"+this.prefixB);if(n){let a=1e3;if(Xa.actionsType[t]===Xa.actionsType.clockwise){n.style.display="unset";let s=setInterval(()=>{a<0&&(a=1e3),n.style.strokeDashoffset=a,a--},20);i.actionRef??=new It.c$(t),i.actionRef.timer=s,i.actionRef.type=t}else if(Xa.actionsType[t]===Xa.actionsType.anticlockwise){n.style.display="unset";let s=setInterval(()=>{a>1e3&&(a=0),n.style.strokeDashoffset=a,a++},20);i.actionRef??=new It.c$(t),i.actionRef.timer=s,i.actionRef.type=t}else Xa.actionsType[t]===Xa.actionsType.hidecontent&&(n.style.display="none")}}}static runImageAction(o,t,i,n){return(0,A8.A)(function*(){if(!n.actionRef?.animr){n.actionRef??=new It.c$(t.type),Xa.removeImageChildren(i);let a=yield ON(o,i,!0,"forward");n.actionRef.animr=a}Xa.actionsType[t.type]===Xa.actionsType.stop?n.actionRef.animr.stop():(Xa.actionsType[t.type]===Xa.actionsType.clockwise?n.actionRef.animr.setDirection("forward"):Xa.actionsType[t.type]===Xa.actionsType.anticlockwise&&n.actionRef.animr.setDirection("reverse"),n.actionRef.animr.isRunning||n.actionRef.animr.start())})()}static runMyActionBlink(o,t,i,n,a,s){if(n.actionBlinkRef||(n.actionBlinkRef=new It.c$(i.type)),n.actionBlinkRef.type=i.type,a){if(n.actionBlinkRef.timer&&Io.getBlinkActionId(i)===n.actionBlinkRef.spool?.actId)return;Io.clearAnimationTimer(n.actionBlinkRef);var d=!1;try{const m=Io.getBlinkActionId(i);n.actionBlinkRef.spool={fill:o.getAttribute("stroke"),stroke:t.getAttribute("stroke"),actId:m}}catch(m){console.error(m)}n.actionBlinkRef.timer=setInterval(()=>{d=!d;try{Io.walkTreeNodeToSetAttribute(o,"stroke",d?i.options.fillA:i.options.fillB),Io.walkTreeNodeToSetAttribute(t,"stroke",d?i.options.strokeA:i.options.strokeB)}catch(m){console.error(m)}},i.options.interval)}else if(!a)try{n.actionBlinkRef?.spool?.actId===Io.getBlinkActionId(i)&&(n.actionBlinkRef.timer&&(clearInterval(n.actionBlinkRef.timer),n.actionBlinkRef.timer=null),s&&n.actionBlinkRef.spool&&(s.fill&&(n.actionBlinkRef.spool.fill=s.fill),s.stroke&&(n.actionBlinkRef.spool.stroke=s.stroke)),Io.walkTreeNodeToSetAttribute(o,"stroke",n.actionBlinkRef.spool?.fill),Io.walkTreeNodeToSetAttribute(t,"stroke",n.actionBlinkRef.spool?.stroke))}catch(m){console.error(m)}}static initElement(o,t,i){let n=document.getElementById(o.id);return n&&(Xa.removeImageChildren(n),o.property?.options?.imageAnimation&&ON(o,n,t).then(a=>{a.stop()}).catch(a=>{console.error("Error occurred while initializing animation:",a)})),n}static removeImageChildren(o){let t=ii.Aq.searchTreeStartWith(o,Xa.prefixAnimation);t&&o.removeChild(t),ii.Aq.childrenStartWith(o,"svg_").forEach(n=>{o.removeChild(n)})}static resize(o){Xa.initElement(o,!1)}static detectChange(o,t,i){let a=i.nativeWindow.svgEditor.runExtension("pipe","initPipe",{id:o.id,property:o.property.options});return Xa.initElement(o,!1),a}static \u0275fac=function(t){return new(t||Xa)};static \u0275prov=e.jDH({token:Xa,factory:Xa.\u0275fac})}function ON(r,o,t,i="forward"){let n=ii.Aq.searchTreeStartWith(o,Xa.prefixC);return n?fetch(r.property.options.imageAnimation.imageUrl).then(a=>{if(!a.ok)throw new Error(`Failed to load SVG: ${a.statusText}`);return a.text()}).then(a=>{const m=(new DOMParser).parseFromString(a,"image/svg+xml").documentElement;m.setAttribute("id",ii.Aq.getShortGUID("svg_"));const I=new ace(m,n,r.property.options.imageAnimation.count),J=new sce(I,r.property.options.imageAnimation.delay,t,i);return J.initialize(),J}):Promise.resolve(null)}class oce{border="#3F4964";borderWidth=11;pipe="#E79180";pipeWidth=6;content="#DADADA";contentWidth=6;contentSpace=20;imageAnimation}class ace{images=[];path=null;constructor(o,t,i){if(this.path=t,!o||!this.path)throw new Error("Pipe Image or track element not found.");for(let n=0;n<i;n++){const a=o.cloneNode(!0);this.images.push(a)}this.images.forEach(n=>{this.path.parentElement?.appendChild(n)})}move(o){if(!this.path)return;const t=this.path.getTotalLength();this.images.forEach((i,n)=>{const s=this.path.getPointAtLength((o+n/this.images.length)%1*t),d=i.getBoundingClientRect(),I=d.height/2;i.setAttribute("x",""+(s.x-d.width/2)),i.setAttribute("y",""+(s.y-I))})}}class sce{duration;tZero=0;multiImageInPath;loop;direction;isRunning=!1;animationFrameId=null;constructor(o,t,i=!0,n="forward"){this.multiImageInPath=o,this.duration=t,this.loop=i,this.direction=n}initialize(){this.multiImageInPath.move("forward"===this.direction?0:1)}start(){this.isRunning||(this.isRunning=!0,this.tZero=Date.now(),requestAnimationFrame(()=>this.run()))}stop(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.isRunning=!1}setDirection(o){this.direction=o}run(){if(!this.isRunning)return;let t=(Date.now()-this.tZero)/this.duration,i=t%1;"reverse"===this.direction&&(i=1-i),this.multiImageInPath.move(i),this.loop||t<1?this.animationFrameId=requestAnimationFrame(()=>this.run()):this.onFinish()}onFinish(){this.loop&&setTimeout(()=>this.start(),1e3)}}const lce=["panel"],cce=["slider"];class y4{orientation="vertical";direction="ltr";fontFamily="Sans-serif";shape={baseColor:"#cdcdcd",connectColor:"#262c3b",handleColor:"#3f4964"};marker={color:"#222222",subWidth:5,subHeight:1,fontSize:18,divHeight:2,divWidth:12};range={min:0,max:100};step=1;pips={mode:"values",values:[0,50,100],density:4};tooltip={type:"none",decimals:0,background:"#FFF",color:"#000",fontSize:12}}let b4=(()=>{class r{id;panel;slider;options;size={w:0,h:0};padding=40;defOptions=new y4;uiSlider;onUpdate;uiWorking=!1;uiWorkingTimeout;constructor(){}ngOnInit(){this.options=Object.assign(this.defOptions,this.options)}ngAfterViewInit(){setTimeout(()=>{this.init()},200)}resize(t,i){this.size.h=t-2*this.padding,this.size.w=i-2*this.padding,this.init()}ngOnDestroy(){try{this.slider.nativeElement.remove(),this.panel.nativeElement.remove(),this.uiWorkingTimeout&&clearTimeout(this.uiWorkingTimeout),this.uiSlider&&(this.uiSlider.off(),this.uiSlider.destroy(),delete this.uiSlider,delete this.onUpdate)}catch{}}setOptions(t){let i=!1;return(this.options.orientation!==t.orientation||JSON.stringify(this.options.range)!==JSON.stringify(t.range)||JSON.stringify(this.options.pips)!==JSON.stringify(t.pips)||JSON.stringify(this.options.marker)!==JSON.stringify(t.marker)||JSON.stringify(this.options.tooltip)!==JSON.stringify(t.tooltip))&&(i=!0),t.fontFamily&&(this.panel.nativeElement.style.fontFamily=t.fontFamily),this.options=t,!!i&&(this.init(),!0)}getOptions(){return this.options}init(){"vertical"===this.options.orientation?(this.slider.nativeElement.style.height=this.size.h+"px",this.slider.nativeElement.style.width=null):(this.slider.nativeElement.style.width=this.size.w+"px",this.slider.nativeElement.style.height=null);let t=[!1];if(("hide"===this.options.tooltip.type||"show"===this.options.tooltip.type)&&(t=[wNumb({decimals:this.options.tooltip.decimals})]),this.uiSlider&&(this.uiSlider.off(),this.uiSlider.destroy()),this.uiSlider=noUiSlider.create(this.slider.nativeElement,{start:[this.options.range.min+Math.abs(this.options.range.max-this.options.range.min)/2],connect:[!0,!1],orientation:this.options.orientation,direction:this.options.direction,tooltips:t,range:this.options.range,step:this.options.step,pips:{mode:"values",values:this.options.pips.values,density:this.options.pips.density},shape:this.options.shape,marker:this.options.marker}),"show"===this.options.tooltip.type)(i=this.uiSlider.target.getElementsByClassName("noUi-tooltip"))&&i.length>0&&(i[0].style.display="block");else if("hide"===this.options.tooltip.type){var i;(i=this.uiSlider.target.getElementsByClassName("noUi-active noUi-tooltip"))&&i.length>0&&(i[0].style.display="block")}"none"!==this.options.tooltip.type&&(i=this.uiSlider.target.getElementsByClassName("noUi-tooltip"))&&i.length>0&&(i[0].style.color=this.options.tooltip.color,i[0].style.background=this.options.tooltip.background,i[0].style.fontSize=this.options.tooltip.fontSize+"px");let n=this;this.uiSlider.on("slide",function(a,s){n.onUpdate&&(n.resetWorkingTimeout(),n.onUpdate(a[s]))})}resetWorkingTimeout(){this.uiWorking=!0,this.uiWorkingTimeout&&clearTimeout(this.uiWorkingTimeout);let t=this;this.uiWorkingTimeout=setTimeout(function(){t.uiWorking=!1},1e3)}setValue(t){this.uiWorking||this.uiSlider.set(t)}bindUpdate(t){this.onUpdate=t}currentValue(){return parseFloat(this.uiSlider.get())}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["ngx-nouislider"]],viewQuery:function(i,n){if(1&i&&(e.GBs(lce,5),e.GBs(cce,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.panel=a.first),e.mGM(a=e.lsd())&&(n.slider=a.first)}},inputs:{id:"id",options:"options"},decls:4,vars:0,consts:[[2,"margin","40px 40px 40px 40px"],["panel",""],["id","mySlider",1,"myslider-container"],["slider",""]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.nrm(2,"div",2,3),e.k0s())},styles:[".myslider-container[_ngcontent-%COMP%]{z-index:1;margin:auto}"]})}return r})(),lh=(()=>{class r{static TypeTag="svg-ext-html_slider";static LabelTag="HtmlSlider";static prefix="D-SLI_";static getSignals(t){let i=[];return t.variableId&&i.push(t.variableId),t.alarmId&&i.push(t.alarmId),t.actions&&t.actions.forEach(n=>{i.push(n.variableId)}),i}static getDialogType(){return Ho.Slider}static bindEvents(t,i,n){return i&&i.bindUpdate(a=>{let s=new It.Jh;s.type="on",s.ga=t,s.value=a,n(s)}),null}static processValue(t,i,n,a,s){try{if(s){let d=parseFloat(n.value);d=Number.isNaN(d)?Number(n.value):parseFloat(d.toFixed(5)),s.setValue(d)}}catch(d){console.error(d)}}static initElement(t,i,n,a){let s=document.getElementById(t.id);if(s){s?.setAttribute("data-name",t.name);let d=ii.Aq.searchTreeStartWith(s,this.prefix);if(d){const m=i.resolveComponentFactory(b4),I=n.createComponent(m);return d.innerHTML="",I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement),I.instance.resize(d.clientHeight,d.clientWidth),t.property&&t.property.options&&(I.instance.setOptions(t.property.options)||I.instance.init()),I.instance.myComRef=I,I.instance.name=t.name,I.instance}}}static initElementColor(t,i,n){n&&n.setAttribute("fill",t)}static resize(t,i,n,a){let s=document.getElementById(t.id);if(s){let d=ii.Aq.searchTreeStartWith(s,this.prefix);if(d){const m=i.resolveComponentFactory(b4),I=n.createComponent(m);return d.innerHTML="",I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement),I.instance.resize(d.clientHeight,d.clientWidth),a&&I.instance.setOptions(a),I.instance}}}static getFillColor(t){if(t)return t.getAttribute("fill")}static detectChange(t,i,n){let a;return t.property&&t.property.options&&(a=t.property.options),r.initElement(t,i,n,a)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),U_=(()=>{class r extends Io{static TypeTag="svg-ext-own_ctrl-iframe";static LabelTag="HtmlIframe";static prefixD="D-OXC_";constructor(){super()}static getSignals(t){let i=[];return t.variableId&&i.push(t.variableId),i}static getDialogType(){return Ho.Iframe}static processValue(t,i,n){try{if(n.value&&i?.node?.children?.length>=1){const s=ii.Aq.searchTreeStartWith(i.node,this.prefixD).querySelector("iframe");s.getAttribute("src")!==n.value&&ii.Aq.isValidUrl(n.value)&&s.setAttribute("src",n.value)}}catch(a){console.error(a)}}static initElement(t,i){let n=null,a=document.getElementById(t.id);if(a&&(a?.setAttribute("data-name",t.name),n=ii.Aq.searchTreeStartWith(a,this.prefixD),n)){n.innerHTML="";let s=document.createElement("iframe");s.setAttribute("name",t.name),s.style.width="100%",s.style.height="100%",s.style.border="none",s.style["background-color"]="#F1F3F4",i||(n.innerHTML="iframe",s.style.overflow="hidden",s.style["pointer-events"]="none"),s.setAttribute("title","iframe"),t.property&&t.property.address&&i&&(ii.Aq.isValidUrl(t.property.address)?s.setAttribute("src",t.property.address):console.error("IFRAME URL not valid")),s.innerHTML="&nbsp;",n.appendChild(s)}return n}static detectChange(t){return r.initElement(t,!1)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-html-iframe"]],features:[e.Vt3],decls:0,vars:0,template:function(i,n){}})}return r})();var LN=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,YN=/\[([^]*?)\]/gm;function NN(r,o){for(var t=[],i=0,n=r.length;i<n;i++)t.push(r[i].substr(0,o));return t}var jN=function(r){return function(o,t){var n=t[r].map(function(a){return a.toLowerCase()}).indexOf(o.toLowerCase());return n>-1?n:null}};function j0(r){for(var o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];for(var i=0,n=o;i<n.length;i++){var a=n[i];for(var s in a)r[s]=a[s]}return r}var GN=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],UN=["January","February","March","April","May","June","July","August","September","October","November","December"],uce=NN(UN,3),zN={dayNamesShort:NN(GN,3),dayNames:GN,monthNamesShort:uce,monthNames:UN,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!=10?1:0)*r%10]}},aD=j0({},zN),su=function(r,o){for(void 0===o&&(o=2),r=String(r);r.length<o;)r="0"+r;return r},fce={D:function(r){return String(r.getDate())},DD:function(r){return su(r.getDate())},Do:function(r,o){return o.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return su(r.getDay())},ddd:function(r,o){return o.dayNamesShort[r.getDay()]},dddd:function(r,o){return o.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return su(r.getMonth()+1)},MMM:function(r,o){return o.monthNamesShort[r.getMonth()]},MMMM:function(r,o){return o.monthNames[r.getMonth()]},YY:function(r){return su(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return su(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return su(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return su(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return su(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return su(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return su(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return su(r.getMilliseconds(),3)},a:function(r,o){return r.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(r,o){return r.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(r){var o=r.getTimezoneOffset();return(o>0?"-":"+")+su(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4)},Z:function(r){var o=r.getTimezoneOffset();return(o>0?"-":"+")+su(Math.floor(Math.abs(o)/60),2)+":"+su(Math.abs(o)%60,2)}},sD=(jN("monthNamesShort"),jN("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"}),Sp=function(r,o,t){if(void 0===o&&(o=sD.default),void 0===t&&(t={}),"number"==typeof r&&(r=new Date(r)),"[object Date]"!==Object.prototype.toString.call(r)||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");var i=[];o=(o=sD[o]||o).replace(YN,function(a,s){return i.push(s),"@@@"});var n=j0(j0({},aD),t);return(o=o.replace(LN,function(a){return fce[a](r,n)})).replace(/@@@/g,function(){return i.shift()})},lD=ie(2578);let ZN=(()=>{class r{static columnDelimiter=",";static lineDelimiter="\n";constructor(){}exportTagsData(t){let i="",a=`${t.name}.csv`;for(let d=0;d<t.columns.length;d++)i+=`${t.columns[d].header}`,d<t.columns.length-1&&(i+=`${r.columnDelimiter}`);i+=`${r.lineDelimiter}`;for(let d=0;d<t.columns[0].values.length;d++){for(let m=0;m<t.columns.length;m++)i+=`${t.columns[m].values[d]}`,m<t.columns.length-1&&(i+=`${r.columnDelimiter}`);i+=`${r.lineDelimiter}`}let s=new Blob([i],{type:"text/plain;charset=utf-8"});lD.saveAs(s,a)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class _ce{name;property;highhigh;high;low;info;actions;value}var Qd=function(r){return r.HIGH_HIGH="highhigh",r.HIGH="high",r.LOW="low",r.INFO="info",r}(Qd||{});class yce{variableId;permission;permissionRoles}class w4{checkdelay;min;max;timedelay;static isValid(o){return!!(o&&o.checkdelay&&ii.Aq.isNumeric(o.min)&&ii.Aq.isNumeric(o.max))}}class ww extends w4{enabled;text;group;ackmode;bkcolor;color}class $N{enabled;values=[];static isValid(o){if(o.values.length)for(let t=0;t<o.values.length;t++)if(w4.isValid(o.values[t]))return!0;return!1}}class bce extends w4{type;actparam;variableId;actoptions={}}var lu=function(r){return r.float="alarm.ack-float",r.ackactive="alarm.ack-active",r.ackpassive="alarm.ack-passive",r}(lu||{}),cD=function(r){return r.ontime="ontime",r.text="text",r.type="type",r.group="group",r.status="status",r.ack="ack",r.history="history",r}(cD||{});const Cw=Object.values(cD);var C4=function(r){return r.ontime="ontime",r.text="text",r.type="type",r.group="group",r.status="status",r.offtime="offtime",r.acktime="acktime",r.userack="userack",r.history="history",r}(C4||{});const AD=Object.values(C4);var DA=function(r){return r.popup="alarm.action-popup",r.setView="alarm.action-onsetview",r.setValue="alarm.action-onsetvalue",r.runScript="alarm.action-onRunScript",r.toastMessage="alarm.action-toastMessage",r}(DA||{}),E4=function(r){return r.ontime="ontime",r.text="text",r.type="type",r.group="group",r.status="status",r.offtime="offtime",r.acktime="acktime",r.ackuser="userack",r}(E4||{}),Ew=function(r){return r.N="alarm.status-active",r.NF="alarm.status-passive",r.NA="alarm.status-active-ack",r}(Ew||{}),Bw=function(r){return r.highhigh="alarm.property-highhigh",r.high="alarm.property-high",r.low="alarm.property-low",r.info="alarm.property-info",r}(Bw||{});let B4=(()=>{class r{rcgiService;endPointConfig=Kg.G.getURL();server;constructor(t){this.rcgiService=t,this.server=t.rcgi}getReportsDir(t){return this.server.getReportsDir(t)}getReportsQuery(t){return this.server.getReportsQuery(t)}buildReport(t){return this.server.buildReport(t)}removeReportFile(t){return this.server.removeReportFile(t)}static \u0275fac=function(i){return new(i||r)(e.KVO(p_))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class wce{id;name;receiver;scheduling;docproperty;content;constructor(o){this.id=o,this.docproperty=this.defaultDocProperty(),this.scheduling=ii.Aq.getEnumKey(Mw,Mw.week),this.content={items:[]}}defaultDocProperty(){return{pageSize:"A4",pageOrientation:"portrait",pageMargins:[60,40,40,40],fontName:"Helvetica"}}}var Mw=function(r){return r.none="report.scheduling-none",r.day="report.scheduling-day",r.week="report.scheduling-week",r.month="report.scheduling-month",r}(Mw||{}),qN=function(r){return r[r.timestamp=0]="timestamp",r[r.tag=1]="tag",r}(qN||{}),Nf=function(r){return r.text="report.item-type-text",r.table="report.item-type-table",r.alarms="report.item-type-alarms",r.chart="report.item-type-chart",r}(Nf||{}),Qp=function(r){return r.one="report.item-daterange-none",r.day="report.item-daterange-day",r.week="report.item-daterange-week",r.month="report.item-daterange-month",r}(Qp||{}),dD=function(r){return r.min5="report.item-interval-min5",r.min10="report.item-interval-min10",r.min30="report.item-interval-min30",r.hour="report.item-interval-hour",r.day="report.item-interval-day",r}(dD||{}),uD=function(r){return r.min="report.item-function-min",r.max="report.item-function-max",r.average="report.item-function-average",r.sum="report.item-function-sum",r}(uD||{}),M4=function(r){return r.name="name",r.ontime="ontime",r.download="download",r.delete="delete",r}(M4||{});const x4=Object.values(M4);let D4=(()=>{class r{rcgiService;translateService;toastr;server;constructor(t,i,n){this.rcgiService=t,this.translateService=i,this.toastr=n,this.server=t.rcgi}getReportFile(t){return this.server.downloadFile(t,ej.reportDownload)}notifyError(t){var i="";this.translateService.get("msg.report-build-error").subscribe(n=>{i=n}),this.toastr.error(i,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}static \u0275fac=function(i){return new(i||r)(e.KVO(p_),e.KVO(Vi.c$),e.KVO(Gg.tw))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ej=function(r){return r.reportDownload="REPORT-DOWNLOAD",r}(ej||{});function Ece(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",13)(1,"input",14),e.bIt("keyup",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.applyFilter(n.target.value))}),e.nI1(2,"translate"),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(1),e.xc7("background-color",t.tableOptions.header.background)("color",t.tableOptions.row.color),e.FS9("placeholder",e.bMT(2,5,"table.history-filter"))}}function Bce(r,o){if(1&r&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(4);e.xc7("color",i.tableOptions.row.color)("background-color",i.tableOptions.row.background),e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Mce(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.tableOptions.lastRange=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.onRangeChanged(n.source.value))}),e.DNE(2,Bce,2,6,"mat-option",18),e.nI1(3,"enumToArray"),e.k0s(),e.j41(4,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onDateRange())}),e.j41(5,"mat-icon",20),e.EFF(6,"access_time"),e.k0s()(),e.j41(7,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onExportData())}),e.j41(8,"mat-icon",21),e.EFF(9,"vertical_align_bottom"),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(1),e.xc7("color",t.tableOptions.row.color)("background-color",t.tableOptions.row.background),e.Y8G("value",t.tableOptions.lastRange),e.R7$(1),e.Y8G("ngForOf",e.bMT(3,14,t.lastRangeType)),e.R7$(2),e.xc7("color",t.tableOptions.row.color)("background-color",t.tableOptions.row.background),e.R7$(3),e.xc7("color",t.tableOptions.row.color)("background-color",t.tableOptions.row.background)}}function xce(r,o){if(1&r&&(e.j41(0,"div"),e.nrm(1,"button",23),e.j41(2,"button",24)(3,"mat-icon",20),e.EFF(4,"access_time"),e.k0s()(),e.j41(5,"button",24)(6,"mat-icon",21),e.EFF(7,"vertical_align_bottom"),e.k0s()()()),2&r){const t=e.XpG(3);e.R7$(1),e.xc7("color",t.tableOptions.row.color)("background-color",t.tableOptions.row.background),e.R7$(1),e.xc7("color",t.tableOptions.row.color)("background-color",t.tableOptions.row.background),e.R7$(3),e.xc7("color",t.tableOptions.row.color)("background-color",t.tableOptions.row.background)}}function Dce(r,o){if(1&r&&(e.j41(0,"div",15),e.DNE(1,Mce,10,16,"div",16),e.DNE(2,xce,8,12,"div",16),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.isEditor),e.R7$(1),e.Y8G("ngIf",t.isEditor)}}const Ice=function(){return[10,25,100]};function kce(r,o){if(1&r&&e.nrm(0,"mat-paginator",25),2&r){const t=e.XpG(2);e.xc7("color",t.tableOptions.row.color),e.Y8G("pageSizeOptions",e.lJ4(4,Ice))("pageSize",25)}}function Tce(r,o){if(1&r&&(e.j41(0,"div",9),e.DNE(1,Ece,3,7,"div",10),e.DNE(2,Dce,3,2,"div",11),e.DNE(3,kce,1,5,"mat-paginator",12),e.k0s()),2&r){const t=e.XpG();e.xc7("background-color",t.tableOptions.row.background),e.R7$(1),e.Y8G("ngIf",t.tableOptions.filter.show),e.R7$(1),e.Y8G("ngIf",t.tableOptions.daterange.show),e.R7$(1),e.Y8G("ngIf",t.tableOptions.paginator.show)}}function Fce(r,o){if(1&r&&(e.j41(0,"th",29),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit,i=e.XpG();e.xc7("width",null!=i.columnsStyle[t]&&i.columnsStyle[t].width?i.columnsStyle[t].width:"auto","px")("color",null!=i.columnsStyle[t]&&i.columnsStyle[t].color?i.columnsStyle[t].color:null==i.tableOptions.header?null:i.tableOptions.header.color)("text-align",null!=i.columnsStyle[t]&&i.columnsStyle[t].align?i.columnsStyle[t].align:"left")("font-size",i.tableOptions.header.fontSize,"px"),e.R7$(1),e.SpI(" ",null==i.columnsStyle[t]?null:i.columnsStyle[t].label," ")}}function Sce(r,o){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG().$implicit;e.R7$(1),e.SpI(" ",t[i]," ")}}function Qce(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG(2);return e.Njj(a.onAckAlarm(n))}),e.j41(1,"mat-icon"),e.EFF(2,"check_circle_outline"),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit;e.Y8G("disabled",0===t.toack)}}function Rce(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG(2);return e.Njj(a.onDownloadReport(n))}),e.j41(1,"mat-icon"),e.EFF(2,"vertical_align_bottom"),e.k0s()()}}function Pce(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG(2);return e.Njj(a.onRemoveReportFile(n))}),e.j41(1,"mat-icon"),e.EFF(2,"delete_forever"),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit;e.Y8G("disabled",!t.deletable)}}function Oce(r,o){if(1&r&&(e.EFF(0),e.DNE(1,Qce,3,1,"button",33),e.DNE(2,Rce,3,0,"button",34),e.DNE(3,Pce,3,1,"button",35)),2&r){const t=e.XpG().$implicit,i=e.XpG().$implicit,n=e.XpG();e.SpI(" ",null==t[i]?null:t[i].stringValue," "),e.R7$(1),e.Y8G("ngIf",i===n.alarmColumnType.ack&&t.toack>=0),e.R7$(1),e.Y8G("ngIf",i===n.reportColumnType.download),e.R7$(1),e.Y8G("ngIf",i===n.reportColumnType.delete)}}const Lce=function(r,o,t){return{"width.px":r,"text-align":o,"font-size.px":t}};function Yce(r,o){if(1&r&&(e.j41(0,"td",30),e.DNE(1,Sce,2,1,"ng-container",31),e.DNE(2,Oce,4,4,"ng-template",null,32,e.C5r),e.k0s()),2&r){const t=e.sdS(3),i=e.XpG().$implicit,n=e.XpG();e.Y8G("ngStyle",e.sMw(3,Lce,n.columnsStyle[i].width,n.columnsStyle[i].align,n.tableOptions.row.fontSize)),e.R7$(1),e.Y8G("ngIf",n.setOfSourceTableData)("ngIfElse",t)}}function Nce(r,o){1&r&&(e.qex(0,26),e.DNE(1,Fce,2,9,"th",27),e.DNE(2,Yce,4,7,"td",28),e.bVm()),2&r&&e.Y8G("matColumnDef",o.$implicit)}function jce(r,o){if(1&r&&e.nrm(0,"mat-header-row",39),2&r){const t=e.XpG();e.xc7("height",t.tableOptions.header.height,"px")("background-color",t.tableOptions.header.background)("border-bottom-color",t.tableOptions.gridColor)("display",t.tableOptions.header.show?"flex":"none")}}const hD=function(r,o,t,i,n){return{cursor:r,"height.px":o,"background-color":t,"border-bottom-color":i,color:n}};function Gce(r,o){if(1&r&&e.nrm(0,"mat-row",41),2&r){const t=o.$implicit,i=e.XpG(2);e.Y8G("ngStyle",e.s1E(1,hD,i.isSelectable()?"pointer":"unset",i.tableOptions.row.height,i.isSelected(t)?i.tableOptions.selection.background:i.tableOptions.row.background,i.tableOptions.gridColor,i.isSelected(t)?i.tableOptions.selection.color:i.tableOptions.row.color))}}function Uce(r,o){if(1&r&&(e.qex(0),e.DNE(1,Gce,1,7,"mat-row",40),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("matRowDefColumns",t.displayedColumns)}}function zce(r,o){if(1&r&&e.nrm(0,"mat-row",41),2&r){const t=o.$implicit,i=e.XpG(2);e.Y8G("ngStyle",e.s1E(1,hD,i.isSelectable()?"pointer":"unset",i.tableOptions.row.height,t.bkcolor,i.tableOptions.gridColor,t.color))}}function Hce(r,o){if(1&r&&(e.qex(0),e.DNE(1,zce,1,7,"mat-row",40),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("matRowDefColumns",t.displayedColumns)}}function Vce(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-row",43),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectRow(a))}),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.Y8G("ngStyle",e.s1E(1,hD,i.isSelectable()?"pointer":"unset",i.tableOptions.row.height,i.isSelected(t)?i.tableOptions.selection.background:i.tableOptions.row.background,i.tableOptions.gridColor,i.isSelected(t)?i.tableOptions.selection.color:i.tableOptions.row.color))}}function Jce(r,o){if(1&r&&(e.qex(0),e.DNE(1,Vce,1,7,"mat-row",42),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("matRowDefColumns",t.displayedColumns)}}function Wce(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-row",43),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectRow(a))}),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.Y8G("ngStyle",e.s1E(1,hD,i.isSelectable()?"pointer":"unset",i.tableOptions.row.height,i.isSelected(t)?i.tableOptions.selection.background:i.tableOptions.row.background,i.tableOptions.gridColor,i.isSelected(t)?i.tableOptions.selection.color:i.tableOptions.row.color))}}function Kce(r,o){if(1&r&&(e.qex(0),e.DNE(1,Wce,1,7,"mat-row",42),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("matRowDefColumns",t.displayedColumns)}}const Xce=function(r){return{"reload-active":r}};function Zce(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",44)(1,"button",45),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRefresh())}),e.j41(2,"mat-icon",46),e.EFF(3,"autorenew"),e.k0s()()()}if(2&r){const t=e.XpG();e.xc7("top",t.withToolbar?45:0,"px"),e.R7$(1),e.xc7("color",t.tableOptions.header.color),e.R7$(1),e.Y8G("ngClass",e.eq3(5,Xce,t.reloadActive))}}function $ce(r,o){1&r&&(e.j41(0,"div",47),e.nrm(1,"mat-spinner",48),e.k0s())}let xw=(()=>{class r{dataService;projectService;hmiService;scriptService;reportsService;languageService;commandService;dialog;translateService;table;sort;trigger;paginator;onTimeRange$=new Ca.t(null);rxjsPollingTimer;statusText=Ew;priorityText=Bw;alarmColumnType=cD;reportColumnType=M4;loading=!1;id;type;isEditor;displayedColumns=[];columnsStyle={};dataSource=new Ln([]);tagsMap={};timestampMap={};tagsColumnMap={};range={from:Date.now(),to:Date.now()};tableType=It.lp;tableHistoryType=It.lp.history;lastRangeType=It.a2;tableOptions=r.DefaultOptions();data=[];reloadActive=!1;withToolbar=!1;lastDaqQuery=new It.FV;destroy$=new An.B;historyDateformat="";addValueInterval=0;pauseMemoryValue={};setOfSourceTableData=!1;selectedRow=null;events;eventSelectionType=ii.Aq.getEnumKey(It.e6,It.e6.select);dataFilter;constructor(t,i,n,a,s,d,m,I,J){this.dataService=t,this.projectService=i,this.hmiService=n,this.scriptService=a,this.reportsService=s,this.languageService=d,this.commandService=m,this.dialog=I,this.translateService=J}ngOnInit(){this.dataSource.data=this.data,Object.keys(this.lastRangeType).forEach(t=>{this.translateService.get(this.lastRangeType[t]).subscribe(i=>{this.lastRangeType[t]=i})}),this.dataSource.filterPredicate=(t,i)=>{const n=Object.values(t).map(a=>a.stringValue);for(let a=0;a<n.length;a++)if(n[a].toLowerCase().includes(i))return!0;return!1},this.isAlarmsType()?(Object.keys(this.statusText).forEach(t=>{this.statusText[t]=this.translateService.instant(this.statusText[t])}),Object.keys(this.priorityText).forEach(t=>{this.priorityText[t]=this.translateService.instant(this.priorityText[t])}),this.type===It.lp.alarms&&this.startPollingAlarms()):this.isReportsType()&&this.startPollingReports()}ngAfterViewInit(){this.sort.disabled=this.type===It.lp.data,this.bindTableControls()}ngOnDestroy(){try{this.destroy$.next(null),this.destroy$.complete()}catch(t){console.error(t)}}startPollingAlarms(){this.rxjsPollingTimer=(0,Co.O)(0,2500),this.rxjsPollingTimer.pipe((0,jn.Q)(this.destroy$),(0,Zs.n)(()=>this.hmiService.getAlarmsValues(this.dataFilter))).subscribe(t=>{this.updateAlarmsTable(t)})}startPollingReports(){this.rxjsPollingTimer=(0,Co.O)(0,3e5),this.rxjsPollingTimer.pipe((0,jn.Q)(this.destroy$),(0,Zs.n)(()=>this.reportsService.getReportsQuery(this.dataFilter))).subscribe(t=>{this.updateReportsTable(t)})}onRangeChanged(t){this.isEditor||t&&(this.range.from=Date.now(),this.range.to=Date.now(),this.range.from=new Date(this.range.from).setTime(new Date(this.range.from).getTime()-60*qce.TableRangeToHours(t)*60*1e3),this.lastDaqQuery.event=t,this.lastDaqQuery.gid=this.id,this.lastDaqQuery.sids=this.getVariableIdsForQuery(),this.lastDaqQuery.from=this.range.from,this.lastDaqQuery.to=this.range.to,this.onDaqQuery())}onDateRange(){this.dialog.open(TO,{panelClass:"light-dialog-container"}).afterClosed().subscribe(i=>{i&&(this.range.from=i.start,this.range.to=i.end,this.lastDaqQuery.gid=this.id,this.lastDaqQuery.sids=this.getVariableIdsForQuery(),this.lastDaqQuery.from=i.start,this.lastDaqQuery.to=i.end,this.onDaqQuery())})}onDaqQuery(t){t&&(this.lastDaqQuery=ii.Aq.mergeDeep(this.lastDaqQuery,t)),this.onTimeRange$.next(this.lastDaqQuery),this.type===It.lp.history&&this.setLoading(!0)}onRefresh(){this.onRangeChanged(this.lastDaqQuery.event),this.reloadActive=!0}setOptions(t){this.tableOptions={...this.tableOptions,...t},this.loadData(),this.onRangeChanged(this.tableOptions.lastRange||It.a2.last1h)}addValue(t,i,n){if(this.type===It.lp.data&&this.tagsMap[t])this.tagsMap[t].value=n,this.tagsMap[t].cells.forEach(a=>{a.stringValue=ii.Aq.formatValue(this.tagsMap[t].value,a.valueFormat)}),this.tagsMap[t].rows.forEach(a=>{this.timestampMap[a]&&this.timestampMap[a].forEach(s=>{s.stringValue=Sp(new Date(1e3*i),s.valueFormat||"YYYY-MM-DDTHH:mm:ss")})});else if(this.type===It.lp.history){if(this.tableOptions.realtime){if(this.addValueInterval&&this.pauseMemoryValue[t]&&ii.Aq.getTimeDifferenceInSeconds(this.pauseMemoryValue[t])<this.addValueInterval)return;this.pauseMemoryValue[t]=1e3*i}this.addRowDataToTable(1e3*i,t,n)}}setValues(t){const n={H:36e5,m:6e4,s:1e3}[this.historyDateformat?.[this.historyDateformat?.length-1]]??1,a=new Set,s=new Map,d=this.displayedColumns.map(J=>this.columnsStyle[J]).filter(J=>J.type===It.Jf.variable);t.forEach((J,oe)=>{const Ce=d[oe];Ce&&J.forEach($e=>{const nt=Math.round($e.dt/n)*n;s.has(nt)||s.set(nt,{}),s.get(nt)[Ce.id]=$e.value,a.add(nt)})});const m=Array.from(a).sort((J,oe)=>oe-J),I=[];m.forEach(J=>{const oe={};this.displayedColumns.forEach(Ce=>{const $e=this.columnsStyle[Ce];if(oe[Ce]={stringValue:""},$e.type===It.Jf.timestamp)oe[Ce].stringValue=Sp(new Date(J),$e.valueFormat||"YYYY-MM-DDTHH:mm:ss"),oe[Ce].rowIndex=J;else if($e.type===It.Jf.device)oe[Ce].stringValue=$e.exname;else if($e.type===It.Jf.variable){const nt=s.get(J)?.[Ce]??null;oe[Ce].stringValue=ii.Aq.isNumeric(nt)?ii.Aq.formatValue(nt,$e.valueFormat):nt??""}}),I.push(oe)});for(const J of d){let oe="";for(let Ce=I.length-1;Ce>=0;Ce--)I[Ce][J.id].stringValue?oe=I[Ce][J.id].stringValue:I[Ce][J.id].stringValue=oe}this.dataSource.data=I,this.bindTableControls(),setTimeout(()=>this.setLoading(!1),500),this.reloadActive=!1}updateAlarmsTable(t){let i=[];t.forEach(n=>{let a={type:{stringValue:this.priorityText[n.type]},name:{stringValue:n.name},status:{stringValue:this.statusText[n.status]},text:{stringValue:this.languageService.getTranslation(n.text)??n.text},group:{stringValue:this.languageService.getTranslation(n.group)??n.group},ontime:{stringValue:Sp(new Date(n.ontime),"YYYY.MM.DD HH:mm:ss")},color:n.color,bkcolor:n.bkcolor,toack:n.toack};n.offtime&&(a.offtime={stringValue:Sp(new Date(n.offtime),"YYYY.MM.DD HH:mm:ss")}),n.acktime&&(a.acktime={stringValue:Sp(new Date(n.acktime),"YYYY.MM.DD HH:mm:ss")}),n.userack&&(a.userack={stringValue:Sp(new Date(n.userack),"YYYY.MM.DD HH:mm:ss")}),i.push(a)}),this.dataSource.data=i}updateReportsTable(t){let i=[];t.forEach(n=>{let a={name:{stringValue:n.fileName},ontime:{stringValue:Sp(new Date(n.created),"YYYY.MM.DD HH:mm:ss")},deletable:n.deletable,fileName:n.fileName};i.push(a)}),this.dataSource.data=i}isSelectable(){return this.events?.some(t=>t.type===this.eventSelectionType)}selectRow(t){this.isSelectable()&&(this.selectedRow=t,this.events.forEach(i=>{this.runScript(i,this.selectedRow)}))}isSelected(t){return this.selectedRow===t}runScript(t,i){if(t.actparam){let n=ii.Aq.clone(this.projectService.getScripts().find(a=>a.id==t.actparam));n.parameters=ii.Aq.clone(t.actoptions[qo.od]),n.parameters.forEach(a=>{ii.Aq.isNullOrUndefined(a.value)&&(a.value=i)}),this.scriptService.runScript(n).subscribe(a=>{},a=>{console.error(a)})}}addRowDataToTable(t,i,n){let a={},s=null,d=null,m=null;for(let I=0;I<this.displayedColumns.length;I++){let J=this.columnsStyle[this.displayedColumns[I]];if(a[J.id]={stringValue:""},J.type===It.Jf.timestamp)s=J.id,a[J.id].stringValue=Sp(new Date(t),J.valueFormat||"YYYY-MM-DDTHH:mm:ss"),a[J.id].timestamp=t;else if(J.variableId===i){const oe=n;a[J.id].stringValue=ii.Aq.isNumeric(oe)?ii.Aq.formatValue(oe,J.valueFormat):oe,d=J.id}else J.type===It.Jf.device&&(a[J.id].stringValue=J.exname,m=J.id)}if(d){const I=this.dataSource.data[0];if(I&&I[s].stringValue===a[s].stringValue)I[d].stringValue=a[d].stringValue,m&&(I[m].stringValue=a[m].stringValue);else{this.dataSource.data.unshift(a);const J=this.lastDaqQuery.to-this.lastDaqQuery.from;this.lastDaqQuery.to=a[s].timestamp,this.lastDaqQuery.from=this.lastDaqQuery.to-J;let oe=0;for(let Ce=this.dataSource.data.length-1;Ce>=0&&this.dataSource.data[Ce][s].timestamp<this.lastDaqQuery.from;Ce--)oe++;oe&&this.dataSource.data.splice(-oe,oe),this.dataSource=new Ln(this.dataSource.data)}}}setProperty(t,i){return!ii.Aq.isNullOrUndefined(this[t])&&(this[t]=i,!0)}setTableAndData(t){this.setOfSourceTableData=!0,t.columns&&(this.displayedColumns=t.columns.map(i=>i.id),this.columnsStyle=t.columns,t.columns.forEach(i=>{let n=i;n.fontSize=t.header?.fontSize,n.color=n.color||t.header?.color,n.background=n.background||t.header?.background,n.width=n.width||100,n.align=n.align||It.Ar.left,this.columnsStyle[n.id]=n})),t.rows&&(this.dataSource=new Ln(t.rows)),this.bindTableControls()}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}setLoading(t){t&&(0,Co.O)(1e4).pipe((0,jn.Q)(this.destroy$)).subscribe(i=>{this.loading=!1}),this.loading=t}onExportData(){let t={name:"data",columns:[]},i={};Object.values(this.columnsStyle).forEach(n=>{i[n.id]={header:`${n.label}`,values:[]}}),this.dataSource.data.forEach(n=>{Object.keys(n).forEach(a=>{i[a].values.push(n[a].stringValue)})}),t.columns=Object.values(i),this.dataService.exportTagsData(t)}bindTableControls(){this.type===It.lp.history&&this.tableOptions.paginator.show&&(this.dataSource.paginator=this.paginator),this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,i)=>t[i].stringValue}loadData(){let t=[];if(this.columnsStyle={},(this.isAlarmsType()?this.tableOptions.alarmsColumns:this.isReportsType()?this.tableOptions.reportsColumns:this.tableOptions.columns).forEach(n=>{t.push(n.id),this.columnsStyle[n.id]=n,this.type===It.lp.history&&(n.variableId&&this.addColumnToMap(n),n.type===It.Jf.timestamp&&(this.historyDateformat=n.valueFormat))}),this.displayedColumns=t,this.type===It.lp.data){this.data=[];for(let n=0;n<this.tableOptions.rows.length;n++){let s={};this.tableOptions.rows[n].cells.forEach(d=>{d&&(s[d.id]={stringValue:"",rowIndex:n,...d},this.mapCellContent(s[d.id]))}),this.data.push(s)}}this.dataSource.data=this.data,this.withToolbar=this.type===this.tableHistoryType&&(this.tableOptions.paginator.show||this.tableOptions.filter.show||this.tableOptions.daterange.show)}mapCellContent(t){t.stringValue="",t.type===It.Jf.variable?t.variableId&&(this.isEditor&&(t.stringValue=numeral("123.56").format(t.valueFormat)),this.addVariableToMap(t)):t.type===It.Jf.timestamp?(this.isEditor&&(t.stringValue=Sp(new Date(0),t.valueFormat||"YYYY-MM-DDTHH:mm:ss")),this.addTimestampToMap(t)):(t.type===It.Jf.label||t.type===It.Jf.device)&&(t.stringValue=t.label)}addVariableToMap(t){this.tagsMap[t.variableId]||(this.tagsMap[t.variableId]={value:NaN,cells:[],rows:[]}),this.tagsMap[t.variableId].cells.push(t),this.tagsMap[t.variableId].rows.push(t.rowIndex)}addTimestampToMap(t){this.timestampMap[t.rowIndex]||(this.timestampMap[t.rowIndex]=[]),this.timestampMap[t.rowIndex].push(t)}addColumnToMap(t){this.tagsColumnMap[t.variableId]||(this.tagsColumnMap[t.variableId]=[]),this.tagsColumnMap[t.variableId].push(t)}getVariableIdsForQuery(){return this.tableOptions.columns.filter(t=>t.type===It.Jf.variable&&t.variableId).map(t=>t.variableId).filter(t=>Object.prototype.hasOwnProperty.call(this.tagsColumnMap,t))}isAlarmsType(){return this.type===It.lp.alarms||this.type===It.lp.alarmsHistory}isReportsType(){return this.type===It.lp.reports}onAckAlarm(t){this.isEditor||this.hmiService.setAlarmAck(t.name?.stringValue).subscribe(i=>{},i=>{console.error("Error setAlarmAck",i)})}onDownloadReport(t){this.commandService.getReportFile(t.fileName).subscribe(i=>{let n=new Blob([i],{type:"application/pdf"});lD.saveAs(n,t.fileName)},i=>{console.error("Download Report File err:",i)})}onRemoveReportFile(t){window.confirm(this.translateService.instant("msg.file-remove",{value:t.fileName}))&&this.reportsService.removeReportFile(t.fileName).pipe((0,Hg.H)(()=>(0,Co.O)(2e3)),Md(n=>(console.error(`Remove Report File ${t.fileName} err:`,n),(0,lr.of)(null)))).subscribe(()=>{})}static DefaultOptions(){return{paginator:{show:!1},filter:{show:!1},daterange:{show:!1},realtime:!1,lastRange:ii.Aq.getEnumKey(It.a2,It.a2.last1h),gridColor:"#E0E0E0",header:{show:!0,height:30,fontSize:12,background:"#F0F0F0",color:"#757575"},row:{height:30,fontSize:10,background:"#F9F9F9",color:"#000000"},selection:{background:"#3059AF",color:"#FFFFFF",fontBold:!0},columns:[new It.Ve(ii.Aq.getShortGUID("c_"),It.Jf.timestamp,"Date/Time"),new It.Ve(ii.Aq.getShortGUID("c_"),It.Jf.label,"Tags")],alarmsColumns:[],alarmFilter:{filterA:[],filterB:[],filterC:[]},reportsColumns:[],reportFilter:{filterA:[]},rows:[]}}remapVariableIds(t,i){if(!i)return;const n=s=>{s.variableId&&i[s.variableId]&&(s.variableId=i[s.variableId])},a=s=>{if(s)for(const d of s)n(d)};if(t.columns&&a(t.columns),t.alarmsColumns&&a(t.alarmsColumns),t.reportsColumns&&a(t.reportsColumns),t.rows)for(const s of t.rows)a(s.cells)}static \u0275fac=function(i){return new(i||r)(e.rXU(ZN),e.rXU(kr.TR),e.rXU(BA.Ih),e.rXU(k_.f),e.rXU(B4),e.rXU(D_),e.rXU(D4),e.rXU(Qo),e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["app-data-table"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5),e.GBs(tc,5),e.GBs(Dd,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first),e.mGM(a=e.lsd())&&(n.trigger=a.first),e.mGM(a=e.lsd())&&(n.paginator=a.first)}},decls:12,vars:15,consts:[["class","table-toolbar",3,"backgroundColor",4,"ngIf"],["matSort","",3,"dataSource"],["table",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["class","data-table-header",3,"height","backgroundColor","borderBottomColor","display",4,"matHeaderRowDef"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","reload-btn",3,"top",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"table-toolbar"],["class","my-form-field","style","float: left; padding-left: 20px;",4,"ngIf"],["class","date-range",4,"ngIf"],["class","data-table-paginator",3,"pageSizeOptions","pageSize","color",4,"ngIf"],[1,"my-form-field",2,"float","left","padding-left","20px"],["type","text",2,"width","250px",3,"placeholder","keyup"],[1,"date-range"],[4,"ngIf"],["panelClass","my-select-panel-class",1,"moka-toolbar-editor","moka-toolbar-select",3,"value","valueChange","selectionChange"],[3,"value","color","backgroundColor",4,"ngFor","ngForOf"],["mat-flat-button","",1,"moka-toolbar-editor","moka-toolbar-button",3,"click"],["aria-label","time range"],["aria-label","export data"],[3,"value"],[1,"moka-toolbar-editor","moka-toolbar-select"],[1,"moka-toolbar-editor","moka-toolbar-button"],[1,"data-table-paginator",3,"pageSizeOptions","pageSize"],[3,"matColumnDef"],["mat-sort-header","",3,"width","color","textAlign","fontSize",4,"matHeaderCellDef"],["class","data-table-row-cell",3,"ngStyle",4,"matCellDef"],["mat-sort-header",""],[1,"data-table-row-cell",3,"ngStyle"],[4,"ngIf","ngIfElse"],["stringValue",""],["mat-icon-button","",3,"disabled","click",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","class","custom-disabled-button",3,"disabled","click",4,"ngIf"],["mat-icon-button","",3,"disabled","click"],["mat-icon-button","",3,"click"],["mat-icon-button","",1,"custom-disabled-button",3,"disabled","click"],[1,"data-table-header"],["class","data-table-row",3,"ngStyle",4,"matRowDef","matRowDefColumns"],[1,"data-table-row",3,"ngStyle"],["class","data-table-row",3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],[1,"data-table-row",3,"ngStyle","click"],[1,"reload-btn"],["mat-icon-button","",1,"small-icon-button","default-color",3,"click"],[3,"ngClass"],[1,"spinner"],["diameter","40",2,"margin","auto"]],template:function(i,n){1&i&&(e.DNE(0,Tce,4,5,"div",0),e.j41(1,"mat-table",1,2),e.DNE(3,Nce,3,1,"ng-container",3),e.DNE(4,jce,1,8,"mat-header-row",4),e.qex(5,5),e.DNE(6,Uce,2,1,"ng-container",6),e.DNE(7,Hce,2,1,"ng-container",6),e.DNE(8,Jce,2,1,"ng-container",6),e.DNE(9,Kce,2,1,"ng-container",6),e.bVm(),e.k0s(),e.DNE(10,Zce,4,7,"div",7),e.DNE(11,$ce,2,0,"div",8)),2&i&&(e.Y8G("ngIf",n.withToolbar),e.R7$(1),e.xc7("background-color",n.tableOptions.row.background)("height",n.withToolbar?"calc(100% - 42px)":"100%"),e.Y8G("dataSource",n.dataSource),e.R7$(2),e.Y8G("ngForOf",n.displayedColumns),e.R7$(1),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("ngSwitch",n.type),e.R7$(1),e.Y8G("ngSwitchCase",n.tableType.reports),e.R7$(1),e.Y8G("ngSwitchCase",n.tableType.alarms),e.R7$(1),e.Y8G("ngSwitchCase",n.tableType.data),e.R7$(1),e.Y8G("ngSwitchCase",n.tableType.history),e.R7$(1),e.Y8G("ngIf",!n.isEditor&&n.type===n.tableHistoryType),e.R7$(1),e.Y8G("ngIf",n.loading))},dependencies:[l.YU,l.Sq,l.bT,l.B3,l.ux,l.e1,Ur,zn,Kn,Dd,Id,yo,cs,KA,ks,EA,te,u,oA,ye,Ne,zt,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]     .mat-table{height:100%;overflow:auto}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1;padding-left:10px;padding-right:5px}[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{padding-left:10px;padding-right:5px}[_nghost-%COMP%]   .data-table-header[_ngcontent-%COMP%]{min-height:0px}[_nghost-%COMP%]   .data-table-row[_ngcontent-%COMP%]{min-height:0px}[_nghost-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{height:42px;display:block;line-height:42px}[_nghost-%COMP%]   .data-table-paginator[_ngcontent-%COMP%]{height:42px;top:0;position:absolute;right:0;background-color:transparent}[_nghost-%COMP%]   .moka-toolbar-editor[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;border:0px;height:28px;cursor:pointer;vertical-align:middle;line-height:20px;box-shadow:1px 1px 3px -1px #888!important;min-width:40px}[_nghost-%COMP%]   .moka-toolbar-select[_ngcontent-%COMP%]{width:100px;line-height:28px;padding-left:5px}[_nghost-%COMP%]   .moka-toolbar-button[_ngcontent-%COMP%]{width:40px;padding:unset}[_nghost-%COMP%]   .table-toolbar[_ngcontent-%COMP%]   .date-range[_ngcontent-%COMP%]{float:left;max-height:42px}[_nghost-%COMP%]     .data-table-paginator .mat-paginator-container{min-height:unset;height:42px}[_nghost-%COMP%]     .data-table-paginator .mat-paginator-container .mat-paginator-page-size{height:inherit;margin:unset}[_nghost-%COMP%]     .data-table-paginator .mat-paginator-container .mat-paginator-page-size-select{margin:unset}[_nghost-%COMP%]     .dark-theme .mat-select-value{color:inherit!important}[_nghost-%COMP%]     .mat-select-trigger, [_nghost-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:inherit!important}[_nghost-%COMP%]     .left .mat-sort-header-container{text-align:left;justify-content:left}[_nghost-%COMP%]     .center .mat-sort-header-container{text-align:center;justify-content:center}[_nghost-%COMP%]     .right .mat-sort-header-container{text-align:right;justify-content:right}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 20px)}[_nghost-%COMP%]   .small-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}[_nghost-%COMP%]   .small-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}[_nghost-%COMP%]   .small-icon-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .reload-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;z-index:9999}[_nghost-%COMP%]   .custom-disabled-button[disabled][_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .custom-disabled-button[disabled][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:inherit;opacity:.2}"]})}return r})();class qce{static TableRangeToHours(o){let t=Object.keys(It.a2);return o===t[0]?1:o===t[1]?24:o===t[2]?72:0}}let Rp=(()=>{class r{static TypeTag="svg-ext-own_ctrl-table";static LabelTag="HtmlTable";static prefixD="D-OXC_";static getSignals(t){if(t.type===It.lp.data&&t.options?.rows){let i=[];return t.options.rows.forEach(n=>{n.cells.forEach(a=>{a&&a.variableId&&a.type===It.Jf.variable&&i.push(a.variableId)})}),i}if(t.options?.realtime){let i=[];return t.options.columns?.forEach(n=>{n.variableId&&n.type===It.Jf.variable&&i.push(n.variableId)}),i}return null}static getDialogType(){return Ho.Table}static processValue(t,i,n,a,s){try{s.addValue(n.id,(n.timestamp||(new Date).getTime())/1e3,n.value)}catch(d){console.error(d)}}static initElement(t,i,n,a){let s=document.getElementById(t.id);if(s){s?.setAttribute("data-name",t.name);let d=ii.Aq.searchTreeStartWith(s,this.prefixD);if(d){let m=i.resolveComponentFactory(xw);const I=n.createComponent(m);return t.property||(t.property={id:null,type:It.lp.data,options:xw.DefaultOptions(),events:[]}),d.innerHTML="",I.instance.isEditor=!a,I.instance.id=t.id,I.instance.type=t.property.type,I.instance.events=t.property.events,I.instance.dataFilter=null,t.property.type===It.lp.alarms&&t.property.options?.alarmFilter?I.instance.dataFilter={priority:t.property.options?.alarmFilter?.filterA,text:t.property.options?.alarmFilter?.filterB[0],group:t.property.options?.alarmFilter?.filterB[1],tagIds:t.property.options?.alarmFilter?.filterC}:t.property.type===It.lp.reports&&t.property.options?.reportFilter&&(I.instance.dataFilter={name:t.property.options?.reportFilter?.filterA[0],count:t.property.options?.reportFilter?.filterA[1]}),I.changeDetectorRef.detectChanges(),d.appendChild(I.location.nativeElement),xw.DefaultOptions(),I.instance.myComRef=I,I.instance.name=t.name,I.instance}}}static detectChange(t,i,n){return r.initElement(t,i,n,!1)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),um=(()=>{class r{static exportStart="//!export-start";static exportEnd="//!export-end";static isSVG(t){return"svg"===t.split(".").pop()?.toLowerCase()}static getSvgSize(t){const i=t.getAttribute("width"),n=t.getAttribute("height");if(i&&n)return{width:parseInt(i),height:parseInt(n)};{const a=t.getAttribute("viewBox");if(a){const s=a.split(" ").map(Number);return{width:s[2],height:s[3]}}}}static processWidget(t,i,n,a){let s=r.removeComments(t),d=r.exportGlobalVariables(s,i,a),m=r.exportFunctionNames(d.content,i);return m=r.replaceIdsInScript(m,n),m=r.addModuleDeclaration(m,i),{content:m,vars:d.vars}}static removeComments(t){return t.replace(/\/\*[\s\S]*?\*\//g,"")}static exportGlobalVariables(t,i,n){const s=new RegExp(`${r.exportStart}([\\s\\S]*?)${r.exportEnd}`,"g").exec(t),d={};if(s){let I=s[1];const J=/(?:var|let|const)\s+(\w+)/g;let oe;for(;null!==(oe=J.exec(I));){const Ce=oe[1],$e=n?.find(Zt=>Zt.originalName===Ce),nt=$e?$e.name:Ce;d[Ce]=nt;const Tt=new RegExp(`\\b${Ce}\\b`,"g");I=I.replace(Tt,nt),I+=`\n${i}.${nt} = ${nt};`}t=t.replace(s[0],`${r.exportStart}${I}${r.exportEnd}`)}let m=[];return Object.entries(d).forEach(([I,J])=>{const oe=new RegExp(`\\b${I}\\b`,"g");t=t.replace(oe,J);const Ce=r.toWidgetPropertyVariable(I,J);Ce&&m.push(Ce)}),{content:t,vars:m}}static exportFunctionNames(t,i){const n=/function\s+(\w+)\s*\(/g,a=/(\w+)\s*=\s*(?:function|=>)\s*\(/g;let s;for(;null!==(s=n.exec(t));)t+=`\n${i}.${s[1]} = ${s[1]};`;for(;null!==(s=a.exec(t));)t+=`\n${i}.${s[1]} = ${s[1]};`;const d="postValue",m=`${i}.${d}`,I=new RegExp(`(?<!function\\s+)\\b${d}\\b(?=\\s*\\()`,"g");return t.replace(I,`${m}`)}static renameIdsInSvg(t,i){const n={};return function a(s){if(s.id){const d=s.id,m=`${d}_${i}`;s.id=m,n[d]=m}Array.from(s.children).forEach(d=>a(d))}(t),n}static replaceIdsInScript(t,i){let n=t;return Object.entries(i).forEach(([a,s])=>{const d=new RegExp(`(['""])${a}\\1`,"g");n=n.replace(d,`$1${s}$1`)}),n}static addModuleDeclaration(t,i){return`var ${i} = window.${i} || {};\n(function() {${t}\n})();\nwindow.${i}=${i}`}static toWidgetPropertyVariable(t,i){const n=Object.entries(tj).find(([a,s])=>i.startsWith(s));return n?{originalName:t,name:i,type:n[0]}:null}static initWidget(t,i){if(!i)return t;const a=new RegExp(`${r.exportStart}([\\s\\S]*?)${r.exportEnd}`,"g").exec(t);if(!a)return t;let s=a[1];return i.forEach(d=>{if(!ii.Aq.isNullOrUndefined(d.variableValue)&&r.validateVariable(d)){const m=new RegExp(`(let|var|const)\\s+${d.name}\\s*=\\s*[^;]+;`);s=s.replace(m,"string"===d.type||"color"===d.type?`$1 ${d.name} = \`${d.variableValue}\`;`:"boolean"===d.type?`$1 ${d.name} = ${!!d.variableValue};`:`$1 ${d.name} = ${d.variableValue};`)}}),t.replace(a[1],s)}static resizeSvgNodes(t,i){if(i&&t)for(let n=0;n<t.children?.length;n++)t.children[n].setAttribute("height",i.height.toString()),t.children[n].setAttribute("width",i.width.toString())}static validateVariable(t){return!("number"===t.type&&!ii.Aq.isNumeric(t.variableValue)||"string"===t.type&&!t.variableValue||"color"===t.type&&!t.variableValue)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();var tj=function(r){return r.boolean="_pb_",r.number="_pn_",r.string="_ps_",r.color="_pc_",r}(tj||{});class Mc extends Io{static TypeTag="svg-ext-own_ctrl-image";static LabelTag="HtmlImage";static prefixD="D-OXC_";static endPointConfig=Kg.G.getURL();static propertyWidgetType="widget";static actionsType={hide:It.vo.hide,show:It.vo.show,blink:It.vo.blink,stop:It.vo.stop,clockwise:It.vo.clockwise,anticlockwise:It.vo.anticlockwise,rotate:It.vo.rotate,move:It.vo.move};constructor(){super()}static initElement(o,t){let i=null,n=document.getElementById(o.id);if(n&&(n?.setAttribute("data-name",o.name),i=ii.Aq.searchTreeStartWith(n,this.prefixD),i)){let a=o.property.svgContent??localStorage.getItem(o.property.address);if(um.isSVG(o.property.address)&&a){i.innerHTML="",i.setAttribute("type",Mc.propertyWidgetType);const m=(new DOMParser).parseFromString(a,"image/svg+xml").querySelector("svg"),I=um.getSvgSize(m);if(um.resizeSvgNodes(i.parentElement.parentElement,I),i.parentElement?.parentElement?.removeAttribute("stroke"),m.setAttribute("width",I.width.toString()),m.setAttribute("height",I.height.toString()),o.property.svgContent)i.appendChild(m);else{const J=m.querySelectorAll("script"),oe=ii.Aq.getShortGUID("","_"),Ce=um.renameIdsInSvg(m,oe),$e=`wModule_${oe}`;let nt;J?.forEach(Tt=>{nt=um.processWidget(Tt.textContent,$e,Ce,o.property?.varsToBind),Tt.parentNode.removeChild(Tt)}),i.appendChild(m),o.property={...o.property,type:Mc.propertyWidgetType,svgGuid:oe,svgContent:i.innerHTML,scriptContent:{moduleId:$e,content:nt?.content},varsToBind:ii.Aq.mergeArray([nt?.vars,o.property.varsToBind],"originalName")}}if(o.property.scriptContent){const J=document.createElement("script");J.textContent=um.initWidget(o.property.scriptContent.content,o.property.varsToBind),document.body.appendChild(J)}}else{i.innerHTML="";let s=document.createElement("img");s.style.width="100%",s.style.height="100%",s.style.border="none",o.property&&o.property.address&&s.setAttribute("src",o.property.address),i.appendChild(s)}}return i}static resize(o){const t=document.getElementById(o.id);if(t){const i=ii.Aq.searchTreeStartWith(t,this.prefixD),n=i.querySelector("svg");if(n&&i.getAttribute("type")===Mc.propertyWidgetType){const a=um.getSvgSize(i.parentElement);n.setAttribute("width",a.width.toString()),n.setAttribute("height",a.height.toString()),o.property.svgContent=i.innerHTML}}}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),o.alarmId&&t.push(o.alarmId),o.actions&&o.actions.length&&o.actions.forEach(i=>{t.push(i.variableId)}),o.varsToBind?.forEach(i=>{i.variableId&&t.push(i.variableId)}),t}static getActions(o){return this.actionsType}static isBitmaskSupported(){return!0}static processValue(o,t,i,n){try{if(t.node){let a=parseFloat(i.value);if(a=Number.isNaN(a)?Number(i.value):parseFloat(a.toFixed(5)),o.property){let s=Io.checkBitmask(o.property.bitmask,a),d=new It._O;if(o.property.variableId===i.id&&o.property.ranges){for(let m=0;m<o.property.ranges.length;m++)o.property.ranges[m].min<=s&&o.property.ranges[m].max>=s&&(d.fill=o.property.ranges[m].color,d.stroke=o.property.ranges[m].stroke);d.fill&&t.node.setAttribute("fill",d.fill),d.stroke&&t.node.setAttribute("stroke",d.stroke)}if(o.property.actions&&o.property.actions.forEach(m=>{m.variableId===i.id&&Oa.processAction(m,t,a,n,d)}),o.property.type===Mc.propertyWidgetType&&o.property.scriptContent&&o.property.varsToBind?.length){const m=o.property.scriptContent;if(window[m.moduleId].putValue){const I=o.property.varsToBind?.find(J=>J.variableId===i.id);I&&window[m.moduleId].putValue(I.name,i.value)}}}}}catch(a){console.error(a)}}static bindEvents(o,t){if(o.property.type===Mc.propertyWidgetType&&o.property.scriptContent&&o.property.varsToBind?.length){const i=o.property.scriptContent;window[i.moduleId]?.postValue?window[i.moduleId].postValue=(n,a)=>{const s=o.property.varsToBind?.find(d=>d.name===n);if(s){let d=new It.Jh;d.type=Mc.propertyWidgetType,d.ga=o,d.value=a,d.variableId=s.variableId,t(d)}else console.error(`Variable name (${n}) not found!`)}:console.error(`Module (${i.moduleId}) or postValue function not found!`)}return null}static detectChange(o,t){return Mc.initElement(o,t)}static \u0275fac=function(t){return new(t||Mc)};static \u0275cmp=e.VBU({type:Mc,selectors:[["app-html-image"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}class Eu extends Io{projectService;static TypeTag="svg-ext-own_ctrl-panel";static LabelTag="Panel";static prefixD="D-OXC_";static actionsType={hide:It.vo.hide,show:It.vo.show};static hmi;constructor(o){super(),this.projectService=o}static getSignals(o){let t=[];return o.variableId&&t.push(o.variableId),t}static getDialogType(){return Ho.Panel}static processValue(o,t,i,n,a){try{const s=Eu.hmi.views.find(d=>d.name===i.value);s&&(a?.loadHmi(s,!0),o?.property?.scaleMode&&ii.Aq.resizeViewExt(".view-container",o?.id,o?.property?.scaleMode))}catch(s){console.error(s)}}static initElement(o,t,i,n,a,s,d){a&&(Eu.hmi=a);let m=document.getElementById(o.id);if(m){m?.setAttribute("data-name",o.name);let I=ii.Aq.searchTreeStartWith(m,this.prefixD);if(I){const J=t.resolveComponentFactory(hm),oe=i.createComponent(J);oe.instance.gaugesManager=n,oe.changeDetectorRef.detectChanges();const Ce=oe.location.nativeElement;if(I.innerHTML="",I.appendChild(Ce),oe.instance.myComRef=oe,oe.instance.parent=d,!s){let $e=document.createElement("span");return $e.innerHTML="Panel",I.appendChild($e),null}return Eu.processValue(o,null,{value:o.property.viewName},null,oe.instance),oe.instance.name=o.name,oe.instance}}}static \u0275fac=function(t){return new(t||Eu)(e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:Eu,selectors:[["app-panel"]],features:[e.Vt3],decls:0,vars:0,template:function(t,i){}})}let I4=(()=>{class r{get nativeWindow(){return function eAe(){return window}()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();class oo{hmiService;authService;winRef;onchange=new e.bkB;onevent=new e.bkB;eventGauge={};mapGaugeView={};memorySigGauges={};mapChart={};mapGauges={};mapTable={};static gaugesTags=[];static GaugeWithProperty=[Fs.prefix,Ul.prefix,ru.prefix];static GaugeWithEvents=[uc.TypeTag,sh.TypeTag,Oa.TypeTag,au.TypeTag,Bc.TypeTag,Mc.TypeTag,Fs.TypeTag,Eu.TypeTag,Ul.TypeTag,ru.TypeTag];static GaugeWithActions=[Bc,Xa,au,Oa,uc,Ul,qg,Fs,sh,Mc,Eu];static Gauges=[qg,Fs,uc,cm,Ul,Bp,ou,sh,Oa,au,Bc,Xa,lh,ru,Tp,U_,Rp,Mc,Eu];constructor(o,t,i){this.hmiService=o,this.authService=t,this.winRef=i,this.hmiService.onVariableChanged.subscribe(n=>{try{this.onchange.emit(n)}catch{}}),this.hmiService.onDaqResult.subscribe(n=>{try{this.mapChart[n.gid]?this.mapChart[n.gid].setValues(n.result,n.chunk):this.mapTable[n.gid]&&this.mapTable[n.gid].setValues(n.result)}catch{}}),this.hmiService.getGaugeMapped=this.getGaugeFromName.bind(this),oo.Gauges.forEach(n=>{oo.gaugesTags.push(n.TypeTag)})}createSettings(o,t){let i=null;if(t)for(let n=0;n<oo.Gauges.length;n++)if(t.startsWith(oo.Gauges[n].TypeTag))return i=new It.dE(o,t),i.label=oo.Gauges[n].LabelTag,i;return i}createGaugeStatus(o){let t=new It.AY;return!o.type.startsWith(Bp.TypeTag)&&!o.type.startsWith(Tp.TypeTag)&&!o.type.startsWith(Rp.TypeTag)&&(t.onlyChange=!0),o.type.startsWith(lh.TypeTag)&&(t.takeValue=!0),t}isWithEvents(o){if(o)for(let t=0;t<oo.GaugeWithEvents.length;t++)if(o.startsWith(oo.GaugeWithEvents[t]))return!0;return!1}isWithActions(o){if(o)for(let t=0;t<oo.GaugeWithActions.length;t++)if(o.startsWith(oo.GaugeWithActions[t].TypeTag)&&"function"==typeof oo.GaugeWithActions[t].getActions)return oo.GaugeWithActions[t].getActions(o);return!1}static isGauge(o){for(let t in oo.gaugesTags)if(o.startsWith(oo.gaugesTags[t]))return!0;return!1}initInEditor(o,t,i,n){if(o.type.startsWith(ou.TypeTag))ou.initElement(o);else if(o.type.startsWith(uc.TypeTag))uc.initElement(o);else if(o.type.startsWith(Bp.TypeTag)){delete this.mapGauges[o.id];let a=Bp.detectChange(o,t,i);this.setChartPropety(a,o.property),this.mapGauges[o.id]=a}else if(o.type.startsWith(Tp.TypeTag)){delete this.mapGauges[o.id];let a=Tp.detectChange(o,t,i);this.setGraphPropety(a,o.property),this.mapGauges[o.id]=a}else if(o.type.startsWith(cm.TypeTag))this.mapGauges[o.id]=cm.detectChange(o,t,i);else{if(o.type.startsWith(Xa.TypeTag))return this.mapGauges[o.id]=Xa.detectChange(o,t,this.winRef),this.mapGauges[o.id];if(o.type.startsWith(lh.TypeTag))return this.mapGauges[o.id]=lh.detectChange(o,t,i);if(o.type.startsWith(ru.TypeTag))return this.mapGauges[o.id]=ru.detectChange(o,t,i);if(o.type.startsWith(U_.TypeTag))U_.detectChange(o);else if(o.type.startsWith(Rp.TypeTag)){delete this.mapGauges[o.id];let a=Rp.detectChange(o,t,i);this.setTablePropety(a,o.property),this.mapGauges[o.id]=a}else o.type.startsWith(Mc.TypeTag)?Mc.detectChange(o,!0):n&&Io.setLanguageText(n,o.property?.text)}return!1}setSignalValue(o,t){let i=new It.rT(o,null,null);i.value=t,this.onchange.emit(i)}
//! toremove
initGaugesMap(){this.eventGauge={},this.mapGaugeView={},this.eventGauge={},this.mapGaugeView={},this.memorySigGauges={},this.mapChart={},this.mapGauges={},this.mapTable={}}emitBindedSignals(o){this.hmiService.emitMappedSignalsGauge(o)}bindGauge(o,t,i,n,a,s){let d=this.getBindSignals(i,n);if(d)for(let J=0;J<d.length;J++)this.hmiService.addSignalGaugeToMap(t,d[J],i),o&&(this.memorySigGauges[d[J]]?this.memorySigGauges[d[J]][i.id]||(this.memorySigGauges[d[J]][i.id]=o):(this.memorySigGauges[d[J]]={},this.memorySigGauges[d[J]][i.id]=o));let m=this.getBindMouseEvent(i,null);if(m&&m.length>0){this.eventGauge[i.id]=i,this.mapGaugeView[i.id]?this.mapGaugeView[i.id][t]||(this.mapGaugeView[i.id][t]=i,a(i)):(this.mapGaugeView[i.id]={},this.mapGaugeView[i.id][t]=i,a(i));let J=document.getElementById(i.id);J&&(J.style.cursor="pointer")}let I=this.getHtmlEvents(i);I&&(this.eventGauge[I.dom.id]=i,s(I)),this.bindGaugeEventToSignal(i),this.checkElementToInit(i)}unbindGauge(o){let t=this.hmiService.removeSignalGaugeFromMap(o);Object.keys(t).forEach(i=>{if(this.memorySigGauges[i])for(let n=0;n<t[i].length;n++){let a=t[i][n];if(this.memorySigGauges[i][a]){let s=this.memorySigGauges[i][a];try{s.myComRef&&s.myComRef.destroy(),delete this.memorySigGauges[i][a],this.mapChart[s.id]&&delete this.mapChart[s.id],this.mapGauges[s.id]&&delete this.mapGauges[s.id],this.mapTable[s.id]&&delete this.mapTable[s.id]}catch(d){console.error(d)}}}}),Object.values(this.mapGaugeView).forEach(i=>{if(i[o]){let n=i[o];n.myComRef&&n.myComRef.destroy(),delete i[o]}})}checkElementToInit(o){return o.type.startsWith(Ul.TypeTag)?Ul.initElement(o,!0):null}checkElementToResize(o,t,i,n){if(o&&this.mapGauges[o.id])if("function"==typeof this.mapGauges[o.id].resize){let a,s;n&&(a=n.height,s=n.width),this.mapGauges[o.id].resize(a,s)}else for(let a=0;a<oo.Gauges.length;a++)if(o.type.startsWith(oo.Gauges[a].TypeTag)){if("function"==typeof oo.Gauges[a].resize){let s;return this.mapGauges[o.id].options&&(s=this.mapGauges[o.id].options),oo.Gauges[a].resize(o,t,i,s)}return}}getGaugeFromName(o){return Object.values(this.mapGauges).find(i=>i?.name===o)}getGaugeValue(o){if(this.mapGauges[o]&&this.mapGauges[o].currentValue)return this.mapGauges[o].currentValue()}getGaugeSettings(o,t){return this.hmiService.getMappedSignalsGauges(o,t)}getMappedGaugesSignals(o){return this.hmiService.getMappedVariables(o)}getBindSignals(o,t){if(o.property)for(let i=0;i<oo.Gauges.length;i++)if(o.type.startsWith(oo.Gauges[i].TypeTag)){if(o.type.startsWith(Bp.TypeTag)){let n=this.hmiService.getChartSignal(o.property.id);return t&&(n=n.map(a=>Gi.$d.placeholderToTag(a,t)?.id??a)),n}if(o.type.startsWith(Tp.TypeTag)){let n=this.hmiService.getGraphSignal(o.property.id);return t&&(n=n.map(a=>Gi.$d.placeholderToTag(a,t)?.id??a)),n}return"function"==typeof oo.Gauges[i].getSignals?oo.Gauges[i].getSignals(o.property):null}return null}getBindSignalsValue(o){let t=this.getBindSignals(o),i=[];return t&&t.forEach(n=>{let a=this.hmiService.getMappedVariable(n,!1);a&&!ii.Aq.isNullOrUndefined(a.value)&&i.push(a)}),i}getBindMouseEvent(o,t){for(let i=0;i<oo.Gauges.length;i++)if(o.type.startsWith(oo.Gauges[i].TypeTag))return"function"==typeof oo.Gauges[i].getEvents?oo.Gauges[i].getEvents(o.property,t):null;return null}getHtmlEvents(o){return o.type.startsWith(Fs.TypeTag)?Fs.getHtmlEvents(o):o.type.startsWith(Ul.TypeTag)?Ul.getHtmlEvents(o):null}bindGaugeEventToSignal(o){if(o.type.startsWith(lh.TypeTag)){let t=this;lh.bindEvents(o,this.mapGauges[o.id],i=>{t.putEvent(i)})}else if(o.type.startsWith(ru.TypeTag)){let t=this;ru.bindEvents(o,this.mapGauges[o.id],i=>{t.putEvent(i)})}else if(o.type.startsWith(Mc.TypeTag)){let t=this;Mc.bindEvents(o,i=>{t.putEvent(i)})}}processValue(o,t,i,n){n.variablesValue[i.id]=i.value;for(let a=0;a<oo.Gauges.length;a++)if(o.type.startsWith(oo.Gauges[a].TypeTag)){if(o.type.startsWith(Bp.TypeTag)){o.property.type===Ep.realtime1&&this.memorySigGauges[i.id]&&Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&Bp.processValue(o,t,i,n,this.mapGauges[s])});break}if(o.type.startsWith(Tp.TypeTag)){"history"!==o.property.type&&this.memorySigGauges[i.id]&&Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&Tp.processValue(o,t,i,n,this.mapGauges[s])});break}if(o.type.startsWith(cm.TypeTag)){Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&cm.processValue(o,t,i,n,this.mapGauges[s])});break}if(o.type.startsWith(lh.TypeTag)){Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&lh.processValue(o,t,i,n,this.mapGauges[s])});break}if(o.type.startsWith(ru.TypeTag)){Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&ru.processValue(o,t,i,n,this.mapGauges[s])});break}if(o.type.startsWith(Rp.TypeTag)){(o.property.type===It.lp.data||o.property.options?.realtime)&&this.memorySigGauges[i.id]&&Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&Rp.processValue(o,t,i,n,this.mapGauges[s])});break}if(o.type.startsWith(Eu.TypeTag)){this.memorySigGauges[i.id]&&Object.keys(this.memorySigGauges[i.id]).forEach(s=>{s===o.id&&this.mapGauges[s]&&Eu.processValue(o,t,i,n,this.mapGauges[s])});break}if("function"==typeof oo.Gauges[a].processValue){oo.Gauges[a].processValue(o,t,i,n);break}break}}toggleSignalValue(o,t){if(this.hmiService.variables.hasOwnProperty(o)){let i=this.hmiService.variables[o].value;if(null==i)return;if(ii.Aq.isNullOrUndefined(t))this.putSignalValue(o,0===i||"0"===i?"1":1===i||"1"===i?"0":"false"===i?"true":String(!i));else{const n=Io.toggleBitmask(i,t);this.putSignalValue(o,n.toString())}}}putEvent(o){if(o.type===Mc.propertyWidgetType){const t=Io.valueBitmask(o.ga.property.bitmask,o.value,this.hmiService.variables[o.variableId]?.value);this.hmiService.putSignalValue(o.variableId,String(t)),o.dbg="put "+o.variableId+" "+o.value}else if(o.ga.property&&o.ga.property.variableId){const t=Io.valueBitmask(o.ga.property.bitmask,o.value,this.hmiService.variables[o.ga.property.variableId]?.value);this.hmiService.putSignalValue(o.ga.property.variableId,String(t)),o.dbg="put "+o.ga.property.variableId+" "+o.value}this.onevent.emit(o)}putSignalValue(o,t,i=null){this.hmiService.putSignalValue(o,t,i)}static getEditDialogTypeToUse(o){for(let t=0;t<oo.Gauges.length;t++)if(o.startsWith(oo.Gauges[t].TypeTag))return"function"==typeof oo.Gauges[t].getDialogType?oo.Gauges[t].getDialogType():null}static isBitmaskSupported(o){for(let t=0;t<oo.Gauges.length;t++)if(o.startsWith(oo.Gauges[t].TypeTag))return"function"==typeof oo.Gauges[t].isBitmaskSupported&&oo.Gauges[t].isBitmaskSupported();return!1}static getDefaultValue(o){return o.startsWith(ou.TypeTag)?ou.getDefaultValue():null}static checkGaugeColor(o,t,i){if(o&&o.type&&t&&(t.length<=1||!t[1])&&i){if(o.type.startsWith(ou.TypeTag))return i.fill=ou.getFillColor(t[0]),i.stroke=ou.getStrokeColor(t[0]),!0;if(o.type.startsWith(sh.TypeTag))return i.fill=sh.getFillColor(t[0]),i.stroke=sh.getStrokeColor(t[0]),!0;if(o.type.startsWith(uc.TypeTag))return i.fill=uc.getFillColor(t[0]),i.stroke=uc.getStrokeColor(t[0]),!0;if(o.type.startsWith(Fs.TypeTag))return i.fill=Fs.getFillColor(t[0]),i.stroke=Fs.getStrokeColor(t[0]),!0;if(o.type.startsWith(Ul.TypeTag))return i.fill=Ul.getFillColor(t[0]),i.stroke=Ul.getStrokeColor(t[0]),!0}return!1}static initElementColor(o,t,i){let n=i.filter(a=>!!a);for(let a=0;a<n.length;a++){let s=n[a].getAttribute("type");s&&(s.startsWith(ou.TypeTag)?ou.initElementColor(o,t,n[a]):s.startsWith(uc.TypeTag)?uc.initElementColor(o,t,n[a]):s.startsWith(Fs.TypeTag)?Fs.initElementColor(o,t,n[a]):s.startsWith(Ul.TypeTag)&&Ul.initElementColor(o,t,n[a]))}}static getPrefixGaugeName(o){return o.startsWith(ou.TypeTag)?"progress_":o.startsWith(uc.TypeTag)?"button_":o.startsWith(Fs.TypeTag)?"input_":o.startsWith(Ul.TypeTag)?"select_":o.startsWith(sh.TypeTag)?"led_":o.startsWith(lh.TypeTag)?"slider_":o.startsWith(Xa.TypeTag)?"pipe_":o.startsWith(Bp.TypeTag)?"chart_":o.startsWith(Tp.TypeTag)?"graph_":o.startsWith(cm.TypeTag)?"gauge_":o.startsWith(ru.TypeTag)?"switch_":o.startsWith(U_.TypeTag)?"iframe_":o.startsWith(qg.TypeTag)?"output_":o.startsWith(Rp.TypeTag)?"table_":"shape_"}initElementAdded(o,t,i,n,a,s,d){if(!o||!o.type)return console.error("!TOFIX",o),null;var m={};let I=this.getBindSignals(o);if(I&&I.forEach(J=>{if(n){const oe=Gi.$d.placeholderToTag(J,d);m[J]=oe?.id??J,this.hmiService.addSignal(m[J])}else this.hmiService.addSignal(J)}),n&&o.hide){let J=document.getElementById(o.id);J&&(J.style.display="none")}if(o.type.startsWith(Bp.TypeTag)){let J=Bp.initElement(o,t,i,n,I_);return J&&(this.setChartPropety(J,o.property,m),this.mapChart[o.id]=J,J.onTimeRange.subscribe(oe=>{this.hmiService.queryDaqValues(oe)}),n&&J.setInitRange(),this.mapGauges[o.id]=J),J}if(o.type.startsWith(Tp.TypeTag)){let J=Tp.initElement(o,t,i,n);return J&&(this.setGraphPropety(J,o.property,m),J.onReload.subscribe(oe=>{this.hmiService.getDaqValues(oe).subscribe(Ce=>{J.setValues(oe.sids,Ce)},Ce=>{J.setValues(oe.sids,null),console.error("get DAQ values err: "+Ce)})}),this.mapGauges[o.id]=J),J}if(o.type.startsWith(cm.TypeTag)){let J=cm.initElement(o,t,i,n);return this.mapGauges[o.id]=J,J}if(o.type.startsWith(lh.TypeTag)){let J=lh.initElement(o,t,i,n);return this.mapGauges[o.id]=J,J}if(o.type.startsWith(Fs.TypeTag))return Fs.initElement(o,n)||!0;if(o.type.startsWith(Ul.TypeTag))return Ul.initElement(o,n)||!0;if(o.type.startsWith(ou.TypeTag))return ou.initElement(o)||!0;if(o.type.startsWith(ru.TypeTag)){let J=ru.initElement(o,t,i,this.authService.checkPermission.bind(this.authService));return this.mapGauges[o.id]=J,J}if(o.type.startsWith(Rp.TypeTag)){let J=Rp.initElement(o,t,i,n);return J&&(this.setTablePropety(J,o.property,m),this.mapTable[o.id]=J,J.onTimeRange$.subscribe(oe=>{oe&&this.hmiService.queryDaqValues(oe)}),this.mapGauges[o.id]=J),J}if(o.type.startsWith(U_.TypeTag))return U_.initElement(o,n)||!0;if(o.type.startsWith(Mc.TypeTag)){let J=Mc.initElement(o,n);return this.mapGauges[o.id]=J,J}if(o.type.startsWith(Eu.TypeTag)){let J=Eu.initElement(o,t,i,this,this.hmiService.hmi,n,a);return this.mapGauges[o.id]=J,J}if(o.type.startsWith(uc.TypeTag))return uc.initElement(o,s)||!0;if(o.type.startsWith(Xa.TypeTag)){let J=Xa.initElement(o,n,a?.getGaugeStatus(o));return this.mapGauges[o.id]=J,J||!0}{let J=document.getElementById(o.id);return J?.setAttribute("data-name",o.name),Io.setLanguageText(J,s),J||!0}}setChartPropety(o,t,i){if(t)if(t.id){let n=this.hmiService.getChart(t.id);if(n){const a={...t.options,title:n.name,id:n.name,scales:{x:{time:!0}}};o.setOptions(a,!0);let s=n.lines.find(d=>d.yaxis>1);for(let d=0;d<n.lines.length;d++){let m=n.lines[d],I=i?.[m.id]??m.id,J=this.hmiService.getMappedVariable(I,!0);J&&o.addLine(I,J.name,m,!!s)}o.redraw()}}else o.setOptions(t.options,!0)}setGraphPropety(o,t,i){if(t){if(t.id){let n=this.hmiService.getGraph(t.id);if(n&&(o.init(n.name,n.property,n.sources),"sourceMap"in o&&i)){const a={};for(const[s,d]of Object.entries(o.sourceMap))a[i[s]??s]=d;o.sourceMap=a}}t.options&&o.setOptions(t.options)}}setTablePropety(o,t,i){t&&t.options&&(o.remapVariableIds(t.options,i),o.setOptions(t.options))}clearMemory(){this.memorySigGauges={}}getBindedSignalsId(){return Object.keys(this.memorySigGauges)}static \u0275fac=function(t){return new(t||oo)(e.KVO(BA.Ih),e.KVO(zg.u),e.KVO(I4))};static \u0275prov=e.jDH({token:oo,factory:oo.\u0275fac})}function tAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"a",3)(1,"i",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseDialog())}),e.EFF(2,"close"),e.k0s()()}}let ij=(()=>{class r{dialogRef;projectService;data;view;hmi;gaugesManager;variablesMapping=[];constructor(t,i,n){this.dialogRef=t,this.projectService=i,this.data=n}ngOnInit(){this.hmi=this.projectService.getHmi()}onCloseDialog(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-fuxa-view-dialog"]],decls:3,vars:9,consts:[[1,"fuxa-view-dialog"],["class","dialog-modal-close",4,"ngIf"],[3,"child","gaugesManager","hmi","variablesMapping","view","sourceDeviceId","onclose"],[1,"dialog-modal-close"],[1,"material-icons",2,"font-size","22px","cursor","pointer",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,tAe,3,0,"a",1),e.j41(2,"app-fuxa-view",2),e.bIt("onclose",function(){return n.onCloseDialog()}),e.k0s()()),2&i&&(e.xc7("background",null==n.data||null==n.data.view||null==n.data.view.profile?null:n.data.view.profile.bkcolor),e.R7$(1),e.Y8G("ngIf",!n.data.disableDefaultClose),e.R7$(1),e.Y8G("child",!0)("gaugesManager",n.data.gaugesManager)("hmi",n.hmi)("variablesMapping",n.data.variablesMapping)("view",n.data.view)("sourceDeviceId",n.data.sourceDeviceId))},styles:[".fuxa-view-dialog[_ngcontent-%COMP%]{position:relative}.fuxa-view-dialog[_ngcontent-%COMP%]   .dialog-modal-close[_ngcontent-%COMP%]{top:0;right:0;height:22px;width:100%;color:#000000b3;font-size:12px}.fuxa-view-dialog[_ngcontent-%COMP%]   .dialog-modal-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}"]})}return r})(),nj=(()=>{class r{dialogRef;data;constructor(t,i){this.dialogRef=t,this.data=i}onCloseDialog(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-webcam-player-dialog"]],decls:5,vars:1,consts:[["mat-dialog-draggable","",1,"webcam-player-dialog"],[1,"dialog-modal-close"],[1,"material-icons",2,"font-size","22px","cursor","pointer",3,"click"],[3,"data","onclose"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"a",1)(2,"i",2),e.bIt("click",function(){return n.onCloseDialog()}),e.EFF(3,"close"),e.k0s()(),e.j41(4,"app-webcam-player",3),e.bIt("onclose",function(){return n.onCloseDialog()}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("data",n.data))},styles:[".webcam-player-dialog[_ngcontent-%COMP%]   .dialog-modal-close[_ngcontent-%COMP%]{top:0;right:0;height:22px;width:100%;background-color:transparent;font-size:12px;cursor:move!important}.webcam-player-dialog[_ngcontent-%COMP%]   .dialog-modal-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.webcam-player-dialog[_ngcontent-%COMP%]   app-webcam-player[_ngcontent-%COMP%]{padding-top:22px}"]})}return r})(),iAe=(()=>{class r{static getEventClientPosition(t){return"clientX"in t&&"clientY"in t?{x:t.clientX,y:t.clientY}:"touches"in t&&t.touches.length>0?{x:t.touches[0].clientX,y:t.touches[0].clientY}:"changedTouches"in t&&t.changedTouches.length>0?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:null}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),k4=(()=>{class r{activeroute;sanitizer;subscription;urlSafe;_link;set link(t){this._link=t,this.loadLink(t)}constructor(t,i){this.activeroute=t,this.sanitizer=i}ngOnInit(){this._link?this.urlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this._link):this.subscription=this.activeroute.params.subscribe(t=>{this._link=t.url,this.urlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this._link)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadLink(t){this._link=t,this._link&&(this.urlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this._link))}static \u0275fac=function(i){return new(i||r)(e.rXU(Df),e.rXU(D.up))};static \u0275cmp=e.VBU({type:r,selectors:[["app-iframe"]],inputs:{link:"link"},decls:1,vars:1,consts:[["width","100%","height","100%","frameBorder","0","sandbox","allow-forms allow-scripts allow-modals allow-same-origin",3,"src"]],template:function(i,n){1&i&&e.nrm(0,"iframe",0),2&i&&e.Y8G("src",n.urlSafe,e.f$h)}})}return r})();const nAe=["dataContainer"],rAe=["inputDialogRef"],oAe=["inputValueRef"],aAe=["touchKeyboard"];function sAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"a",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onCloseCard(n))}),e.j41(1,"i",20),e.EFF(2,"close"),e.k0s()()}}function lAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",14)(1,"div",15,16),e.DNE(3,sAe,3,0,"a",17),e.k0s(),e.j41(4,"app-fuxa-view",18),e.bIt("onclose",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onCloseCard(a))}),e.k0s()()}if(2&r){const t=o.$implicit,i=e.sdS(2),n=e.XpG();e.xc7("height",n.getCardHeight(t.height)+"px")("left",t.x+"px")("top",t.y+"px")("width",t.width+"px"),e.Y8G("handle",i),e.R7$(3),e.Y8G("ngIf",!t.disableDefaultClose),e.R7$(1),e.Y8G("child",!0)("gaugesManager",n.gaugesManager)("hmi",n.hmi)("parentcards",n.cards)("variablesMapping",t.variablesMapping)("view",t.view)("sourceDeviceId",t.sourceDeviceId)}}function cAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",21),e.bIt("rzResizing",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.onIframeResizing(s,n))}),e.j41(1,"div",22,23)(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"a",24),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onCloseIframe(a))}),e.j41(6,"i",20),e.EFF(7,"close"),e.k0s()()(),e.nrm(8,"app-iframe",25),e.k0s()}if(2&r){const t=o.$implicit,i=e.sdS(2);e.xc7("height",t.height+22+"px")("left",t.x+"px")("top",t.y+"px")("width",t.width+"px"),e.Y8G("handle",i),e.R7$(4),e.JRh(t.name),e.R7$(4),e.xc7("height",t.height+"px")("transform","scale("+t.scale+")")("width",t.width+"px")("zoom",1/t.scale),e.Y8G("link",t.link)}}const AAe=function(r){return{visibility:r}};let hm=(()=>{class r{translateService;changeDetector;viewContainerRef;scriptService;projectService;hmiService;languageService;resolver;fuxaDialog;id;variablesMapping=[];view;hmi;child=!1;gaugesManager;parentcards;sourceDeviceId;onclose=new e.bkB;ongoto=new e.bkB;dataContainer;inputDialogRef;inputValueRef;touchKeyboard;eventViewToPanel=ii.Aq.getEnumKey(It.Qk,It.Qk.onViewToPanel);eventRunScript=ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript);eventOpenTab=ii.Aq.getEnumKey(It.Qk,It.Qk.onOpenTab);endPointConfig=Kg.G.getURL();scriptParameterValue=ii.Aq.getEnumKey(qo.H8,qo.H8.value);cards=[];iframes=[];mapGaugeStatus={};mapControls={};inputDialog={show:!1,timer:null,x:0,y:0,target:null};gaugeInput="";gaugeInputCurrent="";parent;cardViewType=ii.Aq.getEnumKey(It.qi,It.qi.cards);viewLoaded=!1;viewRenderDelay=0;subscriptionOnChange;staticValues={};plainVariableMapping={};destroy$=new An.B;loadOk=!1;constructor(t,i,n,a,s,d,m,I,J){this.translateService=t,this.changeDetector=i,this.viewContainerRef=n,this.scriptService=a,this.projectService=s,this.hmiService=d,this.languageService=m,this.resolver=I,this.fuxaDialog=J}ngOnInit(){this.loadVariableMapping()}ngAfterViewInit(){this.loadHmi(this.view);try{this.gaugesManager.emitBindedSignals(this.id)}catch(t){console.error(t)}}ngOnDestroy(){try{this.destroy$.next(null),this.destroy$.complete(),this.gaugesManager.unbindGauge(this.id),this.clearGaugeStatus(),this.subscriptionOnChange&&this.subscriptionOnChange.unsubscribe(),this.inputDialogRef&&(this.inputDialogRef.nativeElement.style.display="none"),this.view?.property?.events?.forEach(t=>{t.type===ii.Aq.getEnumKey(It.yy,It.yy.onclose)&&this.onRunScript(t)})}catch(t){console.error(t)}}loadVariableMapping(t){try{t&&(this.variablesMapping=t),this.variablesMapping?.forEach(i=>{this.plainVariableMapping[i.from.variableId]=i.to})}catch(i){console.error(i)}}clearGaugeStatus(){Object.values(this.mapGaugeStatus).forEach(t=>{try{t.actionRef&&(t.actionRef.timer&&(clearTimeout(t.actionRef.timer),t.actionRef.timer=null),t.actionRef.animr&&(t.actionRef.animr.reset&&t.actionRef.animr.reset(),delete t.actionRef.animr))}catch(i){console.error(i)}}),this.mapGaugeStatus={}}loadHmi(t,i){if(this.viewLoaded=!1,!this.loadOk&&t)try{if(this.hmi||(this.hmi=this.projectService.getHmi()),this.id)try{this.gaugesManager.unbindGauge(this.id),this.clearGaugeStatus(),this.viewContainerRef.clear(),this.dataContainer.nativeElement.innerHTML=""}catch(n){console.error(n)}if(t?.id){if(this.id=t.id,this.view=t,t.type===this.cardViewType)return void this.ongoto.emit(t.id);this.dataContainer.nativeElement.innerHTML=t.svgcontent.replace("<title>Layer 1</title>",""),t.profile.bkcolor&&(this.child||i)&&(this.dataContainer.nativeElement.style.backgroundColor=t.profile.bkcolor),t.profile.align&&!this.child&&r.setAlignStyle(t.profile.align,this.dataContainer.nativeElement)}this.changeDetector.detectChanges(),this.loadWatch(this.view),this.onResize(),t&&(t.property?.events?.forEach(n=>{n.type===ii.Aq.getEnumKey(It.yy,It.yy.onopen)&&this.onRunScript(n)}),this.viewRenderDelay=t.profile?.viewRenderDelay||0)}finally{setTimeout(()=>{this.viewLoaded=!0,this.changeDetector.detectChanges()},this.viewRenderDelay)}else this.viewLoaded=!0}onResize(t){let i=this.projectService.getHmi();i&&i.layout&&It.Fo[i.layout.zoom]===It.Fo.autoresize&&!this.child&&ii.Aq.resizeViewRev(this.dataContainer.nativeElement,this.dataContainer.nativeElement.parentElement?.parentElement,"stretch")}loadWatch(t){if(t&&t.items){this.mapControls={};const i=this.projectService.getDeviceFromId(this.sourceDeviceId);let n=i?.tags?Object.values(i.tags):null,a=this.applyVariableMapping(t.items,n),s=[];Object.entries(this.plainVariableMapping??{}).forEach(([d,m])=>{if(m?.variableId){const I=this.projectService.getTagFromId(m.variableId);if(I){const J=new Gi.vw(I.id),oe=Gi.$d.getPlaceholderContent(d);J.name=oe.firstContent,s.push(J)}}}),n=ii.Aq.mergeUniqueBy(n,s,"id");for(let d in a)if(a.hasOwnProperty(d))try{const m=this.languageService.getTranslation(a[d].property?.text);let I=this.gaugesManager.initElementAdded(a[d],this.resolver,this.viewContainerRef,!0,this,m,n);if(I&&(this.mapControls[d]=I),this.gaugesManager.bindGauge(I,this.id,a[d],n,J=>{this.onBindMouseEvents(J)},J=>{if(this.onBindHtmlEvent(J),a[d]?.property?.options?.selectOnClick){const oe=J.dom.onclick;J.dom.onclick=function(Ce){oe&&oe.call(this,Ce),J.dom.select(),J.dom.focus()}}}),a[d].property){let J=a[d],oe=this.getGaugeStatus(J),Ce=[];if(a[d].property.variableValue||J.property.variableId){let $e={id:J.property.variableId,value:J.property.variableValue};this.checkStatusValue(J.id,oe,$e)&&(Ce=[$e])}if(Ce=Ce.concat(this.gaugesManager.getBindSignalsValue(a[d])),Ce.length){let $e=r.getSvgElements(J.id);for(let nt=0;nt<$e.length;nt++)Ce.forEach(Tt=>{this.gaugesManager.processValue(J,$e[nt],Tt,oe)})}if(J.property.events){const $e=ii.Aq.getEnumKey(It.e6,It.e6.onLoad),nt=J.property.events?.filter(Tt=>Tt.type===$e);nt?.length&&this.runEvents(this,J,null,nt)}}}catch(m){console.error("loadWatch: "+d,m)}this.subscriptionOnChange||(this.subscriptionOnChange=this.gaugesManager.onchange.subscribe(this.handleSignal.bind(this)));for(let d in this.staticValues)this.staticValues.hasOwnProperty(d)&&this.handleSignal({id:d,value:this.staticValues[d]});this.hmiService.viewsTagsSubscribe(this.gaugesManager.getBindedSignalsId(),!0)}}handleSignal(t){if(void 0!==t.value)try{let i=this.gaugesManager.getGaugeSettings(this.id,t.id);if(i)for(let n=0;n<i.length;n++){let a=i[n],s=this.getGaugeStatus(a);if(this.checkStatusValue(a.id,s,t)){let d=r.getSvgElements(a.id);for(let m=0;m<d.length;m++)this.gaugesManager.processValue(a,d[m],t,s)}}}catch{}}getGaugeStatus(t){return this.mapGaugeStatus[t.id]||(this.mapGaugeStatus[t.id]=this.gaugesManager.createGaugeStatus(t)),this.mapGaugeStatus[t.id]}applyVariableMapping(t,i){t=JSON.parse(JSON.stringify(t));for(let n in t){if(!t.hasOwnProperty(n))continue;let s=t[n].property;s&&(this.applyVariableMappingTo(s,i),s.actions&&s.actions.forEach(d=>{this.applyVariableMappingTo(d,i)}),s.events&&s.events.forEach(d=>{d.actoptions&&(ii.Aq.isObject(d.actoptions.variable)?this.applyVariableMappingTo(d.actoptions.variable,i):this.applyVariableMappingTo(d.actoptions,i))}),s.ranges&&s.ranges.forEach(d=>{d.textId&&this.applyVariableMappingTo(d.textId,i)}))}return t}applyVariableMappingTo(t,i){if(t&&t.variableId){if(this.plainVariableMapping.hasOwnProperty(t.variableId))return t.variableValue=this.plainVariableMapping[t.variableId]?.variableValue,void(t.variableId=this.plainVariableMapping[t.variableId]?.variableId);if(i){const n=Gi.$d.placeholderToTag(t.variableId,i);if(n)return t.variableId=n.id,void(t.variableValue=n.value)}}}checkStatusValue(t,i,n){let a=!0;if(i.onlyChange){if(i.takeValue){let s=this.gaugesManager.getGaugeValue(t);i.variablesValue[n.id]=s}i.variablesValue[n.id]===n.value&&(a=!1)}return i.variablesValue[n.id]=n.value,a}onBindMouseEvents(t){let a,i=this.parent||this,n=r.getSvgElement(t.id);if(n){let s=i.gaugesManager.getBindMouseEvent(t,It.e6.dblclick),d=i.gaugesManager.getBindMouseEvent(t,It.e6.click);d?.length>0?(n.click(function(Ce){clearTimeout(a),a=setTimeout(function(){i.runEvents(i,t,Ce,d)},s?.length>0?200:0)}),n.touchstart(function(Ce){i.runEvents(i,t,Ce,d),Ce.preventDefault()})):s?.length>0&&n.dblclick(function(Ce){clearTimeout(a),i.runEvents(i,t,Ce,s),Ce.preventDefault()});let m=i.gaugesManager.getBindMouseEvent(t,It.e6.mousedown);m?.length>0&&(n.mousedown(function(Ce){i.runEvents(i,t,Ce,m)}),n.touchstart(function(Ce){i.runEvents(i,t,Ce,m),Ce.preventDefault()}));let I=i.gaugesManager.getBindMouseEvent(t,It.e6.mouseup);I?.length>0&&(n.mouseup(function(Ce){i.runEvents(i,t,Ce,I)}),n.touchend(function(Ce){i.runEvents(i,t,Ce,I),Ce.preventDefault()}));let J=i.gaugesManager.getBindMouseEvent(t,It.e6.mouseover);J?.length>0&&n.mouseover(function(Ce){i.runEvents(i,t,Ce,J)});let oe=i.gaugesManager.getBindMouseEvent(t,It.e6.mouseout);oe?.length>0&&n.mouseout(function(Ce){i.runEvents(i,t,Ce,oe)})}}runEvents(t,i,n,a){for(let s=0;s<a.length;s++){let d=Object.keys(It.Qk).indexOf(a[s].action),m=Object.values(It.Qk);m.indexOf(It.Qk.onpage)===d?t.loadPage(n,a[s].actparam,a[s].actoptions):m.indexOf(It.Qk.onwindow)===d?t.onOpenCard(i.id,n,a[s].actparam,a[s].actoptions):m.indexOf(It.Qk.ondialog)===d?t.openDialog(n,a[s].actparam,a[s].actoptions):m.indexOf(It.Qk.onSetValue)===d?t.onSetValue(i,a[s]):m.indexOf(It.Qk.onToggleValue)===d?t.onToggleValue(i,a[s]):m.indexOf(It.Qk.onSetInput)===d?t.onSetInput(i,a[s]):m.indexOf(It.Qk.oniframe)===d?t.openIframe(i.id,n,a[s].actparam,a[s].actoptions):m.indexOf(It.Qk.oncard)===d?t.openWindow(i.id,n,a[s].actparam,a[s].actoptions):m.indexOf(It.Qk.onclose)===d?t.onClose(n):m.indexOf(It.Qk.onMonitor)===d?t.onMonitor(i,n,a[s].actparam,a[s].actoptions):a[s].action===this.eventRunScript?t.onRunScript(a[s]):a[s].action===this.eventOpenTab?t.onOpenTab(a[s],a[s].actoptions):a[s].action===this.eventViewToPanel&&t.onSetViewToPanel(a[s])}}onToggleValue(t,i){const n=i.actoptions;n?.variable?.variableId?this.gaugesManager.toggleSignalValue(n.variable.variableId,n.variable.bitmask):t.property&&t.property.variableId&&this.gaugesManager.toggleSignalValue(t.property.variableId)}setInputValidityMessage(t,i){i.setCustomValidity("html-input.out-of-range"===t.errorText?`${this.translateService.instant(t.errorText)}. ${this.translateService.instant("html-input.min")}=${t.min}, ${this.translateService.instant("html-input.max")}=${t.max}`:this.translateService.instant(t.errorText)),i.reportValidity()}onBindHtmlEvent(t){let i=this;"keyboardFullScreen"===this.hmi.layout?.inputdialog&&(this.touchKeyboard.ngxTouchKeyboardFullScreen=!0),"key-enter"===t.type?(t.dom.onkeydown=function(n){if("Enter"==n.key){t.dbg="key pressed "+t.dom.id+" "+t.dom.value,t.id=t.dom.id,t.value=t.dom.value;let a=Fs.validateValue(t.dom.value,t.ga);if(a.valid?(t.value=a.value,i.gaugesManager.putEvent(t),t.dom.blur()):i.setInputValidityMessage(a,t.dom),t.ga.type===Fs.TypeTag){const s=JSON.parse(JSON.stringify(Fs.getEvents(t.ga.property,It.e6.enter)));i.eventForScript(s,t.value)}}else"Escape"==n.key&&t.dom.blur()},"true"===this.hmi.layout.inputdialog?t.dom.onfocus=function(n){if(n.currentTarget){var a=n.currentTarget.getBoundingClientRect();i.toggleShowInputDialog(!0,a.left+(a.width<80?-(80-a.width)/2:0)-7,a.top-8,t);for(let s=0;s<n.currentTarget.attributes.length;s++)n.currentTarget.attributes.style&&i.setInputDialogStyle(i.inputDialogRef.nativeElement,n.currentTarget.attributes.style.textContent,a);i.gaugeInputCurrent=t.dom.value,document.body.appendChild(i.inputDialogRef.nativeElement),Fs.checkInputType(i.inputValueRef.nativeElement,t.ga.property?.options),setTimeout(()=>{i.inputValueRef.nativeElement.focus()},300)}}:(this.hmi.layout?.inputdialog.startsWith("keyboard")&&t.ga?.type===Fs.TypeTag&&(t.dom.onfocus=function(n){i.touchKeyboard.closePanel();let a=new e.aKT(t.dom);(t.ga?.property?.options?.numeric||t.ga?.property?.options?.type===It.qR.number)&&(a.nativeElement.inputMode="decimal"),t.ga?.property?.options?.type!==It.qR.datetime&&t.ga?.property?.options?.type!==It.qR.date&&t.ga?.property?.options?.type!==It.qR.time&&i.touchKeyboard.openPanel(a).pipe((0,Fo.s)(1)).subscribe(()=>{t.dom.blur()})}),t.dom.onblur=function(n){let a=i.gaugesManager.getBindSignalsValue(t.ga),s=r.getSvgElements(t.ga.id);a.length&&s.length&&t.ga?.type!==Fs.TypeTag&&!Fs.InputDateTimeType.includes(t.ga?.property.options?.type)&&i.gaugesManager.processValue(t.ga,s[0],a[0],new It.AY),t.dom.setCustomValidity(""),i.checkRestoreValue(t)},t.dom.oninput=function(n){t.dom.setCustomValidity("")})):"change"===t.type&&(t.dom.onchange=function(n){if(t.dbg="key pressed "+t.dom.id+" "+t.dom.value,t.id=t.dom.id,t.value=t.dom.value,i.gaugesManager.putEvent(t),t.ga.type===Ul.TypeTag){const a=JSON.parse(JSON.stringify(Ul.getEvents(t.ga.property,It.e6.select)));i.eventForScript(a,t.value)}})}checkRestoreValue(t){t.ga?.property?.options?.updated&&(t.ga.property.options.updatedEsc||t.ga.property.options.actionOnEsc===It.Qs.update)?setTimeout(()=>{const n=this.getGaugeStatus(t.ga)?.variablesValue[t.ga?.property?.variableId];ii.Aq.isNullOrUndefined(n)||(t.dom.value=n)},1e3):t.ga?.property?.options?.actionOnEsc===It.Qs.enter&&this.emulateEnterKey(t.dom)}eventForScript(t,i){t?.forEach(n=>{i&&n.actoptions[qo.od].forEach(s=>{s.type===this.scriptParameterValue&&!s.value&&(s.value=i)}),this.onRunScript(n)})}setInputDialogStyle(t,i,n){for(let a=0;a<t.children.length;a++){let s=t.children[a];"input"===s.tagName.toLowerCase()&&(s.value="",s.setAttribute("style",i+="width: "+n.width+"px !important;"))}t.style.backgroundColor=this.view.profile.bkcolor}getView(t){let i;const n=this.hmi??this.hmiService.hmi;for(let a=0;a<n?.views?.length;a++)if(n.views[a]?.id===t){i=n.views[a];break}return i}static getSvgElements(t){let i=document.getElementsByTagName("svg"),n=[];for(let a=0;a<i.length;a++){let s=i[a].getElementById(t);s&&n.push(SVG.adopt(s))}return n}static getSvgElement(t){let i=document.getElementsByTagName("svg");for(let n=0;n<i.length;n++){let a=i[n].getElementById(t);if(a)return SVG.adopt(a)}}loadPage(t,i,n){let a=this.getView(i);a&&(n?.variablesMapping&&this.loadVariableMapping(n.variablesMapping),this.sourceDeviceId=n.sourceDeviceId,this.loadHmi(a,!0),t.scaleMode&&ii.Aq.resizeViewRev(this.dataContainer.nativeElement,this.dataContainer.nativeElement.parentElement?.parentElement,t.scaleMode))}openDialog(t,i,n={}){let a={view:this.getView(i),bkColor:"transparent",variablesMapping:n.variablesMapping,disableDefaultClose:n.hideClose,gaugesManager:this.gaugesManager,sourceDeviceId:n.sourceDeviceId};this.fuxaDialog.open(ij,{panelClass:"fuxa-dialog-property",disableClose:!0,data:a,autoFocus:!1,position:{top:"60px"}}).afterClosed().subscribe()}onOpenCard(t,i,n,a={}){a?.singleCard&&(this.cards=[],this.changeDetector.detectChanges());let s=this.getView(n);if(!s)return;let d=null;if(this.cards.forEach(m=>{m.id===t&&(d=m)}),!d){if(d=new rj(t),d.x=ii.Aq.isNumeric(a.left)?parseInt(a.left):0,d.y=ii.Aq.isNumeric(a.top)?parseInt(a.top):0,i&&a.relativeFrom!==It.Eh.window){const m=iAe.getEventClientPosition(i);m&&(d.x+=m.x??0,d.y+=m.y??0)}this.hmi.layout.hidenavigation&&(d.y-=48),d.width=s.profile.width,d.height=s.profile.height,d.view=s,d.variablesMapping=a?.variablesMapping,d.disableDefaultClose=a?.hideClose,d.sourceDeviceId=a?.sourceDeviceId,this.parentcards?this.parentcards.push(d):this.cards.push(d)}}onOpenTab(t,i){window.open("resource"===t.actoptions?.addressType?this.endPointConfig+"/"+t.actoptions.resource:t.actparam,i.newTab?"_blank":"_self")}openIframe(t,i,n,a){let s=null;this.iframes.forEach(d=>{d.id===t&&(s=d)}),!s&&(s=new rj(t),s.x=ii.Aq.isNumeric(a.left)?parseInt(a.left):i.clientX,s.y=ii.Aq.isNumeric(a.top)?parseInt(a.top):i.clientY,s.width=ii.Aq.isNumeric(a.width)?parseInt(a.width):600,s.height=ii.Aq.isNumeric(a.height)?parseInt(a.height):400,s.scale=ii.Aq.isNumeric(a.scale)?parseFloat(a.scale):1,s.link=n,s.name=n,this.iframes.push(s),this.onIframeResizing(s,{size:{width:s.width,height:s.height}}))}onIframeResizing(t,i){t.width=i.size.width,t.height=i.size.height}onCloseIframe(t){this.iframes.forEach(i=>{i.id===t.id&&this.iframes.splice(this.cards.indexOf(i),1)})}openWindow(t,i,n,a){const s=ii.Aq.isNumeric(a.width)?parseInt(a.width):600,d=ii.Aq.isNumeric(a.height)?parseInt(a.height):400,m=ii.Aq.isNumeric(a.left)?parseInt(a.left):i.clientX,I=ii.Aq.isNumeric(a.top)?parseInt(a.top):i.clientY;window.open(n,"_blank",a.newTab?null:`height=${d},width=${s},left=${m},top=${I}`)}onCloseCard(t){this.cards.splice(this.cards.indexOf(t),1)}onClose(t){this.onclose&&this.onclose.emit(t)}onSetValue(t,i){if(i.actparam){let n=this.fetchVariableId(i)||t.property.variableId,a=this.fetchFunction(i);this.gaugesManager.putSignalValue(n,i.actparam,a)}}onSetInput(t,i){if(i.actparam){let n=document.getElementById(i.actparam);if(n){let a=null;for(let s=0;s<oo.GaugeWithProperty.length&&(a=ii.Aq.searchTreeStartWith(n,oo.GaugeWithProperty[s]),!a);s++);if(a&&!ii.Aq.isNullOrUndefined(a.value)){let s=this.fetchVariableId(i)||t.property.variableId;this.gaugesManager.putSignalValue(s,a.value)}}}}onRunScript(t){if(t.actparam){let i=ii.Aq.clone(this.projectService.getScripts().find(a=>a.id==t.actparam));i.parameters=ii.Aq.clone(t.actoptions[qo.od]);const n=i.parameters.filter(a=>a.value?.startsWith(Gi.e4.id)).map(a=>a.value);if(n?.length){const a=this.getViewPlaceholderValue(n);i.parameters.forEach(s=>{ii.Aq.isNullOrUndefined(a[s.value])||(s.value=a[s.value])})}this.scriptService.runScript(i).subscribe(a=>{},a=>{console.error(a)})}}onMonitor(t,i,n,a={}){let s={view:this.getView(n),bkColor:"transparent",gaugesManager:this.gaugesManager,ga:t};this.fuxaDialog.open(nj,{panelClass:"fuxa-dialog-property",disableClose:!1,data:s,position:{top:i.layerY+30+"px",left:i.layerX+10+"px"}}).afterClosed().subscribe()}onSetViewToPanel(t){if(t.actparam&&t.actoptions){let i=this.mapControls[t.actoptions.panelId];const n=this.view.items[t.actoptions.panelId]?.property;i.loadPage(n,t.actparam,t.actoptions)}}getCardHeight(t){return parseInt(t)+4}getViewPlaceholderValue(t){let i={};return Object.values(this.view.items).forEach(n=>{if(-1!==t.indexOf(n.property?.variableId)&&this.mapControls[n.id]){const a=this.mapControls[n.id];a&&!0!==a&&a.getValue&&(i[n.property?.variableId]=a.getValue())}}),this.variablesMapping?.forEach(n=>{-1!==t.indexOf(n?.from?.variableId)&&n?.to?.variableId&&(i[n.from.variableId]=n.to.variableId)}),i}fetchVariableId(t){return t.actoptions?ii.Aq.isObject(t.actoptions.variable)&&t.actoptions.variable.variableId?t.actoptions.variable.variableId:t.actoptions.variableId?t.actoptions.variableId:null:null}fetchFunction(t){return t.actoptions&&t.actoptions.function?t.actoptions.function:null}toggleShowInputDialog(t,i=-1,n=-1,a=null){if(t){let s=self.innerHeight-(n+114);n<0?n=0:s<0&&(n+=s),this.inputDialog.show=!0,i>=0&&n>=0&&(this.inputDialog.target=a,this.inputDialog.x=i,this.inputDialog.y=n),clearTimeout(this.inputDialog.timer)}else this.inputDialog.timer=setTimeout(()=>{this.inputDialog.show=!1,this.gaugeInputCurrent=""},300)}onNoClick(){}inputOnChange(){this.inputValueRef.nativeElement.setCustomValidity("")}onOkClick(t){if(this.inputDialog.target.dom){let i=Fs.validateValue(t,this.inputDialog.target.ga);i.valid?(this.inputValueRef.nativeElement.setCustomValidity(""),this.inputDialog.target.dom.value=t,this.inputDialog.target.dbg="key pressed "+this.inputDialog.target.dom.id+" "+this.inputDialog.target.dom.value,this.inputDialog.target.id=this.inputDialog.target.dom.id,this.inputDialog.target.value=this.inputDialog.target.dom.value,this.gaugesManager.putEvent({...this.inputDialog.target,value:i.value}),this.emulateEnterKey(this.inputDialog.target.dom)):this.setInputValidityMessage(i,this.inputValueRef.nativeElement)}}emulateEnterKey(t){const i=new KeyboardEvent("keydown",{key:"Enter",keyCode:13,code:"Enter",bubbles:!0});t.dispatchEvent(i)}static setAlignStyle(t,i){t===It.k4.middleCenter&&(i.style.position="absolute",i.style.top="50%",i.style.left="50%",i.style.transform="translate(-50%, -50%)")}static \u0275fac=function(i){return new(i||r)(e.rXU(Vi.c$),e.rXU(e.gRc),e.rXU(e.c1b),e.rXU(k_.f),e.rXU(kr.TR),e.rXU(BA.Ih),e.rXU(D_),e.rXU(e.OM3),e.rXU(Qo))};static \u0275cmp=e.VBU({type:r,selectors:[["app-fuxa-view"]],viewQuery:function(i,n){if(1&i&&(e.GBs(nAe,5),e.GBs(rAe,5),e.GBs(oAe,5),e.GBs(aAe,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.dataContainer=a.first),e.mGM(a=e.lsd())&&(n.inputDialogRef=a.first),e.mGM(a=e.lsd())&&(n.inputValueRef=a.first),e.mGM(a=e.lsd())&&(n.touchKeyboard=a.first)}},hostBindings:function(i,n){1&i&&e.bIt("resize",function(s){return n.onResize(s)},!1,e.tSv)},inputs:{id:"id",variablesMapping:"variablesMapping",view:"view",hmi:"hmi",child:"child",gaugesManager:"gaugesManager",parentcards:"parentcards",sourceDeviceId:"sourceDeviceId"},outputs:{onclose:"onclose",ongoto:"ongoto"},decls:18,vars:13,consts:[["id","content",1,"view-container",3,"ngStyle"],["dataContainer",""],["class","fab-card","style","cursor: auto !important;","ngDraggable","",3,"height","left","top","width","handle",4,"ngFor","ngForOf"],["class","fab-iframe","ngDraggable","","ngResizable","",3,"handle","height","left","top","width","rzResizing",4,"ngFor","ngForOf"],[1,"dialog-input"],["inputDialogRef",""],["matInput","","autocomplete","off","type","text","disabled","",3,"ngModel","ngModelChange"],["matInput","","autocomplete","off","type","text",3,"ngModel","ngModelChange","focus","focusout"],["inputValueRef",""],[2,"display","block","padding-top","4px","width","fit-content","margin","auto"],["mat-raised-button","","color","primary",2,"min-width","16px","padding-left","4px","padding-right","4px","margin-right","4px",3,"click"],["mat-raised-button","",2,"min-width","16px","padding-left","4px","padding-right","4px",3,"click"],["type","text","ngxTouchKeyboard","",2,"display","none",3,"focus"],["touchKeyboard","ngxTouchKeyboard"],["ngDraggable","",1,"fab-card",2,"cursor","auto !important",3,"handle"],[1,"card-move-area"],["DemoHandle",""],["class","card-close",3,"click",4,"ngIf"],[3,"child","gaugesManager","hmi","parentcards","variablesMapping","view","sourceDeviceId","onclose"],[1,"card-close",3,"click"],[1,"material-icons",2,"font-size","22px","cursor","pointer"],["ngDraggable","","ngResizable","",1,"fab-iframe",3,"handle","rzResizing"],[1,"iframe-header"],["iframeHandle",""],[3,"click"],[1,"iframe-class",3,"link"]],template:function(i,n){if(1&i){const a=e.RV6();e.nrm(0,"div",0,1),e.DNE(2,lAe,5,17,"div",2),e.DNE(3,cAe,9,19,"div",3),e.j41(4,"div",4,5)(6,"input",6),e.bIt("ngModelChange",function(d){return n.gaugeInputCurrent=d}),e.k0s(),e.j41(7,"input",7,8),e.bIt("ngModelChange",function(d){return n.gaugeInput=d})("focus",function(){return n.toggleShowInputDialog(!0)})("focusout",function(){return n.toggleShowInputDialog(!1)})("ngModelChange",function(){return n.inputOnChange()}),e.k0s(),e.j41(9,"div",9)(10,"button",10),e.bIt("click",function(){return n.onOkClick(n.gaugeInput)}),e.j41(11,"mat-icon"),e.EFF(12,"done"),e.k0s()(),e.j41(13,"button",11),e.bIt("click",function(){return n.onNoClick()}),e.j41(14,"mat-icon"),e.EFF(15,"close"),e.k0s()()()(),e.j41(16,"input",12,13),e.bIt("focus",function(){e.eBV(a);const d=e.sdS(17);return e.Njj(d.openPanel())}),e.k0s()}2&i&&(e.Y8G("ngStyle",e.eq3(11,AAe,n.viewLoaded?"visible":"hidden")),e.R7$(2),e.Y8G("ngForOf",n.cards),e.R7$(1),e.Y8G("ngForOf",n.iframes),e.R7$(1),e.xc7("display",n.inputDialog.show?"inline-block":"none")("top",n.inputDialog.y,"px")("left",n.inputDialog.x,"px"),e.R7$(2),e.Y8G("ngModel",n.gaugeInputCurrent),e.R7$(1),e.Y8G("ngModel",n.gaugeInput))},dependencies:[l.Sq,l.bT,l.B3,k,qe,tn,zn,Kn,qd,FF,tz,DO,k4,r],styles:[".view-container[_ngcontent-%COMP%]{display:table}.fab-card[_ngcontent-%COMP%]{position:absolute;width:1300px;height:800px;box-shadow:0 1px 4px 1px #888}.card-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:22px;width:22px;color:#000000b3;background-color:transparent;font-size:12px;cursor:move!important}.card-move-area[_ngcontent-%COMP%]{z-index:999;position:absolute;top:0;left:0;right:0;height:22px}.card-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.fab-iframe[_ngcontent-%COMP%]{position:absolute;width:800px;height:600px;background-color:#000;box-shadow:0 2px 5px #00000042}.iframe-header[_ngcontent-%COMP%]{display:block;height:22px;width:100%;color:#fff;background-color:#000;font-size:12px;text-align:center;line-height:22px}.iframe-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right;color:#fff}.iframe-class[_ngcontent-%COMP%]{display:block;height:100%;transform-origin:0 0}.ng-draggable[_ngcontent-%COMP%]{cursor:move}.dialog-modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto}  .fuxa-dialog-property .mat-dialog-container{padding:0}.dialog-modal-content[_ngcontent-%COMP%]{border:1px solid #888;box-shadow:0 0 12px #000!important;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.dialog-modal-close[_ngcontent-%COMP%]{position:relative;top:0;right:0;height:22px;width:100%;color:#000000b3;background-color:transparent;font-size:12px;cursor:move!important}.dialog-modal-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.dialog-input[_ngcontent-%COMP%]{z-index:9999;box-shadow:1px 2px 5px -1px #888;position:absolute;padding:5px;background-color:#fff;min-width:80px;border:.5px solid #888;border-radius:2px}.dialog-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:.5px solid rgba(0,0,0,.1);border-radius:2px;padding:6px 3px 7px 4px;width:100%;display:block;margin:2px auto}.dialog-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px}"]})}return r})();class rj{id;name;link;x;y;scale;scaleX;scaleY;width;height;variablesMapping=[];view;sourceDeviceId;disableDefaultClose;constructor(o){this.id=o}}var G0=ie(3378);function dAe(r,o){1&r&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-title")," "))}function uAe(r,o){1&r&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.history-title")," "))}function hAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-ontime")," "))}function pAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",e.i5U(2,3,t.ontime,"yyyy.MM.dd HH:mm:ss")," ")}}function fAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-text")," "))}function gAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.text," ")}}function mAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-type")," "))}function vAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.type,"")}}function _Ae(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-group")," "))}function yAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.group,"")}}function bAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-status")," "))}function wAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.status," ")}}function CAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-offtime")," "))}function EAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.offtime?e.i5U(2,3,t.offtime,"yyyy.MM.dd HH:mm:ss"):""," ")}}function BAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-acktime")," "))}function MAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.acktime?e.i5U(2,3,t.acktime,"yyyy.MM.dd HH:mm:ss"):""," ")}}function xAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell")(1,"button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAckAllAlarm())}),e.nI1(2,"translate"),e.j41(3,"mat-icon"),e.EFF(4,"check_circle_outline"),e.k0s()()()}2&r&&(e.R7$(1),e.FS9("matTooltip",e.bMT(2,1,"alarms.view-ack-all-alarms")))}function DAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onAckAlarm(n))}),e.j41(1,"mat-icon"),e.EFF(2,"check_circle_outline"),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.Y8G("disabled",0===t.toack)}}function IAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.DNE(1,DAe,3,1,"button",32),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.Y8G("ngIf",t.toack>=0)}}function kAe(r,o){1&r&&(e.j41(0,"mat-header-cell",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.view-userack")," "))}function TAe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.userack,"")}}function FAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(4);return n.stopPropagation(),e.Njj(a.onShowMode("expand"))}),e.j41(1,"mat-icon"),e.EFF(2,"fullscreen"),e.k0s()()}}function SAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(4);return n.stopPropagation(),e.Njj(a.onShowMode("collapse"))}),e.j41(1,"mat-icon"),e.EFF(2,"fullscreen_exit"),e.k0s()()}}function QAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41),e.DNE(1,FAe,3,0,"button",42),e.DNE(2,SAe,3,0,"button",42),e.j41(3,"button",43),e.bIt("click",function(n){return e.eBV(t),e.XpG(3).onClose(),e.Njj(n.stopPropagation())}),e.j41(4,"mat-icon"),e.EFF(5,"clear"),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf","collapse"===t.currentShowMode),e.R7$(1),e.Y8G("ngIf","expand"===t.currentShowMode)}}function RAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",35)(1,"button",36)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",37,38)(6,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onShowAlarms())}),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",39),e.bIt("click",function(){e.eBV(t),e.XpG(2);const n=e.sdS(44);return e.Njj(n.open())}),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.DNE(12,QAe,6,2,"div",40),e.k0s()}if(2&r){const t=e.sdS(5),i=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",t),e.R7$(3),e.Y8G("overlapTrigger",!1),e.R7$(3),e.JRh(e.bMT(8,5,"alarms.show-current")),e.R7$(3),e.JRh(e.bMT(11,7,"alarms.show-history")),e.R7$(2),e.Y8G("ngIf",!i.showInContainer)}}function PAe(r,o){if(1&r&&(e.j41(0,"mat-header-cell"),e.DNE(1,RAe,13,9,"div",34),e.k0s()),2&r){const t=e.XpG();e.xc7("flex",t.showInContainer?"0 0 10px":"0 0 90px"),e.R7$(1),e.Y8G("ngIf",!t.fullview||t.showInContainer)}}function OAe(r,o){if(1&r&&e.nrm(0,"mat-cell"),2&r){const t=o.$implicit,i=e.XpG();e.xc7("color",t.color)("flex",i.showInContainer?"0 0 10px":"0 0 90px")}}function LAe(r,o){1&r&&e.nrm(0,"mat-header-row")}function YAe(r,o){1&r&&e.nrm(0,"mat-row",44),2&r&&e.xc7("background-color",o.$implicit.bkcolor)}function NAe(r,o){1&r&&(e.j41(0,"div",45),e.nrm(1,"mat-spinner",46),e.k0s())}const jAe=function(r){return{height:r}},GAe=function(){return[10,25,100]};let T4=(()=>{class r{translateService;dialog;languageService;hmiService;alarmsColumns=Cw;historyColumns=AD;displayColumns=Cw;showheader=!1;currentShowMode="collapse";alarmsPolling;statusText=Ew;priorityText=Bw;alarmShowType=z_;showType=z_.alarms;history=[];alarmsLoading=!1;dateRange;autostart=!1;showInContainer=!1;fullview=!0;showMode=new e.bkB;dataSource=new Ln([]);table;sort;paginator;rxjsPollingTimer=(0,Co.O)(0,2e3);destroy=new An.B;constructor(t,i,n,a){this.translateService=t,this.dialog=i,this.languageService=n,this.hmiService=a;const s=m1();this.dateRange=new Pt({endDate:new Kt(s.set({hour:23,minute:59,second:59,millisecond:999}).toDate()),startDate:new Kt(s.set({hour:0,minute:0,second:0,millisecond:0}).add(-3,"day").toDate())})}ngOnInit(){Object.keys(this.statusText).forEach(t=>{this.translateService.get(this.statusText[t]).subscribe(i=>{this.statusText[t]=i})}),Object.keys(this.priorityText).forEach(t=>{this.translateService.get(this.priorityText[t]).subscribe(i=>{this.priorityText[t]=i})})}ngAfterViewInit(){this.displayColumns=this.alarmsColumns,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.table.renderRows(),this.autostart&&this.startAskAlarmsValues()}ngOnDestroy(){this.stopAskAlarmsValues()}startAskAlarmsValues(){this.startPolling()}stopAskAlarmsValues(){this.stopPolling()}stopPolling(){this.alarmsPolling=0,this.destroy.next(null),this.destroy.complete()}startPolling(){try{this.alarmsPolling||(this.alarmsPolling=1,this.destroy=new An.B,this.rxjsPollingTimer.pipe((0,jn.Q)(this.destroy),(0,Zs.n)(()=>this.hmiService.getAlarmsValues().pipe(Md(t=>this.handleError(t))))).subscribe(t=>{this.updateAlarmsList(t)}))}catch{}}handleError(t){return(0,Zd.I)()}updateAlarmsList(t){this.showType===z_.alarms&&(t.forEach(i=>{i.text=this.languageService.getTranslation(i.text)??i.text,i.group=this.languageService.getTranslation(i.group)??i.group,i.status=this.getStatus(i.status),i.type=this.getPriority(i.type)}),this.dataSource.data=t)}getStatus(t){return this.statusText[t]}getPriority(t){return this.priorityText[t]}onAckAlarm(t){this.hmiService.setAlarmAck(t.name).subscribe(i=>{},i=>{console.error("Error setAlarmAck",i)})}onAckAllAlarm(){this.dialog.open(th,{data:{msg:this.translateService.instant("msg.alarm-ack-all")},position:{top:"60px"}}).afterClosed().subscribe(i=>{i&&this.hmiService.setAlarmAck(null).subscribe(n=>{},n=>{console.error("Error onAckAllAlarm",n)})})}onShowMode(t){this.currentShowMode=t,this.showMode.emit(this.currentShowMode)}onClose(){this.onShowAlarms(),this.currentShowMode="collapse",this.showMode.emit("close"),this.stopAskAlarmsValues()}onShowAlarms(){this.showType=z_.alarms,this.displayColumns=this.alarmsColumns}onShowAlarmsHistory(){console.log(new Date(this.dateRange.value.startDate),new Date(this.dateRange.value.endDate)),this.showType=z_.history,this.displayColumns=this.historyColumns;let t={start:new Date(new Date(this.dateRange.value.startDate).setHours(0,0,0,0)),end:new Date(new Date(this.dateRange.value.endDate).setHours(23,59,59,999))};this.alarmsLoading=!0,this.hmiService.getAlarmsHistory(t).pipe(dg(1e3)).subscribe(i=>{i&&(i.forEach(n=>{n.status=this.getStatus(n.status),n.type=this.getPriority(n.type)}),this.dataSource.data=i),this.alarmsLoading=!1})}static \u0275fac=function(i){return new(i||r)(e.rXU(Vi.c$),e.rXU(Qo),e.rXU(D_),e.rXU(BA.Ih))};static \u0275cmp=e.VBU({type:r,selectors:[["app-alarm-view"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5),e.GBs(Dd,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first),e.mGM(a=e.lsd())&&(n.paginator=a.first)}},inputs:{autostart:"autostart",showInContainer:"showInContainer",fullview:"fullview"},outputs:{showMode:"showMode"},decls:52,vars:21,consts:[[1,"header-panel"],[4,"ngIf"],[1,"work-panel",3,"ngStyle"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","ontime"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"color",4,"matCellDef"],["matColumnDef","text"],["matColumnDef","type"],["matColumnDef","group"],["matColumnDef","status"],["matColumnDef","offtime"],["matColumnDef","acktime"],["matColumnDef","ack"],[4,"matHeaderCellDef"],["matColumnDef","userack"],["matColumnDef","history"],[3,"flex",4,"matHeaderCellDef"],[3,"color","flex",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","my-mat-row",3,"background-color",4,"matRowDef","matRowDefColumns"],[1,"table-pagination",3,"pageSizeOptions","pageSize"],["class","spinner-overlay",4,"ngIf"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","startDate"],["matEndDate","","formControlName","endDate"],["picker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply","",3,"click"],["mat-sort-header",""],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","","class","remove",3,"disabled","click",4,"ngIf"],["mat-icon-button","",1,"remove",3,"disabled","click"],["class","header-tools",4,"ngIf"],[1,"header-tools"],["mat-icon-button","",1,"header-tools-options",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["optionsgMenu",""],["mat-menu-item","",2,"font-size","14px",3,"click"],["style","display: inline-block;padding-left: unset;",4,"ngIf"],[2,"display","inline-block","padding-left","unset"],["mat-icon-button","","class","header-tools-options",3,"click",4,"ngIf"],["mat-icon-button","",1,"header-tools-options",3,"click"],[1,"my-mat-row"],[1,"spinner-overlay"],["diameter","40",1,"spinner",2,"margin","auto"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0),e.DNE(1,dAe,3,3,"div",1),e.DNE(2,uAe,3,3,"div",1),e.k0s(),e.j41(3,"div",2)(4,"mat-table",3,4),e.qex(6,5),e.DNE(7,hAe,3,3,"mat-header-cell",6),e.DNE(8,pAe,3,6,"mat-cell",7),e.bVm(),e.qex(9,8),e.DNE(10,fAe,3,3,"mat-header-cell",6),e.DNE(11,gAe,2,3,"mat-cell",7),e.bVm(),e.qex(12,9),e.DNE(13,mAe,3,3,"mat-header-cell",6),e.DNE(14,vAe,2,3,"mat-cell",7),e.bVm(),e.qex(15,10),e.DNE(16,_Ae,3,3,"mat-header-cell",6),e.DNE(17,yAe,2,3,"mat-cell",7),e.bVm(),e.qex(18,11),e.DNE(19,bAe,3,3,"mat-header-cell",6),e.DNE(20,wAe,2,3,"mat-cell",7),e.bVm(),e.qex(21,12),e.DNE(22,CAe,3,3,"mat-header-cell",6),e.DNE(23,EAe,3,6,"mat-cell",7),e.bVm(),e.qex(24,13),e.DNE(25,BAe,3,3,"mat-header-cell",6),e.DNE(26,MAe,3,6,"mat-cell",7),e.bVm(),e.qex(27,14),e.DNE(28,xAe,5,3,"mat-header-cell",15),e.DNE(29,IAe,2,3,"mat-cell",7),e.bVm(),e.qex(30,16),e.DNE(31,kAe,3,3,"mat-header-cell",6),e.DNE(32,TAe,2,3,"mat-cell",7),e.bVm(),e.qex(33,17),e.DNE(34,PAe,2,3,"mat-header-cell",18),e.DNE(35,OAe,1,4,"mat-cell",19),e.bVm(),e.DNE(36,LAe,1,0,"mat-header-row",20),e.DNE(37,YAe,1,2,"mat-row",21),e.k0s(),e.nrm(38,"mat-paginator",22),e.DNE(39,NAe,2,0,"div",23),e.j41(40,"mat-date-range-input",24),e.nrm(41,"input",25)(42,"input",26),e.k0s(),e.j41(43,"mat-date-range-picker",null,27)(45,"mat-date-range-picker-actions")(46,"button",28),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"button",29),e.bIt("click",function(){return n.onShowAlarmsHistory()}),e.EFF(50),e.nI1(51,"translate"),e.k0s()()()()),2&i){const a=e.sdS(44);e.R7$(1),e.Y8G("ngIf",n.showType===n.alarmShowType.alarms),e.R7$(1),e.Y8G("ngIf",n.showType===n.alarmShowType.history),e.R7$(1),e.Y8G("ngStyle",e.eq3(18,jAe,n.showInContainer||!n.fullview&&"expand"!==n.currentShowMode?"calc(100% - 37px)":"calc(100% - 83px)")),e.R7$(1),e.Y8G("dataSource",n.dataSource),e.R7$(32),e.Y8G("matHeaderRowDef",n.displayColumns)("matHeaderRowDefSticky",!0),e.R7$(1),e.Y8G("matRowDefColumns",n.displayColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(20,GAe))("pageSize",25),e.R7$(1),e.Y8G("ngIf",n.alarmsLoading),e.R7$(1),e.Y8G("formGroup",n.dateRange)("rangePicker",a),e.R7$(7),e.JRh(e.bMT(48,14,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(51,16,"dlg.apply"))}},dependencies:[l.bT,l.B3,k,qe,Ke,Pr,kt,zn,Zy,qC,eE,Hm,tE,Mv,$y,Kn,Gc,rA,tc,Dd,Id,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Is,l.vh,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);height:36px;width:100%;text-align:center;line-height:32px;border-bottom:1px solid var(--headerBorder)}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground)}.table-pagination[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:0;background:rgba(0,0,0,0)!important}.filter[_ngcontent-%COMP%]{display:inline-block;min-height:60px;padding:8px 24px 0}.filter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}.mat-header-row[_ngcontent-%COMP%]{top:0;position:relative;z-index:1;min-height:35px}.mat-header-cell[_ngcontent-%COMP%]{font-size:14px}.mat-row[_ngcontent-%COMP%]{min-height:34px}.mat-column-ontime[_ngcontent-%COMP%], .mat-column-offtime[_ngcontent-%COMP%]{flex:0 0 150px}.mat-column-text[_ngcontent-%COMP%]{flex:2 1 200px}.mat-column-type[_ngcontent-%COMP%]{flex:0 1 120px}.mat-column-group[_ngcontent-%COMP%]{flex:1 1 100px}.mat-column-status[_ngcontent-%COMP%]{flex:0 1 160px}.mat-column-ack[_ngcontent-%COMP%]{flex:0 0 60px}.mat-column-acktime[_ngcontent-%COMP%]{flex:0 0 150px}.mat-column-userack[_ngcontent-%COMP%]{flex:0 0 120px}.mat-column-history[_ngcontent-%COMP%]{flex:0 0 90px}.header-tools[_ngcontent-%COMP%]{line-height:32px}.header-tools[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;padding-left:10px}.header-tools-options[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px;vertical-align:bottom}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 20px)}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);z-index:99}  .mat-datepicker-popup{position:absolute;bottom:50%!important;left:50%!important;transform:translate(-50%,50%)}"]})}return r})();var z_=function(r){return r[r.alarms=0]="alarms",r[r.history=1]="history",r}(z_||{}),jf=ie(8244);class F4{id;name;latitude;longitude;description;viewId;pageId;url;constructor(o){this.id=o}}function UAe(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function zAe(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}let oj=(()=>{class r{dialogRef;fb;translateService;projectService;data;location;formGroup;views=[];constructor(t,i,n,a,s){this.dialogRef=t,this.fb=i,this.translateService=n,this.projectService=a,this.data=s,this.location=this.data??new F4(ii.Aq.getGUID("l_"))}ngOnInit(){this.views=this.projectService.getViews()?.filter(t=>t.type!==It.qi.maps),this.formGroup=this.fb.group({name:[this.location.name,j.required],latitude:[this.location.latitude],longitude:[this.location.longitude],viewId:[this.location.viewId],pageId:[this.location.pageId],url:[this.location.url],description:[this.location.description]}),this.formGroup.controls.name.addValidators(this.isValidName())}onNoClick(){this.dialogRef.close()}onOkClick(){this.location={...this.location,...this.formGroup.getRawValue()},this.dialogRef.close(this.location)}isValidName(){const t=this.projectService.getMapsLocations().map(i=>i.name);return i=>this.location?.name===i.value?null:-1!==t?.indexOf(i.value)?{name:this.translateService.instant("msg.maps-location-name-exist")}:null}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-maps-location-property"]],decls:54,vars:34,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","name","type","text"],[1,"form-input-dual","mt5"],[1,"my-form-field","inbk"],["formControlName","latitude","type","text"],[1,"my-form-field","inbk","ml20"],["formControlName","longitude","type","text"],[1,"my-form-field","mt5"],["formControlName","viewId"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","pageId"],[1,"my-form-field","item-block","mt5"],["formControlName","url","type","text"],["formControlName","description","type","text"],["mat-dialog-actions","",1,"dialog-action","mt10"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"div",7)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",8),e.k0s(),e.j41(18,"div",9)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"input",10),e.k0s()(),e.j41(23,"div",11)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"mat-select",12),e.nrm(28,"mat-option",13),e.DNE(29,UAe,2,2,"mat-option",14),e.k0s()(),e.j41(30,"div",11)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"mat-select",15),e.nrm(35,"mat-option",13),e.DNE(36,zAe,2,2,"mat-option",14),e.k0s()(),e.j41(37,"div",16)(38,"span"),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.nrm(41,"input",17),e.k0s(),e.j41(42,"div",16)(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.nrm(46,"input",18),e.k0s()(),e.j41(47,"div",19)(48,"button",20),e.bIt("click",function(){return n.onNoClick()}),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"button",21),e.bIt("click",function(){return n.onOkClick()}),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,14,"maps.location-property-title")),e.R7$(7),e.SpI("*",e.bMT(10,16,"maps.location-property-name"),""),e.R7$(6),e.JRh(e.bMT(16,18,"maps.location-property-latitude")),e.R7$(5),e.JRh(e.bMT(21,20,"maps.location-property-longitude")),e.R7$(5),e.JRh(e.bMT(26,22,"maps.location-property-card")),e.R7$(4),e.Y8G("ngForOf",n.views),e.R7$(3),e.JRh(e.bMT(33,24,"maps.location-property-view")),e.R7$(4),e.Y8G("ngForOf",n.views),e.R7$(3),e.JRh(e.bMT(40,26,"maps.location-property-url")),e.R7$(5),e.JRh(e.bMT(45,28,"maps.location-property-description")),e.R7$(5),e.JRh(e.bMT(50,30,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(53,32,"dlg.ok")))},dependencies:[l.Sq,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:400px;min-height:220px;overflow:hidden;padding-bottom:7px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .form-input-dual[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})();function HAe(r,o){if(1&r&&(e.j41(0,"mat-option",12)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(2),e.JRh(t.name)}}let VAe=(()=>{class r{dialogRef;projectService;data;formGroup;locationFilter=new Kt("");locations$;allLocations=[];constructor(t,i,n){this.dialogRef=t,this.projectService=i,this.data=n,this.formGroup=new Pt({location:new Kt(null,[j.required,this.locationValidator.bind(this)])})}ngOnInit(){this.allLocations=this.projectService.getMapsLocations()?.filter(t=>!this.data?.some(i=>i.id===t.id)),this.locations$=this.formGroup.get("location").valueChanges.pipe(ia(""),(0,h.T)(t=>this._filterLocations(t||"")))}_filterLocations(t){let i="";return"string"==typeof t?i=t.toLowerCase():t&&t.name&&(i=t.name.toLowerCase()),this.allLocations.filter(n=>n.name.toLowerCase().includes(i))}displayFn(t){return t?t.name:""}locationValidator(t){const i=t.value;return i&&"object"==typeof i&&i.id||"string"==typeof i&&this.allLocations.find(a=>a.name.toLowerCase()===i.toLowerCase())?null:{invalidLocation:!0}}onLocationSelected(t){this.formGroup.get("location").setValue(t),this.formGroup.get("location").updateValueAndValidity()}onNoClick(){this.dialogRef.close()}onOkClick(){const t=this.formGroup.get("location").value;let i;t&&"object"==typeof t&&t.id?i=t:"string"==typeof t&&(i=this.allLocations.find(n=>n.name===t)),i&&this.dialogRef.close(i)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-maps-location-import"]],decls:25,vars:25,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","input"],["matInput","","type","text","formControlName","location",1,"location-input",3,"title","placeholder","matAutocomplete"],[3,"displayWith","optionSelected"],["autoLocations","matAutocomplete"],["class","location-option-label",3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action","mt10"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"location-option-label",3,"value"]],template:function(i,n){if(1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.nI1(12,"translate"),e.nI1(13,"translate"),e.j41(14,"mat-autocomplete",6,7),e.bIt("optionSelected",function(s){return n.onLocationSelected(s.option.value)}),e.DNE(16,HAe,3,2,"mat-option",8),e.nI1(17,"async"),e.k0s()()(),e.j41(18,"div",9)(19,"button",10),e.bIt("click",function(){return n.onNoClick()}),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){return n.onOkClick()}),e.EFF(23),e.nI1(24,"translate"),e.k0s()()()),2&i){const a=e.sdS(15);e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,11,"maps.location-property-title")),e.R7$(7),e.JRh(e.bMT(10,13,"maps.location-to-import")),e.R7$(2),e.FS9("title",e.bMT(12,15,"maps.location-to-import-input-title")),e.FS9("placeholder",e.bMT(13,17,"maps.location-to-import-input-title")),e.Y8G("matAutocomplete",a),e.R7$(3),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(17,19,n.locations$)),e.R7$(4),e.JRh(e.bMT(21,21,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(24,23,"dlg.ok"))}},dependencies:[l.Sq,Fn,k,qe,Ke,Pr,kt,Av,Tm,Ur,zn,Or,eo,Rr,Kn,qd,Wr,l.Jj,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]     .location-input{font-size:13px;min-width:450px;vertical-align:unset!important;width:unset}  .location-option-label{line-height:28px!important;height:28px!important}  .location-option-label span{font-size:13px}"]})}return r})();function JAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){const a=e.eBV(t).$implicit;return e.Njj(a.action())}),e.j41(1,"mat-icon"),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit,i=o.index,n=e.XpG();e.Y8G("ngStyle",n.buttonStyles[i]),e.R7$(2),e.JRh(t.icon)}}let WAe=(()=>{class r{changeDetector;buttons=[];isOpen=!1;buttonStyles=[];constructor(t){this.changeDetector=t}ngAfterViewInit(){this.toggleMenu(),this.changeDetector.detectChanges()}toggleMenu(){this.isOpen=!this.isOpen,this.isOpen&&this.calculateButtonPositions()}calculateButtonPositions(){const t=this.buttons.length;let i=[];if(1===t)i=[0];else if(2===t)i=[-30,30];else{const s=120/(t-1);i=Array.from({length:t},(d,m)=>m*s-60)}this.buttonStyles=i.map(s=>{const d=s*(Math.PI/180);return{transform:`translate(${55*Math.sin(d)}px, ${55*-Math.cos(d)-30}px)`}})}static \u0275fac=function(i){return new(i||r)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:r,selectors:[["app-maps-fab-button-menu"]],inputs:{buttons:"buttons"},decls:3,vars:3,consts:[[1,"fab-container"],[1,"fab-buttons"],["mat-mini-fab","","class","fab",3,"ngStyle","click",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"fab",3,"ngStyle","click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,JAe,3,2,"button",2),e.k0s()()),2&i&&(e.R7$(1),e.AVh("open",n.isOpen),e.R7$(1),e.Y8G("ngForOf",n.buttons))},dependencies:[l.Sq,l.B3,zn,Kn],styles:["[_nghost-%COMP%]   .fab-container[_ngcontent-%COMP%]   .fab-buttons[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .fab-container[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{position:absolute;transition:transform .3s ease-in-out;background-color:#ffffffb3!important;color:#2b82c8!important}"]})}return r})();const KAe=["menuTrigger"],XAe=["mapContainer"];function ZAe(r,o){1&r&&e.nrm(0,"div",12)}function $Ae(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAddLocation())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.edit-add-location")," "))}function qAe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onImportLocation())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.edit-import-location")," "))}function ede(r,o){if(1&r&&(e.qex(0),e.DNE(1,$Ae,3,3,"button",10),e.DNE(2,qAe,3,3,"button",10),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.editMode),e.R7$(1),e.Y8G("ngIf",t.editMode)}}function tde(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onEditLocation())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.edit-edit-location")," "))}function ide(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onRemoveLocation())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.edit-remove-location")," "))}function nde(r,o){if(1&r&&(e.qex(0),e.DNE(1,tde,3,3,"button",10),e.DNE(2,ide,3,3,"button",10),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.editMode),e.R7$(1),e.Y8G("ngIf",t.editMode)}}function rde(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSetStartLocation())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.edit-start-location")," "))}const ode=function(r){return{"top.px":r}};let Q4=(()=>{class r{resolver;injector;dialog;projectService;appRef;translateService;toastr;view;hmi;gaugesManager;editMode;onGoTo=new e.bkB;menuTrigger;menuTriggerButton;mapContainer;map=null;destroy$=new An.B;lastClickLatLng;lastClickMarker;menuPosition={x:"0px",y:"0px"};locations=[];lastClickMapLocation;openPopups=[];currentPopup=null;constructor(t,i,n,a,s,d,m){this.resolver=t,this.injector=i,this.dialog=n,this.projectService=a,this.appRef=s,this.translateService=d,this.toastr=m}ngAfterViewInit(){let t=[46.9466746335407,7.444236656153662];this.view.property?.startLocation&&(t=[this.view.property.startLocation.latitude,this.view.property.startLocation.longitude]),setTimeout(()=>{this.map=jf.map("map").setView(t,this.view.property?.startZoom||13),jf.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; FUXA"}).addTo(this.map),this.loadMapsResources(),this.projectService.onLoadHmi.pipe((0,jn.Q)(this.destroy$)).subscribe(i=>{this.loadMapsResources()}),this.initMapEvents(),this.map.invalidateSize()},200)}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}reload(){this.loadMapsResources()}initMapEvents(){this.map.on("contextmenu",t=>{this.showContextMenu(t)}),this.map.on("click",()=>{this.menuTrigger.closeMenu()})}loadMapsResources(){this.hmi=this.projectService.getHmi(),this.locations=this.view?.svgcontent?this.projectService.getMapsLocations(JSON.parse(this.view.svgcontent)):[],this.clearMarker();const t=jf.icon({iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,45],popupAnchor:[0,-34]});this.locations.forEach(i=>{const n=jf.marker([i.latitude,i.longitude]).addTo(this.map);n.locationId=i.id,this.openMarkerTooltip(n,i),n.setIcon(t),n.on("click",()=>{this.onClickMarker(i,n)}),n.on("contextmenu",a=>{this.showContextMenu(a,n)})}),this.map.on("popupopen",i=>{this.openPopups.push(i.popup)}),this.map.on("popupclose",i=>{const n=this.openPopups.indexOf(i.popup);n>-1&&this.openPopups.splice(n,1),i.popup=null})}openMarkerTooltip(t,i){t.bindTooltip(`${i.name}`,{permanent:!1,direction:"top",offset:[2,-35]})}closeAllPopups(){this.openPopups.forEach(t=>t.close()),this.openPopups.length=0}showContextMenu(t,i){this.lastClickLatLng=t.latlng,this.lastClickMarker=i;const n=this.map.getContainer().getBoundingClientRect(),s=t.originalEvent.clientY-n.top,d=this.menuTriggerButton.nativeElement;d.style.left=t.originalEvent.clientX-n.left+"px",d.style.top=`${s}px`,d.style.position="absolute",d.style.display="block",this.menuTrigger.openMenu()}onClickMarker(t,i){this.currentPopup?(this.currentPopup.on("remove",()=>{this.currentPopup=null,this.showPopup(t,i)}),this.map.closePopup(this.currentPopup)):this.showPopup(t,i)}showPopup(t,i){this.lastClickMapLocation=t,this.isToOpenMenu()?this.showFabButton(t,i):this.createCardPopup(t,i)}showFabButton(t,i){const n=document.createElement("div"),s=this.resolver.resolveComponentFactory(WAe).create(this.injector);this.appRef.attachView(s.hostView),n.appendChild(s.hostView.rootNodes[0]),n.style.width="40px";var d=[];t.viewId&&d.push({icon:"chat_bubble_outline",action:()=>{this.map.closePopup(this.currentPopup),this.createCardPopup(t,i)}}),t.pageId&&d.push({icon:"arrow_outward",action:()=>{this.map.closePopup(this.currentPopup),this.onGoTo?.emit(t.pageId)}}),t.url&&d.push({icon:"open_in_new",action:()=>{this.map.closePopup(this.currentPopup),window.open(t.url,"_blank")}}),s.instance.buttons=d,this.currentPopup=jf.popup({closeButton:!1,autoClose:!1,closeOnClick:!0,offset:jf.point(0,0)}).setLatLng([t.latitude,t.longitude]).setContent(n).openOn(this.map),this.currentPopup.on("remove",()=>{this.currentPopup=null})}createCardPopup(t,i){setTimeout(()=>{let n="map"+t?.viewId;if(!t?.viewId||document.getElementById(n))return;const a=document.createElement("div"),d=this.resolver.resolveComponentFactory(hm).create(this.injector);d.instance.gaugesManager=this.gaugesManager,d.instance.hmi=this.hmi,d.instance.view=this.hmi.views.find(m=>m.id===t.viewId),d.instance.child=!0,a.setAttribute("id",n),this.appRef.attachView(d.hostView),a.appendChild(d.hostView.rootNodes[0]),a.style.width=d.instance.view.profile.width+"px",this.currentPopup=jf.popup({autoClose:!1,closeOnClick:!1,offset:jf.point(0,-20)}).setLatLng([t.latitude,t.longitude]).setContent(a).openOn(this.map),this.currentPopup.on("remove",()=>{this.currentPopup=null})},250)}onCloseAllPopup(){this.closeAllPopups()}onAddLocation(){let t=new F4(ii.Aq.getGUID("l_"));t.latitude=this.lastClickLatLng.lat,t.longitude=this.lastClickLatLng.lng,this.editLocation(t)}onEditLocation(){var t=this.locations.find(i=>i.id===this.lastClickMarker.locationId);t&&this.editLocation(t)}onRemoveLocation(){if(this.lastClickMarker){var t=this.locations.findIndex(i=>i.id===this.lastClickMarker.locationId);-1!==t&&(this.locations.splice(t,1),this.view.svgcontent=JSON.stringify(this.locations.map(i=>i.id)),this.projectService.setViewAsync(this.view).then(()=>{this.map.removeLayer(this.lastClickMarker),this.lastClickMarker=null,this.loadMapsResources()}))}}onSetStartLocation(){this.view.property??=new It.TH,this.view.property.startLocation=new F4(ii.Aq.getGUID("l_")),this.view.property.startLocation.latitude=this.lastClickLatLng.lat,this.view.property.startLocation.longitude=this.lastClickLatLng.lng,this.view.property.startZoom=this.map.getZoom(),this.projectService.setViewAsync(this.view).then(()=>{this.toastr.success(this.translateService.instant("maps.edit-start-location-saved"))})}onImportLocation(){this.dialog.open(VAe,{position:{top:"60px"},disableClose:!0,data:this.locations}).afterClosed().subscribe(i=>{i&&this.insertLocations(i)})}isToOpenMenu(){return!!this.lastClickMapLocation&&[this.lastClickMapLocation.pageId,this.lastClickMapLocation.url].filter(n=>null!=n&&""!==n).length>=1}clearMarker(){this.map.eachLayer(t=>{t instanceof jf.Marker&&this.map.removeLayer(t)})}editLocation(t){this.dialog.open(oj,{position:{top:"60px"},disableClose:!0,data:t}).afterClosed().subscribe(n=>{n&&this.projectService.setMapsLocation(n,t).subscribe(()=>{this.locations.find(a=>a.id===t.id)?this.loadMapsResources():this.insertLocations(t)})})}insertLocations(t){this.locations.push(t),this.view.svgcontent=JSON.stringify(this.locations.map(i=>i.id)),this.projectService.setViewAsync(this.view).then(()=>{this.loadMapsResources()})}static \u0275fac=function(i){return new(i||r)(e.rXU(e.OM3),e.rXU(e.zZn),e.rXU(Qo),e.rXU(kr.TR),e.rXU(e.o8S),e.rXU(Vi.c$),e.rXU(Gg.tw))};static \u0275cmp=e.VBU({type:r,selectors:[["app-maps-view"]],viewQuery:function(i,n){if(1&i&&(e.GBs(tc,5),e.GBs(KAe,5,e.aKT),e.GBs(XAe,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.menuTrigger=a.first),e.mGM(a=e.lsd())&&(n.menuTriggerButton=a.first),e.mGM(a=e.lsd())&&(n.mapContainer=a.first)}},inputs:{view:"view",hmi:"hmi",gaugesManager:"gaugesManager",editMode:"editMode"},outputs:{onGoTo:"onGoTo"},decls:15,vars:12,consts:[[1,"container"],["mapContainer",""],["class","tools_panel",4,"ngIf"],["id","map",3,"ngStyle"],["mat-button","",1,"hidden-trigger",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[3,"overlapTrigger"],["contextMenu","matMenu"],[4,"ngIf"],[1,"menu-separator"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"tools_panel"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0,1),e.DNE(2,ZAe,1,0,"div",2),e.nrm(3,"div",3),e.k0s(),e.nrm(4,"button",4,5),e.j41(6,"mat-menu",6,7),e.DNE(8,ede,3,2,"ng-container",8),e.DNE(9,nde,3,2,"ng-container",8),e.nrm(10,"mat-divider",9),e.DNE(11,rde,3,3,"button",10),e.j41(12,"button",11),e.bIt("click",function(){return n.onCloseAllPopup()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()),2&i){const a=e.sdS(7);e.R7$(2),e.Y8G("ngIf",n.editMode),e.R7$(1),e.Y8G("ngStyle",e.eq3(10,ode,n.editMode?37:0)),e.R7$(1),e.Y8G("matMenuTriggerFor",a),e.R7$(2),e.Y8G("overlapTrigger",!1),e.R7$(2),e.Y8G("ngIf",!n.lastClickMarker),e.R7$(1),e.Y8G("ngIf",n.lastClickMarker),e.R7$(2),e.Y8G("ngIf",n.editMode),e.R7$(2),e.SpI(" ",e.bMT(14,8,"maps.close-popups")," ")}},dependencies:[l.bT,l.B3,zn,r0,Gc,rA,tc,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .tools_panel[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:37px;background-color:var(--headerBackground);color:var(--headerColor)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]     .leaflet-popup-content-wrapper{padding:unset;border-radius:unset;background-color:transparent}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]     .leaflet-popup-content{width:auto!important;border-radius:unset;margin:unset;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]     .leaflet-popup-close-button{font-size:24px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]     .leaflet-popup-tip-container{display:none!important}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .hidden-trigger[_ngcontent-%COMP%]{position:absolute;opacity:0;pointer-events:none;z-index:-1}"]})}return r})();function ade(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"app-maps-view",10),e.bIt("onGoTo",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.onGoToPage(n))}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(1),e.Y8G("view",t.content)("hmi",i.hmi)("gaugesManager",i.gaugesManager)}}function sde(r,o){if(1&r&&(e.qex(0),e.nrm(1,"app-fuxa-view",11),e.bVm()),2&r){const t=e.XpG(3),i=t.index,n=t.$implicit,a=e.XpG();e.R7$(1),e.Mz_("id","fuxaView",i,""),e.Y8G("view",n.content)("hmi",a.hmi)("gaugesManager",a.gaugesManager)}}function lde(r,o){if(1&r&&(e.j41(0,"div"),e.qex(1,7),e.DNE(2,ade,2,3,"ng-container",8),e.DNE(3,sde,2,4,"ng-container",9),e.bVm(),e.k0s()),2&r){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(1),e.Y8G("ngSwitch",null==t.content?null:t.content.type),e.R7$(1),e.Y8G("ngSwitchCase",i.mapsViewType)}}function cde(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"app-alarm-view",12,13),e.k0s()),2&r&&(e.R7$(1),e.Y8G("fullview",!0)("showInContainer",!0)("autostart",!0))}function Ade(r,o){if(1&r&&(e.j41(0,"div",16)(1,"span")(2,"b"),e.EFF(3,"iframe"),e.k0s(),e.EFF(4),e.k0s()()),2&r){const t=e.XpG(3).$implicit;e.R7$(4),e.SpI(" ",t.card.data,"")}}function dde(r,o){if(1&r&&e.nrm(0,"app-iframe",17),2&r){const t=e.XpG(3).$implicit;e.Y8G("link",t.card.data)}}function ude(r,o){if(1&r&&(e.j41(0,"div"),e.DNE(1,Ade,5,1,"div",14),e.DNE(2,dde,1,1,"ng-template",null,15,e.C5r),e.k0s()),2&r){const t=e.sdS(3),i=e.XpG(3);e.R7$(1),e.Y8G("ngIf",i.edit)("ngIfElse",t)}}function hde(r,o){if(1&r&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,lde,4,2,"div",8),e.DNE(3,cde,3,3,"div",8),e.DNE(4,ude,4,2,"div",8),e.k0s()()),2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(1),e.xc7("transform","scale("+t.card.zoom+")"),e.Y8G("ngSwitch",t.card.type),e.R7$(1),e.Y8G("ngSwitchCase",i.cardType.view),e.R7$(1),e.Y8G("ngSwitchCase",i.cardType.alarms),e.R7$(1),e.Y8G("ngSwitchCase",i.cardType.iframe)}}function pde(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",18),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"mat-slider",19),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.card.zoom=n)})("input",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onZoomChanged(a,n))})("mousedown",function(n){return n.stopPropagation()}),e.k0s(),e.j41(4,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onEditCard(n))})("mousedown",function(n){return n.stopPropagation()}),e.j41(5,"mat-icon"),e.EFF(6,"edit"),e.k0s()(),e.j41(7,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onRemoveCard(n))})("mousedown",function(n){return n.stopPropagation()}),e.j41(8,"mat-icon"),e.EFF(9,"close"),e.k0s()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,3,"card.style-zoom")," "),e.R7$(2),e.Y8G("step",.05)("ngModel",t.card.zoom)}}function fde(r,o){if(1&r&&(e.j41(0,"gridster-item",3),e.DNE(1,hde,5,6,"div",4),e.DNE(2,pde,10,5,"div",5),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.Y8G("item",t),e.R7$(1),e.Y8G("ngIf",t.content),e.R7$(1),e.Y8G("ngIf",i.edit)}}let aj=(()=>{class r{renderer;changeDetector;options;edit=!0;view;hmi;gaugesManager;editCard=new e.bkB;onGoTo=new e.bkB;fuxaViews;gridOptions;dashboard=[];cardType=It.nW;mapsViewType=It.qi.maps;loadOk=!1;constructor(t,i){this.renderer=t,this.changeDetector=i,this.gridOptions=new sj,this.gridOptions.itemChangeCallback=this.itemChange,this.gridOptions.itemResizeCallback=r.itemResizeTrigger}ngOnInit(){this.gridOptions={...this.gridOptions,...this.options}}ngAfterViewInit(){this.reload()}reload(){if(this.loadOk)return;let t=document.querySelector("gridster");t&&(this.view.profile.bkcolor&&(t.style.backgroundColor=this.view.profile.bkcolor),this.edit||this.renderer.setStyle(t?.parentElement,"width","100vw")),this.gridOptions.gridType=this.view.profile.gridType??G0.jJ.Fixed,this.view.profile.margin>=0&&(this.gridOptions.margin=this.view.profile.margin,this.gridOptions.api.optionsChanged()),this.initCardsEditor(this.view.svgcontent)}initCardsEditor(t){if(this.dashboard=[],t){let i=JSON.parse(t);for(let n=0;n<i.length;n++)this.addCardsWidget(i[n].x,i[n].y,i[n].cols,i[n].rows,i[n].card)}else this.addCardsWidget(0,0,10,8,{type:It.nW.view})}onEditCard(t){this.editCard.emit(t)}onRemoveCard(t){this.dashboard.splice(this.dashboard.indexOf(t),1),this.view.svgcontent=JSON.stringify(this.dashboard)}onGoToPage(t){this.onGoTo.emit(t)}addCardsWidget(t=0,i=0,n=10,a=8,s={type:It.nW.view,zoom:1}){let I={x:t,y:i,cols:n,rows:a,card:s,content:null,background:""};I.initCallback=(J,oe)=>{if(s){if(s.type===this.cardType.view){let Ce=this.hmi.views.filter($e=>$e.name===s.data);Ce&&Ce.length&&(Ce[0].svgcontent&&(J.content=Ce[0]),Ce[0].profile.bkcolor&&(J.background=Ce[0].profile.bkcolor))}else s.type===this.cardType.alarms?(J.background="#CCCCCC",J.content=" "):s.type===this.cardType.iframe&&(J.content=s.data);this.itemChange(J,oe),this.changeDetector.detectChanges()}},this.dashboard.push(I)}render(){this.initCardsEditor(this.view.svgcontent)}getContent(){return JSON.stringify(this.dashboard)}getWindgetViewName(){return this.dashboard.filter(i=>i.card.type===It.nW.view&&i.card.data).map(i=>i.card.data)}onZoomChanged(t,i){t.card.zoom=i.value}getFuxaView(t){return this.fuxaViews?.toArray()[t]}itemChange(t,i){i.el&&(t.background&&(i.el.style.backgroundColor=t.background),(t.card.type===It.nW.alarms||t.card.type===It.nW.iframe)&&i.el.classList.add("card-html"))}static itemResizeTrigger(t,i){if(t.card?.type===It.nW.view)if("maps"===t.content?.type)i.el.firstChild.style&&(i.el.firstChild.style.height="100%",i.el.firstChild.style.width="100%");else{let n,a,s;n=i.el.clientWidth/t.content?.profile?.width,a=i.el.clientHeight/t.content?.profile?.height,s=ii.Aq.searchTreeTagName(i.el,"svg"),"contain"===t.card?.scaleMode?s?.setAttribute("transform","scale("+Math.min(n,a)+")"):"stretch"===t.card?.scaleMode&&s?.setAttribute("transform","scale("+n+", "+a+")")}else t.card.type===It.nW.iframe&&i.el.firstChild.style&&(i.el.firstChild.style.height="100%",i.el.firstChild.style.width="100%")}static \u0275fac=function(i){return new(i||r)(e.rXU(e.sFG),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:r,selectors:[["app-cards-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(hm,5),2&i){let a;e.mGM(a=e.lsd())&&(n.fuxaViews=a)}},inputs:{options:"options",edit:"edit",view:"view",hmi:"hmi",gaugesManager:"gaugesManager"},outputs:{editCard:"editCard",onGoTo:"onGoTo"},decls:3,vars:2,consts:[[1,"container"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["class","card-content",4,"ngIf"],["class","card-tool",4,"ngIf"],[1,"card-content"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"view","hmi","gaugesManager","onGoTo"],[1,"lab-body",3,"id","view","hmi","gaugesManager"],[3,"fullview","showInContainer","autostart"],["alarmsview",""],["class","card-iframe-edit",4,"ngIf","ngIfElse"],["iframe",""],[1,"card-iframe-edit"],[1,"iframe-class",3,"link"],[1,"card-tool"],["max","2","min","0.1","thumbLabel","true",2,"min-width","80px",3,"step","ngModel","ngModelChange","input","mousedown"],["mat-icon-button","",3,"click","mousedown"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"gridster",1),e.DNE(2,fde,3,3,"gridster-item",2),e.k0s()()),2&i&&(e.R7$(1),e.Y8G("options",n.gridOptions),e.R7$(1),e.Y8G("ngForOf",n.dashboard))},dependencies:[l.Sq,l.bT,l.ux,l.e1,l.fG,qe,tn,zn,Kn,t1,G0.iA,G0.Zu,k4,hm,T4,Q4,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .card-html[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{width:100%!important;height:100%!important}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{margin:0 auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .card-iframe-edit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;display:block;text-align:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;height:100%!important}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .card-tool[_ngcontent-%COMP%]{background-color:#0009;color:#fff;position:absolute;bottom:-15px;padding-left:10px;font-size:11px;left:50%;transform:translate(-50%,-50%);width:194px;border-radius:2px}"]})}return r})();class sj{gridType=G0.jJ.Fixed;compactType=G0.kS.None;maxCols=100;maxRows=100;fixedColWidth=35;fixedRowHeight=35;margin=10;disableWarnings=!0;draggable={enabled:!0};resizable={enabled:!0}}var gde=ie(4256),pD=ie.n(gde);class mde{intervals=[];addInterval(o,t,i,n){const a=setInterval(()=>t.call(n,i),o);this.intervals.push(a)}clearIntervals(){this.intervals.forEach(o=>{clearInterval(o)}),this.intervals=[]}}const vde=["sidenav"],_de=["matsidenav"],yde=["fuxaview"],bde=["cardsview"],wde=["alarmsview"],Cde=["container"],Ede=["header"];function Bde(r,o){1&r&&(e.j41(0,"div",13),e.nrm(1,"mat-progress-bar",14),e.k0s())}function Mde(r,o){1&r&&(e.j41(0,"div",15)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-icon"),e.EFF(6,"block"),e.k0s()()()),2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"msg.server-connection-failed")))}function xde(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-sidenav",16,17)(2,"app-sidenav",18,19),e.bIt("goToPage",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGoToPage(n))})("goToLink",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGoToLink(n))}),e.k0s()()}if(2&r){const t=e.sdS(1),i=e.XpG();e.Y8G("mode",i.showSidenav),e.R7$(2),e.Y8G("sidenav",t)}}function Dde(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"button",33),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(2);return n.stopPropagation(),e.Njj(a.matsidenav.opened?a.matsidenav.close():a.matsidenav.open())}),e.j41(2,"mat-icon",34),e.EFF(3,"menu"),e.k0s()()()}}function Ide(r,o){if(1&r&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function kde(r,o){if(1&r&&(e.qex(0),e.j41(1,"button",37),e.DNE(2,Ide,2,1,"mat-icon",8),e.EFF(3),e.k0s(),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG(2);let n,a,s;e.R7$(1),e.xc7("background-color",null!==(n=t.bkcolor)&&void 0!==n?n:i.layoutHeader.bkcolor)("color",null!==(a=t.fgcolor)&&void 0!==a?a:i.layoutHeader.fgcolor)("font-family",i.layoutHeader.fontFamily)("font-size",i.layoutHeader.fontSize+"px !important")("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),e.Y8G("id",t.id),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(1),e.SpI(" ",null!==(s=t.text)&&void 0!==s?s:t.type," ")}}function Tde(r,o){if(1&r&&(e.qex(0),e.j41(1,"button",38),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG(2);let n,a,s;e.R7$(1),e.xc7("background-color",null!==(n=t.bkcolor)&&void 0!==n?n:i.layoutHeader.bkcolor)("color",null!==(a=t.fgcolor)&&void 0!==a?a:i.layoutHeader.fgcolor)("font-family",i.layoutHeader.fontFamily)("font-size",i.layoutHeader.fontSize+"px !important")("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),e.Y8G("id",t.id),e.R7$(1),e.SpI(" ",null!==(s=t.text)&&void 0!==s?s:t.type," ")}}function Fde(r,o){if(1&r&&(e.qex(0),e.j41(1,"button",39)(2,"mat-icon"),e.EFF(3),e.k0s()(),e.bVm()),2&r){const t=e.XpG().$implicit,i=e.XpG(2);let n,a;e.R7$(1),e.xc7("background-color",null!==(n=t.bkcolor)&&void 0!==n?n:i.layoutHeader.bkcolor)("color",null!==(a=t.fgcolor)&&void 0!==a?a:i.layoutHeader.fgcolor)("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),e.Y8G("id",t.id),e.R7$(2),e.JRh(t.icon)}}function Sde(r,o){1&r&&(e.qex(0,35),e.DNE(1,kde,4,15,"ng-container",36),e.DNE(2,Tde,3,14,"ng-container",36),e.DNE(3,Fde,4,10,"ng-container",36),e.bVm()),2&r&&(e.Y8G("ngSwitch",o.$implicit.type),e.R7$(1),e.Y8G("ngSwitchCase","button"),e.R7$(1),e.Y8G("ngSwitchCase","label"),e.R7$(1),e.Y8G("ngSwitchCase","image"))}function Qde(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAlarmsShowMode("collapse"))}),e.j41(1,"mat-icon",40),e.EFF(2,"notifications_none"),e.k0s(),e.j41(3,"div",41),e.EFF(4),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.xc7("opacity",t.alarms.count?"":"0"),e.R7$(1),e.JRh(t.alarms.count)}}function Rde(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAlarmsShowMode("collapse"))}),e.j41(1,"mat-icon",42),e.EFF(2,"error_outline"),e.k0s(),e.j41(3,"div",43),e.EFF(4),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.xc7("opacity",t.infos.count?"":"0"),e.R7$(1),e.JRh(t.infos.count)}}function Pde(r,o){if(1&r&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.i5U(2,1,t.currentDateTime,t.layoutHeader.dateTimeDisplay)," ")}}function Ode(r,o){if(1&r&&(e.j41(0,"div",53),e.EFF(1),e.k0s()),2&r){const t=e.XpG().ngIf;e.R7$(1),e.JRh(t.currentLanguage.id)}}function Lde(r,o){if(1&r&&(e.j41(0,"div",53),e.EFF(1),e.k0s()),2&r){const t=e.XpG().ngIf;e.R7$(1),e.JRh(t.currentLanguage.name)}}function Yde(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onSetLanguage(a))}),e.EFF(1),e.k0s()}if(2&r){const t=o.$implicit;e.R7$(1),e.Lme("",t.id," (",t.name,")")}}function Nde(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",45)(1,"button",46)(2,"mat-icon",47),e.EFF(3,"language"),e.k0s()(),e.DNE(4,Ode,2,1,"div",48),e.DNE(5,Lde,2,1,"div",48),e.j41(6,"mat-menu",49,50)(8,"button",51),e.bIt("click",function(){const a=e.eBV(t).ngIf,s=e.XpG(2);return e.Njj(s.onSetLanguage(a.default))}),e.EFF(9),e.k0s(),e.DNE(10,Yde,2,2,"button",52),e.k0s()()}if(2&r){const t=o.ngIf,i=e.sdS(7),n=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",i),e.R7$(3),e.Y8G("ngIf","key"===n.layoutHeader.language&&t.currentLanguage),e.R7$(1),e.Y8G("ngIf","fullname"===n.layoutHeader.language&&t.currentLanguage),e.R7$(1),e.Y8G("overlapTrigger",!1),e.R7$(3),e.Lme("",null==t.default?null:t.default.id," (",null==t.default?null:t.default.name,")"),e.R7$(1),e.Y8G("ngForOf",t.options)}}function jde(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",58),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG().ngIf;e.R7$(2),e.JRh(null==t?null:t.username)}}function Gde(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",58),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG().ngIf;e.R7$(2),e.JRh(null==t?null:t.fullname)}}function Ude(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",58),e.EFF(2),e.k0s(),e.j41(3,"span",59),e.EFF(4),e.k0s(),e.bVm()),2&r){const t=e.XpG().ngIf;e.R7$(2),e.JRh(null==t?null:t.username),e.R7$(2),e.JRh(null==t?null:t.fullname)}}function zde(r,o){if(1&r&&(e.j41(0,"div",57),e.qex(1,35),e.DNE(2,jde,3,1,"ng-container",36),e.DNE(3,Gde,3,1,"ng-container",36),e.DNE(4,Ude,5,2,"ng-container",36),e.bVm(),e.k0s()),2&r){const t=e.XpG(3);e.R7$(1),e.Y8G("ngSwitch",t.layoutHeader.loginInfo),e.R7$(1),e.Y8G("ngSwitchCase","username"),e.R7$(1),e.Y8G("ngSwitchCase","fullname"),e.R7$(1),e.Y8G("ngSwitchCase","both")}}function Hde(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onLogin())}),e.j41(2,"mat-icon",55),e.EFF(3,"account_circle"),e.k0s()(),e.DNE(4,zde,5,4,"div",56),e.nI1(5,"async"),e.k0s()}if(2&r){const t=e.XpG(2);e.R7$(2),e.xc7("color",t.isLoggedIn()?"rgb(59, 144, 255)":t.layoutHeader.fgcolor),e.R7$(2),e.Y8G("ngIf",e.bMT(5,3,t.layoutHeader.loginInfo&&t.loggedUser$))}}function Vde(r,o){if(1&r&&(e.j41(0,"div",20),e.DNE(1,Dde,4,0,"div",21),e.j41(2,"div",22,23),e.DNE(4,Sde,4,4,"ng-container",24),e.k0s(),e.j41(5,"div",25)(6,"div",26),e.DNE(7,Qde,5,3,"button",27),e.k0s(),e.j41(8,"div",28),e.DNE(9,Rde,5,3,"button",27),e.k0s(),e.DNE(10,Pde,3,4,"div",29),e.DNE(11,Nde,11,7,"div",30),e.nI1(12,"async"),e.DNE(13,Hde,6,5,"div",31),e.k0s()()),2&r){const t=e.XpG();e.xc7("background-color",t.layoutHeader.bkcolor)("color",t.layoutHeader.fgcolor),e.R7$(1),e.Y8G("ngIf",t.showSidenav&&"side"!==t.showSidenav),e.R7$(1),e.xc7("text-align",t.layoutHeader.itemsAnchor),e.R7$(2),e.Y8G("ngForOf",t.layoutHeader.items),e.R7$(3),e.Y8G("ngIf",t.alarms.show),e.R7$(2),e.Y8G("ngIf",t.infos.show),e.R7$(1),e.Y8G("ngIf",t.layoutHeader.dateTimeDisplay),e.R7$(1),e.Y8G("ngIf",e.bMT(12,13,t.layoutHeader.language&&"nothing"!==t.layoutHeader.language&&t.language$)),e.R7$(2),e.Y8G("ngIf",t.securityEnabled)}}function Jde(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"app-cards-view",61,62),e.bIt("onGoTo",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onGoToPage(n))}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("edit",!1)("options",t.gridOptions)("view",t.homeView)("hmi",t.hmi)("gaugesManager",t.gaugesManager)}}function Wde(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"app-maps-view",63),e.bIt("onGoTo",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onGoToPage(n))}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("view",t.homeView)("hmi",t.hmi)("gaugesManager",t.gaugesManager)}}function Kde(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"app-fuxa-view",64,65),e.bIt("ongoto",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onGoToPage(n))}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("view",t.homeView)("hmi",t.hmi)("gaugesManager",t.gaugesManager)}}function Xde(r,o){if(1&r&&(e.qex(0)(1,35),e.DNE(2,Jde,3,5,"ng-container",36),e.DNE(3,Wde,2,3,"ng-container",36),e.DNE(4,Kde,3,3,"ng-container",60),e.bVm()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngSwitch",t.homeView.type),e.R7$(1),e.Y8G("ngSwitchCase",t.cardViewType),e.R7$(1),e.Y8G("ngSwitchCase",t.mapsViewType)}}function Zde(r,o){if(1&r&&(e.qex(0),e.nrm(1,"app-iframe",66),e.bVm()),2&r){const t=o.$implicit;e.R7$(1),e.xc7("display",t.hide?"none":"block"),e.Y8G("link",t.link)}}let R4=(()=>{class r{projectService;changeDetector;dialog;router;route;hmiService;toastr;scriptService;languageService;authService;gaugesManager;sidenav;matsidenav;fuxaview;cardsview;alarmsview;container;header;iframes=[];isLoading=!0;homeView=new It.Ss;hmi=new It.bv;showSidenav="over";homeLink="";showHomeLink=!1;securityEnabled=!1;backgroudColor="unset";title="";alarms={show:!1,count:0,mode:""};infos={show:!1,count:0,mode:""};headerButtonMode=It.Vq;layoutHeader=new It.Z_;showNavigation=!0;viewAsAlarms=It.J.alarms;alarmPanelWidth="100%";serverErrorBanner$;cardViewType=It.qi.cards;mapsViewType=It.qi.maps;gridOptions=new sj;intervalsScript=new mde;currentDateTime=new Date;headerItemsMap=new Map;subscriptionLoad;subscriptionAlarmsStatus;subscriptiongoTo;subscriptionOpen;destroy$=new An.B;loggedUser$;language$;constructor(t,i,n,a,s,d,m,I,J,oe,Ce){this.projectService=t,this.changeDetector=i,this.dialog=n,this.router=a,this.route=s,this.hmiService=d,this.toastr=m,this.scriptService=I,this.languageService=J,this.authService=oe,this.gaugesManager=Ce,this.gridOptions.draggable={enabled:!1},this.gridOptions.resizable={enabled:!1}}ngOnInit(){try{this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(()=>{this.projectService.getHmi()&&(this.loadHmi(),this.initScheduledScripts(),this.checkDateTimeTimer())},t=>{console.error(`Error loadHMI: ${t}`)}),this.subscriptionAlarmsStatus=this.hmiService.onAlarmsStatus.subscribe(t=>{this.setAlarmsStatus(t)}),this.subscriptiongoTo=this.hmiService.onGoTo.subscribe(t=>{this.onGoToPage(this.projectService.getViewId(t.viewName),t.force)}),this.subscriptionOpen=this.hmiService.onOpen.subscribe(t=>{this.fuxaview.onOpenCard(null,null,this.projectService.getViewId(t.viewName),t.options)}),this.serverErrorBanner$=Kl([this.hmiService.onServerConnection$,this.authService.currentUser$]).pipe((0,Zs.n)(([t,i])=>(0,Ka.h)((0,lr.of)(!1),(0,Co.O)(2e4).pipe((0,h.T)(()=>!(this.securityEnabled&&!i)))).pipe(ia(!1))),(0,jn.Q)(this.destroy$)),this.language$=this.languageService.languageConfig$,this.loggedUser$=this.authService.currentUser$,this.gaugesManager.onchange.pipe((0,jn.Q)(this.destroy$),(0,Jr.p)(t=>this.headerItemsMap.has(t.id))).subscribe(t=>{this.processValueInHeaderItem(t)})}catch(t){console.error(t)}}ngAfterViewInit(){try{setTimeout(()=>{this.projectService.notifyToLoadHmi()},0),this.hmiService.askAlarmsStatus(),this.changeDetector.detectChanges()}catch(t){console.error(t)}}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe(),this.subscriptionAlarmsStatus&&this.subscriptionAlarmsStatus.unsubscribe(),this.subscriptionOpen&&this.subscriptionOpen.unsubscribe(),this.subscriptiongoTo&&this.subscriptiongoTo.unsubscribe(),this.destroy$.next(null),this.destroy$.complete(),this.intervalsScript.clearIntervals()}catch{}}checkDateTimeTimer(){this.hmi.layout?.header?.dateTimeDisplay&&h_(1e3).pipe((0,jn.Q)(this.destroy$)).subscribe(()=>{this.currentDateTime=new Date})}initScheduledScripts(){this.intervalsScript.clearIntervals(),this.projectService.getScripts()?.forEach(t=>{t.mode===qo.bR.CLIENT&&t.scheduling?.interval>0&&this.intervalsScript.addInterval(1e3*t.scheduling.interval,this.scriptService.evalScript,t,this.scriptService)})}onGoToPage(t,i=!1){if(t===this.viewAsAlarms)this.onAlarmsShowMode("expand"),this.checkToCloseSideNav();else if(!this.homeView||t!==this.homeView?.id||i||this.fuxaview?.view?.id!==t){const n=this.hmi.views.find(a=>a.id===t);this.setIframe(),this.showHomeLink=!1,this.changeDetector.detectChanges(),n&&(this.homeView=n,this.changeDetector.detectChanges(),this.setBackground(),this.homeView.type!==this.cardViewType&&this.homeView.type!==this.mapsViewType?(this.checkZoom(),this.fuxaview.hmi.layout=this.hmi.layout,this.fuxaview.loadHmi(this.homeView)):this.cardsview&&this.cardsview.reload()),this.onAlarmsShowMode("close"),this.checkToCloseSideNav()}}onGoToLink(t){t.indexOf("://")>=0||"/"==t[0]?(this.showHomeLink=!0,this.changeDetector.detectChanges(),this.setIframe(t)):this.router.navigate([t]).then(i=>{}).catch(i=>{console.error("Route "+t+"  not found, redirection stopped with no error raised")}),this.checkToCloseSideNav()}setIframe(t=null){let i;if(this.homeView=null,this.iframes.forEach(n=>{n.hide||(i=n.link),n.hide=!0}),t){let n=this.iframes.find(a=>a.link===t);n?(n.hide=!1,i===t&&(n.link="",this.changeDetector.detectChanges(),n.link=t)):this.iframes.push({link:t,hide:!1})}}checkToCloseSideNav(){this.hmi.layout&&It.k[this.hmi.layout.navigation.mode]!==It.k.fix&&this.matsidenav&&this.matsidenav.close()}onLogin(){let t=this.authService.getUser();if(t)this.dialog.open($de,{id:"myuserinfo",position:{top:"50px",right:"15px"},backdropClass:"user-info",data:t}).afterClosed().subscribe(n=>{n&&(this.authService.signOut(),this.projectService.reload())});else{let i={data:{},disableClose:!0,autoFocus:!1,...this.hmi.layout.loginoverlaycolor&&this.hmi.layout.loginoverlaycolor!==It.V0.none&&{backdropClass:this.hmi.layout.loginoverlaycolor===It.V0.black?"backdrop-black":"backdrop-white"}};this.dialog.open(IO,i).afterClosed().subscribe(a=>{const s=new gx(this.authService.getUser()?.info);s.start&&this.onGoToPage(s.start)})}}askValue(){this.hmiService.askDeviceValues()}askStatus(){this.hmiService.askDeviceStatus()}isLoggedIn(){return!!this.authService.getUser()}onAlarmsShowMode(t){ii.Aq.getEnumKey(It.k,It.k.fix)===this.hmi.layout.navigation.mode&&this.matsidenav&&(this.alarmPanelWidth=`calc(100% - ${this.matsidenav._getWidth()}px)`);let i=document.getElementById("alarms-panel");"expand"===t?(i.classList.add("is-full-active"),this.alarmsview.startAskAlarmsValues()):"collapse"===t?(i.classList.add("is-active"),i.classList.remove("is-full-active"),this.alarmsview.startAskAlarmsValues()):(i.classList.remove("is-active"),i.classList.remove("is-full-active"))}onSetLanguage(t){this.languageService.setCurrentLanguage(t),window.location.reload()}processValueInHeaderItem(t){this.headerItemsMap.get(t.id)?.forEach(i=>{i.status.variablesValue[t.id]!==t.value&&uc.processValue({property:i.property},i.element??ii.Aq.findElementByIdRecursive(this.header.nativeElement,i.id),t,i.status,"label"===i.type),i.status.variablesValue[t.id]=t.value})}goTo(t){this.router.navigate([t])}loadHmi(){let t=this.projectService.getHmi();if(t&&(this.hmi=t),this.hmi&&this.hmi.views&&this.hmi.views.length>0){let i=null;this.hmi.layout?.start&&(i=this.hmi.views.find(a=>a.id===this.hmi.layout.start)),i||(i=this.hmi.views[0]);let n=this.hmi.views.find(a=>a.name===this.route.snapshot.queryParamMap.get("viewName")?.trim());if(n&&(i=n),this.homeView=i,this.setBackground(),this.showSidenav=null,this.hmi.layout){ii.Aq.Boolify(this.hmi.layout.hidenavigation)&&(this.showNavigation=!1);let a=It.k[this.hmi.layout.navigation.mode];this.hmi.layout&&a!==It.k.void&&(a===It.k.over?this.showSidenav="over":a===It.k.fix?(this.showSidenav="side",this.matsidenav&&this.matsidenav.open()):a===It.k.push&&(this.showSidenav="push"),this.sidenav.setLayout(this.hmi.layout)),this.hmi.layout.header&&(this.title=this.hmi.layout.header.title,this.hmi.layout.header.alarms&&(this.alarms.mode=this.hmi.layout.header.alarms),this.hmi.layout.header.infos&&(this.infos.mode=this.hmi.layout.header.infos),this.checkHeaderButton(),this.layoutHeader=ii.Aq.clone(this.hmi.layout.header),this.changeDetector.detectChanges(),this.loadHeaderItems()),this.checkZoom()}}this.homeView&&this.fuxaview&&(this.fuxaview.hmi.layout=this.hmi.layout,this.fuxaview.loadHmi(this.homeView)),this.isLoading=!1,this.securityEnabled=this.projectService.isSecurityEnabled(),this.securityEnabled&&!this.isLoggedIn()&&this.hmi.layout.loginonstart&&this.onLogin()}checkZoom(){this.hmi.layout?.zoom&&It.Fo[this.hmi.layout.zoom]===It.Fo.enabled&&setTimeout(()=>{let t=document.querySelector("#home");t&&pD()&&pD()(t,{bounds:!0,boundsPadding:.05}),this.container.nativeElement.style.overflow="hidden"},1e3)}loadHeaderItems(){this.headerItemsMap.clear(),this.showNavigation&&(this.layoutHeader.items?.forEach(t=>{t.status=t.status??new It.AY,t.status.onlyChange=!0,t.status.variablesValue={},t.element=ii.Aq.findElementByIdRecursive(this.header.nativeElement,t.id),t.text=this.languageService.getTranslation(t.property?.text)??t.property?.text,uc.getSignals(t.property).forEach(a=>{this.headerItemsMap.has(a)||this.headerItemsMap.set(a,[]),this.headerItemsMap.get(a).push(t)});const n=new It.dE(null,uc.TypeTag);n.property=t.property,this.onBindMouseEvents(t.element,n)}),this.hmiService.homeTagsSubscribe(Array.from(this.headerItemsMap.keys())))}onBindMouseEvents(t,i){if(t){let n=this.gaugesManager.getBindMouseEvent(i,It.e6.click);n?.length>0&&(t.onclick=d=>{this.handleMouseEvent(i,d,n)},t.ontouchstart=d=>{this.handleMouseEvent(i,d,n)});let a=this.gaugesManager.getBindMouseEvent(i,It.e6.mousedown);a?.length>0&&(t.onmousedown=d=>{this.handleMouseEvent(i,d,a)});let s=this.gaugesManager.getBindMouseEvent(i,It.e6.mouseup);s?.length>0&&(t.onmouseup=d=>{this.handleMouseEvent(i,d,s)})}}handleMouseEvent(t,i,n){let a=this.fuxaview??this.cardsview.getFuxaView(0);a&&(n.filter(m=>"onpage"===m.action).forEach(m=>{this.onGoToPage(m.actparam)}),n.filter(m=>"onpage"!==m.action).length>0&&a.runEvents(a,t,i,n))}setBackground(){this.homeView?.profile&&(this.backgroudColor=this.homeView.profile.bkcolor)}checkHeaderButton(){let t=Object.keys(It.Vq)[Object.values(It.Vq).indexOf(It.Vq.fix)],i=Object.keys(It.Vq)[Object.values(It.Vq).indexOf(It.Vq.float)];this.alarms.show=this.alarms.mode===t||this.alarms.mode===i&&this.alarms.count>0,this.infos.show=this.infos.mode===t||this.infos.mode===i&&this.infos.count>0}setAlarmsStatus(t){t&&(this.alarms.count=t.highhigh+t.high+t.low,this.infos.count=t.info,this.checkHeaderButton(),this.checkActions(t.actions))}checkActions(t){t&&t.forEach(i=>{if(i.type===ii.Aq.getEnumKey(DA,DA.popup))this.fuxaview.openDialog(null,i.params,{});else if(i.type===ii.Aq.getEnumKey(DA,DA.setView))this.onGoToPage(i.params);else if(i.type===ii.Aq.getEnumKey(DA,DA.toastMessage)){var n=i.params;this.toastr.findDuplicate("",n,!0,!1)||this.toastr[i.options?.type??"info"](n,"",{timeOut:3e3,closeButton:!0,disableTimeOut:!0})}})}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(e.gRc),e.rXU(Qo),e.rXU(zc),e.rXU(Df),e.rXU(BA.Ih),e.rXU(Gg.tw),e.rXU(k_.f),e.rXU(D_),e.rXU(zg.u),e.rXU(oo))};static \u0275cmp=e.VBU({type:r,selectors:[["app-home"]],viewQuery:function(i,n){if(1&i&&(e.GBs(vde,5),e.GBs(_de,5),e.GBs(yde,5),e.GBs(bde,5),e.GBs(wde,5),e.GBs(Cde,5),e.GBs(Ede,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.sidenav=a.first),e.mGM(a=e.lsd())&&(n.matsidenav=a.first),e.mGM(a=e.lsd())&&(n.fuxaview=a.first),e.mGM(a=e.lsd())&&(n.cardsview=a.first),e.mGM(a=e.lsd())&&(n.alarmsview=a.first),e.mGM(a=e.lsd())&&(n.container=a.first),e.mGM(a=e.lsd())&&(n.header=a.first)}},decls:14,vars:15,consts:[["style","position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(0,0,0,0.2); z-index: 99999;",4,"ngIf"],["class","banner",4,"ngIf"],[1,"sidenav-container",3,"hasBackdrop"],["class","sidenav",3,"mode",4,"ngIf"],[3,"click"],["class","header",3,"background-color","color",4,"ngIf"],["id","container",3,"ngClass","click"],["container",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","alarms-panel"],[3,"fullview","showMode"],["alarmsview",""],[2,"position","absolute","top","0px","left","0px","right","0px","bottom","0px","background-color","rgba(0,0,0,0.2)","z-index","99999"],["mode","indeterminate","color","warn",2,"position","absolute","top","0px","left","0px","right","0px","z-index","99999"],[1,"banner"],[1,"sidenav",3,"mode"],["matsidenav",""],[3,"sidenav","goToPage","goToLink"],["sidenav",""],[1,"header"],["class","sidenav-toogle",4,"ngIf"],[1,"items"],["header",""],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"header-button"],[1,"alarm-layout",2,"min-width","40px"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"info-layout",2,"min-width","40px"],["class","header-date-time",4,"ngIf"],["class","header-language",4,"ngIf"],["class","header-login",4,"ngIf"],[1,"sidenav-toogle"],["mat-icon-button","",3,"click"],["aria-label","Menu"],[3,"ngSwitch"],[4,"ngSwitchCase"],["mat-raised-button","",3,"id"],["mat-button","",3,"id"],["mat-icon-button","",3,"id"],["aria-label","Alarms"],[1,"button-counter","alarm-color"],["aria-label","Info"],[1,"button-counter","info-color"],[1,"header-date-time"],[1,"header-language"],["mat-icon-button","",3,"matMenuTriggerFor"],["aria-label","Language"],["class","inbk",4,"ngIf"],[3,"overlapTrigger"],["languageMenu",""],["mat-menu-item","",2,"font-size","14px",3,"click"],["mat-menu-item","","style","font-size: 14px;",3,"click",4,"ngFor","ngForOf"],[1,"inbk"],[1,"header-login"],["aria-label","Login"],["class","info",4,"ngIf"],[1,"info"],[1,"primary"],[1,"secondary"],[4,"ngSwitchDefault"],[3,"edit","options","view","hmi","gaugesManager","onGoTo"],["cardsview",""],[3,"view","hmi","gaugesManager","onGoTo"],["id","home",1,"home-body",3,"view","hmi","gaugesManager","ongoto"],["fuxaview",""],[1,"home-body",2,"width","100%","height","100%",3,"link"]],template:function(i,n){1&i&&(e.DNE(0,Bde,2,0,"div",0),e.DNE(1,Mde,7,3,"div",1),e.nI1(2,"async"),e.j41(3,"mat-sidenav-container",2),e.DNE(4,xde,4,2,"mat-sidenav",3),e.j41(5,"mat-sidenav-content",4),e.bIt("click",function(){return n.checkToCloseSideNav()}),e.DNE(6,Vde,14,15,"div",5),e.j41(7,"div",6,7),e.bIt("click",function(){return n.checkToCloseSideNav()}),e.DNE(9,Xde,5,3,"ng-container",8),e.DNE(10,Zde,2,3,"ng-container",9),e.j41(11,"div",10)(12,"app-alarm-view",11,12),e.bIt("showMode",function(s){return n.onAlarmsShowMode(s)}),e.k0s()()()()()),2&i&&(e.Y8G("ngIf",n.isLoading),e.R7$(1),e.Y8G("ngIf",e.bMT(2,13,n.serverErrorBanner$)),e.R7$(2),e.Y8G("hasBackdrop",!1),e.R7$(1),e.Y8G("ngIf",n.showNavigation&&n.showSidenav),e.R7$(1),e.xc7("background-color",n.backgroudColor),e.R7$(1),e.Y8G("ngIf",n.showNavigation),e.R7$(1),e.Y8G("ngClass",n.showNavigation?"home-container-nav":"home-container"),e.R7$(2),e.Y8G("ngIf",!n.showHomeLink&&n.homeView),e.R7$(1),e.Y8G("ngForOf",n.iframes),e.R7$(1),e.xc7("width",n.alarmPanelWidth),e.R7$(1),e.Y8G("fullview",!1))},dependencies:[l.YU,l.Sq,l.bT,l.ux,l.e1,l.fG,zn,Kn,Gc,rA,tc,d0,sM,b2,qb,lq,k4,hm,T4,aj,Q4,l.Jj,l.vh,Vi.D9],styles:["[_nghost-%COMP%]   .home-body[_ngcontent-%COMP%]{display:table;margin:0 auto}[_nghost-%COMP%]   .banner[_ngcontent-%COMP%]{display:flex;position:absolute;left:0;top:0;right:0;z-index:999999;font-size:16px;padding-left:25px;height:48px;background-color:#b71c1c;color:#fff}[_nghost-%COMP%]   .banner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;margin:auto}[_nghost-%COMP%]   .banner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:auto}[_nghost-%COMP%]   .home-container-nav[_ngcontent-%COMP%]{position:absolute;inset:48px 0 0;overflow:auto}[_nghost-%COMP%]   .home-info[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;z-index:9999!important;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003!important;height:46px!important;padding-left:4px;padding-right:10px;background-color:#fff;line-height:46px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{flex:1;align-items:center;margin-left:30px}[_nghost-%COMP%]   .header-login[_ngcontent-%COMP%]{float:right;line-height:46px;border-left-width:1px;border-left-style:solid;padding-left:10px}[_nghost-%COMP%]   .header-login[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:inline-block;line-height:46px;vertical-align:middle;max-width:140px}[_nghost-%COMP%]   .header-login[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:-moz-fit-content;max-width:fit-content;line-height:16px}[_nghost-%COMP%]   .header-login[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:100;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:-moz-fit-content;max-width:fit-content;color:gray;line-height:16px}[_nghost-%COMP%]   .header-date-time[_ngcontent-%COMP%]{border-left-width:1px;border-left-style:solid;padding-left:10px;padding-right:10px;display:inline-block}[_nghost-%COMP%]   .header-language[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;display:inline-block}[_nghost-%COMP%]   .header-button[_ngcontent-%COMP%]{float:right;line-height:46px;text-align:right;margin-right:10px}[_nghost-%COMP%]   .header-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}[_nghost-%COMP%]   .button-counter[_ngcontent-%COMP%]{display:inline-block;position:absolute;bottom:7px;right:1px;width:16px;height:16px;border-radius:50%;text-align:center;line-height:16px;font-size:12px;font-weight:700}[_nghost-%COMP%]   .alarm-layout[_ngcontent-%COMP%]{position:relative;right:45px;display:inline-block;width:40px}[_nghost-%COMP%]   .info-layout[_ngcontent-%COMP%]{position:relative;right:20px;display:inline-block;width:40px}[_nghost-%COMP%]   .sidenav[_ngcontent-%COMP%]{padding:0;background-color:#2c2c2c!important;color:#fff!important;display:inline-block!important;top:0;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003!important}[_nghost-%COMP%]   .sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%!important;background-color:#fff}[_nghost-%COMP%]     .mat-drawer-backdrop.mat-drawer-shown{background-color:transparent}[_nghost-%COMP%]     #myuserinfo{padding:unset!important;box-shadow:0 2px 6px #0003,0 2px 6px #0000002e}[_nghost-%COMP%]   #alarms-panel[_ngcontent-%COMP%]{background:white;height:300px;transition:bottom .3s;width:100%;position:fixed;bottom:-300px}[_nghost-%COMP%]   #alarms-panel.is-active[_ngcontent-%COMP%]{bottom:0;transition:bottom .3s;z-index:999}[_nghost-%COMP%]   #alarms-panel.is-full-active[_ngcontent-%COMP%]{top:46px;height:100%;transition:top .3s;z-index:999}"]})}return r})(),$de=(()=>{class r{dialogRef;data;constructor(t,i){this.dialogRef=t,this.data=i}onOkClick(){this.dialogRef.close(!0)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["user-info"]],decls:18,vars:8,consts:[[2,"display","block","text-align","center","padding-top","20px","padding-bottom","10px","width","220px"],[2,"display","block","margin","auto"],[2,"font-size","14px","display","block","padding-top","10px","padding-bottom","10px"],[2,"display","block","padding-bottom","20px","padding-top","20px","border-top","1px solid rgba(0,0,0,0.1)"],["mat-raised-button","",3,"mat-dialog-close"],[2,"display","block","font-size","10px","padding-top","10px","border-top","1px solid rgba(0,0,0,0.1)"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-icon"),e.EFF(3,"account_circle"),e.k0s()(),e.j41(4,"div",2),e.EFF(5),e.k0s(),e.j41(6,"div",2),e.EFF(7),e.k0s(),e.j41(8,"div",3)(9,"button",4),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",5),e.EFF(13," FUXA powered by "),e.j41(14,"span")(15,"b"),e.EFF(16,"frango"),e.k0s(),e.EFF(17,"team"),e.k0s()()()),2&i&&(e.R7$(2),e.xc7("color","rgb(59, 144, 255)"),e.R7$(3),e.SpI(" ",n.data.username," "),e.R7$(2),e.SpI(" ",n.data.fullname," "),e.R7$(2),e.Y8G("mat-dialog-close",!0),e.R7$(1),e.JRh(e.bMT(11,6,"dlg.logout-btn")))},dependencies:[zn,nA,Kn,Vi.D9],encapsulation:2})}return r})();function qde(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onSelect(a.path))}),e.nrm(1,"img",12),e.k0s()}if(2&r){const t=o.$implicit;e.FS9("matTooltip",t.name),e.R7$(1),e.FS9("src",t.path,e.B4B),e.FS9("id",t.path)}}function eue(r,o){if(1&r&&(e.j41(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header",9)(2,"mat-panel-title"),e.EFF(3),e.k0s(),e.nrm(4,"mat-panel-description"),e.k0s(),e.DNE(5,qde,2,3,"div",10),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.Y8G("collapsedHeight","40px")("expandedHeight","40px"),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Y8G("ngForOf",t.items)}}let tue=(()=>{class r{dialogRef;resourcesService;endPointConfig=Kg.G.getURL();resImages;subscription;constructor(t,i){this.dialogRef=t,this.resourcesService=i}ngAfterViewInit(){this.loadResources()}ngOnDestroy(){try{this.subscription.unsubscribe()}catch(t){console.error(t)}}loadResources(){this.subscription=this.resourcesService.getResources(Y1.images).subscribe(t=>{const i=t?.groups||[];i.forEach(n=>{n.items.forEach(a=>{a.path=`${this.endPointConfig}/${a.path}`})}),this.resImages=i},t=>{console.error("get Resources images error: "+t)})}onSelect(t){this.dialogRef.close(t)}onNoClick(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(x_))};static \u0275cmp=e.VBU({type:r,selectors:[["app-lib-images"]],decls:14,vars:7,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],["mat-dialog-content",""],["multi","true"],["class","my-expansion-panel lib-image-panel",4,"ngFor","ngForOf"],[2,"display","block","width","660px","padding-bottom","20px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],[1,"my-expansion-panel","lib-image-panel"],[1,"header",3,"collapsedHeight","expandedHeight"],["class","lib-image-item",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"lib-image-item",3,"matTooltip","click"],[3,"src","id"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"mat-accordion",3),e.DNE(8,eue,6,4,"mat-expansion-panel",4),e.k0s(),e.nrm(9,"div",5),e.k0s(),e.j41(10,"div",6)(11,"button",7),e.bIt("click",function(){return n.onNoClick()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,3,"resources.lib-images")),e.R7$(6),e.Y8G("ngForOf",n.resImages),e.R7$(4),e.JRh(e.bMT(13,5,"dlg.cancel")))},dependencies:[l.Sq,zn,Or,eo,Rr,Dg,up,$d,xg,Qv,Kn,Is,Wr,Vi.D9],styles:[".lib-image-panel[_ngcontent-%COMP%]{max-width:900px}.lib-image-item[_ngcontent-%COMP%]{display:inline-block;margin:5px;padding:2px}.lib-image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background-color:#b6b6b64d}.lib-image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100px;width:100px;object-fit:cover;cursor:pointer}"]})}return r})();const iue=["ngauge"],nue=["flexhead"];function rue(r,o){1&r&&(e.j41(0,"mat-icon",44),e.EFF(1,"lock"),e.k0s())}function oue(r,o){1&r&&(e.j41(0,"mat-icon",44),e.EFF(1,"lock_open"),e.k0s())}function aue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",45)(1,"div",28)(2,"div",46)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-slide-toggle",47),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.ticksEnabled=n)})("change",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeTicks(n.checked))}),e.k0s()()(),e.j41(7,"div",28)(8,"div",29)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.divisions=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("divisions",n.value))}),e.k0s()(),e.j41(13,"div",29)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.subDivisions=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("subDivisions",n.value))}),e.k0s()()(),e.j41(18,"div",28)(19,"div",29)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.divLength=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("divLength",n.value))}),e.k0s()(),e.j41(24,"div",29)(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.subLength=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("subLength",n.value))}),e.k0s()()(),e.j41(29,"div",28)(30,"div",29)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.divWidth=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("divWidth",n.value))}),e.k0s()(),e.j41(35,"div",29)(36,"span"),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.subWidth=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("subWidth",n.value))}),e.k0s()()(),e.j41(40,"div",28)(41,"div",33)(42,"span"),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"input",49),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.divColor=n)})("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("divColor",n))}),e.k0s()(),e.j41(46,"div",33)(47,"span"),e.EFF(48),e.nI1(49,"translate"),e.k0s(),e.j41(50,"input",49),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.renderTicks.subColor=n)})("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsTicks("subColor",n))}),e.k0s()()(),e.j41(51,"div",28)(52,"div",29)(53,"span"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"mat-slider",48),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.staticFontSize=n)})("input",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsLabels("fontSize",n.value))}),e.k0s()(),e.j41(57,"div",33)(58,"span"),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"input",50),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.staticFontColor=n)})("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeOptionsLabels("labelsColor",n))}),e.k0s()()(),e.j41(62,"div",28)(63,"div",29)(64,"span",51),e.EFF(65),e.nI1(66,"translate"),e.k0s(),e.j41(67,"input",52),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.optcfg.staticLabelsText=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeOptionsLabels("labels",n.optcfg.staticLabelsText))}),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,96,"bag.property-ticks")),e.R7$(2),e.Y8G("ngModel",t.optcfg.ticksEnabled),e.R7$(4),e.JRh(e.bMT(11,98,"bag.property-divisions")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",20)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.renderTicks.divisions),e.R7$(3),e.JRh(e.bMT(16,100,"bag.property-subdivisions")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",20)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.renderTicks.subDivisions),e.R7$(4),e.JRh(e.bMT(22,102,"bag.property-divisions-length")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.renderTicks.divLength),e.R7$(3),e.JRh(e.bMT(27,104,"bag.property-subdivisions-length")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.renderTicks.subLength),e.R7$(4),e.JRh(e.bMT(33,106,"bag.property-divisions-width")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.renderTicks.divWidth),e.R7$(3),e.JRh(e.bMT(38,108,"bag.property-subdivisions-width")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.renderTicks.subWidth),e.R7$(4),e.JRh(e.bMT(44,110,"bag.property-divisions-color")),e.R7$(2),e.xc7("background",t.optcfg.renderTicks.divColor),e.Y8G("disabled",!t.optcfg.ticksEnabled)("colorPicker",t.optcfg.renderTicks.divColor)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(3),e.JRh(e.bMT(49,112,"bag.property-subdivisions-color")),e.R7$(2),e.xc7("background",t.optcfg.renderTicks.subColor),e.Y8G("disabled",!t.optcfg.ticksEnabled)("colorPicker",t.optcfg.renderTicks.subColor)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(4),e.JRh(e.bMT(55,114,"bag.property-divisionfont-size")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",t.optcfg.staticFontSize),e.R7$(3),e.JRh(e.bMT(60,116,"bag.property-divisionfont-color")),e.R7$(2),e.xc7("background",t.optcfg.staticFontColor),e.Y8G("colorPicker",t.optcfg.staticFontColor)("cpDisabled",!t.optcfg.ticksEnabled)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(4),e.JRh(e.bMT(66,118,"bag.property-divisions-labels")),e.R7$(2),e.Y8G("disabled",!t.optcfg.ticksEnabled)("ngModel",t.optcfg.staticLabelsText)}}function sue(r,o){if(1&r&&(e.j41(0,"mat-option",53),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("font-family",t),e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function lue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",5)(1,"div",59)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",60),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.min=n)})("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeStaticZones())}),e.k0s()(),e.j41(6,"div",29)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",61),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.max=n)})("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeStaticZones())}),e.k0s()(),e.j41(11,"div",33)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",62),e.bIt("colorPickerChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.strokeStyle=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeStaticZones())}),e.k0s()(),e.j41(16,"div",63)(17,"button",64),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.onRemoveZone(a))}),e.j41(18,"mat-icon"),e.EFF(19,"clear"),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,18,"bag.property-min")),e.R7$(2),e.Y8G("ngModel",t.min),e.R7$(3),e.JRh(e.bMT(9,20,"bag.property-max")),e.R7$(2),e.Y8G("ngModel",t.max),e.R7$(3),e.JRh(e.bMT(14,22,"bag.property-color")),e.R7$(2),e.xc7("background",t.strokeStyle),e.Y8G("cpDialogDisplay","popup")("colorPicker",t.strokeStyle)("cpAlphaChannel","always")("cpPresetColors",i.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top")}}function cue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"div",55)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddZone())}),e.j41(6,"mat-icon"),e.EFF(7,"add_circle_outline"),e.k0s()()(),e.j41(8,"div",57),e.DNE(9,lue,20,24,"div",58),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,3,"bag.property-zones")),e.R7$(2),e.Y8G("disabled",t.optcfg.staticZones&&t.optcfg.staticZones.length>=5),e.R7$(4),e.Y8G("ngForOf",t.optcfg.staticZones)}}const P4=function(r){return{"background-color":r}};let Aue=(()=>{class r{cdRef;dialog;dialogRef;data;ngauge;flexHead;gauge={value:30};property;gaugeTypeEnum=Fl;gaugeType=Fl.Gauge;options=new Fp;optionsGauge=new Fp;optionsDonut=new Fp;optionsZones=new Fp;optcfg=new Fp;defaultColor=ii.Aq.defaultColor;fonts=Tf.fonts;constructor(t,i,n,a){this.cdRef=t,this.dialog=i,this.dialogRef=n,this.data=a,this.optionsGauge=this.getDefaultOptions(Fl.Gauge),this.optionsDonut=this.getDefaultOptions(Fl.Donut),this.optionsZones=this.getDefaultOptions(Fl.Zones),this.options=this.optionsGauge,this.property=JSON.parse(JSON.stringify(this.data.settings.property)),this.property||(this.property=new It.f5)}ngAfterViewInit(){setTimeout(()=>{this.gaugeType=Fl.Gauge,this.property.options&&(this.options=this.property.options,this.gaugeType=this.options.type,this.gaugeType===Fl.Donut?this.optionsDonut=this.options:this.gaugeType===Fl.Zones?this.optionsZones=this.options:this.optionsGauge=this.options),this.onGaugeChange(this.gaugeType),this.cdRef.detectChanges()},500)}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.settings.property=this.flexHead.getProperty(),this.options.type=this.gaugeType,this.data.settings.property.options=this.options}onEditPermission(){this.dialog.open(dS,{position:{top:"60px"},data:{permission:this.property.permission,permissionRoles:this.property.permissionRoles}}).afterClosed().subscribe(i=>{i&&(this.property.permission=i.permission,this.property.permissionRoles=i.permissionRoles)})}onGaugeChange(t){t===Fl.Donut?(this.gaugeType=Fl.Donut,this.initOptionsToConfig(this.optionsDonut),this.initDonut()):t===Fl.Zones?(this.gaugeType=Fl.Zones,this.initOptionsToConfig(this.optionsZones),this.initZones()):(this.gaugeType=Fl.Gauge,this.initOptionsToConfig(this.optionsGauge),this.initGauge()),this.cdRef.detectChanges()}onChangeValue(t){this.ngauge.setValue(t)}onChangeOptions(t,i){this.optcfg[t]=i,this.configToOptions(this.optcfg[t],t),this.setGaugeOptions()}onChangeOptionsPointer(t,i){this.options.pointer[t]=i,"pointerLength"===t?this.options.pointer.length=i/100:"pointerStrokeWidth"===t&&(this.options.pointer.strokeWidth=i/1e3),"minValue"===t&&this.onChangeValue(i),this.setGaugeOptions()}onChangeOptionsTicks(t,i){this.options.renderTicks[t]=i,"divLength"===t?this.options.renderTicks.divLength=i/100:"divWidth"===t?this.options.renderTicks.divWidth=i/10:"subLength"===t?this.options.renderTicks.subLength=i/100:"subWidth"===t&&(this.options.renderTicks.subWidth=i/10),this.setGaugeOptions()}onChangeTicks(t){if(this.options.ticksEnabled=t,t){let i=new Fp;this.options.renderTicks=JSON.parse(JSON.stringify(i.renderTicks))}else this.options.renderTicks={};this.onGaugeChange(this.gaugeType)}onChangeOptionsLabels(t,i){if("labels"===t){let n=[];i&&i.split(";").forEach(s=>{let d=parseFloat(s);isNaN(d)||n.push(d)}),this.options.staticLabels={labels:n,font:this.options.staticFontSize+"px Sans-serif",color:this.options.staticFontColor},this.checkFontFamily(),this.onGaugeChange(this.gaugeType)}else"fontSize"===t?(this.options.staticFontSize=i,this.options.staticLabels&&(this.options.staticLabels.font=this.options.staticFontSize+"px Sans-serif",this.checkFontFamily(),this.setGaugeOptions())):"labelsColor"===t?(this.options.staticFontColor=i,this.options.staticLabels&&(this.options.staticLabels.color=this.options.staticFontColor,this.setGaugeOptions())):"fontFamily"===t&&(this.options.fontFamily=i,this.checkFontFamily(),this.setGaugeOptions())}onAddZone(){this.optcfg.staticZones||(this.optcfg.staticZones=[]),this.optcfg.staticZones.length<5&&this.optcfg.staticZones.push({min:null,max:null,strokeStyle:null}),this.options.staticZones=this.optcfg.staticZones,this.onGaugeChange(this.gaugeType)}onRemoveZone(t){this.optcfg.staticZones.splice(t,1),this.optcfg.staticZones.length<=0?(delete this.optcfg.staticZones,delete this.options.staticZones):this.options.staticZones=this.optcfg.staticZones,this.onGaugeChange(this.gaugeType)}onChangeStaticZones(){this.options.staticZones=this.optcfg.staticZones,this.setGaugeOptions()}checkFontFamily(){this.options.staticLabels&&this.options.fontFamily&&(this.options.staticLabels.font=this.options.staticFontSize+"px "+this.options.fontFamily)}initGauge(){this.setGaugeOptions(),this.options=this.optionsGauge,this.ngauge.init(Fl.Gauge)}initDonut(){this.setGaugeOptions(),this.options=this.optionsDonut,this.ngauge.init(Fl.Donut)}initZones(){this.setGaugeOptions(),this.options=this.optionsZones,this.ngauge.init(Fl.Zones)}setGaugeOptions(){this.ngauge.setOptions(this.gaugeType===Fl.Donut?this.optionsDonut:this.gaugeType===Fl.Zones?this.optionsZones:this.optionsGauge)}initOptionsToConfig(t){this.optcfg=JSON.parse(JSON.stringify(t)),this.optcfg.angle*=100,this.optcfg.lineWidth*=100,this.optcfg.radiusScale*=100,this.optcfg.pointer.length*=100,this.optcfg.pointer.strokeWidth*=1e3,this.optcfg.renderTicks&&(this.optcfg.renderTicks.divLength&&(this.optcfg.renderTicks.divLength*=100),this.optcfg.renderTicks.divWidth&&(this.optcfg.renderTicks.divWidth*=10),this.optcfg.renderTicks.subLength&&(this.optcfg.renderTicks.subLength*=100),this.optcfg.renderTicks.subWidth&&(this.optcfg.renderTicks.subWidth*=10)),this.optcfg.staticLabelsText="",this.optcfg.staticLabels&&this.optcfg.staticLabels.labels.length&&this.optcfg.staticLabels.labels.forEach(i=>{this.optcfg.staticLabelsText&&(this.optcfg.staticLabelsText+=";"),this.optcfg.staticLabelsText+=i})}configToOptions(t,i){("angle"===i||"lineWidth"===i||"radiusScale"===i)&&(t/=100),this.options[i]=t}getDefaultOptions(t){if(t===Fl.Zones){var i=new Fp;return i.angle=-.25,i.lineWidth=.2,i.radiusScale=.9,i.pointer.length=.6,i.pointer.strokeWidth=.05,i}if(t===Fl.Donut){var n=new Fp;return n.angle=.3,n.lineWidth=.1,n.radiusScale=.8,n.renderTicks.divisions=0,n.renderTicks.divWidth=0,n.renderTicks.divLength=0,n.renderTicks.subDivisions=0,n.renderTicks.subWidth=0,n.renderTicks.subLength=0,delete n.staticLabels,delete n.staticZones,n.ticksEnabled=!1,n}var a=new Fp;return delete a.staticLabels,delete a.staticZones,a.ticksEnabled=!1,a.renderTicks={},a.staticFontSize=0,a.staticLabelsText="",a}static \u0275fac=function(i){return new(i||r)(e.rXU(e.gRc),e.rXU(Qo),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["bag-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(iue,5),e.GBs(nue,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.ngauge=a.first),e.mGM(a=e.lsd())&&(n.flexHead=a.first)}},decls:138,vars:187,consts:[[1,"dialog-mdsd-main",2,"width","750px","height","810px","position","relative"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],[1,"dialog-mdsd-content"],[2,"display","block","width","660px"],[2,"display","block"],[1,"my-form-field"],["type","text",2,"width","220px",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"vertical-align","bottom","margin-left","13px"],[1,"my-form-field-permission",2,"text-align","center","cursor","pointer",3,"click"],["class","header-icon","style","line-height: 28px;",4,"ngIf","ngIfElse"],["unlock",""],["mat-dialog-content","",2,"overflow","hidden","width","100%"],[3,"data","property"],["flexhead",""],[2,"width","750px","height","660px","position","relative"],[2,"display","block","height","360px"],[1,"gauge"],[1,"gauge-select"],[1,"btn-gauge","btn-gauge-mat",3,"ngStyle","click"],[1,"btn-gauge","btn-gauge-donut",3,"ngStyle","click"],[1,"btn-gauge","btn-gauge-zone",3,"ngStyle","click"],[1,"gauge-view"],[3,"options","value"],["ngauge",""],["class","toolbox-det",4,"ngIf"],[1,"toolbox"],[1,"toolbox-left"],[1,"field-row"],[1,"my-form-field","slider-field",2,"padding-left","12px"],[2,"display","inline-block",3,"max","min","step","thumbLabel","ngModel","ngModelChange","input"],["numberOnly","","type","number",2,"width","50px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],[1,"my-form-field","slider-field",2,"padding-left","14px"],[1,"my-form-field","slider-field","color-field",2,"padding-left","12px"],[1,"input-color",2,"width","121px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"field-row","slider-field"],[1,"my-form-field","color-field",2,"padding-left","12px"],[1,"my-form-field",2,"padding-left","12px","width","160px"],[3,"value","valueChange","selectionChange"],[3,"fontFamily","value",4,"ngFor","ngForOf"],["class","toolbox-right",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close","click"],[1,"header-icon",2,"line-height","28px"],[1,"toolbox-det"],[1,"my-form-field",2,"padding-left","12px"],["color","primary",3,"ngModel","ngModelChange","change"],[2,"display","inline-block",3,"disabled","max","min","step","thumbLabel","ngModel","ngModelChange","input"],[1,"input-color",2,"width","121px",3,"disabled","colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"input-color",2,"width","121px",3,"colorPicker","cpDisabled","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[2,"max-width","180px"],["type","text",2,"width","265px",3,"disabled","ngModel","ngModelChange","change"],[3,"value"],[1,"toolbox-right"],[2,"position","absolute","top","0px","right","0px"],["mat-icon-button","",3,"disabled","click"],[2,"margin-top","20px","margin-bottom","20px","height","250px"],["style","display: block;",4,"ngFor","ngForOf"],[1,"my-form-field","slider-field"],["type","text",2,"width","60px","text-align","center",3,"ngModel","ngModelChange","change"],["type","text",2,"width","60px",3,"ngModel","ngModelChange","change"],[1,"input-color",2,"width","58px",3,"cpDialogDisplay","colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field",2,"line-height","40px"],["mat-icon-button","",1,"remove",3,"click"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"span"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"input",7),e.bIt("ngModelChange",function(s){return n.data.settings.name=s}),e.k0s()(),e.j41(14,"div",8)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"div",9),e.bIt("click",function(){return n.onEditPermission()}),e.DNE(19,rue,2,0,"mat-icon",10),e.DNE(20,oue,2,0,"ng-template",null,11,e.C5r),e.k0s()()(),e.j41(22,"div",12),e.nrm(23,"flex-head",13,14),e.k0s()(),e.j41(25,"div",15)(26,"div",16)(27,"div",17)(28,"div",18)(29,"div",19),e.bIt("click",function(){return n.onGaugeChange(n.gaugeTypeEnum.Gauge)}),e.k0s(),e.j41(30,"div",20),e.bIt("click",function(){return n.onGaugeChange(n.gaugeTypeEnum.Donut)}),e.k0s(),e.j41(31,"div",21),e.bIt("click",function(){return n.onGaugeChange(n.gaugeTypeEnum.Zones)}),e.k0s()(),e.j41(32,"div",22),e.nrm(33,"ngx-gauge",23,24),e.k0s()(),e.DNE(35,aue,68,120,"div",25),e.k0s(),e.j41(36,"div",26)(37,"div",27)(38,"div",28)(39,"div",29)(40,"span"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.gauge.value=s})("input",function(s){return n.onChangeValue(s.value)}),e.k0s()(),e.j41(44,"div",29)(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"input",31),e.bIt("ngModelChange",function(s){return n.optcfg.minValue=s})("change",function(){return n.onChangeOptions("minValue",n.optcfg.minValue)}),e.k0s()(),e.j41(49,"div",32)(50,"span"),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"input",31),e.bIt("ngModelChange",function(s){return n.optcfg.maxValue=s})("change",function(){return n.onChangeOptions("maxValue",n.optcfg.maxValue)}),e.k0s()(),e.j41(54,"div",29)(55,"span"),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.lineWidth=s})("input",function(s){return n.onChangeOptions("lineWidth",s.value)}),e.k0s()()(),e.j41(59,"div",28)(60,"div",29)(61,"span"),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.animationSpeed=s})("input",function(s){return n.onChangeOptions("animationSpeed",s.value)}),e.k0s()(),e.j41(65,"div",29)(66,"span"),e.EFF(67),e.nI1(68,"translate"),e.k0s(),e.j41(69,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.angle=s})("input",function(s){return n.onChangeOptions("angle",s.value)}),e.k0s()(),e.j41(70,"div",29)(71,"span"),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.j41(74,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.radiusScale=s})("input",function(s){return n.onChangeOptions("radiusScale",s.value)}),e.k0s()()(),e.j41(75,"div",28)(76,"div",29)(77,"span"),e.EFF(78),e.nI1(79,"translate"),e.k0s(),e.j41(80,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.fontSize=s})("input",function(s){return n.onChangeOptions("fontSize",s.value)}),e.k0s()(),e.j41(81,"div",29)(82,"span"),e.EFF(83),e.nI1(84,"translate"),e.k0s(),e.j41(85,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.textFilePosition=s})("input",function(s){return n.onChangeOptions("textFilePosition",s.value)}),e.k0s()(),e.j41(86,"div",29)(87,"span"),e.EFF(88),e.nI1(89,"translate"),e.k0s(),e.j41(90,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.fractionDigits=s})("input",function(s){return n.onChangeOptions("fractionDigits",s.value)}),e.k0s()()(),e.j41(91,"div",28)(92,"div",29)(93,"span"),e.EFF(94),e.nI1(95,"translate"),e.k0s(),e.j41(96,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.pointer.length=s})("input",function(s){return n.onChangeOptionsPointer("pointerLength",s.value)}),e.k0s()(),e.j41(97,"div",29)(98,"span"),e.EFF(99),e.nI1(100,"translate"),e.k0s(),e.j41(101,"mat-slider",30),e.bIt("ngModelChange",function(s){return n.optcfg.pointer.strokeWidth=s})("input",function(s){return n.onChangeOptionsPointer("pointerStrokeWidth",s.value)}),e.k0s()(),e.j41(102,"div",33)(103,"span"),e.EFF(104),e.nI1(105,"translate"),e.k0s(),e.j41(106,"input",34),e.bIt("colorPickerChange",function(s){return n.optcfg.pointer.color=s})("colorPickerChange",function(s){return n.onChangeOptionsPointer("color",s)}),e.k0s()()(),e.j41(107,"div",35)(108,"div",36)(109,"span"),e.EFF(110),e.nI1(111,"translate"),e.k0s(),e.j41(112,"input",34),e.bIt("colorPickerChange",function(s){return n.optcfg.colorStart=s})("colorPickerChange",function(s){return n.onChangeOptions("colorStart",s)}),e.k0s()(),e.j41(113,"div",33)(114,"span"),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"input",34),e.bIt("colorPickerChange",function(s){return n.optcfg.colorStop=s})("colorPickerChange",function(s){return n.onChangeOptions("colorStop",s)}),e.k0s()(),e.j41(118,"div",33)(119,"span"),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"input",34),e.bIt("colorPickerChange",function(s){return n.optcfg.strokeColor=s})("colorPickerChange",function(s){return n.onChangeOptions("strokeColor",s)}),e.k0s()()(),e.j41(123,"div",35)(124,"div",37)(125,"span"),e.EFF(126),e.nI1(127,"translate"),e.k0s(),e.j41(128,"mat-select",38),e.bIt("valueChange",function(s){return n.options.fontFamily=s})("selectionChange",function(s){return n.onChangeOptionsLabels("fontFamily",s.value)}),e.DNE(129,sue,2,4,"mat-option",39),e.k0s()()()(),e.DNE(130,cue,10,5,"div",40),e.k0s()()(),e.j41(131,"div",41)(132,"button",42),e.bIt("click",function(){return n.onNoClick()}),e.EFF(133),e.nI1(134,"translate"),e.k0s(),e.j41(135,"button",43),e.bIt("click",function(){return n.onOkClick()}),e.EFF(136),e.nI1(137,"translate"),e.k0s()()()),2&i){const a=e.sdS(21);e.R7$(2),e.JRh(e.bMT(3,137,"editor.controls-bag-settings")),e.R7$(9),e.JRh(e.bMT(12,139,"gauges.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(17,141,"gauges.property-permission")),e.R7$(3),e.Y8G("ngIf",n.property.permission||(null==n.property.permissionRoles||null==n.property.permissionRoles.show?null:n.property.permissionRoles.show.length)||(null==n.property.permissionRoles||null==n.property.permissionRoles.enabled?null:n.property.permissionRoles.enabled.length))("ngIfElse",a),e.R7$(4),e.Y8G("data",n.data)("property",n.property),e.R7$(6),e.Y8G("ngStyle",e.eq3(181,P4,n.gaugeType===n.gaugeTypeEnum.Gauge?"transparent":"rgba(0,0,0,0.1)")),e.R7$(1),e.Y8G("ngStyle",e.eq3(183,P4,n.gaugeType===n.gaugeTypeEnum.Donut?"transparent":"rgba(0,0,0,0.1)")),e.R7$(1),e.Y8G("ngStyle",e.eq3(185,P4,n.gaugeType===n.gaugeTypeEnum.Zones?"transparent":"rgba(0,0,0,0.1)")),e.R7$(2),e.Y8G("options",n.options)("value",n.gauge.value),e.R7$(2),e.Y8G("ngIf",n.gaugeType!==n.gaugeTypeEnum.Donut),e.R7$(6),e.JRh(e.bMT(42,143,"bag.property-current-value")),e.R7$(2),e.Y8G("max",n.optcfg.maxValue)("min",n.optcfg.minValue)("step",1)("thumbLabel",!0)("ngModel",n.gauge.value),e.R7$(3),e.JRh(e.bMT(47,145,"bag.property-min")),e.R7$(2),e.Y8G("ngModel",n.optcfg.minValue),e.R7$(3),e.JRh(e.bMT(52,147,"bag.property-max")),e.R7$(2),e.Y8G("ngModel",n.optcfg.maxValue),e.R7$(3),e.JRh(e.bMT(57,149,"bag.property-bar-width")),e.R7$(2),e.Y8G("max",70)("min",0)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.lineWidth),e.R7$(4),e.JRh(e.bMT(63,151,"bag.property-animation-speed")),e.R7$(2),e.Y8G("max",128)("min",1)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.animationSpeed),e.R7$(3),e.JRh(e.bMT(68,153,"bag.property-angle")),e.R7$(2),e.Y8G("max",50)("min",-50)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.angle),e.R7$(3),e.JRh(e.bMT(73,155,"bag.property-radius")),e.R7$(2),e.Y8G("max",100)("min",50)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.radiusScale),e.R7$(4),e.JRh(e.bMT(79,157,"bag.property-font-size")),e.R7$(2),e.Y8G("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.fontSize),e.R7$(3),e.JRh(e.bMT(84,159,"bag.property-textfield-position")),e.R7$(2),e.Y8G("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.textFilePosition),e.R7$(3),e.JRh(e.bMT(89,161,"bag.property-format-digits")),e.R7$(2),e.Y8G("max",5)("min",0)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.fractionDigits),e.R7$(4),e.JRh(e.bMT(95,163,"bag.property-pointer-length")),e.R7$(2),e.Y8G("max",100)("min",0)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.pointer.length),e.R7$(3),e.JRh(e.bMT(100,165,"bag.property-pointer-stroke")),e.R7$(2),e.Y8G("max",300)("min",0)("step",1)("thumbLabel",!0)("ngModel",n.optcfg.pointer.strokeWidth),e.R7$(3),e.JRh(e.bMT(105,167,"bag.property-pointer-color")),e.R7$(2),e.xc7("background",n.optcfg.pointer.color),e.Y8G("colorPicker",n.optcfg.pointer.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(4),e.JRh(e.bMT(111,169,"bag.property-color-start")),e.R7$(2),e.xc7("background",n.optcfg.colorStart),e.Y8G("colorPicker",n.optcfg.colorStart)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(3),e.JRh(e.bMT(116,171,"bag.property-color-stop")),e.R7$(2),e.xc7("background",n.optcfg.colorStop),e.Y8G("colorPicker",n.optcfg.colorStop)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(3),e.JRh(e.bMT(121,173,"bag.property-background")),e.R7$(2),e.xc7("background",n.optcfg.strokeColor),e.Y8G("colorPicker",n.optcfg.strokeColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(4),e.JRh(e.bMT(127,175,"bag.property-font")),e.R7$(2),e.Y8G("value",n.options.fontFamily),e.R7$(1),e.Y8G("ngForOf",n.fonts),e.R7$(1),e.Y8G("ngIf",n.gaugeType===n.gaugeTypeEnum.Zones),e.R7$(3),e.JRh(e.bMT(134,177,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(137,179,"dlg.ok"))}},dependencies:[l.Sq,l.bT,l.B3,k,Zn,qe,tn,Ur,zn,nA,Or,eo,Rr,Kn,yo,t1,wc,XA,j1,Wr,Hs,v4,Vi.D9],styles:[".slider[_ngcontent-%COMP%]{display:inline-block;width:100px}.gauge[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:0;width:360px;height:350px;margin:0 auto;padding-top:30px;padding-left:70px}.gauge-select[_ngcontent-%COMP%]{width:280px;text-align:center}.gauge-view[_ngcontent-%COMP%]{border:1px solid var(--formSeparatorColor);width:280px;height:220px;margin-top:-5px;padding-top:30px}.btn-gauge[_ngcontent-%COMP%]{z-index:99;display:inline-block;width:50px;height:38px;border:1px solid var(--formSeparatorColor)}.btn-gauge-mat[_ngcontent-%COMP%]{background:url(/assets/images/gauge-mat.png) no-repeat center center;background-size:45px 30px}.btn-gauge-donut[_ngcontent-%COMP%]{background:url(/assets/images/gauge-donut.png) no-repeat center center;background-size:52px 28px}.btn-gauge-zone[_ngcontent-%COMP%]{background:url(/assets/images/gauge-zone.png) no-repeat center center;background-size:45px 30px}.toolbox[_ngcontent-%COMP%]{position:absolute;width:100%;height:310px}.toolbox-left[_ngcontent-%COMP%]{display:inline-block;width:460px;padding-top:20px}.toolbox-right[_ngcontent-%COMP%]{width:300px;position:absolute;top:0;right:0;height:270px}.toolbox-det[_ngcontent-%COMP%]{display:inline-block;width:312px;height:300px;position:absolute;top:15px;right:0}.slider-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px;text-overflow:clip;max-width:125px;white-space:nowrap;overflow:hidden}.slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{background-color:var(--formSliderBackground);height:30px}.field-row[_ngcontent-%COMP%]{display:block;margin-bottom:5px}"]})}return r})();function due(r,o){1&r&&(e.j41(0,"mat-icon",6),e.EFF(1,"lock"),e.k0s())}function uue(r,o){1&r&&(e.j41(0,"mat-icon",6),e.EFF(1,"lock_open"),e.k0s())}let fD=(()=>{class r{dialog;settingsService;cdr;name;permission;permissionRoles;permissionMode;onChanged=new e.bkB;constructor(t,i,n){this.dialog=t,this.settingsService=i,this.cdr=n}onEditPermission(){this.dialog.open(dS,{position:{top:"60px"},data:{permission:this.permission,permissionRoles:this.permissionRoles,mode:this.permissionMode}}).afterClosed().subscribe(n=>{n&&(this.permission=n.permission,this.permissionRoles=n.permissionRoles,this.onEmitValues()),this.cdr.detectChanges()})}getResult(){return{name:this.name,permission:this.permission,permissionRoles:this.permissionRoles}}onEmitValues(){this.onChanged.emit(this.getResult())}isRolePermission(){return this.settingsService.getSettings()?.userRole}havePermission(){return this.isRolePermission()?this.permissionRoles?.show?.length||this.permissionRoles?.enabled?.length:this.permission}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(yp.h),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:r,selectors:[["flex-auth"]],inputs:{name:"name",permission:"permission",permissionRoles:"permissionRoles",permissionMode:"permissionMode"},outputs:{onChanged:"onChanged"},decls:13,vars:9,consts:[[1,"my-form-field"],["type","text",2,"width","220px",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field",2,"vertical-align","bottom","margin-left","13px"],[1,"my-form-field-permission",2,"text-align","center","cursor","pointer",3,"click"],["class","header-icon","style","line-height: 28px;",4,"ngIf","ngIfElse"],["unlock",""],[1,"header-icon",2,"line-height","28px"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",1),e.bIt("ngModelChange",function(s){return n.name=s})("change",function(){return n.onEmitValues()})("keyup.enter",function(){return n.onEmitValues()}),e.k0s()(),e.j41(5,"div",2)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",3),e.bIt("click",function(){return n.onEditPermission()}),e.DNE(10,due,2,0,"mat-icon",4),e.DNE(11,uue,2,0,"ng-template",null,5,e.C5r),e.k0s()()),2&i){const a=e.sdS(12);e.R7$(2),e.JRh(e.bMT(3,5,"gauges.property-name")),e.R7$(2),e.Y8G("ngModel",n.name),e.R7$(3),e.JRh(e.bMT(8,7,"gauges.property-permission")),e.R7$(3),e.Y8G("ngIf",n.havePermission())("ngIfElse",a)}},dependencies:[l.bT,k,qe,tn,Kn,Vi.D9]})}return r})();const hue=["flexauth"],pue=["flexhead"],fue=["slider"];function gue(r,o){if(1&r&&(e.j41(0,"mat-option",44),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function mue(r,o){if(1&r&&(e.j41(0,"mat-option",44),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function vue(r,o){if(1&r&&(e.j41(0,"mat-option",44),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("font-family",t),e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function _ue(r,o){if(1&r&&(e.j41(0,"mat-option",44),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}let yue=(()=>{class r{dialogRef;translateService;changeDetector;data;flexAuth;flexHead;slider;property;options=new y4;defaultColor=ii.Aq.defaultColor;fonts=Tf.fonts;name;layoutHorizontal={width:400,height:80,top:180,left:0};layoutVertical={width:80,height:400,top:20,left:150};sliderLayout=this.layoutVertical;orientationType={horizontal:"horizontal",vertical:"vertical"};directionType={ltr:"ltr",rtl:"rtl"};tooltipType={none:"none",hide:"hide",show:"show"};staticScala="";constructor(t,i,n,a){this.dialogRef=t,this.translateService=i,this.changeDetector=n,this.data=a,this.property=JSON.parse(JSON.stringify(this.data.settings.property)),this.property||(this.property=new It.f5),this.name=this.data.settings.name,this.options=this.property.options,this.options||(this.options=new y4)}ngOnInit(){Object.keys(this.orientationType).forEach(t=>{this.translateService.get("slider.property-"+this.orientationType[t]).subscribe(i=>{this.orientationType[t]=i})}),Object.keys(this.directionType).forEach(t=>{this.translateService.get("slider.property-"+this.directionType[t]).subscribe(i=>{this.directionType[t]=i})}),Object.keys(this.tooltipType).forEach(t=>{this.translateService.get("slider.property-tooltip-"+this.tooltipType[t]).subscribe(i=>{this.tooltipType[t]=i})}),this.sliderLayout="vertical"===this.options.orientation?this.layoutVertical:this.layoutHorizontal,this.options.pips.values.forEach(t=>{this.staticScala.length&&(this.staticScala+=";"),this.staticScala+=t.toString()})}ngAfterViewInit(){this.setSliderOptions()}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.settings.property=this.property,this.data.settings.property.permission=this.flexAuth.permission,this.data.settings.property.options=this.options,this.data.settings.name=this.flexAuth.name}onChangeOptions(t,i){"min"===t||"max"===t?this.options.range[t]=parseFloat(i):"step"===t?this.options[t]=parseFloat(i):"staticScala"===t?(this.options.pips.values=[],i&&i.split(";").forEach(a=>{let s=parseFloat(a);isNaN(s)||this.options.pips.values.push(s)})):"tooltipType"===t?this.options.tooltip.type=i:this.options[t]=i,this.setSliderOptions()}onChangeDirection(t){this.setSliderOptions()}setSliderOptions(){this.sliderLayout="vertical"===this.options.orientation?this.layoutVertical:this.layoutHorizontal,this.changeDetector.detectChanges();let t=JSON.parse(JSON.stringify(this.options));this.slider.setOptions(t),this.slider.resize(this.sliderLayout.height,this.sliderLayout.width)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Vi.c$),e.rXU(e.gRc),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-slider-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(hue,5),e.GBs(pue,5),e.GBs(fue,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.flexAuth=a.first),e.mGM(a=e.lsd())&&(n.flexHead=a.first),e.mGM(a=e.lsd())&&(n.slider=a.first)}},decls:156,vars:189,consts:[[1,"dialog-mdsd-main",2,"width","790px","height","730px","position","relative"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],[1,"dialog-mdsd-content"],[2,"width","100%"],[3,"label"],[2,"display","block","width","660px","padding-top","20px"],[2,"display","block"],[3,"name","permission"],["flexauth",""],["mat-dialog-content","",2,"overflow","hidden","width","100%"],[3,"data","property"],["flexhead",""],[2,"width","100%","height","515px","position","relative"],[2,"position","absolute"],["slider",""],[2,"width","280px","height","100%","float","right"],[1,"field-row",2,"margin-top","20px"],[1,"my-form-field",2,"width","120px"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field",2,"width","120px","margin-left","20px"],[1,"field-row","slider-field"],[1,"my-form-field",2,"width","163px"],[3,"fontFamily","value",4,"ngFor","ngForOf"],[1,"my-form-field","slider-field","color-field"],[1,"input-color",2,"width","78px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","slider-field","color-field",2,"padding-left","10px"],[1,"field-row"],[1,"my-form-field","slider-field"],["numberOnly","","type","text",2,"width","50px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],[1,"my-form-field","slider-field",2,"padding-left","12px"],[2,"max-width","180px"],["type","text",2,"width","160px",3,"ngModel","ngModelChange","change"],["numberOnly","","max","50","min","6","step","1","type","number",2,"width","60px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],[1,"my-form-field","slider-field",2,"padding-left","10px"],["numberOnly","","max","15","min","0","step","1","type","number",2,"width","60px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],["numberOnly","","max","50","min","0","step","1","type","number",2,"width","60px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],[1,"my-form-field",2,"width","80px"],[1,"my-form-field","slider-field","color-field",2,"padding-left","17px"],["numberOnly","","max","3","min","0","step","1","type","number",2,"width","60px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"mat-tab-group",4)(8,"mat-tab",5),e.nI1(9,"translate"),e.j41(10,"div",6)(11,"div",7),e.nrm(12,"flex-auth",8,9),e.k0s(),e.j41(14,"div",10),e.nrm(15,"flex-head",11,12),e.k0s()(),e.j41(17,"div",13)(18,"div",14),e.nrm(19,"ngx-nouislider",null,15),e.k0s(),e.j41(21,"div",16)(22,"div",17)(23,"div",18)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"mat-select",19),e.bIt("valueChange",function(s){return n.options.orientation=s})("selectionChange",function(){return n.setSliderOptions()}),e.DNE(28,gue,2,2,"mat-option",20),e.nI1(29,"enumToArray"),e.k0s()(),e.j41(30,"div",21)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"mat-select",19),e.bIt("valueChange",function(s){return n.options.direction=s})("selectionChange",function(){return n.setSliderOptions()}),e.DNE(35,mue,2,2,"mat-option",20),e.nI1(36,"enumToArray"),e.k0s()()(),e.j41(37,"div",22)(38,"div",23)(39,"span"),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"mat-select",19),e.bIt("valueChange",function(s){return n.options.fontFamily=s})("selectionChange",function(s){return n.onChangeOptions("fontFamily",s.value)}),e.DNE(43,vue,2,4,"mat-option",24),e.k0s()()(),e.j41(44,"div",17)(45,"div",25)(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"input",26),e.bIt("colorPickerChange",function(s){return n.options.shape.connectColor=s})("colorPickerChange",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(50,"div",27)(51,"span"),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"input",26),e.bIt("colorPickerChange",function(s){return n.options.shape.baseColor=s})("colorPickerChange",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(55,"div",27)(56,"span"),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"input",26),e.bIt("colorPickerChange",function(s){return n.options.shape.handleColor=s})("colorPickerChange",function(){return n.setSliderOptions()}),e.k0s()()(),e.j41(60,"div",28)(61,"div",29)(62,"span"),e.EFF(63),e.nI1(64,"translate"),e.k0s(),e.j41(65,"input",30),e.bIt("ngModelChange",function(s){return n.options.range.min=s})("change",function(){return n.onChangeOptions("min",n.options.range.min)}),e.k0s()(),e.j41(66,"div",31)(67,"span"),e.EFF(68),e.nI1(69,"translate"),e.k0s(),e.j41(70,"input",30),e.bIt("ngModelChange",function(s){return n.options.range.max=s})("change",function(){return n.onChangeOptions("max",n.options.range.max)}),e.k0s()(),e.j41(71,"div",31)(72,"span"),e.EFF(73),e.nI1(74,"translate"),e.k0s(),e.j41(75,"input",30),e.bIt("ngModelChange",function(s){return n.options.step=s})("change",function(){return n.onChangeOptions("step",n.options.step)}),e.k0s()()(),e.j41(76,"div",17)(77,"div",29)(78,"div",29)(79,"span",32),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.j41(82,"input",33),e.bIt("ngModelChange",function(s){return n.staticScala=s})("change",function(){return n.onChangeOptions("staticScala",n.staticScala)}),e.k0s()(),e.j41(83,"div",27)(84,"span"),e.EFF(85),e.nI1(86,"translate"),e.k0s(),e.j41(87,"input",26),e.bIt("colorPickerChange",function(s){return n.options.marker.color=s})("colorPickerChange",function(){return n.setSliderOptions()}),e.k0s()()()(),e.j41(88,"div",28)(89,"div",29)(90,"span"),e.EFF(91),e.nI1(92,"translate"),e.k0s(),e.j41(93,"input",34),e.bIt("ngModelChange",function(s){return n.options.marker.fontSize=s})("change",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(94,"div",35)(95,"span"),e.EFF(96),e.nI1(97,"translate"),e.k0s(),e.j41(98,"input",36),e.bIt("ngModelChange",function(s){return n.options.marker.divHeight=s})("change",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(99,"div",35)(100,"span"),e.EFF(101),e.nI1(102,"translate"),e.k0s(),e.j41(103,"input",36),e.bIt("ngModelChange",function(s){return n.options.marker.divWidth=s})("change",function(){return n.setSliderOptions()}),e.k0s()()(),e.j41(104,"div",28)(105,"div",29)(106,"span"),e.EFF(107),e.nI1(108,"translate"),e.k0s(),e.j41(109,"input",37),e.bIt("ngModelChange",function(s){return n.options.pips.density=s})("change",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(110,"div",35)(111,"span"),e.EFF(112),e.nI1(113,"translate"),e.k0s(),e.j41(114,"input",36),e.bIt("ngModelChange",function(s){return n.options.marker.subHeight=s})("change",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(115,"div",35)(116,"span"),e.EFF(117),e.nI1(118,"translate"),e.k0s(),e.j41(119,"input",36),e.bIt("ngModelChange",function(s){return n.options.marker.subWidth=s})("change",function(){return n.setSliderOptions()}),e.k0s()()(),e.j41(120,"div",17)(121,"div",38)(122,"span"),e.EFF(123),e.nI1(124,"translate"),e.k0s(),e.j41(125,"mat-select",19),e.bIt("valueChange",function(s){return n.options.tooltip.type=s})("selectionChange",function(){return n.onChangeOptions("tooltipType",n.options.tooltip.type)}),e.DNE(126,_ue,2,2,"mat-option",20),e.nI1(127,"enumToArray"),e.k0s()(),e.j41(128,"div",39)(129,"span"),e.EFF(130),e.nI1(131,"translate"),e.k0s(),e.j41(132,"input",26),e.bIt("colorPickerChange",function(s){return n.options.tooltip.color=s})("colorPickerChange",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(133,"div",27)(134,"span"),e.EFF(135),e.nI1(136,"translate"),e.k0s(),e.j41(137,"input",26),e.bIt("colorPickerChange",function(s){return n.options.tooltip.background=s})("colorPickerChange",function(){return n.setSliderOptions()}),e.k0s()()(),e.j41(138,"div",28)(139,"div",29)(140,"span"),e.EFF(141),e.nI1(142,"translate"),e.k0s(),e.j41(143,"input",34),e.bIt("ngModelChange",function(s){return n.options.tooltip.fontSize=s})("change",function(){return n.setSliderOptions()}),e.k0s()(),e.j41(144,"div",35)(145,"span"),e.EFF(146),e.nI1(147,"translate"),e.k0s(),e.j41(148,"input",40),e.bIt("ngModelChange",function(s){return n.options.tooltip.decimals=s})("change",function(){return n.setSliderOptions()}),e.k0s()()()()()()()(),e.j41(149,"div",41)(150,"button",42),e.bIt("click",function(){return n.onNoClick()}),e.EFF(151),e.nI1(152,"translate"),e.k0s(),e.j41(153,"button",43),e.bIt("click",function(){return n.onOkClick()}),e.EFF(154),e.nI1(155,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,131,"editor.controls-slider-settings")),e.R7$(6),e.FS9("label",e.bMT(9,133,"slider.property-props")),e.R7$(4),e.Y8G("name",n.name)("permission",n.property.permission),e.R7$(3),e.Y8G("data",n.data)("property",n.property),e.R7$(3),e.xc7("width",n.sliderLayout.width+"px")("height",n.sliderLayout.height+"px")("top",n.sliderLayout.top+"px")("left",n.sliderLayout.left+"px"),e.R7$(7),e.JRh(e.bMT(26,135,"slider.property-orientation")),e.R7$(2),e.Y8G("value",n.options.orientation),e.R7$(1),e.Y8G("ngForOf",e.bMT(29,137,n.orientationType)),e.R7$(4),e.JRh(e.bMT(33,139,"slider.property-direction")),e.R7$(2),e.Y8G("value",n.options.direction),e.R7$(1),e.Y8G("ngForOf",e.bMT(36,141,n.directionType)),e.R7$(5),e.JRh(e.bMT(41,143,"slider.property-font")),e.R7$(2),e.Y8G("value",n.options.fontFamily),e.R7$(1),e.Y8G("ngForOf",n.fonts),e.R7$(4),e.JRh(e.bMT(48,145,"slider.property-slider-color")),e.R7$(2),e.xc7("background",n.options.shape.connectColor),e.Y8G("colorPicker",n.options.shape.connectColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(3),e.JRh(e.bMT(53,147,"slider.property-slider-background")),e.R7$(2),e.xc7("background",n.options.shape.baseColor),e.Y8G("colorPicker",n.options.shape.baseColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(3),e.JRh(e.bMT(58,149,"slider.property-slider-handle")),e.R7$(2),e.xc7("background",n.options.shape.handleColor),e.Y8G("colorPicker",n.options.shape.handleColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(4),e.JRh(e.bMT(64,151,"slider.property-min")),e.R7$(2),e.Y8G("ngModel",n.options.range.min),e.R7$(3),e.JRh(e.bMT(69,153,"slider.property-max")),e.R7$(2),e.Y8G("ngModel",n.options.range.max),e.R7$(3),e.JRh(e.bMT(74,155,"slider.property-step")),e.R7$(2),e.Y8G("ngModel",n.options.step),e.R7$(5),e.JRh(e.bMT(81,157,"slider.property-scala")),e.R7$(2),e.Y8G("ngModel",n.staticScala),e.R7$(3),e.JRh(e.bMT(86,159,"slider.property-marker-color")),e.R7$(2),e.xc7("background",n.options.marker.color),e.Y8G("colorPicker",n.options.marker.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(4),e.JRh(e.bMT(92,161,"slider.property-font-size")),e.R7$(2),e.Y8G("ngModel",n.options.marker.fontSize),e.R7$(3),e.JRh(e.bMT(97,163,"slider.property-divisions-height")),e.R7$(2),e.Y8G("ngModel",n.options.marker.divHeight),e.R7$(3),e.JRh(e.bMT(102,165,"slider.property-divisions-width")),e.R7$(2),e.Y8G("ngModel",n.options.marker.divWidth),e.R7$(4),e.JRh(e.bMT(108,167,"slider.property-subdivisions")),e.R7$(2),e.Y8G("ngModel",n.options.pips.density),e.R7$(3),e.JRh(e.bMT(113,169,"slider.property-subdivisions-height")),e.R7$(2),e.Y8G("ngModel",n.options.marker.subHeight),e.R7$(3),e.JRh(e.bMT(118,171,"slider.property-subdivisions-width")),e.R7$(2),e.Y8G("ngModel",n.options.marker.subWidth),e.R7$(4),e.JRh(e.bMT(124,173,"slider.property-tooltip")),e.R7$(2),e.Y8G("value",n.options.tooltip.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(127,175,n.tooltipType)),e.R7$(4),e.JRh(e.bMT(131,177,"slider.property-tooltip-color")),e.R7$(2),e.xc7("background",n.options.tooltip.color),e.Y8G("colorPicker",n.options.tooltip.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(3),e.JRh(e.bMT(136,179,"slider.property-tooltip-background")),e.R7$(2),e.xc7("background",n.options.tooltip.background),e.Y8G("colorPicker",n.options.tooltip.background)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(4),e.JRh(e.bMT(142,181,"slider.property-tooltip-font-size")),e.R7$(2),e.Y8G("ngModel",n.options.tooltip.fontSize),e.R7$(3),e.JRh(e.bMT(147,183,"slider.property-tooltip-decimals")),e.R7$(2),e.Y8G("ngModel",n.options.tooltip.decimals),e.R7$(3),e.JRh(e.bMT(152,185,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(155,187,"dlg.ok")))},dependencies:[l.Sq,k,Zn,qe,qn,Er,tn,Ur,zn,nA,Or,eo,Rr,Kn,yo,eu,Td,XA,fD,j1,Wr,Hs,b4,Vi.D9,ii.yN],styles:[".field-row[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.slider-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px;text-overflow:clip;max-width:125px;white-space:nowrap;overflow:hidden}.slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{background-color:var(--formSliderBackground);height:30px}  .mat-tab-label{height:34px!important}"]})}return r})();const bue=["switcher"],wue=["flexhead"],Cue=["flexauth"],Eue=["flexevent"];function Bue(r,o){if(1&r&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("font-family",t),e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Mue(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-tab",4),e.nI1(1,"translate"),e.j41(2,"div",36)(3,"div",37)(4,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddEvent())}),e.nI1(5,"translate"),e.j41(6,"mat-icon"),e.EFF(7,"add_circle_outline"),e.k0s()()(),e.j41(8,"div",39),e.nrm(9,"flex-event",40,41),e.k0s()()()}if(2&r){const t=e.XpG();e.FS9("label",e.bMT(1,7,"gauges.property-events")),e.R7$(4),e.FS9("matTooltip",e.bMT(5,9,"gauges.property-tooltip-add-event")),e.R7$(5),e.Y8G("property",t.property)("views",t.data.views)("data",t.data)("inputs",t.data.inputs)("scripts",t.data.scripts)}}let xue=(()=>{class r{dialogRef;data;switcher;flexhead;flexauth;flexEvent;property;options;name;switchWidth=80;switchHeight=40;fonts=Tf.fonts;defaultColor=ii.Aq.defaultColor;withBitmask=!1;eventsSupported;constructor(t,i){this.dialogRef=t,this.data=i,this.property=JSON.parse(JSON.stringify(this.data.settings.property)),this.property||(this.property=new It.f5),this.name=this.data.settings.name,this.options=this.property.options,this.options||(this.options=new PN);let n=ru.getSize(this.data.settings);this.switchHeight=n.height,this.switchWidth=n.width,this.options.height=this.switchHeight,this.eventsSupported=this.data.withEvents}ngOnInit(){this.data.withBitmask&&(this.withBitmask=this.data.withBitmask)}ngAfterContentInit(){this.updateOptions()}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.settings.property=this.property,this.data.settings.property.permission=this.flexauth.permission,this.data.settings.property.permissionRoles=this.flexauth.permissionRoles,this.data.settings.property.options=this.options,this.data.settings.name=this.flexauth.name,this.flexEvent&&(this.data.settings.property.events=this.flexEvent.getEvents())}onAddEvent(){this.flexEvent.onAddEvent()}updateOptions(){this.switcher?.setOptions(this.options)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-html-switch-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(bue,5),e.GBs(wue,5),e.GBs(Cue,5),e.GBs(Eue,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.switcher=a.first),e.mGM(a=e.lsd())&&(n.flexhead=a.first),e.mGM(a=e.lsd())&&(n.flexauth=a.first),e.mGM(a=e.lsd())&&(n.flexEvent=a.first)}},decls:97,vars:144,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],[2,"width","100%"],[3,"label"],[2,"height","500px","overflow-y","auto","overflow-x","hidden","padding-top","15px"],[1,"block"],[3,"name","permission","permissionRoles"],["flexauth",""],[3,"data","property","withStaticValue","withBitmask"],["flexhead",""],[1,"field-row","mt10"],[1,"my-form-field","color-field"],[1,"input-color",2,"padding","8px 0 0 0","width","90px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","color-field","ml10"],[1,"my-form-field","ml10"],["numberOnly","","type","text",2,"width","80px","text-align","center","display","inline-block",3,"ngModel","ngModelChange"],[1,"my-form-field","color-field","ftr","ml10"],[1,"my-form-field","ftr"],["type","text",2,"width","90px","text-align","center","display","inline-block",3,"ngModel","ngModelChange","change"],[1,"my-form-field","ftr","ml10"],[1,"my-form-field","input-radius"],["numberOnly","","type","number","min","0","max","100","step","1",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","input-font-size","ml10"],["numberOnly","","type","number","min","0","max","50","step","1",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","input-font","ml10"],[3,"value","valueChange","selectionChange"],[3,"fontFamily","value",4,"ngFor","ngForOf"],[1,"field-row",2,"position","absolute","height","210px","width","650px","margin-top","16px","max-width","650px","max-height","210px","overflow","hidden"],[2,"position","absolute","left","50%","top","50%","transform","translateX(-50%) translateY(-50%)"],["switcher",""],[3,"label",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close","click"],[3,"value"],[1,"mat-tab-container"],[1,"toolbox"],["mat-icon-button","",3,"matTooltip","click"],["mat-dialog-content","",2,"overflow","visible","width","100%"],[1,"mb5",3,"property","views","data","inputs","scripts"],["flexevent",""]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"mat-tab-group",3)(7,"mat-tab",4),e.nI1(8,"translate"),e.j41(9,"div",5)(10,"div",6),e.nrm(11,"flex-auth",7,8),e.k0s(),e.j41(13,"div",6),e.nrm(14,"flex-head",9,10),e.k0s(),e.nrm(16,"div",11),e.j41(17,"div",11)(18,"div",12)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",13),e.bIt("colorPickerChange",function(s){return n.options.offBackground=s})("colorPickerChange",function(){return n.updateOptions()}),e.k0s()(),e.j41(23,"div",14)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",13),e.bIt("colorPickerChange",function(s){return n.options.offSliderColor=s})("colorPickerChange",function(){return n.updateOptions()}),e.k0s()(),e.j41(28,"div",15)(29,"span"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"input",16),e.bIt("ngModelChange",function(s){return n.options.offValue=s}),e.k0s()(),e.j41(33,"div",17)(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"input",13),e.bIt("colorPickerChange",function(s){return n.options.onBackground=s})("colorPickerChange",function(){return n.updateOptions()}),e.k0s()(),e.j41(38,"div",17)(39,"span"),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"input",13),e.bIt("colorPickerChange",function(s){return n.options.onSliderColor=s})("colorPickerChange",function(){return n.updateOptions()}),e.k0s()(),e.j41(43,"div",18)(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"input",16),e.bIt("ngModelChange",function(s){return n.options.onValue=s}),e.k0s()()(),e.j41(48,"div",11)(49,"div",12)(50,"span"),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"input",13),e.bIt("colorPickerChange",function(s){return n.options.offTextColor=s})("colorPickerChange",function(){return n.updateOptions()}),e.k0s()(),e.j41(54,"div",15)(55,"span"),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"input",19),e.bIt("ngModelChange",function(s){return n.options.offText=s})("change",function(){return n.updateOptions()}),e.k0s()(),e.j41(59,"div",17)(60,"span"),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"input",13),e.bIt("colorPickerChange",function(s){return n.options.onTextColor=s})("colorPickerChange",function(){return n.updateOptions()}),e.k0s()(),e.j41(64,"div",20)(65,"span"),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.j41(68,"input",19),e.bIt("ngModelChange",function(s){return n.options.onText=s})("change",function(){return n.updateOptions()}),e.k0s()()(),e.j41(69,"div",11)(70,"div",21)(71,"span"),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.j41(74,"input",22),e.bIt("ngModelChange",function(s){return n.options.radius=s})("change",function(){return n.updateOptions()})("keyup.enter",function(){return n.updateOptions()}),e.k0s()(),e.j41(75,"div",23)(76,"span"),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.j41(79,"input",24),e.bIt("ngModelChange",function(s){return n.options.fontSize=s})("change",function(){return n.updateOptions()})("keyup.enter",function(){return n.updateOptions()}),e.k0s()(),e.j41(80,"div",25)(81,"span"),e.EFF(82),e.nI1(83,"translate"),e.k0s(),e.j41(84,"mat-select",26),e.bIt("valueChange",function(s){return n.options.fontFamily=s})("selectionChange",function(){return n.updateOptions()}),e.DNE(85,Bue,2,4,"mat-option",27),e.k0s()()(),e.j41(86,"div",28),e.nrm(87,"ngx-switch",29,30),e.k0s()()(),e.DNE(89,Mue,11,11,"mat-tab",31),e.k0s(),e.j41(90,"div",32)(91,"button",33),e.bIt("click",function(){return n.onNoClick()}),e.EFF(92),e.nI1(93,"translate"),e.k0s(),e.j41(94,"button",34),e.bIt("click",function(){return n.onOkClick()}),e.EFF(95),e.nI1(96,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,110,"editor.controls-html-switch-settings")),e.R7$(5),e.FS9("label",e.bMT(8,112,"gauges.property-props")),e.R7$(4),e.Y8G("name",n.name)("permission",n.property.permission)("permissionRoles",n.property.permissionRoles),e.R7$(3),e.Y8G("data",n.data)("property",n.property)("withStaticValue",!1)("withBitmask",n.withBitmask),e.R7$(6),e.JRh(e.bMT(21,114,"html-switch.property-off-background")),e.R7$(2),e.xc7("background",n.options.offBackground),e.Y8G("colorPicker",n.options.offBackground)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","right"),e.R7$(3),e.JRh(e.bMT(26,116,"html-switch.property-off-slider-color")),e.R7$(2),e.xc7("background",n.options.offSliderColor),e.Y8G("colorPicker",n.options.offSliderColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","right"),e.R7$(3),e.JRh(e.bMT(31,118,"html-switch.property-off-value")),e.R7$(2),e.Y8G("ngModel",n.options.offValue),e.R7$(3),e.JRh(e.bMT(36,120,"html-switch.property-on-background")),e.R7$(2),e.xc7("background",n.options.onBackground),e.Y8G("colorPicker",n.options.onBackground)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(3),e.JRh(e.bMT(41,122,"html-switch.property-on-slider-color")),e.R7$(2),e.xc7("background",n.options.onSliderColor),e.Y8G("colorPicker",n.options.onSliderColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","left"),e.R7$(3),e.JRh(e.bMT(46,124,"html-switch.property-on-value")),e.R7$(2),e.Y8G("ngModel",n.options.onValue),e.R7$(4),e.JRh(e.bMT(52,126,"html-switch.property-off-text-color")),e.R7$(2),e.xc7("background",n.options.offTextColor),e.Y8G("colorPicker",n.options.offTextColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(3),e.JRh(e.bMT(57,128,"html-switch.property-off-text")),e.R7$(2),e.Y8G("ngModel",n.options.offText),e.R7$(3),e.JRh(e.bMT(62,130,"html-switch.property-on-text-color")),e.R7$(2),e.xc7("background",n.options.onTextColor),e.Y8G("colorPicker",n.options.onTextColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","top"),e.R7$(3),e.JRh(e.bMT(67,132,"html-switch.property-on-text")),e.R7$(2),e.Y8G("ngModel",n.options.onText),e.R7$(4),e.JRh(e.bMT(73,134,"html-switch.property-radius")),e.R7$(2),e.Y8G("ngModel",n.options.radius),e.R7$(3),e.JRh(e.bMT(78,136,"html-switch.property-font-size")),e.R7$(2),e.Y8G("ngModel",n.options.fontSize),e.R7$(3),e.JRh(e.bMT(83,138,"html-switch.property-font")),e.R7$(2),e.Y8G("value",n.options.fontFamily),e.R7$(1),e.Y8G("ngForOf",n.fonts),e.R7$(2),e.xc7("width",n.switchWidth+"px")("height",n.switchHeight+"px"),e.R7$(2),e.Y8G("ngIf",n.eventsSupported),e.R7$(3),e.JRh(e.bMT(93,140,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(96,142,"dlg.ok")))},dependencies:[l.Sq,l.bT,k,Zn,qe,qn,Er,tn,Ur,zn,nA,Or,eo,Rr,Kn,yo,eu,Td,Is,XA,fD,j1,AS,Wr,Hs,_4,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:740px;position:relative}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .input-radius[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .input-font-size[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .input-font[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:160px}[_nghost-%COMP%]   .field-row[_ngcontent-%COMP%]{display:block;margin-bottom:5px}[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px;text-overflow:clip;width:150px;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{background-color:var(--formSliderBackground);height:29px}[_nghost-%COMP%]   .slider-small[_ngcontent-%COMP%] > .mat-slider-horizontal[_ngcontent-%COMP%]{min-width:80px}[_nghost-%COMP%]     .mat-tab-label{height:34px!important}[_nghost-%COMP%]   .mat-tab-container[_ngcontent-%COMP%]{min-height:300px;height:60vmin;overflow-y:auto;overflow-x:hidden;padding-top:15px}[_nghost-%COMP%]   .mat-tab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]{float:right;line-height:44px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return r})();function Due(r,o){if(1&r&&(e.j41(0,"mat-option",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.Y8G("value",t.key)("disabled",t.key===i.cardType.table),e.R7$(1),e.SpI(" ",e.bMT(2,3,"card.widget-"+t.value)," ")}}function Iue(r,o){if(1&r&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function kue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",3)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",4),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.card.data=n)}),e.DNE(6,Iue,2,2,"mat-option",13),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,3,"card.config-content-view")),e.R7$(2),e.Y8G("value",t.card.data),e.R7$(1),e.Y8G("ngForOf",t.data.views)}}function Tue(r,o){1&r&&e.nrm(0,"div")}function Fue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",15)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",16),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.card.data=n)}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,2,"card.config-content-iframe")),e.R7$(2),e.Y8G("ngModel",t.card.data)}}function Sue(r,o){if(1&r&&(e.j41(0,"mat-option",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"panel.property-scalemode-"+t.value)," ")}}function Que(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",17)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",4),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.card.scaleMode=n)}),e.DNE(5,Sue,3,4,"mat-option",13),e.nI1(6,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"panel.property-scalemode")),e.R7$(2),e.Y8G("value",t.card.scaleMode),e.R7$(1),e.Y8G("ngForOf",e.bMT(6,5,t.scaleMode))}}let Rue=(()=>{class r{translateService;dialogRef;data;cardType=It.nW;card;scaleMode=It.lG;constructor(t,i,n){this.translateService=t,this.dialogRef=i,this.data=n,this.card=this.data.item.card}ngOnInit(){Object.keys(this.cardType).forEach(t=>{this.translateService.get(this.cardType[t]).subscribe(i=>{this.cardType[t]=i})})}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.item.content=null,this.card.type===It.nW.view||this.card.type===It.nW.iframe&&(this.data.item.content=this.card.data),this.dialogRef.close(this.data.item)}static \u0275fac=function(i){return new(i||r)(e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-card-config"]],decls:26,vars:22,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"force-lbk","pointer-move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",1,"container"],[1,"my-form-field"],[2,"width","320px",3,"value","valueChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"ftr",3,"ngSwitch"],[4,"ngSwitchCase"],["class","my-form-field block mt10",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close","click"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"my-form-field","ftr"],["type","text",2,"width","320px",3,"ngModel","ngModelChange"],[1,"my-form-field","block","mt10"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",4),e.bIt("valueChange",function(s){return n.card.type=s}),e.DNE(12,Due,3,5,"mat-option",5),e.nI1(13,"enumToArray"),e.k0s()(),e.j41(14,"div",6),e.DNE(15,kue,7,5,"div",7),e.DNE(16,Tue,1,0,"div",7),e.DNE(17,Fue,6,4,"div",7),e.k0s(),e.DNE(18,Que,7,7,"div",8),e.k0s(),e.j41(19,"div",9)(20,"button",10),e.bIt("click",function(){return n.onNoClick()}),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"button",11),e.bIt("click",function(){return n.onOkClick()}),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,12,"card.config-title")),e.R7$(7),e.JRh(e.bMT(10,14,"card.config-content-type")),e.R7$(2),e.Y8G("value",n.card.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(13,16,n.cardType)),e.R7$(2),e.Y8G("ngSwitch",n.card.type),e.R7$(1),e.Y8G("ngSwitchCase",n.cardType.view),e.R7$(1),e.Y8G("ngSwitchCase",n.cardType.alarms),e.R7$(1),e.Y8G("ngSwitchCase",n.cardType.iframe),e.R7$(1),e.Y8G("ngIf",n.card.type===n.cardType.view||n.card.type===n.cardType.iframe),e.R7$(3),e.JRh(e.bMT(22,18,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(25,20,"dlg.ok")))},dependencies:[l.Sq,l.bT,l.ux,l.e1,k,qe,tn,Ur,zn,nA,Or,eo,Rr,Kn,yo,Wr,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:700px;height:500px}"]})}return r})();function Pue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",7),e.nrm(1,"flex-variable",8),e.j41(2,"span"),e.EFF(3," - "),e.k0s(),e.j41(4,"flex-variable",9),e.bIt("onchange",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.setVariable(s,n))}),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("data",i.data)("variableId",t.srcId)("withStaticValue",!1)("withBitmask",!1)("readonly",!0),e.R7$(3),e.Y8G("data",i.data)("variableId",t.destId)("withStaticValue",!1)("withBitmask",!1)}}let Oue=(()=>{class r{dialogRef;data;constructor(t,i){this.dialogRef=t,this.data=i}onOkClick(){this.dialogRef.close(this.data.tagsIds)}onCancelClick(){this.dialogRef.close()}setVariable(t,i){t.destId=i.variableId}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tags-ids-config"]],decls:15,vars:10,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",1,"content"],["class","tag-Id-ref",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[1,"tag-Id-ref"],[3,"data","variableId","withStaticValue","withBitmask","readonly"],[3,"data","variableId","withStaticValue","withBitmask","onchange"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onCancelClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2),e.DNE(7,Pue,5,9,"div",3),e.k0s(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return n.onCancelClick()}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"button",6),e.bIt("click",function(){return n.onOkClick()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,4,"tags.ids-config-title")),e.R7$(5),e.Y8G("ngForOf",n.data.tagsIds),e.R7$(3),e.JRh(e.bMT(11,6,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(14,8,"dlg.ok")))},dependencies:[l.Sq,zn,Or,eo,Rr,Kn,Cp,Wr,Vi.D9],styles:[".content[_ngcontent-%COMP%]{min-height:400px;min-width:800px;margin-top:10px}.tag-Id-ref[_ngcontent-%COMP%]{display:block}.tag-Id-ref[_ngcontent-%COMP%]   flex-variable[_ngcontent-%COMP%]{display:inline-block}.tag-Id-ref[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;display:inline-block}"]})}return r})();const Lue=["flexevent"],Yue=["tabEvents"];function Nue(r,o){if(1&r&&(e.j41(0,"mat-option",10),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.text," ")}}function jue(r,o){if(1&r&&(e.j41(0,"mat-option",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"dlg.docproperty-align-"+t.value)," ")}}function Gue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",24)(2,"div",25)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"input",26),e.k0s(),e.j41(7,"div",27)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",28),e.k0s()(),e.j41(12,"div",8)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",29),e.bIt("selectionChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onSizeChange(n.value))}),e.nI1(17,"translate"),e.DNE(18,Nue,2,2,"mat-option",30),e.k0s()(),e.j41(19,"div",8)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"mat-select",31),e.nI1(24,"translate"),e.DNE(25,jue,3,4,"mat-option",30),e.nI1(26,"enumToArray"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,8,"dlg.docproperty-width")),e.R7$(5),e.JRh(e.bMT(10,10,"dlg.docproperty-height")),e.R7$(5),e.JRh(e.bMT(15,12,"dlg.docproperty-size")),e.R7$(2),e.FS9("placeholder",e.bMT(17,14,"dlg.docproperty-select")),e.R7$(2),e.Y8G("ngForOf",t.propSizeType),e.R7$(3),e.JRh(e.bMT(22,16,"dlg.docproperty-align")),e.R7$(2),e.FS9("placeholder",e.bMT(24,18,"dlg.docproperty-align-placeholder")),e.R7$(2),e.Y8G("ngForOf",e.bMT(26,20,t.alignType))}}function Uue(r,o){if(1&r&&(e.j41(0,"mat-option",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",e.bMT(2,2,"dlg.docproperty-gridtype-"+t.value)," ")}}function zue(r,o){if(1&r&&(e.j41(0,"div")(1,"div",32)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",33),e.nI1(6,"translate"),e.DNE(7,Uue,3,4,"mat-option",30),e.nI1(8,"enumToArray"),e.k0s()(),e.j41(9,"div",34)(10,"span"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"input",35),e.k0s()()),2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,7,"dlg.docproperty-gridtype")),e.R7$(2),e.FS9("placeholder",e.bMT(6,9,"dlg.docproperty-gridtype-placeholder")),e.R7$(2),e.Y8G("ngForOf",e.bMT(8,11,t.gridType)),e.R7$(4),e.JRh(e.bMT(12,13,"dlg.docproperty-margin")),e.R7$(2),e.Y8G("max",20)("min",0)("step",1)}}function Hue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",8)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",36),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.profile.bkcolor=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,14,"dlg.docproperty-background")),e.R7$(2),e.xc7("background",t.data.profile.bkcolor),e.Y8G("colorPicker",t.data.profile.bkcolor)("cpPresetColors",t.defaultColor)("cpAlphaChannel","always")("cpPosition","bottom")("value",t.data.profile.bkcolor)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButton",!0)("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")}}let lj=(()=>{class r{fb;translateService;projectService;dialogRef;data;defaultColor=ii.Aq.defaultColor;viewType=It.qi;alignType=It.k4;formGroup;gridType=G0.jJ;scripts;destroy$=new An.B;flexEvent;tabEvents;propSizeType=[{text:"dlg.docproperty-size-320-240",value:{width:320,height:240}},{text:"dlg.docproperty-size-460-360",value:{width:460,height:360}},{text:"dlg.docproperty-size-640-480",value:{width:640,height:480}},{text:"dlg.docproperty-size-800-600",value:{width:800,height:600}},{text:"dlg.docproperty-size-1024-768",value:{width:1024,height:768}},{text:"dlg.docproperty-size-1280-960",value:{width:1280,height:960}},{text:"dlg.docproperty-size-1600-1200",value:{width:1600,height:1200}},{text:"dlg.docproperty-size-1920-1080",value:{width:1920,height:1080}}];constructor(t,i,n,a,s){this.fb=t,this.translateService=i,this.projectService=n,this.dialogRef=a,this.data=s,this.scripts=this.projectService.getScripts();for(let d=0;d<this.propSizeType.length;d++)this.translateService.get(this.propSizeType[d].text).subscribe(m=>{this.propSizeType[d].text=m})}ngOnInit(){this.formGroup=this.fb.group({name:[{value:this.data.name,disabled:this.data.name},j.required],type:[{value:this.data.type,disabled:this.data.name}],width:[this.data.profile.width],height:[this.data.profile.height],margin:[this.data.profile.margin],align:[this.data.profile.align],gridType:[this.data.profile.gridType],viewRenderDelay:[this.data.profile?.viewRenderDelay||0]}),this.data.type!==It.qi.cards&&this.data.type!==It.qi.maps&&(this.formGroup.controls.width.setValidators(j.required),this.formGroup.controls.height.setValidators(j.required)),this.data.name||this.formGroup.controls.name.addValidators(this.isValidName()),this.formGroup.updateValueAndValidity(),this.formGroup.controls.type.valueChanges.pipe((0,jn.Q)(this.destroy$),ia(this.formGroup.controls.type.value)).subscribe(t=>{this.tabEvents.disabled=t===It.qi.cards||t===It.qi.maps,t===It.qi.cards&&this.data.newView&&"#ffffffff"===this.data.profile.bkcolor&&(this.data.profile.bkcolor="#E6E6E6")})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}isValidName(){return t=>-1!==this.data.existingNames?.indexOf(t.value)?{name:this.translateService.instant("msg.view-name-exist")}:null}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.name=this.formGroup.controls.name.value,this.data.type=this.formGroup.controls.type.value,this.data.profile.width=this.formGroup.controls.width.value,this.data.profile.height=this.formGroup.controls.height.value,this.data.profile.margin=this.formGroup.controls.margin.value,this.data.profile.align=this.formGroup.controls.align.value,this.data.profile.gridType=this.formGroup.controls.gridType.value,this.data.profile.viewRenderDelay=this.formGroup.controls.viewRenderDelay.value,this.data.property||(this.data.property=new It.TH),this.data.property.events=this.flexEvent.getEvents(),this.dialogRef.close(this.data)}onSizeChange(t){t?.width&&t?.height&&(this.formGroup.controls.height.setValue(t.height),this.formGroup.controls.width.setValue(t.width))}onAddEvent(){this.flexEvent.onAddEvent()}static \u0275fac=function(i){return new(i||r)(e.rXU(po),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-view-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Lue,5),e.GBs(Yue,7)),2&i){let a;e.mGM(a=e.lsd())&&(n.flexEvent=a.first),e.mGM(a=e.lsd())&&(n.tabEvents=a.first)}},decls:57,vars:51,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],[2,"width","100%"],[3,"label"],[1,"mat-tab-container","property-container"],[1,"my-form-field","item-block"],["formControlName","name","type","text"],[1,"my-form-field","item-block","mt10"],["formControlName","type",3,"placeholder"],[3,"value"],[4,"ngIf"],["class","my-form-field item-block mt10",4,"ngIf"],["numberOnly","","formControlName","viewRenderDelay","type","number",3,"min"],["tabEvents",""],[1,"mat-tab-container"],[1,"toolbox"],["mat-icon-button","",3,"matTooltip","click"],["mat-dialog-content","",2,"overflow","visible","width","100%"],[2,"padding-bottom","5px",3,"data","property","scripts"],["flexevent",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"block","mt10"],[1,"my-form-field","inbk"],["numberOnly","","formControlName","width","type","number",2,"width","120px"],[1,"my-form-field",2,"float","right"],["numberOnly","","formControlName","height","type","number",2,"width","120px"],[3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","align",3,"placeholder"],[1,"my-form-field","inbk","mt10",2,"width","160px"],["formControlName","gridType",3,"placeholder"],[1,"my-form-field","inbk","mt10","ftr"],["numberOnly","","formControlName","margin","type","number",2,"width","100px",3,"max","min","step"],["readonly","","title","Change stroke color",1,"input-color",2,"width","292px","border","1px solid rgba(0,0,0,0.2)","height","15px !important",3,"colorPicker","cpPresetColors","cpAlphaChannel","cpPosition","value","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButton","cpOKButtonText","cpOKButtonClass","colorPickerChange"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"mat-tab-group",3)(7,"mat-tab",4),e.nI1(8,"translate"),e.j41(9,"div",5)(10,"div",6)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"input",7),e.k0s(),e.j41(15,"div",8)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"mat-select",9),e.nI1(20,"translate"),e.j41(21,"mat-option",10),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"mat-option",10),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"mat-option",10),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.DNE(30,Gue,27,22,"div",11),e.DNE(31,zue,14,15,"div",11),e.DNE(32,Hue,5,16,"div",12),e.j41(33,"div",8)(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.nrm(37,"input",13),e.k0s()()(),e.j41(38,"mat-tab",4,14),e.nI1(40,"translate"),e.j41(41,"div",15)(42,"div",16)(43,"button",17),e.bIt("click",function(){return n.onAddEvent()}),e.nI1(44,"translate"),e.j41(45,"mat-icon"),e.EFF(46,"add_circle_outline"),e.k0s()()(),e.j41(47,"div",18),e.nrm(48,"flex-event",19,20),e.k0s()()()(),e.j41(50,"div",21)(51,"button",22),e.bIt("click",function(){return n.onNoClick()}),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"button",23),e.bIt("click",function(){return n.onOkClick()}),e.EFF(55),e.nI1(56,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,25,"dlg.docproperty-title")),e.R7$(5),e.FS9("label",e.bMT(8,27,"gauges.property-props")),e.R7$(5),e.JRh(e.bMT(13,29,"dlg.docproperty-name")),e.R7$(5),e.JRh(e.bMT(18,31,"dlg.docproperty-type")),e.R7$(2),e.FS9("placeholder",e.bMT(20,33,"dlg.doctype")),e.R7$(2),e.Y8G("value",n.viewType.svg),e.R7$(1),e.JRh(e.bMT(23,35,"editor.view-svg")),e.R7$(2),e.Y8G("value",n.viewType.cards),e.R7$(1),e.JRh(e.bMT(26,37,"editor.view-cards")),e.R7$(2),e.Y8G("value",n.viewType.maps),e.R7$(1),e.JRh(e.bMT(29,39,"editor.view-maps")),e.R7$(2),e.Y8G("ngIf",(null==n.formGroup.controls.type?null:n.formGroup.controls.type.value)===n.viewType.svg),e.R7$(1),e.Y8G("ngIf",(null==n.formGroup.controls.type?null:n.formGroup.controls.type.value)===n.viewType.cards),e.R7$(1),e.Y8G("ngIf",(null==n.formGroup.controls.type?null:n.formGroup.controls.type.value)!==n.viewType.maps),e.R7$(3),e.JRh(e.bMT(36,41,"dlg.docproperty-renderDelay")),e.R7$(2),e.Y8G("min",0),e.R7$(1),e.FS9("label",e.bMT(40,43,"gauges.property-events")),e.R7$(5),e.FS9("matTooltip",e.bMT(44,45,"gauges.property-tooltip-add-event")),e.R7$(5),e.Y8G("data",n.data)("property",n.data.property)("scripts",n.scripts),e.R7$(4),e.SpI(" ",e.bMT(53,47,"dlg.cancel")," "),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.SpI(" ",e.bMT(56,49,"dlg.ok")," "))},dependencies:[l.Sq,l.bT,Fn,k,Zn,qe,Ke,qn,Er,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,eu,Td,Is,XA,AS,Wr,Hs,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:700px}[_nghost-%COMP%]   .property-container[_ngcontent-%COMP%]{width:300px}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 7px)}[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px;text-overflow:clip;max-width:125px;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{background-color:var(--formSliderBackground);height:30px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]{float:right;line-height:44px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]     .mat-tab-label{height:34px!important}[_nghost-%COMP%]   .mat-tab-container[_ngcontent-%COMP%]{min-height:300px;height:60vmin;overflow-y:auto;overflow-x:hidden;padding-top:15px}"]})}return r})(),cj=(()=>{class r{resourcesService;clearSelection$=new An.B;svgWidgetSelected$=new An.B;refreshSubject=new An.B;constructor(t){this.resourcesService=t}resourceWidgets$=this.refreshSubject.pipe(ia(0),(0,Zs.n)(()=>this.resourcesService.getResources(Y1.widgets).pipe((0,h.T)(t=>t.groups))));clearSelection(){this.clearSelection$.next(null)}widgetSelected(t){"svg"===t.split(".").pop().toLowerCase()&&this.svgWidgetSelected$.next(t)}refreshResources(){this.refreshSubject.next(null)}removeWidget(t){return this.resourcesService.removeWidget(t)}static \u0275fac=function(i){return new(i||r)(e.KVO(x_))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),O4=(()=>{class r{rciService;constructor(t){this.rciService=t}upload(t,i,n){if(t){let a=t.name,s={type:a.split(".").pop().toLowerCase(),name:a.split("/").pop(),data:null,fullPath:n};const d="svg"===s.type;let m=new FileReader;return new Ha.c(I=>{m.onload=()=>{try{s.data=m.result,this.rciService.uploadFile(s,i).subscribe(J=>{I.next({result:J,error:null}),I.complete()},J=>{I.next({result:!1,error:J.error?.error||J.message}),I.complete()})}catch(J){I.next({result:!1,error:J}),I.complete()}},d?m.readAsText(t):m.readAsDataURL(t)})}return(0,lr.of)({result:!1,error:null})}static \u0275fac=function(i){return new(i||r)(e.KVO(p_))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Vue=(()=>{class r{http;fileService;endPointWidgetResources="https://frangoteam.org/api/list-widgets.php";resourceWidgets$;widgetAssetBaseUrl="https://frangoteam.org/widgets/";constructor(t,i){this.http=t,this.fileService=i,this.resourceWidgets$=this.getWidgetsResource()}getWidgetsResource(){const t=new ka.Lr({"Skip-Auth":"true"});return this.http.get(this.endPointWidgetResources,{headers:t})}getWidgetsGroupContent(t){const i=new ka.Lr({"Skip-Auth":"true"});return this.http.get(`${this.endPointWidgetResources}?path=${encodeURIComponent(t)}`,{headers:i})}uploadWidgetFromUrl(t,i,n){return new Ha.c(a=>{fetch(t).then(s=>{if(!s.ok)throw new Error("Download failed");return s.text()}).then(s=>{const d=n||i.split("/").pop()||t.split("/").pop()||"widget.svg",m=new Blob([s],{type:"image/svg+xml"}),I=new File([m],d,{type:"image/svg+xml"});this.fileService.upload(I,"widgets",i).subscribe({next:J=>a.next(J),error:J=>a.error(J),complete:()=>a.complete()})}).catch(s=>a.error(s))})}static \u0275fac=function(i){return new(i||r)(e.KVO(ka.Qq),e.KVO(O4))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var gD=ie(935);function Jue(r,o){1&r&&(e.j41(0,"div",13),e.nrm(1,"mat-progress-spinner",14),e.k0s())}function Wue(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20)(1,"mat-icon",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(3);return e.Njj(a.onDownload(n))}),e.EFF(2,"download"),e.k0s()()}}function Kue(r,o){if(1&r&&(e.j41(0,"div",17),e.nrm(1,"img",18),e.DNE(2,Wue,3,0,"div",19),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.AVh("item-exists",t.exist),e.FS9("matTooltip",t.name),e.R7$(1),e.Y8G("src",i.assetBaseUrl+t.path,e.B4B)("id",t.path),e.R7$(1),e.Y8G("ngIf",!t.exist)}}function Xue(r,o){if(1&r&&(e.j41(0,"div",15),e.DNE(1,Kue,3,6,"div",16),e.k0s()),2&r){const t=o.ngIf;e.R7$(1),e.Y8G("ngForOf",t)}}function Zue(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-expansion-panel",9),e.bIt("opened",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onGroupExpand(a.path))}),e.j41(1,"mat-expansion-panel-header",10)(2,"mat-panel-title"),e.EFF(3),e.k0s(),e.nrm(4,"mat-panel-description"),e.k0s(),e.DNE(5,Jue,2,0,"div",11),e.DNE(6,Xue,2,1,"div",12),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("collapsedHeight","40px")("expandedHeight","40px"),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Y8G("ngIf",i.loadingGroups[t.path]),e.R7$(1),e.Y8G("ngIf",i.groupContent[t.path])}}let $ue=(()=>{class r{dialogRef;resourcesService;toastNotifier;kioskWidgetService;resourceWidgets$;groupContent={};loadingGroups={};existingWidgets=[];assetBaseUrl;changed=!1;constructor(t,i,n,a){this.dialogRef=t,this.resourcesService=i,this.toastNotifier=n,this.kioskWidgetService=a,this.assetBaseUrl=this.kioskWidgetService.widgetAssetBaseUrl}ngOnInit(){this.resourceWidgets$=this.kioskWidgetService.resourceWidgets$,this.resourcesService.getResources(Y1.widgets).pipe((0,h.T)(t=>t.groups.reduce((i,n)=>i.concat(n.items||[]),[]).map(i=>i.name).filter(i=>!!i))).subscribe(t=>{this.existingWidgets=t})}onGroupExpand(t){this.groupContent[t]||(this.loadingGroups[t]=!0,this.kioskWidgetService.getWidgetsGroupContent(t).subscribe(i=>{const n=i.map(a=>({...a,exist:this.existingWidgets.includes(a.name||"")}));this.groupContent[t]=n,this.loadingGroups[t]=!1},i=>{console.error("Load Widgets resources error: ",i),this.loadingGroups[t]=!1}))}onDownload(t){const i=this.assetBaseUrl+t.path,n=t.name||t.path.split("/").pop();this.kioskWidgetService.uploadWidgetFromUrl(i,t.path,n).subscribe({next:a=>{!a.result&&a.error?(console.error(a.error),this.toastNotifier.notifyError("msg.file-upload-failed",a.error)):(t.exist=!0,this.changed=!0)},error:a=>{console.error("Download or upload failed:",a),this.toastNotifier.notifyError("msg.file-download-failed",a.message||a)}})}onNoClick(){this.dialogRef.close(this.changed)}onOkClick(){this.dialogRef.close(this.changed)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(x_),e.rXU(gD.L),e.rXU(Vue))};static \u0275cmp=e.VBU({type:r,selectors:[["app-kiosk-widgets"]],decls:15,vars:9,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],["multi","true"],["class","widget-panel",3,"opened",4,"ngFor","ngForOf"],[2,"display","block","width","660px","padding-bottom","20px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","","color","primary",3,"click"],[1,"widget-panel",3,"opened"],[1,"header",3,"collapsedHeight","expandedHeight"],["class","loading-spinner",4,"ngIf"],["class","content",4,"ngIf"],[1,"loading-spinner"],["diameter","30","mode","indeterminate"],[1,"content"],["class","content-item",3,"item-exists","matTooltip",4,"ngFor","ngForOf"],[1,"content-item",3,"matTooltip"],[3,"src","id"],["class","download-icon",4,"ngIf"],[1,"download-icon"],["matTooltip","Download",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"mat-accordion",4),e.DNE(8,Zue,7,5,"mat-expansion-panel",5),e.nI1(9,"async"),e.k0s(),e.nrm(10,"div",6),e.k0s(),e.j41(11,"div",7)(12,"button",8),e.bIt("click",function(){return n.onOkClick()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,3,"widgets.kiosk-title")),e.R7$(6),e.Y8G("ngForOf",e.bMT(9,5,n.resourceWidgets$)),e.R7$(5),e.JRh(e.bMT(14,7,"dlg.ok")))},dependencies:[l.Sq,l.bT,zn,Or,eo,Rr,Dg,up,$d,xg,Qv,Kn,Id,Is,Wr,l.Jj,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1020px;width:100%;min-width:700px;margin:0 auto}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px 0}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#5858584d}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:5px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{display:inline-flex;margin:8px;padding:4px;width:120px;height:120px;box-sizing:border-box;position:relative;justify-content:center;border-radius:4px;border:1px solid transparent}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-item.item-exists[_ngcontent-%COMP%]{border-color:#1976d2}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:4px;cursor:pointer;font-size:15px;display:flex;align-items:center;justify-content:center;color:#ffffffb3}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]:hover{color:#000}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]:hover{background-color:#b6b6b64d}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;margin:0 auto;padding-bottom:15px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .widget-panel[_ngcontent-%COMP%]{background-color:#4141414d}"]})}return r})();const que=function(r){return{"svg-selector-active":r}};function ehe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",7),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onSelected(s))})("mouseout",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSvgElementPreview(a,!1))})("mouseover",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSvgElementPreview(a,!0))}),e.j41(1,"div",8),e.EFF(2),e.k0s(),e.j41(3,"div",9),e.EFF(4),e.k0s(),e.j41(5,"button",10),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onEditElement(s))}),e.j41(6,"mat-icon"),e.EFF(7,"edit"),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("ngClass",e.eq3(3,que,i.isSelected(t))),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.id)}}let the=(()=>{class r{onEdit=new e.bkB;onSelect=new e.bkB;onPreview=new e.bkB;set selected(t){this.svgElementSelected=t}set elements(t){this.svgElements=t,this.filteredSvgElements=t}svgElements=[];filteredSvgElements=[];svgElementSelected;filterText;constructor(){}onSvgElementPreview(t,i){this.onPreview?.emit({element:t,preview:i})}onSelected(t){this.onSelect?.emit(t)}onEditElement(t){this.onSelect?.emit(t),setTimeout(()=>{this.onEdit?.emit(t)},500)}isSelected(t){return t?.id===this.svgElementSelected?.id}filterElements(){if(this.filterText)try{const t=new RegExp(this.filterText,"i");this.filteredSvgElements=this.svgElements.filter(i=>t.test(i.name))}catch{this.filteredSvgElements=[]}else this.filteredSvgElements=this.svgElements}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-svg-selector"]],inputs:{selected:"selected",elements:"elements"},outputs:{onEdit:"onEdit",onSelect:"onSelect",onPreview:"onPreview"},decls:10,vars:5,consts:[[1,"element-property"],[1,"element-property-title"],[1,"svg-selector-list"],[1,"my-form-field","search-input-container"],["type","text","matInput","",3,"ngModel","ngModelChange","input"],[1,"search-icon"],["class","svg-selector-item",3,"ngClass","click","mouseout","mouseover",4,"ngFor","ngForOf"],[1,"svg-selector-item",3,"ngClass","click","mouseout","mouseover"],[1,"name"],[1,"id"],["mat-icon-button","",1,"edit",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"input",4),e.bIt("ngModelChange",function(s){return n.filterText=s})("input",function(){return n.filterElements()}),e.k0s(),e.j41(7,"mat-icon",5),e.EFF(8,"search"),e.k0s()(),e.DNE(9,ehe,8,5,"div",6),e.k0s()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,3,"svg.selector.property-title")," "),e.R7$(4),e.Y8G("ngModel",n.filterText),e.R7$(3),e.Y8G("ngForOf",n.filteredSvgElements))},dependencies:[l.YU,l.Sq,k,qe,tn,zn,Kn,qd,Vi.D9],styles:["[_nghost-%COMP%]   .svg-selector-list[_ngcontent-%COMP%]{position:absolute;overflow:auto;margin-top:10px;inset:35px 0 0 5px}[_nghost-%COMP%]   .svg-selector-item[_ngcontent-%COMP%]{font-size:12px;line-height:24px;cursor:pointer;padding-left:5px;display:block}[_nghost-%COMP%]   .svg-selector-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:inline-block;width:170px;font-size:13px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:bottom}[_nghost-%COMP%]   .svg-selector-item[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;color:#a9a9a9;width:150px}[_nghost-%COMP%]   .svg-selector-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px}[_nghost-%COMP%]   .svg-selector-item[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .svg-selector-item[_ngcontent-%COMP%]:hover{background-color:#9c9c9c36}[_nghost-%COMP%]   .svg-selector-active[_ngcontent-%COMP%]{background-color:#3059af}[_nghost-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:10px;margin-top:3px}[_nghost-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 10px)}[_nghost-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);color:#757575}"]})}return r})();const ihe=["searchSelectInput"];function nhe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n._reset(!0))}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}}function rhe(r,o){if(1&r&&(e.j41(0,"div",7),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.noEntriesFoundLabel,"\n")}}const ohe=function(r){return{"mat-select-search-inner-multiple":r}};let L4=(()=>{class r{matSelect;translateService;changeDetectorRef;placeholderLabel="";noEntriesFoundLabel="";searchSelectInput;get value(){return this._value}_value;onChange=t=>{};onTouched=t=>{};_options;previousSelectedValues;overlayClassSet=!1;change=new e.bkB;_onDestroy=new An.B;constructor(t,i,n){this.matSelect=t,this.translateService=i,this.changeDetectorRef=n}ngOnInit(){const t="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(t):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,t]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[t]=!0):this.matSelect.panelClass=t,this.matSelect.openedChange.pipe((0,jn.Q)(this._onDestroy)).subscribe(i=>{i?this._focus():this._reset()}),this.matSelect.openedChange.pipe((0,Fo.s)(1)).pipe((0,jn.Q)(this._onDestroy)).subscribe(()=>{this._options=this.matSelect.options,this._options.changes.pipe((0,jn.Q)(this._onDestroy)).subscribe(()=>{const i=this.matSelect._keyManager;i&&this.matSelect.panelOpen&&setTimeout(()=>{i.setFirstItemActive()})})}),this.change.pipe((0,jn.Q)(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.detectChanges()}),this.initMultipleHandling()}ngOnDestroy(){this._onDestroy.next(null),this._onDestroy.complete()}ngAfterViewInit(){this.setOverlayClass(),this.translateService.get("general.search").subscribe(t=>{this.placeholderLabel=t}),this.translateService.get("general.search-notfound").subscribe(t=>{this.noEntriesFoundLabel=t})}_handleKeydown(t){32===t.keyCode&&t.stopPropagation()}writeValue(t){t!==this._value&&(this._value=t,this.change.emit(t))}onInputChange(t){t!==this._value&&(this._value=t,this.onChange(t),this.change.emit(t))}onBlur(t){this.writeValue(t),this.onTouched()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}_focus(){if(!this.searchSelectInput)return;const t=this.matSelect.panel.nativeElement,i=t.scrollTop;this.searchSelectInput.nativeElement.focus(),t.scrollTop=i}_reset(t){this.searchSelectInput&&(this.searchSelectInput.nativeElement.value="",this.onInputChange(""),t&&this._focus())}setOverlayClass(){this.overlayClassSet||(this.matSelect.openedChange.pipe((0,jn.Q)(this._onDestroy)).subscribe(i=>{if(i){let a,n=this.searchSelectInput.nativeElement;for(;n=n.parentElement;)if(n.classList.contains("cdk-overlay-pane")){a=n;break}a&&a.classList.add("cdk-overlay-pane-select-search")}}),this.overlayClassSet=!0)}initMultipleHandling(){this.matSelect.valueChange.pipe((0,jn.Q)(this._onDestroy)).subscribe(t=>{if(this.matSelect.multiple){let i=!1;if(this._value&&this._value.length&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!t||!Array.isArray(t))&&(t=[]);const n=this.matSelect.options.map(a=>a.value);this.previousSelectedValues.forEach(a=>{-1===t.indexOf(a)&&-1===n.indexOf(a)&&(t.push(a),i=!0)})}i&&this.matSelect._onChange(t),this.previousSelectedValues=t}})}static \u0275fac=function(i){return new(i||r)(e.rXU(yo),e.rXU(Vi.c$),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:r,selectors:[["mat-select-search"]],viewQuery:function(i,n){if(1&i&&e.GBs(ihe,7,e.aKT),2&i){let a;e.mGM(a=e.lsd())&&(n.searchSelectInput=a.first)}},inputs:{placeholderLabel:"placeholderLabel",noEntriesFoundLabel:"noEntriesFoundLabel"},features:[e.Jv_([{provide:y,useExisting:(0,e.Rfq)(()=>r),multi:!0}])],decls:6,vars:6,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner",3,"ngClass"],["matInput","",1,"mat-select-search-input",3,"placeholder","keydown","input","blur"],["searchSelectInput",""],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[1,"mat-select-search-no-entries-found"]],template:function(i,n){1&i&&(e.nrm(0,"input",0),e.j41(1,"div",1)(2,"input",2,3),e.bIt("keydown",function(s){return n._handleKeydown(s)})("input",function(s){return n.onInputChange(s.target.value)})("blur",function(s){return n.onBlur(s.target.value)}),e.k0s(),e.DNE(4,nhe,3,0,"button",4),e.k0s(),e.DNE(5,rhe,2,1,"div",5)),2&i&&(e.R7$(1),e.Y8G("ngClass",e.eq3(4,ohe,n.matSelect.multiple)),e.R7$(1),e.Y8G("placeholder",n.placeholderLabel),e.R7$(2),e.Y8G("ngIf",n.value),e.R7$(1),e.Y8G("ngIf",n.noEntriesFoundLabel&&n.value&&0===(null==n._options?null:n._options.length)))},dependencies:[l.YU,l.bT,zn,Kn,qd],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:calc(100% + 22px);border-bottom:1px solid #cccccc;background-color:var(--workPanelBackground);z-index:100}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:calc(100% + 55px)}  .mat-select-search-panel{transform:none!important;max-height:350px}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 36px 16px 16px;box-sizing:border-box;font-size:13px;border:none;background-color:var(--workPanelBackground);color:var(--formInputColor);line-height:28px;height:28px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px;color:var(--formInputColor)}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:0;top:4px;color:var(--formInputColor)}  .cdk-overlay-pane-select-search{margin-top:40px}"],changeDetection:0})}return r})();function ahe(r,o){if(1&r&&(e.j41(0,"mat-option",8)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(2),e.JRh(t.name)}}function she(r,o){if(1&r&&(e.j41(0,"mat-optgroup",6),e.DNE(1,ahe,3,2,"mat-option",7),e.k0s()),2&r){const t=o.$implicit;e.Y8G("label",t.name),e.R7$(1),e.Y8G("ngForOf",t.tags)}}const lhe=(r,o)=>{const t=o.toLowerCase();return r.filter(i=>i.name.toLowerCase().includes(t))};let mD=(()=>{class r{projectService;dialog;tagTitle="";readonly=!1;variableId;deviceTagValue;onchange=new e.bkB;devicesGroups=[];devicesTags$;tagFilter=new _i;devices=[];constructor(t,i){this.projectService=t,this.dialog=i}ngOnInit(){this.deviceTagValue?this.variableId=this.deviceTagValue.variableId:this.deviceTagValue={variableId:this.variableId},this.loadDevicesTags()}_tagToVariableName(t){let i=t.label||t.name;return i&&t.address&&i!==t.address&&(i=i+" - "+t.address),i}_filterGroup(t){return t?this.devicesGroups.map(i=>({name:i.name,tags:lhe(i.tags,t?.name||t)})).filter(i=>i.tags.length>0):this.devicesGroups}_getDeviceTag(t){for(let i=0;i<this.devicesGroups.length;i++){const n=this.devicesGroups[i].tags.find(a=>a.id===t);if(n)return n}return null}_setSelectedTag(){const t=this._getDeviceTag(this.variableId);this.tagFilter.patchValue(t)}displayFn(t){return t?.name}onDeviceTagSelected(t){this.variableId=t.id,this.onChanged()}getDeviceName(){const t=Gi.$d.getDeviceFromTagId(this.devices,this.variableId);return t?t.name:""}onChanged(){if(this.tagFilter.value?.startsWith&&this.tagFilter.value.startsWith(Gi.e4.id))this.deviceTagValue.variableId=this.tagFilter.value,this.deviceTagValue.variableRaw=null;else if(this.tagFilter.value?.id?.startsWith&&this.tagFilter.value.id.startsWith(Gi.e4.id))this.deviceTagValue.variableId=this.tagFilter.value.id,this.deviceTagValue.variableRaw=null;else{let t=Gi.$d.getTagFromTagId(this.devices,this.variableId);t?(this.deviceTagValue.variableId=t.id,this.deviceTagValue.variableRaw=t):(this.deviceTagValue.variableId=null,this.deviceTagValue.variableRaw=null)}this.onchange.emit(this.deviceTagValue)}onBindTag(){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:this.variableId}}).afterClosed().subscribe(i=>{i&&(i.deviceName&&this.loadDevicesTags(),this.variableId=i.variableId,this._setSelectedTag(),this.onChanged())})}loadDevicesTags(){this.devicesGroups=[],this.devicesGroups.push(ii.Aq.clone(Gi.e4)),this.devices=Object.values(this.projectService.getDevices()),this.devices.forEach(t=>{let i={name:t.name,tags:[]};Object.values(t.tags).forEach(n=>{const a={id:n.id,name:this._tagToVariableName(n),device:t.name};i.tags.push(a)}),this.devicesGroups.push(i)}),this.devicesTags$=this.tagFilter.valueChanges.pipe(ia(""),(0,h.T)(t=>this._filterGroup(t||""))),this.variableId?.startsWith(Gi.e4.id)&&this.devicesGroups[0].tags.push({id:this.variableId,name:this.variableId,device:"@"}),this._setSelectedTag()}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(Qo))};static \u0275cmp=e.VBU({type:r,selectors:[["app-flex-device-tag"]],inputs:{tagTitle:"tagTitle",readonly:"readonly",variableId:"variableId",deviceTagValue:"deviceTagValue"},outputs:{onchange:"onchange"},decls:14,vars:17,consts:[[1,"my-form-field","device-input"],["matInput","","type","text",1,"device-variable-input",3,"title","placeholder","formControl","matAutocomplete","readonly","input"],[3,"displayWith","optionSelected"],["autoDevices","matAutocomplete"],["class","device-group-label",3,"label",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],[1,"device-group-label",3,"label"],["class","device-option-label",3,"value",4,"ngFor","ngForOf"],[1,"device-option-label",3,"value"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",1),e.bIt("input",function(){return n.onChanged()}),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s(),e.j41(7,"mat-autocomplete",2,3),e.bIt("optionSelected",function(s){return n.onDeviceTagSelected(s.option.value)}),e.DNE(9,she,2,2,"mat-optgroup",4),e.nI1(10,"async"),e.k0s(),e.j41(11,"button",5),e.bIt("click",function(){return n.onBindTag()}),e.j41(12,"mat-icon"),e.EFF(13,"link"),e.k0s()()()),2&i){const a=e.sdS(8);e.R7$(2),e.Lme("",e.bMT(3,9,"gauges.property-tag-label")," ",n.getDeviceName(),""),e.R7$(2),e.FS9("title",e.bMT(5,11,n.tagTitle)),e.FS9("placeholder",e.bMT(6,13,n.tagTitle)),e.Y8G("formControl",n.tagFilter)("matAutocomplete",a)("readonly",n.readonly),e.R7$(3),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(10,15,n.devicesTags$))}},dependencies:[l.Sq,k,qe,ca,Av,Tm,Ur,Gu,zn,Kn,qd,l.Jj,Vi.D9],styles:[".device-input[_ngcontent-%COMP%]{display:inline-block;width:100%}.device-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:30px;width:calc(100% - 36px)}.device-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:0;line-height:22px;height:28px;width:28px;vertical-align:middle}  .device-group-label span{line-height:28px;height:28px}  .device-option-label{line-height:28px!important;height:28px!important}  .device-option-label span{font-size:13px}  .device-variable-input{font-size:13px;vertical-align:unset!important;width:unset}"]})}return r})(),che=(()=>{class r{elementRef;constructor(t){this.elementRef=t}ngAfterViewInit(){this.elementRef.nativeElement.querySelectorAll("input").forEach(n=>{n.addEventListener("keydown",a=>{a.stopPropagation()})})}static \u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:r,selectors:[["","stopInputPropagation",""]]})}return r})();function Ahe(r,o){if(1&r&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function dhe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"chart.viewtype-"+t.value)," ")}}function uhe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,t.value)," ")}}function hhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",46)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.lastRange=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChartChanged())}),e.DNE(6,uhe,3,4,"mat-option",18),e.nI1(7,"enumToArray"),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"chart.property-date-last-range")),e.R7$(2),e.Y8G("value",t.options.lastRange),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,5,t.lastRangeType))}}function phe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function fhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",47)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.scriptId=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChartChanged())}),e.nrm(6,"mat-option",41),e.DNE(7,phe,2,2,"mat-option",18),e.nI1(8,"async"),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"chart.property-script")),e.R7$(2),e.Y8G("value",t.options.scriptId),e.R7$(2),e.Y8G("ngForOf",e.bMT(8,5,t.scripts$))}}function ghe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",48)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-slide-toggle",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.hideToolbar=n)})("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChartChanged())}),e.k0s()(),e.j41(6,"div",48)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-slide-toggle",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.thouchZoom=n)})("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChartChanged())}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,4,"chart.property-hide-toolbar")),e.R7$(2),e.Y8G("ngModel",t.options.hideToolbar),e.R7$(3),e.JRh(e.bMT(9,6,"chart.property-thouch-zoom")),e.R7$(2),e.Y8G("ngModel",t.options.thouchZoom)}}function mhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.DNE(1,hhe,8,7,"ng-container",20),e.DNE(2,fhe,9,7,"ng-container",20),e.j41(3,"div",42)(4,"div",43)(5,"span",44),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"input",45),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.refreshInterval=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChartChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChartChanged())}),e.k0s()(),e.DNE(9,ghe,11,8,"ng-container",20),e.k0s(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.chartViewValue===t.chartViewType.history),e.R7$(1),e.Y8G("ngIf",t.chartViewValue===t.chartViewType.custom),e.R7$(4),e.JRh(e.bMT(7,5,"chart.property-refresh-interval")),e.R7$(2),e.Y8G("ngModel",t.options.refreshInterval),e.R7$(1),e.Y8G("ngIf",t.chartViewValue===t.chartViewType.history)}}function vhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",50)(2,"span",51),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",52),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.realtime=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChartChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChartChanged())}),e.k0s()(),e.j41(6,"div",53)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-slide-toggle",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.loadOldValues=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChartChanged())}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"chart.property-realtime-max")),e.R7$(2),e.Y8G("ngModel",t.options.realtime),e.R7$(3),e.JRh(e.bMT(9,6,"chart.property-load-old-values")),e.R7$(2),e.Y8G("ngModel",t.options.loadOldValues)}}function _he(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("font-family",t),e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function yhe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function bhe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function whe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Che(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"shapes.event-"+t)," ")}}function Ehe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Bhe(r,o){if(1&r&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Mhe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",69)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.value=n)})("change",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onChartChanged())}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-script-param-value")),e.R7$(2),e.Y8G("ngModel",t.value)}}function xhe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",70)(1,"app-flex-device-tag",71),e.bIt("onchange",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onChartChanged())}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("variableId",t.value)}}function Dhe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",42)(1,"div",65)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",66),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.name=n)})("change",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onChartChanged())}),e.k0s()(),e.DNE(6,Mhe,5,4,"div",67),e.DNE(7,xhe,2,1,"div",68),e.k0s()}if(2&r){const t=o.$implicit;e.R7$(3),e.JRh(e.bMT(4,6,"gauges.property-event-script-param-name")),e.R7$(2),e.FS9("matTooltip",t.name),e.Y8G("ngModel",t.name)("disabled",!0),e.R7$(1),e.Y8G("ngIf","value"===t.type),e.R7$(1),e.Y8G("ngIf","tagid"===t.type)}}function Ihe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",62)(1,"div",63)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onScriptChanged(n.value,a))}),e.DNE(6,Bhe,2,2,"mat-option",18),e.nI1(7,"async"),e.k0s()(),e.DNE(8,Dhe,8,8,"div",64),e.k0s()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-event-script")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,6,i.scripts$)),e.R7$(2),e.Y8G("ngForOf",t.actoptions.params)}}function khe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"div",25)(2,"div",55)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-select",17),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChartChanged())}),e.DNE(7,Che,3,4,"mat-option",18),e.k0s()(),e.j41(8,"div",56)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-select",57),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.action=n)})("change",function(){const a=e.eBV(t).$implicit;return e.Njj(a.actparam="")})("selectionChange",function(){const a=e.eBV(t).$implicit,s=e.XpG();return a.actparam="",e.Njj(s.onChartChanged())}),e.DNE(13,Ehe,2,2,"mat-option",18),e.nI1(14,"enumToArray"),e.k0s()(),e.j41(15,"div",58)(16,"button",59),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemoveEvent(a))}),e.j41(17,"mat-icon"),e.EFF(18,"clear"),e.k0s()()()(),e.j41(19,"div",60),e.DNE(20,Ihe,9,8,"div",61),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,8,"gauges.property-event-type")),e.R7$(2),e.Y8G("value",t.type),e.R7$(1),e.Y8G("ngForOf",i.eventType),e.R7$(3),e.JRh(e.bMT(11,10,"gauges.property-event-action")),e.R7$(2),e.Y8G("value",t.action),e.R7$(1),e.Y8G("ngForOf",e.bMT(14,12,i.selectActionType)),e.R7$(6),e.Y8G("ngSwitch",t.action),e.R7$(1),e.Y8G("ngSwitchCase",i.actionRunScript)}}let The=(()=>{class r{dialog;projectService;translateService;data;onPropChanged=new e.bkB;set reload(t){this._reload()}lastRangeType=I_;chartViewType=Ep;dateFormat=It.cq;timeFormat=It.pT;legendModes=$g;fonts=Tf.fonts;defaultColor=ii.Aq.defaultColor;chartViewValue=Ep.realtime1;chartCtrl=new _i;chartFilterCtrl=new _i;filteredChart=new N1.m(1);options=fS.DefaultOptions();autoScala={enabled:!0,min:0,max:10};scripts$;property;eventType=[ii.Aq.getEnumKey(It.e6,It.e6.onLoad)];actionRunScript=ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript);selectActionType={};destroy$=new An.B;constructor(t,i,n){this.dialog=t,this.projectService=i,this.translateService=n,this.selectActionType[ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript)]=this.translateService.instant(It.Qk.onRunScript)}ngOnInit(){Object.keys(this.legendModes).forEach(t=>{this.translateService.get(this.legendModes[t]).subscribe(i=>{this.legendModes[t]=i})}),this._reload(),this.scripts$=(0,lr.of)(this.projectService.getScripts()).pipe((0,jn.Q)(this.destroy$))}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}_reload(){this.property=this.data.settings.property,this.property||(this.property={id:null,type:this.chartViewValue,options:null}),this.property.options||(this.property.options=fS.DefaultOptions()),this.options=this.property.options,this.loadChart(),this.chartViewValue=this.property.type;let t=this.data.charts.find(i=>i.id===this.property.id);this.property.options&&(this.options=Object.assign(this.options,this.property.options)),this.chartCtrl.setValue(t)}onChartChanged(){this.chartCtrl.value&&(this.property.id=this.chartCtrl.value.id),this.onPropChanged.emit(this.data.settings),this.data.settings.property={id:null,type:this.chartViewValue,options:JSON.parse(JSON.stringify(this.options)),events:this.property.events},this.chartCtrl.value&&(this.data.settings.property.id=this.chartCtrl.value.id),this.onPropChanged.emit(this.data.settings)}onEditNewChart(){this.dialog.open(bO,{position:{top:"60px"},minWidth:"1090px",width:"1090px"}).afterClosed().subscribe(i=>{i&&(this.data.charts=i.charts,this.loadChart(),i.selected&&this.chartCtrl.setValue(i.selected),this.onChartChanged())})}onShowChartSelectionMessage(t){t.value===Ep.custom&&this.dialog.open(th,{data:{msg:this.translateService.instant("msg.chart-with-script"),hideCancel:!0},position:{top:"60px"}}).afterClosed().subscribe()}loadChart(t){if(this.filteredChart.next(this.data.charts.slice()),this.chartFilterCtrl.valueChanges.pipe((0,jn.Q)(this.destroy$)).subscribe(()=>{this.filterChart()}),t){let i=-1;this.data.charts.every(function(n,a,s){return n.id!==t||(i=a,!1)}),i>=0&&this.chartCtrl.setValue(this.data.charts[i])}}filterChart(){if(!this.data.charts)return;let t=this.chartFilterCtrl.value;t?(t=t.toLowerCase(),this.filteredChart.next(this.data.charts.filter(i=>i.name.toLowerCase().indexOf(t)>-1))):this.filteredChart.next(this.data.charts.slice())}onAddEvent(){const t=new It.cH;this.addEvent(t)}addEvent(t){this.property.events||(this.property.events=[]),this.property.events.push(t)}onRemoveEvent(t){this.property.events.splice(t,1),this.onChartChanged()}onScriptChanged(t,i){const n=this.projectService.getScripts();if(i&&n){let a=n.find(s=>s.id===t);i.actoptions[qo.od]=[],a&&a.parameters&&(i.actoptions[qo.od]=ii.Aq.clone(a.parameters))}this.onChartChanged()}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR),e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["app-chart-property"]],inputs:{data:"data",reload:"reload"},outputs:{onPropChanged:"onPropChanged"},decls:196,vars:183,consts:[["stopInputPropagation","",1,"element-property"],[1,"element-property-title"],[1,"chart-selection"],[2,"height","100%"],[3,"label"],[1,"element-property-header"],[1,"_section-newline"],[1,"my-form-field","field-block","lbk"],["type","text",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","field-block","lbk","mt5"],[3,"formControl","selectionChange"],[3,"formControl"],[1,"chart-filter-option",3,"value"],[1,"chart-filter-option",3,"click"],["class","chart-filter-option",3,"value",4,"ngFor","ngForOf"],[1,"section-newline"],[1,"my-form-field","section-item",2,"display","inline-block","width","120px"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"section-inline-margin"],[4,"ngIf"],[3,"fontFamily","value",4,"ngFor","ngForOf"],[1,"my-form-field","field-number","lbk","section-toogle"],["numberOnly","","type","number","min","0","max","36",3,"ngModel","ngModelChange","change","keyup.enter"],["numberOnly","","type","number","min","0","max","24",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"block"],[1,"my-form-field","field-text"],["type","text",3,"ngModel","ngModelChange","change"],[1,"my-form-field","field-number","ml5"],["type","number",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","field-number","ml12"],[1,"my-form-field","field-text","lbk"],[1,"my-form-field","section-inline-text"],["type","text",3,"ngModel","placeholder","ngModelChange","change"],[1,"my-form-field","section-inline-color","color-field"],[1,"input-color",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"section-inline-margin2"],[1,"events-toolbox"],["mat-icon-button","",3,"click"],[1,"events-section"],["class","event-item",4,"ngFor","ngForOf"],[3,"value"],[1,"block","mt5"],[1,"my-form-field","field-number","inbk",2,"width","120px"],[2,"width","120px"],["numberOnly","","type","number","min","0",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-item","inbk",2,"width","110px"],[1,"my-form-field","inbk",2,"width","180px"],[1,"my-form-field","inbk","ml10","tac"],["color","primary",3,"ngModel","ngModelChange","change"],[1,"my-form-field","field-number","lbk","section-item"],[2,"width","100px"],["numberOnly","","type","number","min","1",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","inbk","ml20","tac",2,"max-width","100px"],[1,"event-item"],[1,"my-form-field","inbk","mr10","event-type"],[1,"my-form-field","inbk","ml10","event-action"],[3,"value","valueChange","change","selectionChange"],[1,"item-remove","inbk","event-remove"],["mat-icon-button","",1,"remove",3,"click"],[1,"mt5","event-action-ext",3,"ngSwitch"],["class","block event-script",4,"ngSwitchCase"],[1,"block","event-script"],[1,"my-form-field","inbk","script-selection"],["class","block mt5",4,"ngFor","ngForOf"],[1,"my-form-field","inbk","event-script-param"],["type","text","readonly","",3,"ngModel","matTooltip","disabled","ngModelChange","change"],["class","my-form-field inbk event-script-value",4,"ngIf"],["class","my-form-field inbk event-script-tag",4,"ngIf"],[1,"my-form-field","inbk","event-script-value"],[1,"my-form-field","inbk","event-script-tag"],[1,"block","mt5","item-device-tag",3,"variableId","onchange"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"mat-tab-group",3)(6,"mat-tab",4),e.nI1(7,"translate"),e.j41(8,"div",5)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",6)(13,"div",7)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",8),e.bIt("ngModelChange",function(s){return n.data.settings.name=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.j41(18,"div",9)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",10),e.bIt("selectionChange",function(){return n.onChartChanged()}),e.nrm(23,"mat-select-search",11)(24,"mat-option",12),e.j41(25,"mat-option",13),e.bIt("click",function(){return n.onEditNewChart()}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.DNE(28,Ahe,2,2,"mat-option",14),e.nI1(29,"async"),e.k0s()(),e.nrm(30,"div",15),e.j41(31,"div",16)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"mat-select",17),e.bIt("valueChange",function(s){return n.chartViewValue=s})("selectionChange",function(s){return n.onChartChanged(),n.onShowChartSelectionMessage(s)}),e.DNE(36,dhe,3,4,"mat-option",18),e.nI1(37,"enumToArray"),e.k0s()(),e.nrm(38,"div",19),e.DNE(39,mhe,10,7,"ng-container",20),e.DNE(40,vhe,11,8,"ng-container",20),e.j41(41,"div",5)(42,"span"),e.EFF(43),e.nI1(44,"translate"),e.k0s()(),e.j41(45,"div",16)(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"mat-select",17),e.bIt("valueChange",function(s){return n.options.fontFamily=s})("selectionChange",function(){return n.onChartChanged()}),e.DNE(50,_he,2,4,"mat-option",21),e.k0s()(),e.nrm(51,"div",19),e.j41(52,"div",22)(53,"span"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"input",23),e.bIt("ngModelChange",function(s){return n.options.titleHeight=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.nrm(57,"div",19),e.j41(58,"div",22)(59,"span"),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"input",24),e.bIt("ngModelChange",function(s){return n.options.axisLabelFontSize=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.nrm(63,"div",15),e.j41(64,"div",16)(65,"span"),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.j41(68,"mat-select",17),e.bIt("valueChange",function(s){return n.options.dateFormat=s})("selectionChange",function(){return n.onChartChanged()}),e.DNE(69,yhe,2,2,"mat-option",18),e.nI1(70,"enumToArray"),e.k0s()(),e.nrm(71,"div",19),e.j41(72,"div",16)(73,"span"),e.EFF(74),e.nI1(75,"translate"),e.k0s(),e.j41(76,"mat-select",17),e.bIt("valueChange",function(s){return n.options.timeFormat=s})("selectionChange",function(){return n.onChartChanged()}),e.DNE(77,bhe,2,2,"mat-option",18),e.nI1(78,"enumToArray"),e.k0s()(),e.nrm(79,"div",15),e.j41(80,"div",16)(81,"span"),e.EFF(82),e.nI1(83,"translate"),e.k0s(),e.j41(84,"mat-select",17),e.bIt("valueChange",function(s){return n.options.legendMode=s})("selectionChange",function(){return n.onChartChanged()}),e.DNE(85,whe,2,2,"mat-option",18),e.nI1(86,"enumToArray"),e.k0s()(),e.j41(87,"div",5)(88,"span"),e.EFF(89),e.nI1(90,"translate"),e.k0s()(),e.j41(91,"div",25)(92,"div",26)(93,"span"),e.EFF(94),e.nI1(95,"translate"),e.k0s(),e.j41(96,"input",27),e.bIt("ngModelChange",function(s){return n.options.axisLabelY1=s})("change",function(){return n.onChartChanged()}),e.k0s()(),e.j41(97,"div",28)(98,"span"),e.EFF(99),e.nI1(100,"translate"),e.k0s(),e.j41(101,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY1min=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.j41(102,"div",30)(103,"span"),e.EFF(104),e.nI1(105,"translate"),e.k0s(),e.j41(106,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY1max=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()()(),e.j41(107,"div",25)(108,"div",31)(109,"span"),e.EFF(110),e.nI1(111,"translate"),e.k0s(),e.j41(112,"input",27),e.bIt("ngModelChange",function(s){return n.options.axisLabelY2=s})("change",function(){return n.onChartChanged()}),e.k0s()(),e.j41(113,"div",28)(114,"span"),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY2min=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.j41(118,"div",30)(119,"span"),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY2max=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()()(),e.j41(123,"div",25)(124,"div",31)(125,"span"),e.EFF(126),e.nI1(127,"translate"),e.k0s(),e.j41(128,"input",27),e.bIt("ngModelChange",function(s){return n.options.axisLabelY3=s})("change",function(){return n.onChartChanged()}),e.k0s()(),e.j41(129,"div",28)(130,"span"),e.EFF(131),e.nI1(132,"translate"),e.k0s(),e.j41(133,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY3min=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.j41(134,"div",30)(135,"span"),e.EFF(136),e.nI1(137,"translate"),e.k0s(),e.j41(138,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY3max=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()()(),e.j41(139,"div",25)(140,"div",31)(141,"span"),e.EFF(142),e.nI1(143,"translate"),e.k0s(),e.j41(144,"input",27),e.bIt("ngModelChange",function(s){return n.options.axisLabelY4=s})("change",function(){return n.onChartChanged()}),e.k0s()(),e.j41(145,"div",28)(146,"span"),e.EFF(147),e.nI1(148,"translate"),e.k0s(),e.j41(149,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY4min=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()(),e.j41(150,"div",30)(151,"span"),e.EFF(152),e.nI1(153,"translate"),e.k0s(),e.j41(154,"input",29),e.bIt("ngModelChange",function(s){return n.options.scaleY4max=s})("change",function(){return n.onChartChanged()})("keyup.enter",function(){return n.onChartChanged()}),e.k0s()()(),e.j41(155,"div",5)(156,"span"),e.EFF(157),e.nI1(158,"translate"),e.k0s()(),e.j41(159,"div",32)(160,"span"),e.EFF(161),e.nI1(162,"translate"),e.k0s(),e.j41(163,"input",33),e.bIt("ngModelChange",function(s){return n.options.axisLabelX=s})("change",function(){return n.onChartChanged()}),e.nI1(164,"translate"),e.k0s()(),e.j41(165,"div",5)(166,"span"),e.EFF(167),e.nI1(168,"translate"),e.k0s()(),e.j41(169,"div",34)(170,"span"),e.EFF(171),e.nI1(172,"translate"),e.k0s(),e.j41(173,"input",35),e.bIt("colorPickerChange",function(s){return n.options.axisLabelColor=s})("colorPickerChange",function(){return n.onChartChanged()}),e.k0s()(),e.nrm(174,"div",36),e.j41(175,"div",34)(176,"span"),e.EFF(177),e.nI1(178,"translate"),e.k0s(),e.j41(179,"input",35),e.bIt("colorPickerChange",function(s){return n.options.colorBackground=s})("colorPickerChange",function(){return n.onChartChanged()}),e.k0s()(),e.nrm(180,"div",36),e.j41(181,"div",34)(182,"span"),e.EFF(183),e.nI1(184,"translate"),e.k0s(),e.j41(185,"input",35),e.bIt("colorPickerChange",function(s){return n.options.gridLineColor=s})("colorPickerChange",function(){return n.onChartChanged()}),e.k0s()()()(),e.j41(186,"mat-tab",4),e.nI1(187,"translate"),e.j41(188,"div",15),e.EFF(189,"\xa0"),e.k0s(),e.j41(190,"div",37)(191,"button",38),e.bIt("click",function(){return n.onAddEvent()}),e.j41(192,"mat-icon"),e.EFF(193,"add_circle_outline"),e.k0s()()(),e.j41(194,"div",39),e.DNE(195,khe,21,14,"div",40),e.k0s()()()()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,103,"editor.controls-chart-settings")," "),e.R7$(4),e.FS9("label",e.bMT(7,105,"editor.settings-general")),e.R7$(4),e.JRh(e.bMT(11,107,"chart.property-data")),e.R7$(5),e.JRh(e.bMT(16,109,"chart.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(21,111,"chart.property-chart")),e.R7$(2),e.Y8G("formControl",n.chartCtrl),e.R7$(1),e.Y8G("formControl",n.chartFilterCtrl),e.R7$(3),e.JRh(e.bMT(27,113,"chart.property-newchart")),e.R7$(2),e.Y8G("ngForOf",e.bMT(29,115,n.filteredChart)),e.R7$(5),e.JRh(e.bMT(34,117,"chart.property-chart-type")),e.R7$(2),e.Y8G("value",n.chartViewValue),e.R7$(1),e.Y8G("ngForOf",e.bMT(37,119,n.chartViewType)),e.R7$(3),e.Y8G("ngIf",n.chartViewValue!==n.chartViewType.realtime1),e.R7$(1),e.Y8G("ngIf",n.chartViewValue===n.chartViewType.realtime1),e.R7$(3),e.JRh(e.bMT(44,121,"chart.property-general")),e.R7$(4),e.JRh(e.bMT(48,123,"chart.property-font")),e.R7$(2),e.Y8G("value",n.options.fontFamily),e.R7$(1),e.Y8G("ngForOf",n.fonts),e.R7$(4),e.JRh(e.bMT(55,125,"chart.property-font.titlesize")),e.R7$(2),e.Y8G("ngModel",n.options.titleHeight),e.R7$(4),e.JRh(e.bMT(61,127,"chart.property-font.axissize")),e.R7$(2),e.Y8G("ngModel",n.options.axisLabelFontSize),e.R7$(4),e.JRh(e.bMT(67,129,"chart.property-date.format")),e.R7$(2),e.Y8G("value",n.options.dateFormat),e.R7$(1),e.Y8G("ngForOf",e.bMT(70,131,n.dateFormat)),e.R7$(5),e.JRh(e.bMT(75,133,"chart.property-time.format")),e.R7$(2),e.Y8G("value",n.options.timeFormat),e.R7$(1),e.Y8G("ngForOf",e.bMT(78,135,n.timeFormat)),e.R7$(5),e.JRh(e.bMT(83,137,"chart.property-legend.mode")),e.R7$(2),e.Y8G("value",n.options.legendMode),e.R7$(1),e.Y8G("ngForOf",e.bMT(86,139,n.legendModes)),e.R7$(4),e.JRh(e.bMT(90,141,"chart.property-yaxis")),e.R7$(5),e.JRh(e.bMT(95,143,"chart.property-axis-y1")),e.R7$(2),e.Y8G("ngModel",n.options.axisLabelY1),e.R7$(3),e.JRh(e.bMT(100,145,"chart.property-axis-y1-min")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY1min),e.R7$(3),e.JRh(e.bMT(105,147,"chart.property-axis-y1-max")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY1max),e.R7$(4),e.JRh(e.bMT(111,149,"chart.property-axis-y2")),e.R7$(2),e.Y8G("ngModel",n.options.axisLabelY2),e.R7$(3),e.JRh(e.bMT(116,151,"chart.property-axis-y2-min")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY2min),e.R7$(3),e.JRh(e.bMT(121,153,"chart.property-axis-y2-max")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY2max),e.R7$(4),e.JRh(e.bMT(127,155,"chart.property-axis-y3")),e.R7$(2),e.Y8G("ngModel",n.options.axisLabelY3),e.R7$(3),e.JRh(e.bMT(132,157,"chart.property-axis-y3-min")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY3min),e.R7$(3),e.JRh(e.bMT(137,159,"chart.property-axis-y3-max")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY3max),e.R7$(4),e.JRh(e.bMT(143,161,"chart.property-axis-y4")),e.R7$(2),e.Y8G("ngModel",n.options.axisLabelY4),e.R7$(3),e.JRh(e.bMT(148,163,"chart.property-axis-y4-min")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY4min),e.R7$(3),e.JRh(e.bMT(153,165,"chart.property-axis-y4-max")),e.R7$(2),e.Y8G("ngModel",n.options.scaleY4max),e.R7$(3),e.JRh(e.bMT(158,167,"chart.property-xaxis")),e.R7$(4),e.JRh(e.bMT(162,169,"chart.property-axis-x")),e.R7$(2),e.FS9("placeholder",e.bMT(164,171,"chart.labels-time")),e.Y8G("ngModel",n.options.axisLabelX),e.R7$(4),e.JRh(e.bMT(168,173,"chart.property-theme")),e.R7$(4),e.JRh(e.bMT(172,175,"chart.property-color.text")),e.R7$(2),e.xc7("background",n.options.axisLabelColor),e.Y8G("colorPicker",n.options.axisLabelColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(4),e.JRh(e.bMT(178,177,"chart.property-color.background")),e.R7$(2),e.xc7("background",n.options.colorBackground),e.Y8G("colorPicker",n.options.colorBackground)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(4),e.JRh(e.bMT(184,179,"chart.property-color.grid")),e.R7$(2),e.xc7("background",n.options.gridLineColor),e.Y8G("colorPicker",n.options.gridLineColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(1),e.FS9("label",e.bMT(187,181,"editor.settings-events")),e.R7$(9),e.Y8G("ngForOf",null==n.property?null:n.property.events))},dependencies:[l.Sq,l.bT,l.ux,l.e1,k,Zn,qe,qn,Er,tn,ca,Ur,zn,Kn,yo,wc,eu,Td,Is,XA,L4,mD,Hs,che,l.Jj,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .chart-selection[_ngcontent-%COMP%]{position:absolute;top:35px;bottom:0;overflow:auto;width:calc(100% - 10px);padding-top:5px}[_nghost-%COMP%]   .section-item[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .field-block[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .field-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .field-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .field-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .field-text[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70px}[_nghost-%COMP%]   .field-number[_ngcontent-%COMP%]{width:60px}[_nghost-%COMP%]   .field-number[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:inherit;text-align:center}[_nghost-%COMP%]   .field-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:65px;text-align:left}[_nghost-%COMP%]   .section-inline-margin-s[_ngcontent-%COMP%]{display:inline-block;width:5px}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]{display:inline-block;width:60px}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px!important;text-align:center}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px}[_nghost-%COMP%]   .section-inline-margin[_ngcontent-%COMP%]{display:inline-block;width:12px}[_nghost-%COMP%]   .section-inline-margin2[_ngcontent-%COMP%]{display:inline-block;width:16px}[_nghost-%COMP%]   .section-newline[_ngcontent-%COMP%]{height:8px;display:block}[_nghost-%COMP%]     .slider-field mat-slider{background-color:var(--formSliderBackground);height:30px;width:100px}[_nghost-%COMP%]     .mat-tab-label{height:34px!important;min-width:110px!important;width:110px!important}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]{display:contents}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-item[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-action[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-remove[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-action-ext[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]{padding-left:10px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .script-selection[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .event-script-param[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .event-script-value[_ngcontent-%COMP%]{width:calc(100% - 120px)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .event-script-tag[_ngcontent-%COMP%]{width:calc(100% - 125px)}[_nghost-%COMP%]   .events-toolbox[_ngcontent-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .events-toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .section-item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 15px)}  .chart-filter-option{line-height:28px!important;height:28px!important}  .chart-filter-option span{font-size:13px}"]})}return r})();const Fhe=["flexaction"];let She=(()=>{class r{projectService;dialogRef;data;flexAction;property;constructor(t,i,n){this.projectService=t,this.dialogRef=i,this.data=n}ngOnInit(){this.data.devices||(this.data.devices=Object.values(this.projectService.getDevices())),this.property=this.data.property}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.property.actions=this.flexAction.getActions(),this.dialogRef.close(this.data)}onAddAction(){this.flexAction.onAddAction()}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-action-properties-dialog"]],viewQuery:function(i,n){if(1&i&&e.GBs(Fhe,5),2&i){let a;e.mGM(a=e.lsd())&&(n.flexAction=a.first)}},decls:20,vars:12,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],[1,"toolbox"],["mat-icon-button","",3,"click"],["mat-dialog-content","",1,"dialog-mdsd-content","content"],[2,"padding-bottom","5px",3,"data","property","withBitmask"],["flexaction",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return n.onAddAction()}),e.j41(8,"mat-icon"),e.EFF(9,"add_circle_outline"),e.k0s()()(),e.j41(10,"div",5),e.nrm(11,"flex-action",6,7),e.k0s(),e.j41(13,"div",8)(14,"button",9),e.bIt("click",function(){return n.onNoClick()}),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",10),e.bIt("click",function(){return n.onOkClick()}),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,6,"action-settings-title")),e.R7$(9),e.Y8G("data",n.data)("property",n.property)("withBitmask",!0),e.R7$(4),e.JRh(e.bMT(16,8,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(19,10,"dlg.ok")))},dependencies:[zn,Or,eo,Rr,Kn,BO,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:760px;position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{min-height:300px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]{position:absolute;right:10px;top:20px}"]})}return r})(),Aj=(()=>{class r{translateService;constructor(t){this.translateService=t}getRange(t){return`range(${t?.min} - ${t?.max})`}typeToText(t){let i="";return t===ii.Aq.getEnumKey(yw,yw.hidecontent)?i=this.translateService.instant(yw.hidecontent):t===ii.Aq.getEnumKey(It.vo,It.vo.stop)?i=this.translateService.instant(It.vo.stop):t===ii.Aq.getEnumKey(It.vo,It.vo.clockwise)?i=this.translateService.instant(It.vo.clockwise):t===ii.Aq.getEnumKey(It.vo,It.vo.anticlockwise)?i=this.translateService.instant(It.vo.anticlockwise):t===ii.Aq.getEnumKey(It.vo,It.vo.blink)&&(i=this.translateService.instant(It.vo.blink)),i}static \u0275fac=function(i){return new(i||r)(e.KVO(Vi.c$))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Qhe=["flexauth"],Rhe=["flexhead"],Phe=["flexevent"],Ohe=["flexaction"];function Lhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",20),e.nrm(2,"img",21),e.j41(3,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClearImage())}),e.nI1(4,"translate"),e.j41(5,"mat-icon"),e.EFF(6,"clear"),e.k0s()()(),e.j41(7,"div",9)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.imageAnimation.count=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeValue("imageAnimation",n.options.imageAnimation))}),e.k0s()(),e.j41(12,"div",23)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",24),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.imageAnimation.delay=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeValue("imageAnimation",n.options.imageAnimation))}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(2),e.FS9("src",t.options.imageAnimation.imageUrl,e.B4B),e.R7$(1),e.FS9("matTooltip",e.bMT(4,6,"pipe.property-style-animation-image-remove")),e.R7$(6),e.JRh(e.bMT(10,8,"pipe.property-style-animation-count")),e.R7$(2),e.Y8G("ngModel",t.options.imageAnimation.count),e.R7$(3),e.JRh(e.bMT(15,10,"pipe.property-style-animation-delay")),e.R7$(2),e.Y8G("ngModel",t.options.imageAnimation.delay)}}function Yhe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20)(1,"mat-select",25),e.bIt("click",function(){e.eBV(t);const n=e.sdS(4);return e.Njj(n.click())}),e.nI1(2,"translate"),e.k0s(),e.j41(3,"input",26,27),e.bIt("change",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onSetImage(n))}),e.k0s()()}2&r&&(e.R7$(1),e.FS9("placeholder",e.bMT(2,1,"pipe.property-style-animation-image")))}function Nhe(r,o){if(1&r&&(e.j41(0,"div",28)(1,"div",29)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",30),e.k0s(),e.j41(6,"div",31)(7,"div",32)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",30),e.k0s(),e.j41(12,"div",33)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",30),e.k0s(),e.j41(17,"div",34)(18,"span"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.nrm(21,"input",30),e.k0s()()()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,12,"action-settings-readonly-tag")),e.R7$(2),e.Y8G("value",i.getActionTag(t))("disabled",!0),e.R7$(4),e.JRh(e.bMT(10,14,"gui.range-number-min")),e.R7$(2),e.Y8G("value",null==t||null==t.range?null:t.range.min)("disabled",!0),e.R7$(3),e.JRh(e.bMT(15,16,"gui.range-number-max")),e.R7$(2),e.Y8G("value",null==t||null==t.range?null:t.range.max)("disabled",!0),e.R7$(3),e.JRh(e.bMT(20,18,"gauges.property-action-type")),e.R7$(2),e.Y8G("value",i.getActionType(t))("disabled",!0)}}let jhe=(()=>{class r{dialog;projectService;actionPropertyService;data;onPropChanged=new e.bkB;set reload(t){this._reload()}flexAuth;flexHead;flexEvent;flexAction;property;options;views;name;defaultColor=ii.Aq.defaultColor;pipepath={bk:null,fg:null,hp:null};devices=[];constructor(t,i,n){this.dialog=t,this.projectService=i,this.actionPropertyService=n}ngOnInit(){this.initFromInput()}initFromInput(){let t=ii.Aq.isNullOrUndefined(this.data.settings.property)||ii.Aq.isNullOrUndefined(this.data.settings.property.options);this.name=this.data.settings.name,this.property=this.data.settings.property||new It.f5,this.property||(this.property=new It.f5),this.options=this.property.options??new oce,this.devices=this.projectService.getDeviceList(),t&&setTimeout(()=>{this.onPipeChanged()},0)}onFlexAuthChanged(t){this.name=t.name,this.property.permission=t.permission,this.property.permissionRoles=t.permissionRoles,this.onPipeChanged()}onPipeChanged(){this.data.settings.name=this.name,this.data.settings.property=this.property,this.data.settings.property.options=this.options,this.onPropChanged.emit(this.data.settings)}onEditActions(){this.dialog.open(She,{disableClose:!0,data:{withActions:this.data.withActions,property:JSON.parse(JSON.stringify(this.property))},position:{top:"60px"}}).afterClosed().subscribe(i=>{i&&(this.property=i.property,this.onPipeChanged())})}onChangeValue(t,i){"borderWidth"==t?this.options.borderWidth=i:"border"==t?this.options.border=i:"pipeWidth"==t?this.options.pipeWidth=i:"pipe"==t?this.options.pipe=i:"contentWidth"==t?this.options.contentWidth=i:"content"==t?this.options.content=i:"contentSpace"==t&&(this.options.contentSpace=i),this.onPipeChanged()}onAddEvent(){this.flexEvent.onAddEvent()}onAddAction(){this.flexAction.onAddAction()}getActionTag(t){let i=Gi.$d.getTagFromTagId(this.devices,t.variableId);return i?.label||i?.name}getActionType(t){return this.actionPropertyService.typeToText(t.type)}onSetImage(t){if(t.target.files){let i=t.target.files[0].name,n={type:i.split(".").pop().toLowerCase(),name:i.split("/").pop(),data:null},a=new FileReader;a.onload=()=>{try{n.data=a.result,this.projectService.uploadFile(n).subscribe(s=>{this.options.imageAnimation={imageUrl:s.location,delay:3e3,count:1},this.onPipeChanged()})}catch(s){console.error(s)}},"svg"===n.type&&a.readAsText(t.target.files[0])}}onClearImage(){this.options.imageAnimation=null,this.onPipeChanged()}_reload(){this.property=this.data?.settings?.property,this.initFromInput()}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR),e.rXU(Aj))};static \u0275cmp=e.VBU({type:r,selectors:[["app-pipe-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Qhe,5),e.GBs(Rhe,5),e.GBs(Phe,5),e.GBs(Ohe,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.flexAuth=a.first),e.mGM(a=e.lsd())&&(n.flexHead=a.first),e.mGM(a=e.lsd())&&(n.flexEvent=a.first),e.mGM(a=e.lsd())&&(n.flexAction=a.first)}},inputs:{data:"data",reload:"reload"},outputs:{onPropChanged:"onPropChanged"},decls:73,vars:88,consts:[[1,"element-property"],[1,"element-property-title"],[1,"pipe-selection"],[2,"height","100%"],[3,"label"],[1,"element-property-header"],[1,"block","mt5"],[3,"name","permission","permissionMode","onChanged"],["flexauth",""],[1,"my-form-field","inbk"],["numberOnly","","max","100","min","0","step","1","type","number",1,"style-size",3,"ngModel","ngModelChange","change"],[1,"my-form-field","ml10"],[1,"input-color",2,"width","80px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],["numberOnly","","min","0","step","1","type","number",1,"style-size",3,"ngModel","ngModelChange","change"],[4,"ngIf","ngIfElse"],["imageAnimVoid",""],[1,"toolbox"],["mat-icon-button","",3,"matTooltip","click"],[1,"mt30"],["class","action-readonly-item",4,"ngFor","ngForOf"],[1,"my-form-field","block","mt5","image-animation"],[2,"max-width","80%",3,"src"],["numberOnly","","min","1","step","1","type","number",1,"style-size",3,"ngModel","ngModelChange","change"],[1,"my-form-field","inbk","ml10"],["numberOnly","","min","0","step","100","type","number",1,"style-size",3,"ngModel","ngModelChange","change"],[3,"placeholder","click"],["type","file","accept",".svg,image/svg+xml",2,"display","none",3,"change"],["imagefile",""],[1,"action-readonly-item"],[1,"my-form-field","tag"],["type","text","readonly","",3,"value","disabled"],[1,"flex","value","mt5"],[1,"my-form-field","number","inbk"],[1,"my-form-field","number","inbk","ml5"],[1,"my-form-field","type","inbk","ml5"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"mat-tab-group",3)(6,"mat-tab",4),e.nI1(7,"translate"),e.j41(8,"div",5)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",6)(13,"flex-auth",7,8),e.bIt("onChanged",function(s){return n.onFlexAuthChanged(s)}),e.k0s()(),e.j41(15,"div",5)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"div",6)(20,"div",9)(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"input",10),e.bIt("ngModelChange",function(s){return n.options.borderWidth=s})("change",function(){return n.onChangeValue("borderWidth",n.options.borderWidth)}),e.k0s()(),e.j41(25,"div",11)(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",12),e.bIt("colorPickerChange",function(s){return n.options.border=s})("colorPickerChange",function(s){return n.onChangeValue("border",s)}),e.k0s()()(),e.j41(30,"div",6)(31,"div",9)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"input",10),e.bIt("ngModelChange",function(s){return n.options.pipeWidth=s})("change",function(){return n.onChangeValue("pipeWidth",n.options.pipeWidth)}),e.k0s()(),e.j41(36,"div",11)(37,"span"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"input",12),e.bIt("colorPickerChange",function(s){return n.options.pipe=s})("colorPickerChange",function(s){return n.onChangeValue("pipe",s)}),e.k0s()()(),e.j41(41,"div",6)(42,"div",9)(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"input",10),e.bIt("ngModelChange",function(s){return n.options.contentWidth=s})("change",function(){return n.onChangeValue("contentWidth",n.options.contentWidth)}),e.k0s()(),e.j41(47,"div",11)(48,"span"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"input",12),e.bIt("colorPickerChange",function(s){return n.options.content=s})("colorPickerChange",function(s){return n.onChangeValue("content",s)}),e.k0s()(),e.j41(52,"div",11)(53,"span"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"input",13),e.bIt("ngModelChange",function(s){return n.options.contentSpace=s})("change",function(){return n.onChangeValue("contentSpace",n.options.contentSpace)}),e.k0s()()(),e.j41(57,"div",5)(58,"span"),e.EFF(59),e.nI1(60,"translate"),e.k0s()(),e.DNE(61,Lhe,17,12,"ng-container",14),e.DNE(62,Yhe,5,3,"ng-template",null,15,e.C5r),e.k0s(),e.j41(64,"mat-tab",4),e.nI1(65,"translate"),e.j41(66,"div",16)(67,"button",17),e.bIt("click",function(){return n.onEditActions()}),e.nI1(68,"translate"),e.j41(69,"mat-icon"),e.EFF(70,"edit"),e.k0s()()(),e.j41(71,"div",18),e.DNE(72,Nhe,22,20,"div",19),e.k0s()()()()()),2&i){const a=e.sdS(63);e.R7$(2),e.SpI(" ",e.bMT(3,60,"pipe.property-title")," "),e.R7$(4),e.FS9("label",e.bMT(7,62,"editor.settings-general")),e.R7$(4),e.JRh(e.bMT(11,64,"pipe.property-data")),e.R7$(3),e.Y8G("name",n.name)("permission",n.property.permission)("permissionMode","onlyShow"),e.R7$(4),e.JRh(e.bMT(18,66,"pipe.property-style")),e.R7$(5),e.JRh(e.bMT(23,68,"pipe.property-border-width")),e.R7$(2),e.Y8G("ngModel",n.options.borderWidth),e.R7$(3),e.JRh(e.bMT(28,70,"pipe.property-border-color")),e.R7$(2),e.xc7("background",n.options.border),e.Y8G("colorPicker",n.options.border)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(4),e.JRh(e.bMT(34,72,"pipe.property-pipe-width")),e.R7$(2),e.Y8G("ngModel",n.options.pipeWidth),e.R7$(3),e.JRh(e.bMT(39,74,"pipe.property-pipe-color")),e.R7$(2),e.xc7("background",n.options.pipe),e.Y8G("colorPicker",n.options.pipe)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(4),e.JRh(e.bMT(45,76,"pipe.property-content-width")),e.R7$(2),e.Y8G("ngModel",n.options.contentWidth),e.R7$(3),e.JRh(e.bMT(50,78,"pipe.property-content-color")),e.R7$(2),e.xc7("background",n.options.content),e.Y8G("colorPicker",n.options.content)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","bottom"),e.R7$(3),e.JRh(e.bMT(55,80,"pipe.property-content-space")),e.R7$(2),e.Y8G("ngModel",n.options.contentSpace),e.R7$(3),e.JRh(e.bMT(60,82,"pipe.property-style-animation")),e.R7$(2),e.Y8G("ngIf",n.options.imageAnimation)("ngIfElse",a),e.R7$(3),e.FS9("label",e.bMT(65,84,"editor.settings-actions")),e.R7$(3),e.FS9("matTooltip",e.bMT(68,86,"table.property-edit-actions-tooltip")),e.R7$(5),e.Y8G("ngForOf",null==n.property?null:n.property.actions)}},dependencies:[l.Sq,l.bT,k,Zn,qe,qn,Er,tn,zn,Kn,yo,eu,Td,Is,XA,fD,Hs,Vi.D9],styles:["[_nghost-%COMP%]   .pipe-selection[_ngcontent-%COMP%]{position:absolute;top:35px;bottom:0;overflow:auto;width:calc(100% - 10px);padding-top:5px}[_nghost-%COMP%]   .pipe-selection[_ngcontent-%COMP%]   .style-size[_ngcontent-%COMP%]{width:80px;text-align:left}[_nghost-%COMP%]     .mat-tab-label{height:34px!important;min-width:110px!important;width:110px!important}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]{float:right;margin-bottom:3px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;margin-left:8px}[_nghost-%COMP%]   .action-readonly-item[_ngcontent-%COMP%]{display:block;width:100%;border-bottom:1px solid rgba(0,0,0,.1);padding:5px 0}[_nghost-%COMP%]   .action-readonly-item[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .action-readonly-item[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:inherit}[_nghost-%COMP%]   .action-readonly-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .action-readonly-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:50px}[_nghost-%COMP%]   .action-readonly-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:auto}[_nghost-%COMP%]   .image-animation[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .image-animation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 10px)}[_nghost-%COMP%]   .image-animation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}[_nghost-%COMP%]   .image-animation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}"]})}return r})();function Ghe(r,o){if(1&r&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Uhe(r,o){if(1&r&&(e.j41(0,"mat-option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"graph.rangetype-"+t.key)," ")}}function zhe(r,o){if(1&r&&(e.j41(0,"mat-option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"graph.grouptype-"+t.key)," ")}}function Hhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",30)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",31),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.lastRange=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.DNE(6,Uhe,3,4,"mat-option",10),e.nI1(7,"enumToArray"),e.k0s()(),e.j41(8,"div",32)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-select",31),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.dateGroup=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.DNE(13,zhe,3,4,"mat-option",10),e.nI1(14,"enumToArray"),e.k0s()(),e.j41(15,"div",14)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"mat-slide-toggle",33),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return n.options.offline=!n.options.offline,e.Njj(n.onGraphChanged())}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,11,"graph.property-date-last-range")),e.R7$(2),e.Y8G("value",t.options.lastRange)("disabled",!t.isDateTime(t.graphCtrl.value)),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,13,t.lastRangeType)),e.R7$(4),e.JRh(e.bMT(11,15,"graph.property-date-group")),e.R7$(2),e.Y8G("value",t.options.dateGroup)("disabled",!t.isDateTime(t.graphCtrl.value)),e.R7$(1),e.Y8G("ngForOf",e.bMT(14,17,t.dateGroupType)),e.R7$(4),e.JRh(e.bMT(18,19,"graph.property-offline")),e.R7$(2),e.Y8G("checked",!t.options.offline)("disabled",t.isDateTime(t.graphCtrl.value))}}function Vhe(r,o){1&r&&(e.qex(0),e.j41(1,"div",3)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.bVm()),2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"graph.property-general")))}function Jhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",4)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.indexAxis=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.j41(6,"mat-option",34),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"mat-option",35),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"graph.property-graph-oriantation")),e.R7$(2),e.Y8G("value",t.options.indexAxis),e.R7$(2),e.JRh(e.bMT(8,6,"graph.property-ori-vartical")),e.R7$(3),e.JRh(e.bMT(11,8,"graph.property-ori-horizontal"))}}function Whe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div")(6,"div",12)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",36),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.y.min=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(11,"div",37)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",36),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.y.max=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(16,"div",37)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",38),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.y.ticks.stepSize=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.nrm(21,"div",39),e.j41(22,"div",12)(23,"span"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"input",13),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.y.ticks.font.size=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(27,"div",26)(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.decimals=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(32,"div",14)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"mat-slide-toggle",15),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.y.display=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()()(),e.j41(37,"div",3)(38,"span"),e.EFF(39),e.nI1(40,"translate"),e.k0s()(),e.j41(41,"div")(42,"div",40)(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"input",13),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.x.ticks.font.size=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(47,"div",14)(48,"span"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"mat-slide-toggle",15),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.scales.x.display=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,18,"graph.property-yaxis")),e.R7$(5),e.JRh(e.bMT(9,20,"graph.property-yaxis-min")),e.R7$(2),e.Y8G("ngModel",t.options.scales.y.min),e.R7$(3),e.JRh(e.bMT(14,22,"graph.property-yaxis-max")),e.R7$(2),e.Y8G("ngModel",t.options.scales.y.max),e.R7$(3),e.JRh(e.bMT(19,24,"graph.property-stepsize")),e.R7$(2),e.Y8G("ngModel",t.options.scales.y.ticks.stepSize),e.R7$(4),e.JRh(e.bMT(25,26,"graph.property-yaxis-fontsize")),e.R7$(2),e.Y8G("ngModel",t.options.scales.y.ticks.font.size),e.R7$(3),e.JRh(e.bMT(30,28,"graph.property-decimals")),e.R7$(2),e.Y8G("ngModel",t.options.decimals),e.R7$(3),e.JRh(e.bMT(35,30,"graph.property-yaxis-show")),e.R7$(2),e.Y8G("ngModel",t.options.scales.y.display),e.R7$(3),e.JRh(e.bMT(40,32,"graph.property-xaxis")),e.R7$(5),e.JRh(e.bMT(45,34,"graph.property-xaxis-fontsize")),e.R7$(2),e.Y8G("ngModel",t.options.scales.x.ticks.font.size),e.R7$(3),e.JRh(e.bMT(50,36,"graph.property-xaxis-show")),e.R7$(2),e.Y8G("ngModel",t.options.scales.x.display)}}function Khe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",39)(1,"div",42)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",43),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.plugins.title.color=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(6,"div",44)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",43),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.scales.y.ticks.color=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(11,"div",44)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",43),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.scales.x.ticks.color=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(16,"div",44)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",43),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.gridLinesColor=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(21,"div",39)(22,"div",42)(23,"span"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"input",43),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.plugins.legend.labels.color=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(27,"div",44)(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"input",43),e.bIt("colorPickerChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.options.plugins.datalabels.color=n)})("colorPickerChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGraphChanged())}),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,78,"graph.property-title-color")),e.R7$(2),e.xc7("background",t.options.plugins.title.color),e.Y8G("colorPicker",t.options.plugins.title.color)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(9,80,"graph.property-yaxis-color")),e.R7$(2),e.xc7("background",t.options.scales.y.ticks.color),e.Y8G("colorPicker",t.options.scales.y.ticks.color)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(14,82,"graph.property-xaxis-color")),e.R7$(2),e.xc7("background",t.options.scales.x.ticks.color),e.Y8G("colorPicker",t.options.scales.x.ticks.color)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(19,84,"graph.property-grid-color")),e.R7$(2),e.xc7("background",t.options.gridLinesColor),e.Y8G("colorPicker",t.options.gridLinesColor)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(4),e.JRh(e.bMT(25,86,"graph.property-legend-color")),e.R7$(2),e.xc7("background",t.options.plugins.legend.labels.color),e.Y8G("colorPicker",t.options.plugins.legend.labels.color)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(30,88,"graph.property-datalabels-color")),e.R7$(2),e.xc7("background",t.options.plugins.datalabels.color),e.Y8G("colorPicker",t.options.plugins.datalabels.color)("cpAlphaChannel","always")("cpPresetColors",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto")}}function Xhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div")(6,"div",4)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.theme=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphThemaChanged())}),e.j41(11,"mat-option",29),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"mat-option",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-option",29),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.DNE(20,Khe,32,90,"div",41),e.k0s(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,10,"graph.property-theme")),e.R7$(5),e.JRh(e.bMT(9,12,"graph.property-theme-type")),e.R7$(2),e.Y8G("value",t.options.theme),e.R7$(1),e.Y8G("value",t.themeType.customise),e.R7$(1),e.JRh(e.bMT(13,14,"graph.property-theme-owner")),e.R7$(2),e.Y8G("value",t.themeType.light),e.R7$(1),e.JRh(e.bMT(16,16,"graph.property-theme-light")),e.R7$(2),e.Y8G("value",t.themeType.dark),e.R7$(1),e.JRh(e.bMT(19,18,"graph.property-theme-dark")),e.R7$(2),e.Y8G("ngIf",t.options.theme===t.themeType.customise)}}function Zhe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",14)(2,"span",45),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-slide-toggle",15),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.gridLinesShow=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,2,"graph.property-gridline")),e.R7$(2),e.Y8G("ngModel",t.options.gridLinesShow)}}function $he(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div")(6,"div",16)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",17),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.plugins.datalabels.anchor=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.j41(11,"mat-option",23),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"mat-option",24),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-option",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"div",26)(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"input",13),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.plugins.datalabels.font.size=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()(),e.j41(25,"div",14)(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"mat-slide-toggle",15),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.plugins.datalabels.display=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGraphChanged())}),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,10,"graph.property-datalabels")),e.R7$(5),e.JRh(e.bMT(9,12,"graph.property-datalabels-align")),e.R7$(2),e.Y8G("value",t.options.plugins.datalabels.anchor),e.R7$(2),e.JRh(e.bMT(13,14,"graph.property-legend-center")),e.R7$(3),e.JRh(e.bMT(16,16,"graph.property-legend-start")),e.R7$(3),e.JRh(e.bMT(19,18,"graph.property-legend-end")),e.R7$(4),e.JRh(e.bMT(23,20,"graph.property-datalabels-fontsize")),e.R7$(2),e.Y8G("ngModel",t.options.plugins.datalabels.font.size),e.R7$(3),e.JRh(e.bMT(28,22,"graph.property-datalabels-show")),e.R7$(2),e.Y8G("ngModel",t.options.plugins.datalabels.display)}}let qhe=(()=>{class r{dialog;translateService;data;onPropChanged=new e.bkB;set reload(t){this._reload()}themeType=gS;graphBarType=jh.bar;graphType=jh.pie;options;defaultColor=ii.Aq.defaultColor;lastRangeType=Wg;dateGroupType=L1;dataXType=ii.Aq.getEnumKey(Sd,Sd.date);graphCtrl=new _i;graphFilterCtrl=new _i;filteredGraph=new N1.m(1);_onDestroy=new An.B;constructor(t,i){this.dialog=t,this.translateService=i}ngOnInit(){this.checkInitProperty(),this.data.settings.type.endsWith("bar")&&Object.keys(this.dateGroupType).forEach(t=>{this.translateService.get(this.dateGroupType[t]).subscribe(i=>{this.dateGroupType[t]=i})}),this._reload()}ngOnDestroy(){this._onDestroy.next(null),this._onDestroy.complete()}_reload(){this.checkInitProperty(),this.data.settings.type.endsWith("bar")?this.options=ii.Aq.mergeDeep(rD.DefaultOptions(),this.data.settings.property.options):this.data.settings.type.endsWith("pie")&&(this.options=ii.Aq.mergeDeep(oD.DefaultOptions(),this.data.settings.property.options)),this.loadGraphs();let t=null;this.data.settings.property&&(t=this.data.graphs.find(i=>i.id===this.data.settings.property.id)),this.graphCtrl.setValue(t)}checkInitProperty(){this.data.settings.type.endsWith("bar")?(this.graphType=jh.bar,this.data.settings.property||(this.data.settings.property={id:null,type:null,options:null}),this.data.settings.property.options||(this.data.settings.property.options=rD.DefaultOptions())):this.data.settings.type.endsWith("pie")&&(this.graphType=jh.pie,this.data.settings.property||(this.data.settings.property={id:null,type:null,options:null}),this.data.settings.property.options||(this.data.settings.property.options=oD.DefaultOptions()))}onGraphChanged(){this.data.settings.property={id:null,type:null,options:null},this.graphCtrl.value&&(this.data.settings.property.id=this.graphCtrl.value.id,this.data.settings.property.type=this.graphCtrl.value.type,this.data.settings.type.endsWith("bar")&&(this.isDateTime(this.graphCtrl.value)?(this.options.offline=!0,this.options.lastRange=this.options.lastRange??Wg.last1d,this.options.dateGroup=this.options.dateGroup??L1.hours):(this.options.lastRange=null,this.options.dateGroup=null))),this.data.settings.type.endsWith("bar")&&(this.options.scales.y.grid.color=this.options.gridLinesColor,this.options.scales.y.grid.display=this.options.gridLinesShow,this.options.scales.x.grid.color=this.options.gridLinesColor,this.options.scales.x.grid.display=this.options.gridLinesShow),this.data.settings.property.options=JSON.parse(JSON.stringify(this.options)),this.onPropChanged.emit(this.data.settings)}onGraphThemaChanged(){const t=this.options.scales.y,i=this.options.scales.x;this.options.theme===this.themeType.light?(t.ticks.color="#666",i.ticks.color="#666",this.options.plugins.legend.labels.color="#666",this.options.plugins.datalabels.color="#666",this.options.plugins.title.color="#666",this.options.gridLinesColor="rgba(0, 0, 0, 0.2)",this.options.backgroundColor=null):this.options.theme===this.themeType.dark?(t.ticks.color="#fff",i.ticks.color="#fff",this.options.plugins.legend.labels.color="#fff",this.options.plugins.datalabels.color="#fff",this.options.plugins.title.color="#fff",this.options.gridLinesColor="#808080",this.options.backgroundColor="242424"):this.options.theme===this.themeType.customise&&(this.options.backgroundColor=null),this.onGraphChanged()}onEditNewGraph(){this.dialog.open(EO,{position:{top:"60px"},minWidth:"1090px",width:"1090px",data:{type:this.graphType===jh.bar?"bar":"pie"}}).afterClosed().subscribe(i=>{i&&(this.data.graphs=i.graphs,this.loadGraphs(),i.selected&&this.graphCtrl.setValue(i.selected),this.onGraphChanged())})}isDateTime(t){return!(!t||!t.property||t.property.xtype!==this.dataXType)}loadGraphs(t){if(this.filteredGraph.next(this.data.graphs.slice()),this.graphFilterCtrl.valueChanges.pipe((0,jn.Q)(this._onDestroy)).subscribe(()=>{this.filterGraph()}),t){let i=-1;this.data.graphs.every(function(n,a,s){return n.id!==t||(i=a,!1)}),i>=0&&this.graphCtrl.setValue(this.data.graphs[i])}}filterGraph(){if(!this.data.graphs)return;let t=this.graphFilterCtrl.value;t?(t=t.toLowerCase(),this.filteredGraph.next(this.data.graphs.filter(i=>i.name.toLowerCase().indexOf(t)>-1))):this.filteredGraph.next(this.data.graphs.slice())}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["app-graph-property"]],inputs:{data:"data",reload:"reload"},outputs:{onPropChanged:"onPropChanged"},decls:109,vars:90,consts:[[1,"element-property"],[1,"element-property-title"],[1,"graph-selection"],[1,"element-property-header"],[1,"my-form-field","section-item","section-item-block"],["type","text",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-item","section-item-block","mt5"],[3,"formControl","selectionChange"],[3,"formControl"],[3,"click"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"my-form-field","section-inline-number"],["numberOnly","","type","number","min","6",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-inline-toggle","slider-field","ml10"],["color","primary",3,"ngModel","ngModelChange","change"],[1,"my-form-field","section-item",2,"display","inline-block","width","80px"],[3,"value","valueChange","selectionChange"],["value","top"],["value","left"],["value","bottom"],["value","right"],[1,"my-form-field","section-item","ml15",2,"display","inline-block","width","80px"],["value","center"],["value","start"],["value","end"],[1,"my-form-field","section-inline-number","section-toogle","ml15"],["numberOnly","","type","number","min","0",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-inline-toggle","section-inline-toggle-ext","slider-field","ml10"],[3,"value"],[1,"my-form-field","section-item","mt5","inbk",2,"width","120px"],[3,"value","disabled","valueChange","selectionChange"],[1,"my-form-field","section-item","ml15",2,"display","inline-block","width","120px"],["color","primary",3,"checked","disabled","change"],["value","x"],["value","y"],["numberOrNullOnly","","type","number",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-inline-number","ml15"],["numberOnly","","type","number",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"mt5"],[1,"my-form-field","section-inline-number","section-toogle"],["class","mt5",4,"ngIf"],[1,"my-form-field","section-inline-color","color-field"],[1,"input-color",2,"width","88px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","section-inline-color","color-field","ml15"],[2,"width","60px"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div")(10,"div",4)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",5),e.bIt("ngModelChange",function(s){return n.data.settings.name=s})("change",function(){return n.onGraphChanged()})("keyup.enter",function(){return n.onGraphChanged()}),e.k0s()(),e.j41(15,"div",6)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"mat-select",7),e.bIt("selectionChange",function(){return n.onGraphChanged()}),e.nrm(20,"mat-select-search",8),e.j41(21,"mat-option",9),e.bIt("click",function(){return n.onEditNewGraph()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Ghe,2,2,"mat-option",10),e.nI1(25,"async"),e.k0s()(),e.DNE(26,Hhe,20,21,"ng-container",11),e.k0s(),e.DNE(27,Vhe,5,3,"ng-container",11),e.DNE(28,Jhe,12,10,"ng-container",11),e.j41(29,"div",3)(30,"span"),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.j41(33,"div")(34,"div",12)(35,"span"),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"input",13),e.bIt("ngModelChange",function(s){return n.options.plugins.title.font.size=s})("change",function(){return n.onGraphChanged()})("keyup.enter",function(){return n.onGraphChanged()}),e.k0s()(),e.j41(39,"div",14)(40,"span"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"mat-slide-toggle",15),e.bIt("ngModelChange",function(s){return n.options.plugins.title.display=s})("change",function(){return n.onGraphChanged()}),e.k0s()()(),e.DNE(44,Whe,52,38,"ng-container",11),e.j41(45,"div",3)(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s()(),e.j41(49,"div")(50,"div",16)(51,"span"),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"mat-select",17),e.bIt("valueChange",function(s){return n.options.plugins.legend.position=s})("selectionChange",function(){return n.onGraphChanged()}),e.j41(55,"mat-option",18),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"mat-option",19),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"mat-option",20),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"mat-option",21),e.EFF(65),e.nI1(66,"translate"),e.k0s()()(),e.j41(67,"div",22)(68,"span"),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"mat-select",17),e.bIt("valueChange",function(s){return n.options.plugins.legend.align=s})("selectionChange",function(){return n.onGraphChanged()}),e.j41(72,"mat-option",23),e.EFF(73),e.nI1(74,"translate"),e.k0s(),e.j41(75,"mat-option",24),e.EFF(76),e.nI1(77,"translate"),e.k0s(),e.j41(78,"mat-option",25),e.EFF(79),e.nI1(80,"translate"),e.k0s()()(),e.j41(81,"div",26)(82,"span"),e.EFF(83),e.nI1(84,"translate"),e.k0s(),e.j41(85,"input",13),e.bIt("ngModelChange",function(s){return n.options.plugins.legend.labels.font.size=s})("change",function(){return n.onGraphChanged()})("keyup.enter",function(){return n.onGraphChanged()}),e.k0s()(),e.j41(86,"div",14)(87,"span"),e.EFF(88),e.nI1(89,"translate"),e.k0s(),e.j41(90,"mat-slide-toggle",15),e.bIt("ngModelChange",function(s){return n.options.plugins.legend.display=s})("change",function(){return n.onGraphChanged()}),e.k0s()()(),e.DNE(91,Xhe,21,20,"ng-container",11),e.j41(92,"div",3)(93,"span"),e.EFF(94),e.nI1(95,"translate"),e.k0s()(),e.j41(96,"div")(97,"div",12)(98,"span"),e.EFF(99),e.nI1(100,"translate"),e.k0s(),e.j41(101,"input",27),e.bIt("ngModelChange",function(s){return n.options.borderWidth=s})("change",function(){return n.onGraphChanged()})("keyup.enter",function(){return n.onGraphChanged()}),e.k0s()(),e.DNE(102,Zhe,6,4,"ng-container",11),e.j41(103,"div",28)(104,"span"),e.EFF(105),e.nI1(106,"translate"),e.k0s(),e.j41(107,"mat-slide-toggle",15),e.bIt("ngModelChange",function(s){return n.options.plugins.tooltip.enabled=s})("change",function(){return n.onGraphChanged()}),e.k0s()()(),e.DNE(108,$he,30,24,"ng-container",11),e.k0s()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,42,n.graphType===n.graphBarType?"editor.controls-graph-bar-settings":"editor.controls-graph-pie-settings")," "),e.R7$(5),e.JRh(e.bMT(8,44,"graph.property-data")),e.R7$(5),e.JRh(e.bMT(13,46,"graph.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(18,48,"graph.property-graph")),e.R7$(2),e.Y8G("formControl",n.graphCtrl),e.R7$(1),e.Y8G("formControl",n.graphFilterCtrl),e.R7$(2),e.JRh(e.bMT(23,50,"graph.property-newgraph")),e.R7$(2),e.Y8G("ngForOf",e.bMT(25,52,n.filteredGraph)),e.R7$(2),e.Y8G("ngIf",n.graphType===n.graphBarType),e.R7$(1),e.Y8G("ngIf",n.graphType===n.graphBarType),e.R7$(1),e.Y8G("ngIf",n.graphType===n.graphBarType),e.R7$(3),e.JRh(e.bMT(32,54,"graph.property-title")),e.R7$(5),e.JRh(e.bMT(37,56,"graph.property-title-font")),e.R7$(2),e.Y8G("ngModel",n.options.plugins.title.font.size),e.R7$(3),e.JRh(e.bMT(42,58,"graph.property-title-show")),e.R7$(2),e.Y8G("ngModel",n.options.plugins.title.display),e.R7$(1),e.Y8G("ngIf",n.graphType===n.graphBarType),e.R7$(3),e.JRh(e.bMT(48,60,"graph.property-legend")),e.R7$(5),e.JRh(e.bMT(53,62,"graph.property-legend-display")),e.R7$(2),e.Y8G("value",n.options.plugins.legend.position),e.R7$(2),e.JRh(e.bMT(57,64,"graph.property-legend-top")),e.R7$(3),e.JRh(e.bMT(60,66,"graph.property-legend-left")),e.R7$(3),e.JRh(e.bMT(63,68,"graph.property-legend-bottom")),e.R7$(3),e.JRh(e.bMT(66,70,"graph.property-legend-right")),e.R7$(4),e.JRh(e.bMT(70,72,"graph.property-legend-align")),e.R7$(2),e.Y8G("value",n.options.plugins.legend.align),e.R7$(2),e.JRh(e.bMT(74,74,"graph.property-legend-center")),e.R7$(3),e.JRh(e.bMT(77,76,"graph.property-legend-start")),e.R7$(3),e.JRh(e.bMT(80,78,"graph.property-legend-end")),e.R7$(4),e.JRh(e.bMT(84,80,"graph.property-legend-fontsize")),e.R7$(2),e.Y8G("ngModel",n.options.plugins.legend.labels.font.size),e.R7$(3),e.JRh(e.bMT(89,82,"graph.property-legend-show")),e.R7$(2),e.Y8G("ngModel",n.options.plugins.legend.display),e.R7$(1),e.Y8G("ngIf",n.graphType===n.graphBarType),e.R7$(3),e.JRh(e.bMT(95,84,"graph.property-layout")),e.R7$(5),e.JRh(e.bMT(100,86,"graph.property-border")),e.R7$(2),e.Y8G("ngModel",n.options.borderWidth),e.R7$(1),e.Y8G("ngIf",n.graphType===n.graphBarType),e.R7$(3),e.JRh(e.bMT(106,88,"graph.property-tooltip")),e.R7$(2),e.Y8G("ngModel",n.options.plugins.tooltip.enabled),e.R7$(1),e.Y8G("ngIf",n.graphType===n.graphBarType))},dependencies:[l.Sq,l.bT,k,Zn,qe,qn,tn,ca,Ur,yo,wc,XA,L4,Hs,S9,l.Jj,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .graph-selection[_ngcontent-%COMP%]{position:absolute;top:35px;bottom:0;overflow:auto;width:calc(100% - 10px)}[_nghost-%COMP%]   .section-item[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .section-inline-number[_ngcontent-%COMP%]{display:inline-block;width:60px}[_nghost-%COMP%]   .section-inline-number[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:inherit;text-align:center}[_nghost-%COMP%]   .section-inline-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:65px;text-align:left}[_nghost-%COMP%]   .section-inline-toggle[_ngcontent-%COMP%]{display:inline-block;width:50px;text-align:center}[_nghost-%COMP%]   .section-inline-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:inherit}[_nghost-%COMP%]   .section-inline-toggle[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{width:inherit;padding-left:10px}[_nghost-%COMP%]   .section-inline-toggle-ext[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:85px}[_nghost-%COMP%]   .section-inline-toggle-ext[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]{display:inline-block;width:60px}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px!important;text-align:center}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:65px}"]})}return r})(),epe=(()=>{class r{translateService;data;onPropChanged=new e.bkB;set reload(t){this._reload()}property;constructor(t){this.translateService=t}ngOnInit(){this._reload()}onPropertyChanged(){this.onPropChanged.emit(this.data.settings)}onTagChanged(t){this.data.settings.property.variableId=t.variableId,this.onPropChanged.emit(this.data.settings)}_reload(){this.data.settings.property||(this.data.settings.property={address:null,variableId:null}),this.property=this.data.settings.property}static \u0275fac=function(i){return new(i||r)(e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["app-iframe-property"]],inputs:{data:"data",reload:"reload"},outputs:{onPropChanged:"onPropChanged"},decls:22,vars:15,consts:[[1,"element-property"],[1,"element-property-title"],[1,"iframe-selection"],[1,"element-property-header"],[1,"my-form-field","section-item","section-item-block"],["type","text",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-item","section-item-block","mt5"],[1,"block","mt5","item-device-tag",3,"variableId","onchange"],[1,"section-newline"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div")(10,"div",4)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",5),e.bIt("ngModelChange",function(s){return n.data.settings.name=s})("change",function(){return n.onPropertyChanged()})("keyup.enter",function(){return n.onPropertyChanged()}),e.k0s()(),e.j41(15,"div",6)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"input",5),e.bIt("ngModelChange",function(s){return n.property.address=s})("change",function(){return n.onPropertyChanged()})("keyup.enter",function(){return n.onPropertyChanged()}),e.k0s()(),e.j41(20,"app-flex-device-tag",7),e.bIt("onchange",function(s){return n.onTagChanged(s)}),e.k0s(),e.nrm(21,"div",8),e.k0s()()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,7,"editor.controls-iframe-settings")," "),e.R7$(5),e.JRh(e.bMT(8,9,"iframe.property-data")),e.R7$(5),e.JRh(e.bMT(13,11,"iframe.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(18,13,"iframe.property-address")),e.R7$(2),e.Y8G("ngModel",n.property.address),e.R7$(1),e.Y8G("variableId",n.property.variableId))},dependencies:[k,qe,tn,mD,Vi.D9],styles:["[_nghost-%COMP%]   .iframe-selection[_ngcontent-%COMP%]{position:absolute;top:35px;bottom:0;overflow:auto;width:calc(100% - 10px)}[_nghost-%COMP%]   .section-item[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .item-device-tag[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})();function tpe(r,o){1&r&&(e.j41(0,"h1",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"table.column-dialog-title")))}function ipe(r,o){1&r&&(e.j41(0,"h1",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"table.row-dialog-title")))}function npe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",16)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",17),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.cell.label=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"table.cell-column-name")),e.R7$(2),e.Y8G("ngModel",t.data.cell.label)}}function rpe(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"table.cell-column-type")))}function ope(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"table.cell-row-type")))}function ape(r,o){if(1&r&&(e.j41(0,"mat-option",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.Y8G("value",t.columnType.label),e.R7$(1),e.SpI(" ",e.bMT(2,2,"table.property-column-label"),"")}}function spe(r,o){if(1&r&&(e.j41(0,"mat-option",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.Y8G("value",t.columnType.variable),e.R7$(1),e.SpI(" ",e.bMT(2,2,"table.property-column-variable"),"")}}function lpe(r,o){if(1&r&&(e.j41(0,"mat-option",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.Y8G("value",t.columnType.device),e.R7$(1),e.SpI(" ",e.bMT(2,2,"table.property-column-device"),"")}}function cpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",18)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",19),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.cell.valueFormat=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"table.cell-ts-format")),e.R7$(2),e.Y8G("ngModel",t.data.cell.valueFormat)}}function Ape(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",18)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",19),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.cell.label=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"table.cell-text")),e.R7$(2),e.Y8G("ngModel",t.data.cell.label)}}function dpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",18)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",19),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.cell.valueFormat=n)}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"table.cell-value-format")),e.R7$(2),e.Y8G("ngModel",t.data.cell.valueFormat)}}function upe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20)(1,"flex-variable",21),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onSetVariable(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.devicesValues)("variableId",t.data.cell.variableId)("bitmask",t.data.cell.bitmask)("withStaticValue",!1)("withBitmask",!0)}}let dj=(()=>{class r{projectService;dialogRef;data;tableType=It.lp;cellType=vD;columnType=It.Jf;devicesValues={devices:null};constructor(t,i,n){this.projectService=t,this.dialogRef=i,this.data=n,this.devicesValues.devices=Object.values(this.projectService.getDevices())}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.data)}onSetVariable(t){if(this.data.cell.variableId=t.variableId,this.data.table===It.lp.data)if(t.variableRaw){if(this.data.cell.label=t.variableRaw.name,this.data.cell.type===It.Jf.device){let i=this.projectService.getDeviceFromTagId(t.variableId);this.data.cell.label=i?i.name:""}}else this.data.cell.label=null;else if(this.data.table===It.lp.history&&t.variableRaw&&this.data.cell.type===It.Jf.device){let i=this.projectService.getDeviceFromTagId(t.variableId);this.data.cell.exname=i?i.name:""}}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-table-customizer-cell-edit"]],decls:29,vars:23,consts:[["mat-dialog-title","","class","dialog-title","mat-dialog-draggable","",4,"ngIf"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],["class","my-form-field","style","display: block;",4,"ngIf"],[2,"display","block","margin-top","10px"],[1,"my-form-field",2,"display","inline-block"],[4,"ngIf"],[2,"width","260px",3,"value","valueChange"],[3,"value",4,"ngIf"],[3,"value"],["class","my-form-field","style","display: inline-block; margin-left: 16px;",4,"ngIf"],["class","my-form-field variable-input",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"my-form-field",2,"display","block"],["type","text",2,"width","260px",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"display","inline-block","margin-left","16px"],["type","text",2,"width","265px",3,"ngModel","ngModelChange"],[1,"my-form-field","variable-input"],[3,"data","variableId","bitmask","withStaticValue","withBitmask","onchange"]],template:function(i,n){1&i&&(e.j41(0,"div"),e.DNE(1,tpe,3,3,"h1",0),e.DNE(2,ipe,3,3,"h1",0),e.j41(3,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(4,"clear"),e.k0s(),e.j41(5,"div",2),e.DNE(6,npe,5,4,"div",3),e.j41(7,"div",4)(8,"div",5),e.DNE(9,rpe,3,3,"span",6),e.DNE(10,ope,3,3,"span",6),e.j41(11,"mat-select",7),e.bIt("valueChange",function(s){return n.data.cell.type=s}),e.DNE(12,ape,3,4,"mat-option",8),e.DNE(13,spe,3,4,"mat-option",8),e.DNE(14,lpe,3,4,"mat-option",8),e.j41(15,"mat-option",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()()(),e.DNE(18,cpe,5,4,"div",10),e.DNE(19,Ape,5,4,"div",10),e.DNE(20,dpe,5,4,"div",10),e.k0s(),e.DNE(21,upe,2,5,"div",11),e.k0s(),e.j41(22,"div",12)(23,"button",13),e.bIt("click",function(){return n.onNoClick()}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"button",14),e.bIt("click",function(){return n.onOkClick()}),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("ngIf",n.data.type===n.cellType.column),e.R7$(1),e.Y8G("ngIf",n.data.type===n.cellType.row),e.R7$(4),e.Y8G("ngIf",n.data.type===n.cellType.column),e.R7$(3),e.Y8G("ngIf",n.data.type===n.cellType.column),e.R7$(1),e.Y8G("ngIf",n.data.type===n.cellType.row),e.R7$(1),e.Y8G("value",n.data.cell.type),e.R7$(1),e.Y8G("ngIf",n.data.table===n.tableType.data),e.R7$(1),e.Y8G("ngIf",!(n.data.table===n.tableType.data&&n.data.type===n.cellType.column)),e.R7$(1),e.Y8G("ngIf",!(n.data.table===n.tableType.data&&n.data.type===n.cellType.column)),e.R7$(1),e.Y8G("value",n.columnType.timestamp),e.R7$(1),e.SpI(" ",e.bMT(17,17,"table.property-column-timestamp"),""),e.R7$(2),e.Y8G("ngIf",n.data.cell.type===n.columnType.timestamp),e.R7$(1),e.Y8G("ngIf",n.data.type===n.cellType.row&&n.data.cell.type===n.columnType.label),e.R7$(1),e.Y8G("ngIf",n.data.cell.type===n.columnType.variable),e.R7$(1),e.Y8G("ngIf",n.data.cell.type===n.columnType.variable||n.data.cell.type===n.columnType.device),e.R7$(3),e.JRh(e.bMT(25,19,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(28,21,"dlg.ok")))},dependencies:[l.bT,k,qe,tn,Ur,zn,Or,eo,Rr,Kn,yo,Cp,Wr,Vi.D9]})}return r})();var vD=function(r){return r[r.column=0]="column",r[r.row=1]="row",r}(vD||{});function hpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell")(1,"div",18)(2,"span",19),e.EFF(3),e.k0s(),e.j41(4,"span",20),e.EFF(5),e.k0s()(),e.j41(6,"button",21)(7,"mat-icon"),e.EFF(8,"more_vert"),e.k0s()(),e.j41(9,"mat-menu",22,23)(11,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onEditColumn(n))}),e.j41(12,"mat-icon"),e.EFF(13,"edit"),e.k0s(),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,a=e.XpG();return e.Njj(a.onMoveColumnLeft(n))}),e.j41(17,"mat-icon"),e.EFF(18,"west"),e.k0s(),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,a=e.XpG();return e.Njj(a.onMoveColumnRight(n))}),e.j41(22,"mat-icon"),e.EFF(23,"east"),e.k0s(),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onRemoveColumn(n))}),e.j41(27,"mat-icon"),e.EFF(28,"delete"),e.k0s(),e.EFF(29),e.nI1(30,"translate"),e.k0s()()()}if(2&r){const t=e.sdS(10),i=e.XpG().index,n=e.XpG();e.R7$(3),e.SpI("",n.getColumnType(i)," "),e.R7$(2),e.SpI("",n.getColumnSetting(i)," "),e.R7$(1),e.Y8G("matMenuTriggerFor",t),e.R7$(3),e.Y8G("overlapTrigger",!1),e.R7$(5),e.SpI(" ",e.bMT(15,10,"table.customize-column-edit")," "),e.R7$(2),e.Y8G("disabled",0===i),e.R7$(3),e.SpI(" ",e.bMT(20,12,"table.customize-column-left")," "),e.R7$(2),e.Y8G("disabled",i===n.displayedColumns.length-1),e.R7$(3),e.SpI(" ",e.bMT(25,14,"table.customize-column-right")," "),e.R7$(5),e.SpI(" ",e.bMT(30,16,"table.customize-column-remove")," ")}}function ppe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",28)(1,"button",29),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,30)(6,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onMoveRowUp(n))}),e.j41(7,"mat-icon"),e.EFF(8,"arrow_upward"),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onMoveRowDown(n))}),e.j41(12,"mat-icon"),e.EFF(13,"arrow_downward"),e.k0s(),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onRemoveRow(n))}),e.j41(17,"mat-icon"),e.EFF(18,"delete"),e.k0s(),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()}if(2&r){const t=e.sdS(5),i=e.XpG().$implicit,n=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",t),e.R7$(5),e.Y8G("disabled",0===n.dataSource.data.indexOf(i)),e.R7$(3),e.SpI(" ",e.bMT(10,6,"table.customize-row-up")," "),e.R7$(2),e.Y8G("disabled",n.dataSource.data.indexOf(i)===n.dataSource.data.length-1),e.R7$(3),e.SpI(" ",e.bMT(15,8,"table.customize-row-down")," "),e.R7$(5),e.SpI(" ",e.bMT(20,10,"table.customize-row-remove")," ")}}function fpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell"),e.DNE(1,ppe,21,12,"mat-cell",26),e.j41(2,"div",18)(3,"span",19),e.EFF(4),e.k0s(),e.j41(5,"span",20),e.EFF(6),e.k0s()(),e.j41(7,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG().$implicit,d=e.XpG();return e.Njj(d.onEditCell(a,s))}),e.nI1(8,"translate"),e.j41(9,"mat-icon"),e.EFF(10,"edit"),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG(),n=i.index,a=i.$implicit,s=e.XpG();e.R7$(1),e.Y8G("ngIf",0===n),e.R7$(3),e.SpI("",s.getCellType(t[a])," "),e.R7$(2),e.SpI("",s.getCellSetting(t[a])," "),e.R7$(1),e.FS9("matTooltip",e.bMT(8,4,"table.customize-cell-edit"))}}function gpe(r,o){1&r&&(e.qex(0,15),e.DNE(1,hpe,31,18,"mat-header-cell",16),e.DNE(2,fpe,11,6,"mat-cell",17),e.bVm()),2&r&&e.Y8G("matColumnDef",o.$implicit)}function mpe(r,o){1&r&&e.nrm(0,"mat-header-row",31)}function vpe(r,o){1&r&&e.nrm(0,"mat-row")}function _pe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddRow())}),e.nI1(2,"translate"),e.j41(3,"mat-icon"),e.EFF(4,"add_circle_outline"),e.k0s()()()}2&r&&(e.R7$(1),e.FS9("matTooltip",e.bMT(2,1,"table.customize-row-add")))}let ype=(()=>{class r{dialog;dialogRef;data;tableType=It.lp;displayedColumns=[];dataSource=new Ln([]);constructor(t,i,n){this.dialog=t,this.dialogRef=i,this.data=n}ngOnInit(){this.loadData()}loadData(){this.displayedColumns=this.data.columns.map(i=>i.id);let t=[];this.data.rows.forEach(i=>{let n={};i.cells.forEach(a=>{a&&(n[a.id]=a)}),t.push(n)}),this.data.type===It.lp.data&&(this.dataSource.data=t)}onAddColumn(){this.onEditColumn()}onAddRow(){let t=[];this.data.columns.forEach(i=>{t.push(new It.nA(i.id,i.type))}),this.data.rows.push(new It.Hj(t)),this.loadData()}onEditColumn(t){let i=this.data.columns.findIndex(s=>s.id===t),n=new It.Ve(ii.Aq.getShortGUID("c_"),It.Jf.label);i>=0&&(n=this.data.columns[i]),this.dialog.open(dj,{data:{table:this.data.type,type:vD.column,cell:JSON.parse(JSON.stringify(n))},position:{top:"60px"}}).afterClosed().subscribe(s=>{if(s){let d=this.data.columns.findIndex(m=>m.id===s.cell.id);d>=0?this.data.columns[d]=s.cell:this.data.columns.push(s.cell),this.loadData()}})}onEditCell(t,i){const n=this.dataSource.data.indexOf(t,0);let a=this.data.columns.findIndex(m=>m.id===i),s=this.data.rows[n].cells[a];s||(s=new It.nA(i,It.Jf.label)),this.dialog.open(dj,{data:{table:this.data.type,type:vD.row,cell:JSON.parse(JSON.stringify(s))},position:{top:"60px"}}).afterClosed().subscribe(m=>{m&&(this.data.rows[n].cells[a]=m.cell,this.loadData())})}onRemoveColumn(t){this.data.columns.splice(this.data.columns.findIndex(i=>i.id===t),1),this.ngOnInit()}onRemoveRow(t){const i=this.dataSource.data.indexOf(t,0);this.data.rows.splice(i,1),this.ngOnInit()}getColumnType(t){return this.getCellType(this.data.columns[t])}getColumnSetting(t){return this.data.columns[t].label||""}getCellType(t){return t?`${t.type?t.type:""}`:""}getCellSetting(t){if(t){if(t.type===It.Jf.label)return t.label||"";if(t.type===It.Jf.timestamp)return t.valueFormat?t.valueFormat:"";if(t.type===It.Jf.variable)return(t.label||"")+(t.valueFormat?` (${t.valueFormat})`:"");if(t.type===It.Jf.device)return t.label||""}return""}onMoveColumnLeft(t){t>0&&([this.data.columns[t-1],this.data.columns[t]]=[this.data.columns[t],this.data.columns[t-1]],this.data.rows.forEach(i=>{[i.cells[t-1],i.cells[t]]=[i.cells[t],i.cells[t-1]]}),this.loadData())}onMoveColumnRight(t){t<this.data.columns.length-1&&([this.data.columns[t+1],this.data.columns[t]]=[this.data.columns[t],this.data.columns[t+1]],this.data.rows.forEach(i=>{[i.cells[t+1],i.cells[t]]=[i.cells[t],i.cells[t+1]]}),this.loadData())}onMoveRowUp(t){const i=this.dataSource.data.indexOf(t);if(i>0){const n=this.data.rows[i];this.data.rows[i]=this.data.rows[i-1],this.data.rows[i-1]=n,this.loadData()}}onMoveRowDown(t){const i=this.dataSource.data.indexOf(t);if(i<this.data.rows.length-1){const n=this.data.rows[i];this.data.rows[i]=this.data.rows[i+1],this.data.rows[i+1]=n,this.loadData()}}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.rows.forEach(t=>{if(t.cells.length<this.data.columns.length)for(let i=t.cells.length;i<this.data.columns.length;i++)t.cells.push(new It.nA(this.data.columns[i].id,It.Jf.label,""));else if(t.cells.length>this.data.columns.length){let i=this.data.columns.map(a=>a.id),n=t.cells.filter(a=>i.indexOf(a.id)>=0);t.cells=n}}),this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-table-customizer"]],decls:25,vars:17,consts:[[2,"position","relative"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],["matSort","",1,"customer-table",2,"min-width","900px","height","500px","display","block",3,"dataSource"],["table",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["class","data-table-header",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"toolbox-column"],["mat-icon-button","",3,"matTooltip","click"],["class","toolbox-row",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[1,"data-table-cell"],[2,"display","block","font-size","12px"],[2,"display","block"],["mat-icon-button","",1,"column-options",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["optionsgMenu",""],["mat-menu-item","",1,"table-menu-item",3,"click"],["mat-menu-item","",1,"table-menu-item",3,"disabled","click"],["class","data-table-remove-row",4,"ngIf"],["mat-icon-button","",1,"column-options",3,"matTooltip","click"],[1,"data-table-remove-row"],["mat-icon-button","",1,"row-options",3,"matMenuTriggerFor","click"],["rowMenu","matMenu"],[1,"data-table-header"],[1,"toolbox-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"mat-table",4,5),e.DNE(9,gpe,3,1,"ng-container",6),e.DNE(10,mpe,1,0,"mat-header-row",7),e.DNE(11,vpe,1,0,"mat-row",8),e.k0s(),e.j41(12,"div",9)(13,"button",10),e.bIt("click",function(){return n.onAddColumn()}),e.nI1(14,"translate"),e.j41(15,"mat-icon"),e.EFF(16,"add_circle_outline"),e.k0s()()(),e.DNE(17,_pe,5,3,"div",11),e.k0s(),e.j41(18,"div",12)(19,"button",13),e.bIt("click",function(){return n.onNoClick()}),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"button",14),e.bIt("click",function(){return n.onOkClick()}),e.EFF(23),e.nI1(24,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,9,"table.customize-title")),e.R7$(5),e.Y8G("dataSource",n.dataSource),e.R7$(2),e.Y8G("ngForOf",n.displayedColumns),e.R7$(1),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(2),e.FS9("matTooltip",e.bMT(14,11,"table.customize-column-add")),e.R7$(4),e.Y8G("ngIf",n.data.type===n.tableType.data),e.R7$(3),e.JRh(e.bMT(21,13,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(24,15,"dlg.ok")))},dependencies:[l.Sq,l.bT,zn,Or,eo,Rr,Kn,Gc,rA,tc,cs,ks,EA,te,u,oA,ye,v,P,Ne,zt,Is,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .toolbox-column[_ngcontent-%COMP%]{z-index:1000;position:absolute;right:10px;top:40px}[_nghost-%COMP%]   .toolbox-column[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .toolbox-row[_ngcontent-%COMP%]{z-index:1000;position:absolute;left:0;bottom:-50px}[_nghost-%COMP%]   .toolbox-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .data-table-header[_ngcontent-%COMP%]{min-height:0px}[_nghost-%COMP%]   .column-options[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .data-table-remove-row[_ngcontent-%COMP%]{max-width:40px;min-width:40px;width:40px;height:40px;padding-left:0;padding-right:0;margin-left:-24px}[_nghost-%COMP%]   .data-table-cell[_ngcontent-%COMP%]{white-space:nowrap;max-width:60px;overflow:hidden}[_nghost-%COMP%]   .variable-input[_ngcontent-%COMP%]{display:block;margin-top:10px}[_nghost-%COMP%]   .table-menu-item[_ngcontent-%COMP%]{font-size:14px}  .table-menu-item .mat-icon{font-size:20px}"]})}return r})();function bpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",20),e.bIt("change",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.onAlarmColumChanged(s,n.checked))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("checked",-1!==(null==i.data.columns?null:i.data.columns.indexOf(t))),e.R7$(1),e.SpI(" ",e.bMT(2,2,"alarms.view-"+t)," ")}}function wpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",20),e.bIt("change",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.onAlarmTypeChanged(s,n.checked))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("checked",-1!==i.alarmsFilter.priority.indexOf(t)),e.R7$(1),e.SpI(" ",e.bMT(2,2,"alarm.property-"+t)," ")}}function Cpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-list-item",21)(1,"mat-icon",22),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.removeFilterTag(s))}),e.EFF(2,"delete"),e.k0s(),e.j41(3,"div",23)(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",24)(7,"span"),e.EFF(8),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(5),e.JRh(i.getDeviceTagName(t)),e.R7$(3),e.JRh(i.getDeviceName(t))}}let Epe=(()=>{class r{dialog;projectService;dialogRef;data;alarmsColumns=Cw.filter(t=>t!==cD.history);historyColumns=AD.filter(t=>t!==C4.history);alarmPriorityType=[Qd.HIGH_HIGH,Qd.HIGH,Qd.LOW,Qd.INFO];tableType=It.lp;alarmsFilter={priority:[],text:"",group:"",tagIds:[]};constructor(t,i,n,a){this.dialog=t,this.projectService=i,this.dialogRef=n,this.data=a,this.alarmsFilter.priority=this.data.filter?.filterA||[],this.alarmsFilter.text=this.data.filter?.filterB[0],this.alarmsFilter.group=this.data.filter?.filterB[1],this.alarmsFilter.tagIds=this.data.filter?.filterC||[]}onAlarmColumChanged(t,i){let n=this.data.columns.indexOf(t);i?-1===n&&this.data.columns.push(t):this.data.columns.splice(n,1)}onAlarmTypeChanged(t,i){let n=this.alarmsFilter.priority.indexOf(t);i?-1===n&&this.alarmsFilter.priority.push(t):this.alarmsFilter.priority.splice(n,1)}removeFilterTag(t){const i=this.alarmsFilter.tagIds.indexOf(t);i>-1&&this.alarmsFilter.tagIds.splice(i,1)}getDeviceTagName(t){return this.projectService.getTagFromId(t)?.name}getDeviceName(t){return this.projectService.getDeviceFromTagId(t)?.name}onAddTags(){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:null,multiSelection:!0,variablesId:this.alarmsFilter.tagIds,deviceFilter:[Gi.bq.internal]}}).afterClosed().subscribe(i=>{i&&(this.alarmsFilter.tagIds=i.variablesId||[])})}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.filter={filterA:this.alarmsFilter.priority||[],filterB:[this.alarmsFilter.text,this.alarmsFilter.group],filterC:this.alarmsFilter.tagIds||[]},this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-table-alarms"]],decls:50,vars:32,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",1,"container"],[1,"my-form-field","alarm-column","mt10"],[3,"checked","change",4,"ngFor","ngForOf"],[1,"block","alarm-filter","mt20"],[1,"my-form-field","alarm-priority","block","mt10"],[1,"block","mt10"],[1,"my-form-field","inbk"],["type","text",2,"width","400px",3,"ngModel","ngModelChange"],[1,"my-form-field","inbk","ml10"],["type","text",2,"width","250px",3,"ngModel","ngModelChange"],[1,"my-form-field","alarm-tags","block","mt10"],["mat-icon-button","",1,"add-tags",3,"click"],[1,"list"],[1,"list-panel"],["class","list-item",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"checked","change"],[1,"list-item"],[1,"list-item-remove",2,"color","gray","font-size","20px",3,"click"],[1,"list-item-text","list-item-name"],[1,"list-item-text","list-item-label"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div")(8,"div",3)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,bpe,3,4,"mat-checkbox",4),e.k0s(),e.j41(13,"div",5)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",6)(18,"span"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.DNE(21,wpe,3,4,"mat-checkbox",4),e.k0s(),e.j41(22,"div",7)(23,"div",8)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",9),e.bIt("ngModelChange",function(s){return n.alarmsFilter.text=s}),e.k0s()(),e.j41(28,"div",10)(29,"span"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"input",11),e.bIt("ngModelChange",function(s){return n.alarmsFilter.group=s}),e.k0s()()(),e.j41(33,"div",12)(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"button",13),e.bIt("click",function(){return n.onAddTags()}),e.j41(38,"mat-icon"),e.EFF(39,"add_circle_outline"),e.k0s()(),e.j41(40,"mat-list",14)(41,"div",15),e.DNE(42,Cpe,9,2,"mat-list-item",16),e.k0s()()()()()(),e.j41(43,"div",17)(44,"button",18),e.bIt("click",function(){return n.onNoClick()}),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"button",19),e.bIt("click",function(){return n.onOkClick()}),e.EFF(48),e.nI1(49,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,14,"table.alarms-title")),e.R7$(8),e.JRh(e.bMT(11,16,"table.alarm-columns")),e.R7$(2),e.Y8G("ngForOf",n.data.type===n.tableType.alarms?n.alarmsColumns:n.historyColumns),e.R7$(3),e.JRh(e.bMT(16,18,"table.alarm-filter")),e.R7$(4),e.JRh(e.bMT(20,20,"table.alarm-priority")),e.R7$(2),e.Y8G("ngForOf",n.alarmPriorityType),e.R7$(4),e.JRh(e.bMT(26,22,"alarm.property-text")),e.R7$(2),e.Y8G("ngModel",n.alarmsFilter.text),e.R7$(3),e.JRh(e.bMT(31,24,"alarm.property-group")),e.R7$(2),e.Y8G("ngModel",n.alarmsFilter.group),e.R7$(3),e.JRh(e.bMT(36,26,"table.alarm-tags")),e.R7$(7),e.Y8G("ngForOf",n.alarmsFilter.tagIds),e.R7$(3),e.JRh(e.bMT(46,28,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(49,30,"dlg.ok")))},dependencies:[l.Sq,k,qe,tn,zn,xh,Or,eo,Rr,Kn,Tg,Fg,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{min-width:680px;min-height:400px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-column[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:14px;margin:7px 30px 7px 10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-priority[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:14px;margin:7px 30px 7px 10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-filter[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .add-tags[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-panel[_ngcontent-%COMP%]{height:200px;overflow-x:hidden}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:block;font-size:14px;height:26px!important;overflow:hidden;padding-left:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item-remove[_ngcontent-%COMP%]{width:20px;max-width:20px;cursor:pointer}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item-name[_ngcontent-%COMP%]{width:50%;max-width:50%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .alarm-tags[_ngcontent-%COMP%]   .list-item-label[_ngcontent-%COMP%]{width:50%;max-width:50%}"]})}return r})();function Bpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",15),e.bIt("change",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.onReportColumChanged(s,n.checked))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("checked",-1!==(null==i.data.columns?null:i.data.columns.indexOf(t))),e.R7$(1),e.SpI(" ",e.bMT(2,2,"table.report-view-"+t)," ")}}let Mpe=(()=>{class r{dialog;projectService;dialogRef;data;reportsColumns=x4;reportsFilter={name:"",count:""};constructor(t,i,n,a){this.dialog=t,this.projectService=i,this.dialogRef=n,this.data=a,this.reportsFilter.name=this.data.filter?.filterA[0],this.reportsFilter.count=this.data.filter?.filterA[1]}onReportColumChanged(t,i){let n=this.data.columns.indexOf(t);i?-1===n&&this.data.columns.push(t):this.data.columns.splice(n,1)}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.filter={filterA:[this.reportsFilter.name,this.reportsFilter.count]},this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-table-reports"]],decls:35,vars:24,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",1,"container"],[1,"block","reports-column","mt10"],[1,"my-form-field","report-column"],[3,"checked","change",4,"ngFor","ngForOf"],[1,"block","report-filter","mt20"],[1,"block","mt10"],[1,"my-form-field","inbk"],["type","text",2,"width","300px",3,"ngModel","ngModelChange"],[1,"my-form-field","inbk","ml10"],["type","number",2,"width","100px",3,"ngModel","ngModelChange"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"checked","change"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"div",4)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,Bpe,3,4,"mat-checkbox",5),e.k0s()(),e.j41(13,"div",6)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",7)(18,"div",8)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",9),e.bIt("ngModelChange",function(s){return n.reportsFilter.name=s}),e.k0s()(),e.j41(23,"div",10)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",11),e.bIt("ngModelChange",function(s){return n.reportsFilter.count=s}),e.k0s()()()()(),e.j41(28,"div",12)(29,"button",13),e.bIt("click",function(){return n.onNoClick()}),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"button",14),e.bIt("click",function(){return n.onOkClick()}),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,10,"table.reports-title")),e.R7$(8),e.JRh(e.bMT(11,12,"table.report-columns")),e.R7$(2),e.Y8G("ngForOf",n.reportsColumns),e.R7$(3),e.JRh(e.bMT(16,14,"table.report-filter")),e.R7$(5),e.JRh(e.bMT(21,16,"table.report-filter-name")),e.R7$(2),e.Y8G("ngModel",n.reportsFilter.name),e.R7$(3),e.JRh(e.bMT(26,18,"table.report-filter-count")),e.R7$(2),e.Y8G("ngModel",n.reportsFilter.count),e.R7$(3),e.JRh(e.bMT(31,20,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(34,22,"dlg.ok")))},dependencies:[l.Sq,k,Zn,qe,tn,zn,xh,Or,eo,Rr,Kn,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{min-width:680px;min-height:400px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .report-column[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:14px;margin:7px 30px 7px 10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .report-filter[_ngcontent-%COMP%]{font-size:16px}"]})}return r})();const xpe=["grptabs"];function Dpe(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Ipe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",36)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",37),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.lastRange=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.DNE(6,Dpe,2,2,"mat-option",38),e.nI1(7,"enumToArray"),e.k0s()(),e.j41(8,"div",39)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-slide-toggle",23),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.realtime=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"table.property-date-last-range")),e.R7$(2),e.Y8G("value",t.options.lastRange),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,7,t.lastRangeType)),e.R7$(4),e.JRh(e.bMT(11,9,"table.property-type-with-realtime")),e.R7$(2),e.Y8G("ngModel",t.options.realtime)}}function kpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",40),e.nrm(1,"div",12),e.j41(2,"div",22)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-slide-toggle",23),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.filter.show=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.k0s()(),e.nrm(7,"div",12),e.j41(8,"div",22)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-slide-toggle",23),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.paginator.show=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.k0s()(),e.nrm(13,"div",12),e.j41(14,"div",22)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"mat-slide-toggle",23),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.options.daterange.show=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"table.property-filter")),e.R7$(2),e.Y8G("ngModel",t.options.filter.show),e.R7$(4),e.JRh(e.bMT(11,8,"table.property-paginator")),e.R7$(2),e.Y8G("ngModel",t.options.paginator.show),e.R7$(4),e.JRh(e.bMT(17,10,"table.property-daterange")),e.R7$(2),e.Y8G("ngModel",t.options.daterange.show)}}function Tpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41)(1,"div",42)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",43),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.label=n)}),e.k0s()(),e.j41(6,"div",14)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",43),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)}),e.k0s()(),e.j41(11,"div",44)(12,"div",45)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",37),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.align=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.j41(17,"mat-option",11),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"mat-option",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"mat-option",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()(),e.nrm(26,"div",46),e.j41(27,"div",14)(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"input",47),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.width=n)})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())})("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.k0s()()()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,16,"table.property-column-name")),e.R7$(2),e.Y8G("ngModel",t.label)("disabled",!0),e.R7$(3),e.JRh(e.bMT(9,18,"table.property-column-type")),e.R7$(2),e.Y8G("ngModel",t.type)("disabled",!0),e.R7$(4),e.JRh(e.bMT(15,20,"table.property-column-align")),e.R7$(2),e.Y8G("value",t.align),e.R7$(1),e.Y8G("value",i.alignType.left),e.R7$(1),e.JRh(e.bMT(19,22,"table.cell-align-left")),e.R7$(2),e.Y8G("value",i.alignType.center),e.R7$(1),e.JRh(e.bMT(22,24,"table.cell-align-center")),e.R7$(2),e.Y8G("value",i.alignType.right),e.R7$(1),e.JRh(e.bMT(25,26,"table.cell-align-right")),e.R7$(5),e.JRh(e.bMT(30,28,"table.property-column-width")),e.R7$(2),e.Y8G("ngModel",t.width)}}function Fpe(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"shapes.event-"+t)," ")}}function Spe(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Qpe(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Rpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",64)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",65),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.value=n)})("change",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onTableChanged())}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-script-param-value")),e.R7$(2),e.Y8G("ngModel",t.value)}}function Ppe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",66)(1,"app-flex-device-tag",67),e.bIt("onchange",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onTableChanged())}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("variableId",t.value)}}function Ope(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",6)(1,"div",60)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",61),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.name=n)})("change",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onTableChanged())}),e.k0s()(),e.DNE(6,Rpe,5,4,"div",62),e.DNE(7,Ppe,2,1,"div",63),e.k0s()}if(2&r){const t=o.$implicit;e.R7$(3),e.JRh(e.bMT(4,6,"gauges.property-event-script-param-name")),e.R7$(2),e.FS9("matTooltip",t.name),e.Y8G("ngModel",t.name)("disabled",!0),e.R7$(1),e.Y8G("ngIf","value"===t.type),e.R7$(1),e.Y8G("ngIf","tagid"===t.type)}}function Lpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",57)(1,"div",58)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",37),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onScriptChanged(n.value,a))}),e.DNE(6,Qpe,2,2,"mat-option",38),e.nI1(7,"async"),e.k0s()(),e.DNE(8,Ope,8,8,"div",59),e.k0s()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"gauges.property-event-script")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,6,i.scripts$)),e.R7$(2),e.Y8G("ngForOf",t.actoptions.params)}}function Ype(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",48)(1,"div",49)(2,"div",50)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-select",37),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTableChanged())}),e.DNE(7,Fpe,3,4,"mat-option",38),e.k0s()(),e.j41(8,"div",51)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-select",52),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.action=n)})("change",function(){const a=e.eBV(t).$implicit;return e.Njj(a.actparam="")})("selectionChange",function(){const a=e.eBV(t).$implicit,s=e.XpG();return a.actparam="",e.Njj(s.onTableChanged())}),e.DNE(13,Spe,2,2,"mat-option",38),e.nI1(14,"enumToArray"),e.k0s()(),e.j41(15,"div",53)(16,"button",54),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemoveEvent(a))}),e.j41(17,"mat-icon"),e.EFF(18,"clear"),e.k0s()()()(),e.j41(19,"div",55),e.DNE(20,Lpe,9,8,"div",56),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,8,"gauges.property-event-type")),e.R7$(2),e.Y8G("value",t.type),e.R7$(1),e.Y8G("ngForOf",i.eventType),e.R7$(3),e.JRh(e.bMT(11,10,"gauges.property-event-action")),e.R7$(2),e.Y8G("value",t.action),e.R7$(1),e.Y8G("ngForOf",e.bMT(14,12,i.selectActionType)),e.R7$(6),e.Y8G("ngSwitch",t.action),e.R7$(1),e.Y8G("ngSwitchCase",i.actionRunScript)}}let Npe=(()=>{class r{dialog;projectService;translateService;data;onPropChanged=new e.bkB;set reload(t){this._reload()}grptabs;tableTypeCtrl=new _i;options=xw.DefaultOptions();tableType=It.lp;columnType=It.Jf;alignType=It.Ar;lastRangeType=It.a2;defaultColor=ii.Aq.defaultColor;destroy$=new An.B;property;eventType=[ii.Aq.getEnumKey(It.e6,It.e6.select)];selectActionType={};actionRunScript=ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript);scripts$;constructor(t,i,n){this.dialog=t,this.projectService=i,this.translateService=n,this.selectActionType[ii.Aq.getEnumKey(It.Qk,It.Qk.onRunScript)]=this.translateService.instant(It.Qk.onRunScript)}ngOnInit(){Object.keys(this.lastRangeType).forEach(t=>{this.translateService.get(this.lastRangeType[t]).subscribe(i=>{this.lastRangeType[t]=i})}),this._reload(),this.scripts$=(0,lr.of)(this.projectService.getScripts()).pipe((0,jn.Q)(this.destroy$))}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}_reload(){this.property=this.data.settings.property,this.property?(this.tableTypeCtrl.setValue(this.property.type),this.options=Object.assign(this.options,xw.DefaultOptions(),this.property.options)):this.ngOnInit()}onTableChanged(){this.property.options=JSON.parse(JSON.stringify(this.options)),this.property.type=this.tableTypeCtrl.value,this.onPropChanged.emit(this.data.settings)}onCustomize(){this.isAlarmsType()?this.customizeAlarmsTable():this.isReportsType()?this.customizeReportsTable():this.customizeTable()}customizeTable(){this.dialog.open(ype,{data:{columns:JSON.parse(JSON.stringify(this.options.columns)),rows:JSON.parse(JSON.stringify(this.options.rows)),type:this.property.type},position:{top:"60px"}}).afterClosed().subscribe(i=>{i&&(this.options.columns=i.columns,this.options.rows=i.rows,this.onTableChanged())})}customizeAlarmsTable(){this.dialog.open(Epe,{data:{columns:this.options.alarmsColumns.map(i=>i.id),filter:JSON.parse(JSON.stringify(this.options.alarmFilter)),type:this.property.type},position:{top:"60px"}}).afterClosed().subscribe(i=>{if(i){let n=[];i.columns.forEach(a=>{const s=this.options.alarmsColumns.find(d=>d.id===a);n.push(s||new It.Ve(a,It.Jf.label,this.translateService.instant("alarms.view-"+a)))}),this.options.alarmsColumns=n,this.property.type===It.lp.alarms?this.options.alarmsColumns=this.options.alarmsColumns.sort((a,s)=>Cw.indexOf(a.id)-Cw.indexOf(s.id)):this.property.type===It.lp.alarmsHistory&&(this.options.alarmsColumns=this.options.alarmsColumns.sort((a,s)=>AD.indexOf(a.id)-AD.indexOf(s.id))),this.options.alarmFilter=i.filter,this.onTableChanged()}})}customizeReportsTable(){this.dialog.open(Mpe,{data:{columns:this.options.reportsColumns.map(i=>i.id),filter:JSON.parse(JSON.stringify(this.options.reportFilter)),type:this.property.type},position:{top:"60px"}}).afterClosed().subscribe(i=>{if(i){let n=[];i.columns.forEach(a=>{const s=this.options.reportsColumns.find(d=>d.id===a);n.push(s||new It.Ve(a,It.Jf.label,this.translateService.instant("table.report-view-"+a)))}),this.options.reportsColumns=n.sort((a,s)=>x4.indexOf(a.id)-x4.indexOf(s.id)),this.options.reportFilter=i.filter,this.onTableChanged()}})}onAddEvent(){const t=new It.cH;this.addEvent(t)}addEvent(t){this.property.events||(this.property.events=[]),this.property.events.push(t)}getColumns(){return this.isAlarmsType()?this.options.alarmsColumns:this.isReportsType()?this.options.reportsColumns:this.options.columns}isAlarmsType(){return this.property.type===It.lp.alarms||this.property.type===It.lp.alarmsHistory}isReportsType(){return this.property.type===It.lp.reports}onRemoveEvent(t){this.property.events.splice(t,1),this.onTableChanged()}onScriptChanged(t,i){const n=this.projectService.getScripts();if(i&&n){let a=n.find(s=>s.id===t);i.actoptions[qo.od]=[],a&&a.parameters&&(i.actoptions[qo.od]=ii.Aq.clone(a.parameters))}this.onTableChanged()}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR),e.rXU(Vi.c$))};static \u0275cmp=e.VBU({type:r,selectors:[["app-table-property"]],viewQuery:function(i,n){if(1&i&&e.GBs(xpe,5),2&i){let a;e.mGM(a=e.lsd())&&(n.grptabs=a.first)}},inputs:{data:"data",reload:"reload"},outputs:{onPropChanged:"onPropChanged"},decls:144,vars:183,consts:[[1,"element-property"],[1,"element-property-title"],[1,"table-selection"],[2,"height","100%"],[3,"label"],[1,"element-property-header"],[1,"block","mt5"],[1,"my-form-field","section-item","section-item-block"],["type","text",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","table-type","mt5"],[3,"formControl","selectionChange"],[3,"value"],[1,"section-inline-margin2"],[4,"ngIf"],[1,"my-form-field","section-inline-number"],["numberOnly","","type","number","min","0","max","100",3,"ngModel","ngModelChange","change","keyup.enter"],["numberOnly","","type","number","min","8","max","30",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-inline-color","color-field","ml5"],[1,"input-color",2,"width","88px",3,"colorPicker","cpAlphaChannel","cpPresetColors","cpOKButton","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButtonText","cpOKButtonClass","cpPosition","colorPickerChange"],[1,"my-form-field","section-inline-color","color-field","ml15"],[1,"my-form-field","section-inline-color","color-field"],[1,"section-inline-margin"],[1,"my-form-field","section-inline-toggle","slider-field"],["color","primary",3,"ngModel","ngModelChange","change"],["style","display: inline-block;",4,"ngIf"],[1,"section-newline"],[2,"position","relative"],[1,"tab-columns-rows"],["grptabs",""],["class","cell-item column-item",4,"ngFor","ngForOf"],[1,"toolbox"],["mat-icon-button","",3,"matTooltip","click"],[1,"events-toolbox"],["mat-icon-button","",3,"click"],[1,"events-section"],["class","event-item",4,"ngFor","ngForOf"],[1,"my-form-field","inbk","data-range"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","inbk","tac","data-realtime"],[2,"display","inline-block"],[1,"cell-item","column-item"],[1,"my-form-field","section-inline"],["type","text",3,"ngModel","disabled","ngModelChange"],[1,"section-item-newline"],[1,"my-form-field","section-inline-type"],[1,"section-inline-margin",2,"margin-right","3px"],["numberOnly","","type","number","min","40",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"event-item"],[1,"block"],[1,"my-form-field","inbk","mr10","event-type"],[1,"my-form-field","inbk","ml10","event-action"],[3,"value","valueChange","change","selectionChange"],[1,"item-remove","inbk","event-remove"],["mat-icon-button","",1,"remove",3,"click"],[1,"mt5","event-action-ext",3,"ngSwitch"],["class","block event-script",4,"ngSwitchCase"],[1,"block","event-script"],[1,"my-form-field","inbk","script-selection"],["class","block mt5",4,"ngFor","ngForOf"],[1,"my-form-field","inbk","event-script-param"],["type","text","readonly","",3,"ngModel","matTooltip","disabled","ngModelChange","change"],["class","my-form-field inbk event-script-value",4,"ngIf"],["class","my-form-field inbk event-script-tag",4,"ngIf"],[1,"my-form-field","inbk","event-script-value"],["type","text",3,"ngModel","ngModelChange","change"],[1,"my-form-field","inbk","event-script-tag"],[1,"block","mt5","item-device-tag",3,"variableId","onchange"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"mat-tab-group",3)(6,"mat-tab",4),e.nI1(7,"translate"),e.j41(8,"div",5)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",6)(13,"div",7)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",8),e.bIt("ngModelChange",function(s){return n.data.settings.name=s})("change",function(){return n.onTableChanged()})("keyup.enter",function(){return n.onTableChanged()}),e.k0s()(),e.j41(18,"div",9)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",10),e.bIt("selectionChange",function(){return n.onTableChanged()}),e.j41(23,"mat-option",11),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"mat-option",11),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"mat-option",11),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"mat-option",11),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.nrm(35,"div",12),e.DNE(36,Ipe,13,11,"ng-container",13),e.k0s(),e.j41(37,"div",5)(38,"span"),e.EFF(39),e.nI1(40,"translate"),e.k0s()(),e.j41(41,"div",6)(42,"div",14)(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"input",15),e.bIt("ngModelChange",function(s){return n.options.header.height=s})("change",function(){return n.onTableChanged()})("keyup.enter",function(){return n.onTableChanged()}),e.k0s()(),e.j41(47,"div",14)(48,"span"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"input",16),e.bIt("ngModelChange",function(s){return n.options.header.fontSize=s})("change",function(){return n.onTableChanged()})("keyup.enter",function(){return n.onTableChanged()}),e.k0s()(),e.j41(52,"div",17)(53,"span"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"input",18),e.bIt("colorPickerChange",function(s){return n.options.header.background=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()(),e.j41(57,"div",19)(58,"span"),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"input",18),e.bIt("colorPickerChange",function(s){return n.options.header.color=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()()(),e.j41(62,"div",5)(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.j41(66,"div",6)(67,"div",14)(68,"span"),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"input",15),e.bIt("ngModelChange",function(s){return n.options.row.height=s})("change",function(){return n.onTableChanged()})("keyup.enter",function(){return n.onTableChanged()}),e.k0s()(),e.j41(72,"div",14)(73,"span"),e.EFF(74),e.nI1(75,"translate"),e.k0s(),e.j41(76,"input",16),e.bIt("ngModelChange",function(s){return n.options.row.fontSize=s})("change",function(){return n.onTableChanged()})("keyup.enter",function(){return n.onTableChanged()}),e.k0s()(),e.j41(77,"div",17)(78,"span"),e.EFF(79),e.nI1(80,"translate"),e.k0s(),e.j41(81,"input",18),e.bIt("colorPickerChange",function(s){return n.options.row.background=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()(),e.j41(82,"div",19)(83,"span"),e.EFF(84),e.nI1(85,"translate"),e.k0s(),e.j41(86,"input",18),e.bIt("colorPickerChange",function(s){return n.options.row.color=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()(),e.j41(87,"div",19)(88,"span"),e.EFF(89),e.nI1(90,"translate"),e.k0s(),e.j41(91,"input",18),e.bIt("colorPickerChange",function(s){return n.options.gridColor=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()()(),e.j41(92,"div",5)(93,"span"),e.EFF(94),e.nI1(95,"translate"),e.k0s()(),e.j41(96,"div",6)(97,"div",20)(98,"span"),e.EFF(99),e.nI1(100,"translate"),e.k0s(),e.j41(101,"input",18),e.bIt("colorPickerChange",function(s){return n.options.selection.background=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()(),e.j41(102,"div",19)(103,"span"),e.EFF(104),e.nI1(105,"translate"),e.k0s(),e.j41(106,"input",18),e.bIt("colorPickerChange",function(s){return n.options.selection.color=s})("colorPickerChange",function(){return n.onTableChanged()}),e.k0s()()(),e.j41(107,"div",5)(108,"span"),e.EFF(109),e.nI1(110,"translate"),e.k0s()(),e.j41(111,"div",6),e.nrm(112,"div",21),e.j41(113,"div",22)(114,"span"),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"mat-slide-toggle",23),e.bIt("ngModelChange",function(s){return n.options.header.show=s})("change",function(){return n.onTableChanged()}),e.k0s()(),e.DNE(118,kpe,19,12,"div",24),e.k0s(),e.j41(119,"div",25),e.EFF(120,"\xa0"),e.k0s(),e.j41(121,"div",26)(122,"mat-tab-group",27,28)(124,"mat-tab",4),e.nI1(125,"translate"),e.j41(126,"div",25),e.EFF(127,"\xa0"),e.k0s(),e.DNE(128,Tpe,32,30,"div",29),e.k0s()(),e.j41(129,"div",30)(130,"button",31),e.bIt("click",function(){return n.onCustomize()}),e.nI1(131,"translate"),e.j41(132,"mat-icon"),e.EFF(133,"edit"),e.k0s()()()()(),e.j41(134,"mat-tab",4),e.nI1(135,"translate"),e.j41(136,"div",25),e.EFF(137,"\xa0"),e.k0s(),e.j41(138,"div",32)(139,"button",33),e.bIt("click",function(){return n.onAddEvent()}),e.j41(140,"mat-icon"),e.EFF(141,"add_circle_outline"),e.k0s()()(),e.j41(142,"div",34),e.DNE(143,Ype,21,14,"div",35),e.k0s()()()()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,127,"table.property-title")," "),e.R7$(4),e.FS9("label",e.bMT(7,129,"editor.settings-general")),e.R7$(4),e.JRh(e.bMT(11,131,"table.property-data")),e.R7$(5),e.JRh(e.bMT(16,133,"table.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(21,135,"table.property-type")),e.R7$(2),e.Y8G("formControl",n.tableTypeCtrl),e.R7$(1),e.Y8G("value",n.tableType.data),e.R7$(1),e.JRh(e.bMT(25,137,"table.property-type-data")),e.R7$(2),e.Y8G("value",n.tableType.history),e.R7$(1),e.JRh(e.bMT(28,139,"table.property-type-history")),e.R7$(2),e.Y8G("value",n.tableType.alarms),e.R7$(1),e.JRh(e.bMT(31,141,"table.property-type-alarms")),e.R7$(2),e.Y8G("value",n.tableType.reports),e.R7$(1),e.JRh(e.bMT(34,143,"table.property-type-reports")),e.R7$(3),e.Y8G("ngIf",n.tableTypeCtrl.value===n.tableType.history),e.R7$(3),e.JRh(e.bMT(40,145,"table.property-header")),e.R7$(5),e.JRh(e.bMT(45,147,"table.property-header-height")),e.R7$(2),e.Y8G("ngModel",n.options.header.height),e.R7$(3),e.JRh(e.bMT(50,149,"table.property-header-fontSize")),e.R7$(2),e.Y8G("ngModel",n.options.header.fontSize),e.R7$(3),e.JRh(e.bMT(55,151,"table.property-header-background")),e.R7$(2),e.xc7("background",n.options.header.background),e.Y8G("colorPicker",n.options.header.background)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(60,153,"table.property-header-color")),e.R7$(2),e.xc7("background",n.options.header.color),e.Y8G("colorPicker",n.options.header.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(65,155,"table.property-row")),e.R7$(5),e.JRh(e.bMT(70,157,"table.property-row-height")),e.R7$(2),e.Y8G("ngModel",n.options.row.height),e.R7$(3),e.JRh(e.bMT(75,159,"table.property-row-fontSize")),e.R7$(2),e.Y8G("ngModel",n.options.row.fontSize),e.R7$(3),e.JRh(e.bMT(80,161,"table.property-row-background")),e.R7$(2),e.xc7("background",n.options.row.background),e.Y8G("colorPicker",n.options.row.background)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(85,163,"table.property-row-color")),e.R7$(2),e.xc7("background",n.options.row.color),e.Y8G("colorPicker",n.options.row.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(90,165,"table.property-grid-color")),e.R7$(2),e.xc7("background",n.options.gridColor),e.Y8G("colorPicker",n.options.gridColor)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(95,167,"table.property-selection")),e.R7$(5),e.JRh(e.bMT(100,169,"table.property-row-background")),e.R7$(2),e.xc7("background",n.options.selection.background),e.Y8G("colorPicker",n.options.selection.background)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(105,171,"table.property-row-color")),e.R7$(2),e.xc7("background",n.options.selection.color),e.Y8G("colorPicker",n.options.selection.color)("cpAlphaChannel","always")("cpPresetColors",n.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass")("cpPosition","auto"),e.R7$(3),e.JRh(e.bMT(110,173,"table.property-layout")),e.R7$(6),e.JRh(e.bMT(116,175,"table.property-header")),e.R7$(2),e.Y8G("ngModel",n.options.header.show),e.R7$(1),e.Y8G("ngIf",n.tableTypeCtrl.value===n.tableType.history||n.tableTypeCtrl.value===n.tableType.alarmsHistory),e.R7$(6),e.FS9("label",e.bMT(125,177,"table.property-cols")),e.R7$(4),e.Y8G("ngForOf",n.getColumns()),e.R7$(2),e.FS9("matTooltip",e.bMT(131,179,"table.property-customize-tooltip")),e.R7$(4),e.FS9("label",e.bMT(135,181,"editor.settings-events")),e.R7$(9),e.Y8G("ngForOf",null==n.property?null:n.property.events))},dependencies:[l.Sq,l.bT,l.ux,l.e1,k,Zn,qe,qn,Er,tn,ca,Ur,zn,Kn,yo,wc,eu,Td,Is,XA,mD,Hs,l.Jj,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .table-selection[_ngcontent-%COMP%]{position:absolute;top:35px;bottom:0;overflow:auto;width:calc(100% - 10px);padding-top:5px}[_nghost-%COMP%]   .table-selection[_ngcontent-%COMP%]   .table-type[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .table-selection[_ngcontent-%COMP%]   .data-range[_ngcontent-%COMP%]{width:100px}[_nghost-%COMP%]   .table-selection[_ngcontent-%COMP%]   .data-realtime[_ngcontent-%COMP%]{width:100px}[_nghost-%COMP%]   .section-item[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-item-newline[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]   .section-newline[_ngcontent-%COMP%]{height:8px;display:block}[_nghost-%COMP%]   .section-item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .section-inline-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:140px}[_nghost-%COMP%]   .section-inline-number[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100px}[_nghost-%COMP%]   .section-inline-type[_ngcontent-%COMP%]{width:160px}[_nghost-%COMP%]   .section-inline-toggle[_ngcontent-%COMP%]{display:inline-block;width:60px;text-align:center}[_nghost-%COMP%]   .section-inline-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:inherit}[_nghost-%COMP%]   .section-inline-toggle-ext[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:85px;text-align:left}[_nghost-%COMP%]   .section-inline-toggle-ext[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]{display:inline-block;width:60px}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px!important;text-align:center}[_nghost-%COMP%]   .section-inline-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:65px}[_nghost-%COMP%]   .section-inline-margin[_ngcontent-%COMP%]{display:inline-block;width:12px}[_nghost-%COMP%]   .section-inline-margin2[_ngcontent-%COMP%]{display:inline-block;width:16px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]{z-index:1000;position:absolute;right:10px;top:-8px;line-height:44px}[_nghost-%COMP%]   .toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]     .mat-tab-label{height:34px!important;min-width:110px!important;width:110px!important}[_nghost-%COMP%]   .tab-columns-rows[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .cell-item[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;border-bottom:1px solid var(--toolboxBorder)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]{display:contents}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-item[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-action[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-remove[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-action-ext[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]{padding-left:10px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .script-selection[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .event-script-param[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .event-script-value[_ngcontent-%COMP%]{width:calc(100% - 120px)}[_nghost-%COMP%]   .events-section[_ngcontent-%COMP%]   .event-script[_ngcontent-%COMP%]   .event-script-tag[_ngcontent-%COMP%]{width:calc(100% - 125px)}[_nghost-%COMP%]   .events-toolbox[_ngcontent-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .events-toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return r})();const jpe=["menuTriggerButton"],Gpe=["menuTriggerEl"];function Upe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onSelect(a.path))}),e.nrm(1,"img",7),e.j41(2,"mat-icon",8),e.EFF(3," more_vert "),e.k0s(),e.j41(4,"mat-menu",9,10)(6,"button",11),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onRemoveWidget(a))}),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.sdS(5),n=e.XpG(3);e.AVh("selected",n.selectedWidgetPath===t.path),e.FS9("matTooltip",t.name),e.R7$(1),e.FCK("src","",n.rootPath,"/",t.path,"",e.B4B),e.FS9("id",t.path),e.R7$(1),e.Y8G("matMenuTriggerFor",i),e.R7$(5),e.JRh(e.bMT(8,8,"widget.remove"))}}function zpe(r,o){if(1&r&&e.DNE(0,Upe,9,10,"div",5),2&r){const t=e.XpG().$implicit;e.Y8G("ngForOf",t.items)}}function Hpe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-expansion-panel",2),e.bIt("opened",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.expandedGroups[a.name]=!0)})("closed",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.expandedGroups[a.name]=!1)}),e.j41(1,"mat-expansion-panel-header",3)(2,"mat-panel-title"),e.EFF(3),e.k0s(),e.nrm(4,"mat-panel-description"),e.k0s(),e.DNE(5,zpe,1,1,"ng-template",4),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("expanded",i.expandedGroups[t.name]),e.R7$(3),e.SpI(" ",t.name," ")}}let Vpe=(()=>{class r{libWidgetService;toastNotifier;rcgiService;resourceWidgets$;selectedWidgetPath;destroy$=new An.B;rootPath="";contextMenuWidget=null;expandedGroups={};menuTrigger;triggerButtonRef;constructor(t,i,n){this.libWidgetService=t,this.toastNotifier=i,this.rcgiService=n,this.rootPath=this.rcgiService.rcgi.endPointConfig}ngOnInit(){this.resourceWidgets$=this.libWidgetService.resourceWidgets$,this.libWidgetService.clearSelection$.pipe((0,jn.Q)(this.destroy$)).subscribe(()=>{this.clearSelection()})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onSelect(t){this.selectedWidgetPath=t,this.libWidgetService.widgetSelected(`${this.rootPath}/${t}`)}clearSelection(){this.selectedWidgetPath=null}onRemoveWidget(t){this.libWidgetService.removeWidget(t).subscribe(()=>{this.libWidgetService.refreshResources()},i=>{console.error("Remove failed:",i),this.toastNotifier.notifyError("msg.file-download-failed",i.message||i)})}static \u0275fac=function(i){return new(i||r)(e.rXU(cj),e.rXU(gD.L),e.rXU(p_))};static \u0275cmp=e.VBU({type:r,selectors:[["app-lib-widgets"]],viewQuery:function(i,n){if(1&i&&(e.GBs(jpe,5),e.GBs(Gpe,5,e.aKT)),2&i){let a;e.mGM(a=e.lsd())&&(n.menuTrigger=a.first),e.mGM(a=e.lsd())&&(n.triggerButtonRef=a.first)}},decls:3,vars:3,consts:[["multi","true"],["class","resource-widgets-panel","togglePosition","before",3,"expanded","opened","closed",4,"ngFor","ngForOf"],["togglePosition","before",1,"resource-widgets-panel",3,"expanded","opened","closed"],[1,"resource-widgets-header"],["matExpansionPanelContent",""],["class","lib-widget-item",3,"selected","matTooltip","click",4,"ngFor","ngForOf"],[1,"lib-widget-item",3,"matTooltip","click"],[3,"src","id"],["aria-label","More",3,"matMenuTriggerFor"],[1,"item-menu"],["menuview","matMenu"],["mat-menu-item","",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-accordion",0),e.DNE(1,Hpe,6,2,"mat-expansion-panel",1),e.nI1(2,"async"),e.k0s()),2&i&&(e.R7$(1),e.Y8G("ngForOf",e.bMT(2,1,n.resourceWidgets$)))},dependencies:[l.Sq,Dg,up,$d,xg,Qv,Sv,Kn,Gc,rA,tc,Is,l.Jj,Vi.D9],styles:["[_nghost-%COMP%]   .resource-widgets-panel[_ngcontent-%COMP%]{background-color:var(--toolboxBackground);color:var(--toolboxColor);font-size:11px;margin:unset}[_nghost-%COMP%]   .resource-widgets-header[_ngcontent-%COMP%]{max-height:23px;text-align:center;vertical-align:middle;padding-left:8px;padding-right:8px;border-top:1px solid var(--toolboxBorder);box-shadow:0 1px 3px #000;font-size:11px}[_nghost-%COMP%]   .resource-widgets-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:contents}[_nghost-%COMP%]   .resource-images-header[_ngcontent-%COMP%]:enabled   .resource-images-header[_ngcontent-%COMP%]::selection{color:#fff}[_nghost-%COMP%]   .lib-widget-item[_ngcontent-%COMP%]{display:inline-block;padding:3px;margin:2px;position:relative}[_nghost-%COMP%]   .lib-widget-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85px;height:85px;min-width:50px;cursor:pointer}[_nghost-%COMP%]   .lib-widget-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;font-size:16px;cursor:pointer;height:unset;width:unset}[_nghost-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#bdbdbd}[_nghost-%COMP%]   .lib-widget-item[_ngcontent-%COMP%]:hover{background-color:#b6b6b64d}"]})}return r})();function Jpe(r,o){if(1&r&&(e.j41(0,"mat-option",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"panel.property-scalemode-"+t.value)," ")}}let Wpe=(()=>{class r{data;onPropChanged=new e.bkB;set reload(t){this._reload()}property;scaleMode=It.lG;constructor(){}ngOnInit(){this._reload()}onPropertyChanged(){this.onPropChanged.emit(this.data.settings)}onTagChanged(t){this.data.settings.property.variableId=t.variableId,this.onPropertyChanged()}_reload(){this.data.settings.property||(this.data.settings.property={viewName:null,variableId:null,scaleMode:null}),this.property=this.data.settings.property}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-panel-property"]],inputs:{data:"data",reload:"reload"},outputs:{onPropChanged:"onPropChanged"},decls:29,vars:22,consts:[[1,"element-property"],[1,"element-property-title"],[1,"panel-selection"],[1,"element-property-header"],[1,"my-form-field","section-item","section-item-block"],["type","text",3,"ngModel","ngModelChange","change","keyup.enter"],[1,"my-form-field","section-item","section-item-block","mt5"],[1,"block","mt5","item-device-tag",3,"variableId","onchange"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"section-newline"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div")(10,"div",4)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",5),e.bIt("ngModelChange",function(s){return n.data.settings.name=s})("change",function(){return n.onPropertyChanged()})("keyup.enter",function(){return n.onPropertyChanged()}),e.k0s()(),e.j41(15,"div",6)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"input",5),e.bIt("ngModelChange",function(s){return n.property.viewName=s})("change",function(){return n.onPropertyChanged()})("keyup.enter",function(){return n.onPropertyChanged()}),e.k0s()(),e.j41(20,"app-flex-device-tag",7),e.bIt("onchange",function(s){return n.onTagChanged(s)}),e.k0s(),e.j41(21,"div",6)(22,"span"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"mat-select",8),e.bIt("valueChange",function(s){return n.property.scaleMode=s})("selectionChange",function(){return n.onPropertyChanged()}),e.DNE(26,Jpe,3,4,"mat-option",9),e.nI1(27,"enumToArray"),e.k0s()(),e.nrm(28,"div",10),e.k0s()()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,10,"editor.controls-panel-settings")," "),e.R7$(5),e.JRh(e.bMT(8,12,"panel.property-data")),e.R7$(5),e.JRh(e.bMT(13,14,"panel.property-name")),e.R7$(2),e.Y8G("ngModel",n.data.settings.name),e.R7$(3),e.JRh(e.bMT(18,16,"panel.property-view-name")),e.R7$(2),e.Y8G("ngModel",n.property.viewName),e.R7$(1),e.Y8G("variableId",n.property.variableId),e.R7$(3),e.JRh(e.bMT(24,18,"panel.property-scalemode")),e.R7$(2),e.Y8G("value",n.property.scaleMode),e.R7$(1),e.Y8G("ngForOf",e.bMT(27,20,n.scaleMode)))},dependencies:[l.Sq,k,qe,tn,Ur,yo,mD,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .panel-selection[_ngcontent-%COMP%]{position:absolute;top:35px;bottom:0;overflow:auto;width:calc(100% - 10px)}[_nghost-%COMP%]   .section-item[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-select[_ngcontent-%COMP%]{width:calc(100% - 15px)}[_nghost-%COMP%]   .item-device-tag[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})(),Kpe=(()=>{class r{el;oldY=0;isGrabbing=!1;resizeZoneHeight=6;height;heightChange=new e.bkB;changeEnd=new e.bkB;constructor(t){this.el=t}onMouseMove(t){if(this.isGrabbing);else{const i=this.el.nativeElement.getBoundingClientRect();this.el.nativeElement.style.cursor=t.clientY-i.top>=i.height-this.resizeZoneHeight?"ns-resize":"default"}}onMouseDown(t){const i=this.el.nativeElement.getBoundingClientRect();t.clientY-i.top>=i.height-this.resizeZoneHeight&&(this.isGrabbing=!0,this.oldY=t.clientY,window.addEventListener("mousemove",this.resizeHandler),window.addEventListener("mouseup",this.releaseHandler),t.preventDefault())}resizeHandler=t=>{this.isGrabbing&&(this.height+=t.clientY-this.oldY,this.height=Math.max(50,this.height),this.heightChange.emit(this.height),this.oldY=t.clientY)};releaseHandler=()=>{this.isGrabbing&&(this.isGrabbing=!1,this.changeEnd.emit(),window.removeEventListener("mousemove",this.resizeHandler),window.removeEventListener("mouseup",this.releaseHandler))};ngOnDestroy(){window.removeEventListener("mousemove",this.resizeHandler),window.removeEventListener("mouseup",this.releaseHandler)}static \u0275fac=function(i){return new(i||r)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:r,selectors:[["","appResize",""]],hostBindings:function(i,n){1&i&&e.bIt("mousemove",function(s){return n.onMouseMove(s)})("mousedown",function(s){return n.onMouseDown(s)})},inputs:{height:"height"},outputs:{heightChange:"heightChange",changeEnd:"changeEnd"}})}return r})();function Xpe(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"br"),e.k0s())}function Zpe(r,o){1&r&&(e.j41(0,"mat-icon",12),e.nI1(1,"translate"),e.EFF(2," wysiwyg "),e.k0s()),2&r&&e.FS9("matTooltip",e.bMT(1,1,"editor.view-svg"))}function $pe(r,o){1&r&&(e.j41(0,"mat-icon",13),e.nI1(1,"translate"),e.EFF(2," grid_view "),e.k0s()),2&r&&e.FS9("matTooltip",e.bMT(1,1,"editor.view-cards"))}function qpe(r,o){1&r&&(e.j41(0,"mat-icon",14),e.nI1(1,"translate"),e.EFF(2," map "),e.k0s()),2&r&&e.FS9("matTooltip",e.bMT(1,1,"editor.view-maps"))}function efe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onCloneView(n))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"editor.view-clone")))}function tfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onExportView(n))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"editor.view-export")))}const ife=function(r){return{"leftbar-item-active":r}};function nfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onSelectView(a,!1))}),e.DNE(1,Zpe,3,3,"mat-icon",3),e.DNE(2,$pe,3,3,"mat-icon",4),e.DNE(3,qpe,3,3,"mat-icon",5),e.j41(4,"span",6),e.EFF(5),e.k0s(),e.j41(6,"mat-icon",7),e.EFF(7," more_vert "),e.k0s(),e.j41(8,"mat-menu",8,9)(10,"button",10),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onDeleteView(a))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",10),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onRenameView(a))}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",10),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onPropertyView(a))}),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.DNE(19,efe,3,3,"button",11),e.DNE(20,tfe,3,3,"button",11),e.k0s()()}if(2&r){const t=o.$implicit,i=e.sdS(9),n=e.XpG();e.Y8G("ngClass",e.eq3(18,ife,n.isViewActive(t))),e.R7$(1),e.Y8G("ngIf",!t.type||t.type===n.svgViewType),e.R7$(1),e.Y8G("ngIf",t.type===n.cardViewType),e.R7$(1),e.Y8G("ngIf",t.type===n.mapsViewType),e.R7$(1),e.FS9("matTooltip",t.name),e.R7$(1),e.SpI(" ",t.name," "),e.R7$(1),e.Y8G("matMenuTriggerFor",i),e.R7$(5),e.JRh(e.bMT(12,12,"editor.view-delete")),e.R7$(3),e.JRh(e.bMT(15,14,"editor.view-rename")),e.R7$(3),e.JRh(e.bMT(18,16,"editor.view-property")),e.R7$(2),e.Y8G("ngIf",t.type!==n.cardViewType&&t.type!==n.mapsViewType),e.R7$(1),e.Y8G("ngIf",t.type!==n.cardViewType&&t.type!==n.mapsViewType)}}let rfe=(()=>{class r{projectService;translateService;dialog;views=[];set select(t){this.currentView=t}selected=new e.bkB;viewPropertyChanged=new e.bkB;cloneView=new e.bkB;currentView=null;cardViewType=It.qi.cards;svgViewType=It.qi.svg;mapsViewType=It.qi.maps;constructor(t,i,n){this.projectService=t,this.translateService=i,this.dialog=n}onSelectView(t,i=!0){!i&&this.currentView?.id===t?.id||(this.currentView=t,this.selected.emit(this.currentView))}getViewsSorted(){return this.views.sort((t,i)=>t.name>i.name?1:-1)}isViewActive(t){return this.currentView&&this.currentView.name===t.name}onDeleteView(t){let i="";this.translateService.get("msg.view-remove",{value:t.name}).subscribe(a=>{i=a}),this.dialog.open(th,{position:{top:"60px"},data:{msg:this.translateService.instant("msg.view-remove",{value:t.name})}}).afterClosed().subscribe(a=>{if(a&&this.views){let d=null;for(var s=0;s<this.views.length;s++)if(this.views[s].id===t.id){this.views.splice(s,1),s>0&&s<this.views.length&&(d=this.views[s]);break}this.currentView=null,d?this.onSelectView(d):this.views.length>0&&this.onSelectView(this.views[0]),this.projectService.removeView(t)}})}onRenameView(t){let i=this.views.filter(a=>a.id!==t.id).map(a=>a.name);this.dialog.open(C_,{disableClose:!0,position:{top:"60px"},data:{title:this.translateService.instant("dlg.docname-title"),name:t.name,exist:i}}).afterClosed().subscribe(a=>{a&&a.name&&(t.name=a.name,this.projectService.setView(t,!1))})}onPropertyView(t){this.dialog.open(lj,{position:{top:"60px"},disableClose:!0,data:{name:t.name,type:t.type||It.qi.svg,profile:t.profile,property:t.property}}).afterClosed().subscribe(n=>{n?.profile&&(n.profile.height&&(t.profile.height=parseInt(n.profile.height)),n.profile.width&&(t.profile.width=parseInt(n.profile.width)),n.profile.margin>=0&&(t.profile.margin=parseInt(n.profile.margin)),t.profile.bkcolor=n.profile.bkcolor,n.property?.events&&(t.property??={events:[],actions:[]},t.property.events=n.property.events),this.viewPropertyChanged.emit(t),this.onSelectView(t))})}onCloneView(t){this.cloneView.emit(t)}onExportView(t){let i=`${t.name}.json`,n=JSON.stringify(t),a=new Blob([n],{type:"text/plain;charset=utf-8"});lD.saveAs(a,i)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(Vi.c$),e.rXU(Qo))};static \u0275cmp=e.VBU({type:r,selectors:[["app-editor-views-list"]],inputs:{views:"views",select:"select"},outputs:{selected:"selected",viewPropertyChanged:"viewPropertyChanged",cloneView:"cloneView"},decls:2,vars:2,consts:[[4,"ngIf"],["class","leftbar-item pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"leftbar-item","pointer",3,"ngClass","click"],["class","leftbar-item-type item-icon-view",3,"matTooltip",4,"ngIf"],["class","leftbar-item-type item-icon-cards",3,"matTooltip",4,"ngIf"],["class","leftbar-item-type item-icon-maps",3,"matTooltip",4,"ngIf"],[1,"view-item-text",3,"matTooltip"],["aria-label","More",3,"matMenuTriggerFor"],[1,"leftbar-item-menu"],["menuview","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"leftbar-item-type","item-icon-view",3,"matTooltip"],[1,"leftbar-item-type","item-icon-cards",3,"matTooltip"],[1,"leftbar-item-type","item-icon-maps",3,"matTooltip"]],template:function(i,n){1&i&&(e.DNE(0,Xpe,2,0,"div",0),e.DNE(1,nfe,21,20,"div",1)),2&i&&(e.Y8G("ngIf",n.views&&n.views.length<=0),e.R7$(1),e.Y8G("ngForOf",n.getViewsSorted()))},dependencies:[l.YU,l.Sq,l.bT,Kn,Gc,rA,tc,Is,Vi.D9],styles:["[_nghost-%COMP%]   .leftbar-item[_ngcontent-%COMP%]{padding:3px 0 1px;display:flow-root}[_nghost-%COMP%]   .leftbar-item-active[_ngcontent-%COMP%]{background-color:var(--toolboxItemActiveBackgroung);color:var(--toolboxItemActiveColor)}[_nghost-%COMP%]   .leftbar-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]   .leftbar-item[_ngcontent-%COMP%]   .leftbar-item-type[_ngcontent-%COMP%]{float:left;padding-left:4px;font-size:16px;line-height:20px}[_nghost-%COMP%]   .leftbar-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{float:right;font-size:18px}[_nghost-%COMP%]   .view-item-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 54px)}[_nghost-%COMP%]   .item-icon-view[_ngcontent-%COMP%]{color:#7cacf8}[_nghost-%COMP%]   .item-icon-cards[_ngcontent-%COMP%]{color:#f8a57c}[_nghost-%COMP%]   .item-icon-maps[_ngcontent-%COMP%]{color:#37be5f}"]})}return r})();const ofe=["gaugepanel"],afe=["viewFileImportInput"],sfe=["cardsview"],lfe=["sidePanel"],cfe=["svgSelectorPanel"],Afe=["svgpreview"],dfe=["mapsView"];function ufe(r,o){1&r&&(e.j41(0,"div",348),e.nrm(1,"mat-progress-bar",349),e.k0s())}function hfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-chart-property",350),e.bIt("onPropChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeDialogChanged(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.gaugeDialog.data)("reload",t.reloadGaugeDialog)}}function pfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-graph-property",350),e.bIt("onPropChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeDialogChanged(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.gaugeDialog.data)("reload",t.reloadGaugeDialog)}}function ffe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-iframe-property",350),e.bIt("onPropChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeDialogChanged(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.gaugeDialog.data)("reload",t.reloadGaugeDialog)}}function gfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-table-property",350),e.bIt("onPropChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeDialogChanged(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.gaugeDialog.data)("reload",t.reloadGaugeDialog)}}function mfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-panel-property",350),e.bIt("onPropChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeDialogChanged(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.gaugeDialog.data)("reload",t.reloadGaugeDialog)}}function vfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-pipe-property",350),e.bIt("onPropChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeDialogChanged(n))}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("data",t.gaugeDialog.data)("reload",t.reloadGaugeDialog)}}function _fe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function yfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function bfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-icon",352),e.bIt("click",function(n){return e.eBV(t),e.XpG().onAddDoc(),e.Njj(n.stopPropagation())}),e.nI1(1,"translate"),e.EFF(2,"add "),e.k0s()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"editor.view-add"))}function wfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-icon",353),e.bIt("click",function(n){return e.eBV(t),e.XpG().onImportView(),e.Njj(n.stopPropagation())}),e.nI1(1,"translate"),e.EFF(2,"system_update_alt"),e.k0s()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"editor.view-import"))}function Cfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Efe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Bfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Mfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function xfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Dfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}const cl=function(r){return{"svg-tool-active":r}};function Ife(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",393),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.setMode(a.name))}),e.nrm(1,"span",394),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG(3);e.Y8G("ngClass",e.eq3(3,cl,i.isModeActive(t.name))),e.R7$(1),e.xc7("background-image","url("+t.ico+")")}}function kfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-expansion-panel",14),e.bIt("opened",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return s.panelsState[a.name]=!0,e.Njj(s.savePanelState())})("closed",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return s.panelsState[a.name]=!1,e.Njj(s.savePanelState())}),e.j41(1,"mat-expansion-panel-header",15)(2,"mat-panel-title"),e.DNE(3,xfe,2,0,"mat-icon",16),e.DNE(4,Dfe,2,0,"mat-icon",16),e.j41(5,"span"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",354),e.DNE(9,Ife,2,5,"div",392),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.Y8G("expanded",i.panelsState[t.name]),e.R7$(3),e.Y8G("ngIf",i.panelsState[t.name]),e.R7$(1),e.Y8G("ngIf",!i.panelsState[t.name]),e.R7$(2),e.JRh(e.bMT(7,5,t.name)),e.R7$(3),e.Y8G("ngForOf",t.shapes)}}function Tfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Ffe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Sfe(r,o){1&r&&e.nrm(0,"app-lib-widgets")}function Qfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"mat-expansion-panel",14),e.bIt("opened",function(){e.eBV(t);const n=e.XpG();return n.panelsState.panelGeneral=!0,e.Njj(n.savePanelState())})("closed",function(){e.eBV(t);const n=e.XpG();return n.panelsState.panelGeneral=!1,e.Njj(n.savePanelState())}),e.j41(2,"mat-expansion-panel-header",15)(3,"mat-panel-title"),e.DNE(4,Cfe,2,0,"mat-icon",16),e.DNE(5,Efe,2,0,"mat-icon",16),e.j41(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.j41(9,"div",354)(10,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("select"))}),e.nI1(11,"translate"),e.nrm(12,"span",356),e.k0s(),e.j41(13,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("fhpath"))}),e.nI1(14,"translate"),e.nrm(15,"span",357),e.k0s(),e.j41(16,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("line"))}),e.nI1(17,"translate"),e.nrm(18,"span",358),e.k0s(),e.j41(19,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("rect"))}),e.nI1(20,"translate"),e.nrm(21,"span",359),e.k0s(),e.j41(22,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("circle"))}),e.nI1(23,"translate"),e.nrm(24,"span",360),e.k0s(),e.j41(25,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("ellipse"))}),e.nI1(26,"translate"),e.nrm(27,"span",361),e.k0s(),e.j41(28,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("path"))}),e.nI1(29,"translate"),e.nrm(30,"span",362),e.k0s(),e.j41(31,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("text"))}),e.nI1(32,"translate"),e.nrm(33,"span",363),e.k0s(),e.j41(34,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.sdS(38);return n.value="",e.Njj(n.click())}),e.nI1(35,"translate"),e.nrm(36,"span",364),e.j41(37,"input",365,366),e.bIt("change",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onSetImage(n))}),e.k0s()(),e.j41(39,"div",367),e.nrm(40,"span",364),e.k0s()()(),e.j41(41,"mat-expansion-panel",14),e.bIt("opened",function(){e.eBV(t);const n=e.XpG();return n.panelsState.panelD=!0,e.Njj(n.savePanelState())})("closed",function(){e.eBV(t);const n=e.XpG();return n.panelsState.panelD=!1,e.Njj(n.savePanelState())}),e.j41(42,"mat-expansion-panel-header",15)(43,"mat-panel-title"),e.DNE(44,Bfe,2,0,"mat-icon",16),e.DNE(45,Mfe,2,0,"mat-icon",16),e.j41(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s()()(),e.j41(49,"div",354)(50,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_input"))}),e.nI1(51,"translate"),e.nrm(52,"span",369),e.k0s(),e.j41(53,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("value"))}),e.nI1(54,"translate"),e.nrm(55,"span",370),e.k0s(),e.j41(56,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_button"))}),e.nI1(57,"translate"),e.nrm(58,"span",371),e.k0s(),e.j41(59,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_select"))}),e.nI1(60,"translate"),e.nrm(61,"span",372),e.k0s(),e.j41(62,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("gauge_progress"))}),e.nI1(63,"translate"),e.nrm(64,"span",373),e.k0s(),e.j41(65,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("gauge_semaphore"))}),e.nI1(66,"translate"),e.nrm(67,"span",374),e.k0s(),e.j41(68,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_chart"))}),e.nI1(69,"translate"),e.nrm(70,"span",375),e.k0s(),e.j41(71,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_bag"))}),e.nI1(72,"translate"),e.nrm(73,"span",376),e.k0s(),e.j41(74,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("pipe"))}),e.nI1(75,"translate"),e.nrm(76,"span",377),e.k0s(),e.j41(77,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_slider"))}),e.nI1(78,"translate"),e.nrm(79,"span",378),e.k0s(),e.j41(80,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_switch"))}),e.nI1(81,"translate"),e.nrm(82,"span",379),e.k0s(),e.j41(83,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_graph-bar"))}),e.nI1(84,"translate"),e.nrm(85,"span",380),e.k0s(),e.j41(86,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("own_ctrl-table"))}),e.nI1(87,"translate"),e.nrm(88,"span",381),e.k0s(),e.j41(89,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("own_ctrl-iframe"))}),e.nI1(90,"translate"),e.nrm(91,"span",382),e.k0s(),e.j41(92,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("html_graph-pie"))}),e.nI1(93,"translate"),e.j41(94,"span",383),e.EFF(95,"pie_chart"),e.k0s()(),e.j41(96,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.sdS(101);return n.value="",e.Njj(n.click())}),e.nI1(97,"translate"),e.j41(98,"span",383),e.EFF(99,"photo_size_select_actual"),e.k0s(),e.j41(100,"input",365,384),e.bIt("change",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onSetImageAsLink(n))}),e.k0s()(),e.j41(102,"div",368),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setMode("own_ctrl-panel"))}),e.nI1(103,"translate"),e.j41(104,"span",385),e.EFF(105,"web_asset"),e.k0s()()()(),e.DNE(106,kfe,10,7,"mat-expansion-panel",386),e.j41(107,"mat-expansion-panel",14),e.bIt("opened",function(){e.eBV(t);const n=e.XpG();return n.panelsState.panelWidgets=!0,e.Njj(n.savePanelState())})("closed",function(){e.eBV(t);const n=e.XpG();return n.panelsState.panelWidgets=!1,e.Njj(n.savePanelState())}),e.j41(108,"mat-expansion-panel-header",15)(109,"mat-panel-title"),e.DNE(110,Tfe,2,0,"mat-icon",16),e.DNE(111,Ffe,2,0,"mat-icon",16),e.j41(112,"span"),e.EFF(113),e.nI1(114,"translate"),e.k0s()(),e.j41(115,"mat-icon",387),e.bIt("click",function(n){return e.eBV(t),e.XpG().onWidgetKiosk(),e.Njj(n.stopPropagation())}),e.EFF(116,"widgets"),e.k0s()(),e.DNE(117,Sfe,1,0,"ng-template",388),e.k0s(),e.j41(118,"mat-expansion-panel",389)(119,"mat-expansion-panel-header",390)(120,"mat-panel-title")(121,"mat-icon",391),e.EFF(122,"expand_more"),e.k0s(),e.j41(123,"span"),e.EFF(124),e.nI1(125,"translate"),e.k0s()(),e.j41(126,"mat-icon",352),e.bIt("click",function(n){return e.eBV(t),e.XpG().onAddResource(),e.Njj(n.stopPropagation())}),e.nI1(127,"translate"),e.EFF(128,"add "),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("expanded",t.panelsState.panelGeneral),e.R7$(3),e.Y8G("ngIf",t.panelsState.panelGeneral),e.R7$(1),e.Y8G("ngIf",!t.panelsState.panelGeneral),e.R7$(2),e.JRh(e.bMT(8,67,"editor.general")),e.R7$(3),e.FS9("matTooltip",e.bMT(11,69,"editor.tools-select")),e.Y8G("ngClass",e.eq3(129,cl,t.isModeActive("select"))),e.R7$(3),e.FS9("matTooltip",e.bMT(14,71,"editor.tools-pencil")),e.Y8G("ngClass",e.eq3(131,cl,t.isModeActive("fhpath"))),e.R7$(3),e.FS9("matTooltip",e.bMT(17,73,"editor.tools-line")),e.Y8G("ngClass",e.eq3(133,cl,t.isModeActive("line"))),e.R7$(3),e.FS9("matTooltip",e.bMT(20,75,"editor.tools-rectangle")),e.Y8G("ngClass",e.eq3(135,cl,t.isModeActive("rect"))),e.R7$(3),e.FS9("matTooltip",e.bMT(23,77,"editor.tools-circle")),e.Y8G("ngClass",e.eq3(137,cl,t.isModeActive("circle"))),e.R7$(3),e.FS9("matTooltip",e.bMT(26,79,"editor.tools-ellipse")),e.Y8G("ngClass",e.eq3(139,cl,t.isModeActive("ellipse"))),e.R7$(3),e.FS9("matTooltip",e.bMT(29,81,"editor.tools-path")),e.Y8G("ngClass",e.eq3(141,cl,t.isModeActive("path"))),e.R7$(3),e.FS9("matTooltip",e.bMT(32,83,"editor.tools-text")),e.Y8G("ngClass",e.eq3(143,cl,t.isModeActive("text"))),e.R7$(3),e.FS9("matTooltip",e.bMT(35,85,"editor.tools-image")),e.Y8G("ngClass",e.eq3(145,cl,t.isModeActive("image")||t.isModeActive("svg-image"))),e.R7$(7),e.Y8G("expanded",t.panelsState.panelD),e.R7$(3),e.Y8G("ngIf",t.panelsState.panelD),e.R7$(1),e.Y8G("ngIf",!t.panelsState.panelD),e.R7$(2),e.JRh(e.bMT(48,87,"editor.controls")),e.R7$(3),e.FS9("matTooltip",e.bMT(51,89,"editor.controls-input")),e.Y8G("ngClass",e.eq3(147,cl,t.isModeActive("html_input"))),e.R7$(3),e.FS9("matTooltip",e.bMT(54,91,"editor.controls-output")),e.Y8G("ngClass",e.eq3(149,cl,t.isModeActive("value"))),e.R7$(3),e.FS9("matTooltip",e.bMT(57,93,"editor.controls-button")),e.Y8G("ngClass",e.eq3(151,cl,t.isModeActive("html_button"))),e.R7$(3),e.FS9("matTooltip",e.bMT(60,95,"editor.controls-select")),e.Y8G("ngClass",e.eq3(153,cl,t.isModeActive("html_select"))),e.R7$(3),e.FS9("matTooltip",e.bMT(63,97,"editor.controls-progress")),e.Y8G("ngClass",e.eq3(155,cl,t.isModeActive("gauge_progress"))),e.R7$(3),e.FS9("matTooltip",e.bMT(66,99,"editor.controls-semaphore")),e.Y8G("ngClass",e.eq3(157,cl,t.isModeActive("gauge_semaphore"))),e.R7$(3),e.FS9("matTooltip",e.bMT(69,101,"editor.controls-chart")),e.Y8G("ngClass",e.eq3(159,cl,t.isModeActive("html_chart"))),e.R7$(3),e.FS9("matTooltip",e.bMT(72,103,"editor.controls-bag")),e.Y8G("ngClass",e.eq3(161,cl,t.isModeActive("html_bag"))),e.R7$(3),e.FS9("matTooltip",e.bMT(75,105,"editor.controls-pipe")),e.Y8G("ngClass",e.eq3(163,cl,t.isModeActive("pipe"))),e.R7$(3),e.FS9("matTooltip",e.bMT(78,107,"editor.controls-slider")),e.Y8G("ngClass",e.eq3(165,cl,t.isModeActive("html_slider"))),e.R7$(3),e.FS9("matTooltip",e.bMT(81,109,"editor.controls-switch")),e.Y8G("ngClass",e.eq3(167,cl,t.isModeActive("html_switch"))),e.R7$(3),e.FS9("matTooltip",e.bMT(84,111,"editor.controls-graphbar")),e.Y8G("ngClass",e.eq3(169,cl,t.isModeActive("html_graph-bar"))),e.R7$(3),e.FS9("matTooltip",e.bMT(87,113,"editor.controls-table")),e.Y8G("ngClass",e.eq3(171,cl,t.isModeActive("own_ctrl-table"))),e.R7$(3),e.FS9("matTooltip",e.bMT(90,115,"editor.controls-iframe")),e.Y8G("ngClass",e.eq3(173,cl,t.isModeActive("own_ctrl-iframe"))),e.R7$(3),e.FS9("matTooltip",e.bMT(93,117,"editor.controls-graphpie")),e.Y8G("ngClass",e.eq3(175,cl,t.isModeActive("html_graph-pie"))),e.R7$(4),e.FS9("matTooltip",e.bMT(97,119,"editor.controls-image")),e.Y8G("ngClass",e.eq3(177,cl,t.isModeActive("own_ctrl-image"))),e.R7$(6),e.FS9("matTooltip",e.bMT(103,121,"editor.controls-panel")),e.Y8G("ngClass",e.eq3(179,cl,t.isModeActive("own_ctrl-panel"))),e.R7$(4),e.Y8G("ngForOf",t.shapesGrps),e.R7$(1),e.Y8G("expanded",t.panelsState.panelWidgets),e.R7$(3),e.Y8G("ngIf",t.panelsState.panelWidgets),e.R7$(1),e.Y8G("ngIf",!t.panelsState.panelWidgets),e.R7$(2),e.JRh(e.bMT(114,123,"resources.lib-widgets")),e.R7$(11),e.JRh(e.bMT(125,125,"editor.resources")),e.R7$(2),e.FS9("matTooltip",e.bMT(127,127,"editor.image-add"))}}function Rfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Pfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Ofe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Lfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Yfe(r,o){if(1&r&&(e.j41(0,"option",395),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("font-family",t),e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function Nfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function jfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Gfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Ufe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function zfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Hfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Vfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Jfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Wfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_less"),e.k0s())}function Kfe(r,o){1&r&&(e.j41(0,"mat-icon",351),e.EFF(1,"expand_more"),e.k0s())}function Xfe(r,o){if(1&r){const t=e.RV6();e.j41(0,"gauge-base",396,397),e.bIt("edit",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onGaugeEdit(n))}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("settings",t.getGaugeSettings(t.selectedElement))}}function Zfe(r,o){1&r&&(e.j41(0,"mat-icon",398),e.EFF(1,"grid_on"),e.k0s())}function $fe(r,o){1&r&&(e.j41(0,"mat-icon",398),e.EFF(1,"grid_off"),e.k0s())}function qfe(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",399),e.nrm(2,"div",400),e.j41(3,"button",401),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onStartCurrent())}),e.nI1(4,"translate"),e.j41(5,"mat-icon",153),e.EFF(6,"play_arrow"),e.k0s()()(),e.j41(7,"div",402)(8,"app-cards-view",403,404),e.bIt("editCard",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.editCardsWidget(n))})("save",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveProject())}),e.k0s(),e.j41(10,"button",405),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addCard())}),e.j41(11,"mat-icon",406),e.EFF(12,"add"),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(3),e.FS9("matTooltip",e.bMT(4,5,"editor.tools-launch-title")),e.R7$(5),e.Y8G("edit",!0)("view",t.currentView)("hmi",t.hmi)("gaugesManager",t.gaugesManager)}}function ege(r,o){if(1&r&&(e.qex(0),e.nrm(1,"app-maps-view",407,408),e.bVm()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("view",t.currentView)("hmi",t.hmi)("gaugesManager",t.gaugesManager)("editMode",!0)}}let tge=(()=>{class r{projectService;winRef;dialog;changeDetector;translateService;gaugesManager;viewContainerRef;resolver;libWidgetsService;mdIconRegistry;sanitizer;gaugePanelComponent;viewFileImportInput;cardsview;sidePanel;svgSelectorPanel;svgPreview;mapsView;svgElementSelected=null;svgElements=[];gaugeDialogType=Ho;gaugeDialog={type:null,data:null};reloadGaugeDialog;colorDefault={fill:"#FFFFFF",stroke:"#000000"};fonts=Tf.fonts;isLoading=!0;editorModeType=Pp;editorMode=Pp.SVG;defaultColor=ii.Aq.defaultColor;colorFill=this.colorDefault.fill;colorStroke=this.colorDefault.stroke;currentView=null;hmi=new It.bv;currentMode="";imagefile;ctrlInitParams;gridOn=!1;isAnySelected=!1;selectedElement=new It.Ny;panelsState={enabled:!1,panelView:!0,panelViewHeight:200,panelGeneral:!0,panelC:!0,panelD:!0,panelS:!0,panelWidgets:!0};panelPropertyIdOpenState;panelPropertyTransformOpenState;panelAlignOpenState;panelFillOpenState;panelEventOpenState;panelMarkerOpenState;panelHyperlinkOpenState;gaugeSettingsHide=!1;gaugeSettingsLock=!1;dashboard;cardViewType=It.qi.cards;svgViewType=It.qi.svg;mapsViewType=It.qi.maps;shapesGrps=[];gaugesRef={};subscriptionSave;subscriptionLoad;destroy$=new An.B;constructor(t,i,n,a,s,d,m,I,J,oe,Ce){this.projectService=t,this.winRef=i,this.dialog=n,this.changeDetector=a,this.translateService=s,this.gaugesManager=d,this.viewContainerRef=m,this.resolver=I,this.libWidgetsService=J,this.mdIconRegistry=oe,this.sanitizer=Ce,oe.addSvgIcon("group",Ce.bypassSecurityTrustResourceUrl("/assets/images/group.svg")),oe.addSvgIcon("to_bottom",Ce.bypassSecurityTrustResourceUrl("/assets/images/to-bottom.svg")),oe.addSvgIcon("to_top",Ce.bypassSecurityTrustResourceUrl("/assets/images/to-top.svg"))}ngOnInit(){try{this.subscriptionSave=this.projectService.onSaveCurrent.subscribe(t=>{t===kr.PS.Current?this.onSaveProject():t===kr.PS.SaveAs?this.projectService.saveAs():t===kr.PS.Save&&this.onSaveProject(!0)}),this.gaugesManager.clearMemory()}catch(t){console.error(t)}this.libWidgetsService.svgWidgetSelected$.pipe((0,Zs.n)(t=>fetch(t).then(i=>i.text().then(n=>({content:n,widgetPath:t})))),(0,jn.Q)(this.destroy$)).subscribe(({content:t,widgetPath:i})=>{localStorage.setItem(i,t),this.ctrlInitParams=i,this.setMode("own_ctrl-image")})}ngAfterViewInit(){this.myInit(),this.setMode("select"),this.projectService.getHmi()&&this.loadHmi(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(i=>{this.loadHmi()},i=>{console.error("Error loadHMI")}),this.changeDetector.detectChanges()}ngOnDestroy(){try{this.subscriptionSave&&this.subscriptionSave.unsubscribe(),this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch(t){console.error(t)}this.onSaveProject(),this.destroy$.next(null),this.destroy$.complete()}myInit(){try{mypathseg.initPathSeg(),mybrowser.initBrowser(),mysvgutils.initSvgutils(),myselect.initSelect(),mydraw.initDraw(),mysvgcanvas.initSvgCanvas(),mysvgeditor.initSvgEditor($,i=>{this.isAnySelected=i,this.onSelectedElement(i),this.getGaugeSettings(i),this.checkSelectedGaugeSettings()},(i,n)=>{this.onExtensionLoaded(n),this.clearSelection(),"shapes"===i&&this.setShapes()},(i,n)=>{"fill"===i?(this.colorFill=n,this.setFillColor(this.colorFill),this.checkMySelectedToSetColor(this.colorFill,null,this.winRef.nativeWindow.svgEditor.getSelectedElements())):"stroke"===i&&(this.colorStroke=n,this.checkMySelectedToSetColor(null,this.colorStroke,this.winRef.nativeWindow.svgEditor.getSelectedElements()))},i=>{let n=this.getGaugeSettings(i,this.ctrlInitParams);this.checkGaugeAdded(n),setTimeout(()=>{this.setMode("select",!1)},700),this.checkSvgElementsMap(!0)},i=>{this.onRemoveElement(i),this.checkSvgElementsMap(!0)},i=>{if(i&&i.id){let n=this.getGaugeSettings(i);this.gaugesManager.checkElementToResize(n,this.resolver,this.viewContainerRef,i.size)}},i=>{this.onCopyAndPaste(i)},()=>{this.checkSvgElementsMap(!0)}),this.winRef.nativeWindow.svgEditor.init(),$(initContextmenu)}catch(t){console.error(t)}this.setFillColor(this.colorFill),this.setFillColor(this.colorStroke)}checkSvgElementsMap(t=!1){t&&(this.svgElements=Array.from(document.querySelectorAll("g, text, line, rect, image, path, circle, ellipse")).filter(i=>i.attributes?.type?.value?.startsWith("svg-ext")||i.id?.startsWith("svg_")&&!i.parentNode?.attributes?.type?.value?.startsWith("svg-ext")).map(i=>({id:i.id,name:this.currentView.items[i.id]?.name}))),this.svgElementSelected=this.svgElements.find(i=>i.id===this.selectedElement?.id)}onSvgElementSelected(t){this.clearSelection(),this.winRef.nativeWindow.svgEditor.selectOnly([document.getElementById(t.id)],!0)}onSvgElementPreview(t){let i=document.getElementById(t.element?.id),n=i?.getBoundingClientRect();i&&n&&(this.svgPreview.nativeElement.style.width=`${n.width}px`,this.svgPreview.nativeElement.style.height=`${n.height}px`,this.svgPreview.nativeElement.style.top=`${n.top}px`,this.svgPreview.nativeElement.style.left=`${n.left}px`),this.svgPreview.nativeElement.style.display=t.preview?"flex":"none"}loadHmi(){if(this.gaugesManager.initGaugesMap(),this.currentView=null,this.hmi=this.projectService.getHmi(),!this.hmi.views||this.hmi.views.length<=0)this.hmi.views=[],this.addView();else{let t=localStorage.getItem("@frango.webeditor.currentview");!t&&this.hmi.views.length&&(t=this.hmi.views[0].name);for(let i=0;i<this.hmi.views.length;i++)if(this.hmi.views[i].name===t&&this.hmi.views[i].type!==It.qi.maps){this.onSelectView(this.hmi.views[i]);break}this.currentView||this.onSelectView(this.hmi.views[0])}this.hmi.layout=ii.Aq.mergeDeep(new It.QQ,this.hmi.layout),this.hmi.layout.start||(this.hmi.layout.start=this.hmi.views[0].id),this.loadPanelState(),this.isLoading=!1}saveView(t,i=!1){this.projectService.setView(t,i)}removeView(t){this.projectService.removeView(t)}getContent(){return this.currentView.type===It.qi.cards?(this.currentView.svgcontent=this.cardsview.getContent(),this.currentView.svgcontent):this.currentView.type===It.qi.maps?this.currentView.svgcontent:this.winRef.nativeWindow.svgEditor.getSvgString()}setShapes(){let t=this.winRef.nativeWindow.svgEditor.getShapes(),i=[];Object.keys(t).forEach(n=>{i.push({name:n,shapes:t[n]})}),this.shapesGrps=i}getGaugeSettings(t,i=null){if(t&&this.currentView){if(this.currentView.items[t.id])return this.currentView.items[t.id];let n=this.gaugesManager.createSettings(t.id,t.type);return i&&(n.property=new It.f5,n.property.address=i),n}return null}searchGaugeSettings(t){if(t){if(this.currentView&&this.currentView.items[t.id])return this.currentView.items[t.id];for(var i=0;i<this.hmi.views.length;i++)if(this.hmi.views[i].items[t.id])return this.hmi.views[i].items[t.id];return this.gaugesManager.createSettings(t.id,t.type)}return null}setGaugeSettings(t){t.id?this.currentView.items[t.id]=t:console.error("!TOFIX",t)}checkGaugeInView(t){this.getGaugeSettings(t)}checkColors(t){let i=this.winRef.nativeWindow.svgEditor.getSelectedElements(),n=null,a=null;if(i&&(i.length<=1||!i[1])&&i[0]){let s={fill:n,stroke:a};oo.checkGaugeColor(t,i,s)?(s.fill&&(this.colorFill=s.fill),s.stroke&&(this.colorStroke=s.stroke)):(i[0].attributes.fill&&(n=i[0].attributes.fill.value,this.colorFill=n),i[0].attributes.stroke&&(a=i[0].attributes.stroke.value,this.colorStroke=a))}}getFillColor(t){if(t){let i=document.getElementById(t);if(i)return i.getAttribute("fill")}}loadView(t){if(t)if(this.clearEditor(),this.isSvgEditMode(this.editorMode)){let i="",n=this.getView(t.name);n&&(i=n.svgcontent),i.length<=0&&(i='<svg id="'+t.name+'" width="'+t.profile.width+'" height="'+t.profile.height+'" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><filter id="blur-filter" x="-3" y="-3" width="200" height="200"><feGaussianBlur in="SourceGraphic" stdDeviation="3" /></filter><g><title>Layer 1</title></g></svg>'),this.winRef.nativeWindow.svgEditor&&(this.winRef.nativeWindow.svgEditor.setDocProperty(t.name,t.profile.width,t.profile.height,t.profile.bkcolor),this.winRef.nativeWindow.svgEditor.setSvgString(i)),this.gaugesRef={},setTimeout(()=>{for(let a in n.items){let s=this.getGaugeSettings(n.items[a]);this.checkGaugeAdded(s)}this.winRef.nativeWindow.svgEditor.refreshCanvas(),this.checkSvgElementsMap(!0),this.winRef.nativeWindow.svgEditor.resetUndoStack()},500)}else this.isCardsEditMode(this.editorMode)&&this.cardsview?(this.cardsview.view=t,this.cardsview.reload()):this.isMapsEditMode(this.editorMode)&&this.mapsView&&(this.mapsView.view=t,this.mapsView.reload())}isSvgEditMode(t){return t!==Pp.CARDS&&t!==Pp.MAPS}isCardsEditMode(t){return t===Pp.CARDS}isMapsEditMode(t){return t===Pp.MAPS}getView(t){for(var i=0;i<this.hmi.views.length;i++)if(this.hmi.views[i].name===t)return this.hmi.views[i];return null}getViewsSorted(){return this.hmi.views.sort((t,i)=>t.name>i.name?1:-1)}editCardsWidget(t){let i=this.cardsview.getWindgetViewName();t.card.data&&i.indexOf(t.card.data)>=0&&(i=i.filter(d=>d!==t.card.data));let n=It.qi.cards,a=this.hmi.views.filter(d=>d.type!==n&&i.indexOf(d.name)<0).map(d=>d.name);this.dialog.open(Rue,{position:{top:"60px"},data:{item:JSON.parse(JSON.stringify(t)),views:a}}).afterClosed().subscribe(d=>{d&&(t.card=d.card,this.onSaveProject(),this.cardsview.render())})}addCard(){this.cardsview.addCardsWidget()}saveCards(t){}setMode(t,i=!0){this.currentMode=t,i&&(this.clearSelection(),this.checkFillAndStrokeColor()),this.winRef.nativeWindow.svgEditor.clickToSetMode(t)}isModeActive(t){return this.currentMode===t}clearEditor(){this.winRef.nativeWindow.svgEditor&&this.winRef.nativeWindow.svgEditor.clickClearAll()}checkFillAndStrokeColor(){this.colorFill&&this.colorStroke&&this.colorFill===this.colorStroke&&(this.setFillColor(this.colorDefault.fill),this.setStrokeColor(this.colorDefault.stroke))}onSelectedElement(t){this.selectedElement=null;try{document.activeElement!==document.body&&document.activeElement.blur()}catch{}t&&t.length<=1&&(this.selectedElement=t[0],this.selectedElement.type=t[0].type||"svg-ext-shapes-"+(this.currentMode||"default"),this.checkColors(this.selectedElement),this.checkGaugeInView(this.selectedElement)),this.checkSvgElementsMap(!1),this.sidePanel.opened&&this.sidePanel.toggle()}onExtensionLoaded(t){}onChangeFillColor(t){this.setFillColor(t),this.checkMySelectedToSetColor(this.colorFill,null,this.winRef.nativeWindow.svgEditor.getSelectedElements())}onChangeStrokeColor(t){this.setStrokeColor(t),this.checkMySelectedToSetColor(null,this.colorStroke,this.winRef.nativeWindow.svgEditor.getSelectedElements())}onCopyAndPaste(t){if(t?.copy?.length&&t?.past?.length){const i=t.copy.filter(a=>null!==a&&!a?.symbols),n=t.past.filter(a=>null!==a);if(i.length==t.past.length){let a=Object.values(this.currentView.items).map(s=>s.name);for(let s=0;s<i.length;s++){const d=ii.Aq.getInTreeIdAndType(i[s]),m=ii.Aq.getInTreeIdAndType(n[s]);if(d.length===m.length)for(let I=0;I<d.length;I++)if(d[I].id&&m[I].id&&d[I].type===m[I].type){let J=this.searchGaugeSettings(d[I]);if(J){let oe=this.gaugesManager.createSettings(m[I].id,m[I].type);oe.name=ii.Aq.getNextName(oo.getPrefixGaugeName(m[I].type),a),oe.property=JSON.parse(JSON.stringify(J.property)),oe.hide=J.hide,this.setGaugeSettings(oe),this.checkGaugeAdded(oe)}}else console.error("Inconsistent elements!",`${d[I]}`,`${m[I]}`);else{let I=this.searchGaugeSettings(d[s]);if(I.property?.type===Mc.propertyWidgetType){let J=this.gaugesManager.createSettings(m[s].id,m[s].type);J.name=ii.Aq.getNextName(oo.getPrefixGaugeName(m[s].type),a);const oe=ii.Aq.getShortGUID("","_");J.property=ii.Aq.replaceStringInObject(I.property,I.property.svgGuid,oe),this.setGaugeSettings(J),this.checkGaugeAdded(J)}else console.error("Between copied and pasted there are inconsistent elements!")}}this.checkSvgElementsMap(!0)}}}onRemoveElement(t){if(this.currentView&&this.currentView.items&&t)for(let i=0;i<t.length;i++)if(this.currentView.items[t[i].id]&&(delete this.currentView.items[t[i].id],this.gaugesRef.hasOwnProperty(t[i].id)&&this.gaugesRef[t[i].id].ref&&this.gaugesRef[t[i].id].ref.ngOnDestroy))try{this.gaugesRef[t[i].id].ref.ngOnDestroy()}catch(n){console.error(n)}}setFillColor(t){let i=t;"#"===i.charAt(0)&&(i=i.slice(1)),this.winRef.nativeWindow.svgEditor&&this.winRef.nativeWindow.svgEditor.setColor(i,100,"fill")}setStrokeColor(t){let i=t;"#"===i.charAt(0)&&(i=i.slice(1)),this.winRef.nativeWindow.svgEditor.setColor(i,100,"stroke")}onSetMarker(t,i){i>=0&&this.winRef.nativeWindow.svgEditor.setMarker(t,i)}onAlignSelected(t){this.winRef.nativeWindow.svgEditor.alignSelectedElements(t.charAt(0))}onZoomSelect(){this.winRef.nativeWindow.svgEditor.clickZoom()}onShowGrid(){this.gridOn=this.gridOn=!this.gridOn,this.winRef.nativeWindow.svgEditor.clickExtension("view_grid"),this.winRef.nativeWindow.svgEditor.enableGridSnapping(this.gridOn)}onSetImage(t){if(t.target.files){let i=t.target.files[0].name;this.imagefile="assets/images/"+t.target.files[0].name;let n={type:i.split(".").pop().toLowerCase(),name:i.split("/").pop(),data:null},a=this;if("svg"===n.type){let s=new FileReader;s.onloadend=function(d){localStorage.setItem(n.name,s.result.toString()),a.ctrlInitParams=n.name,a.setMode("own_ctrl-image")},s.readAsText(t.target.files[0])}else this.getBase64Image(t.target.files[0],function(s){a.winRef.nativeWindow.svgEditor.setUrlImageToAdd&&a.winRef.nativeWindow.svgEditor.setUrlImageToAdd(s),a.setMode("image")})}}onSetImageAsLink(t){if(t.target.files){let i=t.target.files[0].name,n={type:i.split(".").pop().toLowerCase(),name:i.split("/").pop(),data:null},a=new FileReader;this.ctrlInitParams=null,a.onload=()=>{try{n.data=a.result,this.projectService.uploadFile(n).subscribe(s=>{this.ctrlInitParams=s.location,this.setMode("own_ctrl-image")})}catch(s){console.error(s)}},"svg"===n.type?a.readAsText(t.target.files[0]):a.readAsDataURL(t.target.files[0])}}getBase64Image(t,i){var n=new FileReader;n.onload=function(){i(n.result)},n.readAsDataURL(t)}onSetStrokeOption(t){this.winRef.nativeWindow.svgEditor.setStrokeOption(t)}onSetShadowOption(t){this.winRef.nativeWindow.svgEditor.onSetShadowOption(t)}onFontFamilyChange(t){this.winRef.nativeWindow.svgEditor.setFontFamily(t)}onTextAlignChange(t){this.winRef.nativeWindow.svgEditor.setTextAlign(t)}checkMySelectedToSetColor(t,i,n){oo.initElementColor(t,i,n)}checkGaugeAdded(t){let i=this.gaugesManager.initElementAdded(t,this.resolver,this.viewContainerRef,!1);i&&(!0!==i&&(this.gaugesRef.hasOwnProperty(t.id)||(this.gaugesRef[t.id]={type:t.type,ref:i})),this.setGaugeSettings(t))}onMakeHyperlink(){this.dialog.open(ige,{data:{url:"https://"},position:{top:"60px"}}).afterClosed().subscribe(i=>{i&&i.url&&this.winRef.nativeWindow.svgEditor.makeHyperlink(i.url)})}onStartCurrent(){this.onSaveProject(),this.winRef.nativeWindow.open("lab","MyTest","width=800,height=640,menubar=0")}onSaveProject(t=!1){this.currentView&&(this.currentView.svgcontent=this.getContent(),this.saveView(this.currentView,t))}onAddDoc(){this.dialog.open(lj,{position:{top:"60px"},data:{name:"",profile:new It.GF,type:It.qi.svg,existingNames:this.hmi.views.map(i=>i.name),newView:!0}}).afterClosed().subscribe(i=>{if(i){let n=new It.Ss(ii.Aq.getShortGUID("v_"),i.type,i.name);n.profile=i.profile,this.hmi.views.push(n),this.onSelectView(n),this.saveView(this.currentView)}})}addView(t,i){if(this.hmi.views){let a="View_",s=1;for(s=1;s<this.hmi.views.length+2;s++){let m=!1;for(var n=0;n<this.hmi.views.length;n++)if(this.hmi.views[n].name===a+s){m=!0;break}if(!m)break}let d=new It.Ss(ii.Aq.getShortGUID("v_"),i);return t?d.name=t:this.hmi.views.length<=0?d.name="MainView":(d.name=a+s,d.profile.bkcolor="#ffffffff"),i===It.qi.cards&&(d.profile.bkcolor="rgba(67, 67, 67, 1)"),this.hmi.views.push(d),this.onSelectView(d),this.saveView(this.currentView),d.id}return null}onCloneView(t){if(t){let n="View_",a=1;for(a=1;a<this.hmi.views.length+2;a++){let J=!1;for(var i=0;i<this.hmi.views.length;i++)if(this.hmi.views[i].name===n+a){J=!0;break}if(!J)break}let s={content:JSON.stringify(t),id:""},d=[];for(let J in t.items){s.id=J;let oe=this.winRef.nativeWindow.svgEditor.renameSvgExtensionId(s);d.push(oe)}let m=this.winRef.nativeWindow.svgEditor.renameAllSvgExtensionId(s.content,d),I=JSON.parse(m);I.id="v_"+ii.Aq.getShortGUID(),I.name=n+a,this.hmi.views.push(I),this.onSelectView(I),this.saveView(this.currentView)}}onViewPropertyChanged(t){this.winRef.nativeWindow.svgEditor.setDocProperty(t.name,t.profile.width,t.profile.height,t.profile.bkcolor),this.onSelectView(t)}onSelectView(t,i=!0){!i&&this.currentView?.id===t?.id||(this.currentView?this.currentView.svgcontent=this.getContent():this.setFillColor(this.colorFill),this.currentView&&this.saveView(this.currentView),this.currentView=t,this.editorMode=this.currentView.type===It.qi.cards?Pp.CARDS:this.currentView.type===It.qi.maps?Pp.MAPS:Pp.SVG,localStorage.setItem("@frango.webeditor.currentview",this.currentView.name),this.loadView(this.currentView))}isViewActive(t){return this.currentView&&this.currentView.name===t.name}onImportView(){document.getElementById("viewFileUpload").click()}onViewFileChangeListener(t){let a=t.target,s=new FileReader;s.onload=d=>{let m=JSON.parse(s.result.toString());if(this.projectService.verifyView(m)){let I=1,J=m.name,oe=null;for(;oe=this.hmi.views.find(Ce=>Ce.name===m.name);)m.name=J+"_"+I++;m.id="v_"+ii.Aq.getShortGUID(),this.hmi.views.push(m),this.onSelectView(m),this.saveView(this.currentView)}},s.onerror=function(){alert("Unable to read "+a.files[0])},s.readAsText(a.files[0]),this.viewFileImportInput.nativeElement.value=null}loadPanelState(){let t=localStorage.getItem("@frango.webeditor.panelsState");this.panelsState.enabled=!0,t&&(this.panelsState=ii.Aq.mergeDeep(this.panelsState,JSON.parse(t)))}savePanelState(){this.panelsState.enabled&&(this.panelsState.panelViewHeight<100&&(this.panelsState.panelViewHeight=100),localStorage.setItem("@frango.webeditor.panelsState",JSON.stringify(this.panelsState)))}onInteractivityClick(t){t?.type&&oo.isGauge(t.type)&&this.onGaugeEditEx()}onGaugeEdit(t){this.openEditGauge(this.gaugePanelComponent?.settings,i=>{this.setGaugeSettings(i)})}onGaugeEditEx(){setTimeout(()=>{this.gaugePanelComponent.onEdit()},500)}isWithEvents(t){return this.gaugesManager.isWithEvents(t)}isWithActions(t){return this.gaugesManager.isWithActions(t)}openEditGauge(t,i){if(!t)return;let Ce,$e,n=JSON.parse(JSON.stringify(t)),a=this.projectService.getHmi(),s=oo.getEditDialogTypeToUse(t.type),d=oo.isBitmaskSupported(t.type),m=this.isWithEvents(t.type),I=this.isWithActions(t.type),J=oo.getDefaultValue(t.type),oe=Object.values(this.currentView.items).map(nt=>nt.name);if(n.name||(n.name=ii.Aq.getNextName(oo.getPrefixGaugeName(t.type),oe)),s===Ho.Chart)return this.gaugeDialog.type=s,this.gaugeDialog.data={settings:n,devices:Object.values(this.projectService.getDevices()),views:a.views,dlgType:s,charts:this.projectService.getCharts(),names:oe},this.sidePanel.opened||this.sidePanel.toggle(),void(this.reloadGaugeDialog=!this.reloadGaugeDialog);if(s===Ho.Graph)return this.gaugeDialog.type=s,this.gaugeDialog.data={settings:n,devices:Object.values(this.projectService.getDevices()),views:a.views,dlgType:s,graphs:this.projectService.getGraphs(),names:oe},this.sidePanel.opened||this.sidePanel.toggle(),void(this.reloadGaugeDialog=!this.reloadGaugeDialog);if(s===Ho.Iframe)return this.gaugeDialog.type=s,this.gaugeDialog.data={settings:n,dlgType:s,names:oe},this.sidePanel.opened||this.sidePanel.toggle(),void(this.reloadGaugeDialog=!this.reloadGaugeDialog);if(s===Ho.Gauge)Ce=this.dialog.open(Aue,{position:{top:"30px"},data:{settings:n,devices:Object.values(this.projectService.getDevices()),dlgType:s,names:oe}});else{if(s===Ho.Pipe)return this.gaugeDialog.type=s,this.gaugeDialog.data={settings:n,dlgType:s,names:oe,withEvents:m,withActions:I},this.sidePanel.opened||this.sidePanel.toggle(),void(this.reloadGaugeDialog=!this.reloadGaugeDialog);if(s===Ho.Slider)Ce=this.dialog.open(yue,{position:{top:"60px"},data:{settings:n,devices:Object.values(this.projectService.getDevices()),withEvents:m,withActions:I,names:oe}});else if(s===Ho.Switch)Ce=this.dialog.open(xue,{position:{top:"60px"},data:{settings:n,devices:Object.values(this.projectService.getDevices()),withEvents:m,withActions:I,withBitmask:d,views:a.views,view:this.currentView,scripts:this.projectService.getScripts(),inputs:Object.values(this.currentView.items).filter(nt=>nt.name&&(nt.id.startsWith("HXS_")||nt.id.startsWith("HXI_"))),names:oe}});else{if(s===Ho.Table||s===Ho.Panel)return this.gaugeDialog.type=s,this.gaugeDialog.data={settings:n,dlgType:s,names:oe},this.sidePanel.opened||this.sidePanel.toggle(),void(this.reloadGaugeDialog=!this.reloadGaugeDialog);{$e=this.isSelectedElementToEnableLanguageTextSettings();let nt=this.getGaugeTitle(t.type);Ce=this.dialog.open(uS,{position:{top:"60px"},disableClose:!0,data:{settings:n,devices:Object.values(this.projectService.getDevices()),title:nt,views:a.views,view:this.currentView,dlgType:s,withEvents:m,withActions:I,default:J,inputs:Object.values(this.currentView.items).filter(Tt=>Tt.name&&(Tt.id.startsWith("HXS_")||Tt.id.startsWith("HXI_"))),names:oe,scripts:this.projectService.getScripts(),withBitmask:d,languageTextEnabled:!!$e}})}}}Ce.afterClosed().subscribe(nt=>{nt&&(i(nt.settings),this.saveView(this.currentView),this.gaugesManager.initInEditor(nt.settings,this.resolver,this.viewContainerRef,$e),this.checkSvgElementsMap(!0))})}isSelectedElementToEnableLanguageTextSettings(){const t=this.winRef.nativeWindow.svgEditor.getSelectedElements();return"text"===t[0]?.tagName?.toLowerCase()?t[0]:null}editBindOfTags(t){if(!t)return;const i=[],n=this.winRef.nativeWindow.svgEditor.getSelectedElements(),a=new Set;if(n?.length){const d=ii.Aq.getInTreeIdAndType(n[0]);if(d?.length)for(let m=0;m<d.length;m++){let I=this.searchGaugeSettings(d[m]);const J=ii.Aq.searchValuesByAttribute(I,"variableId");J?.length&&(i.push(I),J.forEach(oe=>{a.add(oe)}))}}this.dialog.open(Oue,{position:{top:"60px"},data:{devices:Object.values(this.projectService.getDevices()),tagsIds:Array.from(a).map(d=>({srcId:d,destId:d}))}}).afterClosed().subscribe(d=>{d?.length&&(i.forEach(m=>{d.forEach(I=>{ii.Aq.changeAttributeValue(m,"variableId",I.srcId,I.destId)})}),this.saveView(this.currentView))})}onGaugeDialogChanged(t){if(t){this.setGaugeSettings(t),this.saveView(this.currentView);let i=this.gaugesManager.initInEditor(t,this.resolver,this.viewContainerRef);i?.element&&i.element.id!==t.id&&(delete this.currentView.items[t.id],t.id=i.element.id,this.saveView(this.currentView))}}getGaugeTitle(t){return t.startsWith(Fs.TypeTag)?this.translateService.instant("editor.controls-input-settings"):t.startsWith(qg.TypeTag)?this.translateService.instant("editor.controls-output-settings"):t.startsWith(uc.TypeTag)?this.translateService.instant("editor.controls-button-settings"):t.startsWith(Ul.TypeTag)?this.translateService.instant("editor.controls-select-settings"):t.startsWith(ou.TypeTag)?this.translateService.instant("editor.controls-progress-settings"):t.startsWith(sh.TypeTag)?this.translateService.instant("editor.controls-semaphore-settings"):this.translateService.instant("editor.controls-shape-settings")}onAddResource(){this.dialog.open(tue,{disableClose:!0,position:{top:"60px"}}).afterClosed().subscribe(i=>{if(i&&i){this.imagefile=i;let n=this;"svg"===this.imagefile.split(".").pop().toLowerCase()&&fetch(this.imagefile).then(a=>a.text()).then(a=>{n.winRef.nativeWindow.svgEditor.setSvgImageToAdd&&n.winRef.nativeWindow.svgEditor.setSvgImageToAdd(a),n.setMode("svg-image")})}})}onWidgetKiosk(){this.dialog.open($ue,{disableClose:!0,position:{top:"60px"},width:"1020px"}).afterClosed().subscribe(i=>{i&&this.libWidgetsService.refreshResources()})}isWithShadow(){return!1}fileNew(){}checkValid(t){return!!t.views||(t.views=[],!1)}clearSelection(){this.winRef.nativeWindow.svgEditor.clearSelection()}cloneElement(){this.winRef.nativeWindow.svgEditor.clickExtension("view_grid")}onHideSelectionToggle(t){let i=this.getGaugeSettings(this.selectedElement);i&&(i.hide=t,this.setGaugeSettings(i))}onLockSelectionToggle(t){let i=this.getGaugeSettings(this.selectedElement);i&&(i.lock=t,this.setGaugeSettings(i),this.winRef.nativeWindow.svgEditor.lockSelection(i.lock))}checkSelectedGaugeSettings(){let t=this.getGaugeSettings(this.selectedElement);this.gaugeSettingsHide=t?.hide??!1,this.gaugeSettingsLock=t?.lock??!1,this.winRef.nativeWindow.svgEditor.lockSelection(t?.lock)}flipSelected(t){}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(I4),e.rXU(Qo),e.rXU(e.gRc),e.rXU(Vi.c$),e.rXU(oo),e.rXU(e.c1b),e.rXU(e.OM3),e.rXU(cj),e.rXU(Ig),e.rXU(D.up))};static \u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ofe,5),e.GBs(afe,5),e.GBs(sfe,5),e.GBs(lfe,5),e.GBs(cfe,5),e.GBs(Afe,5),e.GBs(dfe,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.gaugePanelComponent=a.first),e.mGM(a=e.lsd())&&(n.viewFileImportInput=a.first),e.mGM(a=e.lsd())&&(n.cardsview=a.first),e.mGM(a=e.lsd())&&(n.sidePanel=a.first),e.mGM(a=e.lsd())&&(n.svgSelectorPanel=a.first),e.mGM(a=e.lsd())&&(n.svgPreview=a.first),e.mGM(a=e.lsd())&&(n.mapsView=a.first)}},decls:891,vars:509,consts:[["style","position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:rgba(0,0,0,0.2); z-index: 99999;",4,"ngIf"],["mode","side","position","end",1,"sidepanel-selector"],["svgSelectorPanel",""],["mat-icon-button","",2,"position","absolute","top","3px","right","3px",3,"click"],["mat-icon-button","",2,"position","absolute","top","3px","right","40px",3,"click"],[3,"elements","selected","onSelect","onPreview","onEdit"],["mode","side","position","end",1,"editor-sidenav"],["sidePanel",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["id","svg_editor_container"],[1,"svg-workarea-container"],["mode","side","opened","true","disableClose","",1,"svg-sidenav","leave-header-area"],["multi","true"],["hideToggle","true",1,"svg-workarea-leftbar-p",3,"expanded","opened","closed"],[1,"svg-workarea-leftbar-h"],["aria-label","Select",4,"ngIf"],["aria-label","Add","class","leftbar-edit-btn",3,"matTooltip","click",4,"ngIf"],["aria-label","Import","class","leftbar-edit-btn",3,"matTooltip","click",4,"ngIf"],["type","file","id","viewFileUpload","accept",".json",2,"display","none",3,"click","change"],["viewFileImportInput",""],["appResize","",1,"leftbar-panel","view-panel",3,"height","heightChange","changeEnd"],[3,"views","select","viewsChange","selected","viewPropertyChanged","cloneView"],[4,"ngIf"],[1,"svg-tools-fly"],["hideToggle","true","expanded","true",1,"svg-workarea-fly-p",2,"display","none",3,"opened","closed"],[1,"svg-workarea-flybar-h"],["id","_selected_panel"],[1,"_toolset"],["id","idLabel",1,"svg-property",3,"matTooltip"],["id","elem_id","data-attr","id","type","text",1,"attr_changer"],["selid",""],["id","classLabel",1,"svg-property",3,"matTooltip"],["id","elem_class","data-attr","class","type","text",1,"attr_changer"],["hideToggle","true","expanded","true",1,"svg-workarea-fly-p",3,"opened","closed"],["id","_selected_panel",1,"rightbar-panel"],["id","xy_panel",1,"_toolset"],[1,"svg-property-split2"],[1,"svg-property"],["numberOnly","","id","selected_x","type","number","size","4","data-attr","x",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","selected_y","type","number","size","4","data-attr","y",1,"attr_changer","rightbar-input",3,"matTooltip"],["id","line_panel"],["numberOnly","","id","line_x1","type","number","size","4","data-attr","x1",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","line_y1","type","number","size","4","data-attr","y1",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","line_x2","type","number","size","4","data-attr","x2",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","line_y2","type","number","size","4","data-attr","y2",1,"attr_changer","rightbar-input",3,"matTooltip"],["id","rect_panel"],[1,"svg-property",3,"matTooltip"],["numberOnly","","id","rect_width","type","number","size","4","data-attr","width",1,"attr_changer","rightbar-input"],["numberOnly","","id","rect_height","type","number","size","4","data-attr","height",1,"attr_changer","rightbar-input"],["numberOnly","","id","rect_rx","size","4","value","0","type","number","data-attr","Corner Radius",1,"rightbar-input"],["id","htmlctrl_panel"],["numberOnly","","id","htmlctrl_width","type","number","size","4","data-attr","width",1,"attr_changer","rightbar-input"],["numberOnly","","id","htmlctrl_height","type","number","size","4","data-attr","height",1,"attr_changer","rightbar-input"],["id","shape_panel"],["numberOnly","","id","shape_width","type","number","size","4","data-attr","width",1,"attr_changer","rightbar-input"],["numberOnly","","id","shape_height","type","number","size","4","data-attr","height",1,"attr_changer","rightbar-input"],["id","circle_panel"],["numberOnly","","id","circle_cx","type","number","size","4","data-attr","cx",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","circle_cy","type","number","size","4","data-attr","cy",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","circle_r","type","number","size","4","data-attr","r",1,"attr_changer","rightbar-input",3,"matTooltip"],["id","ellipse_panel"],["numberOnly","","id","ellipse_cx","type","number","size","4","data-attr","cx",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","ellipse_cy","type","number","size","4","data-attr","cy",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","ellipse_rx","type","number","size","4","data-attr","rx",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","ellipse_ry","type","number","size","4","data-attr","ry",1,"attr_changer","rightbar-input",3,"matTooltip"],["id","text_panel"],["id","font_family",1,"font-family",3,"change"],["fontfamily",""],[3,"fontFamily","value",4,"ngFor","ngForOf"],["numberOnly","","id","font_size","size","4","value","0","type","number",1,"rightbar-input",3,"matTooltip"],["id","text_anchor",1,"text-align",3,"change"],["textalign",""],["value","start"],["value","middle"],["value","end"],["id","text","type","text","size","35"],["id","image_panel"],["numberOnly","","id","image_width","type","number","size","4","data-attr","width",1,"attr_changer","rightbar-input",3,"matTooltip"],["numberOnly","","id","image_height","type","number","size","4","data-attr","height",1,"attr_changer","rightbar-input",3,"matTooltip"],[1,"svg-property",2,"display","none"],["id","image_url","type","text",1,"attr_changer",3,"matTooltip"],["id","change_image_url",2,"display","none"],["id","url_notice",3,"matTooltip"],["id","tool_angle",1,"svg-property",3,"matTooltip"],["numberOnly","","id","angle","size","4","value","0","type","number",1,"rightbar-input"],[1,"svg-property",2,"vertical-align","top"],["type","checkbox",2,"margin-top","2px",3,"ngModel","ngModelChange","change"],["id","align_panel","hideToggle","true","expanded","true",1,"svg-workarea-fly-p",3,"opened","closed"],[1,"rightbar_panel"],[1,"svg-tool-button",3,"matTooltip","click"],[1,"icon-align-left"],[1,"icon-align-center"],[1,"icon-align-right"],[1,"icon-align-top"],[1,"icon-align-middle"],[1,"icon-align-bottom"],["id","tool_stroke","hideToggle","true","expanded","true",1,"svg-workarea-fly-p",3,"opened","closed"],[1,"_color_tool"],["numberOnly","","id","stroke_width","type","number","size","4","value","1","data-attr","Stroke Width",1,"rightbar-input",3,"matTooltip"],["id","stroke_style",1,"style-stroke",3,"matTooltip"],["selected","selected","value","none"],["value","2,2"],["value","5,5"],["value","5,2,2,2"],["value","5,2,2,2,2,2"],["id","linejoin_miter",1,"svg-tool-button",3,"matTooltip","click"],["linejoinmiter",""],[1,"icon-linejoin-miter"],["id","linejoin_round",1,"svg-tool-button",3,"matTooltip","click"],["linejoinround",""],[1,"icon-linejoin-round"],["id","linejoin_bevel",1,"svg-tool-button",3,"matTooltip","click"],["linejoinbevel",""],[1,"icon-linejoin-bevel"],["id","linecap_butt",1,"svg-tool-button",3,"matTooltip","click"],["linecapbutt",""],[1,"icon-linecap-butt"],["id","linecap_square",1,"svg-tool-button",3,"matTooltip","click"],["linecapsquare",""],[1,"icon-linecap-square"],["id","linecap_round",1,"svg-tool-button",3,"matTooltip","click"],["linecapround",""],[1,"icon-linecap-round"],[1,"svg-property-split2",2,"display","none"],["for","class_shadow"],["type","checkbox","id","class_shadow","name","class_shadow","label","shadow",1,"attr_changer",3,"matTooltip","change"],["id","marker_panel","hideToggle","true","expanded","true",1,"svg-workarea-fly-p",3,"opened","closed"],[1,"svg-property-split3"],["id","start_marker","onfocus","this.selectedIndex=-1;this.blur();",1,"style-stroke",3,"matTooltip","click"],["smarker",""],["id","mid_marker","onfocus","this.selectedIndex=-1;this.blur();",1,"style-stroke",3,"matTooltip","click"],["mmarker",""],["id","end_marker","onfocus","this.selectedIndex=-1;this.blur();",1,"style-stroke",3,"matTooltip","click"],["emarker",""],["id","a_panel","hideToggle","true","expanded","true",1,"svg-workarea-fly-p",3,"opened","closed"],[1,"svg-property",2,"display","table"],["id","link_url","type","text"],["id","interaction_panel","hideToggle","true","expanded","true",1,"svg-workarea-fly-p",3,"opened","closed"],[3,"settings","edit",4,"ngIf"],["id","svg_editor",2,"z-index","-1"],["id","rulers"],["id","ruler_corner"],["id","ruler_x"],["height","15"],["id","ruler_y"],["width","15"],["id","workarea"],["id","svgcanvas",2,"position","relative"],["id","tools_top",1,"tools_panel"],["id","editor_panel"],[1,"main-btn-sep"],["mat-button","",1,"main-btn",3,"matTooltip","click"],["aria-label","Launch Current View"],["aria-label","Zoom Tool [Ctrl+Up/Down]"],["aria-label","Show Hide Grid",4,"ngIf"],["id","history_panel"],["mat-button","","id","tool_undo",1,"main-btn",3,"matTooltip"],["aria-label","Undo [Z]"],["mat-button","","id","tool_redo",1,"main-btn",3,"matTooltip"],["aria-label","Redo [Y]"],["id","selected_panel"],["mat-button","","id","tool_clone",1,"main-btn",3,"matTooltip"],["aria-label","Duplicate Element [D]"],["mat-button","","id","tool_delete",1,"main-btn",3,"matTooltip"],["aria-label","Delete Element [Delete/Backspace]"],["mat-button","","id","tool_move_bottom",1,"main-btn",3,"matTooltip"],[2,"font-size","28px"],["mat-button","","id","tool_move_top",1,"main-btn",3,"matTooltip"],[2,"font-size","28px","transform","scaleX(-1) scaleY(-1) translateX(-28px) translateY(-27px)"],["mat-button","","id","tool_make_link",1,"main-btn",3,"matTooltip","click"],["id","multiselected_panel"],["mat-button","","id","tool_clone_multi",1,"main-btn",3,"matTooltip"],["aria-label","Clone Elements [C]"],["mat-button","","id","tool_delete_multi",1,"main-btn",3,"matTooltip"],["aria-label","Delete Selected Elements [Delete/Backspace]"],["mat-button","","id","tool_group_elements",1,"main-btn",3,"matTooltip"],[1,"group"],["mat-button","","id","tool_alignleft",1,"main-btn",3,"matTooltip"],["mat-button","","id","tool_aligncenter",1,"main-btn",3,"matTooltip"],["mat-button","","id","tool_alignright",1,"main-btn",3,"matTooltip"],["mat-button","","id","tool_aligntop",1,"main-btn",3,"matTooltip"],["mat-button","","id","tool_alignmiddle",1,"main-btn",3,"matTooltip"],["mat-button","","id","tool_alignbottom",1,"main-btn",3,"matTooltip"],["id","threemoreselected_panel"],["mat-button","","id","tool_dividevertical",1,"main-btn",3,"matTooltip"],["mat-button","","id","tool_dividehorizontal",1,"main-btn",3,"matTooltip"],[2,"transform-origin","center center","transform","rotate(90deg)"],["id","g_panel"],["mat-button","","id","tool_ungroup",1,"main-btn",3,"matTooltip"],[1,"ungroup"],[1,"svg-element-selected"],["id","cur_context_panel"],[1,"bottom-bar","tools_panel"],[1,"zoom-menu",3,"matTooltip"],[1,"zoom-value"],["id","zoom","size","3","value","100","type","text","hidden",""],["zoomValue",""],["id","zoom_dropdown",1,"dropdown","selection",2,"margin-top","0px","margin-bottom","0px","margin-right","0px"],[2,"margin-top","2px","width","80px","cursor","pointer","font-size","12px"],["id","fit_to_canvas","data-val","canvas"],["id","fit_to_sel","data-val","selection"],["id","fit_to_all","data-val","content"],["id","tools_bottom_2",1,"colors"],["readonly","",1,"color-fill",3,"colorPicker","cpAlphaChannel","cpPosition","cpPresetColors","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButton","cpOKButtonText","cpOKButtonClass","colorPickerChange"],["readonly","",1,"color-stroke",3,"colorPicker","cpAlphaChannel","cpPosition","cpPresetColors","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpOKButton","cpOKButtonText","cpOKButtonClass","colorPickerChange"],["id","tool_fill","hidden","",1,"color_tool"],["for","fill_color",1,"icon_label",3,"matTooltip"],[1,"color_block"],["id","fill_color",1,"color_block"],["id","tool_stroke","hidden","",1,"color_tool"],["matTooltip","Change stroke color",1,"icon_label"],["id","stroke_bg"],["id","stroke_color",1,"color_block",3,"matTooltip"],["id","tools_bottom_3",1,"colors-palette"],["id","palette_holder"],["id","palette",3,"matTooltip"],["id","option_lists",1,"dropdown"],["id","position_opts",1,"optcols3"],["id","tool_posleft","matTooltip","Align Left",1,"push_button"],["id","tool_poscenter","matTooltip","Align Center",1,"push_button"],["id","tool_posright","matTooltip","Align Right",1,"push_button"],["id","tool_postop","matTooltip","Align Top",1,"push_button"],["id","tool_posmiddle","matTooltip","Align Middle",1,"push_button"],["id","tool_posbottom","matTooltip","Align Bottom",1,"push_button"],[2,"width","100%","height","100%"],["id","svg_source_editor"],[1,"overlay"],["id","svg_source_container"],["id","tool_source_back",1,"toolbar_button"],["id","tool_source_save"],["id","tool_source_cancel"],["id","save_output_btns"],["id","copy_save_note"],["id","copy_save_done"],["id","svg_source_textarea","spellcheck","false"],["id","svg_docprops"],["id","svg_docprops_container"],["id","tool_docprops_back",1,"toolbar_button"],["id","tool_docprops_save"],["id","tool_docprops_cancel"],["id","svg_docprops_docprops"],["id","svginfo_image_props"],["id","svginfo_title"],["type","text","id","canvas_title"],["id","change_resolution"],["id","svginfo_dim"],["id","svginfo_width"],["type","text","id","canvas_width","size","6"],["id","svginfo_height"],["type","text","id","canvas_height","size","6"],["id","resolution"],["id","selectedPredefined","selected","selected"],["id","fitToContent","value","content"],["id","image_save_opts"],["id","includedImages"],["type","radio","name","image_opt","value","embed","checked","checked"],["id","image_opt_embed"],["type","radio","name","image_opt","value","ref"],["id","image_opt_ref"],["id","svg_prefs"],["id","svg_prefs_container"],["id","tool_prefs_back",1,"toolbar_button"],["id","tool_prefs_save"],["id","tool_prefs_cancel"],["id","svginfo_editor_prefs"],["id","svginfo_lang"],["id","lang_select"],["id","lang_ar","value","ar"],["id","lang_cs","value","cs"],["id","lang_de","value","de"],["id","lang_en","value","en","selected","selected"],["id","lang_es","value","es"],["id","lang_fa","value","fa"],["id","lang_fr","value","fr"],["id","lang_fy","value","fy"],["id","lang_hi","value","hi"],["id","lang_it","value","it"],["id","lang_ja","value","ja"],["id","lang_nl","value","nl"],["id","lang_pl","value","pl"],["id","lang_pt-BR","value","pt-BR"],["id","lang_ro","value","ro"],["id","lang_ru","value","ru"],["id","lang_sk","value","sk"],["id","lang_sl","value","sl"],["id","lang_zh-TW","value","zh-TW"],["id","svginfo_icons"],["id","iconsize"],["id","icon_small","value","s"],["id","icon_medium","value","m","selected","selected"],["id","icon_large","value","l"],["id","icon_xlarge","value","xl"],["id","change_background"],["id","svginfo_change_background"],["id","bg_blocks"],["id","svginfo_bg_url"],["type","text","id","canvas_bg_url"],["id","svginfo_bg_note"],["id","change_grid"],["id","svginfo_grid_settings"],["id","svginfo_snap_onoff"],["type","checkbox","value","snapping_on","id","grid_snapping_on"],["id","svginfo_snap_step"],["type","text","id","grid_snapping_step","size","3","value","10"],["id","svginfo_grid_color"],["type","text","id","grid_color","size","3","value","#000"],["id","units_rulers"],["id","svginfo_units_rulers"],["id","svginfo_rulers_onoff"],["type","checkbox","value","show_rulers","id","show_rulers","checked","checked"],["id","svginfo_unit"],["id","base_unit"],["value","px"],["value","cm"],["value","mm"],["value","in"],["value","pt"],["value","pc"],["value","em"],["value","ex"],["id","dialog_box"],["id","dialog_container"],["id","dialog_content"],["id","dialog_buttons"],["id","cmenu_canvas",1,"contextMenu","svg-workarea-contextmenu"],["id","#interactivity",3,"click"],["id","#editBindOfTags",3,"click"],[1,"separator"],["id","#cut"],["id","#copy"],["id","#paste"],["id","#paste_in_place"],["id","#delete"],["id","#group"],[1,"shortcut"],["id","#ungroup"],["id","#move_front"],["id","#move_up"],["id","#move_back"],["id","#move_down"],["id","cmenu_layers",1,"contextMenu",2,"display","none"],["href","#dupe"],["href","#delete"],["href","#merge_down"],["href","#merge_all"],[1,"svg-preview"],["svgpreview",""],[2,"position","absolute","top","0px","left","0px","right","0px","bottom","0px","background-color","rgba(0,0,0,0.2)","z-index","99999"],["mode","indeterminate","color","warn",2,"position","absolute","top","0px","left","0px","right","0px","z-index","99999"],[3,"data","reload","onPropChanged"],["aria-label","Select"],["aria-label","Add",1,"leftbar-edit-btn",3,"matTooltip","click"],["aria-label","Import",1,"leftbar-edit-btn",3,"matTooltip","click"],["id","__tools_left",1,"leftbar-panel","h200"],[1,"svg-tool-button",3,"ngClass","matTooltip","click"],[1,"icon-select"],[1,"icon-pencil"],[1,"icon-line"],[1,"icon-rect"],[1,"icon-circle"],[1,"icon-ellipse"],[1,"icon-path"],[1,"icon-text"],[1,"icon-image"],["type","file","accept","image/png|jpg|svg",2,"display","none",3,"change"],["imagefile",""],["id","tool_line",2,"display","none"],[1,"svg-tool-button",3,"matTooltip","ngClass","click"],[1,"icon-tool","icon-editvalue"],[1,"icon-tool","icon-value"],[1,"icon-tool","icon-button"],[1,"icon-tool","icon-selectvalue"],[1,"icon-tool","icon-progress-v"],[1,"icon-tool","icon-semaphore"],[1,"icon-tool","icon-chart"],[1,"icon-tool","icon-bag"],[1,"icon-tool","icon-pipe"],[1,"icon-tool","icon-slider"],[1,"icon-tool","icon-switch"],[1,"icon-tool","icon-graphbar"],[1,"icon-tool","icon-table"],[1,"icon-tool","icon-iframe"],[1,"material-icon-tool","material-icons"],["imageLink",""],[1,"material-icon-tool","material-icons",2,"font-size","25px"],["class","svg-workarea-leftbar-p","hideToggle","true",3,"expanded","opened","closed",4,"ngFor","ngForOf"],[1,"leftbar-edit-btn",3,"click"],["matExpansionPanelContent",""],["hideToggle","true",1,"svg-workarea-leftbar-p"],[1,"svg-workarea-leftbar-h",2,"max-height","32px","height","32px"],["aria-label","Select",2,"color","rgba(255,255, 255,0.4)"],["style","margin-left: 3px;margin-right: 3px;","class","svg-tool-button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"svg-tool-button",2,"margin-left","3px","margin-right","3px",3,"ngClass","click"],[1,"icon-tool"],[3,"value"],[3,"settings","edit"],["gaugepanel",""],["aria-label","Show Hide Grid"],[1,"tools_panel",2,"display","inline-flex","width","100%","height","37px"],[1,"main-btn-sep",2,"display","inline-block"],["mat-button","",1,"main-btn",2,"display","inline-block",3,"matTooltip","click"],[2,"position","absolute","top","37px","left","0px","right","0px","bottom","0px","background-color","rgba(247, 247, 247, 1)"],[3,"edit","view","hmi","gaugesManager","editCard","save"],["cardsview",""],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"view","hmi","gaugesManager","editMode"],["mapsView",""]],template:function(i,n){if(1&i){const a=e.RV6();e.DNE(0,ufe,2,0,"div",0),e.j41(1,"mat-drawer",1,2)(3,"button",3),e.bIt("click",function(){e.eBV(a);const d=e.sdS(2);return e.Njj(d.toggle())}),e.j41(4,"mat-icon"),e.EFF(5,"close"),e.k0s()(),e.j41(6,"button",4),e.bIt("click",function(){return n.checkSvgElementsMap(!0)}),e.j41(7,"mat-icon"),e.EFF(8,"autorenew"),e.k0s()(),e.j41(9,"app-svg-selector",5),e.bIt("onSelect",function(d){return n.onSvgElementSelected(d)})("onPreview",function(d){return n.onSvgElementPreview(d)})("onEdit",function(d){return n.onGaugeEdit(d)}),e.k0s()(),e.j41(10,"mat-drawer",6,7)(12,"button",3),e.bIt("click",function(){e.eBV(a);const d=e.sdS(11);return e.Njj(d.toggle())}),e.j41(13,"mat-icon"),e.EFF(14,"close"),e.k0s()(),e.j41(15,"div",8),e.DNE(16,hfe,2,2,"div",9),e.DNE(17,pfe,2,2,"div",9),e.DNE(18,ffe,2,2,"div",9),e.DNE(19,gfe,2,2,"div",9),e.DNE(20,mfe,2,2,"div",9),e.DNE(21,vfe,2,2,"div",9),e.k0s()(),e.j41(22,"div",10)(23,"mat-drawer-container",11)(24,"mat-drawer",12)(25,"mat-accordion",13)(26,"mat-expansion-panel",14),e.bIt("opened",function(){return n.panelsState.panelView=!0,n.savePanelState()})("closed",function(){return n.panelsState.panelView=!1,n.savePanelState()}),e.j41(27,"mat-expansion-panel-header",15)(28,"mat-panel-title"),e.DNE(29,_fe,2,0,"mat-icon",16),e.DNE(30,yfe,2,0,"mat-icon",16),e.j41(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.DNE(34,bfe,3,3,"mat-icon",17),e.DNE(35,wfe,3,3,"mat-icon",18),e.j41(36,"input",19,20),e.bIt("click",function(d){return d.stopPropagation()})("change",function(d){return n.onViewFileChangeListener(d)}),e.k0s()(),e.j41(38,"div",21),e.bIt("heightChange",function(d){return n.panelsState.panelViewHeight=d})("changeEnd",function(){return n.savePanelState()}),e.j41(39,"app-editor-views-list",22),e.bIt("viewsChange",function(d){return n.hmi.views=d})("selected",function(d){return n.onSelectView(d,!1)})("viewPropertyChanged",function(d){return n.onViewPropertyChanged(d)})("cloneView",function(d){return n.onCloneView(d)}),e.k0s()()(),e.DNE(40,Qfe,129,181,"div",23),e.k0s()(),e.j41(41,"mat-drawer-content")(42,"div")(43,"div",24)(44,"mat-expansion-panel",25),e.bIt("opened",function(){return n.panelPropertyIdOpenState=!0})("closed",function(){return n.panelPropertyIdOpenState=!1}),e.j41(45,"mat-expansion-panel-header",26)(46,"mat-panel-title"),e.DNE(47,Rfe,2,0,"mat-icon",16),e.DNE(48,Pfe,2,0,"mat-icon",16),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()()(),e.j41(52,"div",27)(53,"div",28)(54,"label",29),e.nI1(55,"translate"),e.j41(56,"span"),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.nrm(59,"input",30,31),e.k0s(),e.j41(61,"label",32),e.nI1(62,"translate"),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.nrm(66,"input",33),e.k0s()()()(),e.j41(67,"mat-expansion-panel",34),e.bIt("opened",function(){return n.panelPropertyTransformOpenState=!0})("closed",function(){return n.panelPropertyTransformOpenState=!1}),e.j41(68,"mat-expansion-panel-header",15)(69,"mat-panel-title"),e.DNE(70,Ofe,2,0,"mat-icon",16),e.DNE(71,Lfe,2,0,"mat-icon",16),e.j41(72,"span"),e.EFF(73),e.nI1(74,"translate"),e.k0s()()(),e.j41(75,"div",35)(76,"div",28)(77,"div",36)(78,"div",37)(79,"div",38)(80,"span"),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.nrm(83,"input",39),e.nI1(84,"translate"),e.k0s(),e.j41(85,"div",38)(86,"span"),e.EFF(87),e.nI1(88,"translate"),e.k0s(),e.nrm(89,"input",40),e.nI1(90,"translate"),e.k0s()()(),e.j41(91,"div",41)(92,"div",37)(93,"div",38)(94,"span"),e.EFF(95),e.nI1(96,"translate"),e.k0s(),e.nrm(97,"input",42),e.nI1(98,"translate"),e.k0s(),e.j41(99,"div",38)(100,"span"),e.EFF(101),e.nI1(102,"translate"),e.k0s(),e.nrm(103,"input",43),e.nI1(104,"translate"),e.k0s()(),e.j41(105,"div",37)(106,"div",38)(107,"span"),e.EFF(108),e.nI1(109,"translate"),e.k0s(),e.nrm(110,"input",44),e.nI1(111,"translate"),e.k0s(),e.j41(112,"div",38)(113,"span"),e.EFF(114),e.nI1(115,"translate"),e.k0s(),e.nrm(116,"input",45),e.nI1(117,"translate"),e.k0s()()(),e.j41(118,"div",46)(119,"div",37)(120,"div",47),e.nI1(121,"translate"),e.j41(122,"span"),e.EFF(123),e.nI1(124,"translate"),e.k0s(),e.nrm(125,"input",48),e.k0s(),e.j41(126,"div",47),e.nI1(127,"translate"),e.j41(128,"span"),e.EFF(129),e.nI1(130,"translate"),e.k0s(),e.nrm(131,"input",49),e.k0s()(),e.j41(132,"div",37)(133,"div",47),e.nI1(134,"translate"),e.j41(135,"span"),e.EFF(136),e.nI1(137,"translate"),e.k0s(),e.nrm(138,"input",50),e.k0s()()(),e.j41(139,"div",51)(140,"div",37)(141,"div",47),e.nI1(142,"translate"),e.j41(143,"span"),e.EFF(144),e.nI1(145,"translate"),e.k0s(),e.nrm(146,"input",52),e.k0s(),e.j41(147,"div",47),e.nI1(148,"translate"),e.j41(149,"span"),e.EFF(150),e.nI1(151,"translate"),e.k0s(),e.nrm(152,"input",53),e.k0s()()(),e.j41(153,"div",54)(154,"div",37)(155,"div",47),e.nI1(156,"translate"),e.j41(157,"span"),e.EFF(158),e.nI1(159,"translate"),e.k0s(),e.nrm(160,"input",55),e.k0s(),e.j41(161,"div",47),e.nI1(162,"translate"),e.j41(163,"span"),e.EFF(164),e.nI1(165,"translate"),e.k0s(),e.nrm(166,"input",56),e.k0s()()(),e.j41(167,"div",57)(168,"div",37)(169,"div",38)(170,"span"),e.EFF(171),e.nI1(172,"translate"),e.k0s(),e.nrm(173,"input",58),e.nI1(174,"translate"),e.k0s(),e.j41(175,"div",38)(176,"span"),e.EFF(177),e.nI1(178,"translate"),e.k0s(),e.nrm(179,"input",59),e.nI1(180,"translate"),e.k0s()(),e.j41(181,"div",37)(182,"div",38)(183,"span"),e.EFF(184),e.nI1(185,"translate"),e.k0s(),e.nrm(186,"input",60),e.nI1(187,"translate"),e.k0s()()(),e.j41(188,"div",61)(189,"div",37)(190,"div",38)(191,"span"),e.EFF(192),e.nI1(193,"translate"),e.k0s(),e.nrm(194,"input",62),e.nI1(195,"translate"),e.k0s(),e.j41(196,"div",38)(197,"span"),e.EFF(198),e.nI1(199,"translate"),e.k0s(),e.nrm(200,"input",63),e.nI1(201,"translate"),e.k0s()(),e.j41(202,"div",37)(203,"div",38)(204,"span"),e.EFF(205),e.nI1(206,"translate"),e.k0s(),e.nrm(207,"input",64),e.nI1(208,"translate"),e.k0s(),e.j41(209,"div",38)(210,"span"),e.EFF(211),e.nI1(212,"translate"),e.k0s(),e.nrm(213,"input",65),e.nI1(214,"translate"),e.k0s()()(),e.j41(215,"div",66)(216,"div",38)(217,"span"),e.EFF(218),e.nI1(219,"translate"),e.k0s(),e.j41(220,"select",67,68),e.bIt("change",function(){e.eBV(a);const d=e.sdS(221);return e.Njj(n.onFontFamilyChange(d.value))}),e.DNE(222,Yfe,2,4,"option",69),e.k0s()(),e.j41(223,"div",37)(224,"div",38)(225,"span"),e.EFF(226),e.nI1(227,"translate"),e.k0s(),e.nrm(228,"input",70),e.nI1(229,"translate"),e.k0s(),e.j41(230,"div",38)(231,"span"),e.EFF(232),e.nI1(233,"translate"),e.k0s(),e.j41(234,"select",71,72),e.bIt("change",function(){e.eBV(a);const d=e.sdS(235);return e.Njj(n.onTextAlignChange(d.value))}),e.j41(236,"option",73),e.EFF(237),e.nI1(238,"translate"),e.k0s(),e.j41(239,"option",74),e.EFF(240),e.nI1(241,"translate"),e.k0s(),e.j41(242,"option",75),e.EFF(243),e.nI1(244,"translate"),e.k0s()()()(),e.nrm(245,"input",76),e.k0s(),e.j41(246,"div",77)(247,"div",37)(248,"div",38)(249,"span"),e.EFF(250),e.nI1(251,"translate"),e.k0s(),e.nrm(252,"input",78),e.nI1(253,"translate"),e.k0s(),e.j41(254,"div",38)(255,"span"),e.EFF(256),e.nI1(257,"translate"),e.k0s(),e.nrm(258,"input",79),e.nI1(259,"translate"),e.k0s()(),e.j41(260,"div",80)(261,"div",38)(262,"span"),e.EFF(263),e.nI1(264,"translate"),e.k0s(),e.nrm(265,"input",81),e.nI1(266,"translate"),e.k0s(),e.j41(267,"div",38)(268,"div",38)(269,"button",82),e.EFF(270),e.nI1(271,"translate"),e.k0s(),e.nrm(272,"span",83),e.nI1(273,"translate"),e.k0s()()()(),e.j41(274,"div",84),e.nI1(275,"translate"),e.j41(276,"div",37)(277,"div",38)(278,"span"),e.EFF(279),e.nI1(280,"translate"),e.k0s(),e.nrm(281,"input",85),e.k0s(),e.j41(282,"div",86)(283,"span"),e.EFF(284),e.nI1(285,"translate"),e.k0s(),e.j41(286,"input",87),e.bIt("ngModelChange",function(d){return n.gaugeSettingsHide=d})("change",function(){return n.onHideSelectionToggle(n.gaugeSettingsHide)}),e.k0s()(),e.j41(287,"div",86)(288,"span"),e.EFF(289),e.nI1(290,"translate"),e.k0s(),e.j41(291,"input",87),e.bIt("ngModelChange",function(d){return n.gaugeSettingsLock=d})("change",function(){return n.onLockSelectionToggle(n.gaugeSettingsLock)}),e.k0s()()()()()()(),e.j41(292,"mat-expansion-panel",88),e.bIt("opened",function(){return n.panelAlignOpenState=!0})("closed",function(){return n.panelAlignOpenState=!1}),e.j41(293,"mat-expansion-panel-header",15)(294,"mat-panel-title"),e.DNE(295,Nfe,2,0,"mat-icon",16),e.DNE(296,jfe,2,0,"mat-icon",16),e.j41(297,"span"),e.EFF(298),e.nI1(299,"translate"),e.k0s()()(),e.j41(300,"div",89)(301,"div",90),e.bIt("click",function(){return n.onAlignSelected("left")}),e.nI1(302,"translate"),e.nrm(303,"span",91),e.k0s(),e.j41(304,"div",90),e.bIt("click",function(){return n.onAlignSelected("center")}),e.nI1(305,"translate"),e.nrm(306,"span",92),e.k0s(),e.j41(307,"div",90),e.bIt("click",function(){return n.onAlignSelected("right")}),e.nI1(308,"translate"),e.nrm(309,"span",93),e.k0s(),e.j41(310,"div",90),e.bIt("click",function(){return n.onAlignSelected("top")}),e.nI1(311,"translate"),e.nrm(312,"span",94),e.k0s(),e.j41(313,"div",90),e.bIt("click",function(){return n.onAlignSelected("middle")}),e.nI1(314,"translate"),e.nrm(315,"span",95),e.k0s(),e.j41(316,"div",90),e.bIt("click",function(){return n.onAlignSelected("bottom")}),e.nI1(317,"translate"),e.nrm(318,"span",96),e.k0s()()(),e.j41(319,"mat-expansion-panel",97),e.bIt("opened",function(){return n.panelFillOpenState=!0})("closed",function(){return n.panelFillOpenState=!1}),e.j41(320,"mat-expansion-panel-header",15)(321,"mat-panel-title"),e.DNE(322,Gfe,2,0,"mat-icon",16),e.DNE(323,Ufe,2,0,"mat-icon",16),e.j41(324,"span"),e.EFF(325),e.nI1(326,"translate"),e.k0s()()(),e.j41(327,"div",89)(328,"div",98)(329,"div",37)(330,"div",38)(331,"span"),e.EFF(332),e.nI1(333,"translate"),e.k0s(),e.nrm(334,"input",99),e.nI1(335,"translate"),e.k0s(),e.j41(336,"div",38)(337,"span"),e.EFF(338),e.nI1(339,"translate"),e.k0s(),e.j41(340,"select",100),e.nI1(341,"translate"),e.j41(342,"option",101),e.EFF(343,"\u2014"),e.k0s(),e.j41(344,"option",102),e.EFF(345,"..."),e.k0s(),e.j41(346,"option",103),e.EFF(347,"- -"),e.k0s(),e.j41(348,"option",104),e.EFF(349,"- ."),e.k0s(),e.j41(350,"option",105),e.EFF(351,"- .."),e.k0s()()()(),e.j41(352,"div",38)(353,"div",106,107),e.bIt("click",function(){e.eBV(a);const d=e.sdS(354);return e.Njj(n.onSetStrokeOption(d))}),e.nI1(355,"translate"),e.nrm(356,"span",108),e.k0s(),e.j41(357,"div",109,110),e.bIt("click",function(){e.eBV(a);const d=e.sdS(358);return e.Njj(n.onSetStrokeOption(d))}),e.nI1(359,"translate"),e.nrm(360,"span",111),e.k0s(),e.j41(361,"div",112,113),e.bIt("click",function(){e.eBV(a);const d=e.sdS(362);return e.Njj(n.onSetStrokeOption(d))}),e.nI1(363,"translate"),e.nrm(364,"span",114),e.k0s()(),e.j41(365,"div",38)(366,"div",115,116),e.bIt("click",function(){e.eBV(a);const d=e.sdS(367);return e.Njj(n.onSetStrokeOption(d))}),e.nI1(368,"translate"),e.nrm(369,"span",117),e.k0s(),e.j41(370,"div",118,119),e.bIt("click",function(){e.eBV(a);const d=e.sdS(371);return e.Njj(n.onSetStrokeOption(d))}),e.nI1(372,"translate"),e.nrm(373,"span",120),e.k0s(),e.j41(374,"div",121,122),e.bIt("click",function(){e.eBV(a);const d=e.sdS(375);return e.Njj(n.onSetStrokeOption(d))}),e.nI1(376,"translate"),e.nrm(377,"span",123),e.k0s()(),e.j41(378,"div",124)(379,"div",38)(380,"span",125),e.EFF(381),e.nI1(382,"translate"),e.k0s(),e.j41(383,"input",126),e.bIt("change",function(d){return n.onSetShadowOption(d.target.checked)}),e.nI1(384,"translate"),e.k0s()(),e.nrm(385,"div",38),e.k0s()()()(),e.j41(386,"mat-expansion-panel",127),e.bIt("opened",function(){return n.panelMarkerOpenState=!0})("closed",function(){return n.panelMarkerOpenState=!1}),e.j41(387,"mat-expansion-panel-header",15)(388,"mat-panel-title"),e.DNE(389,zfe,2,0,"mat-icon",16),e.DNE(390,Hfe,2,0,"mat-icon",16),e.j41(391,"span"),e.EFF(392),e.nI1(393,"translate"),e.k0s()()(),e.j41(394,"div",89)(395,"div",128)(396,"div",38)(397,"span"),e.EFF(398),e.nI1(399,"translate"),e.k0s(),e.j41(400,"select",129,130),e.bIt("click",function(){e.eBV(a);const d=e.sdS(401);return e.Njj(n.onSetMarker("start_marker",d.selectedIndex))}),e.nI1(402,"translate"),e.k0s()(),e.j41(403,"div",38)(404,"span"),e.EFF(405),e.nI1(406,"translate"),e.k0s(),e.j41(407,"select",131,132),e.bIt("click",function(){e.eBV(a);const d=e.sdS(408);return e.Njj(n.onSetMarker("mid_marker",d.selectedIndex))}),e.nI1(409,"translate"),e.k0s()(),e.j41(410,"div",38)(411,"span"),e.EFF(412),e.nI1(413,"translate"),e.k0s(),e.j41(414,"select",133,134),e.bIt("click",function(){e.eBV(a);const d=e.sdS(415);return e.Njj(n.onSetMarker("end_marker",d.selectedIndex))}),e.nI1(416,"translate"),e.k0s()()()()(),e.j41(417,"mat-expansion-panel",135),e.bIt("opened",function(){return n.panelHyperlinkOpenState=!0})("closed",function(){return n.panelHyperlinkOpenState=!1}),e.j41(418,"mat-expansion-panel-header",15)(419,"mat-panel-title"),e.DNE(420,Vfe,2,0,"mat-icon",16),e.DNE(421,Jfe,2,0,"mat-icon",16),e.j41(422,"span"),e.EFF(423),e.nI1(424,"translate"),e.k0s()()(),e.j41(425,"div",89)(426,"div",136)(427,"span"),e.EFF(428),e.nI1(429,"translate"),e.k0s(),e.nrm(430,"input",137),e.k0s()()(),e.j41(431,"mat-expansion-panel",138),e.bIt("opened",function(){return n.panelEventOpenState=!0})("closed",function(){return n.panelEventOpenState=!1}),e.j41(432,"mat-expansion-panel-header",15)(433,"mat-panel-title"),e.DNE(434,Wfe,2,0,"mat-icon",16),e.DNE(435,Kfe,2,0,"mat-icon",16),e.j41(436,"span"),e.EFF(437),e.nI1(438,"translate"),e.k0s()()(),e.j41(439,"div",89),e.DNE(440,Xfe,2,1,"gauge-base",139),e.k0s()()(),e.j41(441,"div",140)(442,"div",141),e.nrm(443,"div",142),e.j41(444,"div",143)(445,"div"),e.nrm(446,"canvas",144),e.k0s()(),e.j41(447,"div",145)(448,"div"),e.nrm(449,"canvas",146),e.k0s()()(),e.j41(450,"div",147),e.nrm(451,"div",148),e.k0s(),e.j41(452,"div",149)(453,"div",150),e.nrm(454,"div",151),e.j41(455,"button",152),e.bIt("click",function(){return n.onStartCurrent()}),e.nI1(456,"translate"),e.j41(457,"mat-icon",153),e.EFF(458,"play_arrow"),e.k0s()(),e.nrm(459,"div",151),e.j41(460,"button",152),e.bIt("click",function(){return n.onZoomSelect()}),e.nI1(461,"translate"),e.j41(462,"mat-icon",154),e.EFF(463,"zoom_in"),e.k0s()(),e.j41(464,"button",152),e.bIt("click",function(){return n.onShowGrid()}),e.nI1(465,"translate"),e.DNE(466,Zfe,2,0,"mat-icon",155),e.DNE(467,$fe,2,0,"mat-icon",155),e.k0s(),e.j41(468,"div",156)(469,"button",157),e.nI1(470,"translate"),e.j41(471,"mat-icon",158),e.EFF(472,"undo"),e.k0s()(),e.j41(473,"button",159),e.nI1(474,"translate"),e.j41(475,"mat-icon",160),e.EFF(476,"redo"),e.k0s()()()(),e.j41(477,"div",161),e.nrm(478,"div",151),e.j41(479,"button",162),e.nI1(480,"translate"),e.j41(481,"mat-icon",163),e.EFF(482,"content_copy"),e.k0s()(),e.j41(483,"button",164),e.nI1(484,"translate"),e.j41(485,"mat-icon",165),e.EFF(486,"content_cut"),e.k0s()(),e.j41(487,"button",166),e.nI1(488,"translate"),e.j41(489,"mat-icon",167),e.EFF(490,"low_priority"),e.k0s()(),e.j41(491,"button",168),e.nI1(492,"translate"),e.j41(493,"mat-icon",169),e.EFF(494,"low_priority"),e.k0s()(),e.j41(495,"button",170),e.bIt("click",function(){return n.onMakeHyperlink()}),e.nI1(496,"translate"),e.j41(497,"mat-icon",167),e.EFF(498,"link"),e.k0s()()(),e.j41(499,"div",171),e.nrm(500,"div",151),e.j41(501,"button",172),e.nI1(502,"translate"),e.j41(503,"mat-icon",173),e.EFF(504,"content_copy"),e.k0s()(),e.j41(505,"button",174),e.nI1(506,"translate"),e.j41(507,"mat-icon",175),e.EFF(508,"content_cut"),e.k0s()(),e.j41(509,"button",176),e.nI1(510,"translate"),e.nrm(511,"span",177),e.k0s(),e.j41(512,"button",178),e.nI1(513,"translate"),e.j41(514,"mat-icon"),e.EFF(515,"format_align_left"),e.k0s()(),e.j41(516,"button",179),e.nI1(517,"translate"),e.j41(518,"mat-icon"),e.EFF(519,"format_align_center"),e.k0s()(),e.j41(520,"button",180),e.nI1(521,"translate"),e.j41(522,"mat-icon"),e.EFF(523,"format_align_right"),e.k0s()(),e.j41(524,"button",181),e.nI1(525,"translate"),e.j41(526,"mat-icon"),e.EFF(527,"vertical_align_top"),e.k0s()(),e.j41(528,"button",182),e.nI1(529,"translate"),e.j41(530,"mat-icon"),e.EFF(531,"vertical_align_center"),e.k0s()(),e.j41(532,"button",183),e.nI1(533,"translate"),e.j41(534,"mat-icon"),e.EFF(535,"vertical_align_bottom"),e.k0s()()(),e.j41(536,"div",184)(537,"button",185),e.nI1(538,"translate"),e.j41(539,"mat-icon"),e.EFF(540,"format_line_spacing"),e.k0s()(),e.j41(541,"button",186),e.nI1(542,"translate"),e.j41(543,"mat-icon",187),e.EFF(544,"format_line_spacing"),e.k0s()()(),e.j41(545,"div",188)(546,"button",189),e.nI1(547,"translate"),e.nrm(548,"span",190),e.k0s()(),e.j41(549,"div",191)(550,"button",152),e.bIt("click",function(){e.eBV(a);const d=e.sdS(2);return e.Njj(d.toggle())}),e.nI1(551,"translate"),e.j41(552,"mat-icon",167),e.EFF(553,"list"),e.k0s()()()(),e.nrm(554,"div",192),e.j41(555,"div",193)(556,"div",194),e.nI1(557,"translate"),e.j41(558,"div",195),e.nrm(559,"input",196,197),e.j41(561,"div",198)(562,"button",199),e.EFF(563),e.k0s(),e.j41(564,"ul")(565,"li"),e.EFF(566,"1000%"),e.k0s(),e.j41(567,"li"),e.EFF(568,"400%"),e.k0s(),e.j41(569,"li"),e.EFF(570,"200%"),e.k0s(),e.j41(571,"li"),e.EFF(572,"100%"),e.k0s(),e.j41(573,"li"),e.EFF(574,"50%"),e.k0s(),e.j41(575,"li"),e.EFF(576,"25%"),e.k0s(),e.j41(577,"li",200),e.EFF(578),e.nI1(579,"translate"),e.k0s(),e.j41(580,"li",201),e.EFF(581),e.nI1(582,"translate"),e.k0s(),e.j41(583,"li",202),e.EFF(584),e.nI1(585,"translate"),e.k0s(),e.j41(586,"li"),e.EFF(587,"100%"),e.k0s()()()()(),e.j41(588,"div",203)(589,"input",204),e.bIt("colorPickerChange",function(d){return n.colorFill=d})("colorPickerChange",function(d){return n.onChangeFillColor(d)}),e.k0s(),e.j41(590,"input",205),e.bIt("colorPickerChange",function(d){return n.colorStroke=d})("colorPickerChange",function(d){return n.onChangeStrokeColor(d)}),e.k0s(),e.j41(591,"div",206),e.nrm(592,"label",207),e.nI1(593,"translate"),e.j41(594,"div",208),e.nrm(595,"div",209),e.k0s()(),e.j41(596,"div",210),e.nrm(597,"label",211),e.j41(598,"div",208),e.nrm(599,"div",212)(600,"div",213),e.nI1(601,"translate"),e.k0s()()(),e.j41(602,"div",214)(603,"div",215),e.nrm(604,"div",216),e.nI1(605,"translate"),e.k0s()()(),e.j41(606,"div",217)(607,"ul",218),e.nrm(608,"li",219)(609,"li",220)(610,"li",221)(611,"li",222)(612,"li",223)(613,"li",224),e.k0s()()()(),e.j41(614,"div",225),e.DNE(615,qfe,13,7,"ng-container",23),e.DNE(616,ege,3,4,"ng-container",23),e.k0s()()(),e.j41(617,"div",226),e.nrm(618,"div",227),e.j41(619,"div",228)(620,"div",229)(621,"button",230),e.EFF(622,"Apply Changes"),e.k0s(),e.j41(623,"button",231),e.EFF(624,"Cancel"),e.k0s()(),e.j41(625,"div",232)(626,"p",233),e.EFF(627,"Copy the contents of this box into a text editor, then save the file with a .svg extension."),e.k0s(),e.j41(628,"button",234),e.EFF(629,"Done"),e.k0s()(),e.j41(630,"form"),e.nrm(631,"textarea",235),e.k0s()()(),e.j41(632,"div",236),e.nrm(633,"div",227),e.j41(634,"div",237)(635,"div",238)(636,"button",239),e.EFF(637,"OK"),e.k0s(),e.j41(638,"button",240),e.EFF(639,"Cancel"),e.k0s()(),e.j41(640,"fieldset",241)(641,"legend",242),e.EFF(642,"Image Properties"),e.k0s(),e.j41(643,"label")(644,"span",243),e.EFF(645,"Title:"),e.k0s(),e.nrm(646,"input",244),e.k0s(),e.j41(647,"fieldset",245)(648,"legend",246),e.EFF(649,"Canvas Dimensions"),e.k0s(),e.j41(650,"label")(651,"span",247),e.EFF(652,"width:"),e.k0s(),e.nrm(653,"input",248),e.k0s(),e.j41(654,"label")(655,"span",249),e.EFF(656,"height:"),e.k0s(),e.nrm(657,"input",250),e.k0s(),e.j41(658,"label")(659,"select",251)(660,"option",252),e.EFF(661,"Select predefined:"),e.k0s(),e.j41(662,"option"),e.EFF(663,"640x480"),e.k0s(),e.j41(664,"option"),e.EFF(665,"800x600"),e.k0s(),e.j41(666,"option"),e.EFF(667,"1024x768"),e.k0s(),e.j41(668,"option"),e.EFF(669,"1280x960"),e.k0s(),e.j41(670,"option"),e.EFF(671,"1600x1200"),e.k0s(),e.j41(672,"option",253),e.EFF(673,"Fit to Content"),e.k0s()()()(),e.j41(674,"fieldset",254)(675,"legend",255),e.EFF(676,"Included Images"),e.k0s(),e.j41(677,"label"),e.nrm(678,"input",256),e.j41(679,"span",257),e.EFF(680,"Embed data (local files)"),e.k0s()(),e.j41(681,"label"),e.nrm(682,"input",258),e.j41(683,"span",259),e.EFF(684,"Use file reference"),e.k0s()()()()()(),e.j41(685,"div",260),e.nrm(686,"div",227),e.j41(687,"div",261)(688,"div",262)(689,"button",263),e.EFF(690,"OK"),e.k0s(),e.j41(691,"button",264),e.EFF(692,"Cancel"),e.k0s()(),e.j41(693,"fieldset")(694,"legend",265),e.EFF(695,"Editor Preferences"),e.k0s(),e.j41(696,"label")(697,"span",266),e.EFF(698,"Language:"),e.k0s(),e.j41(699,"select",267)(700,"option",268),e.EFF(701,"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"),e.k0s(),e.j41(702,"option",269),e.EFF(703,"\u010ce\u0161tina"),e.k0s(),e.j41(704,"option",270),e.EFF(705,"Deutsch"),e.k0s(),e.j41(706,"option",271),e.EFF(707,"English"),e.k0s(),e.j41(708,"option",272),e.EFF(709,"Espa\xf1ol"),e.k0s(),e.j41(710,"option",273),e.EFF(711,"\u0641\u0627\u0631\u0633\u06cc"),e.k0s(),e.j41(712,"option",274),e.EFF(713,"Fran\xe7ais"),e.k0s(),e.j41(714,"option",275),e.EFF(715,"Frysk"),e.k0s(),e.j41(716,"option",276),e.EFF(717,"\u0939\u093f\u0928\u094d\u0926\u0940, \u0939\u093f\u0902\u0926\u0940"),e.k0s(),e.j41(718,"option",277),e.EFF(719,"Italiano"),e.k0s(),e.j41(720,"option",278),e.EFF(721,"\u65e5\u672c\u8a9e"),e.k0s(),e.j41(722,"option",279),e.EFF(723,"Nederlands"),e.k0s(),e.j41(724,"option",280),e.EFF(725,"Polski"),e.k0s(),e.j41(726,"option",281),e.EFF(727,"Portugu\xeas (BR)"),e.k0s(),e.j41(728,"option",282),e.EFF(729,"Rom\xe2n\u0103"),e.k0s(),e.j41(730,"option",283),e.EFF(731,"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),e.k0s(),e.j41(732,"option",284),e.EFF(733,"Sloven\u010dina"),e.k0s(),e.j41(734,"option",285),e.EFF(735,"Sloven\u0161\u010dina"),e.k0s(),e.j41(736,"option",286),e.EFF(737,"\u7e41\u9ad4\u4e2d\u6587"),e.k0s()()(),e.j41(738,"label")(739,"span",287),e.EFF(740,"Icon size:"),e.k0s(),e.j41(741,"select",288)(742,"option",289),e.EFF(743,"Small"),e.k0s(),e.j41(744,"option",290),e.EFF(745,"Medium"),e.k0s(),e.j41(746,"option",291),e.EFF(747,"Large"),e.k0s(),e.j41(748,"option",292),e.EFF(749,"Extra Large"),e.k0s()()(),e.j41(750,"fieldset",293)(751,"legend",294),e.EFF(752,"Editor Background"),e.k0s(),e.nrm(753,"div",295),e.j41(754,"label")(755,"span",296),e.EFF(756,"URL:"),e.k0s(),e.nrm(757,"input",297),e.k0s(),e.j41(758,"p",298),e.EFF(759,"Note: Background will not be saved with image."),e.k0s()(),e.j41(760,"fieldset",299)(761,"legend",300),e.EFF(762,"Grid"),e.k0s(),e.j41(763,"label")(764,"span",301),e.EFF(765,"Snapping on/off"),e.k0s(),e.nrm(766,"input",302),e.k0s(),e.j41(767,"label")(768,"span",303),e.EFF(769,"Snapping Step-Size:"),e.k0s(),e.nrm(770,"input",304),e.k0s(),e.j41(771,"label")(772,"span",305),e.EFF(773,"Grid color:"),e.k0s(),e.nrm(774,"input",306),e.k0s()(),e.j41(775,"fieldset",307)(776,"legend",308),e.EFF(777,"Units & Rulers"),e.k0s(),e.j41(778,"label")(779,"span",309),e.EFF(780,"Show rulers"),e.k0s(),e.nrm(781,"input",310),e.k0s(),e.j41(782,"label")(783,"span",311),e.EFF(784,"Base Unit:"),e.k0s(),e.j41(785,"select",312)(786,"option",313),e.EFF(787,"Pixels"),e.k0s(),e.j41(788,"option",314),e.EFF(789,"Centimeters"),e.k0s(),e.j41(790,"option",315),e.EFF(791,"Millimeters"),e.k0s(),e.j41(792,"option",316),e.EFF(793,"Inches"),e.k0s(),e.j41(794,"option",317),e.EFF(795,"Points"),e.k0s(),e.j41(796,"option",318),e.EFF(797,"Picas"),e.k0s(),e.j41(798,"option",319),e.EFF(799,"Ems"),e.k0s(),e.j41(800,"option",320),e.EFF(801,"Exs"),e.k0s()()()()()()(),e.j41(802,"div",321),e.nrm(803,"div",227),e.j41(804,"div",322),e.nrm(805,"div",323)(806,"div",324),e.k0s()(),e.j41(807,"ul",325)(808,"li")(809,"a",326),e.bIt("click",function(){return n.onInteractivityClick(n.selectedElement)}),e.EFF(810),e.nI1(811,"translate"),e.k0s()(),e.j41(812,"li")(813,"a",327),e.bIt("click",function(){return n.editBindOfTags(n.selectedElement)}),e.EFF(814),e.nI1(815,"translate"),e.k0s()(),e.j41(816,"li",328)(817,"a",329),e.EFF(818),e.nI1(819,"translate"),e.k0s()(),e.j41(820,"li")(821,"a",330),e.EFF(822),e.nI1(823,"translate"),e.k0s()(),e.j41(824,"li")(825,"a",331),e.EFF(826),e.nI1(827,"translate"),e.k0s()(),e.j41(828,"li")(829,"a",332),e.EFF(830),e.nI1(831,"translate"),e.k0s()(),e.j41(832,"li",328)(833,"a",333),e.EFF(834),e.nI1(835,"translate"),e.k0s()(),e.j41(836,"li",328)(837,"a",334),e.EFF(838),e.nI1(839,"translate"),e.j41(840,"span",335),e.EFF(841,"G"),e.k0s()()(),e.j41(842,"li")(843,"a",336),e.EFF(844),e.nI1(845,"translate"),e.j41(846,"span",335),e.EFF(847,"G"),e.k0s()()(),e.j41(848,"li",328)(849,"a",337),e.EFF(850),e.nI1(851,"translate"),e.j41(852,"span",335),e.EFF(853,"SHFT+CTRL+]"),e.k0s()()(),e.j41(854,"li")(855,"a",338),e.EFF(856),e.nI1(857,"translate"),e.j41(858,"span",335),e.EFF(859,"CTRL+]"),e.k0s()()(),e.j41(860,"li")(861,"a",339),e.EFF(862),e.nI1(863,"translate"),e.j41(864,"span",335),e.EFF(865,"SHFT+CTRL+["),e.k0s()()(),e.j41(866,"li")(867,"a",340),e.EFF(868),e.nI1(869,"translate"),e.j41(870,"span",335),e.EFF(871,"CTRL+["),e.k0s()()()(),e.j41(872,"ul",341)(873,"li")(874,"a",342),e.EFF(875),e.nI1(876,"translate"),e.k0s()(),e.j41(877,"li")(878,"a",343),e.EFF(879),e.nI1(880,"translate"),e.k0s()(),e.j41(881,"li")(882,"a",344),e.EFF(883),e.nI1(884,"translate"),e.k0s()(),e.j41(885,"li")(886,"a",345),e.EFF(887),e.nI1(888,"translate"),e.k0s()()(),e.nrm(889,"div",346,347),e.k0s()}if(2&i){const a=e.sdS(560);e.Y8G("ngIf",n.isLoading),e.R7$(9),e.Y8G("elements",n.svgElements)("selected",n.svgElementSelected),e.R7$(6),e.Y8G("ngSwitch",n.gaugeDialog.type),e.R7$(1),e.Y8G("ngSwitchCase",n.gaugeDialogType.Chart),e.R7$(1),e.Y8G("ngSwitchCase",n.gaugeDialogType.Graph),e.R7$(1),e.Y8G("ngSwitchCase",n.gaugeDialogType.Iframe),e.R7$(1),e.Y8G("ngSwitchCase",n.gaugeDialogType.Table),e.R7$(1),e.Y8G("ngSwitchCase",n.gaugeDialogType.Panel),e.R7$(1),e.Y8G("ngSwitchCase",n.gaugeDialogType.Pipe),e.R7$(5),e.Y8G("expanded",n.panelsState.panelView),e.R7$(3),e.Y8G("ngIf",n.panelsState.panelView),e.R7$(1),e.Y8G("ngIf",!n.panelsState.panelView),e.R7$(2),e.JRh(e.bMT(33,223,"editor.views")),e.R7$(2),e.Y8G("ngIf",n.panelsState.panelView),e.R7$(1),e.Y8G("ngIf",n.panelsState.panelView),e.R7$(3),e.xc7("height",n.panelsState.panelViewHeight,"px"),e.Y8G("height",n.panelsState.panelViewHeight),e.R7$(1),e.Y8G("views",n.hmi.views)("select",n.currentView),e.R7$(1),e.Y8G("ngIf",n.editorMode===n.editorModeType.SVG),e.R7$(2),e.xc7("display",n.editorMode===n.editorModeType.SVG?"block":"none"),e.R7$(1),e.xc7("display",n.isAnySelected?"block":"none"),e.R7$(4),e.Y8G("ngIf",n.panelPropertyIdOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelPropertyIdOpenState),e.R7$(2),e.JRh(e.bMT(51,225,"editor.interactivity")),e.R7$(4),e.FS9("matTooltip",e.bMT(55,227,"editor.interactivity-id-title")),e.R7$(3),e.JRh(e.bMT(58,229,"editor.interactivity-id")),e.R7$(4),e.FS9("matTooltip",e.bMT(62,231,"editor.interactivity-class-title")),e.R7$(3),e.JRh(e.bMT(65,233,"editor.interactivity-class")),e.R7$(3),e.xc7("display",n.selectedElement?"block":"none"),e.R7$(3),e.Y8G("ngIf",n.panelPropertyTransformOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelPropertyTransformOpenState),e.R7$(2),e.JRh(e.bMT(74,235,"editor.transform")),e.R7$(8),e.JRh(e.bMT(82,237,"editor.transform-x")),e.R7$(2),e.FS9("matTooltip",e.bMT(84,239,"editor.transform-x-title")),e.R7$(4),e.JRh(e.bMT(88,241,"editor.transform-y")),e.R7$(2),e.FS9("matTooltip",e.bMT(90,243,"editor.transform-y-title")),e.R7$(6),e.JRh(e.bMT(96,245,"editor.transform-x1")),e.R7$(2),e.FS9("matTooltip",e.bMT(98,247,"editor.transform-x1-title")),e.R7$(4),e.JRh(e.bMT(102,249,"editor.transform-y1")),e.R7$(2),e.FS9("matTooltip",e.bMT(104,251,"editor.transform-y1-title")),e.R7$(5),e.JRh(e.bMT(109,253,"editor.transform-x2")),e.R7$(2),e.FS9("matTooltip",e.bMT(111,255,"editor.transform-x2-title")),e.R7$(4),e.JRh(e.bMT(115,257,"editor.transform-y2")),e.R7$(2),e.FS9("matTooltip",e.bMT(117,259,"editor.transform-y2-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(121,261,"editor.transform-rect-width-title")),e.R7$(3),e.JRh(e.bMT(124,263,"editor.transform-width")),e.R7$(3),e.FS9("matTooltip",e.bMT(127,265,"editor.transform-rect-height-title")),e.R7$(3),e.JRh(e.bMT(130,267,"editor.transform-height")),e.R7$(4),e.FS9("matTooltip",e.bMT(134,269,"editor.transform-rect-radius-title")),e.R7$(3),e.JRh(e.bMT(137,271,"editor.transform-radiuscorner")),e.R7$(5),e.FS9("matTooltip",e.bMT(142,273,"editor.transform-rect-width-title")),e.R7$(3),e.JRh(e.bMT(145,275,"editor.transform-width")),e.R7$(3),e.FS9("matTooltip",e.bMT(148,277,"editor.transform-rect-height-title")),e.R7$(3),e.JRh(e.bMT(151,279,"editor.transform-height")),e.R7$(5),e.FS9("matTooltip",e.bMT(156,281,"editor.transform-rect-width-title")),e.R7$(3),e.JRh(e.bMT(159,283,"editor.transform-width")),e.R7$(3),e.FS9("matTooltip",e.bMT(162,285,"editor.transform-rect-height-title")),e.R7$(3),e.JRh(e.bMT(165,287,"editor.transform-height")),e.R7$(7),e.JRh(e.bMT(172,289,"editor.transform-circlecx")),e.R7$(2),e.FS9("matTooltip",e.bMT(174,291,"editor.transform-circlecx-title")),e.R7$(4),e.JRh(e.bMT(178,293,"editor.transform-circlecy")),e.R7$(2),e.FS9("matTooltip",e.bMT(180,295,"editor.transform-circlecy-title")),e.R7$(5),e.JRh(e.bMT(185,297,"editor.transform-circler")),e.R7$(2),e.FS9("matTooltip",e.bMT(187,299,"editor.transform-circler-title")),e.R7$(6),e.JRh(e.bMT(193,301,"editor.transform-ellipsecx")),e.R7$(2),e.FS9("matTooltip",e.bMT(195,303,"editor.transform-ellipsecx-title")),e.R7$(4),e.JRh(e.bMT(199,305,"editor.transform-ellipsecy")),e.R7$(2),e.FS9("matTooltip",e.bMT(201,307,"editor.transform-ellipsecy-title")),e.R7$(5),e.JRh(e.bMT(206,309,"editor.transform-ellipserx")),e.R7$(2),e.FS9("matTooltip",e.bMT(208,311,"editor.transform-ellipserx-title")),e.R7$(4),e.JRh(e.bMT(212,313,"editor.transform-ellipsery")),e.R7$(2),e.FS9("matTooltip",e.bMT(214,315,"editor.transform-ellipsery-title")),e.R7$(5),e.JRh(e.bMT(219,317,"editor.transform-fontfamily")),e.R7$(4),e.Y8G("ngForOf",n.fonts),e.R7$(4),e.JRh(e.bMT(227,319,"editor.transform-fontsize")),e.R7$(2),e.FS9("matTooltip",e.bMT(229,321,"editor.transform-fontsize-title")),e.R7$(4),e.JRh(e.bMT(233,323,"editor.transform-textalign")),e.R7$(5),e.JRh(e.bMT(238,325,"editor.transform-left")),e.R7$(3),e.JRh(e.bMT(241,327,"editor.transform-center")),e.R7$(3),e.JRh(e.bMT(244,329,"editor.transform-right")),e.R7$(7),e.JRh(e.bMT(251,331,"editor.transform-width")),e.R7$(2),e.FS9("matTooltip",e.bMT(253,333,"editor.transform-image-width-title")),e.R7$(4),e.JRh(e.bMT(257,335,"editor.transform-height")),e.R7$(2),e.FS9("matTooltip",e.bMT(259,337,"editor.transform-image-height-title")),e.R7$(5),e.JRh(e.bMT(264,339,"editor.transform-url")),e.R7$(2),e.FS9("matTooltip",e.bMT(266,341,"editor.transform-image-url-title")),e.R7$(5),e.JRh(e.bMT(271,343,"editor.transform-change-image")),e.R7$(2),e.FS9("matTooltip",e.bMT(273,345,"editor.transform-change-image-title")),e.R7$(2),e.FS9("matTooltip",e.bMT(275,347,"editor.transform-angle-title")),e.R7$(5),e.JRh(e.bMT(280,349,"editor.transform-angle")),e.R7$(5),e.JRh(e.bMT(285,351,"editor.transform-hide")),e.R7$(2),e.Y8G("ngModel",n.gaugeSettingsHide),e.R7$(3),e.JRh(e.bMT(290,353,"editor.transform-lock")),e.R7$(2),e.Y8G("ngModel",n.gaugeSettingsLock),e.R7$(4),e.Y8G("ngIf",n.panelAlignOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelAlignOpenState),e.R7$(2),e.JRh(e.bMT(299,355,"editor.align")),e.R7$(3),e.FS9("matTooltip",e.bMT(302,357,"editor.align-left-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(305,359,"editor.align-center-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(308,361,"editor.align-right-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(311,363,"editor.align-top-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(314,365,"editor.align-middle-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(317,367,"editor.align-bottom-title")),e.R7$(6),e.Y8G("ngIf",n.panelFillOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelFillOpenState),e.R7$(2),e.JRh(e.bMT(326,369,"editor.stroke")),e.R7$(7),e.JRh(e.bMT(333,371,"editor.stroke-width")),e.R7$(2),e.FS9("matTooltip",e.bMT(335,373,"editor.stroke-width-title")),e.R7$(4),e.JRh(e.bMT(339,375,"editor.stroke-style")),e.R7$(2),e.FS9("matTooltip",e.bMT(341,377,"editor.stroke-style-title")),e.R7$(13),e.FS9("matTooltip",e.bMT(355,379,"editor.stroke-joinmiter-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(359,381,"editor.stroke-joinround-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(363,383,"editor.stroke-joinbevel-title")),e.R7$(5),e.FS9("matTooltip",e.bMT(368,385,"editor.stroke-capbutt-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(372,387,"editor.stroke-capsquare-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(376,389,"editor.stroke-capround-title")),e.R7$(7),e.JRh(e.bMT(382,391,"editor.stroke-shadow")),e.R7$(2),e.FS9("matTooltip",e.bMT(384,393,"editor.stroke-shadow-title")),e.R7$(6),e.Y8G("ngIf",n.panelMarkerOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelMarkerOpenState),e.R7$(2),e.JRh(e.bMT(393,395,"editor.marker")),e.R7$(6),e.JRh(e.bMT(399,397,"editor.marker-start")),e.R7$(2),e.FS9("matTooltip",e.bMT(402,399,"editor.marker-start-title")),e.R7$(5),e.JRh(e.bMT(406,401,"editor.marker-middle")),e.R7$(2),e.FS9("matTooltip",e.bMT(409,403,"editor.marker-middle-title")),e.R7$(5),e.JRh(e.bMT(413,405,"editor.marker-end")),e.R7$(2),e.FS9("matTooltip",e.bMT(416,407,"editor.marker-end-title")),e.R7$(6),e.Y8G("ngIf",n.panelHyperlinkOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelHyperlinkOpenState),e.R7$(2),e.JRh(e.bMT(424,409,"editor.hyperlink")),e.R7$(5),e.JRh(e.bMT(429,411,"editor.hyperlink-url")),e.R7$(3),e.xc7("display",n.selectedElement?"block":"none"),e.R7$(3),e.Y8G("ngIf",n.panelEventOpenState),e.R7$(1),e.Y8G("ngIf",!n.panelEventOpenState),e.R7$(2),e.JRh(e.bMT(438,413,"editor.interactivity")),e.R7$(3),e.Y8G("ngIf",n.selectedElement),e.R7$(15),e.FS9("matTooltip",e.bMT(456,415,"editor.tools-launch-title")),e.R7$(5),e.FS9("matTooltip",e.bMT(461,417,"editor.tools-zoom-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(465,419,"editor.tools-grid-title")),e.R7$(2),e.Y8G("ngIf",!n.gridOn),e.R7$(1),e.Y8G("ngIf",n.gridOn),e.R7$(2),e.FS9("matTooltip",e.bMT(470,421,"editor.tools-undo-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(474,423,"editor.tools-redo-title")),e.R7$(6),e.FS9("matTooltip",e.bMT(480,425,"editor.tools-clone-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(484,427,"editor.tools-delete-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(488,429,"editor.tools-movebottom-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(492,431,"editor.tools-movetop-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(496,433,"editor.tools-hyperlink-title")),e.R7$(6),e.FS9("matTooltip",e.bMT(502,435,"editor.tools-clonemulti-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(506,437,"editor.tools-deletemulti-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(510,439,"editor.tools-group-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(513,441,"editor.tools-alignleft-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(517,443,"editor.tools-aligncenter-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(521,445,"editor.tools-alignright-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(525,447,"editor.tools-aligntop-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(529,449,"editor.tools-alignmiddle-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(533,451,"editor.tools-alignbottom-title")),e.R7$(5),e.FS9("matTooltip",e.bMT(538,453,"editor.tools-dividevertical-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(542,455,"editor.tools-dividehorizontal-title")),e.R7$(5),e.FS9("matTooltip",e.bMT(547,457,"editor.tools-ungroup-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(551,459,"editor.tools-svg-selector")),e.R7$(6),e.FS9("matTooltip",e.bMT(557,461,"editor.tools-zoomlevel-title")),e.R7$(7),e.SpI(" ",a.value," % "),e.R7$(15),e.JRh(e.bMT(579,463,"editor.tools-zoomlevel-fitcanvas")),e.R7$(3),e.JRh(e.bMT(582,465,"editor.tools-zoomlevel-fitsection")),e.R7$(3),e.JRh(e.bMT(585,467,"editor.tools-zoomlevel-fitcontent")),e.R7$(5),e.xc7("background",n.colorFill),e.Y8G("colorPicker",n.colorFill)("cpAlphaChannel","always")("cpPosition","top")("cpPresetColors",n.defaultColor)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButton",!0)("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass"),e.R7$(1),e.xc7("background",n.colorStroke),e.Y8G("colorPicker",n.colorStroke)("cpAlphaChannel","always")("cpPosition","top")("cpPresetColors",n.defaultColor)("cpCancelButton",!0)("cpCancelButtonClass","cpCancelButtonClass")("cpCancelButtonText","Cancel")("cpOKButton",!0)("cpOKButtonText","OK")("cpOKButtonClass","cpOKButtonClass"),e.R7$(2),e.FS9("matTooltip",e.bMT(593,469,"editor.tools-fillcolor-title")),e.R7$(3),e.xc7("border-color",n.colorFill),e.R7$(5),e.xc7("border-color",n.colorStroke),e.FS9("matTooltip",e.bMT(601,471,"editor.tools-strokecolor-title")),e.R7$(4),e.FS9("matTooltip",e.bMT(605,473,"editor.tools-palettecolor-title")),e.R7$(11),e.Y8G("ngIf",n.editorMode===n.editorModeType.CARDS),e.R7$(1),e.Y8G("ngIf",n.editorMode===n.editorModeType.MAPS),e.R7$(194),e.JRh(e.bMT(811,475,"editor.interactivity")),e.R7$(4),e.JRh(e.bMT(815,477,"editor.edit-bind-of-tags")),e.R7$(4),e.JRh(e.bMT(819,479,"editor.cmenu-cut")),e.R7$(4),e.JRh(e.bMT(823,481,"editor.cmenu-copy")),e.R7$(4),e.JRh(e.bMT(827,483,"editor.cmenu-paste")),e.R7$(4),e.JRh(e.bMT(831,485,"editor.cmenu-paste-place")),e.R7$(4),e.JRh(e.bMT(835,487,"editor.cmenu-delete")),e.R7$(4),e.SpI("",e.bMT(839,489,"editor.cmenu-group")," "),e.R7$(6),e.SpI("",e.bMT(845,491,"editor.cmenu-ungroup")," "),e.R7$(6),e.SpI("",e.bMT(851,493,"editor.cmenu-bring-front")," "),e.R7$(6),e.SpI("",e.bMT(857,495,"editor.cmenu-bring-forward")," "),e.R7$(6),e.SpI("",e.bMT(863,497,"editor.cmenu-send-back")," "),e.R7$(6),e.SpI("",e.bMT(869,499,"editor.cmenu-send-backward")," "),e.R7$(7),e.JRh(e.bMT(876,501,"editor.cmenu-layer-duplicate")),e.R7$(4),e.JRh(e.bMT(880,503,"editor.cmenu-layer-delete")),e.R7$(4),e.JRh(e.bMT(884,505,"editor.cmenu-layer-marge-down")),e.R7$(4),e.JRh(e.bMT(888,507,"editor.cmenu-layer-marge-all"))}},dependencies:[l.YU,l.Sq,l.bT,l.ux,l.e1,Fn,ct,Yi,M,qe,Ke,tn,Vt,zn,Dg,up,$d,xg,Sv,Kn,d0,h0,e_,u0,Is,XA,Io,the,The,jhe,Hs,aj,qhe,epe,Npe,Vpe,Wpe,Kpe,rfe,Q4,Vi.D9],styles:[".editor-sidenav[_ngcontent-%COMP%]{position:fixed;margin-top:36px;height:calc(100% - 74px);padding:7px;width:350px}.sidepanel-selector[_ngcontent-%COMP%]{position:fixed;margin-top:36px;height:calc(100% - 74px);padding:7px;width:370px}@media (min-width: 1601px){.editor-sidenav[_ngcontent-%COMP%]{width:450px}}#svg_editor_container[_ngcontent-%COMP%]{background:#aaa;height:100%;width:100%;display:flex;flex-direction:column;position:absolute;top:0;left:0}.svg-workarea-toolbar[_ngcontent-%COMP%]{min-height:46px;height:46px}.svg-workarea-leftbar-p[_ngcontent-%COMP%]{box-shadow:none!important;background-color:var(--toolboxBackground);color:var(--toolboxColor)}.svg-workarea-leftbar-h[_ngcontent-%COMP%]{max-height:23px;text-align:center;vertical-align:middle;padding-left:0;padding-right:0;border-top:1px solid var(--toolboxBorder);margin-bottom:0;box-shadow:0 1px 3px #000}.svg-workarea-leftbar-h[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:5px!important;padding-left:3px;font-size:11px}.svg-workarea-flybar-h[_ngcontent-%COMP%]{max-height:23px;text-align:center;vertical-align:middle;padding-left:0;padding-right:0;border-top:1px solid var(--toolboxBorder);box-shadow:0 1px 3px #000}.svg-workarea-flybar-h[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:5px!important;padding-left:3px;font-size:11px}.svg-workarea-flybar-h[_ngcontent-%COMP%]:enabled   .svg-workarea-flybar-h[_ngcontent-%COMP%]::selection{color:#fff}.svg-workarea-fly-p[_ngcontent-%COMP%]{box-shadow:none!important;background-color:var(--toolboxBackground);color:var(--toolboxColor);width:200px;padding-left:0;padding-right:0}.svg-property-split3[_ngcontent-%COMP%]:after{display:table;clear:both}.svg-property-split3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.svg-property-split2[_ngcontent-%COMP%]:after{display:table;clear:both}.svg-property-split2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.svg-property[_ngcontent-%COMP%]{color:var(--toolboxFlyColor)}.svg-property[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:10px;margin:0 5px 0 10px}.svg-property[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:0 10px 12px;border:unset;background-color:inherit;color:inherit;border-bottom:1px solid var(--toolboxFlyColor)}.svg-workarea-container[_ngcontent-%COMP%]{display:block;height:100%}.svg-preview[_ngcontent-%COMP%]{background-color:#3058af36;height:0px;width:0px;z-index:1;position:absolute}#rulers[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--svgEditRulersBackground)!important;color:var(--svgEditRulersColor)!important}#svgcanvas[_ngcontent-%COMP%]{background-color:var(--svgEditWorkareaBackground)!important}.contextMenu[_ngcontent-%COMP%]{background-color:var(--svgEditWorkareaContextMenu)!important}.contextMenu[_ngcontent-%COMP%]   A[_ngcontent-%COMP%]{color:var(--svgEditWorkareaContextColor)!important}.contextMenu[_ngcontent-%COMP%]   LI[_ngcontent-%COMP%]:not(.disabled)   A[_ngcontent-%COMP%]:hover{color:var(--toolboxItemActiveColor)!important}.contextMenu[_ngcontent-%COMP%]   LI.separator[_ngcontent-%COMP%]{margin-top:0!important;border-color:var(--svgEditWorkareaContextBorder)!important}.svg-tools-fly[_ngcontent-%COMP%]{z-index:9999;position:absolute;right:15px;top:55px;max-height:calc(100% - 75px);background-color:var(--toolboxBackground);box-shadow:0 1px 4px #000}.svg-tool-button[_ngcontent-%COMP%]{vertical-align:middle;display:inline-table;cursor:pointer;height:30px;width:30px;border-radius:50%;margin:2px;background-color:var(--toolboxButton)}.svg-tool-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:auto}.svg-tool-button[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.1)}.svg-tool-active[_ngcontent-%COMP%], .svg-tool-active[_ngcontent-%COMP%]:active, .svg-tool-active[_ngcontent-%COMP%]:hover{background-color:#3059af}.leave-header-area[_ngcontent-%COMP%]{margin-top:36px}.svg-sidenav[_ngcontent-%COMP%]{min-width:160px;max-width:200px;width:200px;background:var(--sidenavBackgroung)}.tools_panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor)}.main-btn[_ngcontent-%COMP%]{height:34px;width:34px;min-width:unset!important;padding:unset!important;line-height:34px;margin-left:5px;margin-right:5px}.main-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;height:unset;width:unset}.main-btn[_ngcontent-%COMP%]   .to-top[_ngcontent-%COMP%], .main-btn[_ngcontent-%COMP%]   .to-bottom[_ngcontent-%COMP%], .main-btn[_ngcontent-%COMP%]   .to-path[_ngcontent-%COMP%]{display:inline-block;height:34px;width:34px}.main-btn[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{background:url(/assets/images/group.svg) no-repeat center center;background-size:contain;display:inline-block;height:34px;width:34px}.main-btn[_ngcontent-%COMP%]   .ungroup[_ngcontent-%COMP%]{background:url(/assets/images/ungroup.svg) no-repeat center center;background-size:contain;display:inline-block;height:34px;width:34px}.main-btn-sep[_ngcontent-%COMP%]{width:1px;background:#888;border-left:1px outset #888;margin:5px 3px;padding:0;height:24px}.svg-element-selected[_ngcontent-%COMP%]{display:inline-flex}.view-panel[_ngcontent-%COMP%]{overflow:auto;cursor:s-resize}.leftbar-edit-btn[_ngcontent-%COMP%]{margin-top:2px;font-size:18px;height:18px;width:18px;padding-right:15px}.leftbar-panel[_ngcontent-%COMP%]{margin-top:4px;padding:0;font-size:11px;background-color:var(--toolboxPanelBackgroung);color:var(--toolboxColor);overflow:auto}.leftbar-panel.h200[_ngcontent-%COMP%]{max-height:200px}.leftbar-item[_ngcontent-%COMP%]{padding:3px 0 1px;display:flow-root}.leftbar-item-active[_ngcontent-%COMP%]{background-color:var(--toolboxItemActiveBackgroung);color:var(--toolboxItemActiveColor)}.leftbar-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left}.leftbar-item[_ngcontent-%COMP%]   .leftbar-item-type[_ngcontent-%COMP%]{float:left;padding-left:4px;font-size:16px;line-height:20px;opacity:.5}.leftbar-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{float:right;font-size:18px}  .svg-workarea-leftbar-p .mat-expansion-panel-body{margin:0!important;padding:0!important;flex-wrap:wrap!important}  .svg-workarea-fly-p .mat-expansion-panel-body{margin:0!important;padding:0!important;flex-wrap:wrap!important}  .mat-menu-item{font-size:11px;height:30px!important;line-height:unset!important}.rightbar-panel[_ngcontent-%COMP%]{margin-top:4px;background-color:var(--toolboxPanelBackgroung);color:var(--toolboxColor)}.rightbar-input[_ngcontent-%COMP%]{width:70px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:3px}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}.bottom-bar[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;height:30px;overflow:visible}.zoom-menu[_ngcontent-%COMP%]{float:left;padding-left:5px;width:90px}.zoom-value[_ngcontent-%COMP%]{border:unset;display:inline-block}.zoom-label[_ngcontent-%COMP%]{display:inline-block;height:25px}.zoom-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .zoom-value[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:inline-block}.zoom-value[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:9999;background-color:var(--footZoomBackground);color:var(--footZoomColor);border:unset}.zoom-value[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{background-color:var(--footZoomBackground);color:var(--footZoomColor);border:unset}.zoom-value[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{left:0}.zoom-value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--footZoomBackgroundHover)}.colors[_ngcontent-%COMP%]{position:absolute;left:25px;top:0}.colors-palette[_ngcontent-%COMP%]{position:absolute;inset:0 0 0 165px}.color-fill[_ngcontent-%COMP%]{position:relative;top:4px;left:12px;cursor:pointer;width:13px;height:13px;border:1px solid rgba(71,71,71,1)}.color-stroke[_ngcontent-%COMP%]{position:absolute;top:4px;left:30px;cursor:pointer;width:13px;height:13px;border:1px solid rgba(71,71,71,1)}.style-stroke[_ngcontent-%COMP%]{display:block!important;margin:0 10px 12px;background-color:inherit;color:inherit;background-color:var(--toolboxPanelBackgroung);color:var(--toolboxColor)}.style-stroke[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--toolboxPanelBackgroung);color:var(--toolboxColor)}.font-family[_ngcontent-%COMP%]{display:block;margin:0 10px 12px;background-color:inherit;color:inherit;width:174px}.font-family[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--toolboxPanelBackgroung);color:var(--toolboxColor)}.text-align[_ngcontent-%COMP%]{display:block;margin:0 10px 12px;background-color:inherit;color:inherit;width:75px}.text-align[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--toolboxPanelBackgroung);color:var(--toolboxColor)}.view-item-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 54px)}select#start_marker[_ngcontent-%COMP%]   option[value=A][_ngcontent-%COMP%]{background:url(/assets/images/select-pointer.svg)}select#start_marker[_ngcontent-%COMP%]   option[value=B][_ngcontent-%COMP%]{background:url(/assets/images/select-pointer.svg)}select#start_marker[_ngcontent-%COMP%]   option[value=C][_ngcontent-%COMP%]{background:url(/assets/images/select-pointer.svg)}select#start_marker[_ngcontent-%COMP%]   option[value=D][_ngcontent-%COMP%]{background:url(/assets/images/select-pointer.svg)}.icon-select[_ngcontent-%COMP%]{background:url(/assets/images/select-pointer.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-pencil[_ngcontent-%COMP%]{background:url(/assets/images/pencil.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-line[_ngcontent-%COMP%]{background:url(/assets/images/line.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-rect[_ngcontent-%COMP%]{background:url(/assets/images/rect.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-circle[_ngcontent-%COMP%]{background:url(/assets/images/circle.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-ellipse[_ngcontent-%COMP%]{background:url(/assets/images/ellipse.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-path[_ngcontent-%COMP%]{background:url(/assets/images/path.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-text[_ngcontent-%COMP%]{background:url(/assets/images/text.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-image[_ngcontent-%COMP%]{background:url(/assets/images/image.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-align-left[_ngcontent-%COMP%]{background:url(/assets/images/align-left.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-align-center[_ngcontent-%COMP%]{background:url(/assets/images/align-center.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-align-right[_ngcontent-%COMP%]{background:url(/assets/images/align-right.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-align-top[_ngcontent-%COMP%]{background:url(/assets/images/align-top.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-align-middle[_ngcontent-%COMP%]{background:url(/assets/images/align-middle.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-align-bottom[_ngcontent-%COMP%]{background:url(/assets/images/align-bottom.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-flip-orizontal[_ngcontent-%COMP%]{background:url(/assets/images/flip-orizontal.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-flip-vertical[_ngcontent-%COMP%]{background:url(/assets/images/flip-vertical.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-linejoin-miter[_ngcontent-%COMP%]{background:url(/assets/images/linejoin-miter.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-linejoin-round[_ngcontent-%COMP%]{background:url(/assets/images/linejoin-round.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-linejoin-bevel[_ngcontent-%COMP%]{background:url(/assets/images/linejoin-bevel.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-linecap-butt[_ngcontent-%COMP%]{background:url(/assets/images/linecap-butt.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-linecap-square[_ngcontent-%COMP%]{background:url(/assets/images/linecap-square.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-linecap-round[_ngcontent-%COMP%]{background:url(/assets/images/linecap-round.svg) no-repeat center center;background-size:contain;height:30px;width:30px}.icon-tool[_ngcontent-%COMP%]{background-size:auto;height:30px;width:30px;color:#fff;background-position:center;background-repeat:no-repeat}.material-icon-tool[_ngcontent-%COMP%]{text-align:center;line-height:30px;font-size:22px}.icon-switch[_ngcontent-%COMP%]{background:url(/assets/images/switch.svg) no-repeat center center}.icon-value[_ngcontent-%COMP%]{background:url(/assets/images/value.svg) no-repeat center center}.icon-editvalue[_ngcontent-%COMP%]{background:url(/assets/images/editvalue.svg) no-repeat center center}.icon-selectvalue[_ngcontent-%COMP%]{background:url(/assets/images/selectvalue.svg) no-repeat center center}.icon-progress-v[_ngcontent-%COMP%]{background:url(/assets/images/progress-v.svg) no-repeat center center}.icon-semaphore[_ngcontent-%COMP%]{background:url(/assets/images/semaphore.svg) no-repeat center center}.icon-button[_ngcontent-%COMP%]{background:url(/assets/images/button.svg) no-repeat center center}.icon-chart[_ngcontent-%COMP%]{background:url(/assets/images/chart.svg) no-repeat center center}.icon-bag[_ngcontent-%COMP%]{background:url(/assets/images/bag.svg) no-repeat center center}.icon-pipe[_ngcontent-%COMP%]{background:url(/assets/images/pipe.svg) no-repeat center center}.icon-slider[_ngcontent-%COMP%]{background:url(/assets/images/slider.svg) no-repeat center center}.icon-graphbar[_ngcontent-%COMP%]{background:url(/assets/images/graphbar.svg) no-repeat center center}.icon-table[_ngcontent-%COMP%]{background:url(/assets/images/table.svg) no-repeat center center}.icon-iframe[_ngcontent-%COMP%]{background:url(/assets/images/iframe.svg) no-repeat center center}"]})}return r})(),ige=(()=>{class r{dialogRef;data;constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["dialog-link-property"]],decls:19,vars:14,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],["mat-dialog-content",""],[1,"my-form-field",2,"display","block","margin-bottom","10px"],["type","text",2,"width","300px",3,"ngModel","ngModelChange"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",4),e.bIt("ngModelChange",function(s){return n.data.url=s}),e.k0s()()(),e.j41(12,"div",5)(13,"button",6),e.bIt("click",function(){return n.onNoClick()}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",7),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,6,"dlg.linkproperty-title")),e.R7$(7),e.JRh(e.bMT(10,8,"dlg.linkproperty-url")),e.R7$(2),e.Y8G("ngModel",n.data.url),e.R7$(3),e.JRh(e.bMT(15,10,"dlg.cancel")),e.R7$(2),e.Y8G("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(18,12,"dlg.ok")))},dependencies:[k,qe,tn,zn,nA,Or,eo,Rr,Kn,Wr,Vi.D9],encapsulation:2})}return r})();var Pp=function(r){return r[r.SVG=0]="SVG",r[r.CARDS=1]="CARDS",r[r.MAPS=2]="MAPS",r}(Pp||{});function nge(r,o){if(1&r&&(e.j41(0,"mat-option",27),e.nI1(1,"translate"),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r){const t=o.$implicit;e.FS9("matTooltip",e.bMT(1,3,t.value+"-tooltip")),e.Y8G("value",t.key),e.R7$(2),e.SpI(" ",e.bMT(3,5,t.value)," ")}}function rge(r,o){1&r&&(e.qex(0),e.j41(1,"div",28)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",29),e.k0s(),e.bVm()),2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"device.tag-convert-datetime-format")))}function oge(r,o){1&r&&(e.qex(0),e.j41(1,"div",28)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",29),e.k0s(),e.bVm()),2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"device.tag-convert-ticktime-format")))}function age(r,o){1&r&&(e.qex(0),e.j41(1,"div",30)(2,"div",31)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"input",32),e.k0s(),e.j41(7,"div",33)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",34),e.k0s()(),e.j41(12,"div",30)(13,"div",31)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",35),e.k0s(),e.j41(18,"div",33)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"input",36),e.k0s()(),e.bVm()),2&r&&(e.R7$(4),e.JRh(e.bMT(5,4,"device.tag-raw-low")),e.R7$(5),e.JRh(e.bMT(10,6,"device.tag-raw-high")),e.R7$(6),e.JRh(e.bMT(16,8,"device.tag-scaled-low")),e.R7$(5),e.JRh(e.bMT(21,10,"device.tag-scaled-high")))}function sge(r,o){if(1&r&&(e.j41(0,"mat-option",37),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}const uj=function(){return{standalone:!0}};function lge(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41),e.nrm(1,"input",42),e.j41(2,"input",43),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.value=n)}),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(1),e.Y8G("value",t.name)("disabled",!0),e.R7$(1),e.Y8G("ngModel",t.value)("ngModelOptions",e.lJ4(4,uj))}}function cge(r,o){if(1&r&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",39),e.nI1(5,"translate"),e.DNE(6,lge,3,5,"div",40),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"device.tag-scale-read-script-params")),e.R7$(2),e.FS9("matTooltip",e.bMT(5,5,"device.tag-scale-script-params-tooltip")),e.R7$(2),e.Y8G("ngForOf",t.configedReadParams[t.formGroup.value.scaleReadFunction])}}function Age(r,o){if(1&r&&(e.j41(0,"mat-option",37),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function dge(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41),e.nrm(1,"input",42),e.j41(2,"input",43),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.value=n)}),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(1),e.Y8G("value",t.name)("disabled",!0),e.R7$(1),e.Y8G("ngModel",t.value)("ngModelOptions",e.lJ4(4,uj))}}function uge(r,o){if(1&r&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",39),e.nI1(5,"translate"),e.DNE(6,dge,3,5,"div",40),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"device.tag-scale-write-script-params")),e.R7$(2),e.FS9("matTooltip",e.bMT(5,5,"device.tag-scale-script-params-tooltip")),e.R7$(2),e.Y8G("ngForOf",t.configedWriteParams[t.formGroup.value.scaleWriteFunction])}}function hge(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",11)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",18),e.DNE(6,nge,4,7,"mat-option",19),e.nI1(7,"enumToArray"),e.k0s()(),e.qex(8,20),e.DNE(9,rge,6,3,"ng-container",21),e.DNE(10,oge,6,3,"ng-container",21),e.DNE(11,age,23,12,"ng-container",21),e.bVm(),e.j41(12,"div",11)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",22),e.nI1(17,"translate"),e.j41(18,"mat-option",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.formGroup.controls.scaleReadFunction.reset())}),e.k0s(),e.DNE(19,sge,2,2,"mat-option",24),e.k0s()(),e.DNE(20,cge,7,7,"div",25),e.j41(21,"div",11)(22,"span"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"mat-select",26),e.nI1(26,"translate"),e.j41(27,"mat-option",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.formGroup.controls.scaleWriteFunction.reset())}),e.k0s(),e.DNE(28,Age,2,2,"mat-option",24),e.k0s()(),e.DNE(29,uge,7,7,"div",25),e.k0s()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,14,"device.tag-scale")),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,16,t.scaleModeType)),e.R7$(2),e.Y8G("ngSwitch",t.formGroup.controls.scaleMode.value),e.R7$(1),e.Y8G("ngSwitchCase","convertDateTime"),e.R7$(1),e.Y8G("ngSwitchCase","convertTickTime"),e.R7$(1),e.Y8G("ngSwitchCase","linear"),e.R7$(3),e.JRh(e.bMT(15,18,"device.tag-scale-read-script")),e.R7$(2),e.FS9("matTooltip",e.bMT(17,20,"device.tag-scale-read-script-tooltip")),e.R7$(3),e.Y8G("ngForOf",t.scripts),e.R7$(1),e.Y8G("ngIf",(null==t.configedReadParams[t.formGroup.value.scaleReadFunction]?null:t.configedReadParams[t.formGroup.value.scaleReadFunction].length)>0),e.R7$(3),e.JRh(e.bMT(24,22,"device.tag-scale-write-script")),e.R7$(2),e.FS9("matTooltip",e.bMT(26,24,"device.tag-scale-write-script-tooltip")),e.R7$(3),e.Y8G("ngForOf",t.scripts),e.R7$(1),e.Y8G("ngIf",(null==t.configedWriteParams[t.formGroup.value.scaleWriteFunction]?null:t.configedWriteParams[t.formGroup.value.scaleWriteFunction].length)>0)}}class pge extends qo.FB{scriptId}let fge=(()=>{class r{dialogRef;fb;data;projectService;formGroup;scaleModeType=Gi.eq;scripts;configedReadParams={};configedWriteParams={};subscriptionLoad;constructor(t,i,n,a){this.dialogRef=t,this.fb=i,this.data=n,this.projectService=a}ngOnInit(){if(this.loadScripts(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{this.loadScripts()}),this.formGroup=this.fb.group({interval:[{value:60,disabled:!0},[j.required,j.min(0)]],changed:[{value:!1,disabled:!0}],enabled:[!1],restored:[!1],format:[null,[j.min(0)]],deadband:null,scaleMode:"undefined",rawLow:null,rawHigh:null,scaledLow:null,scaledHigh:null,dateTimeFormat:null,scaleRead:null,scaleReadFunction:null,scaleWriteFunction:null}),this.formGroup.controls.enabled.valueChanges.subscribe(t=>{t?(this.formGroup.controls.interval.enable(),this.formGroup.controls.changed.enable()):(this.formGroup.controls.interval.disable(),this.formGroup.controls.changed.disable())}),this.data.tags.length>0){let t={value:null,valid:!0},i={value:null,valid:!0},n={value:null,valid:!0},a={value:null,valid:!0},s={value:null,valid:!0},d={value:null,valid:!0},m={value:null,valid:!0},I={value:null,valid:!0},J={value:null,valid:!0},oe={value:null,valid:!0},Ce={value:null,valid:!0},$e={value:null,valid:!0},nt={value:null,valid:!0},Tt={value:null,valid:!0};for(let ci=0;ci<this.data.tags.length;ci++){if(!this.data.tags[ci].daq)continue;let xi=this.data.tags[ci].daq;t.value?t.value!==xi.enabled&&(t.valid=!1):t.value=xi.enabled,i.value?i.value!==xi.changed&&(i.valid=!1):i.value=xi.changed,a.value?a.value!==xi.restored&&(a.valid=!1):a.value=xi.restored,ii.Aq.isNullOrUndefined(n.value)?n.value=xi.interval:n.value!==xi.interval&&(n.valid=!1),s.value?s.value!==this.data.tags[ci].format&&(s.valid=!1):s.value=this.data.tags[ci].format,d.value?d.value!==this.data.tags[ci].deadband?.value&&(d.valid=!1):d.value=this.data.tags[ci].deadband?.value,m.value?m.value!==this.data.tags[ci].scale?.mode&&(m.valid=!1):(m.value=this.data.tags[ci].scale?.mode,I.value=this.data.tags[ci].scale?.rawLow,J.value=this.data.tags[ci].scale?.rawHigh,oe.value=this.data.tags[ci].scale?.scaledLow,Ce.value=this.data.tags[ci].scale?.scaledHigh,$e.value=this.data.tags[ci].scale?.dateTimeFormat),nt.value||(nt.value=this.data.tags[ci].scaleReadFunction);let Oi=this.scripts.find(Ui=>Ui.id===this.data.tags[ci].scaleReadFunction);if(this.data.tags[ci].scaleReadParams){const Ui=JSON.parse(this.data.tags[ci].scaleReadParams);this.initializeScriptParams(Oi,Ui,this.configedReadParams)}if(Tt.value||(Tt.value=this.data.tags[ci].scaleWriteFunction),Oi=this.scripts.find(Ui=>Ui.id===this.data.tags[ci].scaleWriteFunction),this.data.tags[ci].scaleWriteParams){const Ui=JSON.parse(this.data.tags[ci].scaleWriteParams);this.initializeScriptParams(Oi,Ui,this.configedWriteParams)}}let Zt={};t.valid&&null!==t.value&&(Zt={...Zt,enabled:t.value}),i.valid&&null!==i.value&&(Zt={...Zt,changed:i.value}),a.valid&&null!==a.value&&(Zt={...Zt,restored:a.value}),n.valid&&!ii.Aq.isNullOrUndefined(n.value)&&(Zt={...Zt,interval:n.value}),s.valid&&s.value&&(Zt={...Zt,format:s.value}),d.valid&&d.value&&(Zt={...Zt,deadband:d.value}),m.valid&&m.value&&(Zt={...Zt,scaleMode:m.value,rawLow:I.value,rawHigh:J.value,scaledLow:oe.value,scaledHigh:Ce.value,dateTimeFormat:$e.value}),nt.valid&&nt.value&&(Zt={...Zt,scaleReadFunction:nt.value}),Tt.valid&&Tt.value&&(Zt={...Zt,scaleWriteFunction:Tt.value}),this.formGroup.patchValue(Zt),this.data.device?.id===Gi.Yp.id&&this.formGroup.controls.scaleMode.disable(),this.formGroup.updateValueAndValidity(),this.onCheckScaleMode(this.formGroup.value.scaleMode)}this.formGroup.controls.scaleMode.valueChanges.subscribe(t=>{this.onCheckScaleMode(t)})}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}onCheckScaleMode(t){"linear"===t?(this.formGroup.controls.rawLow.setValidators(j.required),this.formGroup.controls.rawHigh.setValidators(j.required),this.formGroup.controls.scaledLow.setValidators(j.required),this.formGroup.controls.scaledHigh.setValidators(j.required)):(this.formGroup.controls.rawLow.clearValidators(),this.formGroup.controls.rawHigh.clearValidators(),this.formGroup.controls.scaledLow.clearValidators(),this.formGroup.controls.scaledHigh.clearValidators()),this.formGroup.controls.rawLow.updateValueAndValidity(),this.formGroup.controls.rawHigh.updateValueAndValidity(),this.formGroup.controls.scaledLow.updateValueAndValidity(),this.formGroup.controls.scaledHigh.updateValueAndValidity(),this.formGroup.updateValueAndValidity()}onNoClick(){this.dialogRef.close()}onOkClick(){let t,i;t=this.configedReadParams[this.formGroup.value.scaleReadFunction]?JSON.stringify(this.configedReadParams[this.formGroup.value.scaleReadFunction]):void 0,i=this.configedWriteParams[this.formGroup.value.scaleWriteFunction]?JSON.stringify(this.configedWriteParams[this.formGroup.value.scaleWriteFunction]):void 0,this.dialogRef.close({daq:new Gi.hD(this.formGroup.value.enabled,this.formGroup.value.changed,this.formGroup.value.interval,this.formGroup.value.restored),format:this.formGroup.value.format,deadband:this.formGroup.value.deadband?{value:this.formGroup.value.deadband,mode:Gi.tk.absolute}:void 0,scale:"undefined"!==this.formGroup.value.scaleMode?{mode:this.formGroup.value.scaleMode,rawLow:this.formGroup.value.rawLow,rawHigh:this.formGroup.value.rawHigh,scaledLow:this.formGroup.value.scaledLow,scaledHigh:this.formGroup.value.scaledHigh,dateTimeFormat:this.formGroup.value.dateTimeFormat}:null,scaleReadFunction:this.formGroup.value.scaleReadFunction,scaleReadParams:t,scaleWriteFunction:this.formGroup.value.scaleWriteFunction,scaleWriteParams:i})}disableForm(){return this.formGroup.invalid||this.paramsInValid()}paramsInValid(){if(this.formGroup.value.scaleReadFunction)for(const t of this.configedReadParams[this.formGroup.value.scaleReadFunction])if(!t.value)return!0;if(this.formGroup.value.scaleWriteFunction)for(const t of this.configedWriteParams[this.formGroup.value.scaleWriteFunction])if(!t.value)return!0;return!1}isFuxaServerTag(){return this.data.device?.id===Gi.Yp.id}loadScripts(){const t=this.projectService.getScripts().filter(i=>{if(i.parameters.length>0&&i.mode===qo.bR.SERVER){if("value"!==i.parameters[0].name||i.parameters[0].type!==qo.H8.value)return!1;for(const n of i.parameters)if(n.type!==qo.H8.value)return!1;return!0}return!1});for(const i of t){const n=[];for(let a=1;a<i.parameters.length;a++){const s=new pge(i.parameters[a].name,i.parameters[a].type);s.scriptId=i.id,s.value="value"in i.parameters[a]?i.parameters[a].value:null,n.push(s)}this.configedReadParams[i.id]=n,this.configedWriteParams[i.id]=n}this.scripts=t}initializeScriptParams(t,i,n){if(t){let a=!1;if(i.length!==t.parameters.length-1)a=!0;else for(const[s,d]of t.parameters.entries())if(0!==s&&!i.some(m=>m.name===d.name)){a=!0;break}return!!a||(n[t.id]=i,!1)}return!0}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Gr),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tag-options"]],decls:46,vars:30,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"block","mt10","flex",2,"text-align","center"],[1,"my-form-field","w100"],["color","primary","formControlName","enabled"],["color","primary","formControlName","changed"],["color","primary","formControlName","restored"],[1,"my-form-field","item-block"],["numberOnly","","formControlName","interval","min","0","type","number"],[1,"my-form-field","item-block","mt10"],["numberOnly","","formControlName","format","min","0","max","10","type","number"],["numberOnly","","formControlName","deadband","type","number"],[4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["formControlName","scaleMode"],[3,"matTooltip","value",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","scaleReadFunction",3,"matTooltip"],[3,"click"],[3,"value",4,"ngFor","ngForOf"],["class","my-form-field block mt5 ml15",4,"ngIf"],["formControlName","scaleWriteFunction",3,"matTooltip"],[3,"matTooltip","value"],[1,"my-form-field","item-block","mt5"],["formControlName","dateTimeFormat"],[1,"block","mt5"],[1,"my-form-field"],["formControlName","rawLow","type","number",2,"width","140px"],[1,"my-form-field","ml10"],["formControlName","rawHigh","type","number",2,"width","140px"],["formControlName","scaledLow","type","number",2,"width","140px"],["formControlName","scaledHigh","type","number",2,"width","140px"],[3,"value"],[1,"my-form-field","block","mt5","ml15"],[3,"matTooltip"],["class","item-param mt5",4,"ngFor","ngForOf"],[1,"item-param","mt5"],["matTooltip","item.name","type","text","readonly","",3,"value","disabled"],[1,"ml5",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"div",5)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"mat-slide-toggle",6),e.k0s(),e.j41(13,"div",5)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"mat-slide-toggle",7),e.k0s(),e.j41(18,"div",5)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"mat-slide-toggle",8),e.k0s()(),e.j41(23,"div",9)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"input",10),e.k0s(),e.j41(28,"div",11)(29,"span"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"input",12),e.k0s(),e.j41(33,"div",11)(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.nrm(37,"input",13),e.k0s(),e.DNE(38,hge,30,26,"div",14),e.k0s(),e.j41(39,"div",15)(40,"button",16),e.bIt("click",function(){return n.onNoClick()}),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"button",17),e.bIt("click",function(){return n.onOkClick()}),e.EFF(44),e.nI1(45,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,12,"device.tag-options-title")),e.R7$(8),e.JRh(e.bMT(11,14,"device.tag-daq-enabled")),e.R7$(5),e.JRh(e.bMT(16,16,"device.tag-daq-changed")),e.R7$(5),e.JRh(e.bMT(21,18,"device.tag-daq-restored")),e.R7$(5),e.JRh(e.bMT(26,20,"device.tag-daq-interval")),e.R7$(5),e.JRh(e.bMT(31,22,"device.tag-format")),e.R7$(5),e.JRh(e.bMT(36,24,"device.tag-deadband")),e.R7$(3),e.Y8G("ngIf",!n.isFuxaServerTag()),e.R7$(3),e.JRh(e.bMT(42,26,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.disableForm()),e.R7$(1),e.JRh(e.bMT(45,28,"dlg.ok")))},dependencies:[l.Sq,l.bT,l.ux,l.e1,Fn,k,Zn,qe,Ke,qn,Er,tn,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,wc,Is,Wr,Hs,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:350px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .item-param[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .item-param[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px}"],changeDetection:0})}return r})();function gge(r,o){if(1&r&&(e.j41(0,"mat-option",36),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function mge(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",29)(1,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onGoBack())}),e.j41(2,"mat-icon",31),e.EFF(3,"arrow_back"),e.k0s()(),e.j41(4,"div",32)(5,"span"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"mat-select",33),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.deviceSelected=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onDeviceChange(n.source))}),e.DNE(9,gge,2,2,"mat-option",34),e.k0s()(),e.j41(10,"div",32)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",35),e.bIt("keyup",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.applyFilter(n.target.value))}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(6),e.JRh(e.bMT(7,4,"device.list-device")),e.R7$(2),e.Y8G("value",t.deviceSelected),e.R7$(1),e.Y8G("ngForOf",t.devicesValue()),e.R7$(3),e.JRh(e.bMT(13,6,"device.list-filter"))}}function vge(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAddTag())}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.list-add"))}function _ge(r,o){if(1&r&&(e.j41(0,"mat-header-cell",37),e.DNE(1,vge,4,3,"button",38),e.k0s()),2&r){const t=e.XpG();e.Y8G("ngClass","selectidthClass"),e.R7$(1),e.Y8G("ngIf",!t.readonly&&t.isDeviceToEdit)}}function yge(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onEditRow(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.list-edit"))}function bge(r,o){if(1&r&&(e.j41(0,"mat-cell",37),e.DNE(1,yge,4,3,"button",38),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.Y8G("ngClass","selectidthClass"),e.R7$(1),e.Y8G("ngIf",!i.readonly&&i.isToEdit(i.deviceSelected.type,t))}}function wge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-name")," "))}function Cge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getTagLabel(t)," ")}}function Ege(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-address")," "))}function Bge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getAddress(t)," ")}}function Mge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-device")," "))}function xge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.deviceSelected.name," ")}}function Dge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-type")," "))}function Ige(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.type," ")}}function kge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-min")," "))}function Tge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.min," ")}}function Fge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-max")," "))}function Sge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.max," ")}}function Qge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-value")," "))}function Rge(r,o){if(1&r&&(e.j41(0,"mat-cell",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.FS9("matTooltip",t.value),e.R7$(1),e.SpI(" ",t.value," ")}}function Pge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-timestamp")," "))}function Oge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",e.i5U(2,1,t.timestamp,"dd-MM-yyyy HH:mm:ss")," ")}}function Lge(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-description")," "))}function Yge(r,o){if(1&r&&(e.j41(0,"mat-cell",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.FS9("matTooltip",t.description),e.R7$(1),e.JRh(t.description)}}function Nge(r,o){1&r&&e.nrm(0,"mat-header-cell",40)}function jge(r,o){1&r&&(e.qex(0),e.j41(1,"mat-icon"),e.EFF(2,"settings_backup_restore"),e.k0s(),e.bVm())}function Gge(r,o){if(1&r&&(e.j41(0,"span",44),e.EFF(1),e.k0s()),2&r){const t=e.XpG(3).$implicit;e.R7$(1),e.SpI(" ",t.daq.interval," s ")}}function Uge(r,o){if(1&r&&(e.qex(0),e.j41(1,"mat-icon"),e.EFF(2,"storage"),e.k0s(),e.DNE(3,Gge,2,1,"span",43),e.bVm()),2&r){const t=e.XpG(2).$implicit;e.R7$(3),e.Y8G("ngIf",t.daq.interval)}}function zge(r,o){if(1&r&&(e.j41(0,"div"),e.DNE(1,jge,3,0,"ng-container",42),e.DNE(2,Uge,4,1,"ng-container",42),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.daq.restored),e.R7$(1),e.Y8G("ngIf",t.daq.enabled)}}function Hge(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.DNE(1,zge,3,2,"div",42),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.Y8G("ngIf",t.daq)}}function Vge(r,o){1&r&&e.nrm(0,"mat-header-cell",40)}function Jge(r,o){1&r&&(e.j41(0,"button",47)(1,"mat-icon"),e.EFF(2,"warning_amber"),e.k0s()())}function Wge(r,o){if(1&r&&(e.j41(0,"mat-cell",45),e.DNE(1,Jge,3,0,"button",46),e.k0s()),2&r){const t=o.$implicit;e.Y8G("matTooltip",t.error?t.error:null),e.R7$(1),e.Y8G("ngIf",t.error)}}function Kge(r,o){1&r&&e.nrm(0,"mat-header-cell")}function Xge(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onEditOptions(n))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-options")," "))}function Zge(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",48)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",49,50),e.DNE(6,Xge,3,3,"button",51),e.j41(7,"button",52),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onCopyTagToClipboard(a))}),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()}if(2&r){const t=e.sdS(5),i=e.XpG();e.R7$(1),e.Y8G("matMenuTriggerFor",t),e.R7$(5),e.Y8G("ngIf",!i.readonly&&i.isWithOptions),e.R7$(2),e.SpI(" ",e.bMT(9,3,"device.list-clipboard")," ")}}function $ge(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onRemoveAll())}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.list-remove-all"))}function qge(r,o){if(1&r&&(e.j41(0,"mat-header-cell"),e.DNE(1,$ge,4,3,"button",38),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.readonly)}}function eme(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return n.stopPropagation(),e.Njj(s.onRemoveRow(a))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.list-remove"))}function tme(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.DNE(1,eme,4,3,"button",38),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.readonly)}}function ime(r,o){1&r&&(e.j41(0,"mat-header-cell",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.list-direction")," "))}function nme(r,o){if(1&r&&(e.j41(0,"mat-cell",41),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.FS9("matTooltip",t.direction),e.R7$(1),e.SpI(" ",t.direction," ")}}const hj=function(r){return{"min-width.px":r}};function rme(r,o){if(1&r&&e.nrm(0,"mat-header-row",53),2&r){const t=e.XpG();e.Y8G("ngStyle",e.eq3(1,hj,t.tableWidth))}}function ome(r,o){if(1&r&&e.nrm(0,"mat-row",54),2&r){const t=e.XpG();e.Y8G("ngStyle",e.eq3(1,hj,t.tableWidth))}}const ame=function(){return[10,25,100]};let sme=(()=>{class r{dialog;hmiService;translateService;changeDetector;projectService;tagPropertyService;defAllColumns=["select","name","address","device","type","value","timestamp","description","warning","logger","options","remove"];defInternalColumns=["select","name","device","type","value","timestamp","description","options","remove"];defGpipColumns=["select","name","device","address","direction","value","timestamp","description","logger","options","remove"];defAllRowWidth=1400;defClientRowWidth=1400;defInternalRowWidth=1200;displayedColumns=this.defAllColumns;dataSource=new Ln([]);selection=new Xd(!0,[]);devices;deviceType=Gi.bq;tableWidth=this.defAllRowWidth;tagsMap={};deviceSelected=null;isDeviceToEdit=!0;isWithOptions=!0;readonly=!1;save=new e.bkB;goto=new e.bkB;table;sort;trigger;paginator;constructor(t,i,n,a,s,d){this.dialog=t,this.hmiService=i,this.translateService=n,this.changeDetector=a,this.projectService=s,this.tagPropertyService=d}ngOnInit(){this.devices=this.projectService.getDevices(),!this.deviceSelected&&this.devices&&(this.deviceSelected=this.devices[0])}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}mapTags(){this.devices=this.projectService.getDevices(),Object.values(this.devices).forEach(t=>{t.tags&&Object.values(t.tags).forEach(i=>{this.tagsMap[i.id]=i})}),this.setSelectedDevice(this.deviceSelected)}bindToTable(t){t||(t={}),this.dataSource.data=Object.values(t),this.hmiService.viewsTagsSubscribe(Object.keys(t))}onDeviceChange(t){this.dataSource.data=[],this.deviceSelected=t.value,this.setSelectedDevice(this.deviceSelected)}setSelectedDevice(t){this.devices=this.projectService.getDevices(),this.updateDeviceValue(),t&&(this.isDeviceToEdit=!Gi.pF.isWebApiProperty(t),Object.values(this.devices).forEach(i=>{i.name===t.name&&(this.deviceSelected=i,this.bindToTable(this.deviceSelected.tags))}),this.deviceSelected.type===Gi.bq.internal?(this.displayedColumns=this.defInternalColumns,this.tableWidth=this.defInternalRowWidth):this.deviceSelected.type===Gi.bq.GPIO?(this.displayedColumns=this.defGpipColumns,this.tableWidth=this.defAllRowWidth):(this.displayedColumns=this.defAllColumns,this.tableWidth=this.defAllRowWidth),this.isWithOptions=this.deviceSelected.type!==this.deviceType.internal)}onGoBack(){this.goto.emit()}onRemoveRow(t){const i=this.dataSource.data.indexOf(t,0);this.dataSource.data[i]&&delete this.deviceSelected.tags[this.dataSource.data[i].id],this.bindToTable(this.deviceSelected.tags),this.projectService.setDeviceTags(this.deviceSelected)}onRemoveAll(){let t="";this.translateService.get("msg.tags-remove-all").subscribe(n=>{t=n}),this.dialog.open(th,{disableClose:!0,data:{msg:t},position:{top:"60px"}}).afterClosed().subscribe(n=>{n&&this.clearTags()})}clearTags(){this.deviceSelected.tags={},this.bindToTable(this.deviceSelected.tags),this.projectService.setDeviceTags(this.deviceSelected)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}onEditRow(t){this.deviceSelected.type===Gi.bq.MQTTclient?this.editTopics(t):this.editTag(t,!1)}onEditOptions(t){this.editTagOptions([t])}onAddTag(){if(this.deviceSelected.type===Gi.bq.OPCUA||this.deviceSelected.type===Gi.bq.BACnet||this.deviceSelected.type===Gi.bq.WebAPI)this.addOpcTags();else if(this.deviceSelected.type===Gi.bq.MQTTclient)this.editTopics();else{let t=new Gi.vw(ii.Aq.getGUID(Gi.jN));this.editTag(t,!0)}}addOpcTags(){this.deviceSelected.type!==Gi.bq.OPCUA?this.deviceSelected.type!==Gi.bq.BACnet?this.deviceSelected.type!==Gi.bq.WebAPI||this.tagPropertyService.editTagPropertyWebapi(this.deviceSelected,this.tagsMap).subscribe(t=>{this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyBacnet(this.deviceSelected,this.tagsMap).subscribe(t=>{this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.addTagsOpcUa(this.deviceSelected,this.tagsMap).subscribe(t=>{this.bindToTable(this.deviceSelected.tags)})}getTagLabel(t){return this.deviceSelected.type===Gi.bq.BACnet||this.deviceSelected.type===Gi.bq.WebAPI?t.label||t.name:this.deviceSelected.type===Gi.bq.OPCUA?t.label:t.name}getAddress(t){return t.address?this.deviceSelected.type===Gi.bq.ModbusRTU||this.deviceSelected.type===Gi.bq.ModbusTCP?parseInt(t.address)+parseInt(t.memaddress):this.deviceSelected.type===Gi.bq.WebAPI?t.options?t.address+" / "+t.options.selval:t.address:this.deviceSelected.type===Gi.bq.MQTTclient&&t.options&&t.options.subs&&"json"===t.type?this.tagPropertyService.formatAddress(t.address,t.memaddress):t.address:""}isToEdit(t,i){return t===Gi.bq.SiemensS7||t===Gi.bq.ModbusTCP||t===Gi.bq.ModbusRTU||t===Gi.bq.internal||t===Gi.bq.EthernetIP||t===Gi.bq.FuxaServer||t===Gi.bq.OPCUA||t===Gi.bq.GPIO||t===Gi.bq.ADSclient||!(t!==Gi.bq.MQTTclient||!i||!i.options||!i.options.pubs&&!i.options.subs)}editTag(t,i){this.deviceSelected.type!==Gi.bq.SiemensS7?this.deviceSelected.type!==Gi.bq.FuxaServer?this.deviceSelected.type!==Gi.bq.ModbusRTU&&this.deviceSelected.type!==Gi.bq.ModbusTCP?this.deviceSelected.type!==Gi.bq.internal?this.deviceSelected.type!==Gi.bq.EthernetIP?this.deviceSelected.type!==Gi.bq.OPCUA?this.deviceSelected.type!==Gi.bq.ADSclient?this.deviceSelected.type!==Gi.bq.GPIO||this.tagPropertyService.editTagPropertyGpio(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyADSclient(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyOpcUa(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyEthernetIp(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyInternal(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyModbus(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyServer(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)}):this.tagPropertyService.editTagPropertyS7(this.deviceSelected,t,i).subscribe(n=>{this.tagsMap[t.id]=t,this.bindToTable(this.deviceSelected.tags)})}editTagOptions(t){this.dialog.open(fge,{disableClose:!0,data:{device:this.deviceSelected,tags:t},position:{top:"60px"}}).afterClosed().subscribe(n=>{if(n){for(let a=0;a<t.length;a++)t[a].daq=n.daq,t[a].format=n.format,t[a].deadband=n.deadband,t[a].scale=n.scale,t[a].scaleReadFunction=n.scaleReadFunction,t[a].scaleReadParams=n.scaleReadParams,t[a].scaleWriteFunction=n.scaleWriteFunction,t[a].scaleWriteParams=n.scaleWriteParams;this.projectService.setDeviceTags(this.deviceSelected)}})}updateDeviceValue(){let t=this.hmiService.getAllSignals();for(let i in t)this.tagsMap[i]&&(this.tagsMap[i].value=t[i].value,this.tagsMap[i].error=t[i].error,this.tagsMap[i].timestamp=t[i].timestamp);this.changeDetector.detectChanges()}devicesValue(){return Object.values(this.devices)}editTopics(t=null){this.tagPropertyService.editTagPropertyMqtt(this.deviceSelected,t,this.tagsMap,()=>{this.bindToTable(this.deviceSelected.tags)})}onCopyTagToClipboard(t){ii.Aq.copyToClipboard(JSON.stringify(t))}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(BA.Ih),e.rXU(Vi.c$),e.rXU(e.gRc),e.rXU(kr.TR),e.rXU(vO))};static \u0275cmp=e.VBU({type:r,selectors:[["app-device-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5),e.GBs(tc,5),e.GBs(Dd,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first),e.mGM(a=e.lsd())&&(n.trigger=a.first),e.mGM(a=e.lsd())&&(n.paginator=a.first)}},inputs:{readonly:"readonly"},outputs:{save:"save",goto:"goto"},decls:52,vars:7,consts:[[1,"container"],["class","filter","style","color:var(--formInputColor)",4,"ngIf"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","address"],["matColumnDef","device"],["matColumnDef","type"],["matColumnDef","min"],["matColumnDef","max"],["matColumnDef","value"],[3,"matTooltip",4,"matCellDef"],["matColumnDef","timestamp"],["matColumnDef","description"],["matColumnDef","logger"],["matColumnDef","warning"],["matTooltipPosition","left",3,"matTooltip",4,"matCellDef"],["matColumnDef","options"],[4,"matHeaderCellDef"],["matColumnDef","remove"],["matColumnDef","direction"],[3,"ngStyle",4,"matHeaderRowDef"],["class","my-mat-row",3,"ngStyle",4,"matRowDef","matRowDefColumns"],[2,"position","relative","right","100px",3,"pageSizeOptions","pageSize"],[1,"filter",2,"color","var(--formInputColor)"],["mat-icon-button","","title","Device Map",2,"margin-right","10px","margin-left","-10px",3,"click"],["aria-label","Show devices map"],[1,"my-form-field",2,"padding-right","10px"],[2,"width","300px",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["type","text",2,"width","450px",3,"keyup"],[3,"value"],[3,"ngClass"],["mat-icon-button","","class","remove",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"remove",3,"matTooltip","click"],["mat-sort-header",""],[3,"matTooltip"],[4,"ngIf"],["style","display: inline-block;vertical-align: super;",4,"ngIf"],[2,"display","inline-block","vertical-align","super"],["matTooltipPosition","left",3,"matTooltip"],["mat-icon-button","","class","warning",4,"ngIf"],["mat-icon-button","",1,"warning"],["mat-icon-button","",3,"matMenuTriggerFor"],["xPosition","before"],["options","matMenu"],["mat-menu-item","","class","context-menu",3,"click",4,"ngIf"],["mat-menu-item","",1,"context-menu",3,"click"],[3,"ngStyle"],[1,"my-mat-row",3,"ngStyle"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,mge,15,8,"div",1),e.j41(2,"mat-table",2,3),e.qex(4,4),e.DNE(5,_ge,2,2,"mat-header-cell",5),e.DNE(6,bge,2,2,"mat-cell",6),e.bVm(),e.qex(7,7),e.DNE(8,wge,3,3,"mat-header-cell",8),e.DNE(9,Cge,2,1,"mat-cell",9),e.bVm(),e.qex(10,10),e.DNE(11,Ege,3,3,"mat-header-cell",8),e.DNE(12,Bge,2,1,"mat-cell",9),e.bVm(),e.qex(13,11),e.DNE(14,Mge,3,3,"mat-header-cell",8),e.DNE(15,xge,2,1,"mat-cell",9),e.bVm(),e.qex(16,12),e.DNE(17,Dge,3,3,"mat-header-cell",8),e.DNE(18,Ige,2,1,"mat-cell",9),e.bVm(),e.qex(19,13),e.DNE(20,kge,3,3,"mat-header-cell",8),e.DNE(21,Tge,2,1,"mat-cell",9),e.bVm(),e.qex(22,14),e.DNE(23,Fge,3,3,"mat-header-cell",8),e.DNE(24,Sge,2,1,"mat-cell",9),e.bVm(),e.qex(25,15),e.DNE(26,Qge,3,3,"mat-header-cell",8),e.DNE(27,Rge,2,2,"mat-cell",16),e.bVm(),e.qex(28,17),e.DNE(29,Pge,3,3,"mat-header-cell",8),e.DNE(30,Oge,3,4,"mat-cell",9),e.bVm(),e.qex(31,18),e.DNE(32,Lge,3,3,"mat-header-cell",8),e.DNE(33,Yge,2,2,"mat-cell",16),e.bVm(),e.qex(34,19),e.DNE(35,Nge,1,0,"mat-header-cell",8),e.DNE(36,Hge,2,1,"mat-cell",9),e.bVm(),e.qex(37,20),e.DNE(38,Vge,1,0,"mat-header-cell",8),e.DNE(39,Wge,2,2,"mat-cell",21),e.bVm(),e.qex(40,22),e.DNE(41,Kge,1,0,"mat-header-cell",23),e.DNE(42,Zge,10,5,"mat-cell",9),e.bVm(),e.qex(43,24),e.DNE(44,qge,2,1,"mat-header-cell",23),e.DNE(45,tme,2,1,"mat-cell",9),e.bVm(),e.qex(46,25),e.DNE(47,ime,3,3,"mat-header-cell",8),e.DNE(48,nme,2,2,"mat-cell",16),e.bVm(),e.DNE(49,rme,1,3,"mat-header-row",26),e.DNE(50,ome,1,3,"mat-row",27),e.k0s(),e.nrm(51,"mat-paginator",28),e.k0s()),2&i&&(e.R7$(1),e.Y8G("ngIf",n.deviceSelected),e.R7$(1),e.Y8G("dataSource",n.dataSource),e.R7$(47),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(6,ame))("pageSize",25))},dependencies:[l.YU,l.Sq,l.bT,l.B3,Ur,zn,Kn,Gc,rA,tc,Dd,yo,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Is,l.vh,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:1px 0 0}[_nghost-%COMP%]   .filter[_ngcontent-%COMP%]{display:inline-block;min-height:50px;padding:8px 24px 0}[_nghost-%COMP%]   .filter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 80px}[_nghost-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   .mat-column-address[_ngcontent-%COMP%]{flex:2 1 280px}[_nghost-%COMP%]   .mat-column-device[_ngcontent-%COMP%]{flex:1 1 140px}[_nghost-%COMP%]   .mat-column-type[_ngcontent-%COMP%]{flex:0 0 120px}[_nghost-%COMP%]   .mat-column-value[_ngcontent-%COMP%]{flex:1 1 180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px}[_nghost-%COMP%]   .mat-column-timestamp[_ngcontent-%COMP%]{flex:0 0 140px}[_nghost-%COMP%]   .mat-column-description[_ngcontent-%COMP%]{flex:1 1 140px}[_nghost-%COMP%]   .mat-column-logger[_ngcontent-%COMP%]{flex:0 0 80px;font-size:10px}[_nghost-%COMP%]   .mat-column-logger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px}[_nghost-%COMP%]   .mat-column-info[_ngcontent-%COMP%]{flex:0 0 40px}[_nghost-%COMP%]   .mat-column-warning[_ngcontent-%COMP%]{flex:0 0 30px}[_nghost-%COMP%]   .mat-column-options[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .mat-column-min[_ngcontent-%COMP%]{flex:0 0 100px}[_nghost-%COMP%]   .mat-column-max[_ngcontent-%COMP%]{flex:0 0 100px}[_nghost-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .mat-column-direction[_ngcontent-%COMP%]{flex:0 0 120px}[_nghost-%COMP%]   .selectidthClass[_ngcontent-%COMP%]{flex:0 0 50px}[_nghost-%COMP%]   .warning[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-12px;right:20px}[_nghost-%COMP%]   .my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]{font-size:13px}"],changeDetection:0})}return r})();function lme(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-icon",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeFile())}),e.EFF(1,"clear"),e.k0s()}}let cme=(()=>{class r{fileService;toastNotifier;fileName;destination;onFileChange=new e.bkB;selectedFile;constructor(t,i){this.fileService=t,this.toastNotifier=i}onChange(t){this.selectedFile=t.target.files[0],this.fileService.upload(this.selectedFile,this.destination).subscribe(i=>{i.result?(this.onFileChange.emit(this.selectedFile),this.fileName=this.selectedFile.name):this.toastNotifier.notifyError("msg.file-upload-failed",i.error)})}removeFile(){this.selectedFile=null,this.onFileChange.emit(this.selectedFile),this.fileName=null}static \u0275fac=function(i){return new(i||r)(e.rXU(O4),e.rXU(gD.L))};static \u0275cmp=e.VBU({type:r,selectors:[["app-file-upload"]],inputs:{fileName:"fileName",destination:"destination"},outputs:{onFileChange:"onFileChange"},decls:8,vars:2,consts:[[1,"file-upload"],[1,"pointer",3,"click"],["type","file",2,"display","none",3,"change","click"],["file",""],["class","clear pointer",3,"click",4,"ngIf"],[1,"clear","pointer",3,"click"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"div",0)(1,"mat-icon",1),e.bIt("click",function(d){return e.eBV(a),e.sdS(4).click(),e.Njj(d.stopPropagation())}),e.EFF(2,"upload"),e.k0s(),e.j41(3,"input",2,3),e.bIt("change",function(d){return n.onChange(d)})("click",function(d){return d.stopPropagation()}),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s(),e.DNE(7,lme,2,0,"mat-icon",4),e.k0s()}2&i&&(e.R7$(6),e.JRh(n.fileName),e.R7$(1),e.Y8G("ngIf",n.fileName))},dependencies:[l.bT,Kn],styles:[".file-upload[_ngcontent-%COMP%]{background-color:#0000001a}.file-upload[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:30px}.file-upload[_ngcontent-%COMP%]   .clear[_ngcontent-%COMP%]{float:right}.file-upload[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:text-bottom;margin-left:10px;font-size:13px}"]})}return r})();const Ame=["panelProperty"],dme=["panelCertificate"];function ume(r,o){if(1&r&&(e.j41(0,"div",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Lme(" ",e.bMT(2,2,"msg.device-remove")," '",t.data.device.name,"' ? ")}}function hme(r,o){1&r&&(e.j41(0,"h1",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.property-client"),""))}function pme(r,o){1&r&&(e.j41(0,"h1",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.property-server"),""))}function fme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div"),e.DNE(1,hme,3,3,"h1",8),e.DNE(2,pme,3,3,"h1",8),e.j41(3,"mat-icon",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onNoClick())}),e.EFF(4,"clear"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.isFuxaServer),e.R7$(1),e.Y8G("ngIf",t.isFuxaServer)}}function gme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function mme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",21,22),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.data.device.type=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onDeviceTypeChanged())}),e.DNE(6,gme,2,2,"mat-option",23),e.nI1(7,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"device.property-type")),e.R7$(2),e.Y8G("value",t.data.device.type)("disabled",t.isFuxaServer),e.R7$(2),e.Y8G("ngForOf",e.bMT(7,6,t.deviceType))}}function vme(r,o){1&r&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"device.property-internal")," "))}function _me(r,o){if(1&r&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG(3);e.Y8G("value",t.value)("disabled",i.isFuxaServer&&t.value>3e3),e.R7$(1),e.SpI(" ",t.text," ")}}function yme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",26)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",27),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.data.device.polling=n)}),e.DNE(5,_me,2,3,"mat-option",28),e.k0s()()}if(2&r){const t=e.XpG(2);e.xc7("margin-left",t.isFuxaServer?0:15,"px"),e.R7$(2),e.JRh(e.bMT(3,5,"device.property-polling")),e.R7$(2),e.Y8G("value",t.data.device.polling),e.R7$(1),e.Y8G("ngForOf",t.pollingType)}}function bme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",30)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-slide-toggle",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.data.device.enabled=n)}),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"device.property-enable")),e.R7$(2),e.Y8G("ngModel",t.data.device.enabled)}}function wme(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.property-security")))}function Cme(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.not-property-security")))}function Eme(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"mat-spinner",40),e.k0s())}function Bme(r,o){if(1&r&&(e.j41(0,"mat-radio-button",46),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.text)}}function Mme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",47)(1,"div",48)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(5);return e.Njj(a.security.username=n)}),e.k0s()(),e.j41(6,"div",50)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",51),e.bIt("keydown",function(n){e.eBV(t);const a=e.XpG(5);return e.Njj(a.keyDownStopPropagation(n))})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(5);return e.Njj(a.security.password=n)}),e.k0s(),e.j41(11,"mat-icon",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG(5);return e.Njj(n.showPassword=!n.showPassword)}),e.EFF(12),e.k0s()()()}if(2&r){const t=e.XpG(5);e.R7$(3),e.JRh(e.bMT(4,6,"general.username")),e.R7$(2),e.Y8G("ngModel",t.security.username),e.R7$(3),e.JRh(e.bMT(9,8,"general.password")),e.R7$(2),e.Y8G("type",t.showPassword?"text":"password")("ngModel",t.security.password),e.R7$(2),e.JRh(t.showPassword?"visibility":"visibility_off")}}function xme(r,o){if(1&r&&(e.j41(0,"div",53)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG(5);e.R7$(2),e.JRh(t.propertyError)}}function Dme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41)(1,"mat-radio-group",42),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.securityRadio=n)}),e.DNE(2,Bme,2,2,"mat-radio-button",43),e.k0s(),e.DNE(3,Mme,13,10,"div",44),e.DNE(4,xme,3,1,"div",45),e.k0s()}if(2&r){const t=e.XpG(4);e.R7$(1),e.Y8G("ngModel",t.securityRadio),e.R7$(1),e.Y8G("ngForOf",t.securityMode),e.R7$(1),e.Y8G("ngIf",!t.propertyError),e.R7$(1),e.Y8G("ngIf",t.propertyError)}}function Ime(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(6,"div",35)(7,"mat-expansion-panel",36,37),e.bIt("closed",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!1))})("opened",function(){e.eBV(t);const n=e.XpG(3);return n.onPropertyExpand(!0),e.Njj(n.onCheckOpcUaServer())}),e.j41(9,"mat-expansion-panel-header",38)(10,"mat-panel-title"),e.DNE(11,wme,3,3,"span",2),e.DNE(12,Cme,3,3,"span",2),e.k0s()(),e.DNE(13,Eme,2,0,"div",2),e.DNE(14,Dme,5,4,"div",39),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,8,"device.property-address-opc")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(4),e.Y8G("collapsedHeight","32px")("expandedHeight","32px"),e.R7$(2),e.Y8G("ngIf",t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",!t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",t.propertyLoading),e.R7$(1),e.Y8G("ngIf",!t.propertyLoading)}}function kme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",54),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",55)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",54),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.broadcastAddress=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",20)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",56),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.adpuTimeout=n)}),e.nI1(18,"translate"),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,9,"device.property-interface-address")),e.R7$(2),e.FS9("placeholder",e.bMT(6,11,"device.property-interface-address-ph")),e.Y8G("ngModel",t.data.device.property.address),e.R7$(4),e.JRh(e.bMT(10,13,"device.property-broadcast-address")),e.R7$(2),e.FS9("placeholder",e.bMT(12,15,"device.property-broadcast-address-ph")),e.Y8G("ngModel",t.data.device.property.broadcastAddress),e.R7$(4),e.JRh(e.bMT(16,17,"device.property-adpu-timeout")),e.R7$(2),e.FS9("placeholder",e.bMT(18,19,"device.property-adpu-timeout-ph")),e.Y8G("ngModel",t.data.device.property.adpuTimeout)}}function Tme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(6,"div",57)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",58),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.rack=n)}),e.k0s()(),e.j41(11,"div",20)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",58),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.slot=n)}),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,6,"device.property-address-s7")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(3),e.JRh(e.bMT(9,8,"device.property-rack")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.rack),e.R7$(3),e.JRh(e.bMT(14,10,"device.property-slot")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.slot)}}function Fme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Sme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Qme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Rme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Pme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Ome(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",59),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.connectionOption=n)}),e.DNE(6,Fme,2,2,"mat-option",23),e.k0s()(),e.j41(7,"div",60)(8,"div",61)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"input",62),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(13,"div",63)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",64),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.slaveid=n)}),e.k0s()()(),e.j41(18,"div",57)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",65),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.baudrate=n)}),e.DNE(23,Sme,2,2,"mat-option",23),e.k0s()(),e.j41(24,"div",57)(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"mat-select",66),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.databits=n)}),e.DNE(29,Qme,2,2,"mat-option",23),e.k0s()(),e.j41(30,"div",57)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"mat-select",66),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.stopbits=n)}),e.DNE(35,Rme,2,2,"mat-option",23),e.k0s()(),e.j41(36,"div",20)(37,"span"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"mat-select",67),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.parity=n)}),e.DNE(41,Pme,2,2,"mat-option",23),e.k0s()(),e.j41(42,"div",68)(43,"div",69)(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"mat-slide-toggle",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.options=n)}),e.k0s()(),e.j41(48,"div",70)(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"input",71),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.delay=n)}),e.k0s()()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,23,"device.property-connection-options")),e.R7$(2),e.Y8G("value",t.data.device.property.connectionOption),e.R7$(1),e.Y8G("ngForOf",t.modbusRtuOptionType),e.R7$(4),e.JRh(e.bMT(11,25,"device.property-serialport")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(3),e.JRh(e.bMT(16,27,"device.property-slave-id")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.slaveid),e.R7$(3),e.JRh(e.bMT(21,29,"device.property-baudrate")),e.R7$(2),e.Y8G("value",t.data.device.property.baudrate),e.R7$(1),e.Y8G("ngForOf",t.baudrateType),e.R7$(3),e.JRh(e.bMT(27,31,"device.property-databits")),e.R7$(2),e.Y8G("value",t.data.device.property.databits),e.R7$(1),e.Y8G("ngForOf",t.databitsType),e.R7$(3),e.JRh(e.bMT(33,33,"device.property-stopbits")),e.R7$(2),e.Y8G("value",t.data.device.property.stopbits),e.R7$(1),e.Y8G("ngForOf",t.stopbitsType),e.R7$(3),e.JRh(e.bMT(39,35,"device.property-parity")),e.R7$(2),e.Y8G("value",t.data.device.property.parity),e.R7$(1),e.Y8G("ngForOf",t.parityType),e.R7$(4),e.JRh(e.bMT(46,37,"device.property-tockenized")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.options),e.R7$(3),e.JRh(e.bMT(51,39,"device.property-delay")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.delay)}}function Lme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Yme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Nme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",68)(2,"div",26)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-select",72),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.connectionOption=n)}),e.DNE(7,Lme,2,2,"mat-option",23),e.k0s()(),e.j41(8,"div",73)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"mat-select",74),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.socketReuse=n)}),e.nrm(13,"mat-option",24),e.DNE(14,Yme,2,2,"mat-option",23),e.nI1(15,"enumToArray"),e.k0s()()(),e.j41(16,"div",20)(17,"span"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",62),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(21,"div",63)(22,"span"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"input",64),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.slaveid=n)}),e.k0s()(),e.j41(26,"div",68)(27,"div",69)(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"mat-slide-toggle",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.options=n)}),e.k0s()(),e.j41(32,"div",70)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"input",71),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.delay=n)}),e.k0s()()()()}if(2&r){const t=e.XpG(3);e.R7$(4),e.JRh(e.bMT(5,14,"device.property-connection-options")),e.R7$(2),e.Y8G("value",t.data.device.property.connectionOption),e.R7$(1),e.Y8G("ngForOf",t.modbusTcpOptionType),e.R7$(3),e.JRh(e.bMT(11,16,"device.property-socket-reuse")),e.R7$(2),e.Y8G("value",t.data.device.property.socketReuse),e.R7$(2),e.Y8G("ngForOf",e.bMT(15,18,t.modbusReuseModeType)),e.R7$(4),e.JRh(e.bMT(19,20,"device.property-address-port")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(3),e.JRh(e.bMT(24,22,"device.property-slave-id")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.slaveid),e.R7$(4),e.JRh(e.bMT(30,24,"device.property-tockenized")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.options),e.R7$(3),e.JRh(e.bMT(35,26,"device.property-delay")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.delay)}}function jme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Gme(r,o){if(1&r&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Ume(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.property-webapi-result")))}function zme(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.not-webapi-result")))}function Hme(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"mat-spinner",40),e.k0s())}function Vme(r,o){if(1&r&&(e.j41(0,"div")(1,"div",79),e.EFF(2),e.k0s()()),2&r){const t=e.XpG(4);e.R7$(2),e.SpI(" ",t.result," ")}}function Jme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",20)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",75),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.method=n)}),e.DNE(6,jme,2,2,"mat-option",23),e.k0s()(),e.j41(7,"div",76)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",77),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.format=n)}),e.DNE(12,Gme,2,2,"mat-option",23),e.k0s()(),e.j41(13,"div",13)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(18,"div",35)(19,"mat-expansion-panel",78,37),e.bIt("closed",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!1))})("opened",function(){e.eBV(t);const n=e.XpG(3);return n.onPropertyExpand(!0),e.Njj(n.onCheckWebApi())}),e.j41(21,"mat-expansion-panel-header",38)(22,"mat-panel-title"),e.DNE(23,Ume,3,3,"span",2),e.DNE(24,zme,3,3,"span",2),e.k0s()(),e.DNE(25,Hme,2,0,"div",2),e.DNE(26,Vme,3,1,"div",2),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,15,"device.property-method")),e.R7$(2),e.Y8G("value",t.data.device.property.method),e.R7$(1),e.Y8G("ngForOf",t.methodType),e.R7$(3),e.JRh(e.bMT(10,17,"device.property-format")),e.R7$(2),e.Y8G("value",t.data.device.property.format),e.R7$(1),e.Y8G("ngForOf",t.parserType),e.R7$(3),e.JRh(e.bMT(16,19,"device.property-url")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(2),e.Y8G("disabled",!t.data.device.property.method||!t.data.device.property.address),e.R7$(2),e.Y8G("collapsedHeight","32px")("expandedHeight","32px"),e.R7$(2),e.Y8G("ngIf",t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",!t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",t.propertyLoading),e.R7$(1),e.Y8G("ngIf",!t.propertyLoading)}}function Wme(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.property-security")))}function Kme(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.not-property-security")))}function Xme(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"mat-spinner",40),e.k0s())}function Zme(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",82)(2,"div",48)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"input",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.security.clientId=n)}),e.k0s()(),e.j41(7,"div",48)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",49),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.security.username=n)}),e.k0s()(),e.j41(12,"div",48)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",51),e.bIt("keydown",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.keyDownStopPropagation(n))})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.security.password=n)}),e.k0s(),e.j41(17,"mat-icon",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.showPassword=!n.showPassword)}),e.EFF(18),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG(4);e.R7$(4),e.JRh(e.bMT(5,8,"general.clientId")),e.R7$(2),e.Y8G("ngModel",t.security.clientId),e.R7$(3),e.JRh(e.bMT(10,10,"general.username")),e.R7$(2),e.Y8G("ngModel",t.security.username),e.R7$(3),e.JRh(e.bMT(15,12,"general.password")),e.R7$(2),e.Y8G("type",t.showPassword?"text":"password")("ngModel",t.security.password),e.R7$(2),e.JRh(t.showPassword?"visibility":"visibility_off")}}function $me(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(6,"div",35)(7,"mat-expansion-panel",36,37),e.bIt("closed",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!1))})("opened",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!0))}),e.j41(9,"mat-expansion-panel-header",80)(10,"mat-panel-title"),e.DNE(11,Wme,3,3,"span",2),e.DNE(12,Kme,3,3,"span",2),e.k0s()(),e.DNE(13,Xme,2,0,"div",2),e.DNE(14,Zme,19,14,"ng-container",2),e.k0s()(),e.j41(15,"div",35)(16,"mat-expansion-panel",36,81),e.bIt("closed",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!1))})("opened",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!0))}),e.j41(18,"mat-expansion-panel-header",80)(19,"mat-panel-title")(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.qex(23),e.j41(24,"div",82)(25,"div",83)(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"app-file-upload",84),e.bIt("onFileChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.security.certificateFileName=null!=n&&n.name?n.name:null)}),e.k0s()(),e.j41(30,"div",83)(31,"span"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"app-file-upload",84),e.bIt("onFileChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.security.privateKeyFileName=null!=n&&n.name?n.name:null)}),e.k0s()(),e.j41(35,"div",83)(36,"span"),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"app-file-upload",84),e.bIt("onFileChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.security.caCertificateFileName=null!=n&&n.name?n.name:null)}),e.k0s()()(),e.bVm(),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,17,"device.property-mqtt-address")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(4),e.Y8G("collapsedHeight","32px")("expandedHeight","32px"),e.R7$(2),e.Y8G("ngIf",t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",!t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",t.propertyLoading),e.R7$(1),e.Y8G("ngIf",!t.propertyLoading),e.R7$(4),e.Y8G("collapsedHeight","32px")("expandedHeight","32px"),e.R7$(3),e.JRh(e.bMT(22,19,"device.property-certificate-section")),e.R7$(6),e.JRh(e.bMT(28,21,"device.property-certificate")),e.R7$(2),e.Y8G("fileName",t.security.certificateFileName),e.R7$(3),e.JRh(e.bMT(33,23,"device.property-certificate-key")),e.R7$(2),e.Y8G("fileName",t.security.privateKeyFileName),e.R7$(3),e.JRh(e.bMT(38,25,"device.property-certificate-ca")),e.R7$(2),e.Y8G("fileName",t.security.caCertificateFileName)}}function qme(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",88)(1,"input",89),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.data.device.property.rack=n)}),e.k0s(),e.j41(2,"input",90),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.data.device.property.slot=n)}),e.k0s()()}if(2&r){const t=e.XpG(4);e.R7$(1),e.Y8G("ngModel",t.data.device.property.rack),e.R7$(1),e.Y8G("ngModel",t.data.device.property.slot)}}function e0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",20)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(6,"div",85)(7,"div",86)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-slide-toggle",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.options=n)}),e.k0s()(),e.DNE(12,qme,3,2,"div",87),e.k0s()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,5,"device.property-address-port")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(4),e.JRh(e.bMT(10,7,"device.property-routing")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.options),e.R7$(1),e.Y8G("ngIf",t.data.device.property.options)}}function t0e(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.property-odbc-result")))}function i0e(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"device.not-odbc-result")))}function n0e(r,o){1&r&&(e.j41(0,"div"),e.nrm(1,"mat-spinner",40),e.k0s())}function r0e(r,o){if(1&r&&(e.j41(0,"mat-radio-button",46),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function o0e(r,o){if(1&r&&(e.j41(0,"div",96)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG(5);e.R7$(2),e.JRh(t.propertyError)}}function a0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",41)(1,"mat-radio-group",42),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(4);return e.Njj(a.tableRadio=n)}),e.DNE(2,r0e,2,2,"mat-radio-button",43),e.k0s(),e.DNE(3,o0e,3,1,"div",95),e.k0s()}if(2&r){const t=e.XpG(4);e.R7$(1),e.Y8G("ngModel",t.tableRadio),e.R7$(1),e.Y8G("ngForOf",t.databaseTables),e.R7$(1),e.Y8G("ngIf",t.propertyError)}}function s0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",83)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(6,"div",91)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",92),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.security.username=n)}),e.k0s()(),e.j41(11,"div",91)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",93),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.security.password=n)})("keydown",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.keyDownStopPropagation(n))}),e.k0s(),e.j41(16,"mat-icon",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.showPassword=!n.showPassword)}),e.EFF(17),e.k0s()(),e.j41(18,"div",94)(19,"mat-expansion-panel",78,37),e.bIt("closed",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onPropertyExpand(!1))})("opened",function(){e.eBV(t);const n=e.XpG(3);return n.onPropertyExpand(!0),e.Njj(n.onCheckOdbc())}),e.j41(21,"mat-expansion-panel-header",38)(22,"mat-panel-title"),e.DNE(23,t0e,3,3,"span",2),e.DNE(24,i0e,3,3,"span",2),e.k0s()(),e.DNE(25,n0e,2,0,"div",2),e.DNE(26,a0e,4,3,"div",39),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,15,"device.property-dsn")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(3),e.JRh(e.bMT(9,17,"general.username")),e.R7$(2),e.Y8G("ngModel",t.security.username),e.R7$(3),e.JRh(e.bMT(14,19,"general.password")),e.R7$(2),e.Y8G("ngModel",t.security.password)("type",t.showPassword?"text":"password"),e.R7$(2),e.JRh(t.showPassword?"visibility":"visibility_off"),e.R7$(2),e.Y8G("disabled",!t.data.device.property.address),e.R7$(2),e.Y8G("collapsedHeight","32px")("expandedHeight","32px"),e.R7$(2),e.Y8G("ngIf",t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",!t.propertyExpanded),e.R7$(1),e.Y8G("ngIf",t.propertyLoading),e.R7$(1),e.Y8G("ngIf",!t.propertyLoading)}}function l0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",55)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.address=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(6,"div",55)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.local=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()(),e.j41(11,"div",83)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",34),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.data.device.property.router=n)})("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddressChanged())}),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,6,"device.property-ads-target")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.address),e.R7$(3),e.JRh(e.bMT(9,8,"device.property-ads-local")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.local),e.R7$(3),e.JRh(e.bMT(14,10,"device.property-ads-router")),e.R7$(2),e.Y8G("ngModel",t.data.device.property.router)}}function c0e(r,o){1&r&&e.nrm(0,"div")}function A0e(r,o){if(1&r&&(e.j41(0,"div",32),e.DNE(1,Ime,15,10,"div",33),e.DNE(2,kme,19,21,"div",33),e.DNE(3,Tme,16,12,"div",33),e.DNE(4,Ome,53,41,"div",33),e.DNE(5,Nme,37,28,"div",33),e.DNE(6,Jme,27,21,"div",33),e.DNE(7,$me,40,27,"div",33),e.DNE(8,e0e,13,9,"div",33),e.DNE(9,s0e,27,21,"div",33),e.DNE(10,l0e,16,12,"div",33),e.DNE(11,c0e,1,0,"div",33),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("ngSwitch",t.data.device.type),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.OPCUA),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.BACnet),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.SiemensS7),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.ModbusRTU),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.ModbusTCP),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.WebAPI),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.MQTTclient),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.EthernetIP),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.ODBC),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.ADSclient),e.R7$(1),e.Y8G("ngSwitchCase",t.deviceType.Gpio)}}function d0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"input",14),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.device.name=n)}),e.k0s()(),e.DNE(7,mme,8,8,"div",15),e.DNE(8,vme,3,3,"div",16),e.DNE(9,yme,6,7,"div",17),e.DNE(10,bme,5,4,"div",18),e.DNE(11,A0e,12,12,"div",19),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,8,"device.property-name")),e.R7$(2),e.Y8G("ngModel",t.data.device.name)("disabled",t.isFuxaServer),e.R7$(1),e.Y8G("ngIf",!t.isFuxaServer),e.R7$(1),e.Y8G("ngIf",t.data.device.type===t.deviceType.internal),e.R7$(1),e.Y8G("ngIf",t.isWithPolling()),e.R7$(1),e.Y8G("ngIf",t.canEnable()),e.R7$(1),e.Y8G("ngIf",t.data.device.property&&t.data.device.type)}}let u0e=(()=>{class r{hmiService;translateService;appService;dialogRef;data;panelProperty;panelCertificate;tableRadio;databaseTables=[];securityRadio;mode;deviceType={};showPassword;pollingPlcType=[{text:"200 ms",value:200},{text:"350 ms",value:350},{text:"500 ms",value:500},{text:"700 ms",value:700},{text:"1 sec",value:1e3},{text:"1.5 sec",value:1500},{text:"2 sec",value:2e3},{text:"3 sec",value:3e3},{text:"4 sec",value:4e3},{text:"5 sec",value:5e3},{text:"10 sec",value:1e4},{text:"30 sec",value:3e4},{text:"1 min",value:6e4}];pollingWebApiType=[{text:"1 sec",value:1e3},{text:"2 sec",value:2e3},{text:"3 sec",value:3e3},{text:"5 sec",value:5e3},{text:"10 sec",value:1e4},{text:"30 sec",value:3e4},{text:"1 min",value:6e4},{text:"2 min",value:12e4},{text:"5 min",value:3e5},{text:"10 min",value:6e5},{text:"30 min",value:18e5},{text:"60 min",value:36e5}];pollingType=this.pollingPlcType;isFuxaServer=!1;isToRemove=!1;propertyError="";propertyExpanded;propertyLoading;securityMode=[];security=new Gi.n7;baudrateType=[110,300,600,1200,2400,4800,9600,14400,19200,28800,38400,57600,115200,128e3,256e3,921600];databitsType=[7,8];stopbitsType=[1,1.5,2];parityType=["None","Odd","Even"];methodType=["GET"];parserType=["JSON"];hostInterfaces=[];modbusRtuOptionType=[Gi._z.SerialPort,Gi._z.RTUBufferedPort,Gi._z.AsciiPort];modbusTcpOptionType=[Gi._z.TcpPort,Gi._z.UdpPort,Gi._z.TcpRTUBufferedPort,Gi._z.TelnetPort];modbusReuseModeType=Gi.kA;result="";subscriptionDeviceProperty;subscriptionHostInterfaces;subscriptionDeviceWebApiRequest;projectService;constructor(t,i,n,a,s){this.hmiService=t,this.translateService=i,this.appService=n,this.dialogRef=a,this.data=s,this.projectService=s.projectService}ngOnInit(){this.isToRemove=this.data.remove,this.isFuxaServer=!(!this.data.device.type||this.data.device.type!==Gi.bq.FuxaServer);for(let t in Gi.bq)if(!this.isFuxaServer&&t!==Gi.bq.FuxaServer)for(let i=0;i<this.data.availableType.length;i++)t.startsWith(this.data.availableType[i])&&(this.deviceType[t]=Gi.bq[t]);1===this.data.availableType.length&&(this.data.device.type=this.data.availableType[0]),this.subscriptionDeviceProperty=this.hmiService.onDeviceProperty.subscribe(t=>{if(t.type===Gi.bq.OPCUA)if(this.securityMode=[],t.result){let i=Gi.lc;for(let n=0;n<t.result.length;n++){let a=t.result[n],s=this.securityModeToString(a.securityMode);-1!==a.securityPolicy.indexOf(i.None)?this.securityMode.push({value:a,text:Gi.lc.None.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic128Rsa15)?this.securityMode.push({value:a,text:Gi.lc.Basic128Rsa15.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic128)?this.securityMode.push({value:a,text:Gi.lc.Basic128.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic192Rsa15)?this.securityMode.push({value:a,text:Gi.lc.Basic192Rsa15.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic192)?this.securityMode.push({value:a,text:Gi.lc.Basic192.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic256Rsa15)?this.securityMode.push({value:a,text:Gi.lc.Basic256Rsa15.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic256Sha256)?this.securityMode.push({value:a,text:Gi.lc.Basic256Sha256.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Basic256)?this.securityMode.push({value:a,text:Gi.lc.Basic256.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Aes128_Sha256_RsaOaep)?this.securityMode.push({value:a,text:Gi.lc.Aes128_Sha256_RsaOaep.toString()+" - "+s}):-1!==a.securityPolicy.indexOf(i.Aes256_Sha256_RsaPss)&&this.securityMode.push({value:a,text:Gi.lc.Aes256_Sha256_RsaPss.toString()+" - "+s}),this.isSecurityMode(a)&&(this.securityRadio=a)}this.propertyError=""}else t.error&&(this.propertyError=t.error);else if(t.type!==Gi.bq.BACnet&&t.type===Gi.bq.ODBC)if(t?.error)this.propertyError=t.error;else{this.databaseTables=t.result;for(let i=0;i<t.result?.length;i++)this.isSecurityMode(t.result[i])&&(this.tableRadio=t.result[i]);this.propertyError=""}this.propertyLoading=!1}),this.data.device.id&&(this.data.device.type===Gi.bq.OPCUA||this.data.device.type===Gi.bq.MQTTclient||this.data.device.type===Gi.bq.ODBC)&&this.projectService.getDeviceSecurity(this.data.device.id).pipe(dg(500)).subscribe(t=>{t&&this.setSecurity(t.value)},t=>{console.error("get Device Security err: "+t)}),this.data.device.property&&(this.data.device.property.baudrate||(this.data.device.property.baudrate=9600),this.data.device.property.databits||(this.data.device.property.databits=8),this.data.device.property.stopbits||(this.data.device.property.stopbits=1),this.data.device.property.parity||(this.data.device.property.parity="None")),this.subscriptionHostInterfaces=this.hmiService.onHostInterfaces.subscribe(t=>{t.result&&(this.hostInterfaces=t)}),this.subscriptionDeviceWebApiRequest=this.hmiService.onDeviceWebApiRequest.subscribe(t=>{t.result&&(this.result=JSON.stringify(t.result)),this.propertyLoading=!1}),this.onDeviceTypeChanged()}ngOnDestroy(){try{this.subscriptionDeviceProperty&&this.subscriptionDeviceProperty.unsubscribe(),this.subscriptionHostInterfaces&&this.subscriptionHostInterfaces.unsubscribe(),this.subscriptionDeviceWebApiRequest&&this.subscriptionDeviceWebApiRequest.unsubscribe()}catch(t){console.error(t)}}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.security=this.getSecurity()}onCheckOpcUaServer(){this.propertyLoading=!0,this.propertyError="",this.hmiService.askDeviceProperty(this.data.device.property.address,this.data.device.type)}onCheckWebApi(){this.propertyLoading=!0,this.result="",this.hmiService.askWebApiProperty(this.data.device.property)}onCheckOdbc(){this.propertyLoading=!0,this.result="",this.hmiService.askDeviceProperty({address:this.data.device.property.address,uid:this.security.username,pwd:this.security.password,id:this.data.device.id},this.data.device.type)}onPropertyExpand(t){this.propertyExpanded=t}onAddressChanged(){this.propertyLoading=!1}onDeviceTypeChanged(){this.pollingType=this.data.device.type===Gi.bq.WebAPI?this.pollingWebApiType:this.pollingPlcType}isValid(t){return!(!t.name||!t.type||this.data.exist.find(i=>i===t.name))}isSecurityMode(t){return JSON.stringify(this.mode)===JSON.stringify(t)}getSecurity(){if(this.propertyExpanded&&this.data.device.type===Gi.bq.OPCUA){if(this.securityRadio||this.security.username||this.security.password)return{mode:this.securityRadio,uid:this.security.username,pwd:this.security.password}}else if(this.propertyExpanded&&this.data.device.type===Gi.bq.MQTTclient){if(this.security.clientId||this.security.username||this.security.password||this.security.certificateFileName||this.security.privateKeyFileName||this.security.caCertificateFileName)return{clientId:this.security.clientId,uid:this.security.username,pwd:this.security.password,cert:this.security.certificateFileName,pkey:this.security.privateKeyFileName,caCert:this.security.caCertificateFileName}}else if(this.data.device.type===Gi.bq.ODBC&&(this.tableRadio||this.security.username||this.security.password))return{mode:this.tableRadio,uid:this.security.username,pwd:this.security.password};return null}setSecurity(t){if(t&&"null"!==t){let i=JSON.parse(t);this.mode=i.mode,this.security.username=i.uid,this.security.password=i.pwd,this.security.clientId=i.clientId,this.security.grant_type=i.gt,(i.uid||i.pwd||i.clientId)&&this.panelProperty?.open(),this.security.certificateFileName=i.cert,this.security.privateKeyFileName=i.pkey,this.security.caCertificateFileName=i.caCert,(i.cert||i.pkey||i.caCert)&&this.panelCertificate?.open()}}keyDownStopPropagation(t){t.stopPropagation()}isWithPolling(){return!(this.data.device?.type===Gi.bq.internal||this.appService.isClientApp||this.appService.isDemoApp)}canEnable(){return!(this.isFuxaServer||this.data.device?.type===this.deviceType.internal)}securityModeToString(t){let i=Gi.Pl,n="";return t===i.NONE?this.translateService.get("device.security-none").subscribe(a=>{n=a}):t===i.SIGN?this.translateService.get("device.security-sign").subscribe(a=>{n=a}):t===i.SIGNANDENCRYPT&&this.translateService.get("device.security-signandencrypt").subscribe(a=>{n=a}),n}static \u0275fac=function(i){return new(i||r)(e.rXU(BA.Ih),e.rXU(Vi.c$),e.rXU(Bf.d),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-device-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Ame,5),e.GBs(dme,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.panelProperty=a.first),e.mGM(a=e.lsd())&&(n.panelCertificate=a.first)}},decls:11,vars:11,consts:[[2,"width","100%","position","relative"],["style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[4,"ngIf"],["style","overflow-y: hidden; overflow-x: hidden; padding-top: 5px;",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],[2,"margin-top","20px","margin-bottom","20px"],["mat-dialog-title","","style","display:inline-block; cursor:move; padding-top: 15px","mat-dialog-draggable","",4,"ngIf"],[2,"float","right","cursor","pointer","color","gray","position","relative","top","10px","right","0px",3,"click"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move","padding-top","15px"],[2,"overflow-y","hidden","overflow-x","hidden","padding-top","5px"],[2,"display","block"],[1,"my-form-field",2,"display","block","margin-bottom","10px"],["type","text",2,"width","350px",3,"ngModel","disabled","ngModelChange"],["class","my-form-field","style","display: inline-block;margin-bottom: 10px;",4,"ngIf"],["class","my-form-field","style","display: inline-block;margin-left: 15px;font-size: 14px;",4,"ngIf"],["class","my-form-field inbk ",3,"marginLeft",4,"ngIf"],["class","my-form-field","style","display: inline-block;margin-bottom: 10px;text-align: center;width: 80px;",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"my-form-field",2,"display","inline-block","margin-bottom","10px"],[2,"width","160px",3,"value","disabled","valueChange","selectionChange"],["devicetype",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"my-form-field",2,"display","inline-block","margin-left","15px","font-size","14px"],[1,"my-form-field","inbk"],[2,"width","80px",3,"value","valueChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"my-form-field",2,"display","inline-block","margin-bottom","10px","text-align","center","width","80px"],["color","primary",3,"ngModel","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","ip",2,"width","350px",3,"ngModel","ngModelChange","click"],[1,"my-expansion-panel"],[3,"closed","opened"],["panelProperty",""],[1,"header",2,"padding-left","5px !important","padding-right","17px !important","font-size","13px",3,"collapsedHeight","expandedHeight"],["class","my-expansion-conent",4,"ngIf"],["diameter","20",2,"margin","auto"],[1,"my-expansion-conent"],[3,"ngModel","ngModelChange"],["style","display:block;padding-left:10px;padding-bottom:2px;font-size: 13px;",3,"value",4,"ngFor","ngForOf"],["style","display: block;margin: 5px 10px 0px 10px;",4,"ngIf"],["style","display: block;margin: 5px 10px 0px 10px;width: 315px; color: red;",4,"ngIf"],[2,"display","block","padding-left","10px","padding-bottom","2px","font-size","13px",3,"value"],[2,"display","block","margin","5px 10px 0px 10px"],[1,"my-form-field"],["type","text",2,"width","315px","background-color","var(--formInputExtBackground)",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"margin-top","5px"],["autocomplete","off",2,"width","315px","background-color","var(--formInputExtBackground)",3,"type","ngModel","keydown","ngModelChange"],["matSuffix","",1,"show-password",3,"click"],[2,"display","block","margin","5px 10px 0px 10px","width","315px","color","red"],["type","ip",1,"address",3,"ngModel","placeholder","ngModelChange","click"],[1,"my-form-field","block","mb10"],["numberOnly","","type","number",1,"adpu",3,"ngModel","placeholder","ngModelChange"],[1,"my-form-field",2,"display","inline-block","margin-bottom","10px","padding-right","10px"],["numberOnly","","type","text",2,"width","80px",3,"ngModel","ngModelChange"],[2,"width","262px",3,"value","valueChange"],[2,"display","block","margin-bottom","10px"],[1,"my-form-field",2,"display","inline-block"],["type","ip",2,"width","262px",3,"ngModel","ngModelChange","click"],[1,"my-form-field",2,"display","inline-block","margin-left","15px"],["numberOnly","","type","text",2,"width","65px",3,"ngModel","ngModelChange"],[2,"width","75px",3,"value","valueChange"],[2,"width","50px",3,"value","valueChange"],[2,"width","74px",3,"value","valueChange"],[1,"mb10","block"],[1,"my-form-field","inbk",2,"width","100px","text-align","center"],[1,"my-form-field","inbk",2,"display","inline-block","margin-left","50px"],["numberOnly","","type","number",2,"width","100px",3,"ngModel","ngModelChange"],[2,"width","200px",3,"value","valueChange"],[1,"my-form-field","inbk","ml10","ftr"],[2,"width","130px",3,"value","valueChange"],[2,"width","160px",3,"value","valueChange"],[1,"my-form-field",2,"margin-bottom","10px","float","right"],[2,"width","168px",3,"value","valueChange"],[3,"disabled","closed","opened"],[1,"my-form-field","multiline",2,"display","block","margin","5px 5px 0px 5px","font-size","13px"],[1,"header",3,"collapsedHeight","expandedHeight"],["panelCertificate",""],[1,"expand-panel"],[1,"my-form-field","block"],["destination","certificates",3,"fileName","onFileChange"],[2,"display","block","height","45px"],[1,"my-form-field",2,"display","inline-block","text-align","center","width","80px"],["class","my-form-field","style","display: inline-block; margin-left: 10px;",4,"ngIf"],[1,"my-form-field",2,"display","inline-block","margin-left","10px"],["numberOnly","","type","text",2,"width","20px",3,"ngModel","ngModelChange"],["numberOnly","","type","text",2,"width","20px","margin-left","5px",3,"ngModel","ngModelChange"],[1,"my-form-field","block","mt5"],["type","text",2,"width","350px",3,"ngModel","ngModelChange"],["autocomplete","off",2,"width","350px",3,"ngModel","type","ngModelChange","keydown"],[1,"my-form-field","my-expansion-panel"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,ume,3,4,"div",1),e.DNE(2,fme,5,2,"div",2),e.DNE(3,d0e,12,10,"div",3),e.j41(4,"div",4)(5,"button",5),e.bIt("click",function(){return n.onNoClick()}),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return n.onOkClick()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("ngIf",n.isToRemove),e.R7$(1),e.Y8G("ngIf",!n.isToRemove),e.R7$(1),e.Y8G("ngIf",!n.isToRemove),e.R7$(3),e.JRh(e.bMT(7,7,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",!n.isValid(n.data.device))("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(10,9,"dlg.ok")))},dependencies:[l.Sq,l.bT,l.ux,l.e1,k,Zn,qe,tn,Ur,zn,nA,Or,Rr,up,$d,xg,Kn,Yv,Id,v2,Kb,yo,wc,cme,Wr,Hs,Vi.D9,ii.yN],styles:[".mat-expansion-panel-body{padding-left:5px!important;padding-right:5px!important}.my-expansion-panel[_ngcontent-%COMP%]{width:356px;display:block;margin-top:10px}.my-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important;background-color:var(--formExtBackground);border-radius:2px}.my-expansion-panel[_ngcontent-%COMP%]   .my-expansion-conent[_ngcontent-%COMP%]{padding-bottom:10px!important;max-height:320px;overflow:auto}.my-expansion-panel[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:block;line-height:20px;width:315px;color:red;font-size:13px}.multiline[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.address[_ngcontent-%COMP%]{width:350px}.adpu[_ngcontent-%COMP%]{width:120px}.header[_ngcontent-%COMP%]{font-size:13px;padding-left:5px;padding-right:15px}.expand-panel[_ngcontent-%COMP%]{display:block;margin:5px 10px 10px}.expand-panel[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]{margin-top:5px}"]})}return r})(),h0e=(()=>{class r{projectService;hmiService;translateService;dialogRef;data;cacheDevice;subscriptionDeviceTagsRequest;message="";constructor(t,i,n,a,s){this.projectService=t,this.hmiService=i,this.translateService=n,this.dialogRef=a,this.data=s}ngOnInit(){this.cacheDevice=JSON.parse(JSON.stringify(this.data.device)),this.subscriptionDeviceTagsRequest=this.hmiService.onDeviceTagsRequest.subscribe(t=>{if(t.result&&t.result.tags&&(this.translateService.get("msg.device-tags-request-result",{value:t.result.newTagsCount,current:t.result.tags.length}).subscribe(i=>{this.message=i}),t.result.newTagsCount)){for(let i=0;i<t.result.tags.length;i++)this.data.device.tags[t.result.tags[i][0].id]=t.result.tags[i][0];this.projectService.setDevice(this.data.device,this.data.device,null)}})}ngOnDestroy(){try{this.subscriptionDeviceTagsRequest&&this.subscriptionDeviceTagsRequest.unsubscribe()}catch(t){console.error(t)}}onNoClick(){this.dialogRef.close()}onOkClick(){this.cacheDevice.enabled!==this.data.device.enabled&&this.projectService.setDevice(this.data.device,this.data.device,null),this.dialogRef.close()}onLoadTagsClick(){this.message="",this.hmiService.askDeviceTags(this.data.device.id)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(BA.Ih),e.rXU(Vi.c$),e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-device-webapi-property-dialog"]],decls:52,vars:42,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"content"],[1,"my-form-field","block"],["type","text",2,"width","350px",3,"value","disabled","valueChange"],[1,"block","mt10"],[1,"my-form-field"],["type","text",2,"width","160px",3,"value","disabled","valueChange"],[1,"my-form-field","ml20"],["type","text",2,"width","80px",3,"value","disabled","valueChange"],["color","primary",3,"ngModel","ngModelChange"],[1,"my-form-field","block","mt10"],[1,"block","mt15",2,"height","24px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","","color","accent",2,"margin-right","80px",3,"click"],["mat-raised-button","",2,"float","right",3,"click"],["mat-raised-button","","color","primary",2,"float","right",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"div",4)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"input",5),e.bIt("valueChange",function(s){return n.data.device.name=s}),e.k0s()(),e.j41(13,"div",6)(14,"div",7)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"input",8),e.bIt("valueChange",function(s){return n.data.device.type=s}),e.k0s()(),e.j41(19,"div",9)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",10),e.bIt("valueChange",function(s){return n.data.device.polling=s}),e.k0s()(),e.j41(24,"div",9)(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"mat-slide-toggle",11),e.bIt("ngModelChange",function(s){return n.data.device.enabled=s}),e.k0s()()(),e.j41(29,"div",12)(30,"span"),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"input",5),e.bIt("valueChange",function(s){return n.data.device.property.getTags=s}),e.k0s()(),e.j41(34,"div",12)(35,"span"),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"input",5),e.bIt("valueChange",function(s){return n.data.device.property.postTags=s}),e.k0s()(),e.j41(39,"div",13)(40,"span"),e.EFF(41),e.k0s()()()(),e.j41(42,"div",14)(43,"button",15),e.bIt("click",function(){return n.onLoadTagsClick()}),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"button",16),e.bIt("click",function(){return n.onNoClick()}),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"button",17),e.bIt("click",function(){return n.onOkClick()}),e.EFF(50),e.nI1(51,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,22,"device.webapi-property-title")),e.R7$(8),e.JRh(e.bMT(11,24,"device.property-name")),e.R7$(2),e.Y8G("value",n.data.device.name)("disabled",!0),e.R7$(4),e.JRh(e.bMT(17,26,"device.property-type")),e.R7$(2),e.Y8G("value",n.data.device.type)("disabled",!0),e.R7$(3),e.JRh(e.bMT(22,28,"device.property-polling")),e.R7$(2),e.Y8G("value",n.data.device.polling)("disabled",!0),e.R7$(3),e.JRh(e.bMT(27,30,"device.property-enable")),e.R7$(2),e.Y8G("ngModel",n.data.device.enabled),e.R7$(3),e.JRh(e.bMT(32,32,"device.webapi-property-gettags")),e.R7$(2),e.Y8G("value",n.data.device.property.getTags)("disabled",!0),e.R7$(3),e.JRh(e.bMT(37,34,"device.webapi-property-posttags")),e.R7$(2),e.Y8G("value",n.data.device.property.postTags)("disabled",!0),e.R7$(3),e.JRh(n.message),e.R7$(3),e.JRh(e.bMT(45,36,"device.webapi-property-loadtags")),e.R7$(3),e.JRh(e.bMT(48,38,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(51,40,"dlg.ok")))},dependencies:[qe,tn,zn,Or,eo,Rr,Kn,wc,Wr,Vi.D9],styles:[".content[_ngcontent-%COMP%]{display:block}"]})}return r})();function p0e(r,o){if(1&r&&e.nrm(0,"div",30),2&r){const t=o.index,i=e.XpG(3);e.xc7("left",i.getDeviceLineLeftPosition(t,"flow"),"px")("top",i.getDeviceLineTopPosition("flow"),"px")("width",i.lineFlowSize,"px")("height",i.flowLineHeight,"px")}}function f0e(r,o){if(1&r&&e.nrm(0,"div",31),2&r){const t=o.index,i=e.XpG(3);e.xc7("left",i.getDeviceLineLeftPosition(t),"px")("top",i.getDeviceLineTopPosition(),"px")("width",i.lineDeviceSize,"px")("height",i.deviceLineHeight,"px")}}function g0e(r,o){if(1&r&&(e.j41(0,"div"),e.nrm(1,"div",25),e.DNE(2,p0e,1,8,"div",26),e.nrm(3,"div",27)(4,"div",28),e.DNE(5,f0e,1,8,"div",29),e.nrm(6,"div",27),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.xc7("left",t.getMainLineLeftPosition(),"px")("top",t.getMainLineTopPosition("flow"),"px")("width",t.lineFlowSize,"px")("height",t.getMainLineHeight("flow"),"px"),e.R7$(1),e.Y8G("ngForOf",t.devicesValue("flow")),e.R7$(1),e.xc7("left",t.getDeviceConnectionLeftPosition("flow"),"px")("top",t.getDeviceConnectionTopPosition("flow"),"px")("width",t.getDeviceConnectionWidth("flow"),"px")("height",t.lineFlowSize,"px"),e.R7$(1),e.xc7("left",t.getMainLineLeftPosition(),"px")("top",t.getMainLineTopPosition(),"px")("width",t.lineDeviceSize,"px")("height",t.getMainLineHeight(),"px"),e.R7$(1),e.Y8G("ngForOf",t.devicesValue()),e.R7$(1),e.xc7("left",t.getDeviceConnectionLeftPosition(),"px")("top",t.getDeviceConnectionTopPosition(),"px")("width",t.getDeviceConnectionWidth(),"px")("height",t.lineDeviceSize,"px")}}function m0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onListDevice(n.server))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"link"),e.k0s()()}if(2&r){const t=e.XpG(3);e.xc7("right",t.readonly?2:30,"px"),e.FS9("matTooltip",e.bMT(1,3,"device.property-tags"))}}function v0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onEditDevice(n.server))}),e.nI1(1,"translate"),e.j41(2,"mat-icon",39),e.EFF(3,"edit"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-edit"))}function _0e(r,o){if(1&r&&(e.j41(0,"div",32)(1,"span",33),e.EFF(2),e.k0s(),e.j41(3,"span",34),e.EFF(4),e.k0s(),e.DNE(5,m0e,4,5,"button",35),e.DNE(6,v0e,4,3,"button",36),e.k0s()),2&r){const t=e.XpG(2);e.xc7("left",t.getMainLeftPosition(),"px")("top",t.getMainTopPosition(),"px")("width",t.mainWidth,"px")("height",t.mainHeight,"px")("border-width",t.mainBorder,"px"),e.R7$(2),e.JRh(t.server.name),e.R7$(2),e.JRh(t.server.property.address),e.R7$(1),e.Y8G("ngIf",!t.readonly),e.R7$(1),e.Y8G("ngIf",!t.readonly)}}function y0e(r,o){if(1&r&&(e.j41(0,"span",34),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.property.address)}}function b0e(r,o){if(1&r&&e.nrm(0,"div",47),2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.xc7("background-color",i.getDeviceStatusColor(t))}}function w0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onListDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"link"),e.k0s()()}if(2&r){const t=e.XpG(3);e.xc7("right",t.readonly?0:30,"px"),e.FS9("matTooltip",e.bMT(1,3,"device.property-tags"))}}function C0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onEditDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon",39),e.EFF(3,"edit"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-edit"))}function E0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onRemoveDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon",39),e.EFF(3,"clear"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-remove"))}function B0e(r,o){if(1&r&&(e.j41(0,"div",40)(1,"span",41),e.EFF(2),e.k0s(),e.DNE(3,y0e,2,1,"span",42),e.j41(4,"span",43),e.EFF(5),e.k0s(),e.DNE(6,b0e,1,2,"div",44),e.DNE(7,w0e,4,5,"button",45),e.DNE(8,C0e,4,3,"button",36),e.DNE(9,E0e,4,3,"button",46),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG(2);e.xc7("color",t.enabled?"#000000":"#828282")("left",n.getDeviceLeftPosition(i,"flow"),"px")("top",n.getDeviceTopPosition("flow"),"px")("width",n.flowWidth,"px")("height",n.flowHeight,"px")("border-width",n.flowBorder,"px"),e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",t.property),e.R7$(2),e.JRh(n.getDevicePropertyToShow(t)),e.R7$(1),e.Y8G("ngIf",t.enabled),e.R7$(1),e.Y8G("ngIf",!n.readonly&&n.withListConfig(t)),e.R7$(1),e.Y8G("ngIf",!n.readonly),e.R7$(1),e.Y8G("ngIf",!n.readonly)}}function M0e(r,o){if(1&r&&(e.j41(0,"span",34),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.property.address)}}function x0e(r,o){if(1&r&&e.nrm(0,"div",47),2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.xc7("background-color",i.getDeviceStatusColor(t))}}function D0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onListDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"link"),e.k0s()()}if(2&r){const t=e.XpG(3);e.xc7("right",t.readonly?0:30,"px"),e.FS9("matTooltip",e.bMT(1,3,"device.property-tags"))}}function I0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onEditDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon",39),e.EFF(3,"edit"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-edit"))}function k0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onRemoveDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon",39),e.EFF(3,"clear"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-remove"))}function T0e(r,o){if(1&r&&(e.j41(0,"div",50)(1,"span",51),e.EFF(2),e.k0s(),e.DNE(3,M0e,2,1,"span",42),e.j41(4,"span",43),e.EFF(5),e.k0s(),e.DNE(6,x0e,1,2,"div",44),e.DNE(7,D0e,4,5,"button",45),e.DNE(8,I0e,4,3,"button",36),e.DNE(9,k0e,4,3,"button",46),e.k0s()),2&r){const t=o.$implicit,i=o.index,n=e.XpG(2);e.xc7("color",t.enabled?"#FFFFFF":"#C5C5C5")("left",n.getDeviceLeftPosition(i),"px")("top",n.getDeviceTopPosition(),"px")("width",n.deviceWidth,"px")("height",n.deviceHeight,"px")("border-width",n.deviceBorder,"px"),e.Y8G("ngClass",n.getNodeClass(t)),e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",t.property),e.R7$(2),e.JRh(n.getDevicePropertyToShow(t)),e.R7$(1),e.Y8G("ngIf",t.enabled),e.R7$(1),e.Y8G("ngIf",!n.readonly&&n.withListConfig(t)),e.R7$(1),e.Y8G("ngIf",!n.readonly),e.R7$(1),e.Y8G("ngIf",!n.readonly)}}function F0e(r,o){if(1&r&&(e.j41(0,"div"),e.DNE(1,g0e,7,34,"div",0),e.j41(2,"div",21),e.DNE(3,_0e,7,14,"div",22),e.DNE(4,B0e,10,19,"div",23),e.DNE(5,T0e,10,20,"div",24),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.server&&t.server.property),e.R7$(2),e.Y8G("ngIf",null==t.server?null:t.server.property),e.R7$(1),e.Y8G("ngForOf",t.devicesValue("flow")),e.R7$(1),e.Y8G("ngForOf",t.devicesValue())}}function S0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addDevice())}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-add"))}function Q0e(r,o){if(1&r&&(e.j41(0,"mat-header-cell",50),e.DNE(1,S0e,4,3,"button",52),e.k0s()),2&r){const t=e.XpG();e.Y8G("ngClass",t.readonly?"selectHideClass":"selectWidthClass"),e.R7$(1),e.Y8G("ngIf",!t.readonly)}}function R0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onListDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"link"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-tags"))}function P0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.onEditDevice(n))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-edit"))}function O0e(r,o){if(1&r&&(e.j41(0,"mat-cell",50),e.DNE(1,R0e,4,3,"button",52),e.DNE(2,P0e,4,3,"button",52),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.Y8G("ngClass",i.readonly?"selectHideClass":"selectWidthClass"),e.R7$(1),e.Y8G("ngIf",!i.readonly&&i.withListConfig(t)),e.R7$(1),e.Y8G("ngIf",!i.readonly)}}function L0e(r,o){1&r&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"devices.list-name")," "))}function Y0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI("",t.name," ")}}function N0e(r,o){1&r&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"devices.list-type")," "))}function j0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI("",t.type," ")}}function G0e(r,o){1&r&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"devices.list-polling")," "))}function U0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI("",t.polling," ")}}function z0e(r,o){1&r&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"devices.list-address")," "))}function H0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI("",i.getDeviceAddress(t)," ")}}function V0e(r,o){1&r&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"devices.list-status")," "))}function J0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.xc7("color",i.getDeviceStatusColor(t)),e.R7$(1),e.SpI("",i.getDeviceStatusText(t)," ")}}function W0e(r,o){1&r&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"devices.list-enabled")," "))}function K0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI("",t.enabled," ")}}function X0e(r,o){1&r&&e.nrm(0,"mat-header-cell")}function Z0e(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return n.stopPropagation(),e.Njj(s.onRemoveDevice(a))}),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"device.property-remove"))}function $0e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.DNE(1,Z0e,4,3,"button",52),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("ngIf",!i.readonly&&!i.isServer(t))}}const pj=function(r){return{"min-width.px":r}};function q0e(r,o){if(1&r&&e.nrm(0,"mat-header-row",55),2&r){const t=e.XpG();e.Y8G("ngStyle",e.eq3(1,pj,t.tableWidth))}}function eve(r,o){if(1&r&&e.nrm(0,"mat-row",56),2&r){const t=e.XpG();e.Y8G("ngStyle",e.eq3(1,pj,t.tableWidth))}}const tve=function(){return[10,25,100]};let ive=(()=>{class r{dialog;translateService;elementRef;appService;pluginService;projectService;goto=new e.bkB;mode;readonly=!1;subscriptionPluginsChange;devicesViewMap=Gi.lE.map;devicesViewList=Gi.lE.list;deviceStatusType=Gi.Rs;displayedColumns=["select","name","type","polling","address","status","enabled","remove"];dataSource=new Ln([]);tableWidth=1200;table;sort;paginator;flowBorder=5;flowWidth=160;flowHeight=70;flowLineHeight=60;deviceBorder=5;deviceWidth=160;deviceHeight=90;deviceLineHeight=60;lineFlowSize=6;lineFlowHeight=60;lineDeviceSize=6;mainDeviceLineHeight=60;mainWidth=160;mainHeight=90;mainBorder=5;server;devices={};plugins=[];devicesStatus={};dirty=!1;domArea;constructor(t,i,n,a,s,d){this.dialog=t,this.translateService=i,this.elementRef=n,this.appService=a,this.pluginService=s,this.projectService=d,this.domArea=this.elementRef.nativeElement.parent}ngOnInit(){this.loadCurrentProject(),this.loadAvailableType(),this.subscriptionPluginsChange=this.pluginService.onPluginsChanged.subscribe(t=>{this.loadAvailableType()}),Object.keys(this.deviceStatusType).forEach(t=>{this.translateService.get(this.deviceStatusType[t]).subscribe(i=>{this.deviceStatusType[t]=i})})}ngAfterViewInit(){this.appService.isClientApp&&(this.mainDeviceLineHeight=0,this.mainHeight=0,this.flowLineHeight=0,this.flowHeight=0,this.lineFlowHeight=0),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){try{this.subscriptionPluginsChange&&this.subscriptionPluginsChange.unsubscribe()}catch{}}onEditDevice(t){Gi.pF.isWebApiProperty(t)?this.showDeviceWebApiProperty(t):this.editDevice(t,!1)}loadCurrentProject(){let t=this.projectService.getProject();this.devices=this.projectService.getDevices(),t&&t.server&&(this.server=this.devices[t.server.id]),this.loadDevices()}loadDevices(){this.devices=this.projectService.checkSystemTags(),this.dataSource.data=Object.values(this.devices)}loadAvailableType(){this.plugins=[],this.appService.isClientApp||this.appService.isDemoApp||(this.pluginService.getPlugins().subscribe(t=>{Object.values(t).forEach(i=>{i.current.length&&this.plugins.push(i.type)})},t=>{}),this.plugins.push(Gi.bq.WebAPI),this.plugins.push(Gi.bq.MQTTclient)),this.plugins.push(Gi.bq.internal)}addDevice(){let t=new Gi.pF(ii.Aq.getGUID(Gi.C_));t.property=new Gi.v_,t.enabled=!1,t.tags={},this.editDevice(t,!1)}onRemoveDevice(t){this.editDevice(t,!0)}removeDevice(t){delete this.devices[t.id],this.loadDevices()}getWindowWidth(){let t=window.innerWidth;return this.appService.isClientApp&&this.elementRef.nativeElement&&this.elementRef.nativeElement.parentElement&&(t=this.elementRef.nativeElement.parentElement.clientWidth),this.devices&&(t<(this.plcs().length+2)*this.deviceWidth&&(t=(this.plcs().length+2)*this.deviceWidth),t<(this.flows().length+2)*this.deviceWidth&&(t=(this.flows().length+2)*this.deviceWidth)),t}getHorizontalCenter(){return this.getWindowWidth()/2}getVerticalCenter(){return this.devices&&this.plcs().length&&this.flows().length?window.innerHeight/5*2:this.flows().length?window.innerHeight/2:window.innerHeight/3}getMainLeftPosition(){return this.getHorizontalCenter()-this.mainWidth/2}getMainTopPosition(){return this.getVerticalCenter()-this.mainHeight/2}getMainLineLeftPosition(){return this.getHorizontalCenter()-1+this.lineDeviceSize/2}getMainLineTopPosition(t=null){return"flow"===t?this.getVerticalCenter()+this.mainBorder-(this.lineFlowHeight+this.mainHeight/2):this.getVerticalCenter()+this.mainBorder+this.mainHeight/2}getMainLineHeight(t=null){if(this.devices)if("flow"===t){if(this.flows().length)return this.lineFlowHeight}else if(this.plcs().length)return this.mainDeviceLineHeight;return 0}getDeviceLeftPosition(t,i=null){if(this.devices)if("flow"===i){if(this.flows().length){let n=t+1,a=this.flows().length+1;return(this.getWindowWidth()-this.flowWidth)/a*n}}else if(this.plcs().length){let n=t+1,a=this.plcs().length+1;return(this.getWindowWidth()-this.deviceWidth)/a*n}return 0}getDeviceTopPosition(t=null){if(this.server)return"flow"===t?this.getDeviceLineTopPosition(t)-(this.flowHeight+2*this.flowBorder):this.getVerticalCenter()+(this.mainHeight/2+this.deviceLineHeight+this.mainDeviceLineHeight);{let i=this.elementRef.nativeElement.parentElement.clientHeight/2;return i<200&&(i=200),"flow"===t?i-=2*this.mainHeight:i+=this.mainHeight/2,i}}getDeviceLineLeftPosition(t,i=null){if(this.devices)if("flow"===i){if(this.flows().length){let n=t+1,a=this.flows().length+1,s=(this.getWindowWidth()-this.flowWidth)/a*n;return s+=this.flowBorder+this.flowWidth/2-this.lineDeviceSize/2,s}}else if(this.plcs().length){let n=t+1,a=this.plcs().length+1,s=(this.getWindowWidth()-this.deviceWidth)/a*n;return s+=this.deviceBorder+this.deviceWidth/2-this.lineDeviceSize/2,s}return 0}getDeviceLineTopPosition(t=null){return"flow"===t?this.getDeviceConnectionTopPosition(t)+this.lineFlowSize-this.flowLineHeight:this.getDeviceTopPosition(t)-this.deviceLineHeight}getDeviceConnectionLeftPosition(t=null){if("flow"===t){let i=this.flows().length+1,n=(this.getWindowWidth()-this.flowWidth)/i*1;return n+=this.deviceBorder+(this.flowWidth-this.lineFlowSize)/2,n}{let i=this.plcs().length+1,n=(this.getWindowWidth()-this.deviceWidth)/i*1;return n+=this.deviceBorder+(this.deviceWidth-this.lineDeviceSize)/2,n}}getDeviceConnectionTopPosition(t=null){return"flow"===t?this.getMainLineTopPosition(t)-this.lineFlowSize:this.getDeviceLineTopPosition()}getDeviceConnectionWidth(t=null){if(this.devices)if("flow"===t){let i=this.flows().length;if(i){let n=this.flows().length+1;return(this.getWindowWidth()-this.flowWidth)/n*i-(this.getWindowWidth()-this.flowWidth)/n*1}}else{let i=this.plcs().length;if(i){let n=this.plcs().length+1;return(this.getWindowWidth()-this.deviceWidth)/n*i-(this.getWindowWidth()-this.deviceWidth)/n*1}}return 0}devicesValue(t=null){if(this.devices)if("flow"===t){if(this.flows().length)return this.flows().sort((n,a)=>n.name>a.name?1:-1)}else if(this.plcs().length)return this.plcs().sort((n,a)=>n.name>a.name?1:-1);return[]}onListDevice(t){this.goto.emit(t)}withListConfig(t){return t.type!==Gi.bq.ODBC}isDevicePropertyToShow(t){if(t.property&&"OPCUA"!==t.type)return!0}isClientDevice(t){return this.appService.isClientApp}isServer(t){return this.server.id===t.id}getDeviceAddress(t){return t.property?t.property.address:""}getDevicePropertyToShow(t){let i="";return t.property&&(t.type===Gi.bq.OPCUA?i="OPC-UA":t.type===Gi.bq.SiemensS7?(i="Port: ",t.property.port&&(i+=t.property.port),i+=" / Rack: ",t.property.rack&&(i+=t.property.rack),i+=" / Slot: ",t.property.slot&&(i+=t.property.slot)):t.type===Gi.bq.ModbusTCP?(i="Modbus-TCP  Slave ID: ",t.property.slaveid&&(i+=t.property.slaveid)):t.type===Gi.bq.ModbusRTU&&(i="Modbus-RTU  Slave ID: ",t.property.slaveid&&(i+=t.property.slaveid))),i}getDeviceStatusColor(t){if(this.devicesStatus[t.id]){let i=(new Date).getTime();this.devicesStatus[t.id].last+15e3<i&&"connect-off"!==this.devicesStatus[t.id].status&&(this.devicesStatus[t.id].status="connect-error",this.devicesStatus[t.id].last=(new Date).getTime());let n=this.devicesStatus[t.id].status;if("connect-ok"===n)return"#00b050";if("connect-error"===n||"connect-failed"===n)return"#ff2d2d";if("connect-off"===n||"connect-busy"===n)return"#ffc000"}}getDeviceStatusText(t){if(this.devicesStatus[t.id]){let i=this.devicesStatus[t.id]?.status?.replace("connect-","");if(this.deviceStatusType[i])return this.deviceStatusType[i]}return"-"}getNodeClass(t){return t.type===Gi.bq.internal?"node-internal":"node-device"}setDeviceStatus(t){this.devicesStatus[t.id]={status:t.status,last:(new Date).getTime()}}editDevice(t,i){let n=Object.values(this.devices).filter(d=>d.id!==t.id).map(d=>d.name);n.push("server");let a=JSON.parse(JSON.stringify(t));this.dialog.open(u0e,{disableClose:!0,panelClass:"dialog-property",data:{device:a,remove:i,exist:n,availableType:this.plugins,projectService:this.projectService},position:{top:"60px"}}).afterClosed().subscribe(d=>{if(d){if(this.dirty=!0,i)this.removeDevice(t),this.projectService.removeDevice(t);else{let m=JSON.parse(JSON.stringify(t));t.name=a.name,t.type=a.type,t.enabled=a.enabled,t.polling=a.polling,(this.appService.isClientApp||this.appService.isDemoApp)&&delete t.property,t.property&&a.property&&(t.property.address=a.property.address,t.property.port=parseInt(a.property.port),t.property.slot=parseInt(a.property.slot),t.property.rack=parseInt(a.property.rack),t.property.slaveid=a.property.slaveid,t.property.baudrate=a.property.baudrate,t.property.databits=a.property.databits,t.property.stopbits=a.property.stopbits,t.property.parity=a.property.parity,t.property.options=a.property.options,t.property.delay=a.property.delay,t.property.method=a.property.method,t.property.format=a.property.format,t.property.broadcastAddress=a.property.broadcastAddress,t.property.adpuTimeout=a.property.adpuTimeout,t.property.local=a.property.local,t.property.router=a.property.router,a.property.connectionOption&&(t.property.connectionOption=a.property.connectionOption),t.property.socketReuse=t.type===Gi.bq.ModbusTCP?a.property.socketReuse:null),this.projectService.setDevice(t,m,d.security)}this.loadDevices()}})}showDeviceWebApiProperty(t){this.dialog.open(h0e,{data:{device:t},position:{top:"60px"}}).afterClosed().subscribe(()=>{})}plcs(){return Object.values(this.devices).filter(t=>t.type!==Gi.bq.WebAPI&&t.type!==Gi.bq.FuxaServer&&t.type!==Gi.bq.ODBC&&t.type!==Gi.bq.internal)}flows(){return Object.values(this.devices).filter(t=>t.type===Gi.bq.WebAPI||t.type===Gi.bq.ODBC||t.type===Gi.bq.internal)}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(e.aKT),e.rXU(Bf.d),e.rXU(px),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-device-map"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5),e.GBs(Dd,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first),e.mGM(a=e.lsd())&&(n.paginator=a.first)}},inputs:{mode:"mode",readonly:"readonly"},outputs:{goto:"goto"},decls:31,vars:8,consts:[[4,"ngIf"],[1,"container",3,"ngClass"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","type"],["matColumnDef","polling"],["matColumnDef","address"],["matColumnDef","status"],[3,"color",4,"matCellDef"],["matColumnDef","enabled"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[3,"ngStyle",4,"matHeaderRowDef"],["class","my-mat-row",3,"ngStyle",4,"matRowDef","matRowDefColumns"],[2,"position","relative","right","100px",3,"pageSizeOptions","pageSize"],[1,"container"],["class","main-device",3,"left","top","width","height","borderWidth",4,"ngIf"],["class","node-flow",3,"color","left","top","width","height","borderWidth",4,"ngFor","ngForOf"],[3,"ngClass","color","left","top","width","height","borderWidth",4,"ngFor","ngForOf"],[1,"main-line-flow"],["class","flow-line",3,"left","top","width","height",4,"ngFor","ngForOf"],[1,"connection-line"],[1,"main-line"],["class","device-line",3,"left","top","width","height",4,"ngFor","ngForOf"],[1,"flow-line"],[1,"device-line"],[1,"main-device"],[1,"device-header",2,"padding-top","10px"],[1,"device-pro"],["mat-icon-button","","class","device-icon device-list mat-button-sm",3,"right","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","device-edit mat-button-sm",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"device-icon","device-list","mat-button-sm",3,"matTooltip","click"],["mat-icon-button","",1,"device-edit","mat-button-sm",3,"matTooltip","click"],[2,"font-size","17px"],[1,"node-flow"],[1,"device-header",2,"color","black"],["class","device-pro",4,"ngIf"],[1,"device-pro",2,"padding-bottom","10px"],["class","device-status",3,"background-color",4,"ngIf"],["mat-icon-button","","class","device-list mat-button-sm",3,"right","matTooltip","click",4,"ngIf"],["mat-icon-button","","class","device-delete mat-button-sm",3,"matTooltip","click",4,"ngIf"],[1,"device-status"],["mat-icon-button","",1,"device-list","mat-button-sm",3,"matTooltip","click"],["mat-icon-button","",1,"device-delete","mat-button-sm",3,"matTooltip","click"],[3,"ngClass"],[1,"device-header"],["mat-icon-button","","class","remove",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"remove",3,"matTooltip","click"],["mat-sort-header",""],[3,"ngStyle"],[1,"my-mat-row",3,"ngStyle"]],template:function(i,n){1&i&&(e.DNE(0,F0e,6,4,"div",0),e.j41(1,"div",1)(2,"mat-table",2,3),e.qex(4,4),e.DNE(5,Q0e,2,2,"mat-header-cell",5),e.DNE(6,O0e,3,3,"mat-cell",6),e.bVm(),e.qex(7,7),e.DNE(8,L0e,3,3,"mat-header-cell",8),e.DNE(9,Y0e,2,1,"mat-cell",9),e.bVm(),e.qex(10,10),e.DNE(11,N0e,3,3,"mat-header-cell",8),e.DNE(12,j0e,2,1,"mat-cell",9),e.bVm(),e.qex(13,11),e.DNE(14,G0e,3,3,"mat-header-cell",8),e.DNE(15,U0e,2,1,"mat-cell",9),e.bVm(),e.qex(16,12),e.DNE(17,z0e,3,3,"mat-header-cell",8),e.DNE(18,H0e,2,1,"mat-cell",9),e.bVm(),e.qex(19,13),e.DNE(20,V0e,3,3,"mat-header-cell",8),e.DNE(21,J0e,2,3,"mat-cell",14),e.bVm(),e.qex(22,15),e.DNE(23,W0e,3,3,"mat-header-cell",8),e.DNE(24,K0e,2,1,"mat-cell",9),e.bVm(),e.qex(25,16),e.DNE(26,X0e,1,0,"mat-header-cell",17),e.DNE(27,$0e,2,1,"mat-cell",9),e.bVm(),e.DNE(28,q0e,1,3,"mat-header-row",18),e.DNE(29,eve,1,3,"mat-row",19),e.k0s(),e.nrm(30,"mat-paginator",20),e.k0s()),2&i&&(e.Y8G("ngIf",n.mode===n.devicesViewMap),e.R7$(1),e.Y8G("ngClass",n.mode===n.devicesViewList?"showTable":"hideTable"),e.R7$(1),e.Y8G("dataSource",n.dataSource),e.R7$(26),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(7,tve))("pageSize",25))},dependencies:[l.YU,l.Sq,l.bT,l.B3,zn,Kn,Dd,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Is,Vi.D9],styles:["[_nghost-%COMP%]   .main-device[_ngcontent-%COMP%]{position:absolute;text-align:center;background-color:#0c65bd;color:#fff;border-style:solid;border-color:var(--mapBorderColor)}[_nghost-%COMP%]   .node-device[_ngcontent-%COMP%]{position:absolute;background-color:#4f565d;text-align:center;padding-top:17px;border-style:solid;border-color:var(--mapBorderColor)}[_nghost-%COMP%]   .node-device[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .node-internal[_ngcontent-%COMP%]{position:absolute;background-color:#72787d;text-align:center;padding-top:17px;border-style:solid;border-color:var(--mapBorderColor)}[_nghost-%COMP%]   .node-internal[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .node-flow[_ngcontent-%COMP%]{position:absolute;background-color:#dadada;text-align:center;padding-top:17px;border-style:solid;border-color:var(--mapBorderColor)}[_nghost-%COMP%]   .node-flow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   .main-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--mapBorderColor)}[_nghost-%COMP%]   .main-line-flow[_ngcontent-%COMP%]{position:absolute;background-color:var(--mapBorderColor)}[_nghost-%COMP%]   .device-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--mapBorderColor)}[_nghost-%COMP%]   .flow-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--mapBorderColor)}[_nghost-%COMP%]   .connection-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--mapBorderColor)}[_nghost-%COMP%]   .device-header[_ngcontent-%COMP%]{display:block;font-size:17px;padding-bottom:7px;padding-top:0;min-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .device-pro[_ngcontent-%COMP%]{display:block;font-size:12px;padding-top:0;min-height:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .device-pro-line[_ngcontent-%COMP%]{display:inline-block;font-size:12px;padding-top:5px}[_nghost-%COMP%]   .device-icon[_ngcontent-%COMP%]{position:absolute;cursor:pointer}[_nghost-%COMP%]   .device-edit[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;font-size:17px}[_nghost-%COMP%]   .device-edit-disabled[_ngcontent-%COMP%]{color:#888!important;cursor:default}[_nghost-%COMP%]   .device-delete[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:17px}[_nghost-%COMP%]   .device-list[_ngcontent-%COMP%]{position:absolute;right:30px;font-size:24px;bottom:0}[_nghost-%COMP%]   .device-status[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;width:10px;height:10px;border-radius:4px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:1px 0 0}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{flex:0 0 100px}[_nghost-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{flex:1 1 160px}[_nghost-%COMP%]   .mat-column-type[_ngcontent-%COMP%]{flex:0 0 150px}[_nghost-%COMP%]   .mat-column-polling[_ngcontent-%COMP%]{flex:0 0 100px}[_nghost-%COMP%]   .mat-column-address[_ngcontent-%COMP%]{flex:2 1 300px}[_nghost-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{flex:0 0 120px}[_nghost-%COMP%]   .mat-column-enabled[_ngcontent-%COMP%]{flex:0 0 160px}[_nghost-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .selectWidthClass[_ngcontent-%COMP%]{flex:0 0 100px}[_nghost-%COMP%]   .selectHideClass[_ngcontent-%COMP%]{flex:0 0 10px}[_nghost-%COMP%]   .my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px}[_nghost-%COMP%]   .showTable[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .hideTable[_ngcontent-%COMP%]{display:none}"]})}return r})();const nve=["devicelist"],rve=["devicemap"],ove=["fileImportInput"],ave=["tplFileImportInput"];function sve(r,o){1&r&&(e.j41(0,"mat-icon",25),e.nI1(1,"translate"),e.EFF(2,"device_hub"),e.k0s()),2&r&&e.FS9("matTooltip",e.bMT(1,1,"devices.mode-map"))}function lve(r,o){1&r&&(e.j41(0,"mat-icon",25),e.nI1(1,"translate"),e.EFF(2,"view_list"),e.k0s()),2&r&&e.FS9("matTooltip",e.bMT(1,1,"devices.mode-list"))}function cve(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.gotoDevices(!0))}),e.DNE(1,sve,3,3,"mat-icon",24),e.DNE(2,lve,3,3,"mat-icon",24),e.k0s()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.showMode.startsWith(t.devicesViewList)),e.R7$(1),e.Y8G("ngIf",t.showMode.startsWith(t.devicesViewMap))}}function Ave(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addItem())}),e.j41(1,"mat-icon",27),e.EFF(2,"add"),e.k0s()()}}const dve=function(r){return{"fab-reload-active":r}};let fj=(()=>{class r{router;projectService;hmiService;deviceList;deviceMap;fileImportInput;tplFileImportInput;subscriptionLoad;subscriptionDeviceChange;subscriptionVariableChange;askStatusTimer;devicesViewMode=Gi.lE.devices;devicesViewMap=Gi.lE.map;devicesViewList=Gi.lE.list;tagsViewMode=Gi.lE.tags;showMode=this.devicesViewMap;readonly=!1;reloadActive=!1;constructor(t,i,n){this.router=t,this.projectService=i,this.hmiService=n,this.router.url.indexOf(It.Y6)>=0&&(this.readonly=!0),this.showMode=localStorage.getItem("@frango.devicesview")||this.devicesViewMap}ngOnInit(){this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{this.deviceMap.loadCurrentProject(),this.deviceList.mapTags()}),this.subscriptionDeviceChange=this.hmiService.onDeviceChanged.subscribe(t=>{this.deviceMap.setDeviceStatus(t)}),this.subscriptionVariableChange=this.hmiService.onVariableChanged.subscribe(t=>{this.deviceList.updateDeviceValue()}),this.askStatusTimer=setInterval(()=>{this.hmiService.askDeviceStatus()},1e4),this.hmiService.askDeviceStatus()}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe(),this.subscriptionDeviceChange&&this.subscriptionDeviceChange.unsubscribe(),this.subscriptionVariableChange&&this.subscriptionVariableChange.unsubscribe()}catch{}try{clearInterval(this.askStatusTimer),this.askStatusTimer=null}catch{}}show(t){if(this.showMode=t,this.showMode===this.tagsViewMode){this.deviceList.updateDeviceValue();try{Object.values(this.deviceMap.devicesValue()).length>0&&this.deviceList.setSelectedDevice(this.deviceMap.devicesValue()[0])}catch{}}else localStorage.setItem("@frango.devicesview",this.showMode)}gotoDevices(t){if(t)return void this.show(this.showMode===this.devicesViewMap?this.devicesViewList:this.devicesViewMap);let i=localStorage.getItem("@frango.devicesview")||this.devicesViewMap;this.show(i)}gotoList(t){this.onReload(),this.show(this.tagsViewMode),this.deviceList.setSelectedDevice(t)}addItem(){this.showMode===this.tagsViewMode?this.deviceList.onAddTag():this.showMode.startsWith(this.devicesViewMode)&&this.deviceMap.addDevice()}onReload(){this.projectService.onRefreshProject(),this.reloadActive=!0,setTimeout(()=>{this.reloadActive=!1},1e3)}onExport(t){try{this.projectService.exportDevices(t)}catch(i){console.error(i)}}onImport(){document.getElementById("devicesConfigFileUpload").click()}onImportTpl(){document.getElementById("devicesConfigTplUpload").click()}onFileChangeListener(t){return this.onDevTplChangeListener(t,!1)}onDevTplChangeListener(t,i){let n=t.target,a=new FileReader;a.onload=s=>{let d;d=ii.Aq.isJson(a.result)?JSON.parse(a.result.toString()):Gi.$d.csvToDevices(a.result.toString());let m=[];i&&d.forEach(I=>{if(I.type!=Gi.bq.FuxaServer){if(I.id=ii.Aq.getGUID(Gi.C_),I.name=ii.Aq.getShortGUID(I.name+"_",""),I.tags){let J={};Object.keys(I.tags).forEach(oe=>{const Ce=ii.Aq.getGUID(Gi.jN);J[Ce]=I.tags[oe],J[Ce].id=Ce}),I.tags=J}m.push(I)}}),this.projectService.importDevices(i?m:d),setTimeout(()=>{this.projectService.onRefreshProject()},2e3)},a.onerror=function(){alert("Unable to read "+n.files[0])},a.readAsText(n.files[0]),this.tplFileImportInput.nativeElement.value=null}static \u0275fac=function(i){return new(i||r)(e.rXU(zc),e.rXU(kr.TR),e.rXU(BA.Ih))};static \u0275cmp=e.VBU({type:r,selectors:[["app-device"]],viewQuery:function(i,n){if(1&i&&(e.GBs(nve,5),e.GBs(rve,5),e.GBs(ove,5),e.GBs(ave,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.deviceList=a.first),e.mGM(a=e.lsd())&&(n.deviceMap=a.first),e.mGM(a=e.lsd())&&(n.fileImportInput=a.first),e.mGM(a=e.lsd())&&(n.tplFileImportInput=a.first)}},decls:41,vars:31,consts:[[2,"width","100%","height","100% !important","position","absolute"],[1,"header-panel"],[1,"work-panel"],[3,"hidden","readonly","goto"],["devicelist",""],[3,"hidden","mode","readonly","goto"],["devicemap",""],["mat-icon-button","",1,"fab-reload",2,"right","50px !important",3,"matMenuTriggerFor"],["type","file","id","devicesConfigFileUpload","accept",".json,.csv",2,"display","none",3,"change"],["fileImportInput",""],["type","file","id","devicesConfigTplUpload","accept",".json,.csv",2,"display","none",3,"change"],["tplFileImportInput",""],[3,"overlapTrigger"],["optionsgMenu",""],["mat-menu-item","",2,"font-size","14px",3,"matMenuTriggerFor"],["xPosition","before"],["export","matMenu"],["mat-menu-item","",3,"click"],[1,"menu-separator"],["mat-menu-item","",2,"font-size","14px",3,"click"],["mat-icon-button","",1,"fab-reload",3,"ngClass","click"],["mat-icon-button","","class","fab-reload","style","right: 90px !important",3,"click",4,"ngIf"],["mat-fab","","color","primary","class","fab-add",3,"click",4,"ngIf"],["mat-icon-button","",1,"fab-reload",2,"right","90px !important",3,"click"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"app-device-list",3,4),e.bIt("goto",function(){return n.gotoDevices(!1)}),e.k0s(),e.j41(7,"app-device-map",5,6),e.bIt("goto",function(s){return n.gotoList(s)}),e.k0s()()(),e.j41(9,"button",7)(10,"mat-icon"),e.EFF(11,"more_vert"),e.k0s()(),e.j41(12,"input",8,9),e.bIt("change",function(s){return n.onDevTplChangeListener(s,!1)}),e.k0s(),e.j41(14,"input",10,11),e.bIt("change",function(s){return n.onDevTplChangeListener(s,!0)}),e.k0s(),e.j41(16,"mat-menu",12,13)(18,"button",14),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"mat-menu",15,16)(23,"button",17),e.bIt("click",function(){return n.onExport("json")}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"button",17),e.bIt("click",function(){return n.onExport("csv")}),e.EFF(27),e.nI1(28,"translate"),e.k0s()(),e.nrm(29,"mat-divider",18),e.j41(30,"button",19),e.bIt("click",function(){return n.onImport()}),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"button",19),e.bIt("click",function(){return n.onImportTpl()}),e.EFF(34),e.nI1(35,"translate"),e.k0s()(),e.j41(36,"button",20),e.bIt("click",function(){return n.onReload()}),e.j41(37,"mat-icon"),e.EFF(38,"autorenew"),e.k0s()(),e.DNE(39,cve,3,2,"button",21),e.DNE(40,Ave,3,0,"button",22)),2&i){const a=e.sdS(17),s=e.sdS(22);e.R7$(2),e.SpI(" ",e.bMT(3,17,"device.list-title")," "),e.R7$(3),e.Y8G("hidden",!n.showMode.startsWith(n.tagsViewMode))("readonly",n.readonly),e.R7$(2),e.Y8G("hidden",!n.showMode.startsWith(n.devicesViewMode))("mode",n.showMode)("readonly",n.readonly),e.R7$(2),e.Y8G("matMenuTriggerFor",a),e.R7$(7),e.Y8G("overlapTrigger",!1),e.R7$(2),e.Y8G("matMenuTriggerFor",s),e.R7$(1),e.JRh(e.bMT(20,19,"devices.export")),e.R7$(5),e.JRh(e.bMT(25,21,"devices.export-json")),e.R7$(3),e.JRh(e.bMT(28,23,"devices.export-csv")),e.R7$(4),e.JRh(e.bMT(32,25,"devices.import")),e.R7$(3),e.JRh(e.bMT(35,27,"devices.import-template")),e.R7$(2),e.Y8G("ngClass",e.eq3(29,dve,n.reloadActive)),e.R7$(3),e.Y8G("ngIf",n.showMode.startsWith(n.devicesViewMode)),e.R7$(1),e.Y8G("ngIf",!n.readonly)}},dependencies:[l.YU,l.bT,zn,Kn,r0,Gc,rA,tc,Is,sme,ive,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{top:0;left:0;background-color:var(--headerBackground);color:var(--headerColor);height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}.device-btn[_ngcontent-%COMP%]{height:34px;width:34px;min-width:unset!important;padding:unset!important;line-height:34px;margin-left:5px;margin-right:5px;float:right}.device-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;height:unset;width:unset}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;overflow:auto;background-color:var(--workPanelBackground)}.mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}.mat-row[_ngcontent-%COMP%]{min-height:34px;height:34px;border-bottom-color:#0000000f}.mat-cell[_ngcontent-%COMP%]{font-size:13px}.mat-cell[_ngcontent-%COMP%]     .mat-checkbox-inner-container{height:16px;width:16px;margin-left:2px}.mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.mat-header-cell[_ngcontent-%COMP%]{font-size:11px}.mat-column-toogle[_ngcontent-%COMP%]{overflow:visible;flex:0 0 40px}.mat-column-name[_ngcontent-%COMP%]{flex:0 0 220px}.mat-column-address[_ngcontent-%COMP%]{flex:0 0 380px}.mat-column-device[_ngcontent-%COMP%]{flex:0 0 220px}.mat-column-select[_ngcontent-%COMP%]{flex:0 0 40px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-content{display:unset;text-align:left}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}.my-header-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-14px;right:20px}.my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px;border:1px solid var(--formInputBackground);background-color:var(--formInputBackground);color:var(--formInputColor)}.my-header-filter-input[_ngcontent-%COMP%]:focus{padding:3px 1px 3px 2px;border:1px solid var(--formInputBorderFocus);background-color:var(--formInputBackgroundFocus)}.fab-reload[_ngcontent-%COMP%]{position:fixed!important;right:10px!important;top:40px!important;z-index:9999!important;color:var(--headerColor)}.fab-reload-active[_ngcontent-%COMP%]{transform:rotate(360deg);transition:all .5s ease-in-out}"]})}return r})(),Y4=(()=>{class r{change=new e.bkB;toggle(t){this.change.emit(t)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();function uve(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",11)(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"input",12),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.value=n)}),e.k0s(),e.j41(5,"button",13),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.setSignal(a))}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&r){const t=o.$implicit;e.R7$(3),e.Lme("",t.source," - ",t.name," :"),e.R7$(1),e.Y8G("ngModel",t.value),e.R7$(2),e.SpI(" ",e.bMT(7,4,"tester.send")," ")}}function hve(r,o){if(1&r&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t," ")}}function pve(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.close())}),e.EFF(7," \xd7 "),e.k0s()(),e.j41(8,"div",6),e.nrm(9,"div",7)(10,"br"),e.DNE(11,uve,8,6,"div",8),e.k0s(),e.j41(12,"div",9),e.DNE(13,hve,2,1,"span",10),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,3,"tester.title")," "),e.R7$(7),e.Y8G("ngForOf",t.items),e.R7$(2),e.Y8G("ngForOf",t.output)}}let fve=(()=>{class r{hmiService;gaugesManager;testerService;show=!1;items=[];output=[];subscription;demoSwitch=!0;constructor(t,i,n){this.hmiService=t,this.gaugesManager=i,this.testerService=n}ngOnInit(){this.testerService.change.subscribe(t=>{this.show=t}),this.gaugesManager.onevent.subscribe(t=>{t.dbg&&this.addOutput(t.dbg)})}ngOnDestroy(){this.stopDemo()}setSignal(t){this.hmiService.setSignalValue(t),this.addOutput(" > "+t.source+" - "+t.name+" = "+t.value)}setSignals(t){this.items=t}setDemo(t){}addOutput(t){this.output.unshift(t)}close(){this.testerService.toggle(!1)}startDemo(){this.stopDemo();let t=(0,Co.O)(2e3,1500);this.subscription=t.subscribe(i=>{this.demoValue()})}stopDemo(){try{this.subscription&&this.subscription.unsubscribe()}catch{}}demoValue(){}static \u0275fac=function(i){return new(i||r)(e.rXU(BA.Ih),e.rXU(oo),e.rXU(Y4))};static \u0275cmp=e.VBU({type:r,selectors:[["app-tester"]],decls:1,vars:1,consts:[["class","tester-panel","ngDraggable","",4,"ngIf"],["ngDraggable","",1,"tester-panel"],["name","dlgTesterForm"],[1,"tester-header"],[1,"tester-title"],[1,"tester-close",3,"click"],[1,"tester-body"],["mat-dialog-actions","",1,"_svg-property"],[4,"ngFor","ngForOf"],[1,"tester-output"],["class","output-item",4,"ngFor","ngForOf"],[1,"svg-property"],["id","item.name","type","text",1,"no-spinners",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","button",1,"",3,"click"],[1,"output-item"]],template:function(i,n){1&i&&e.DNE(0,pve,14,5,"div",0),2&i&&e.Y8G("ngIf",n.show)},dependencies:[l.Sq,l.bT,k,qe,tn,zn,Rr,FF,Vi.D9],styles:[".tester-panel[_ngcontent-%COMP%]{width:300px;height:563px;z-index:99999!important;position:absolute;right:10px;top:50px;color:#f0f0f0;background-color:#2e2e30;box-shadow:0 2px 6px #0003,0 2px 6px #0000002e;border:0px!important}.tester-header[_ngcontent-%COMP%]{height:30px;color:#e6e6e6;padding-left:10px;cursor:move;line-height:30px;background-color:#000}.tester-close[_ngcontent-%COMP%]{font-size:28px;cursor:pointer;right:5px;position:absolute;top:0}.tester-body[_ngcontent-%COMP%]{overflow-y:auto;height:350px;color:#e6e6e6}.tester-output[_ngcontent-%COMP%]{overflow-y:auto;height:180px;border-top:1px solid gray;color:#e6e6e6;padding:2px 2px 0 5px}.output-item[_ngcontent-%COMP%]{display:block;font-size:12px}.svg-property[_ngcontent-%COMP%]{color:#000000bf}.svg-property[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:12px;margin:0 5px 0 10px;color:#e6e6e6}.svg-property[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;display:inline-block;margin:0 10px 12px;border:unset;background-color:inherit;color:#e6e6e6;background-color:#424242;height:22px}.svg-property[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:26px}","pre[_ngcontent-%COMP%] {\n            white-space: pre-line;\n        }"]})}return r})();const gve=["messagecontainer"],mve=["tester"];function vve(r,o){if(1&r&&e.nrm(0,"app-fuxa-view",6),2&r){const t=e.XpG();e.Y8G("view",t.currentView)("hmi",t.hmi)("gaugesManager",t.gaugesManager)}}function _ve(r,o){1&r&&(e.j41(0,"div"),e.EFF(1," Loading... "),e.k0s())}let yve=(()=>{class r{projectService;appService;gaugesManager;changeDetector;testerService;entry;tester;currentView=new It.Ss;hmi=new It.bv;svgMain;componentRef;labView=null;backgroudColor="unset";subscriptionLoad;constructor(t,i,n,a,s){this.projectService=t,this.appService=i,this.gaugesManager=n,this.changeDetector=a,this.testerService=s}ngOnInit(){try{this.appService.showLoading(!0),this.projectService.getHmi()?(this.appService.showLoading(!1),this.loadHmi()):this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(i=>{this.appService.showLoading(!1),this.loadHmi()},i=>{this.appService.showLoading(!1),console.error("Error loadHMI")}),this.changeDetector.detectChanges()}catch(t){this.appService.showLoading(!1),console.error(t)}}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}onTest(){this.tester.setSignals(this.gaugesManager.getMappedGaugesSignals(!0)),this.testerService.toggle(!0)}loadHmi(){if(this.hmi=this.projectService.getHmi(),this.hmi&&this.hmi.views&&this.hmi.views.length>0){this.currentView=this.hmi.views[0],this.labView=this.hmi.views[0];let t=localStorage.getItem("@frango.webeditor.currentview");if(t)for(let i=0;i<this.hmi.views.length;i++)if(this.hmi.views[i].name===t){this.currentView=this.hmi.views[i],this.setBackground();break}}}setBackground(){this.currentView&&this.currentView.profile&&(this.backgroudColor=this.currentView.profile.bkcolor)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(Bf.d),e.rXU(oo),e.rXU(e.gRc),e.rXU(Y4))};static \u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&(e.GBs(gve,5,e.c1b),e.GBs(mve,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.entry=a.first),e.mGM(a=e.lsd())&&(n.tester=a.first)}},decls:10,vars:4,consts:[[2,"height","100%"],["class","lab-body","id","lab",3,"view","hmi","gaugesManager",4,"ngIf"],[4,"ngIf"],["messagecontainer",""],["mat-mini-fab","","color","warn",1,"fab-btn",3,"click"],["tester",""],["id","lab",1,"lab-body",3,"view","hmi","gaugesManager"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,vve,1,3,"app-fuxa-view",1),e.DNE(2,_ve,2,0,"div",2),e.j41(3,"template",null,3),e.EFF(5,"\n    "),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return n.onTest()}),e.EFF(7,"Test"),e.k0s(),e.nrm(8,"app-tester",null,5),e.k0s()),2&i&&(e.xc7("background-color",n.backgroudColor),e.R7$(1),e.Y8G("ngIf",n.labView),e.R7$(1),e.Y8G("ngIf",!n.labView))},dependencies:[l.bT,zn,hm,fve],styles:[".lab-body[_ngcontent-%COMP%]{display:table;margin:0 auto}.box_shadow[_ngcontent-%COMP%]{box-shadow:0 2px 6px -1px #888;filter:drop-shadow(3px 3px 2px rgba(0,0,0,.7))}.fab-btn[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:10px}"]})}return r})();function bve(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",20)(1,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddUser())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function wve(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",20)(1,"button",21),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditUser(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function Cve(r,o){1&r&&(e.j41(0,"mat-header-cell",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"users.list-name")," "))}function Eve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.username," ")}}function Bve(r,o){1&r&&(e.j41(0,"mat-header-cell",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"users.list-fullname")," "))}function Mve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.fullname," ")}}function xve(r,o){if(1&r&&(e.j41(0,"mat-header-cell",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.isRolePermission()?"users.list-roles":"users.list-groups")," ")}}function Dve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.permissionValueToLabel(t)," ")}}function Ive(r,o){1&r&&(e.j41(0,"mat-header-cell",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"users.list-start")," "))}function kve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getViewStartName(t.username)," ")}}function Tve(r,o){1&r&&e.nrm(0,"mat-header-cell")}function Fve(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG();return n.stopPropagation(),e.Njj(s.onRemoveUser(a))}),e.j41(1,"mat-icon"),e.EFF(2,"clear"),e.k0s()()}}function Sve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.DNE(1,Fve,3,0,"button",23),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.Y8G("ngIf",!i.isAdmin(t))}}function Qve(r,o){1&r&&e.nrm(0,"mat-header-row")}function Rve(r,o){1&r&&e.nrm(0,"mat-row",24)}let Pve=(()=>{class r{dialog;projectService;translateService;settingsService;userService;displayedColumns=["select","username","fullname","groups","start","remove"];dataSource=new Ln([]);users;usersInfo={};roles;table;sort;destroy$=new An.B;constructor(t,i,n,a,s){this.dialog=t,this.projectService=i,this.translateService=n,this.settingsService=a,this.userService=s}ngOnInit(){this.loadUsers(),this.userService.getRoles().pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.roles=t},t=>{console.error("get Roles err: "+t)})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onAddUser(){let t=new Uc.KJ;this.editUser(t,t)}onEditUser(t){this.editUser(t,t)}onRemoveUser(t){let i=this.translateService.instant("msg.user-remove",{value:t.username});this.dialog.open(th,{data:{msg:i},position:{top:"60px"}}).afterClosed().subscribe(a=>{a&&t&&this.userService.removeUser(t).subscribe(s=>{this.users=this.users.filter(function(d){return d.username!==t.username}),this.bindToTable(this.users)},s=>{})})}isAdmin(t){return!(!t||"admin"!==t.username)}isRolePermission(){return this.settingsService.getSettings()?.userRole}permissionValueToLabel(t){if(this.isRolePermission()){const i=new gx(t?.info);return this.roles?.filter(n=>i.roleIds?.includes(n.id)).map(n=>n.name).join(", ")}return Uc.yD.GroupToLabel(t.groups)}getViewStartName(t){return this.usersInfo[t]}loadUsers(){this.users=[],this.usersInfo={},this.userService.getUsers(null).pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{Object.values(t).forEach(i=>{if(i.info){const n=JSON.parse(i.info)?.start,a=this.projectService.getViewFromId(n);this.usersInfo[i.username]=a?.name}this.users.push(i)}),this.bindToTable(this.users)},t=>{console.error("get Users err: "+t)})}editUser(t,i){let n=JSON.parse(JSON.stringify(t));n.password="",this.dialog.open(T$,{position:{top:"60px"},data:{user:n,current:i,users:this.users.map(s=>s.username)}}).afterClosed().subscribe(s=>{s&&this.userService.setUser(s).subscribe(d=>{this.loadUsers()},d=>{})},s=>{})}bindToTable(t){this.dataSource.data=t}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(kr.TR),e.rXU(Vi.c$),e.rXU(yp.h),e.rXU(Zg))};static \u0275cmp=e.VBU({type:r,selectors:[["app-users"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:30,vars:6,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","username"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","fullname"],["matColumnDef","groups"],["matColumnDef","start"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],["mat-icon-button","","class","remove",3,"click",4,"ngIf"],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"div",1)(4,"div",2)(5,"mat-table",3,4),e.qex(7,5),e.DNE(8,bve,4,1,"mat-header-cell",6),e.DNE(9,wve,4,1,"mat-cell",7),e.bVm(),e.qex(10,8),e.DNE(11,Cve,3,3,"mat-header-cell",9),e.DNE(12,Eve,2,1,"mat-cell",10),e.bVm(),e.qex(13,11),e.DNE(14,Bve,3,3,"mat-header-cell",9),e.DNE(15,Mve,2,1,"mat-cell",10),e.bVm(),e.qex(16,12),e.DNE(17,xve,3,3,"mat-header-cell",9),e.DNE(18,Dve,2,1,"mat-cell",10),e.bVm(),e.qex(19,13),e.DNE(20,Ive,3,3,"mat-header-cell",9),e.DNE(21,kve,2,1,"mat-cell",10),e.bVm(),e.qex(22,14),e.DNE(23,Tve,1,0,"mat-header-cell",15),e.DNE(24,Sve,2,1,"mat-cell",10),e.bVm(),e.DNE(25,Qve,1,0,"mat-header-row",16),e.DNE(26,Rve,1,0,"mat-row",17),e.k0s()()(),e.j41(27,"button",18),e.bIt("click",function(){return n.onAddUser()}),e.j41(28,"mat-icon",19),e.EFF(29,"add"),e.k0s()()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,4,"users.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(20),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,l.bT,zn,Kn,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:fixed;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground)}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:0}.mat-table[_ngcontent-%COMP%]{overflow:auto}.mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}.mat-cell[_ngcontent-%COMP%]{font-size:13px}.mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.mat-header-cell[_ngcontent-%COMP%]{font-size:15px}.mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 100px}.mat-column-username[_ngcontent-%COMP%]{flex:0 0 200px}.mat-column-fullname[_ngcontent-%COMP%]{flex:2 1 250px}.mat-column-groups[_ngcontent-%COMP%]{flex:2 1 650px}.mat-column-start[_ngcontent-%COMP%]{flex:2 1 250px}.mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}.selectidthClass[_ngcontent-%COMP%]{flex:0 0 50px}.show-password[_ngcontent-%COMP%]{bottom:2px;right:8px;position:absolute}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-12px;right:20px}.my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px}"]})}return r})();const Ove=["fuxaview"],Lve=["container"];let Yve=(()=>{class r{projectService;route;changeDetector;gaugesManager;fuxaview;container;startView=new It.Ss;hmi=new It.bv;viewName;subscriptionLoad;constructor(t,i,n,a){this.projectService=t,this.route=i,this.changeDetector=n,this.gaugesManager=a}ngOnInit(){this.viewName=this.route.snapshot.queryParamMap.get("name")}ngAfterViewInit(){try{this.projectService.getHmi()&&this.loadHmi(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(i=>{this.loadHmi()},i=>{console.error("Error loadHMI")}),this.changeDetector.detectChanges()}catch(t){console.error(t)}}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}loadHmi(){let t=this.projectService.getHmi();t&&(this.hmi=t),this.hmi&&this.hmi.views&&this.hmi.views.length>0&&(this.startView=this.hmi.views.find(i=>i.name===this.viewName),this.setBackground(),this.startView&&this.fuxaview&&this.fuxaview.loadHmi(this.startView),this.hmi.layout&&this.hmi.layout.zoom&&It.Fo[this.hmi.layout.zoom]===It.Fo.enabled&&setTimeout(()=>{let i=document.querySelector("#view");i&&pD()&&(pD()(i,{bounds:!0,boundsPadding:.05}),this.container.nativeElement.style.overflow="hidden")},1e3))}setBackground(){this.startView&&this.startView.profile&&(document.getElementById("main-container").style.backgroundColor=this.startView.profile.bkcolor)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(Df),e.rXU(e.gRc),e.rXU(oo))};static \u0275cmp=e.VBU({type:r,selectors:[["app-view"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Ove,7),e.GBs(Lve,7,e.aKT)),2&i){let a;e.mGM(a=e.lsd())&&(n.fuxaview=a.first),e.mGM(a=e.lsd())&&(n.container=a.first)}},decls:4,vars:3,consts:[["id","container",1,"view-container"],["container",""],["id","view",1,"view-body",3,"view","hmi","gaugesManager"],["fuxaview",""]],template:function(i,n){1&i&&(e.j41(0,"div",0,1),e.nrm(2,"app-fuxa-view",2,3),e.k0s()),2&i&&(e.R7$(2),e.Y8G("view",n.startView)("hmi",n.hmi)("gaugesManager",n.gaugesManager))},dependencies:[hm],styles:[".view-body[_ngcontent-%COMP%]{display:table;margin:0 auto}.view-container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:auto}"]})}return r})();function Nve(r,o){if(1&r&&(e.j41(0,"mat-header-cell",16),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"input",17),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,2,"logs.view-ontime")," "),e.R7$(2),e.Y8G("formControl",t.ontimeFilter)}}function jve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",e.i5U(2,3,t.ontime,"yyyy.MM.dd HH:mm:ss")," ")}}function Gve(r,o){if(1&r&&(e.j41(0,"mat-header-cell",16),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"input",18),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,2,"logs.view-type")," "),e.R7$(2),e.Y8G("formControl",t.typeFilter)}}function Uve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.type,"")}}function zve(r,o){if(1&r&&(e.j41(0,"mat-header-cell",16),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"input",19),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,2,"logs.view-source")," "),e.R7$(2),e.Y8G("formControl",t.sourceFilter)}}function Hve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.group,"")}}function Vve(r,o){if(1&r&&(e.j41(0,"mat-header-cell",16),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"input",19),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,2,"logs.view-text")," "),e.R7$(2),e.Y8G("formControl",t.textFilter)}}function Jve(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.text," ")}}function Wve(r,o){1&r&&e.nrm(0,"mat-header-row")}function Kve(r,o){1&r&&e.nrm(0,"mat-row",20),2&r&&e.xc7("background-color",o.$implicit.bkcolor)}const Xve=function(){return[10,25,100]};function Zve(r,o){if(1&r&&(e.j41(0,"div",4)(1,"mat-table",5,6),e.qex(3,7),e.DNE(4,Nve,4,4,"mat-header-cell",8),e.DNE(5,jve,3,6,"mat-cell",9),e.bVm(),e.qex(6,10),e.DNE(7,Gve,4,4,"mat-header-cell",8),e.DNE(8,Uve,2,3,"mat-cell",9),e.bVm(),e.qex(9,11),e.DNE(10,zve,4,4,"mat-header-cell",8),e.DNE(11,Hve,2,3,"mat-cell",9),e.bVm(),e.qex(12,12),e.DNE(13,Vve,4,4,"mat-header-cell",8),e.DNE(14,Jve,2,3,"mat-cell",9),e.bVm(),e.DNE(15,Wve,1,0,"mat-header-row",13),e.DNE(16,Kve,1,2,"mat-row",14),e.k0s(),e.nrm(17,"mat-paginator",15),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("dataSource",t.dataSource),e.R7$(14),e.Y8G("matHeaderRowDef",t.displayColumns)("matHeaderRowDefSticky",!0),e.R7$(1),e.Y8G("matRowDefColumns",t.displayColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(6,Xve))("pageSize",25)}}function $ve(r,o){if(1&r&&e.nrm(0,"div",21),2&r){const t=e.XpG();e.Y8G("innerHTML",t.content,e.npT)}}function qve(r,o){if(1&r&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function e_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",24),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.logs.selected=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadLogs(n.logs.selected))}),e.DNE(6,qve,2,2,"mat-option",25),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,3,"logs.view-files")),e.R7$(2),e.Y8G("value",t.logs.selected),e.R7$(1),e.Y8G("ngForOf",t.logs.files)}}let gj=(()=>{class r{diagnoseService;appService;table;sort;paginator;dataSource=new Ln([]);ontimeFilter=new _i;typeFilter=new _i;sourceFilter=new _i;textFilter=new _i;filteredValues={ontime:"",source:"",type:"",text:""};displayColumns=["ontime","type","source","text"];tableView=!1;content="";logs={selected:"fuxa.log",files:[]};constructor(t,i){this.diagnoseService=t,this.appService=i}ngAfterViewInit(){this.diagnoseService.getLogsDir().subscribe(t=>{this.logs.files=t},t=>{console.error("get Logs err: "+t)}),this.loadLogs(this.logs.selected)}loadLogs(t){this.appService.showLoading(!0),this.diagnoseService.getLogs({file:t}).subscribe(i=>{this.content=i.body.replace(new RegExp("\n","g"),"<br />"),this.appService.showLoading(!1)},i=>{this.appService.showLoading(!1),console.error("get Logs err: "+i)})}static \u0275fac=function(i){return new(i||r)(e.rXU(hS),e.rXU(Bf.d))};static \u0275cmp=e.VBU({type:r,selectors:[["app-logs-view"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5),e.GBs(Dd,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first),e.mGM(a=e.lsd())&&(n.paginator=a.first)}},decls:6,vars:6,consts:[[1,"header-panel"],["class","work-panel",4,"ngIf"],["class","work-panel text-content",3,"innerHTML",4,"ngIf"],["class","logs-selector",4,"ngIf"],[1,"work-panel"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","ontime"],["mat-sort-header","","class","my-header-filter",4,"matHeaderCellDef"],[3,"color",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","source"],["matColumnDef","text"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","my-mat-row",3,"background-color",4,"matRowDef","matRowDefColumns"],[1,"table-pagination",3,"pageSizeOptions","pageSize"],["mat-sort-header","",1,"my-header-filter"],["type","text",1,"my-header-filter-input",2,"width","140px",3,"formControl","click"],["type","text",1,"my-header-filter-input",2,"width","80px",3,"formControl","click"],["type","text",1,"my-header-filter-input",2,"width","200px",3,"formControl","click"],[1,"my-mat-row"],[1,"work-panel","text-content",3,"innerHTML"],[1,"logs-selector"],[1,"my-form-field"],[2,"width","200px",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Zve,18,7,"div",1),e.DNE(4,$ve,1,1,"div",2),e.DNE(5,e_e,7,5,"div",3)),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,4,"logs.view-title"),"\n"),e.R7$(2),e.Y8G("ngIf",n.tableView),e.R7$(1),e.Y8G("ngIf",!n.tableView),e.R7$(1),e.Y8G("ngIf",!n.tableView))},dependencies:[l.Sq,l.bT,k,qe,ca,Ur,Dd,yo,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,l.vh,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);height:36px;width:100%;text-align:center;line-height:32px;border-bottom:1px solid var(--headerBorder)}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground);min-width:930px}.text-content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:auto;padding-left:10px;color:#acacac;font-family:Segoe UI Symbol,Roboto-Regular,Helvetica Neue,sans-serif;font-size:12px}.mat-row[_ngcontent-%COMP%]{min-height:34px;height:34px;border-bottom-color:#0000000f}.mat-cell[_ngcontent-%COMP%]{font-size:13px}.mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-12px;right:20px}.my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px;border:1px solid var(--formInputBackground);background-color:var(--formInputBackground);color:var(--formInputColor)}.my-header-filter-input[_ngcontent-%COMP%]:focus{padding:3px 1px 3px 2px;border:1px solid var(--formInputBorderFocus);background-color:var(--formInputBackgroundFocus)}.mat-column-ontime[_ngcontent-%COMP%]{overflow:visible;flex:0 0 160px}.mat-column-type[_ngcontent-%COMP%]{flex:0 0 100px}.mat-column-source[_ngcontent-%COMP%]{flex:1 1 300px}.mat-column-text[_ngcontent-%COMP%]{flex:3 1 400px}.logs-selector[_ngcontent-%COMP%]{position:absolute;top:50px;right:40px;z-index:999;padding:5px 7px;background-color:var(--toolboxBackground);color:var(--toolboxColor);box-shadow:0 1px 3px #000}"]})}return r})();const t_e=["flexauth"],i_e=["flexhead"];function n_e(r,o){if(1&r&&(e.j41(0,"div",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Lme(" ",e.bMT(2,2,"msg.alarm-remove")," '",t.data.alarm.name,"' ? ")}}function r_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function o_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function a_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function s_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function l_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function c_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function A_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function d_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"div",55)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",56),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)}),e.k0s()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,2,"alarm.property-action-value")),e.R7$(2),e.Y8G("ngModel",t.actparam)}}function u_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function h_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"div",57)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",50),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)}),e.DNE(6,u_e,2,2,"mat-option",16),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"alarm.property-action-destination")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",i.data.views)}}function p_e(r,o){if(1&r&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function f_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"div",57)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",58),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)})("selectionChange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.onScriptChanged(n.value,a))}),e.DNE(6,p_e,2,2,"mat-option",16),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"gauges.property-event-script")),e.R7$(2),e.Y8G("value",t.actparam),e.R7$(1),e.Y8G("ngForOf",i.scripts)}}function g_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",54)(1,"div",55)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",56),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actparam=n)}),e.k0s()(),e.j41(6,"div",59)(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-select",50),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.actoptions.type=n)}),e.j41(11,"mat-option",42),e.EFF(12,"error"),e.k0s(),e.j41(13,"mat-option",42),e.EFF(14,"warning"),e.k0s(),e.j41(15,"mat-option",42),e.EFF(16,"success"),e.k0s(),e.j41(17,"mat-option",42),e.EFF(18,"info"),e.k0s()()()()}if(2&r){const t=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,8,"alarm.property-action-toastMessage")),e.R7$(2),e.Y8G("ngModel",t.actparam),e.R7$(3),e.JRh(e.bMT(9,10,"alarm.property-action-toastType")),e.R7$(2),e.Y8G("value",t.actoptions.type),e.R7$(1),e.Y8G("value","error"),e.R7$(2),e.Y8G("value","warning"),e.R7$(2),e.Y8G("value","success"),e.R7$(2),e.Y8G("value","info")}}function m_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"flex-variable",62),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.setActionVariable(a,n))}),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("data",i.data)("variableId",t.variableId)("withStaticValue",!1)}}function v_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",65)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",56),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.value=n)}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"gauges.property-event-script-param-value")),e.R7$(2),e.Y8G("ngModel",t.value)}}function __e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",65)(1,"flex-variable",62),e.bIt("onchange",function(n){e.eBV(t);const a=e.XpG().$implicit,s=e.XpG(4);return e.Njj(s.setScriptParam(a,n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG(4);e.R7$(1),e.Y8G("data",i.data)("variableId",t.value)("withStaticValue",!1)}}function y_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",64)(1,"div",65)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",66),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.name=n)}),e.k0s()(),e.j41(6,"div",67),e.DNE(7,v_e,5,4,"div",68),e.DNE(8,__e,2,3,"div",68),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(3),e.JRh(e.bMT(4,5,"gauges.property-event-script-param-name")),e.R7$(2),e.Y8G("ngModel",t.name)("disabled",!0),e.R7$(2),e.Y8G("ngIf","value"===t.type),e.R7$(1),e.Y8G("ngIf","tagid"===t.type)}}function b_e(r,o){if(1&r&&(e.j41(0,"div",60),e.DNE(1,y_e,9,7,"div",63),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.actoptions.params)}}function w_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",43)(1,"div",44)(2,"div",45)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"input",27),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.checkdelay=n)}),e.k0s()(),e.j41(7,"div",28),e.nrm(8,"range-number",29),e.k0s(),e.j41(9,"div",46)(10,"span"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"input",47),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.timedelay=n)}),e.k0s()()(),e.j41(14,"div",48)(15,"div",49)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"mat-select",50),e.bIt("valueChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.type=n)}),e.DNE(20,A_e,2,2,"mat-option",16),e.nI1(21,"enumToArray"),e.k0s()(),e.DNE(22,d_e,6,4,"div",51),e.DNE(23,h_e,7,5,"div",51),e.DNE(24,f_e,7,5,"div",51),e.DNE(25,g_e,19,12,"div",51),e.j41(26,"div",52)(27,"button",37),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.onAlarmAction(a))}),e.j41(28,"mat-icon"),e.EFF(29,"clear"),e.k0s()()()(),e.DNE(30,m_e,3,3,"div",53),e.DNE(31,b_e,2,1,"div",53),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,14,"alarm.property-checkdelay")),e.R7$(2),e.Y8G("ngModel",t.checkdelay),e.R7$(2),e.Y8G("range",t),e.R7$(3),e.JRh(e.bMT(12,16,"alarm.property-timedelay")),e.R7$(2),e.Y8G("ngModel",t.timedelay),e.R7$(4),e.JRh(e.bMT(18,18,"alarm.property-action-type")),e.R7$(2),e.Y8G("value",t.type),e.R7$(1),e.Y8G("ngForOf",e.bMT(21,20,i.actionsType)),e.R7$(2),e.Y8G("ngIf",t.type===i.actionSetValue),e.R7$(1),e.Y8G("ngIf",t.type===i.actionPopup||t.type===i.actionSetView),e.R7$(1),e.Y8G("ngIf",t.type===i.actionRunScript),e.R7$(1),e.Y8G("ngIf",t.type===i.actionToastMessage),e.R7$(5),e.Y8G("ngIf",t.type===i.actionSetValue),e.R7$(1),e.Y8G("ngIf",t.type===i.actionRunScript)}}function C_e(r,o){1&r&&(e.j41(0,"div",69)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"msg.alarmproperty-error-exist")))}function E_e(r,o){1&r&&(e.j41(0,"div",69)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"msg.alarmproperty-missing-value")))}function B_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9),e.nrm(3,"flex-auth",10,11),e.k0s(),e.j41(5,"div",12),e.nrm(6,"flex-head",13,14),e.k0s()(),e.j41(8,"mat-autocomplete",null,15),e.DNE(10,r_e,2,2,"mat-option",16),e.k0s(),e.j41(11,"mat-autocomplete",null,17),e.DNE(13,o_e,2,2,"mat-option",16),e.k0s(),e.j41(14,"mat-tab-group",18)(15,"mat-tab",19),e.nI1(16,"translate"),e.j41(17,"div",20)(18,"div",9)(19,"div",21)(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"mat-slide-toggle",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.highhigh.enabled=n)}),e.k0s()(),e.j41(24,"div",23)(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"mat-select",24),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.highhigh.ackmode=n)}),e.DNE(29,a_e,2,2,"mat-option",16),e.nI1(30,"enumToArray"),e.k0s()()(),e.j41(31,"div",25)(32,"div",26)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.highhigh.checkdelay=n)}),e.k0s()(),e.j41(37,"div",28),e.nrm(38,"range-number",29),e.k0s(),e.j41(39,"div",30)(40,"span"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"input",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.highhigh.timedelay=n)}),e.k0s()()(),e.j41(44,"div",9)(45,"div",26)(46,"span"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"input",32),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.highhigh.text=n)}),e.k0s()(),e.j41(50,"div",30)(51,"span"),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"input",33),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.highhigh.group=n)}),e.k0s()()(),e.j41(55,"div",34)(56,"div",35)(57,"span"),e.EFF(58),e.k0s()(),e.j41(59,"div",36)(60,"span"),e.EFF(61),e.k0s()()()()(),e.j41(62,"mat-tab",19),e.nI1(63,"translate"),e.j41(64,"div",20)(65,"div",9)(66,"div",21)(67,"span"),e.EFF(68),e.nI1(69,"translate"),e.k0s(),e.j41(70,"mat-slide-toggle",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.high.enabled=n)}),e.k0s()(),e.j41(71,"div",23)(72,"span"),e.EFF(73),e.nI1(74,"translate"),e.k0s(),e.j41(75,"mat-select",24),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.high.ackmode=n)}),e.DNE(76,s_e,2,2,"mat-option",16),e.nI1(77,"enumToArray"),e.k0s()()(),e.j41(78,"div",25)(79,"div",26)(80,"span"),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.j41(83,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.high.checkdelay=n)}),e.k0s()(),e.j41(84,"div",28),e.nrm(85,"range-number",29),e.k0s(),e.j41(86,"div",30)(87,"span"),e.EFF(88),e.nI1(89,"translate"),e.k0s(),e.j41(90,"input",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.high.timedelay=n)}),e.k0s()()(),e.j41(91,"div",9)(92,"div",26)(93,"span"),e.EFF(94),e.nI1(95,"translate"),e.k0s(),e.j41(96,"input",32),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.high.text=n)}),e.k0s()(),e.j41(97,"div",30)(98,"span"),e.EFF(99),e.nI1(100,"translate"),e.k0s(),e.j41(101,"input",33),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.high.group=n)}),e.k0s()()(),e.j41(102,"div",34)(103,"div",35)(104,"span"),e.EFF(105),e.k0s()(),e.j41(106,"div",36)(107,"span"),e.EFF(108),e.k0s()()()()(),e.j41(109,"mat-tab",19),e.nI1(110,"translate"),e.j41(111,"div",20)(112,"div",9)(113,"div",21)(114,"span"),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"mat-slide-toggle",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.low.enabled=n)}),e.k0s()(),e.j41(118,"div",23)(119,"span"),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"mat-select",24),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.low.ackmode=n)}),e.DNE(123,l_e,2,2,"mat-option",16),e.nI1(124,"enumToArray"),e.k0s()()(),e.j41(125,"div",25)(126,"div",26)(127,"span"),e.EFF(128),e.nI1(129,"translate"),e.k0s(),e.j41(130,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.low.checkdelay=n)}),e.k0s()(),e.j41(131,"div",28),e.nrm(132,"range-number",29),e.k0s(),e.j41(133,"div",30)(134,"span"),e.EFF(135),e.nI1(136,"translate"),e.k0s(),e.j41(137,"input",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.low.timedelay=n)}),e.k0s()()(),e.j41(138,"div",9)(139,"div",26)(140,"span"),e.EFF(141),e.nI1(142,"translate"),e.k0s(),e.j41(143,"input",32),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.low.text=n)}),e.k0s()(),e.j41(144,"div",30)(145,"span"),e.EFF(146),e.nI1(147,"translate"),e.k0s(),e.j41(148,"input",33),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.low.group=n)}),e.k0s()()(),e.j41(149,"div",34)(150,"div",35)(151,"span"),e.EFF(152),e.k0s()(),e.j41(153,"div",36)(154,"span"),e.EFF(155),e.k0s()()()()(),e.j41(156,"mat-tab",19),e.nI1(157,"translate"),e.j41(158,"div",20)(159,"div",9)(160,"div",21)(161,"span"),e.EFF(162),e.nI1(163,"translate"),e.k0s(),e.j41(164,"mat-slide-toggle",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.info.enabled=n)}),e.k0s()(),e.j41(165,"div",23)(166,"span"),e.EFF(167),e.nI1(168,"translate"),e.k0s(),e.j41(169,"mat-select",24),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.info.ackmode=n)}),e.DNE(170,c_e,2,2,"mat-option",16),e.nI1(171,"enumToArray"),e.k0s()()(),e.j41(172,"div",25)(173,"div",26)(174,"span"),e.EFF(175),e.nI1(176,"translate"),e.k0s(),e.j41(177,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.info.checkdelay=n)}),e.k0s()(),e.j41(178,"div",28),e.nrm(179,"range-number",29),e.k0s(),e.j41(180,"div",30)(181,"span"),e.EFF(182),e.nI1(183,"translate"),e.k0s(),e.j41(184,"input",31),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.info.timedelay=n)}),e.k0s()()(),e.j41(185,"div",9)(186,"div",26)(187,"span"),e.EFF(188),e.nI1(189,"translate"),e.k0s(),e.j41(190,"input",32),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.info.text=n)}),e.k0s()(),e.j41(191,"div",30)(192,"span"),e.EFF(193),e.nI1(194,"translate"),e.k0s(),e.j41(195,"input",33),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.info.group=n)}),e.k0s()()(),e.j41(196,"div",34)(197,"div",35)(198,"span"),e.EFF(199),e.k0s()(),e.j41(200,"div",36)(201,"span"),e.EFF(202),e.k0s()()()()(),e.j41(203,"mat-tab",19),e.nI1(204,"translate"),e.j41(205,"div",20)(206,"div",9)(207,"div",21)(208,"span"),e.EFF(209),e.nI1(210,"translate"),e.k0s(),e.j41(211,"mat-slide-toggle",22),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.data.alarm.actions.enabled=n)}),e.k0s()(),e.j41(212,"div",23)(213,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddAction())}),e.j41(214,"mat-icon"),e.EFF(215,"add_circle_outline"),e.k0s()()()(),e.j41(216,"div",38),e.DNE(217,w_e,32,22,"div",39),e.k0s()()()(),e.j41(218,"div",40),e.DNE(219,C_e,4,3,"div",41),e.DNE(220,E_e,4,3,"div",41),e.k0s()()}if(2&r){const t=e.sdS(9),i=e.sdS(12),n=e.XpG();e.R7$(3),e.Y8G("name",n.data.alarm.name)("permission",n.property.permission)("permissionRoles",n.property.permissionRoles),e.R7$(3),e.Y8G("data",n.data)("property",n.property)("withStaticValue",!1)("withBitmask",!0),e.R7$(4),e.Y8G("ngForOf",n.existtexts),e.R7$(3),e.Y8G("ngForOf",n.existgroups),e.R7$(2),e.FS9("label",e.bMT(16,107,"alarm.property-highhigh")),e.R7$(6),e.JRh(e.bMT(22,109,"alarm.property-enabled")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.highhigh.enabled),e.R7$(3),e.JRh(e.bMT(27,111,"alarm.property-ackmode")),e.R7$(2),e.Y8G("value",n.data.alarm.highhigh.ackmode),e.R7$(1),e.Y8G("ngForOf",e.bMT(30,113,n.ackMode)),e.R7$(5),e.JRh(e.bMT(35,115,"alarm.property-checkdelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.highhigh.checkdelay),e.R7$(2),e.Y8G("range",n.data.alarm.highhigh),e.R7$(3),e.JRh(e.bMT(42,117,"alarm.property-timedelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.highhigh.timedelay),e.R7$(4),e.JRh(e.bMT(48,119,"alarm.property-text")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.highhigh.text)("matAutocomplete",t),e.R7$(3),e.JRh(e.bMT(53,121,"alarm.property-group")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.highhigh.group)("matAutocomplete",i),e.R7$(1),e.xc7("background",n.data.alarm.highhigh.bkcolor)("color",n.data.alarm.highhigh.color),e.R7$(3),e.JRh(n.data.alarm.highhigh.text),e.R7$(3),e.JRh(n.data.alarm.highhigh.group),e.R7$(1),e.FS9("label",e.bMT(63,123,"alarm.property-high")),e.R7$(6),e.JRh(e.bMT(69,125,"alarm.property-enabled")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.high.enabled),e.R7$(3),e.JRh(e.bMT(74,127,"alarm.property-ackmode")),e.R7$(2),e.Y8G("value",n.data.alarm.high.ackmode),e.R7$(1),e.Y8G("ngForOf",e.bMT(77,129,n.ackMode)),e.R7$(5),e.JRh(e.bMT(82,131,"alarm.property-checkdelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.high.checkdelay),e.R7$(2),e.Y8G("range",n.data.alarm.high),e.R7$(3),e.JRh(e.bMT(89,133,"alarm.property-timedelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.high.timedelay),e.R7$(4),e.JRh(e.bMT(95,135,"alarm.property-text")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.high.text)("matAutocomplete",t),e.R7$(3),e.JRh(e.bMT(100,137,"alarm.property-group")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.high.group)("matAutocomplete",i),e.R7$(1),e.xc7("background",n.data.alarm.high.bkcolor)("color",n.data.alarm.high.color),e.R7$(3),e.JRh(n.data.alarm.high.text),e.R7$(3),e.JRh(n.data.alarm.high.group),e.R7$(1),e.FS9("label",e.bMT(110,139,"alarm.property-low")),e.R7$(6),e.JRh(e.bMT(116,141,"alarm.property-enabled")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.low.enabled),e.R7$(3),e.JRh(e.bMT(121,143,"alarm.property-ackmode")),e.R7$(2),e.Y8G("value",n.data.alarm.low.ackmode),e.R7$(1),e.Y8G("ngForOf",e.bMT(124,145,n.ackMode)),e.R7$(5),e.JRh(e.bMT(129,147,"alarm.property-checkdelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.low.checkdelay),e.R7$(2),e.Y8G("range",n.data.alarm.low),e.R7$(3),e.JRh(e.bMT(136,149,"alarm.property-timedelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.low.timedelay),e.R7$(4),e.JRh(e.bMT(142,151,"alarm.property-text")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.low.text)("matAutocomplete",t),e.R7$(3),e.JRh(e.bMT(147,153,"alarm.property-group")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.low.group)("matAutocomplete",i),e.R7$(1),e.xc7("background",n.data.alarm.low.bkcolor)("color",n.data.alarm.low.color),e.R7$(3),e.JRh(n.data.alarm.low.text),e.R7$(3),e.JRh(n.data.alarm.low.group),e.R7$(1),e.FS9("label",e.bMT(157,155,"alarm.property-info")),e.R7$(6),e.JRh(e.bMT(163,157,"alarm.property-enabled")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.info.enabled),e.R7$(3),e.JRh(e.bMT(168,159,"alarm.property-ackmode")),e.R7$(2),e.Y8G("value",n.data.alarm.info.ackmode),e.R7$(1),e.Y8G("ngForOf",e.bMT(171,161,n.ackMode)),e.R7$(5),e.JRh(e.bMT(176,163,"alarm.property-checkdelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.info.checkdelay),e.R7$(2),e.Y8G("range",n.data.alarm.info),e.R7$(3),e.JRh(e.bMT(183,165,"alarm.property-timedelay")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.info.timedelay),e.R7$(4),e.JRh(e.bMT(189,167,"alarm.property-text")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.info.text)("matAutocomplete",t),e.R7$(3),e.JRh(e.bMT(194,169,"alarm.property-group")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.info.group)("matAutocomplete",i),e.R7$(1),e.xc7("background",n.data.alarm.info.bkcolor)("color",n.data.alarm.info.color),e.R7$(3),e.JRh(n.data.alarm.info.text),e.R7$(3),e.JRh(n.data.alarm.info.group),e.R7$(1),e.FS9("label",e.bMT(204,171,"alarm.property-action")),e.R7$(6),e.JRh(e.bMT(210,173,"alarm.property-enabled")),e.R7$(2),e.Y8G("ngModel",n.data.alarm.actions.enabled),e.R7$(6),e.Y8G("ngForOf",n.data.alarm.actions.values),e.R7$(2),e.Y8G("ngIf",n.errorExist),e.R7$(1),e.Y8G("ngIf",n.errorMissingValue)}}let M_e=(()=>{class r{dialogRef;projectService;translateService;data;flexAuth;flexHead;scripts;property;ackMode=lu;actionsType=DA;actionPopup=ii.Aq.getEnumKey(DA,DA.popup);actionSetView=ii.Aq.getEnumKey(DA,DA.setView);actionSetValue=ii.Aq.getEnumKey(DA,DA.setValue);actionRunScript=ii.Aq.getEnumKey(DA,DA.runScript);actionToastMessage=ii.Aq.getEnumKey(DA,DA.toastMessage);errorExist=!1;errorMissingValue=!1;existnames=[];existtexts=[];existgroups=[];constructor(t,i,n,a){this.dialogRef=t,this.projectService=i,this.translateService=n,this.data=a,this.property=this.data.alarm.property?JSON.parse(JSON.stringify(this.data.alarm.property)):new yce,this.data.alarm.highhigh||(this.data.alarm.highhigh=new ww,this.data.alarm.highhigh.bkcolor="#FF4848",this.data.alarm.highhigh.color="#FFF",this.data.alarm.highhigh.enabled=!1,this.data.alarm.highhigh.ackmode=Object.keys(lu)[Object.values(lu).indexOf(lu.ackactive)]),this.data.alarm.high||(this.data.alarm.high=new ww,this.data.alarm.high.bkcolor="#F9CF59",this.data.alarm.high.color="#000",this.data.alarm.high.enabled=!1,this.data.alarm.high.ackmode=Object.keys(lu)[Object.values(lu).indexOf(lu.ackactive)]),this.data.alarm.low||(this.data.alarm.low=new ww,this.data.alarm.low.bkcolor="#E5E5E5",this.data.alarm.low.color="#000",this.data.alarm.low.enabled=!1,this.data.alarm.low.ackmode=Object.keys(lu)[Object.values(lu).indexOf(lu.ackactive)]),this.data.alarm.info||(this.data.alarm.info=new ww,this.data.alarm.info.bkcolor="#22A7F2",this.data.alarm.info.color="#FFF",this.data.alarm.info.enabled=!1,this.data.alarm.info.ackmode=Object.keys(lu)[Object.values(lu).indexOf(lu.float)]),this.data.alarm.actions||(this.data.alarm.actions=new $N,this.data.alarm.actions.enabled=!1),Object.keys(this.ackMode).forEach(s=>{this.translateService.get(this.ackMode[s]).subscribe(d=>{this.ackMode[s]=d})}),Object.keys(this.actionsType).forEach(s=>{this.translateService.get(this.actionsType[s]).subscribe(d=>{this.actionsType[s]=d})}),a.alarms&&(this.existnames=a.alarms.filter(s=>s.name!==a.alarm.name),a.alarms.forEach(s=>{s.highhigh.text&&-1===this.existtexts.indexOf(s.highhigh.text)&&this.existtexts.push(s.highhigh.text),s.high.text&&-1===this.existtexts.indexOf(s.high.text)&&this.existtexts.push(s.high.text),s.low.text&&-1===this.existtexts.indexOf(s.low.text)&&this.existtexts.push(s.low.text),s.info.text&&-1===this.existtexts.indexOf(s.info.text)&&this.existtexts.push(s.info.text),s.highhigh.group&&-1===this.existgroups.indexOf(s.highhigh.group)&&this.existgroups.push(s.highhigh.group),s.high.group&&-1===this.existgroups.indexOf(s.high.group)&&this.existgroups.push(s.high.group),s.low.group&&-1===this.existgroups.indexOf(s.low.group)&&this.existgroups.push(s.low.group),s.info.group&&-1===this.existgroups.indexOf(s.info.group)&&this.existgroups.push(s.info.group)}))}ngOnInit(){this.scripts=this.projectService.getScripts()?.filter(t=>t.mode===qo.bR.SERVER)}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.editmode<0?this.dialogRef.close(this.data.alarm):this.checkValid()&&(this.data.alarm.property=this.property,this.data.alarm.property.permission=this.flexAuth.permission,this.data.alarm.property.permissionRoles=this.flexAuth.permissionRoles,this.data.alarm.name=this.flexAuth.name,this.dialogRef.close(this.data.alarm))}checkValid(){return this.errorMissingValue=!this.flexAuth.name,this.errorExist=!!this.existnames.find(t=>t.name===this.flexAuth.name),!(this.errorMissingValue||this.errorExist)}onAddAction(){let t=new bce;this.data.alarm.actions.values.push(t)}onAlarmAction(t){this.data.alarm.actions.values.splice(t,1)}setActionVariable(t,i){t.variableId=i.variableId}onScriptChanged(t,i){let n=this.scripts.find(a=>a.id===t);i.actoptions[qo.od]=[],n&&n.parameters&&(i.actoptions[qo.od]=JSON.parse(JSON.stringify(n.parameters)))}setScriptParam(t,i){t.value=i.variableId}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(kr.TR),e.rXU(Vi.c$),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-alarm-property"]],viewQuery:function(i,n){if(1&i&&(e.GBs(t_e,5),e.GBs(i_e,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.flexAuth=a.first),e.mGM(a=e.lsd())&&(n.flexHead=a.first)}},decls:15,vars:11,consts:[[2,"position","relative"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","color","gray","cursor","pointer",3,"click"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],["mat-dialog-content",""],[2,"display","block","width","680px","padding-bottom","20px"],[2,"display","block"],[3,"name","permission","permissionRoles"],["flexauth",""],["mat-dialog-content","",2,"overflow","hidden","width","100%"],[3,"data","property","withStaticValue","withBitmask"],["flexhead",""],["textAuto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["groupAuto","matAutocomplete"],[2,"width","100%","min-height","320px"],[3,"label"],[2,"overflow","hidden","padding-top","25px"],[1,"my-form-field",2,"display","inline-block","margin-bottom","10px","margin-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"my-form-field",2,"margin-bottom","10px","float","right"],[2,"width","323px",3,"value","valueChange"],[2,"display","inline-table"],[1,"my-form-field",2,"display","inline-block","margin-bottom","10px","padding-right","13px"],["numberOnly","","type","number","min","1",2,"width","145px",3,"ngModel","ngModelChange"],[2,"display","inline-block","margin-left","45px","margin-right","50px"],[3,"range"],[1,"my-form-field",2,"display","inline-block","margin-bottom","10px"],["numberOnly","","type","number",2,"width","158px",3,"ngModel","ngModelChange"],["type","text",2,"width","400px",3,"ngModel","matAutocomplete","ngModelChange"],["type","text",2,"width","253px",3,"ngModel","matAutocomplete","ngModelChange"],[2,"display","block","height","35px","margin-top","15px"],[1,"alarm-sample",2,"display","inline-block","padding-right","13px","width","403px","line-height","35px","padding-left","5px"],[1,"alarm-sample",2,"display","inline-block","width","240px","line-height","35px"],["mat-icon-button","",3,"click"],[2,"max-height","210px","overflow","auto","width","100%"],["class","action-item",4,"ngFor","ngForOf"],[1,"mb10",2,"height","20px"],["class","message-error",4,"ngIf"],[3,"value"],[1,"action-item"],[2,"display","inline-table",";margin-bottom","10px"],[1,"my-form-field",2,"display","inline-block","padding-right","13px"],[1,"my-form-field",2,"display","inline-block"],["numberOnly","","type","number",2,"width","145px",3,"ngModel","ngModelChange"],[1,"block","mb5"],[1,"my-form-field",2,"width","150px"],[3,"value","valueChange"],["class","inbk",4,"ngIf"],[2,"float","right"],["class","block mt5",4,"ngIf"],[1,"inbk"],[1,"my-form-field","ml20"],["type","text",2,"width","260px",3,"ngModel","ngModelChange"],[1,"my-form-field","ml20",2,"width","260px"],[3,"value","valueChange","selectionChange"],[1,"my-form-field","ml10",2,"width","100px"],[1,"block","mt5"],[2,"display","block","padding-left","25px"],[2,"display","block",3,"data","variableId","withStaticValue","onchange"],["class","ml10 mt5",4,"ngFor","ngForOf"],[1,"ml10","mt5"],[1,"my-form-field"],["type","text","readonly","",2,"width","160px",3,"ngModel","disabled","ngModelChange"],[2,"margin-left","10px","display","inline-block"],["class","my-form-field",4,"ngIf"],[1,"message-error"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.DNE(6,n_e,3,4,"div",3),e.DNE(7,B_e,221,175,"div",3),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return n.onNoClick()}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"button",6),e.bIt("click",function(){return n.onOkClick()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,5,"alarm.property-title")),e.R7$(4),e.Y8G("ngIf",n.data.editmode<0),e.R7$(1),e.Y8G("ngIf",n.data.editmode>=0),e.R7$(3),e.JRh(e.bMT(11,7,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(14,9,"dlg.ok")))},dependencies:[l.Sq,l.bT,k,Zn,qe,qn,tn,Av,Tm,Ur,zn,Or,eo,Rr,Kn,yo,wc,eu,Td,fD,j1,Cp,Wr,Hs,cS,Vi.D9,ii.yN],styles:["[_nghost-%COMP%]   .alarm-sample[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .message-error[_ngcontent-%COMP%]{display:inline-block;color:red}[_nghost-%COMP%]     .mat-tab-label{height:34px!important;min-width:120px!important}[_nghost-%COMP%]   .action-item[_ngcontent-%COMP%]{display:block;width:100%;border-bottom:1px solid rgba(0,0,0,.1);margin-top:5px;margin-bottom:5px}"]})}return r})();function x_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddAlarm())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function D_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",23)(1,"button",24),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditAlarm(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function I_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-name")," "))}function k_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function T_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-device")," "))}function F_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getVariableLabel(t.property),"")}}function S_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-highhigh")," "))}function Q_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getSubProperty(t.highhigh)," ")}}function R_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-high")," "))}function P_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getSubProperty(t.high)," ")}}function O_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-low")," "))}function L_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getSubProperty(t.low)," ")}}function Y_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-info")," "))}function N_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getSubProperty(t.info)," ")}}function j_e(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"alarms.list-actions")," "))}function G_e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getSubActionsProperty(t.actions)," ")}}function U_e(r,o){1&r&&e.nrm(0,"mat-header-cell")}function z_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",24),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveAlarm(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function H_e(r,o){1&r&&e.nrm(0,"mat-header-row")}function V_e(r,o){1&r&&e.nrm(0,"mat-row",26)}let J_e=(()=>{class r{dialog;translateService;projectService;displayedColumns=["select","name","device","highhigh","high","low","info","actions","remove"];dataSource=new Ln([]);subscriptionLoad;enabledText="";table;sort;constructor(t,i,n){this.dialog=t,this.translateService=i,this.projectService=n}ngOnInit(){this.loadAlarms(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{this.loadAlarms()}),this.translateService.get("alarm.property-enabled").subscribe(t=>{this.enabledText=t})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}onAddAlarm(){let t=new _ce;this.editAlarm(t,1)}onEditAlarm(t){this.editAlarm(t,0)}onRemoveAlarm(t){this.editAlarm(t,-1)}editAlarm(t,i){let n=JSON.parse(JSON.stringify(t));this.dialog.open(M_e,{disableClose:!0,data:{alarm:n,editmode:i,alarms:this.dataSource.data,devices:Object.values(this.projectService.getDevices()),views:this.projectService.getViews()},position:{top:"80px"}}).afterClosed().subscribe(s=>{s&&(i<0?this.projectService.removeAlarm(s).subscribe(d=>{this.loadAlarms()}):this.projectService.setAlarm(s,t).subscribe(d=>{this.loadAlarms()}))})}getSubProperty(t){return t&&t.enabled&&ww.isValid(t)?this.enabledText:""}getSubActionsProperty(t){return t&&t.enabled&&$N.isValid(t)?this.enabledText:""}getVariableLabel(t){if(!t.variableId)return"";let i=this.projectService.getDeviceFromTagId(t.variableId);return i?i.name+" - "+i.tags[t.variableId].name:""}loadAlarms(){this.dataSource.data=this.projectService.getAlarms()}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-alarm-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:41,vars:6,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","device"],["matColumnDef","highhigh"],["matColumnDef","high"],["matColumnDef","low"],["matColumnDef","info"],["matColumnDef","actions"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"warning_amber"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"mat-table",3,4),e.qex(9,5),e.DNE(10,x_e,4,1,"mat-header-cell",6),e.DNE(11,D_e,4,1,"mat-cell",7),e.bVm(),e.qex(12,8),e.DNE(13,I_e,3,3,"mat-header-cell",9),e.DNE(14,k_e,2,1,"mat-cell",10),e.bVm(),e.qex(15,11),e.DNE(16,T_e,3,3,"mat-header-cell",9),e.DNE(17,F_e,2,1,"mat-cell",10),e.bVm(),e.qex(18,12),e.DNE(19,S_e,3,3,"mat-header-cell",9),e.DNE(20,Q_e,2,1,"mat-cell",10),e.bVm(),e.qex(21,13),e.DNE(22,R_e,3,3,"mat-header-cell",9),e.DNE(23,P_e,2,1,"mat-cell",10),e.bVm(),e.qex(24,14),e.DNE(25,O_e,3,3,"mat-header-cell",9),e.DNE(26,L_e,2,1,"mat-cell",10),e.bVm(),e.qex(27,15),e.DNE(28,Y_e,3,3,"mat-header-cell",9),e.DNE(29,N_e,2,1,"mat-cell",10),e.bVm(),e.qex(30,16),e.DNE(31,j_e,3,3,"mat-header-cell",9),e.DNE(32,G_e,2,1,"mat-cell",10),e.bVm(),e.qex(33,17),e.DNE(34,U_e,1,0,"mat-header-cell",18),e.DNE(35,z_e,4,0,"mat-cell",10),e.bVm(),e.DNE(36,H_e,1,0,"mat-header-row",19),e.DNE(37,V_e,1,0,"mat-row",20),e.k0s()()(),e.j41(38,"button",21),e.bIt("click",function(){return n.onAddAlarm()}),e.j41(39,"mat-icon",22),e.EFF(40,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"alarms.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(29),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,zn,Kn,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}.header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:0}.filter[_ngcontent-%COMP%]{display:inline-block;min-height:60px;padding:8px 24px 0}.filter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.table[_ngcontent-%COMP%]{height:705px}.mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}.mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}.mat-cell[_ngcontent-%COMP%]{font-size:13px}.mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.mat-header-cell[_ngcontent-%COMP%]{font-size:15px}.mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 80px}.mat-column-name[_ngcontent-%COMP%]{flex:1 1 200px}.mat-column-device[_ngcontent-%COMP%]{flex:2 1 350px}.mat-column-highhigh[_ngcontent-%COMP%], .mat-column-high[_ngcontent-%COMP%], .mat-column-low[_ngcontent-%COMP%], .mat-column-info[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{flex:0 0 140px}.mat-column-value[_ngcontent-%COMP%]{flex:0 0 800px}.mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}.selectidthClass[_ngcontent-%COMP%]{flex:0 0 50px}.message-error[_ngcontent-%COMP%]{display:inline-block;color:red}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-12px;right:20px}.my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px}"]})}return r})();class W_e{id;name;receiver;delay=1;interval=0;enabled=!0;text;type;subscriptions={};options;constructor(o){this.id=o}}var ch=function(r){return r.alarms="notification.type-alarm",r.trigger="notification.type-trigger",r}(ch||{});function X_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",23),e.bIt("change",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.onSubscriptionChanged(s,n.checked))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.Y8G("checked",i.getTypeValue(t)),e.R7$(1),e.SpI(" ",e.bMT(2,2,"alarm.property-"+t)," ")}}function Z_e(r,o){if(1&r&&(e.j41(0,"div",21)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,X_e,3,4,"mat-checkbox",22),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"notification.property-priority")),e.R7$(2),e.Y8G("ngForOf",t.alarmsType)}}let $_e=(()=>{class r{dialogRef;fb;translateService;projectService;data;notification;notificationsType=ch;notificationAlarm=ii.Aq.getEnumKey(ch,ch.alarms);notificationTrigger=ii.Aq.getEnumKey(ch,ch.trigger);formGroup;alarmsType=[Qd.HIGH_HIGH,Qd.HIGH,Qd.LOW,Qd.INFO];constructor(t,i,n,a,s){this.dialogRef=t,this.fb=i,this.translateService=n,this.projectService=a,this.data=s,this.notification=this.data.notification??new W_e(ii.Aq.getGUID("n_"))}ngOnInit(){this.formGroup=this.fb.group({name:[this.notification.name,j.required],receiver:[this.notification.receiver,j.required],type:[this.notification.type,j.required],delay:[this.notification.delay],interval:[this.notification.interval],enabled:[this.notification.enabled]}),this.formGroup.controls.name.addValidators(this.isValidName()),Object.keys(this.notificationsType).forEach(t=>{this.notificationsType[t]=this.translateService.instant(this.notificationsType[t])})}onNoClick(){this.dialogRef.close()}onOkClick(){this.notification={...this.notification,...this.formGroup.getRawValue()},this.dialogRef.close(this.notification)}onTypeChanged(t){}onSubscriptionChanged(t,i){this.notification.subscriptions[t]=i}getTypeValue(t){return this.notification?.type===this.notificationAlarm&&this.notification.subscriptions[t]}isValidName(){const t=this.projectService.getNotifications().map(i=>i.name);return i=>this.notification?.name===i.value?null:-1!==t?.indexOf(i.value)?{name:this.translateService.instant("msg.notification-name-exist")}:null}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-notification-property"]],decls:49,vars:32,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","item-block"],["formControlName","name","type","text"],[1,"my-form-field","item-block","mt10"],["formControlName","receiver","type","text"],[1,"block","mt10"],[1,"my-form-field"],["formControlName","type",2,"width","207px"],[3,"value"],[1,"my-form-field","ml15"],["numberOnly","","formControlName","delay","type","number","max","60","min","1","step","1",2,"width","80px"],["numberOnly","","formControlName","interval","type","number","max","60","min","0","step","1",2,"width","80px"],[1,"my-form-field","ml20"],["color","primary","formControlName","enabled",2,"vertical-align","middle"],["class","my-form-field block mt10",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action","mt10"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"my-form-field","block","mt10"],["style","margin: 7px 10px 7px 10px;",3,"checked","change",4,"ngFor","ngForOf"],[2,"margin","7px 10px 7px 10px",3,"checked","change"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",6)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",7),e.k0s(),e.j41(17,"div",8)(18,"div",9)(19,"span"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-select",10),e.nrm(23,"mat-option",11),e.j41(24,"mat-option",11),e.EFF(25),e.k0s()()(),e.j41(26,"div",12)(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"input",13),e.k0s(),e.j41(31,"div",12)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"input",14),e.k0s(),e.j41(36,"div",15)(37,"span"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.nrm(40,"mat-slide-toggle",16),e.k0s()(),e.DNE(41,Z_e,5,4,"div",17),e.k0s(),e.j41(42,"div",18)(43,"button",19),e.bIt("click",function(){return n.onNoClick()}),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"button",20),e.bIt("click",function(){return n.onOkClick()}),e.EFF(47),e.nI1(48,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,14,"notification.property-title")),e.R7$(7),e.SpI("*",e.bMT(10,16,"notification.property-name"),""),e.R7$(5),e.SpI("*",e.bMT(15,18,"notification.property-receiver"),""),e.R7$(6),e.SpI("*",e.bMT(21,20,"notification.property-type"),""),e.R7$(4),e.Y8G("value",n.notificationAlarm),e.R7$(1),e.SpI(" ",n.notificationsType[n.notificationAlarm]," "),e.R7$(3),e.JRh(e.bMT(29,22,"notification.property-delay")),e.R7$(5),e.JRh(e.bMT(34,24,"notification.property-interval")),e.R7$(5),e.JRh(e.bMT(39,26,"notification.property-enabled")),e.R7$(3),e.Y8G("ngIf",n.formGroup.value.type===n.notificationAlarm),e.R7$(3),e.JRh(e.bMT(45,28,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(48,30,"dlg.ok")))},dependencies:[l.Sq,l.bT,Fn,k,Zn,qe,Ke,qn,Er,Pr,kt,Ur,zn,xh,Or,eo,Rr,Kn,yo,wc,Wr,Hs,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:500px;min-height:220px;overflow:hidden;padding-bottom:7px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})();function q_e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddNotification())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function eye(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",23)(1,"button",24),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditNotification(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function tye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-name")," "))}function iye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function nye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-receiver")," "))}function rye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.receiver," ")}}function oye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-delay")," "))}function aye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.delay," ")}}function sye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-interval")," "))}function lye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.interval," ")}}function cye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-type")," "))}function Aye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.type," ")}}function dye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-enabled")," "))}function uye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.enabled," ")}}function hye(r,o){1&r&&(e.j41(0,"mat-header-cell",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"notifications.list-subscriptions")," "))}function pye(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getSubProperty(t)," ")}}function fye(r,o){1&r&&e.nrm(0,"mat-header-cell")}function gye(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",24),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveNotification(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function mye(r,o){1&r&&e.nrm(0,"mat-header-row")}function vye(r,o){1&r&&e.nrm(0,"mat-row",26)}let _ye=(()=>{class r{dialog;translateService;projectService;displayedColumns=["select","name","receiver","delay","interval","type","enabled","subscriptions","remove"];dataSource=new Ln([]);notificationAlarm=Object.keys(ch).find(t=>ch[t]===ch.alarms);notificationTrigger=Object.keys(ch).find(t=>ch[t]===ch.trigger);alarmsType={};alarmsEnum=Qd;destroy$=new An.B;table;sort;constructor(t,i,n){this.dialog=t,this.translateService=i,this.projectService=n}ngOnInit(){this.loadNotifications(),this.projectService.onLoadHmi.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.loadNotifications()}),Object.values(this.alarmsEnum).forEach(t=>{this.alarmsType[t]=this.translateService.instant("alarm.property-"+t)})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onAddNotification(){this.editNotification()}onEditNotification(t){this.editNotification(t)}onRemoveNotification(t){let i=this.translateService.instant("msg.notification-remove",{value:t.name});this.dialog.open(th,{data:{msg:i},position:{top:"60px"}}).afterClosed().subscribe(a=>{a&&this.projectService.removeNotification(t).subscribe(()=>{this.loadNotifications()})})}editNotification(t){this.dialog.open($_e,{disableClose:!0,data:{notification:t},position:{top:"80px"}}).afterClosed().subscribe(n=>{n&&this.projectService.setNotification(n,t).subscribe(()=>{this.loadNotifications()})})}getSubProperty(t){if(t&&t.type===this.notificationAlarm){let i="";return Object.keys(t.subscriptions??[]).forEach(n=>{t.subscriptions[n]&&(i&&(i+=", "),i+=this.alarmsType[n])}),i}return""}loadNotifications(){this.dataSource.data=this.projectService.getNotifications()}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-notification-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,7),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:41,vars:6,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","receiver"],["matColumnDef","delay"],["matColumnDef","interval"],["matColumnDef","type"],["matColumnDef","enabled"],["matColumnDef","subscriptions"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"notifications_none"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"mat-table",3,4),e.qex(9,5),e.DNE(10,q_e,4,1,"mat-header-cell",6),e.DNE(11,eye,4,1,"mat-cell",7),e.bVm(),e.qex(12,8),e.DNE(13,tye,3,3,"mat-header-cell",9),e.DNE(14,iye,2,1,"mat-cell",10),e.bVm(),e.qex(15,11),e.DNE(16,nye,3,3,"mat-header-cell",9),e.DNE(17,rye,2,1,"mat-cell",10),e.bVm(),e.qex(18,12),e.DNE(19,oye,3,3,"mat-header-cell",9),e.DNE(20,aye,2,1,"mat-cell",10),e.bVm(),e.qex(21,13),e.DNE(22,sye,3,3,"mat-header-cell",9),e.DNE(23,lye,2,1,"mat-cell",10),e.bVm(),e.qex(24,14),e.DNE(25,cye,3,3,"mat-header-cell",9),e.DNE(26,Aye,2,1,"mat-cell",10),e.bVm(),e.qex(27,15),e.DNE(28,dye,3,3,"mat-header-cell",9),e.DNE(29,uye,2,1,"mat-cell",10),e.bVm(),e.qex(30,16),e.DNE(31,hye,3,3,"mat-header-cell",9),e.DNE(32,pye,2,1,"mat-cell",10),e.bVm(),e.qex(33,17),e.DNE(34,fye,1,0,"mat-header-cell",18),e.DNE(35,gye,4,0,"mat-cell",10),e.bVm(),e.DNE(36,mye,1,0,"mat-header-row",19),e.DNE(37,vye,1,0,"mat-row",20),e.k0s()()(),e.j41(38,"button",21),e.bIt("click",function(){return n.onAddNotification()}),e.j41(39,"mat-icon",22),e.EFF(40,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"notifications.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(29),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,zn,Kn,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:["[_nghost-%COMP%]   .header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}[_nghost-%COMP%]   .header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}[_nghost-%COMP%]   .work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:0}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 80px}[_nghost-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{flex:1 1 120px}[_nghost-%COMP%]   .mat-column-receiver[_ngcontent-%COMP%]{flex:1 1 460px}[_nghost-%COMP%]   .mat-column-delay[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .mat-column-interval[_ngcontent-%COMP%]{flex:0 0 80px}[_nghost-%COMP%]   .mat-column-type[_ngcontent-%COMP%]{flex:0 0 80px}[_nghost-%COMP%]   .mat-column-enabled[_ngcontent-%COMP%]{flex:0 0 100px}[_nghost-%COMP%]   .mat-column-subscriptions[_ngcontent-%COMP%]{flex:3 1 200px}[_nghost-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .selectidthClass[_ngcontent-%COMP%]{flex:0 0 50px}[_nghost-%COMP%]   .message-error[_ngcontent-%COMP%]{display:inline-block;color:red}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}[_nghost-%COMP%]   .my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-12px;right:20px}[_nghost-%COMP%]   .my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px}"]})}return r})();function yye(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"script.paramtype-"+t)," ")}}function bye(r,o){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.JRh(t.error)}}let wye=(()=>{class r{dialogRef;translateService;data;error="";existError;paramType=ii.Aq.enumKeys(qo.H8);constructor(t,i,n){this.dialogRef=t,this.translateService=i,this.data=n,this.existError=this.translateService.instant("script.param-name-exist")}onNoClick(){this.dialogRef.close()}isValid(t){return!(this.data.validator&&!this.data.validator(t)||!this.data.type||!this.data.name||this.data.exist.find(i=>i===t))}onCheckValue(t){this.error=this.data.exist&&this.data.exist.length&&t.target.value&&this.data.exist.find(i=>i===t.target.value)?this.existError:""}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Vi.c$),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-script-editor-param"]],decls:28,vars:25,consts:[["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block"],["type","text",2,"width","300px",3,"ngModel","readonly","ngModelChange","input"],[1,"my-form-field","mt10"],[2,"width","300px",3,"value","placeholder","valueChange"],[3,"value",4,"ngFor","ngForOf"],[2,"display","block","color","red","height","22px"],[4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",4),e.bIt("ngModelChange",function(s){return n.data.name=s})("input",function(s){return n.onCheckValue(s)}),e.k0s()(),e.j41(12,"div",5)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"mat-select",6),e.bIt("valueChange",function(s){return n.data.type=s}),e.nI1(17,"translate"),e.DNE(18,yye,3,4,"mat-option",7),e.k0s()(),e.j41(19,"div",8),e.DNE(20,bye,2,1,"span",9),e.k0s()(),e.j41(21,"div",10)(22,"button",11),e.bIt("click",function(){return n.onNoClick()}),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"button",12),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,13,"script.param-title")),e.R7$(7),e.JRh(e.bMT(10,15,"script.param-name")),e.R7$(2),e.Y8G("ngModel",n.data.name)("readonly",n.data.readonly),e.R7$(3),e.JRh(e.bMT(15,17,"script.param-type")),e.R7$(2),e.FS9("placeholder",e.bMT(17,19,"script.paramtype")),e.Y8G("value",n.data.type),e.R7$(2),e.Y8G("ngForOf",n.paramType),e.R7$(2),e.Y8G("ngIf",n.error),e.R7$(3),e.JRh(e.bMT(24,21,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",!n.isValid(n.data.name))("mat-dialog-close",n.data),e.R7$(1),e.JRh(e.bMT(27,23,"dlg.ok")))},dependencies:[l.Sq,l.bT,k,qe,tn,Ur,zn,nA,Or,eo,Rr,Kn,yo,Wr,Vi.D9]})}return r})();function Cye(r,o){if(1&r&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.SpI(" ",t.msgRemoveScript," ")}}function Eye(r,o){1&r&&(e.j41(0,"span",10),e.EFF(1,"async "),e.k0s())}function Bye(r,o){1&r&&(e.j41(0,"span"),e.EFF(1,","),e.k0s())}function Mye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"mat-icon",40),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.onRemoveParameter(a))}),e.EFF(3,"cancel"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s()(),e.DNE(6,Bye,2,0,"span",3),e.k0s()}if(2&r){const t=o.$implicit,i=o.index,n=e.XpG(2);e.R7$(5),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",i<n.parameters.length-1)}}function xye(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Dye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"ngx-codemirror",41,42),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.codeMirrorContent=n)})("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onEditorContent(n))}),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngModel",t.codeMirrorContent)("options",t.codeMirrorOptions)}}function Iye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onAddSystemFunction(a))}),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(1),e.FS9("matTooltip",t.tooltip),e.R7$(1),e.JRh(t.text)}}function kye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onAddTemplateCode(a))}),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(1),e.FS9("matTooltip",t.tooltip),e.R7$(1),e.JRh(t.text)}}function Tye(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onSetTestTagParam(n))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"script.property-test-tag")," "))}function Fye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",45)(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"input",46),e.bIt("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.Njj(s.value=n)}),e.k0s(),e.DNE(5,Tye,3,3,"button",47),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.R7$(3),e.JRh(t.name),e.R7$(1),e.Y8G("ngModel",t.value),e.R7$(1),e.Y8G("ngIf",t.type===i.tagParamType)}}function Sye(r,o){if(1&r&&(e.j41(0,"div",49)(1,"span"),e.EFF(2),e.k0s()()),2&r){const t=o.$implicit;e.R7$(2),e.SpI(">",t,"")}}function Qye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",7)(2,"div",8),e.DNE(3,Eye,2,0,"span",9),e.j41(4,"span",10),e.EFF(5,"function"),e.k0s(),e.j41(6,"span",11),e.EFF(7),e.k0s(),e.EFF(8," ( "),e.DNE(9,Mye,7,2,"div",12),e.EFF(10," ) { "),e.k0s(),e.j41(11,"div",13)(12,"button",14)(13,"mat-icon"),e.EFF(14,"more_vert"),e.k0s()(),e.j41(15,"mat-menu",15,16)(17,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onEditScriptName())}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddFunctionParam())}),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleSync())}),e.j41(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.DNE(27,xye,2,0,"mat-icon",3),e.k0s()(),e.j41(28,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.sdS(36);return e.Njj(n.toggle())}),e.nI1(29,"translate"),e.j41(30,"mat-icon",20),e.EFF(31,"keyboard_arrow_left"),e.k0s()()()(),e.j41(32,"div")(33,"mat-drawer-container",21),e.DNE(34,Dye,3,2,"div",3),e.j41(35,"mat-drawer",22,23)(37,"mat-tab-group")(38,"mat-tab",24),e.nI1(39,"translate"),e.j41(40,"div",25),e.DNE(41,Iye,3,2,"div",26),e.k0s()(),e.j41(42,"mat-tab",24),e.nI1(43,"translate"),e.j41(44,"div",25),e.DNE(45,kye,3,2,"div",26),e.k0s()(),e.j41(46,"mat-tab",24),e.nI1(47,"translate"),e.j41(48,"div",27)(49,"div",28)(50,"div",29)(51,"span",30),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"div",31),e.DNE(55,Fye,6,3,"div",32),e.k0s()(),e.j41(56,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRunTest())}),e.EFF(57),e.nI1(58,"translate"),e.k0s()(),e.j41(59,"div",34)(60,"div")(61,"span",30),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"button",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onConsoleClear())}),e.j41(65,"mat-icon"),e.EFF(66,"delete_forever"),e.k0s()(),e.DNE(67,Sye,3,1,"div",36),e.k0s()()()()()()()(),e.j41(68,"div",37),e.EFF(69," } "),e.k0s()()}if(2&r){const t=e.sdS(16),i=e.sdS(36),n=e.XpG();e.R7$(3),e.Y8G("ngIf",!n.script.sync),e.R7$(4),e.SpI(" ",n.script.name,""),e.R7$(2),e.Y8G("ngForOf",n.parameters),e.R7$(3),e.Y8G("matMenuTriggerFor",t),e.R7$(3),e.Y8G("overlapTrigger",!1),e.R7$(3),e.JRh(e.bMT(19,22,"script.property-editname")),e.R7$(3),e.JRh(e.bMT(22,24,"script.property-addfnc-param")),e.R7$(4),e.JRh(e.bMT(26,26,"script.property-async-function")),e.R7$(2),e.Y8G("ngIf",!n.script.sync),e.R7$(1),e.FS9("matTooltip",e.bMT(29,28,"script.property-systems")),e.R7$(2),e.Y8G("ngClass",i.opened?"side-toggle-collapse":"side-toggle-expand"),e.R7$(4),e.Y8G("ngIf",n.ready),e.R7$(4),e.FS9("label",e.bMT(39,30,"script.property-systems")),e.R7$(3),e.Y8G("ngForOf",n.systemFunctions.functions),e.R7$(1),e.FS9("label",e.bMT(43,32,"script.property-templates")),e.R7$(3),e.Y8G("ngForOf",n.templatesCode.functions),e.R7$(1),e.FS9("label",e.bMT(47,34,"script.property-test")),e.R7$(6),e.JRh(e.bMT(53,36,"script.property-test-params")),e.R7$(3),e.Y8G("ngForOf",n.testParameters),e.R7$(2),e.JRh(e.bMT(58,38,"script.property-test-run")),e.R7$(5),e.JRh(e.bMT(63,40,"script.property-test-console")),e.R7$(5),e.Y8G("ngForOf",n.console)}}let Rye=(()=>{class r{dialogRef;dialog;changeDetector;translateService;hmiService;scriptService;data;CodeMirror;codeMirrorContent;codeMirrorOptions={lineNumbers:!0,theme:"material",mode:"javascript",lint:!0};systemFunctions;templatesCode;checkSystemFnc=[];parameters=[];testParameters=[];tagParamType=ii.Aq.getEnumKey(qo.H8,qo.H8.tagid);console=[];script;msgRemoveScript="";ready=!1;destroy$=new An.B;constructor(t,i,n,a,s,d,m){this.dialogRef=t,this.dialog=i,this.changeDetector=n,this.translateService=a,this.hmiService=s,this.scriptService=d,this.data=m,this.script=m.script,this.dialogRef.afterOpened().subscribe(()=>setTimeout(()=>{this.ready=!0,this.setCM()},0)),this.systemFunctions=new qo.N0(this.script.mode),this.templatesCode=new qo.bj(this.script.mode),this.checkSystemFnc=this.systemFunctions.functions.map(I=>I.name)}ngOnInit(){this.script||(this.script=new qo.eF(ii.Aq.getGUID(qo.Bf))),this.parameters=this.script.parameters,this.codeMirrorContent=this.script.code,this.translateService.get("msg.script-remove",{value:this.script.name}).subscribe(t=>{this.msgRemoveScript=t}),this.systemFunctions.functions.forEach(t=>{this.translateService.get(t.text).subscribe(i=>{t.text=i}),this.translateService.get(t.tooltip).subscribe(i=>{t.tooltip=i})}),this.templatesCode.functions.forEach(t=>{t.text=this.translateService.instant(t.text),t.tooltip=this.translateService.instant(t.tooltip)}),this.hmiService.onScriptConsole.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.console.push(t.msg)}),this.loadTestParameter()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}setCM(){this.changeDetector.detectChanges(),this.CodeMirror?.codeMirror?.refresh();let t={token:i=>{for(let n=0;n<this.checkSystemFnc.length;n++)if(i.match(this.checkSystemFnc[n]))return"system-function";for(;null!=i.next(null)&&-1!==this.checkSystemFnc.indexOf(i););return null}};this.CodeMirror?.codeMirror?.addOverlay(t)}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.script)}getParameters(){return""}isValid(){return!(!this.script||!this.script.name)}onEditScriptName(){let t="dlg.item-title",i="dlg.item-req-name",n="dlg.item-name-error",a=this.data.scripts.map(d=>d.name);this.translateService.get(t).subscribe(d=>{t=d}),this.translateService.get(i).subscribe(d=>{i=d}),this.translateService.get(n).subscribe(d=>{n=d}),this.dialog.open(C_,{disableClose:!0,position:{top:"60px"},data:{name:this.script.name,title:t,label:i,exist:a,error:n,validator:this.validateName}}).afterClosed().subscribe(d=>{d&&d.name&&d.name.length>0&&(this.script.name=d.name)})}onAddFunctionParam(){let i=this.parameters.map(a=>a.name);this.dialog.open(wye,{disableClose:!0,position:{top:"60px"},data:{name:"",exist:i,error:"dlg.item-name-error",validator:this.validateName}}).afterClosed().subscribe(a=>{a&&a.name&&a.type&&(this.parameters.push(new qo.FB(a.name,a.type)),this.loadTestParameter())})}onRemoveParameter(t){this.parameters.splice(t,1),this.loadTestParameter()}onEditorContent(t){this.script.code=this.codeMirrorContent}onAddSystemFunction(t){t.params.filter(i=>i)?.length?this.onAddSystemFunctionTag(t):this.insertText(this.getFunctionText(t))}onAddTemplateCode(t){t.code&&this.insertText(t.code)}onAddSystemFunctionTag(t){const i=t.params?.find(a=>"array"===a);this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:null,multiSelection:!!i,deviceFilter:[this.script.mode===qo.bR.SERVER?Gi.bq.internal:null],isHistorical:t.paramFilter===qo.Jg.history}}).afterClosed().subscribe(a=>{if(a){let s;if(i&&a.variablesId){const d=a.variablesId.map(m=>({id:m,comment:Gi.$d.getDeviceTagText(this.data.devices,m)}));s=this.getTagFunctionText(t,d)}else if(a.variableId){const d={id:a.variableId,comment:Gi.$d.getDeviceTagText(this.data.devices,a.variableId)};s=this.getTagFunctionText(t,[d])}this.insertText(s)}})}onSetTestTagParam(t){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:null,multiSelection:!1,deviceFilter:[Gi.bq.internal]}}).afterClosed().subscribe(n=>{n&&n.variableId&&(t.value=n.variableId)})}onRunTest(){let t=new qo.YA(this.script.id,this.script.name);t.parameters=this.testParameters,t.mode=this.script.mode,t.outputId=this.script.id,t.code=this.script.code,this.scriptService.runScript(t).subscribe(i=>{this.console.push(JSON.stringify(i))},i=>{this.console.push(i.message?i.message:i),i.error&&this.console.push(i.error.message?i.error.message:i.error)})}toggleSync(){this.script.sync=!this.script.sync}onConsoleClear(){this.console=[]}validateName(t){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)}insertText(t){let i=this.CodeMirror.codeMirror.getDoc();var n=i.getCursor();i.replaceRange(t,n)}getTagFunctionText(t,i){let n="";for(let a=0;a<t.params.length;a++){n.length&&(n+=", ");let s="";t.params[a]&&i&&("array"===t.params[a]?s="["+i.map(d=>`'${d.id}' /* ${d.comment} */`).join(", ")+"]":i[a]&&(s=`'${i[a].id}' /* ${i[a].comment} */`)),n+=s}return`${t.name}(${n});`}getFunctionText(t){let i="'params'";const n=this.systemFunctions.functions.find(a=>a.name===t.name);return n?.params?.length?n?.paramsText&&(i=this.translateService.instant(n.paramsText)||i):i="",`${t.name}(${i});`}loadTestParameter(){let t=[];for(let i=0;i<this.parameters.length;i++){let n=new qo.FB(this.parameters[i].name,this.parameters[i].type);this.testParameters[i]&&(n.value=this.testParameters[i].value),t.push(n)}this.testParameters=t}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Qo),e.rXU(e.gRc),e.rXU(Vi.c$),e.rXU(BA.Ih),e.rXU(k_.f),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-script-editor"]],viewQuery:function(i,n){if(1&i&&e.GBs(WM,5),2&i){let a;e.mGM(a=e.lsd())&&(n.CodeMirror=a.first)}},decls:15,vars:12,consts:[[1,"container"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],[4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"panel-header"],[1,"panel-function"],["class","function-text",4,"ngIf"],[1,"function-text"],[1,"function-name"],["style","display: inline-block;",4,"ngFor","ngForOf"],[1,"panel-toolbar"],["mat-icon-button","",3,"matMenuTriggerFor"],["xPosition","before",3,"overlapTrigger"],["codeMenu",""],["mat-menu-item","",2,"font-size","14px",3,"click"],["mat-menu-item","",1,"code-menu-sync-select",2,"font-size","14px",3,"click"],["mat-icon-button","",3,"matTooltip","click"],[1,"side-toggle",3,"ngClass"],[1,"panel-code"],["mode","side","position","end",1,"side-panel",2,"height","100%","width","350px"],["sidePanel",""],[3,"label"],[2,"margin-top","10px","padding","7px"],["class","system-function",4,"ngFor","ngForOf"],[2,"width","100%"],[1,"test-panel"],[1,"test-parameters"],[1,"header"],[1,"content"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",1,"test-button",3,"click"],[1,"test-panel","test-console"],["mat-icon-button","",1,"small-icon-button",2,"float","right",3,"click"],["class","console-text",4,"ngFor","ngForOf"],[1,"panel-footer"],[2,"display","inline-block"],[1,"mychips"],[3,"click"],[3,"ngModel","options","ngModelChange"],["CodeMirror",""],[1,"system-function"],["mat-raised-button","",3,"matTooltip","click"],[1,"my-form-field"],[1,"content-input",3,"ngModel","ngModelChange"],["mat-raised-button","","class","content-button",3,"click",4,"ngIf"],["mat-raised-button","",1,"content-button",3,"click"],[1,"console-text"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.DNE(6,Cye,2,1,"div",3),e.DNE(7,Qye,70,42,"div",3),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return n.onNoClick()}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"button",6),e.bIt("click",function(){return n.onOkClick()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,6,"script.property-title")),e.R7$(4),e.Y8G("ngIf",n.data.editmode<0),e.R7$(1),e.Y8G("ngIf",n.data.editmode>=0),e.R7$(3),e.JRh(e.bMT(11,8,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",!n.isValid()),e.R7$(1),e.JRh(e.bMT(14,10,"dlg.ok")))},dependencies:[l.YU,l.Sq,l.bT,k,qe,tn,zn,Or,Rr,Kn,Gc,rA,tc,h0,e_,eu,Td,Is,WM,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .panel-header[_ngcontent-%COMP%]{width:100%;display:block}[_nghost-%COMP%]   .panel-footer[_ngcontent-%COMP%]{float:left;height:22px;font-family:monospace}[_nghost-%COMP%]   .panel-function[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 90px);margin-top:10px;font-family:monospace}[_nghost-%COMP%]   .panel-toolbar[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .panel-code[_ngcontent-%COMP%]{width:100%;--tab-height: 30px}[_nghost-%COMP%]   .system-function[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;font-size:12px!important;font-weight:100!important;margin-top:2px;margin-bottom:2px;background-color:#424242;color:#fff}[_nghost-%COMP%]   .test-parameters[_ngcontent-%COMP%]{display:block;font-size:12px;padding:5px}[_nghost-%COMP%]   .test-console[_ngcontent-%COMP%]{display:block;font-size:12px;padding-left:5px;border-top:1px solid #2D3335}[_nghost-%COMP%]   .test-parameters[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{line-height:24px;width:100%}[_nghost-%COMP%]   .test-parameters[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]{width:220px;background-color:#242b2e}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .content-button[_ngcontent-%COMP%]{margin-left:10px;height:27px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{overflow:auto;position:relative}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px}[_nghost-%COMP%]   .test-console[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{line-height:20px;width:100%}[_nghost-%COMP%]   .small-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}[_nghost-%COMP%]   .small-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}[_nghost-%COMP%]   .small-icon-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .console-text[_ngcontent-%COMP%]{display:block;line-height:14px;white-space:nowrap}[_nghost-%COMP%]     .mat-tab-label{height:var(--tab-height)!important;color:#fff;padding-left:10px!important;padding-right:10px!important;min-width:100px}[_nghost-%COMP%]     .cm-system-function{color:#adff2f}@media screen and (max-height: 1500px){[_nghost-%COMP%]     .CodeMirror{height:600px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{height:calc(299px - var(--tab-height) / 2)}}@media screen and (max-height: 960px){[_nghost-%COMP%]     .CodeMirror{height:600px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{height:calc(299px - var(--tab-height) / 2)}}@media screen and (max-height: 920px){[_nghost-%COMP%]     .CodeMirror{height:540px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{height:calc(269px - var(--tab-height) / 2)}}@media screen and (max-height: 870px){[_nghost-%COMP%]     .CodeMirror{height:480px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{height:calc(239px - var(--tab-height) / 2)}}@media screen and (max-height: 820px){[_nghost-%COMP%]     .CodeMirror{height:400px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{height:calc(199px - var(--tab-height) / 2)}}@media screen and (max-height: 720px){[_nghost-%COMP%]     .CodeMirror{height:300px}[_nghost-%COMP%]   .test-panel[_ngcontent-%COMP%]{height:calc(149px - var(--tab-height) / 2)}}[_nghost-%COMP%]   .side-panel[_ngcontent-%COMP%]{background-color:#333a3c;color:#fff}[_nghost-%COMP%]   .side-panel-header[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;line-height:25px;margin-bottom:5px}[_nghost-%COMP%]   .side-toggle[_ngcontent-%COMP%]{transform-origin:center center;transition:all .3s ease-in-out}[_nghost-%COMP%]   .side-toggle-expand[_ngcontent-%COMP%]{transform:rotate(0)}[_nghost-%COMP%]   .side-toggle-collapse[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .function-text[_ngcontent-%COMP%]{color:#006eff;line-height:25px}[_nghost-%COMP%]   .mychips[_ngcontent-%COMP%]{display:inline-block;font-size:inherit;height:26px;line-height:24px;border-radius:13px;background-color:var(--chipsBackground);cursor:pointer;font-family:monospace;vertical-align:middle;margin-left:2px;margin-right:2px}[_nghost-%COMP%]   .mychips[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:3px 3px 4px 2px;opacity:.5;font-size:20px;text-align:center}[_nghost-%COMP%]   .mychips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:3px;padding-right:13px;vertical-align:top}.code-menu-sync-select[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:unset!important}.code-menu-sync-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:20px;margin-right:25px}"]})}return r})();function Pye(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRemoveScheduling())}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()(),e.bVm()}}function Oye(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onRemoveScheduling())}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()(),e.bVm()}}let Lye=(()=>{class r{removable=!0;formGroup;onRemove=new e.bkB;selectedTabIndex=0;selectedTabFormControl=new Kt(this.selectedTabIndex);constructor(){}ngOnInit(){this.selectedTabIndex=this.formGroup.value.type}onTabSelectionChange(t){this.formGroup.controls.type.setValue(t)}onRemoveScheduling(){this.onRemove.emit()}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-ngx-scheduler"]],inputs:{removable:"removable",formGroup:"formGroup"},outputs:{onRemove:"onRemove"},decls:61,vars:64,consts:[[1,"container",3,"formGroup"],[1,"inbk",3,"selectedIndex","selectedIndexChange"],[3,"label"],["formControlName","days","multiple","",1,"mt15"],["value","mon",3,"matTooltip"],["value","tue",3,"matTooltip"],["value","wed",3,"matTooltip"],["value","thu",3,"matTooltip"],["value","fri",3,"matTooltip"],["value","sat",3,"matTooltip"],["value","sun",3,"matTooltip"],[1,"inbk","ml10","mr10","hour-time"],[1,"my-form-field","hour"],["numberOnly","","type","number","formControlName","hour","min","0","max","23","step","1"],[1,"my-form-field","minute"],["numberOnly","","type","number","formControlName","minute","min","0","max","59","step","1"],[4,"ngIf"],[1,"mt10"],[1,"my-form-field","inbk","ml10","mr10"],["type","date","matInput","","formControlName","date",1,"time"],["type","time","matInput","","formControlName","time",1,"time"],["mat-icon-button","","type","button",1,"ml10",3,"click"],["mat-icon-button","","type","button",1,"ftr",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"mat-tab-group",1),e.bIt("selectedIndexChange",function(s){return n.selectedTabIndex=s})("selectedIndexChange",function(s){return n.onTabSelectionChange(s)}),e.j41(2,"mat-tab",2),e.nI1(3,"translate"),e.j41(4,"mat-button-toggle-group",3)(5,"mat-button-toggle",4),e.nI1(6,"translate"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"mat-button-toggle",5),e.nI1(10,"translate"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"mat-button-toggle",6),e.nI1(14,"translate"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-button-toggle",7),e.nI1(18,"translate"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"mat-button-toggle",8),e.nI1(22,"translate"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"mat-button-toggle",9),e.nI1(26,"translate"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"mat-button-toggle",10),e.nI1(30,"translate"),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.j41(33,"div",11)(34,"div",12)(35,"span"),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"input",13),e.k0s(),e.j41(39,"span"),e.EFF(40," : "),e.k0s(),e.j41(41,"div",14)(42,"span"),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.nrm(45,"input",15),e.k0s()(),e.DNE(46,Pye,4,0,"ng-container",16),e.k0s(),e.j41(47,"mat-tab",2),e.nI1(48,"translate"),e.j41(49,"div",17)(50,"div",18)(51,"span"),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.nrm(54,"input",19),e.k0s(),e.j41(55,"div",18)(56,"span"),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.nrm(59,"input",20),e.k0s(),e.DNE(60,Oye,4,0,"ng-container",16),e.k0s()()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(1),e.Y8G("selectedIndex",n.selectedTabIndex),e.R7$(1),e.FS9("label",e.bMT(3,24,"script.scheduling-weekly")),e.R7$(3),e.FS9("matTooltip",e.bMT(6,26,"general.monday")),e.R7$(2),e.JRh(e.bMT(8,28,"general.monday-short")),e.R7$(2),e.FS9("matTooltip",e.bMT(10,30,"general.tuesday")),e.R7$(2),e.JRh(e.bMT(12,32,"general.tuesday-short")),e.R7$(2),e.FS9("matTooltip",e.bMT(14,34,"general.wednesday")),e.R7$(2),e.JRh(e.bMT(16,36,"general.wednesday-short")),e.R7$(2),e.FS9("matTooltip",e.bMT(18,38,"general.thursday")),e.R7$(2),e.JRh(e.bMT(20,40,"general.thursday-short")),e.R7$(2),e.FS9("matTooltip",e.bMT(22,42,"general.friday")),e.R7$(2),e.JRh(e.bMT(24,44,"general.friday-short")),e.R7$(2),e.FS9("matTooltip",e.bMT(26,46,"general.saturday")),e.R7$(2),e.JRh(e.bMT(28,48,"general.saturday-short")),e.R7$(2),e.FS9("matTooltip",e.bMT(30,50,"general.sunday")),e.R7$(2),e.JRh(e.bMT(32,52,"general.sunday-short")),e.R7$(5),e.JRh(e.bMT(37,54,"script.scheduling-hour")),e.R7$(7),e.JRh(e.bMT(44,56,"script.scheduling-minute")),e.R7$(3),e.Y8G("ngIf",n.removable),e.R7$(1),e.FS9("label",e.bMT(48,58,"script.scheduling-date")),e.R7$(5),e.JRh(e.bMT(53,60,"script.scheduling-date")),e.R7$(5),e.JRh(e.bMT(58,62,"script.scheduling-time")),e.R7$(3),e.Y8G("ngIf",n.removable))},dependencies:[l.bT,Fn,k,Zn,qe,Ke,qn,Er,Pr,kt,zn,Sm,By,Kn,qd,eu,Td,Is,Hs,Vi.D9],styles:[".container[_ngcontent-%COMP%]{min-height:100px}.container[_ngcontent-%COMP%]     .mat-tab-label{height:34px!important;min-width:120px!important}.container[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:var(--inputTime)}.container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:var(--inputTime)}.container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:16px;font-family:Segoe UI Symbol,Roboto-Regular,Helvetica Neue,sans-serif}.container[_ngcontent-%COMP%]   .hour-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .hour-time[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}"]})}return r})();function Yye(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",e.bMT(2,2,"script.scheduling-"+t)," ")}}function Nye(r,o){1&r&&(e.qex(0),e.j41(1,"div",14)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",15),e.k0s(),e.bVm()),2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"script.delay")))}function jye(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20)(1,"app-ngx-scheduler",21),e.bIt("onRemove",function(){const a=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.onRemoveScheduling(a))}),e.k0s()()}if(2&r){const t=o.$implicit;e.R7$(1),e.Y8G("formGroup",t)("removable",!0)}}function Gye(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",16)(2,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddScheduling())}),e.j41(3,"mat-icon"),e.EFF(4,"add_circle_outline"),e.k0s()(),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",18),e.DNE(8,jye,2,2,"div",19),e.k0s(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,2,"script.scheduling-add-item")," "),e.R7$(3),e.Y8G("ngForOf",t.formGroup.controls.schedules.value.controls)}}function Uye(r,o){1&r&&(e.qex(0),e.j41(1,"div",16)(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",15),e.k0s(),e.bVm()),2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"script.interval")))}let zye=(()=>{class r{dialogRef;fb;data;formGroup;scheduling={interval:0};schedulingMode=Object.keys(qo.ju);constructor(t,i,n){this.dialogRef=t,this.fb=i,this.data=n,this.data.scheduling&&(this.scheduling=JSON.parse(JSON.stringify(this.data.scheduling)))}ngOnInit(){this.formGroup=this.fb.group({mode:[this.scheduling?.mode||"interval"],interval:[this.scheduling?.interval||0],schedules:[this.fb.array([])]}),this.scheduling?.schedules&&this.scheduling.schedules.forEach(t=>{this.onAddScheduling(t)})}onAddScheduling(t){let i=this.formGroup.get("schedules");const n=this.fb.group({date:[t?.date],days:[t?.days],time:[t?.time],hour:[t?.hour],minute:[t?.minute],type:[t?.type]});i.value.controls.push(n)}onRemoveScheduling(t){this.formGroup.get("schedules").value.controls.splice(t,1)}onNoClick(){this.dialogRef.close()}onOkClick(){let t=this.formGroup.get("schedules");this.scheduling=this.formGroup.value,this.scheduling.schedules=t.value.controls.map(i=>i.value),this.dialogRef.close(this.scheduling)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-script-scheduling"]],decls:24,vars:17,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"force-lbk","pointer-move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block","mt10","mb10"],["formControlName","mode",1,"sel-type"],[3,"value",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[1,"my-form-field","block","mt10"],["numberOnly","","formControlName","interval","min","0","type","number",1,"row-input"],[1,"my-form-field","block"],["mat-icon-button","","type","button",3,"click"],[1,"schedulig-list","mt10"],["class","mt5 mb5",4,"ngFor","ngForOf"],[1,"mt5","mb5"],[3,"formGroup","removable","onRemove"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",5),e.DNE(12,Yye,3,4,"mat-option",6),e.k0s()(),e.qex(13,7),e.DNE(14,Nye,6,3,"ng-container",8),e.DNE(15,Gye,9,4,"ng-container",8),e.DNE(16,Uye,6,3,"ng-container",9),e.bVm(),e.k0s(),e.j41(17,"div",10)(18,"button",11),e.bIt("click",function(){return n.onNoClick()}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"button",12),e.bIt("click",function(){return n.onOkClick()}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,9,"script.scheduling-title")),e.R7$(7),e.JRh(e.bMT(10,11,"script.scheduling-type")),e.R7$(3),e.Y8G("ngForOf",n.schedulingMode),e.R7$(1),e.Y8G("ngSwitch",n.formGroup.controls.mode.value),e.R7$(1),e.Y8G("ngSwitchCase","start"),e.R7$(1),e.Y8G("ngSwitchCase","scheduling"),e.R7$(4),e.JRh(e.bMT(20,13,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(23,15,"dlg.ok")))},dependencies:[l.Sq,l.ux,l.e1,l.fG,Fn,k,Zn,qe,Ke,qn,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Hs,Lye,Vi.D9],styles:[".container[_ngcontent-%COMP%]{min-width:510px}.container[_ngcontent-%COMP%]   .sel-type[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .row-input[_ngcontent-%COMP%]{width:400px}.container[_ngcontent-%COMP%]   .schedulig-list[_ngcontent-%COMP%]{max-height:500px;overflow:auto}"]})}return r})(),Hye=(()=>{class r{dialogRef;data;cdr;userService;settingsService;userInfo;selected=[];options=[];seloptions;destroy$=new An.B;constructor(t,i,n,a,s){this.dialogRef=t,this.data=i,this.cdr=n,this.userService=a,this.settingsService=s}ngOnInit(){this.isRolePermission()?this.userService.getRoles().pipe((0,h.T)(t=>t.sort((i,n)=>i.index-n.index)),(0,jn.Q)(this.destroy$)).subscribe(t=>{this.options=t?.map(i=>({id:i.id,label:i.name})),this.selected=this.options.filter(i=>this.data.permissionRoles?.enabled?.includes(i.id))},t=>{console.error("get Roles err: "+t)}):(this.selected=Uc.yD.ValueToGroups(this.data.permission),this.options=Uc.yD.Groups),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onNoClick(){this.dialogRef.close()}onOkClick(){let t={permission:null,permissionRoles:{enabled:null}};this.seloptions&&(this.isRolePermission()?t.permissionRoles.enabled=this.seloptions.selected?.map(i=>i.id):t.permission=Uc.yD.GroupsToValue(this.seloptions.selected)),this.dialogRef.close(t)}isRolePermission(){return this.settingsService.getSettings()?.userRole}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr),e.rXU(e.gRc),e.rXU(Zg),e.rXU(yp.h))};static \u0275cmp=e.VBU({type:r,selectors:[["app-script-permission"]],viewQuery:function(i,n){if(1&i&&e.GBs(Xg,5),2&i){let a;e.mGM(a=e.lsd())&&(n.seloptions=a.first)}},decls:23,vars:17,consts:[[2,"width","350px"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[2,"float","right","margin-right","-10px","margin-top","-10px","cursor","pointer","color","gray",3,"click"],["mat-dialog-content",""],[1,"my-form-field",2,"display","block","margin-bottom","10px"],[2,"display","inline-block","width","70px"],[2,"display","inline-block"],[2,"display","block",3,"selected","options"],["seloptions",""],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5," clear "),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span",5),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"span",6),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"sel-options",7,8),e.k0s()(),e.j41(16,"div",9)(17,"button",10),e.bIt("click",function(){return n.onNoClick()}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"button",11),e.bIt("click",function(){return n.onOkClick()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,7,"script.permission-title")),e.R7$(7),e.JRh(e.bMT(10,9,"script.permission-enabled")),e.R7$(3),e.JRh(e.bMT(13,11,"script.permission-label")),e.R7$(2),e.Y8G("selected",n.selected)("options",n.options),e.R7$(4),e.JRh(e.bMT(19,13,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(22,15,"dlg.ok")))},dependencies:[zn,Or,eo,Rr,Kn,Wr,Xg,Vi.D9]})}return r})();function Vye(r,o){1&r&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"script.create-title")," "))}function Jye(r,o){1&r&&(e.EFF(0),e.nI1(1,"translate")),2&r&&e.SpI(" ",e.bMT(1,1,"script.mode-title")," ")}function Wye(r,o){if(1&r&&(e.j41(0,"span",15),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.SpI(" ",null==t.formGroup.controls.name.errors?null:t.formGroup.controls.name.errors.message," ")}}function Kye(r,o){if(1&r&&(e.j41(0,"div",7)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"input",13),e.DNE(5,Wye,2,1,"span",14),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"dlg.item-req-name")),e.R7$(3),e.Y8G("ngIf",null==t.formGroup.controls.name.errors?null:t.formGroup.controls.name.errors.message)}}function Xye(r,o){if(1&r&&(e.j41(0,"mat-option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",e.bMT(2,2,"script.mode-"+t.value)," ")}}let mj=(()=>{class r{dialogRef;translateService;projectService;fb;data;formGroup;scriptMode=qo.bR;existingNames=[];constructor(t,i,n,a,s){this.dialogRef=t,this.translateService=i,this.projectService=n,this.fb=a,this.data=s}ngOnInit(){this.existingNames=this.projectService.getScripts()?.map(t=>t.name),this.formGroup=this.fb.group({name:[this.data.name],mode:[this.data.mode,j.required]}),this.data.newScript&&this.formGroup.controls.name.setValidators([j.required,this.isValidScriptName()])}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.formGroup.getRawValue())}isValidScriptName(){return t=>{const i=t.value?.trim();return i?/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(i)?this.existingNames.includes(i)?{message:this.translateService.instant("msg.script-name-exist")}:null:{message:this.translateService.instant("msg.invalid-script-name")}:null}}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(po),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-script-mode"]],decls:23,vars:17,consts:[[3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[4,"ngIf","ngIfElse"],["mode",""],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],["class","my-form-field block mt10",4,"ngIf"],[1,"my-form-field","block","mt10"],["formControlName","mode",2,"width","300px"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action","mt10"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["formControlName","name","type","text",2,"width","300px"],["class","form-input-error",4,"ngIf"],[1,"form-input-error"],[3,"value"]],template:function(i,n){if(1&i&&(e.j41(0,"form",0)(1,"h1",1),e.DNE(2,Vye,3,3,"ng-container",2),e.DNE(3,Jye,2,3,"ng-template",null,3,e.C5r),e.k0s(),e.j41(5,"mat-icon",4),e.bIt("click",function(){return n.onNoClick()}),e.EFF(6,"clear"),e.k0s(),e.j41(7,"div",5),e.DNE(8,Kye,6,4,"div",6),e.j41(9,"div",7)(10,"span"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"mat-select",8),e.DNE(14,Xye,3,4,"mat-option",9),e.nI1(15,"enumToArray"),e.k0s()()(),e.j41(16,"div",10)(17,"button",11),e.bIt("click",function(){return n.onNoClick()}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"button",12),e.bIt("click",function(){return n.onOkClick()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&i){const a=e.sdS(4);e.Y8G("formGroup",n.formGroup),e.R7$(2),e.Y8G("ngIf",n.data.newScript)("ngIfElse",a),e.R7$(6),e.Y8G("ngIf",n.data.newScript),e.R7$(3),e.JRh(e.bMT(12,9,"script.mode-label")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,11,n.scriptMode)),e.R7$(4),e.JRh(e.bMT(19,13,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(22,15,"dlg.ok"))}},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,Pr,kt,Ur,zn,Or,eo,Rr,Kn,yo,Wr,Vi.D9,ii.yN]})}return r})();function Zye(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",21)(1,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddScript())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function $ye(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",21)(1,"button",22),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditScript(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function qye(r,o){1&r&&(e.j41(0,"mat-header-cell",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"scripts.list-name")," "))}function ebe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function tbe(r,o){1&r&&(e.j41(0,"mat-header-cell",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"scripts.list-params")," "))}function ibe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getParameters(t)," ")}}function nbe(r,o){1&r&&(e.j41(0,"mat-header-cell",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"scripts.list-scheduling")," "))}function rbe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getScheduling(t),"")}}function obe(r,o){1&r&&(e.j41(0,"mat-header-cell",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"scripts.list-mode")," "))}function abe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.mode||"SERVER"," ")}}function sbe(r,o){1&r&&e.nrm(0,"mat-header-cell")}function lbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",24),e.nI1(2,"translate"),e.j41(3,"mat-icon"),e.EFF(4,"more_vert"),e.k0s()(),e.j41(5,"mat-menu",25,26)(7,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditScriptScheduling(a))}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditScriptPermission(a))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditScriptMode(a))}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()}if(2&r){const t=e.sdS(6);e.R7$(1),e.FS9("matTooltip",e.bMT(2,6,"scripts.list-options")),e.Y8G("matMenuTriggerFor",t),e.R7$(4),e.Y8G("overlapTrigger",!1),e.R7$(3),e.JRh(e.bMT(9,8,"scripts.list-scheduling")),e.R7$(3),e.JRh(e.bMT(12,10,"scripts.list-permission")),e.R7$(3),e.JRh(e.bMT(15,12,"scripts.list-mode"))}}function cbe(r,o){1&r&&e.nrm(0,"mat-header-cell")}function Abe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",22),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveScript(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function dbe(r,o){1&r&&e.nrm(0,"mat-header-row")}function ube(r,o){1&r&&e.nrm(0,"mat-row",28)}let hbe=(()=>{class r{dialog;translateService;projectService;displayedColumns=["select","name","params","scheduling","mode","options","remove"];dataSource=new Ln([]);subscriptionLoad;table;sort;constructor(t,i,n){this.dialog=t,this.translateService=i,this.projectService=n}ngOnInit(){this.loadScripts(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{this.loadScripts()})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}onAddScript(){this.dialog.open(mj,{disableClose:!0,position:{top:"60px"},data:{mode:qo.bR.SERVER,name:ii.Aq.getNextName("script_",this.dataSource.data.map(i=>i.name)),newScript:!0}}).afterClosed().subscribe(i=>{if(i){let n=new qo.eF(ii.Aq.getGUID(qo.Bf));n.name=i.name,n.mode=i.mode,this.editScript(n,1)}})}onEditScript(t){this.editScript(t,0)}onRemoveScript(t){this.editScript(t,-1)}editScript(t,i){let n=i<0?"auto":"80%",a=this.dataSource.data.filter(m=>m.id!==t.id),s=JSON.parse(JSON.stringify(t));this.dialog.open(Rye,{data:{script:s,editmode:i,scripts:a,devices:Object.values(this.projectService.getDevices())},disableClose:!0,width:n,position:{top:"80px"}}).afterClosed().subscribe(m=>{m&&(i<0?this.projectService.removeScript(m).subscribe(I=>{this.loadScripts()}):this.projectService.setScript(m,t).subscribe(()=>{this.loadScripts()}))})}getParameters(t){if(t.parameters){let i="";return Object.values(t.parameters).forEach(n=>{i&&(i+=", "),i+=`${n.name}: ${n.type}`}),i}return""}getScheduling(t){if(t.scheduling){let i="";return t.scheduling.mode&&(i=this.translateService.instant("script.scheduling-"+t.scheduling.mode)+" - "),t.scheduling.mode===qo.ju.interval||t.scheduling.mode===qo.ju.start?i+=t.scheduling.interval?`${t.scheduling.interval} sec.`:this.translateService.instant("report.scheduling-none"):t.scheduling.mode===qo.ju.scheduling&&(i+=`${t.scheduling.schedules?.length}`),i}return""}onEditScriptScheduling(t){this.dialog.open(zye,{data:{scheduling:t.scheduling},disableClose:!0,position:{top:"60px"}}).afterClosed().subscribe(n=>{n&&(t.scheduling=n,this.projectService.setScript(t,null).subscribe(()=>{this.loadScripts()}))})}onEditScriptPermission(t){this.dialog.open(Hye,{disableClose:!0,position:{top:"60px"},data:{permission:t.permission,permissionRoles:t.permissionRoles}}).afterClosed().subscribe(a=>{a&&(t.permission=a.permission,t.permissionRoles=a.permissionRoles,this.projectService.setScript(t,null).subscribe(()=>{this.loadScripts()}))})}onEditScriptMode(t){this.dialog.open(mj,{disableClose:!0,position:{top:"60px"},data:{mode:t.mode}}).afterClosed().subscribe(n=>{n&&(t.mode=n.mode,this.projectService.setScript(t,null).subscribe(()=>{this.loadScripts()}))})}loadScripts(){this.dataSource.data=this.projectService.getScripts()}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-script-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:35,vars:6,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","params"],["matColumnDef","scheduling"],["matColumnDef","mode"],["matColumnDef","options"],[4,"matHeaderCellDef"],["matColumnDef","remove"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],["mat-icon-button","",1,"options",3,"matMenuTriggerFor","matTooltip"],[3,"overlapTrigger"],["optionsgMenu",""],["mat-menu-item","",2,"font-size","14px",3,"click"],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"code"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"mat-table",3,4),e.qex(9,5),e.DNE(10,Zye,4,1,"mat-header-cell",6),e.DNE(11,$ye,4,1,"mat-cell",7),e.bVm(),e.qex(12,8),e.DNE(13,qye,3,3,"mat-header-cell",9),e.DNE(14,ebe,2,1,"mat-cell",10),e.bVm(),e.qex(15,11),e.DNE(16,tbe,3,3,"mat-header-cell",9),e.DNE(17,ibe,2,1,"mat-cell",10),e.bVm(),e.qex(18,12),e.DNE(19,nbe,3,3,"mat-header-cell",9),e.DNE(20,rbe,2,1,"mat-cell",10),e.bVm(),e.qex(21,13),e.DNE(22,obe,3,3,"mat-header-cell",9),e.DNE(23,abe,2,1,"mat-cell",10),e.bVm(),e.qex(24,14),e.DNE(25,sbe,1,0,"mat-header-cell",15),e.DNE(26,lbe,16,14,"mat-cell",10),e.bVm(),e.qex(27,16),e.DNE(28,cbe,1,0,"mat-header-cell",15),e.DNE(29,Abe,4,0,"mat-cell",10),e.bVm(),e.DNE(30,dbe,1,0,"mat-header-row",17),e.DNE(31,ube,1,0,"mat-row",18),e.k0s()()(),e.j41(32,"button",19),e.bIt("click",function(){return n.onAddScript()}),e.j41(33,"mat-icon",20),e.EFF(34,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"scripts.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(23),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,zn,Kn,Gc,rA,tc,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Is,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}.header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:0}.mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%}.mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}.mat-cell[_ngcontent-%COMP%]{font-size:13px}.mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.mat-header-cell[_ngcontent-%COMP%]{font-size:15px}.mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 80px}.mat-column-name[_ngcontent-%COMP%]{flex:1 1 120px}.mat-column-params[_ngcontent-%COMP%]{flex:3 1 180px}.mat-column-scheduling[_ngcontent-%COMP%]{flex:3 1 280px}.mat-column-options[_ngcontent-%COMP%], .mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}.selectidthClass[_ngcontent-%COMP%]{flex:0 0 50px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-button{display:block;text-align:left;margin-top:5px}.my-header-filter[_ngcontent-%COMP%]     .mat-sort-header-arrow{top:-12px;right:20px}.my-header-filter-input[_ngcontent-%COMP%]{display:block;margin-top:4px;margin-bottom:6px;padding:3px 1px 3px 2px;border-radius:2px}"]})}return r})();var vj=ie(2643),pbe=ie(7235);let fbe=(()=>{class r{dialogRef;data;constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-report-item-text"]],decls:19,vars:13,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field"],["matInput","",1,"report-textarea",3,"ngModel","ngModelChange"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"textarea",4),e.bIt("ngModelChange",function(s){return n.data.text=s}),e.k0s()()(),e.j41(12,"div",5)(13,"button",6),e.bIt("click",function(){return n.onNoClick()}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",7),e.bIt("click",function(){return n.onOkClick()}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,5,"report.item-text-title")),e.R7$(7),e.JRh(e.bMT(10,7,"report.item-text-label")),e.R7$(2),e.Y8G("ngModel",n.data.text),e.R7$(3),e.JRh(e.bMT(15,9,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(18,11,"dlg.ok")))},dependencies:[k,qe,tn,zn,Or,eo,Rr,Kn,qd,Wr,Vi.D9],styles:[".report-textarea[_ngcontent-%COMP%]{min-width:400px;min-height:200px;font-family:inherit}"]})}return r})();function gbe(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function mbe(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function vbe(r,o){if(1&r&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function _be(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-select",29),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.Njj(a.function=n)}),e.DNE(5,vbe,2,2,"mat-option",5),e.nI1(6,"enumToArray"),e.k0s()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"report.item-function-type")),e.R7$(2),e.Y8G("value",t.function),e.R7$(1),e.Y8G("ngForOf",e.bMT(6,5,i.functionType))}}function ybe(r,o){1&r&&e.nrm(0,"mat-divider",30)}function bbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,a=e.XpG();return e.Njj(a.onDeleteItem(n))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.table-delitem")))}function wbe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Cbe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Ebe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Bbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",14)(1,"div",15),e.EFF(2),e.k0s(),e.DNE(3,_be,7,7,"div",16),e.j41(4,"div",17)(5,"mat-icon",18),e.EFF(6,"more_vert"),e.k0s()(),e.j41(7,"mat-menu",null,19)(9,"button",20),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onSetLabel(a))}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"button",20),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onAddItem(a))}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",21),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,ybe,1,0,"mat-divider",22),e.DNE(19,bbe,3,3,"button",23),e.k0s(),e.j41(20,"mat-menu",null,24)(22,"button",20),e.bIt("click",function(){const a=e.eBV(t).$implicit;return e.Njj(a.align="left")}),e.j41(23,"div",25),e.DNE(24,wbe,2,0,"mat-icon",26),e.j41(25,"span",27),e.EFF(26),e.nI1(27,"translate"),e.k0s()()(),e.j41(28,"button",20),e.bIt("click",function(){const a=e.eBV(t).$implicit;return e.Njj(a.align="center")}),e.j41(29,"div",25),e.DNE(30,Cbe,2,0,"mat-icon",26),e.j41(31,"span",27),e.EFF(32),e.nI1(33,"translate"),e.k0s()()(),e.j41(34,"button",20),e.bIt("click",function(){const a=e.eBV(t).$implicit;return e.Njj(a.align="right")}),e.j41(35,"div",25),e.DNE(36,Ebe,2,0,"mat-icon",26),e.j41(37,"span",27),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()()}if(2&r){const t=o.$implicit,i=o.index,n=e.sdS(8),a=e.sdS(21);e.FS9("matTooltip",t.tag.label||t.tag.name),e.R7$(1),e.xc7("text-align",t.align),e.R7$(1),e.SpI(" ",t.label||t.tag.label||t.tag.name," "),e.R7$(1),e.Y8G("ngIf",i>0),e.R7$(2),e.Y8G("matMenuTriggerFor",n),e.R7$(5),e.JRh(e.bMT(11,21,"report.tags-table-setlabel")),e.R7$(3),e.JRh(e.bMT(14,23,"report.tags-table-add")),e.R7$(2),e.Y8G("matMenuTriggerFor",a),e.R7$(1),e.JRh(e.bMT(17,25,"report.table-alignitem")),e.R7$(2),e.Y8G("ngIf",i>0),e.R7$(1),e.Y8G("ngIf",i>0),e.R7$(5),e.Y8G("ngIf","left"===t.align),e.R7$(1),e.Y8G("ngClass","left"===t.align?"":"unselect"),e.R7$(1),e.JRh(e.bMT(27,27,"general.align-left")),e.R7$(4),e.Y8G("ngIf","center"===t.align),e.R7$(1),e.Y8G("ngClass","center"===t.align?"":"unselect"),e.R7$(1),e.JRh(e.bMT(33,29,"general.align-center")),e.R7$(4),e.Y8G("ngIf","right"===t.align),e.R7$(1),e.Y8G("ngClass","right"===t.align?"":"unselect"),e.R7$(1),e.JRh(e.bMT(39,31,"general.align-right"))}}let Mbe=(()=>{class r{dialogRef;dialog;translateService;projectService;data;dateRangeType=Qp;intervalType=dD;functionType=uD;columns;constructor(t,i,n,a,s){if(this.dialogRef=t,this.dialog=i,this.translateService=n,this.projectService=a,this.data=s,this.data.columns.length<=0){let d={label:"Timestamp"};this.data.columns=[{type:qN.timestamp,tag:d,label:d.label||d.name,align:"left",width:"auto"}]}this.columns=ii.Aq.clone(this.data.columns)}ngOnInit(){Object.keys(this.dateRangeType).forEach(t=>{this.translateService.get(this.dateRangeType[t]).subscribe(i=>{this.dateRangeType[t]=i})}),Object.keys(this.intervalType).forEach(t=>{this.translateService.get(this.intervalType[t]).subscribe(i=>{this.intervalType[t]=i})}),Object.keys(this.functionType).forEach(t=>{this.translateService.get(this.functionType[t]).subscribe(i=>{this.functionType[t]=i})})}onAddItem(t){this.dialog.open(Jg,{disableClose:!0,position:{top:"60px"},data:{variableId:null,multiSelection:!0,deviceFilter:[Gi.bq.internal]}}).afterClosed().subscribe(n=>{n&&(n.variablesId||[n.variableId]).forEach(s=>{let d=this.projectService.getTagFromId(s);this.columns.splice(++t,0,{tag:d,width:"auto",align:"left",label:d.label||d.name,function:ii.Aq.getEnumKey(uD,uD.average)})})})}onSetLabel(t){let i="";this.translateService.get("report.tags-table-setlabel").subscribe(s=>{i=s}),this.dialog.open(C_,{position:{top:"60px"},data:{name:this.columns[t].label||this.columns[t].tag.label||this.columns[t].tag.name,title:i}}).afterClosed().subscribe(s=>{s&&(this.columns[t].label=s.name)})}onDeleteItem(t){this.columns.splice(t,1)}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.columns=this.columns,this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-report-item-table"]],decls:33,vars:28,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field"],[2,"width","200px",3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-form-field","ml20"],[2,"width","140px",3,"value","valueChange"],[1,"data-table","my-form-field"],["class","data-table-cell",3,"matTooltip",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[1,"data-table-cell",3,"matTooltip"],[1,"label"],["class","my-form-field mt10",4,"ngIf"],[1,"menu"],["aria-label","More",3,"matMenuTriggerFor"],["menuitem","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["class","menu-separator",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["menualign","matMenu"],[1,"menu-item-select"],[4,"ngIf"],[3,"ngClass"],[1,"my-form-field","mt10"],[2,"width","110px",3,"value","valueChange"],[1,"menu-separator"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",4),e.bIt("valueChange",function(s){return n.data.range=s}),e.DNE(12,gbe,2,2,"mat-option",5),e.nI1(13,"enumToArray"),e.k0s()(),e.j41(14,"div",6)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"mat-select",7),e.bIt("valueChange",function(s){return n.data.interval=s}),e.DNE(19,mbe,2,2,"mat-option",5),e.nI1(20,"enumToArray"),e.k0s()(),e.j41(21,"div",8)(22,"span"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.DNE(25,Bbe,40,33,"div",9),e.k0s()(),e.j41(26,"div",10)(27,"button",11),e.bIt("click",function(){return n.onNoClick()}),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"button",12),e.bIt("click",function(){return n.onOkClick()}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,12,"report.tags-table-title")),e.R7$(7),e.JRh(e.bMT(10,14,"report.item-daterange")),e.R7$(2),e.Y8G("value",n.data.range)("disabled",!0),e.R7$(1),e.Y8G("ngForOf",e.bMT(13,16,n.dateRangeType)),e.R7$(4),e.JRh(e.bMT(17,18,"report.item-interval")),e.R7$(2),e.Y8G("value",n.data.interval),e.R7$(1),e.Y8G("ngForOf",e.bMT(20,20,n.intervalType)),e.R7$(4),e.JRh(e.bMT(24,22,"report.tags-table-column")),e.R7$(2),e.Y8G("ngForOf",n.columns),e.R7$(3),e.JRh(e.bMT(29,24,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(32,26,"dlg.ok")))},dependencies:[l.YU,l.Sq,l.bT,Ur,zn,Or,eo,Rr,Kn,r0,Gc,rA,tc,yo,Is,Wr,Vi.D9,ii.yN],styles:[".data-table[_ngcontent-%COMP%]{min-width:900px;margin-top:20px;height:500px;display:block}.data-table-cell[_ngcontent-%COMP%]{white-space:nowrap;max-width:120px;min-height:100px;overflow:hidden;position:relative;border:1px solid #7F7F7F;font-size:12px;padding:5px;display:inline-block;width:-webkit-fill-available}.data-table-cell[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{font-size:18px;position:absolute;bottom:0;left:5px;cursor:pointer}.data-table-cell[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.data-table-cell[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:inherit}.menu-item-select[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:unset!important}.menu-item-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:20px}.menu-item-select[_ngcontent-%COMP%]   .unselect[_ngcontent-%COMP%]{padding-left:25px}"]})}return r})();function xbe(r,o){if(1&r&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Dbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",18),e.bIt("change",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.onPriorityChanged(s,n.checked))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("checked",i.getPriorityValue(t)),e.R7$(1),e.SpI(" ",e.bMT(2,2,"alarm.property-"+t)," ")}}function Ibe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-checkbox",18),e.bIt("change",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.onPropertyChanged(s,n.checked))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=o.$implicit,i=e.XpG();e.Y8G("checked",i.getPropertyValue(t)),e.R7$(1),e.SpI(" ",e.bMT(2,2,"alarms.view-"+t)," ")}}function kbe(r,o){if(1&r&&(e.j41(0,"mat-list-option",19)(1,"div",20),e.EFF(2),e.k0s(),e.j41(3,"div",21),e.EFF(4),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.variableName)}}let Tbe=(()=>{class r{projectService;dialogRef;translateService;data;dateRangeType=Qp;alarmsType=[Qd.HIGH_HIGH,Qd.HIGH,Qd.LOW,Qd.INFO];alarmPropertyType=Object.values(E4).map(t=>t);alarmsList=[];alarmsListSelected=[];constructor(t,i,n,a){this.projectService=t,this.dialogRef=i,this.translateService=n,this.data=a}ngOnInit(){Object.keys(this.dateRangeType).forEach(t=>{this.translateService.get(this.dateRangeType[t]).subscribe(i=>{this.dateRangeType[t]=i})}),this.alarmsList=this.projectService.getAlarms().map(t=>{let i=this.projectService.getTagFromId(t.property?.variableId);return{name:t.name,variableName:i?.label||i?.name,variableId:t.property?.variableId}}),this.alarmsListSelected=this.data.alarmFilter?this.alarmsList.filter(t=>!!this.data.alarmFilter?.find(i=>t.name===i)):this.alarmsList}onPriorityChanged(t,i){this.data.priority[t]=i}onPropertyChanged(t,i){this.data.property[t]=i}getPriorityValue(t){return this.data.priority[t]}getPropertyValue(t){return this.data.property[t]}toggleAlarmFilterSelection(t){this.alarmsListSelected=this.alarmsList.filter(i=>t.checked)}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.priorityText={},Object.keys(Bw).forEach(t=>{this.translateService.get(Bw[t]).subscribe(i=>{this.data.priorityText[t]=i})}),this.data.propertyText={},Object.keys(this.data.property).forEach(t=>{this.data.property[t]&&this.translateService.get("alarms.view-"+t).subscribe(i=>{this.data.propertyText[t]=i})}),this.data.statusText={},Object.keys(Ew).forEach(t=>{this.translateService.get(Ew[t]).subscribe(i=>{this.data.statusText[t]=i})}),this.data.alarmFilter=this.alarmsListSelected.map(t=>t.name),this.dialogRef.close(this.data)}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR),e.rXU(yr),e.rXU(Vi.c$),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-report-item-alarms"]],decls:40,vars:31,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field"],[2,"width","200px",3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"alarms"],["style","margin: 7px 10px 7px 10px;",3,"checked","change",4,"ngFor","ngForOf"],[1,"my-form-field","block","mt20"],[1,"my-form-field","alarms-filter"],[1,"my-form-field","list-header"],[3,"checked","change"],[1,"alarm-list",3,"ngModel","ngModelChange"],["class","alarm-item",3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[2,"margin","7px 10px 7px 10px",3,"checked","change"],[1,"alarm-item",3,"value"],[1,"alarm-name"],[1,"alarm-tag"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",4),e.bIt("valueChange",function(s){return n.data.range=s}),e.DNE(12,xbe,2,2,"mat-option",5),e.nI1(13,"enumToArray"),e.k0s()(),e.j41(14,"div",6)(15,"div",3)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.DNE(19,Dbe,3,4,"mat-checkbox",7),e.k0s(),e.j41(20,"div",8)(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Ibe,3,4,"mat-checkbox",7),e.k0s()(),e.j41(25,"div",9)(26,"div",10)(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"mat-checkbox",11),e.bIt("change",function(s){return n.toggleAlarmFilterSelection(s)}),e.k0s()(),e.j41(31,"mat-selection-list",12),e.bIt("ngModelChange",function(s){return n.alarmsListSelected=s}),e.DNE(32,kbe,5,3,"mat-list-option",13),e.k0s()()(),e.j41(33,"div",14)(34,"button",15),e.bIt("click",function(){return n.onNoClick()}),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"button",16),e.bIt("click",function(){return n.onOkClick()}),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,15,"report.item-alarms-title")),e.R7$(7),e.JRh(e.bMT(10,17,"report.item-daterange")),e.R7$(2),e.Y8G("value",n.data.range)("disabled",!0),e.R7$(1),e.Y8G("ngForOf",e.bMT(13,19,n.dateRangeType)),e.R7$(5),e.JRh(e.bMT(18,21,"report.alarms-priority")),e.R7$(2),e.Y8G("ngForOf",n.alarmsType),e.R7$(3),e.JRh(e.bMT(23,23,"report.alarms-column")),e.R7$(2),e.Y8G("ngForOf",n.alarmPropertyType),e.R7$(4),e.JRh(e.bMT(29,25,"report.alarms-filter")),e.R7$(2),e.Y8G("checked",n.alarmsListSelected.length===n.alarmsList.length),e.R7$(1),e.Y8G("ngModel",n.alarmsListSelected),e.R7$(1),e.Y8G("ngForOf",n.alarmsList),e.R7$(3),e.JRh(e.bMT(36,27,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(39,29,"dlg.ok")))},dependencies:[l.Sq,qe,tn,Ur,zn,xh,Or,eo,Rr,Kn,pp,Hv,yo,Wr,Vi.D9,ii.yN],styles:[".alarms[_ngcontent-%COMP%]{min-width:600px;margin-top:20px;margin-bottom:10px;display:block}.alarms-filter[_ngcontent-%COMP%]{width:100%;margin-top:5px}.alarms-filter[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{overflow:auto;height:300px}.alarms-filter[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]     .mat-list-text{display:block}.alarms-filter[_ngcontent-%COMP%]   .alarm-name[_ngcontent-%COMP%]{width:50%;display:inline-block}.alarms-filter[_ngcontent-%COMP%]   .alarm-tag[_ngcontent-%COMP%]{display:inline-block;color:#fff9}.alarms-filter[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:block}.alarms-filter[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:2px}.alarms-filter[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{position:absolute;right:16px;top:-5px}.alarms-filter[_ngcontent-%COMP%]   .alarm-list[_ngcontent-%COMP%]{background:var(--formInputBackground)}.alarms-filter[_ngcontent-%COMP%]   .alarm-item[_ngcontent-%COMP%]{font-size:14px;height:34px}"]})}return r})();function Fbe(r,o){if(1&r&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Sbe(r,o){if(1&r&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}let Qbe=(()=>{class r{dialogRef;translateService;projectService;data;chartCtrl=new _i;chartFilterCtrl=new _i;filteredChart=new N1.m(1);dateRangeType=Qp;charts;_onDestroy=new An.B;constructor(t,i,n,a){this.dialogRef=t,this.translateService=i,this.projectService=n,this.data=a,this.charts=this.projectService.getCharts()}ngOnInit(){Object.keys(this.dateRangeType).forEach(i=>{this.translateService.get(this.dateRangeType[i]).subscribe(n=>{this.dateRangeType[i]=n})}),this.loadChart();let t=null;this.data.chart&&(t=this.charts.find(i=>i.id===this.data.chart.id)),this.chartCtrl.setValue(t)}ngOnDestroy(){this._onDestroy.next(null),this._onDestroy.complete()}onChartChanged(){}onNoClick(){this.dialogRef.close()}onOkClick(){this.data.chart=this.chartCtrl.value,this.dialogRef.close(this.data)}loadChart(t){if(this.filteredChart.next(this.charts.slice()),this.chartFilterCtrl.valueChanges.pipe((0,jn.Q)(this._onDestroy)).subscribe(()=>{this.filterChart()}),t){let i=-1;this.charts.every(function(n,a,s){return n.id!==t||(i=a,!1)}),i>=0&&this.chartCtrl.setValue(this.charts[i])}}filterChart(){if(!this.charts)return;let t=this.chartFilterCtrl.value;t?(t=t.toLowerCase(),this.filteredChart.next(this.charts.filter(i=>i.name.toLowerCase().indexOf(t)>-1))):this.filteredChart.next(this.charts.slice())}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-report-item-chart"]],decls:40,vars:33,consts:[["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field"],[2,"width","200px",3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"chart"],[2,"width","200px",3,"formControl","selectionChange"],[3,"formControl"],[1,"my-form-field","ml20"],["numberOnly","","type","number","min","100",2,"width","75px",3,"ngModel","ngModelChange","change"],[1,"my-form-field","ml10"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"h1",0),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",1),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"mat-select",4),e.bIt("valueChange",function(s){return n.data.range=s}),e.DNE(12,Fbe,2,2,"mat-option",5),e.nI1(13,"enumToArray"),e.k0s()(),e.j41(14,"div",6)(15,"div",3)(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"mat-select",7),e.bIt("selectionChange",function(){return n.onChartChanged()}),e.nrm(20,"mat-select-search",8),e.DNE(21,Sbe,2,2,"mat-option",5),e.nI1(22,"async"),e.k0s()(),e.j41(23,"div",9)(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",10),e.bIt("ngModelChange",function(s){return n.data.width=s})("change",function(){return n.onChartChanged()}),e.k0s()(),e.j41(28,"div",11)(29,"span"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"input",10),e.bIt("ngModelChange",function(s){return n.data.height=s})("change",function(){return n.onChartChanged()}),e.k0s()()()(),e.j41(33,"div",12)(34,"button",13),e.bIt("click",function(){return n.onNoClick()}),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"button",14),e.bIt("click",function(){return n.onOkClick()}),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,15,"report.chart-title")),e.R7$(7),e.JRh(e.bMT(10,17,"report.item-daterange")),e.R7$(2),e.Y8G("value",n.data.range)("disabled",!0),e.R7$(1),e.Y8G("ngForOf",e.bMT(13,19,n.dateRangeType)),e.R7$(5),e.JRh(e.bMT(18,21,"report.chart-name")),e.R7$(2),e.Y8G("formControl",n.chartCtrl),e.R7$(1),e.Y8G("formControl",n.chartFilterCtrl),e.R7$(1),e.Y8G("ngForOf",e.bMT(22,23,n.filteredChart)),e.R7$(4),e.JRh(e.bMT(26,25,"report.chart-width")),e.R7$(2),e.Y8G("ngModel",n.data.width),e.R7$(3),e.JRh(e.bMT(31,27,"report.chart-height")),e.R7$(2),e.Y8G("ngModel",n.data.height),e.R7$(3),e.JRh(e.bMT(36,29,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(39,31,"dlg.ok")))},dependencies:[l.Sq,k,Zn,qe,qn,tn,ca,Ur,zn,Or,eo,Rr,Kn,yo,L4,Wr,Hs,l.Jj,Vi.D9,ii.yN],styles:[".chart[_ngcontent-%COMP%]{min-width:400px;margin-top:20px;min-height:250px;display:block}"]})}return r})();var _j=function(r){return r.Chart="Chart",r}(_j||{});function Pbe(r,o){if(1&r&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Lme(" ",e.bMT(2,2,"msg.report-remove")," '",t.report.name,"' ? ")}}function Obe(r,o){if(1&r&&(e.j41(0,"mat-option",25),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.Y8G("value",t.key),e.R7$(1),e.SpI(" ",t.value," ")}}function Lbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onAddItem(n.itemChartType))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.content-addchart")))}function Ybe(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.content-type-text")))}function Nbe(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.content-type-tagstable")))}function jbe(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.content-type-alarmshistory")))}function Gbe(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.content-type-chart")))}function Ube(r,o){if(1&r&&(e.j41(0,"button",39),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){e.XpG();const t=e.sdS(33);e.Y8G("matMenuTriggerFor",t),e.R7$(1),e.JRh(e.bMT(2,2,"report.content-alignitem"))}}function zbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,a=e.XpG(3);return e.Njj(a.onAddItem(a.itemChartType,n,!1))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"report.content-addchart")))}function Hbe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Vbe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Jbe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Wbe(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"done"),e.k0s())}function Kbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(),d=s.index,m=s.$implicit,I=e.XpG(3);return e.Njj(I.onFontSizeItem(d,m,a))}),e.j41(1,"div",43),e.DNE(2,Wbe,2,0,"mat-icon",36),e.j41(3,"span",44),e.EFF(4),e.k0s()()()}if(2&r){const t=o.$implicit,i=e.XpG().$implicit;e.R7$(2),e.Y8G("ngIf",i.size===t),e.R7$(1),e.Y8G("ngClass",i.size===t?"":"unselect"),e.R7$(1),e.JRh(t)}}function Xbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",33)(1,"mat-icon",34),e.bIt("click",function(){const n=e.eBV(t),a=n.$implicit,s=n.index,d=e.XpG(3);return e.Njj(d.onEditItem(a,s,!0))}),e.EFF(2,"edit"),e.k0s(),e.j41(3,"div",35),e.DNE(4,Ybe,3,3,"span",36),e.DNE(5,Nbe,3,3,"span",36),e.DNE(6,jbe,3,3,"span",36),e.DNE(7,Gbe,3,3,"span",36),e.k0s(),e.j41(8,"mat-icon",37),e.EFF(9,"more_vert"),e.k0s(),e.j41(10,"mat-menu",null,38)(12,"button",39),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.DNE(15,Ube,3,4,"button",40),e.nrm(16,"mat-divider",41),e.j41(17,"button",30),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.onAddItem(s.itemTextType,a,!1))}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"button",30),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.onAddItem(s.itemTableType,a,!1))}),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"button",30),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.onAddItem(s.itemAlarmsType,a,!1))}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.DNE(26,zbe,3,3,"button",31),e.nI1(27,"async"),e.nrm(28,"mat-divider",41),e.j41(29,"button",30),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.onDeleteItem(a))}),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"mat-menu",null,42)(34,"button",30),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onAlignItem(a,"left"))}),e.j41(35,"div",43),e.DNE(36,Hbe,2,0,"mat-icon",36),e.j41(37,"span",44),e.EFF(38),e.nI1(39,"translate"),e.k0s()()(),e.j41(40,"button",30),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onAlignItem(a,"center"))}),e.j41(41,"div",43),e.DNE(42,Vbe,2,0,"mat-icon",36),e.j41(43,"span",44),e.EFF(44),e.nI1(45,"translate"),e.k0s()()(),e.j41(46,"button",30),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.onAlignItem(a,"right"))}),e.j41(47,"div",43),e.DNE(48,Jbe,2,0,"mat-icon",36),e.j41(49,"span",44),e.EFF(50),e.nI1(51,"translate"),e.k0s()()()(),e.j41(52,"mat-menu",null,45),e.DNE(54,Kbe,5,3,"button",46),e.k0s()()}if(2&r){const t=o.$implicit,i=e.sdS(11),n=e.sdS(53),a=e.XpG(3);e.R7$(4),e.Y8G("ngIf",t.type===a.itemTextType),e.R7$(1),e.Y8G("ngIf",t.type===a.itemTableType),e.R7$(1),e.Y8G("ngIf",t.type===a.itemAlarmsType),e.R7$(1),e.Y8G("ngIf",t.type===a.itemChartType),e.R7$(1),e.Y8G("matMenuTriggerFor",i),e.R7$(4),e.Y8G("matMenuTriggerFor",n),e.R7$(1),e.JRh(e.bMT(14,23,"report.content-fontsizeitem")),e.R7$(2),e.Y8G("ngIf",t.type===a.itemTextType),e.R7$(3),e.JRh(e.bMT(19,25,"report.content-addtext")),e.R7$(3),e.JRh(e.bMT(22,27,"report.content-addtable")),e.R7$(3),e.JRh(e.bMT(25,29,"report.content-addalarms")),e.R7$(2),e.Y8G("ngIf",e.bMT(27,31,a.chartImageAvailable$)),e.R7$(4),e.JRh(e.bMT(31,33,"report.content-delete")),e.R7$(6),e.Y8G("ngIf","left"===t.align),e.R7$(1),e.Y8G("ngClass","left"===t.align?"":"unselect"),e.R7$(1),e.JRh(e.bMT(39,35,"general.align-left")),e.R7$(4),e.Y8G("ngIf","center"===t.align),e.R7$(1),e.Y8G("ngClass","center"===t.align?"":"unselect"),e.R7$(1),e.JRh(e.bMT(45,37,"general.align-center")),e.R7$(4),e.Y8G("ngIf","right"===t.align),e.R7$(1),e.Y8G("ngClass","right"===t.align?"":"unselect"),e.R7$(1),e.JRh(e.bMT(51,39,"general.align-right")),e.R7$(4),e.Y8G("ngForOf",a.fontSize)}}function Zbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-tab",26),e.nI1(1,"translate"),e.j41(2,"div",27)(3,"mat-icon",28),e.EFF(4,"add_circle_outline"),e.k0s(),e.j41(5,"mat-menu",null,29)(7,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAddItem(n.itemTextType))}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAddItem(n.itemTableType))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onAddItem(n.itemAlarmsType))}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,Lbe,3,3,"button",31),e.nI1(17,"async"),e.k0s()(),e.DNE(18,Xbe,55,41,"div",32),e.k0s()}if(2&r){const t=e.sdS(6),i=e.XpG(2);e.FS9("label",e.bMT(1,7,"report.property-content")),e.R7$(3),e.Y8G("matMenuTriggerFor",t),e.R7$(5),e.JRh(e.bMT(9,9,"report.content-addtext")),e.R7$(3),e.JRh(e.bMT(12,11,"report.content-addtable")),e.R7$(3),e.JRh(e.bMT(15,13,"report.content-addalarms")),e.R7$(2),e.Y8G("ngIf",e.bMT(17,15,i.chartImageAvailable$)),e.R7$(2),e.Y8G("ngForOf",null==i.report.content?null:i.report.content.items)}}function $be(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-tab",26),e.nI1(1,"translate"),e.j41(2,"div",47)(3,"div",48)(4,"span"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"mat-select",49),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.report.docproperty.pageSize=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReportChanged())}),e.j41(8,"mat-option",50),e.EFF(9,"A3"),e.k0s(),e.j41(10,"mat-option",51),e.EFF(11,"A4"),e.k0s(),e.j41(12,"mat-option",52),e.EFF(13,"A5"),e.k0s()()(),e.j41(14,"div",53)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"mat-select",54),e.bIt("valueChange",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.report.docproperty.pageOrientation=n)})("selectionChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReportChanged())}),e.j41(19,"mat-option",55),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"mat-option",56),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",57)(26,"div",58)(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"input",59),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReportChanged())}),e.k0s()(),e.j41(31,"div",58)(32,"span"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"input",60),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReportChanged())}),e.k0s()(),e.j41(36,"div",58)(37,"span"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"input",61),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReportChanged())}),e.k0s()(),e.j41(41,"div",62)(42,"span"),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"input",63),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onReportChanged())}),e.k0s()()()()()}if(2&r){const t=e.XpG(2);e.FS9("label",e.bMT(1,11,"report.property-page")),e.R7$(5),e.JRh(e.bMT(6,13,"report.property-page-size")),e.R7$(2),e.Y8G("value",t.report.docproperty.pageSize),e.R7$(9),e.JRh(e.bMT(17,15,"report.property-page-orientation")),e.R7$(2),e.Y8G("value",t.report.docproperty.pageOrientation),e.R7$(2),e.JRh(e.bMT(21,17,"report.property-page-ori-landscape")),e.R7$(3),e.JRh(e.bMT(24,19,"report.property-page-ori-portrait")),e.R7$(5),e.JRh(e.bMT(29,21,"report.property-margin-left")),e.R7$(5),e.JRh(e.bMT(34,23,"report.property-margin-top")),e.R7$(5),e.JRh(e.bMT(39,25,"report.property-margin-right")),e.R7$(5),e.JRh(e.bMT(44,27,"report.property-margin-bottom"))}}function qbe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"input",14),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",15)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",16),e.k0s(),e.j41(13,"div",15)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"mat-select",17),e.bIt("selectionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSchedulingChanged())}),e.DNE(18,Obe,2,2,"mat-option",18),e.nI1(19,"enumToArray"),e.k0s()(),e.j41(20,"div",19)(21,"mat-tab-group",20,21),e.DNE(23,Zbe,19,17,"mat-tab",22),e.DNE(24,$be,46,29,"mat-tab",22),e.k0s()()(),e.j41(25,"div",23),e.nrm(26,"iframe",24),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,7,"report.property-name")),e.R7$(2),e.Mz_("placeholder","",e.bMT(7,9,"report.property-name")," *"),e.R7$(4),e.JRh(e.bMT(11,11,"report.property-receiver")),e.R7$(5),e.JRh(e.bMT(16,13,"report.property-scheduling-type")),e.R7$(3),e.Y8G("ngForOf",e.bMT(19,15,t.schedulingType)),e.R7$(5),e.Y8G("ngIf",t.report.content),e.R7$(1),e.Y8G("ngIf",t.report.docproperty)}}function e1e(r,o){1&r&&(e.j41(0,"div",64)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"msg.report-property-missing-value")))}vj.vfs=pbe;let t1e=(()=>{class r{dialogRef;dialog;fb;projectService;translateService;resourcesService;pluginService;data;myForm;itemTextType=ii.Aq.getEnumKey(Nf,Nf.text);itemTableType=ii.Aq.getEnumKey(Nf,Nf.table);itemAlarmsType=ii.Aq.getEnumKey(Nf,Nf.alarms);itemChartType=ii.Aq.getEnumKey(Nf,Nf.chart);fontSize=[6,8,10,12,14,16,18,20];report;schedulingType=Mw;chartImageAvailable$;destroy$=new An.B;imagesList={};constructor(t,i,n,a,s,d,m,I){this.dialogRef=t,this.dialog=i,this.fb=n,this.projectService=a,this.translateService=s,this.resourcesService=d,this.pluginService=m,this.data=I;const J=this.projectService.getReports()?.filter(oe=>oe.id!==I.report.id)?.map(oe=>oe.name);this.report=I.report,this.myForm=this.fb.group({id:[this.report.id,j.required],name:[this.report.name,[j.required,oe=>-1!==J?.indexOf(oe.value)?{invalidName:!0}:null]],receiver:[this.report.receiver],scheduling:[this.report.scheduling],marginLeft:[this.report.docproperty.pageMargins[0]],marginTop:[this.report.docproperty.pageMargins[1]],marginRight:[this.report.docproperty.pageMargins[2]],marginBottom:[this.report.docproperty.pageMargins[3]]}),this.chartImageAvailable$=this.pluginService.getPlugins().pipe((0,jn.Q)(this.destroy$),(0,h.T)(oe=>oe.some(Ce=>Ce.type===_j.Chart&&Ce.current)))}ngOnInit(){Object.keys(this.schedulingType).forEach(t=>{this.translateService.get(this.schedulingType[t]).subscribe(i=>{this.schedulingType[t]=i})})}ngAfterViewInit(){this.onReportChanged(),this.myForm.markAsPristine()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onNoClick(){this.dialogRef.close()}onOkClick(){this.report.id=this.myForm.controls.id.value,this.report.name=this.myForm.controls.name.value,this.report.receiver=this.myForm.controls.receiver.value,this.report.scheduling=this.myForm.controls.scheduling.value,(this.data.editmode<0||this.myForm.valid)&&this.dialogRef.close(this.report)}onSchedulingChanged(){this.report.content.items.forEach(t=>{(t.type===this.itemTableType||t.type===this.itemAlarmsType)&&(t.range=this.myForm.controls.scheduling.value)}),this.onReportChanged()}onReportChanged(){this.report.docproperty.pageMargins=[this.myForm.controls.marginLeft.value,this.myForm.controls.marginTop.value,this.myForm.controls.marginRight.value,this.myForm.controls.marginBottom.value],this.getPdfContent(this.report).subscribe(t=>{vj.createPdf(t).getDataUrl(n=>{const a=document.querySelector("iframe");a.src=n,a.style.width="100%",a.style.height="100%"})})}getPdfContent(t){return new Ha.c(i=>{let n={...t.docproperty};n.header={text:"FUXA by frangoteam",style:[{fontSize:6}]},n.footer=(a,s)=>({text:a.toString()+" / "+s,style:[{alignment:"right",fontSize:8}]}),this.checkImages(t.content.items.filter(a=>a.type===this.itemChartType)).subscribe(a=>{a.forEach(s=>{this.imagesList[s.id]||(this.imagesList[s.id]=s.content)}),n.content=[],t.content.items.forEach(s=>{if(s.type===this.itemTextType)n.content.push({text:s.text,style:[{alignment:s.align,fontSize:s.size}]});else if(s.type===this.itemTableType){const d=r.getTableContent(s),m=r.getDateRange(s.range);n.content.push({text:`${m.begin.toLocaleDateString()} - ${m.end.toLocaleDateString()}`,style:[{fontSize:s.size}]}),n.content.push(d)}else if(s.type===this.itemAlarmsType){const d=r.getAlarmsContent(s),m=r.getDateRange(s.range);n.content.push({text:`${m.begin.toLocaleDateString()} - ${m.end.toLocaleDateString()}`,style:[{fontSize:s.size}]}),n.content.push(d)}else s.type===this.itemChartType&&s.chart&&this.imagesList[s.chart.id]&&n.content.push({image:`data:image/png;base64,${this.imagesList[s.chart.id]}`,width:s.width||500,height:s.height||350})}),i.next(n)},a=>{console.error("get Resources images error: "+a),i.next(n)})})}checkImages(t){if(t.length<=0)return(0,lr.of)([]);let i=[];return t.forEach(n=>{n.chart&&!this.imagesList[n.chart.id]&&i.push(this.resourcesService.generateImage(n).pipe((0,h.T)(s=>({id:n.chart.id,content:s}))))}),(0,p.p)(i).pipe((0,h.T)(n=>[...n]))}onAddItem(t,i=0,n=!1){let a={type:t,align:"left",size:10};t===this.itemTextType?a={...a,text:"",style:[{alignment:a.align}]}:t===this.itemTableType?a={...a,columns:[],interval:ii.Aq.getEnumKey(dD,dD.hour),range:this.myForm.value.scheduling}:t===this.itemAlarmsType?a={...a,priority:ii.Aq.convertArrayToObject(Object.values(Qd),!0),property:ii.Aq.convertArrayToObject(Object.values(E4),!0),range:this.myForm.value.scheduling}:t===this.itemChartType&&(a={...a,range:this.myForm.value.scheduling,width:500,height:350,size:14}),this.onEditItem(a,i,n)}onEditItem(t,i,n){let a=null;const s={data:JSON.parse(JSON.stringify(t)),position:{top:"60px"}};a=this.dialog.open(t.type===this.itemTableType?Mbe:t.type===this.itemAlarmsType?Tbe:t.type===this.itemChartType?Qbe:fbe,s),a.afterClosed().subscribe(d=>{d&&(i<=this.report.content.items.length?n?(this.checkToRemoveImage(i),this.report.content.items.splice(i,1,d)):this.report.content.items.splice(i,0,d):this.report.content.items.push(d),this.onReportChanged())})}onDeleteItem(t){this.checkToRemoveImage(t),this.report.content.items.splice(t,1),this.onReportChanged()}onAlignItem(t,i){t.align=i,this.onReportChanged()}onFontSizeItem(t,i,n){i.size=n,this.checkToRemoveImage(t),this.onReportChanged()}static getTableContent(t){let i={layout:"lightHorizontalLines",fontSize:t.size},n=t.columns.map(s=>({text:s.label||s.tag.label||s.tag.name,bold:!0,style:[{alignment:s.align}]})),a=t.columns.map(s=>s.tag.address||"...");return i.table={headerRows:1,widths:t.columns.map(s=>s.width),body:[n,a]},i}static getAlarmsContent(t){let i={layout:"lightHorizontalLines",fontSize:t.size},n=Object.values(t.propertyText).map(s=>({text:s,bold:!0,style:[{alignment:"left"}]})),a=Object.values(t.propertyText).map(s=>"...");return i.table={headerRows:1,widths:Object.values(t.propertyText).map(s=>"*"),body:[n,a]},i}checkToRemoveImage(t){if(this.report.content.items[t]&&this.report.content.items[t].type===this.itemChartType){const i=this.report.content.items[t];i.chart&&delete this.imagesList[i.chart.id]}}static getDateRange(t){if(t===ii.Aq.getEnumKey(Qp,Qp.day)){var i=new Date;return i.setDate(i.getDate()-1),{begin:new Date(i.getFullYear(),i.getMonth(),i.getDate()),end:new Date(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59)}}if(t===ii.Aq.getEnumKey(Qp,Qp.week)){var n=new Date,a=(n=new Date(n.setDate(n.getDate()-7-(n.getDay()+6)%7))).getDate()-n.getDay()+(0==n.getDay()?-6:1);return n=new Date(n.setDate(a)),{begin:new Date(n.getFullYear(),n.getMonth(),n.getDate()),end:new Date(n.getFullYear(),n.getMonth(),n.getDate()+6,23,59,59)}}if(t===ii.Aq.getEnumKey(Qp,Qp.month)){var s=new Date;return s.setMonth(s.getMonth()-1),s.setDate(-1),{begin:new Date(s.getFullYear(),s.getMonth(),1),end:new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59)}}return{begin:new Date,end:new Date}}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(Qo),e.rXU(po),e.rXU(kr.TR),e.rXU(Vi.c$),e.rXU(x_),e.rXU(px),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-report-editor"]],decls:17,vars:13,consts:[[3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",2,"display","inline-block","cursor","move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-content","","class","dialog-ld-content","style","position: relative",4,"ngIf"],[1,"valid-error"],["class","message-error",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content",""],["mat-dialog-content","",1,"dialog-ld-content",2,"position","relative"],[1,"left-panel"],[1,"my-form-field","report-row"],["formControlName","name","type","text",3,"placeholder"],[1,"my-form-field","report-row","mt10"],["formControlName","receiver","type","text"],["formControlName","scheduling",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"content-panel"],[2,"width","100%"],["grptabs",""],[3,"label",4,"ngIf"],[1,"rigth-panel"],["id","iframeContainer"],[3,"value"],[3,"label"],[2,"width","100%","display","block","height","30px"],["aria-label","More",1,"report-head-menu",3,"matMenuTriggerFor"],["menuitem2","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","report-item",4,"ngFor","ngForOf"],[1,"report-item"],["aria-label","More",1,"report-item-edit",3,"click"],[1,"report-item-type"],[4,"ngIf"],["aria-label","More",1,"report-item-menu",3,"matMenuTriggerFor"],["menuitem","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],[1,"menu-separator"],["menualign","matMenu"],[1,"menu-item-select"],[3,"ngClass"],["menufontsize","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"mt20",2,"display","block"],[1,"my-form-field"],[2,"width","100px",3,"value","valueChange","selectionChange"],["value","A3"],["value","A4"],["value","A5"],[1,"my-form-field","ml20"],[2,"width","160px",3,"value","valueChange","selectionChange"],["value","landscape"],["value","portrait"],[1,"block","mt15"],[1,"my-form-field","mr10"],["numberOnly","","formControlName","marginLeft","type","number","min","0",2,"width","75px",3,"change"],["numberOnly","","formControlName","marginTop","type","number","min","0",2,"width","75px",3,"change"],["numberOnly","","formControlName","marginRight","type","number","min","0",2,"width","75px",3,"change"],[1,"my-form-field","mr5"],["numberOnly","","formControlName","marginBottom","type","number","min","0",2,"width","75px",3,"change"],[1,"message-error"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.DNE(6,Pbe,3,4,"div",3),e.DNE(7,qbe,27,17,"div",4),e.j41(8,"div",5),e.DNE(9,e1e,4,3,"div",6),e.k0s(),e.j41(10,"div",7)(11,"button",8),e.bIt("click",function(){return n.onNoClick()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",9),e.bIt("click",function(){return n.onOkClick()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.myForm),e.R7$(2),e.JRh(e.bMT(3,7,"report.property-title")),e.R7$(4),e.Y8G("ngIf",n.data.editmode<0),e.R7$(1),e.Y8G("ngIf",n.data.editmode>=0),e.R7$(2),e.Y8G("ngIf",n.myForm.invalid),e.R7$(3),e.JRh(e.bMT(13,9,"dlg.cancel")),e.R7$(3),e.JRh(e.bMT(16,11,"dlg.ok")))},dependencies:[l.YU,l.Sq,l.bT,Fn,k,Zn,qe,Ke,qn,Pr,kt,Ur,zn,Or,eo,Rr,Kn,r0,Gc,rA,tc,yo,eu,Td,Wr,Hs,l.Jj,Vi.D9,ii.yN],styles:[".left-panel[_ngcontent-%COMP%]{float:left;width:380px}.report-row[_ngcontent-%COMP%]{width:inherit}.report-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .report-row[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:-webkit-fill-available}.content-toolbox[_ngcontent-%COMP%]{line-height:20px}.content-toolbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left}.content-toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}.content-panel[_ngcontent-%COMP%]{display:block;margin-top:15px;width:100%}.report-item[_ngcontent-%COMP%]{font-size:14px;line-height:24px;padding:7px 0 5px;border-bottom:1px solid var(--toolboxBorder)}.report-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;line-height:24px;margin-left:4px}.report-item-type[_ngcontent-%COMP%]{display:inline-block}.report-head-menu[_ngcontent-%COMP%]{float:right;padding-top:5px;padding-right:5px;cursor:pointer}.report-item-edit[_ngcontent-%COMP%]{cursor:pointer;margin-right:10px;vertical-align:middle}.report-item-menu[_ngcontent-%COMP%]{cursor:pointer;float:right;margin-right:3px;vertical-align:middle}.report-item-label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rigth-panel[_ngcontent-%COMP%]{position:absolute;inset:0 20px 10px 380px;margin-left:40px}.valid-error[_ngcontent-%COMP%]{float:left;margin-top:15px}  .content-panel .mat-tab-label{height:34px!important;min-width:120px!important;width:140px}.menu-item-select[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:unset!important}.menu-item-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:20px}.menu-item-select[_ngcontent-%COMP%]   .unselect[_ngcontent-%COMP%]{padding-left:25px}"]})}return r})();function i1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"th",25)(1,"button",26),e.bIt("click",function(n){e.eBV(t);const a=e.XpG();return n.stopPropagation(),e.Njj(a.onAddReport())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function n1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",27)(1,"button",26),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onEditReport(s))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function r1e(r,o){1&r&&(e.j41(0,"th",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"reports.list-name")," "))}function o1e(r,o){if(1&r&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function a1e(r,o){1&r&&(e.j41(0,"th",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"reports.list-receiver")," "))}function s1e(r,o){if(1&r&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.receiver," ")}}function l1e(r,o){1&r&&(e.j41(0,"th",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"reports.list-scheduling")," "))}function c1e(r,o){if(1&r&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getScheduling(t.scheduling)," ")}}function A1e(r,o){1&r&&(e.j41(0,"th",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"reports.list-type")," "))}function d1e(r,o){if(1&r&&(e.j41(0,"td",29),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.type," ")}}function u1e(r,o){1&r&&e.nrm(0,"th",30)}function h1e(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"expand_more"),e.k0s())}function p1e(r,o){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"expand_less"),e.k0s())}function f1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",29)(1,"button",26),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.toogleDetails(s))}),e.DNE(2,h1e,2,0,"mat-icon",31),e.DNE(3,p1e,2,0,"mat-icon",31),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG();e.R7$(2),e.Y8G("ngIf",t!==i.expandedElement),e.R7$(1),e.Y8G("ngIf",t===i.expandedElement)}}function g1e(r,o){1&r&&e.nrm(0,"th",30)}function m1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",29)(1,"button",32),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onStartReport(s))}),e.j41(2,"mat-icon"),e.EFF(3,"play_arrow"),e.k0s()()()}}function v1e(r,o){1&r&&e.nrm(0,"th",30)}function _1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"td",29)(1,"button",26),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveReport(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function y1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",37)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"button",32),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return n.stopPropagation(),e.Njj(d.onDownloadDetail(s))}),e.j41(4,"mat-icon"),e.EFF(5,"download"),e.k0s()(),e.j41(6,"button",32),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG().$implicit,m=e.XpG();return n.stopPropagation(),e.Njj(m.onRemoveFile(s,d))}),e.j41(7,"mat-icon"),e.EFF(8,"delete_forever"),e.k0s()()()}if(2&r){const t=o.$implicit;e.R7$(2),e.JRh(t)}}function b1e(r,o){if(1&r&&(e.j41(0,"td",33)(1,"div",34)(2,"div",35),e.DNE(3,y1e,9,1,"div",36),e.k0s()()()),2&r){const t=o.$implicit,i=e.XpG();e.BMQ("colspan",i.displayedColumns.length),e.R7$(1),e.Y8G("@detailExpand",t===i.expandedElement?"expanded":"collapsed"),e.R7$(2),e.Y8G("ngForOf",i.currentDetails)}}function w1e(r,o){1&r&&e.nrm(0,"tr",38)}function C1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"tr",39),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.toogleDetails(a))}),e.k0s()}}function E1e(r,o){1&r&&e.nrm(0,"tr",40)}const B1e=function(){return["detailColumns"]};let M1e=(()=>{class r{dialog;translateService;projectService;commandService;reportsService;displayedColumns=["select","name","receiver","scheduling","type","expand","create","remove"];dataSource=new Ln([]);subscriptionLoad;schedulingType=Mw;expandedElement;currentDetails;table;sort;constructor(t,i,n,a,s){this.dialog=t,this.translateService=i,this.projectService=n,this.commandService=a,this.reportsService=s}ngOnInit(){this.loadReports(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{this.loadReports()}),Object.keys(this.schedulingType).forEach(t=>{this.translateService.get(this.schedulingType[t]).subscribe(i=>{this.schedulingType[t]=i})})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}getScheduling(t){return this.schedulingType[t]||""}onAddReport(){this.editReport(new wce(ii.Aq.getGUID("r_")),1)}onEditReport(t){this.editReport(t,0)}onStartReport(t){this.reportsService.buildReport(t).pipe((0,Hg.H)(()=>(0,Co.O)(5e3))).subscribe(()=>{this.loadDetails(t)})}onRemoveReport(t){this.editReport(t,-1)}editReport(t,i){let n=i<0?"auto":"80%",a=JSON.parse(JSON.stringify(t));this.dialog.open(t1e,{data:{report:a,editmode:i},width:n,position:{top:"80px"}}).afterClosed().subscribe(d=>{d&&(i<0?this.projectService.removeReport(d).subscribe(m=>{this.loadReports()}):this.projectService.setReport(d,t).subscribe(()=>{this.loadReports()}))})}loadReports(){this.dataSource.data=this.projectService.getReports().sort((t,i)=>t.name<i.name?-1:t.name>i.name?1:0)}toogleDetails(t){this.expandedElement=this.expandedElement===t?null:t,this.loadDetails(this.expandedElement)}loadDetails(t){this.currentDetails=[],t&&this.reportsService.getReportsDir(t).subscribe(i=>{this.currentDetails=i},i=>{console.error("loadDetails err: "+i)})}onDownloadDetail(t){this.commandService.getReportFile(t).subscribe(i=>{let n=new Blob([i],{type:"application/pdf"});lD.saveAs(n,t)},i=>{console.error("Download Report File err:",i)})}onRemoveFile(t,i){this.dialog.open(th,{position:{top:"60px"},data:{msg:this.translateService.instant("msg.file-remove",{value:t})}}).afterClosed().subscribe(a=>{a&&this.reportsService.removeReportFile(t).pipe((0,Hg.H)(()=>(0,Co.O)(2e3))).subscribe(()=>{this.loadDetails(i)})})}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR),e.rXU(D4),e.rXU(B4))};static \u0275cmp=e.VBU({type:r,selectors:[["app-report-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:41,vars:8,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","receiver"],["matColumnDef","scheduling"],["matColumnDef","type"],["matColumnDef","expand"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","create"],["matColumnDef","remove"],["matColumnDef","detailColumns"],["mat-cell","","class","details-container",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-mat-row",3,"click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],["mat-header-cell","",3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-cell","",3,"ngClass"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","",3,"click"],["mat-cell","",1,"details-container"],[1,"report-details"],[1,"details-description"],["class","report-detail",4,"ngFor","ngForOf"],[1,"report-detail"],["mat-header-row",""],["mat-row","",1,"my-mat-row",3,"click"],["mat-row","",1,"detail-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"content_paste"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"table",3,4),e.qex(9,5),e.DNE(10,i1e,4,1,"th",6),e.DNE(11,n1e,4,1,"td",7),e.bVm(),e.qex(12,8),e.DNE(13,r1e,3,3,"th",9),e.DNE(14,o1e,2,1,"td",10),e.bVm(),e.qex(15,11),e.DNE(16,a1e,3,3,"th",9),e.DNE(17,s1e,2,1,"td",10),e.bVm(),e.qex(18,12),e.DNE(19,l1e,3,3,"th",9),e.DNE(20,c1e,2,1,"td",10),e.bVm(),e.qex(21,13),e.DNE(22,A1e,3,3,"th",9),e.DNE(23,d1e,2,1,"td",10),e.bVm(),e.qex(24,14),e.DNE(25,u1e,1,0,"th",15),e.DNE(26,f1e,4,2,"td",10),e.bVm(),e.qex(27,16),e.DNE(28,g1e,1,0,"th",15),e.DNE(29,m1e,4,0,"td",10),e.bVm(),e.qex(30,17),e.DNE(31,v1e,1,0,"th",15),e.DNE(32,_1e,4,0,"td",10),e.bVm(),e.qex(33,18),e.DNE(34,b1e,4,3,"td",19),e.bVm(),e.DNE(35,w1e,1,0,"tr",20),e.DNE(36,C1e,1,0,"tr",21),e.DNE(37,E1e,1,0,"tr",22),e.k0s()()(),e.j41(38,"button",23),e.bIt("click",function(){return n.onAddReport()}),e.j41(39,"mat-icon",24),e.EFF(40,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,5,"reports.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(28),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",e.lJ4(7,B1e)))},dependencies:[l.YU,l.Sq,l.bT,zn,Kn,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}.header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground)}.container[_ngcontent-%COMP%]{display:inline-table;width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;height:100%;width:100%}.mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}.mat-cell[_ngcontent-%COMP%]{font-size:13px}.mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.mat-header-cell[_ngcontent-%COMP%]{font-size:15px}.mat-column-select[_ngcontent-%COMP%]{overflow:visible;width:50px}.mat-column-name[_ngcontent-%COMP%]{flex:1 1 120px}.mat-column-type[_ngcontent-%COMP%]{flex:0 0 100px}.mat-column-receiver[_ngcontent-%COMP%], .mat-column-scheduling[_ngcontent-%COMP%]{flex:3 1 180px}.mat-column-enabled[_ngcontent-%COMP%]{flex:0 0 60px}.mat-column-create[_ngcontent-%COMP%], .mat-column-remove[_ngcontent-%COMP%], .mat-column-expand[_ngcontent-%COMP%]{width:50px}tr.detail-row[_ngcontent-%COMP%]{height:0}.report-details[_ngcontent-%COMP%]{overflow:hidden;display:flex}.details-description[_ngcontent-%COMP%]{min-height:100px;max-height:360px;margin:5px 10px;padding-left:40px;width:100%;overflow:auto}.report-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{min-width:600px;display:inline-block}td.details-container[_ngcontent-%COMP%]{background-color:var(--workPanelExpandBackground)}"],data:{animation:[(0,gi.hZ)("detailExpand",[(0,gi.wk)("collapsed",(0,gi.iF)({height:"0px",minHeight:"0"})),(0,gi.wk)("expanded",(0,gi.iF)({height:"*"})),(0,gi.kY)("expanded <=> collapsed",(0,gi.i0)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return r})(),x1e=(()=>{class r{dialogRef;fb;data;userService;formGroup;roles=[];destroy$=new An.B;constructor(t,i,n,a){this.dialogRef=t,this.fb=i,this.data=n,this.userService=a}ngOnInit(){this.userService.getRoles().pipe((0,jn.Q)(this.destroy$)).subscribe(t=>this.roles=t),this.formGroup=this.fb.group({id:this.data.id||ii.Aq.getShortGUID("r_"),name:[this.data.name,[j.required,this.isValidRoleName()]],index:[this.data?.index],description:[this.data?.description]}),this.formGroup.updateValueAndValidity()}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onCancelClick(){this.dialogRef.close()}onOkClick(){this.data.id=this.formGroup.controls.id.value,this.data.name=this.formGroup.controls.name.value,this.data.index=this.formGroup.controls.index.value,this.data.description=this.formGroup.controls.description.value||"",this.dialogRef.close(this.data)}isValidRoleName(){return t=>t.value&&this.isValid(t.value)?null:{UserNameNotValid:!0}}isValid(t){return!!t&&!this.roles.find(i=>i.name===t&&this.data?.name!==t)}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(Gr),e.rXU(Zg))};static \u0275cmp=e.VBU({type:r,selectors:[["app-users-role-edit"]],decls:29,vars:20,consts:[[3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"force-lbk","pointer-move"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field","block","mb10"],["formControlName","name","type","text",2,"width","250px"],["formControlName","index","type","number",2,"width","250px"],["formControlName","description","type","text",2,"width","250px"],["mat-dialog-actions","",1,"dialog-action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onCancelClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div",4)(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",6),e.k0s(),e.j41(17,"div",4)(18,"span"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.nrm(21,"input",7),e.k0s()(),e.j41(22,"div",8)(23,"button",9),e.bIt("click",function(){return n.onCancelClick()}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"button",10),e.bIt("click",function(){return n.onOkClick()}),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,8,"user-role-edit-title")),e.R7$(7),e.JRh(e.bMT(10,10,"user-role-edit-name")),e.R7$(5),e.JRh(e.bMT(15,12,"user-role-edit-index")),e.R7$(5),e.JRh(e.bMT(20,14,"user-role-edit-description")),e.R7$(5),e.JRh(e.bMT(25,16,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(28,18,"dlg.ok")))},dependencies:[Fn,k,Zn,qe,Ke,Pr,kt,zn,Or,eo,Rr,Kn,Wr,Vi.D9]})}return r})();function D1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",19)(1,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddRole())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function I1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",19)(1,"button",20),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditRole(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function k1e(r,o){1&r&&(e.j41(0,"mat-header-cell",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"roles.list-index")," "))}function T1e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.index," ")}}function F1e(r,o){1&r&&(e.j41(0,"mat-header-cell",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"roles.list-name")," "))}function S1e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function Q1e(r,o){1&r&&(e.j41(0,"mat-header-cell",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"roles.list-description")," "))}function R1e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.description," ")}}function P1e(r,o){1&r&&e.nrm(0,"mat-header-cell")}function O1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",20),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveRole(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function L1e(r,o){1&r&&e.nrm(0,"mat-header-row")}function Y1e(r,o){1&r&&e.nrm(0,"mat-row",22)}let N1e=(()=>{class r{dialog;translateService;userService;displayedColumns=["select","index","name","description","remove"];dataSource=new qP([]);roles;table;sort;constructor(t,i,n){this.dialog=t,this.translateService=i,this.userService=n}ngOnInit(){this.loadRoles()}ngAfterViewInit(){this.dataSource.sort=this.sort}onAddRole(){let t=new Uc.Xh;this.editRole(t)}onEditRole(t){this.editRole(t)}onRemoveRole(t){let i=this.translateService.instant("msg.role-remove",{value:t.name});this.dialog.open(th,{data:{msg:i},position:{top:"60px"}}).afterClosed().subscribe(a=>{a&&t&&this.userService.removeRole(t).subscribe(s=>{this.loadRoles()},s=>{console.error("remove Roles err: "+s)})})}loadRoles(){this.roles=[],this.userService.getRoles().subscribe(t=>{Object.values(t).forEach(i=>{this.roles.push(i)}),this.bindToTable(this.roles)},t=>{console.error("get Roles err: "+t)})}editRole(t){let i=JSON.parse(JSON.stringify(t));this.dialog.open(x1e,{position:{top:"60px"},data:i}).afterClosed().subscribe(a=>{a&&this.userService.setRole(a).subscribe(s=>{this.loadRoles()},s=>{console.error("set Roles err: "+s)})},a=>{})}bindToTable(t){this.dataSource.data=t}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(Zg))};static \u0275cmp=e.VBU({type:r,selectors:[["app-user-roles"]],viewQuery:function(i,n){if(1&i&&(e.GBs(d_,5),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:29,vars:6,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","index"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"groups"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"mat-table",3,4),e.qex(9,5),e.DNE(10,D1e,4,1,"mat-header-cell",6),e.DNE(11,I1e,4,1,"mat-cell",7),e.bVm(),e.qex(12,8),e.DNE(13,k1e,3,3,"mat-header-cell",9),e.DNE(14,T1e,2,1,"mat-cell",10),e.bVm(),e.qex(15,11),e.DNE(16,F1e,3,3,"mat-header-cell",9),e.DNE(17,S1e,2,1,"mat-cell",10),e.bVm(),e.qex(18,12),e.DNE(19,Q1e,3,3,"mat-header-cell",9),e.DNE(20,R1e,2,1,"mat-cell",10),e.bVm(),e.qex(21,13),e.DNE(22,P1e,1,0,"mat-header-cell",14),e.DNE(23,O1e,4,0,"mat-cell",10),e.bVm(),e.DNE(24,L1e,1,0,"mat-header-row",15),e.DNE(25,Y1e,1,0,"mat-row",16),e.k0s()()(),e.j41(26,"button",17),e.bIt("click",function(){return n.onAddRole()}),e.j41(27,"mat-icon",18),e.EFF(28,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"roles.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(17),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,zn,Kn,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:[".header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}.header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}.work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground)}.work-panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;position:absolute;inset:0}.work-panel[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow:auto}.work-panel[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{min-height:40px;height:43px}.work-panel[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px}.work-panel[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}.work-panel[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px}.work-panel[_ngcontent-%COMP%]   .mat-column-select[_ngcontent-%COMP%], .work-panel[_ngcontent-%COMP%]   .mat-column-index[_ngcontent-%COMP%]{overflow:visible;flex:0 0 100px}.work-panel[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{flex:0 0 200px}.work-panel[_ngcontent-%COMP%]   .mat-column-description[_ngcontent-%COMP%]{flex:2 1 250px}"]})}return r})();function j1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",19)(1,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddLocation())}),e.j41(2,"mat-icon"),e.EFF(3,"add"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function G1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",19)(1,"button",20),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditLocation(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function U1e(r,o){1&r&&(e.j41(0,"mat-header-cell",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.locations-list-name")," "))}function z1e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function H1e(r,o){1&r&&(e.j41(0,"mat-header-cell",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.locations-list-view")," "))}function V1e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(1),e.SpI(" ",i.getViewName(t.viewId)," ")}}function J1e(r,o){1&r&&(e.j41(0,"mat-header-cell",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"maps.locations-list-description")," "))}function W1e(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.description," ")}}function K1e(r,o){1&r&&e.nrm(0,"mat-header-cell")}function X1e(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",20),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveLocation(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function Z1e(r,o){1&r&&e.nrm(0,"mat-header-row")}function $1e(r,o){1&r&&e.nrm(0,"mat-row",22)}let q1e=(()=>{class r{dialog;translateService;projectService;displayedColumns=["select","name","view","description","remove"];dataSource=new Ln([]);locations;viewNameMap={};destroy$=new An.B;table;sort;constructor(t,i,n){this.dialog=t,this.translateService=i,this.projectService=n}ngOnInit(){this.loadLocations(),this.projectService.onLoadHmi.pipe((0,jn.Q)(this.destroy$)).subscribe(t=>{this.loadLocations()})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}onAddLocation(){this.editLocation()}onEditLocation(t){this.editLocation(t)}onRemoveLocation(t){let i=this.translateService.instant("msg.maps-location-remove",{value:t.name});this.dialog.open(th,{data:{msg:i},position:{top:"60px"}}).afterClosed().subscribe(a=>{a&&t&&this.projectService.removeMapsLocation(t).subscribe(s=>{this.loadLocations()},s=>{console.error("remove Locations err: "+s)})})}getViewName(t){return this.viewNameMap[t]}loadLocations(){this.viewNameMap=this.projectService.getViews().reduce((t,i)=>(t[i.id]=i.name,t),{}),this.dataSource.data=this.projectService.getMapsLocations()}editLocation(t){this.dialog.open(oj,{position:{top:"60px"},disableClose:!0,data:t}).afterClosed().subscribe(n=>{n&&this.projectService.setMapsLocation(n,t).subscribe(()=>{this.loadLocations()})})}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-maps-location-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,7),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:29,vars:6,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","view"],["matColumnDef","description"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"location_on"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"mat-table",3,4),e.qex(9,5),e.DNE(10,j1e,4,1,"mat-header-cell",6),e.DNE(11,G1e,4,1,"mat-cell",7),e.bVm(),e.qex(12,8),e.DNE(13,U1e,3,3,"mat-header-cell",9),e.DNE(14,z1e,2,1,"mat-cell",10),e.bVm(),e.qex(15,11),e.DNE(16,H1e,3,3,"mat-header-cell",9),e.DNE(17,V1e,2,1,"mat-cell",10),e.bVm(),e.qex(18,12),e.DNE(19,J1e,3,3,"mat-header-cell",9),e.DNE(20,W1e,2,1,"mat-cell",10),e.bVm(),e.qex(21,13),e.DNE(22,K1e,1,0,"mat-header-cell",14),e.DNE(23,X1e,4,0,"mat-cell",10),e.bVm(),e.DNE(24,Z1e,1,0,"mat-header-row",15),e.DNE(25,$1e,1,0,"mat-row",16),e.k0s()()(),e.j41(26,"button",17),e.bIt("click",function(){return n.onAddLocation()}),e.j41(27,"mat-icon",18),e.EFF(28,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"maps.locations-list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(17),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,zn,Kn,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:["[_nghost-%COMP%]   .header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}[_nghost-%COMP%]   .header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}[_nghost-%COMP%]   .work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground)}[_nghost-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 80px}[_nghost-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   .mat-column-view[_ngcontent-%COMP%]{flex:1 1 140px}[_nghost-%COMP%]   .mat-column-description[_ngcontent-%COMP%]{flex:1 1 140px}[_nghost-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px}"]})}return r})();function ewe(r,o){1&r&&(e.j41(0,"div",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"msg.text-name-exist")))}function twe(r,o){if(1&r&&(e.qex(0),e.j41(1,"span"),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG();e.R7$(2),e.Lme("",t.defaultLanguage.id," (",t.defaultLanguage.name,")")}}function iwe(r,o){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(1),e.JRh(e.bMT(2,1,"text.settings-value")))}function nwe(r,o){if(1&r&&(e.j41(0,"div",7)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"input",17),e.k0s()),2&r){const t=o.$implicit,i=e.XpG();let n;e.R7$(2),e.Lme("",t.id," (",t.name,")"),e.R7$(1),e.Y8G("formControlName","translation_"+t.id)("value",null==(n=i.formGroup.get("translation_"+t.id))?null:n.value)}}let rwe=(()=>{class r{dialogRef;fb;projectService;data;formGroup;languages=[];defaultLanguage;nameExists=!1;constructor(t,i,n,a){this.dialogRef=t,this.fb=i,this.projectService=n,this.data=a}ngOnInit(){let t={name:new Kt(this.data.text?.name||"",[j.required,j.pattern(/^[a-zA-Z0-9_]+$/)]),group:new Kt(this.data.text?.group||""),value:new Kt(this.data.text?.value||"")};this.languages=this.projectService.getLanguages().options||[],this.defaultLanguage=this.projectService.getLanguages().default,this.languages.forEach(i=>{t[`translation_${i.id}`]=new Kt(this.data.text?.translations?.[i.id]||"")}),this.formGroup=this.fb.group(t)}checkNameExists(){const t=this.formGroup?.get("name")?.value;return this.nameExists=!!this.projectService.getTexts()?.find(i=>i.name===t&&i.id!==this.data.text.id),this.nameExists?{nameTaken:!0}:null}clearNameError(){this.nameExists=!1}onNoClick(){this.dialogRef.close()}onOkClick(){if(this.formGroup.valid){const t={...this.data.text,name:this.formGroup.value.name,group:this.formGroup.value.group,value:this.formGroup.value.value,translations:this.languages.reduce((i,n)=>(i[n.id]=this.formGroup.value[`translation_${n.id}`],i),{})};this.dialogRef.close(t)}}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(kr.TR),e.rXU(Gr))};static \u0275cmp=e.VBU({type:r,selectors:[["app-language-text-property"]],decls:31,vars:21,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"dialog-close-btn",3,"click"],["mat-dialog-content",""],[1,"my-form-field"],["matInput","","formControlName","name","type","text","pattern","^[a-zA-Z0-9_]+$",3,"input"],["class","message-error",4,"ngIf"],[1,"my-form-field","mt5"],["matInput","","formControlName","group","type","text"],[4,"ngIf","ngIfElse"],["defaultText",""],["matInput","","formControlName","value","type","text"],["class","my-form-field mt5",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action","mt10"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"message-error"],["matInput","","type","text",3,"formControlName","value"]],template:function(i,n){if(1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"clear"),e.k0s(),e.j41(6,"div",3)(7,"div",4)(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",5),e.bIt("input",function(){return n.clearNameError()}),e.k0s(),e.DNE(12,ewe,3,3,"div",6),e.k0s(),e.j41(13,"div",7)(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",8),e.k0s(),e.j41(18,"div",7),e.DNE(19,twe,3,2,"ng-container",9),e.DNE(20,iwe,3,3,"ng-template",null,10,e.C5r),e.nrm(22,"input",11),e.k0s(),e.DNE(23,nwe,4,4,"div",12),e.k0s(),e.j41(24,"div",13)(25,"button",14),e.bIt("click",function(){return n.onNoClick()}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"button",15),e.bIt("click",function(){return n.onOkClick()}),e.EFF(29),e.nI1(30,"translate"),e.k0s()()()),2&i){const a=e.sdS(21);e.Y8G("formGroup",n.formGroup),e.R7$(2),e.JRh(e.bMT(3,11,"text.settings-title")),e.R7$(7),e.JRh(e.bMT(10,13,"text.settings-id")),e.R7$(3),e.Y8G("ngIf",n.nameExists),e.R7$(3),e.JRh(e.bMT(16,15,"text.settings-group")),e.R7$(4),e.Y8G("ngIf",n.defaultLanguage)("ngIfElse",a),e.R7$(4),e.Y8G("ngForOf",n.languages),e.R7$(3),e.JRh(e.bMT(27,17,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.formGroup.invalid),e.R7$(1),e.JRh(e.bMT(30,19,"dlg.ok"))}},dependencies:[l.Sq,l.bT,Fn,k,qe,Ke,el,Pr,kt,zn,Or,eo,Rr,Kn,qd,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:400px;min-height:220px;max-height:400px;overflow:auto;padding-bottom:7px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .my-form-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 5px)}"]})}return r})();function owe(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",16)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"input",17),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",18)(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",19),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",20),e.bIt("click",function(){const a=e.eBV(t).index,s=e.XpG();return e.Njj(s.onRemoveLanguage(a))}),e.j41(15,"mat-icon"),e.EFF(16,"clear"),e.k0s()()()()}if(2&r){const t=o.index;e.R7$(1),e.Y8G("formGroupName",t),e.R7$(3),e.SpI("*",e.bMT(5,5,"language.settings-id"),""),e.R7$(2),e.FS9("placeholder",e.bMT(7,7,"language.settings-id-placeholder")),e.R7$(4),e.SpI("*",e.bMT(11,9,"language.settings-name"),""),e.R7$(2),e.FS9("placeholder",e.bMT(13,11,"language.settings-name-placeholder"))}}let awe=(()=>{class r{dialogRef;fb;projectService;languagesForm;constructor(t,i,n){this.dialogRef=t,this.fb=i,this.projectService=n}ngOnInit(){const t=this.projectService.getLanguages();this.languagesForm=this.fb.group({languages:this.fb.array([],this.uniqueLanguageIdValidator),defaultId:[t.default?.id||"EN",[j.required,j.pattern("^[A-Za-z]{2}$")]],defaultName:[t.default?.name||"English",j.required]}),this.setLanguages(t.options)}get languages(){return this.languagesForm?.get("languages")||new Ps([])}setLanguages(t){const i=this.languagesForm.get("languages");t.forEach(n=>{i.push(this.createLanguageForm(n))})}createLanguageForm(t){return this.fb.group({id:[t?.id||"",[j.required,j.pattern("^[A-Za-z]{2}$")]],name:[t?.name||"",j.required]})}uniqueLanguageIdValidator(t){const n=t.controls.map(s=>s.get("id")?.value?.toLowerCase());return n.some((s,d)=>s&&n.indexOf(s)!==d)?{duplicateId:!0}:null}onAddLanguage(){this.languages.push(this.createLanguageForm())}onRemoveLanguage(t){this.languages.removeAt(t)}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close({options:this.languagesForm.getRawValue().languages,default:{id:this.languagesForm.get("defaultId").value,name:this.languagesForm.get("defaultName").value}})}static \u0275fac=function(i){return new(i||r)(e.rXU(yr),e.rXU(po),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-language-type-property"]],decls:31,vars:27,consts:[[1,"container",3,"formGroup"],["mat-dialog-title","","mat-dialog-draggable","",1,"dialog-title"],[1,"toolbox"],["mat-icon-button","",3,"matTooltip","click"],["mat-dialog-content",""],[1,"block","mb5"],[1,"my-form-field","mt5","inbk"],["matInput","","formControlName","defaultId","maxlength","2","type","text",2,"width","80px",3,"placeholder"],[1,"my-form-field","mt5","ml10","inbk"],["matInput","","formControlName","defaultName","type","text",2,"width","200px",3,"placeholder"],["formArrayName","languages",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-action","mt10"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["formArrayName","languages"],[1,"language-item",3,"formGroupName"],[1,"my-form-field","inbk"],["matInput","","formControlName","id","maxlength","2","type","text",2,"width","80px",3,"placeholder"],[1,"my-form-field","ml10","inbk"],["matInput","","formControlName","name","type","text",2,"width","200px",3,"placeholder"],["mat-icon-button","",1,"remove","inbk",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"form",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"button",3),e.bIt("click",function(){return n.onAddLanguage()}),e.nI1(6,"translate"),e.j41(7,"mat-icon"),e.EFF(8,"add_circle_outline"),e.k0s()()(),e.j41(9,"div",4)(10,"div",5)(11,"div",6)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.nrm(15,"input",7),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",8)(18,"span"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.nrm(21,"input",9),e.nI1(22,"translate"),e.k0s()(),e.DNE(23,owe,17,13,"div",10),e.k0s(),e.j41(24,"div",11)(25,"button",12),e.bIt("click",function(){return n.onNoClick()}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"button",13),e.bIt("click",function(){return n.onOkClick()}),e.EFF(29),e.nI1(30,"translate"),e.k0s()()()),2&i&&(e.Y8G("formGroup",n.languagesForm),e.R7$(2),e.JRh(e.bMT(3,11,"language.settings-title")),e.R7$(3),e.FS9("matTooltip",e.bMT(6,13,"language.settings-add-tooltip")),e.R7$(8),e.SpI("*",e.bMT(14,15,"language.settings-default-id"),""),e.R7$(2),e.FS9("placeholder",e.bMT(16,17,"language.settings-id-placeholder")),e.R7$(4),e.SpI("*",e.bMT(20,19,"language.settings-default-name"),""),e.R7$(2),e.FS9("placeholder",e.bMT(22,21,"language.settings-name-placeholder")),e.R7$(2),e.Y8G("ngForOf",n.languages.controls),e.R7$(3),e.JRh(e.bMT(27,23,"dlg.cancel")),e.R7$(2),e.Y8G("disabled",n.languagesForm.invalid),e.R7$(1),e.JRh(e.bMT(30,25,"dlg.ok")))},dependencies:[l.Sq,Fn,k,qe,Ke,$a,Pr,kt,va,kn,zn,Or,eo,Rr,Kn,qd,Is,Wr,Vi.D9],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .toolbox[_ngcontent-%COMP%]{float:right;line-height:44px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .toolbox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:380px;min-height:220px;max-height:400px;overflow:auto;padding-bottom:7px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .language-item[_ngcontent-%COMP%]{gap:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{margin-left:20px}"]})}return r})();function swe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-header-cell",21)(1,"button",22)(2,"mat-icon"),e.EFF(3,"add"),e.k0s()(),e.j41(4,"mat-menu",23,24)(6,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddText())}),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onEditLanguage())}),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()}if(2&r){const t=e.sdS(5);e.Y8G("ngClass","selectidthClass"),e.R7$(1),e.Y8G("matMenuTriggerFor",t),e.R7$(3),e.Y8G("overlapTrigger",!1),e.R7$(3),e.JRh(e.bMT(8,5,"texts.list-add-text")),e.R7$(3),e.JRh(e.bMT(11,7,"texts.list-edit-language"))}}function lwe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell",21)(1,"button",26),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEditText(a))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()()}2&r&&e.Y8G("ngClass","selectidthClass")}function cwe(r,o){1&r&&(e.j41(0,"mat-header-cell",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.xc7("min-width",200,"px"),e.R7$(1),e.SpI(" ",e.bMT(2,3,"texts.list-id")," "))}function Awe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("min-width",200,"px"),e.R7$(1),e.SpI(" ",t.name," ")}}function dwe(r,o){1&r&&(e.j41(0,"mat-header-cell",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.xc7("min-width",200,"px"),e.R7$(1),e.SpI(" ",e.bMT(2,3,"texts.list-group")," "))}function uwe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("min-width",200,"px"),e.R7$(1),e.SpI(" ",t.group," ")}}function hwe(r,o){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const t=e.XpG(2);e.R7$(1),e.Lme("",t.defaultLanguage.id," (",t.defaultLanguage.name,")")}}function pwe(r,o){1&r&&(e.EFF(0),e.nI1(1,"translate")),2&r&&e.JRh(e.bMT(1,1,"texts.list-value"))}function fwe(r,o){if(1&r&&(e.j41(0,"mat-header-cell",27),e.DNE(1,hwe,2,2,"ng-container",28),e.DNE(2,pwe,2,3,"ng-template",null,29,e.C5r),e.k0s()),2&r){const t=e.sdS(3),i=e.XpG();e.xc7("min-width",200,"px"),e.R7$(1),e.Y8G("ngIf",i.defaultLanguage)("ngIfElse",t)}}function gwe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.xc7("min-width",200,"px"),e.R7$(1),e.SpI(" ",t.value," ")}}function mwe(r,o){if(1&r&&(e.j41(0,"mat-header-cell",27),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.ZvI("mat-column-lang-",t.id,""),e.xc7("min-width",200,"px"),e.R7$(1),e.Lme(" ",t.id," (",t.name,") ")}}function vwe(r,o){if(1&r&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&r){const t=o.$implicit,i=e.XpG().$implicit;e.ZvI("mat-column-lang-",i.id,""),e.xc7("min-width",200,"px"),e.R7$(1),e.SpI(" ",t.translations[i.id]||"-"," ")}}function _we(r,o){1&r&&(e.qex(0,30),e.DNE(1,mwe,2,7,"mat-header-cell",31),e.DNE(2,vwe,2,6,"mat-cell",32),e.bVm()),2&r&&e.Y8G("matColumnDef","lang-"+o.$implicit.id)}function ywe(r,o){1&r&&e.nrm(0,"mat-header-cell")}function bwe(r,o){if(1&r){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",26),e.bIt("click",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return n.stopPropagation(),e.Njj(d.onRemoveText(s))}),e.j41(2,"mat-icon"),e.EFF(3,"clear"),e.k0s()()()}}function wwe(r,o){1&r&&e.nrm(0,"mat-header-row")}function Cwe(r,o){1&r&&e.nrm(0,"mat-row",33)}let Ewe=(()=>{class r{dialog;translateService;projectService;displayedColumns=["select","id","group","value","remove"];languages=[];defaultLanguage;dataSource=new Ln([]);selection=new Xd(!0,[]);subscriptionLoad;table;sort;constructor(t,i,n){this.dialog=t,this.translateService=i,this.projectService=n}ngOnInit(){this.loadTexts(),this.subscriptionLoad=this.projectService.onLoadHmi.subscribe(t=>{this.loadTexts()})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){try{this.subscriptionLoad&&this.subscriptionLoad.unsubscribe()}catch{}}onAddText(){this.editText()}onEditText(t){this.editText(t)}onRemoveText(t){this.dialog.open(th,{position:{top:"60px"},data:{msg:this.translateService.instant("msg.texts-text-remove",{value:t.name})}}).afterClosed().subscribe(n=>{n&&(this.projectService.removeText(t),this.loadTexts())})}editText(t){this.dialog.open(rwe,{position:{top:"60px"},disableClose:!0,data:{text:t}}).afterClosed().subscribe(n=>{n&&(this.projectService.setText(n),this.loadTexts())})}onEditLanguage(){this.dialog.open(awe,{position:{top:"60px"},disableClose:!0}).afterClosed().subscribe(i=>{i&&(this.projectService.setLanguages(i),this.loadTexts())})}loadTexts(){const t=this.projectService.getLanguages().options;this.defaultLanguage=this.projectService.getLanguages().default,this.languages=Array.isArray(t)?t:Object.values(t);const i=this.displayedColumns.indexOf("value"),n=this.displayedColumns.indexOf("remove");this.displayedColumns=[...this.displayedColumns.slice(0,i+1),...this.languages.map(s=>`lang-${s.id}`),...this.displayedColumns.slice(n)];const a=this.projectService.getTexts();a.forEach(s=>{s.translations||(s.translations={}),this.languages.forEach(d=>{d.id in s.translations||(s.translations[d.id]="")})}),this.dataSource.data=a}static \u0275fac=function(i){return new(i||r)(e.rXU(Qo),e.rXU(Vi.c$),e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["app-language-text-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(ks,5),e.GBs(cs,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.table=a.first),e.mGM(a=e.lsd())&&(n.sort=a.first)}},decls:30,vars:7,consts:[[1,"header-panel"],[1,"work-panel"],[1,"container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",3,"min-width",4,"matHeaderCellDef"],[3,"min-width",4,"matCellDef"],["matColumnDef","group"],["matColumnDef","value"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","remove"],[4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","my-mat-row",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"fab-add",3,"click"],[1,""],[3,"ngClass"],["mat-icon-button","",1,"remove",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["addMenu",""],["mat-menu-item","",3,"click"],["mat-icon-button","",1,"remove",3,"click"],["mat-sort-header",""],[4,"ngIf","ngIfElse"],["defaultText",""],[3,"matColumnDef"],["mat-sort-header","",3,"class","min-width",4,"matHeaderCellDef"],[3,"class","min-width",4,"matCellDef"],[1,"my-mat-row"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2,"language"),e.k0s(),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"mat-table",3,4),e.qex(9,5),e.DNE(10,swe,12,9,"mat-header-cell",6),e.DNE(11,lwe,4,1,"mat-cell",7),e.bVm(),e.qex(12,8),e.DNE(13,cwe,3,5,"mat-header-cell",9),e.DNE(14,Awe,2,3,"mat-cell",10),e.bVm(),e.qex(15,11),e.DNE(16,dwe,3,5,"mat-header-cell",9),e.DNE(17,uwe,2,3,"mat-cell",10),e.bVm(),e.qex(18,12),e.DNE(19,fwe,4,4,"mat-header-cell",9),e.DNE(20,gwe,2,3,"mat-cell",10),e.bVm(),e.DNE(21,_we,3,1,"ng-container",13),e.qex(22,14),e.DNE(23,ywe,1,0,"mat-header-cell",15),e.DNE(24,bwe,4,0,"mat-cell",16),e.bVm(),e.DNE(25,wwe,1,0,"mat-header-row",17),e.DNE(26,Cwe,1,0,"mat-row",18),e.k0s()()(),e.j41(27,"button",19),e.bIt("click",function(){return n.onAddText()}),e.j41(28,"mat-icon",20),e.EFF(29,"add"),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,5,"texts.list-title"),"\n"),e.R7$(4),e.Y8G("dataSource",n.dataSource),e.R7$(14),e.Y8G("ngForOf",n.languages),e.R7$(4),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns))},dependencies:[l.YU,l.Sq,l.bT,zn,Kn,Gc,rA,tc,cs,KA,ks,EA,te,u,oA,ye,v,P,Ne,zt,Vi.D9],styles:["[_nghost-%COMP%]   .header-panel[_ngcontent-%COMP%]{background-color:var(--headerBackground);color:var(--headerColor);position:absolute;top:0;left:0;height:36px;width:100%;text-align:center;line-height:36px;border-bottom:1px solid var(--headerBorder)}[_nghost-%COMP%]   .header-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top}[_nghost-%COMP%]   .work-panel[_ngcontent-%COMP%]{position:absolute;inset:37px 0 0;background-color:var(--workPanelBackground)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;height:100%;table-layout:fixed;overflow:auto}[_nghost-%COMP%]   .mat-column-select[_ngcontent-%COMP%]{overflow:visible;flex:0 0 80px}[_nghost-%COMP%]   .mat-column-id[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   .mat-column-group[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   .mat-column-value[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-1[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-1[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-2[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-2[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-3[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-3[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-4[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-4[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-5[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-5[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-6[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-6[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-7[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-7[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-8[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-8[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-9[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-9[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-10[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-10[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-11[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-11[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-12[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-12[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-13[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-13[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-14[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-14[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-15[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-15[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-16[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-16[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-17[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-17[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-18[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-18[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-19[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-19[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   mat-header-cell.mat-column-lang-20[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-cell.mat-column-lang-20[_ngcontent-%COMP%]{flex:1 1 200px}[_nghost-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{flex:1 1 60px;padding-right:0!important}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:13px;overflow:visible}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{top:0;position:sticky;z-index:1}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px;overflow:visible}"]})}return r})();const Mwe=b9.forRoot([{path:"",component:R4},{path:"home",component:R4},{path:"home/:viewName",component:R4},{path:"editor",component:tge,canActivate:[ZA]},{path:"lab",component:yve,canActivate:[ZA]},{path:"device",component:fj,canActivate:[ZA]},{path:It.Y6,component:fj,canActivate:[ZA]},{path:"users",component:Pve,canActivate:[ZA]},{path:"userRoles",component:N1e,canActivate:[ZA]},{path:"alarms",component:T4,canActivate:[ZA]},{path:"messages",component:J_e,canActivate:[ZA]},{path:"notifications",component:_ye,canActivate:[ZA]},{path:"scripts",component:hbe,canActivate:[ZA]},{path:"reports",component:M1e,canActivate:[ZA]},{path:"language",component:Ewe,canActivate:[ZA]},{path:"logs",component:gj,canActivate:[ZA]},{path:"events",component:gj,canActivate:[ZA]},{path:"view",component:Yve},{path:"mapsLocations",component:q1e,canActivate:[ZA]},{path:"**",redirectTo:""}],{});class xwe{items={};count=0;ContainsKey(o){return this.items.hasOwnProperty(o)}Count(){return this.count}Add(o,t){this.items.hasOwnProperty(o)||this.count++,this.items[o]=t}Remove(o){var t=this.items[o];return delete this.items[o],this.count--,t}Item(o){return this.items[o]}Keys(){var o=[];for(var t in this.items)this.items.hasOwnProperty(t)&&o.push(t);return o}Values(){var o=[];for(var t in this.items)this.items.hasOwnProperty(t)&&o.push(this.items[t]);return o}}let Dwe=(()=>{class r{_cache=new Map;set(t,i){this._cache.set(t,i)}get(t){return this._cache.get(t)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),Iwe=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[l.MD,fg,Zm,kh,fg,kh]})}return r})(),Fwe=(()=>{class r{injector;constructor(t){this.injector=t}intercept(t,i){if(t.headers.has("Skip-Auth")){const a=t.headers.delete("Skip-Auth"),s=t.clone({headers:a});return i.handle(s)}const n=this.injector.get(zg.u);if(n.getUserToken){const a=n.getUserToken();if(null!=a){const s=n.getUser();s&&(t=t.clone({headers:t.headers.set("x-auth-user",JSON.stringify({user:s.username,groups:s.groups}))})),t=t.clone({headers:t.headers.set("x-access-token",a)})}}return i.handle(t).pipe(jr(a=>{},a=>{a instanceof ka.yz&&(401===a.status||403===a.status)&&(n.signOut(),this.injector.get(kr.TR).reload())}))}static \u0275fac=function(i){return new(i||r)(e.KVO(e.zZn))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();const Swe=[{provide:ka.a7,useClass:Fwe,multi:!0}];let yj=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[l.MD,Cd,wd]})}return r})(),Qwe=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[l.MD,yj,c0,Zm,yj]})}return r})();function bj(r,o){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);o&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function xc(r){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?bj(Object(t),!0).forEach(function(i){Gn(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bj(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Rd(r){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function Ao(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function wj(r,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Cj(i.key),i)}}function uo(r,o,t){return o&&wj(r.prototype,o),t&&wj(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Gn(r,o,t){return(o=Cj(o))in r?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t,r}function Vo(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&N4(r,o)}function Xo(r){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(r)}function N4(r,o){return(N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i})(r,o)}function vn(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function j4(r,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return vn(r)}function Jo(r){var o=function Rwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Xo(r);if(o){var a=Xo(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return j4(this,n)}}function aa(){return aa=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,t,i){var n=function Pwe(r,o){for(;!Object.prototype.hasOwnProperty.call(r,o)&&null!==(r=Xo(r)););return r}(o,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?o:i):a.value}},aa.apply(this,arguments)}function Hh(r){return function Owe(r){if(Array.isArray(r))return G4(r)}(r)||function Lwe(r){if(typeof Symbol<"u"&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function Ywe(r,o){if(r){if("string"==typeof r)return G4(r,o);var t=Object.prototype.toString.call(r).slice(8,-1);if("Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G4(r,o)}}(r)||function Nwe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G4(r,o){(null==o||o>r.length)&&(o=r.length);for(var t=0,i=new Array(o);t<o;t++)i[t]=r[t];return i}function Cj(r){var o=function jwe(r,o){if("object"!=typeof r||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var i=t.call(r,o||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(r)}(r,"string");return"symbol"==typeof o?o:String(o)}var Ej=ie(6371),Bj=ie.n(Ej),Gwe=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,U4={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},z4="%c[xgplayer]",ss={config:{debug:Gwe?3:0},logInfo:function(o){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this.config.debug>=3&&(t=console).log.apply(t,[z4,U4.info,o].concat(n))},logWarn:function(o){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this.config.debug>=1&&(t=console).warn.apply(t,[z4,U4.warn,o].concat(n))},logError:function(o){var t;if(!(this.config.debug<1)){for(var i=this.config.debug>=2?"trace":"error",n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];(t=console)[i].apply(t,[z4,U4.error,o].concat(a))}}},zwe=function(){function r(o){Ao(this,r),this.bufferedList=o}return uo(r,[{key:"start",value:function(t){return this.bufferedList[t].start}},{key:"end",value:function(t){return this.bufferedList[t].end}},{key:"length",get:function(){return this.bufferedList.length}}]),r}(),Xt={};function Mj(r){var o=Rd(r);return null!==r&&("object"===o||"function"===o)}function Wwe(){var r=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return"zh-cn"===r&&(r="zh"),r}Xt.createDom=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=document.createElement(r);return n.className=i,n.innerHTML=o,Object.keys(t).forEach(function(a){var s=a,d=t[a];"video"===r||"audio"===r||"live-video"===r?d&&n.setAttribute(s,d):n.setAttribute(s,d)}),n},Xt.createDomFromHtml=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var i=document.createElement("div");i.innerHTML=r;var n=i.children;return i=null,n.length>0?(n=n[0],t&&Xt.addClass(n,t),o&&Object.keys(o).forEach(function(a){n.setAttribute(a,o[a])}),n):null}catch(a){return ss.logError("util.createDomFromHtml",a),null}},Xt.hasClass=function(r,o){if(!r||!o)return!1;try{return Array.prototype.some.call(r.classList,function(i){return i===o})}catch{var t=r.className&&"object"===Rd(r.className)?r.getAttribute("class"):r.className;return t&&!!t.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))}},Xt.addClass=function(r,o){if(r&&o)try{o.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(t){t&&r.classList.add(t)})}catch{Xt.hasClass(r,o)||(r.className&&"object"===Rd(r.className)?r.setAttribute("class",r.getAttribute("class")+" "+o):r.className+=" "+o)}},Xt.removeClass=function(r,o){if(r&&o)try{o.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(t){t&&r.classList.remove(t)})}catch{Xt.hasClass(r,o)&&o.split(/\s+/g).forEach(function(i){var n=new RegExp("(\\s|^)"+i+"(\\s|$)");r.className&&"object"===Rd(r.className)?r.setAttribute("class",r.getAttribute("class").replace(n," ")):r.className=r.className.replace(n," ")})}},Xt.toggleClass=function(r,o){r&&o.split(/\s+/g).forEach(function(t){Xt.hasClass(r,t)?Xt.removeClass(r,t):Xt.addClass(r,t)})},Xt.classNames=function(){for(var r=arguments,o=[],t=function(a){"String"===Xt.typeOf(r[a])?o.push(r[a]):"Object"===Xt.typeOf(r[a])&&Object.keys(r[a]).map(function(s){r[a][s]&&o.push(s)})},i=0;i<arguments.length;i++)t(i);return o.join(" ")},Xt.findDom=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,o=arguments.length>1?arguments[1]:void 0;try{t=r.querySelector(o)}catch(i){ss.logError("util.findDom",i),0===o.indexOf("#")&&(t=r.getElementById(o.slice(1)))}return t},Xt.getCss=function(r,o){return r.currentStyle?r.currentStyle[o]:document.defaultView.getComputedStyle(r,!1)[o]},Xt.padStart=function(r,o,t){for(var i=String(t),n=o>>0,a=Math.ceil(n/i.length),s=[],d=String(r);a--;)s.push(i);return s.join("").substring(0,n-d.length)+d},Xt.format=function(r){if(window.isNaN(r))return"";r=Math.round(r);var o=Xt.padStart(Math.floor(r/3600),2,0),t=Xt.padStart(Math.floor((r-3600*o)/60),2,0),i=Xt.padStart(Math.floor(r-3600*o-60*t),2,0);return("00"===o?[t,i]:[o,t,i]).join(":")},Xt.event=function(r){if(r.touches){var o=r.touches[0]||r.changedTouches[0];r.clientX=o.clientX||0,r.clientY=o.clientY||0,r.offsetX=o.pageX-o.target.offsetLeft,r.offsetY=o.pageY-o.target.offsetTop}r._target=r.target||r.srcElement},Xt.typeOf=function(r){return Object.prototype.toString.call(r).match(/([^\s.*]+)(?=]$)/g)[0]},Xt.deepCopy=function(r,o){if("Object"===Xt.typeOf(o)&&"Object"===Xt.typeOf(r))return Object.keys(o).forEach(function(t){"Object"!==Xt.typeOf(o[t])||o[t]instanceof Node?r[t]="Array"===Xt.typeOf(o[t])&&"Array"===Xt.typeOf(r[t])?r[t].concat(o[t]):o[t]:void 0===r[t]||void 0===r[t]?r[t]=o[t]:Xt.deepCopy(r[t],o[t])}),r},Xt.deepMerge=function(r,o){return Object.keys(o).map(function(t){var i;"Array"===Xt.typeOf(o[t])&&"Array"===Xt.typeOf(r[t])?"Array"===Xt.typeOf(r[t])&&(i=r[t]).push.apply(i,Hh(o[t])):Xt.typeOf(r[t])!==Xt.typeOf(o[t])||null===r[t]||"Object"!==Xt.typeOf(r[t])||o[t]instanceof window.Node?null!==o[t]&&(r[t]=o[t]):Xt.deepMerge(r[t],o[t])}),r},Xt.getBgImage=function(r){var o=(r.currentStyle||window.getComputedStyle(r,null)).backgroundImage;if(!o||"none"===o)return"";var t=document.createElement("a");return t.href=o.replace(/url\("|"\)/g,""),t.href},Xt.copyDom=function(r){if(r&&1===r.nodeType){var o=document.createElement(r.tagName);return Array.prototype.forEach.call(r.attributes,function(t){o.setAttribute(t.name,t.value)}),r.innerHTML&&(o.innerHTML=r.innerHTML),o}return""},Xt.setInterval=function(r,o,t,i){r._interval[o]||(r._interval[o]=window.setInterval(t.bind(r),i))},Xt.clearInterval=function(r,o){clearInterval(r._interval[o]),r._interval[o]=null},Xt.setTimeout=function(r,o,t){r._timers||(r._timers=[]);var i=setTimeout(function(){o(),Xt.clearTimeout(r,i)},t);return r._timers.push(i),i},Xt.clearTimeout=function(r,o){var t=r._timers;if("Array"===Xt.typeOf(t)){for(var i=0;i<t.length;i++)if(t[i]===o){t.splice(i,1),clearTimeout(o);break}}else clearTimeout(o)},Xt.clearAllTimers=function(r){var o=r._timers;"Array"===Xt.typeOf(o)&&(o.map(function(t){clearTimeout(t)}),r._timerIds=[])},Xt.createImgBtn=function(r,o,t,i){var a,s,d,n=Xt.createDom("xg-".concat(r),"",{},"xgplayer-".concat(r,"-img"));return n.style.backgroundImage='url("'.concat(o,'")'),t&&i&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(m){return!(t.indexOf(m)>-1&&i.indexOf(m)>-1&&(a=parseFloat(t.slice(0,t.indexOf(m)).trim()),s=parseFloat(i.slice(0,i.indexOf(m)).trim()),d=m,1))}),n.style.width="".concat(a).concat(d),n.style.height="".concat(s).concat(d),n.style.backgroundSize="".concat(a).concat(d," ").concat(s).concat(d),n.style.margin="start"===r?"-".concat(s/2).concat(d," auto auto -").concat(a/2).concat(d):"auto 5px auto 5px"),n},Xt.Hex2RGBA=function(r,o){var t=[];if(/^\#[0-9A-F]{3}$/i.test(r)){var i="#";r.replace(/[0-9A-F]/gi,function(n){i+=n+n}),r=i}return/^#[0-9A-F]{6}$/i.test(r)?(r.replace(/[0-9A-F]{2}/gi,function(n){t.push(parseInt(n,16))}),"rgba(".concat(t.join(","),", ").concat(o,")")):"rgba(255, 255, 255, 0.1)"},Xt.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},Xt.checkIsFunction=function(r){return r&&"function"==typeof r},Xt.checkIsObject=function(r){return null!==r&&"object"===Rd(r)},Xt.hide=function(r){r.style.display="none"},Xt.show=function(r,o){r.style.display=o||"block"},Xt.isUndefined=function(r){if(typeof r>"u"||null===r)return!0},Xt.isNotNull=function(r){return null!=r},Xt.setStyleFromCsstext=function(r,o){o&&("String"===Xt.typeOf(o)?o.replace(/\s+/g,"").split(";").map(function(i){if(i){var n=i.split(":");n.length>1&&(r.style[n[0]]=n[1])}}):Object.keys(o).map(function(i){r.style[i]=o[i]}))},Xt.filterStyleFromText=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],t=r.style.cssText;if(!t)return{};var i=t.replace(/\s+/g,"").split(";"),n={},a={};return i.map(function(s){if(s){var d=s.split(":");d.length>1&&(function Hwe(r,o){for(var t=0,i=o.length;t<i;t++)if(r.indexOf(o[t])>-1)return!0;return!1}(d[0],o)?n[d[0]]=d[1]:a[d[0]]=d[1])}}),r.setAttribute("style",""),Object.keys(a).map(function(s){r.style[s]=a[s]}),n},Xt.getStyleFromCsstext=function(r){var o=r.style.cssText;if(!o)return{};var t=o.replace(/\s+/g,"").split(";"),i={};return t.map(function(n){if(n){var a=n.split(":");a.length>1&&(i[a[0]]=a[1])}}),i},Xt.preloadImg=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(r){var i=new window.Image;i.onload=function(n){i=null,o&&o(n)},i.onerror=function(n){i=null,t&&t(n)},i.src=r}},Xt.stopPropagation=function(r){r&&r.stopPropagation()},Xt.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},Xt.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},Xt.checkTouchSupport=function(){return"ontouchstart"in window},Xt.getBuffered2=function(r){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,t=[],i=0;i<r.length;i++)t.push({start:r.start(i)<.5?0:r.start(i),end:r.end(i)});t.sort(function(m,I){return m.start-I.start||I.end-m.end});var n=[];if(o)for(var a=0;a<t.length;a++){var s=n.length;if(s){var d=n[s-1].end;t[a].start-d<o?t[a].end>d&&(n[s-1].end=t[a].end):n.push(t[a])}else n.push(t[a])}else n=t;return new zwe(n)},Xt.getEventPos=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.touches&&r.touches.length>0&&(r=r.touches[0]),{x:r.x/o,y:r.y/o,clientX:r.clientX/o,clientY:r.clientY/o,offsetX:r.offsetX/o,offsetY:r.offsetY/o,pageX:r.pageX/o,pageY:r.pageY/o}},Xt.requestAnimationFrame=function(r){var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(o)return o(r)},Xt.getHostFromUrl=function(r){if("String"!==Xt.typeOf(r))return"";var o=r.split("/"),t="";return o.length>3&&o[2]&&(t=o[2]),t},Xt.cancelAnimationFrame=function(r){var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;o&&o(r)},Xt.isMSE=function(r){return!!(r&&r instanceof HTMLMediaElement)&&(/^blob/.test(r.currentSrc)||/^blob/.test(r.src))},Xt.isBlob=function(r){return"string"==typeof r&&/^blob/.test(r)},Xt.generateSessionId=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=(new Date).getTime();try{r=parseInt(r)}catch{r=0}return o+=r,window.performance&&"function"==typeof window.performance.now&&(o+=parseInt(window.performance.now())),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var n=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"===i?n:3&n|8).toString(16)})},Xt.createEvent=function(r){var o;return"function"==typeof window.Event?o=new Event(r):(o=document.createEvent("Event")).initEvent(r,!0,!0),o},Xt.adjustTimeByDuration=function(r,o,t){return o&&r&&(r>o||t&&r<o)?o:r},Xt.createPositionBar=function(r,o){var t=Xt.createDom("xg-bar","",{"data-index":-1},r);return o.appendChild(t),t},Xt.getTransformStyle=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,scale:1,rotate:0},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t={scale:"".concat(r.scale||1),translate:"".concat(r.x||0,"%, ").concat(r.y||0,"%"),rotate:"".concat(r.rotate||0,"deg")};return Object.keys(t).forEach(function(n){var a=new RegExp("".concat(n,"\\([^\\(]+\\)"),"g"),s="".concat(n,"(").concat(t[n],")");a.test(o)?(a.lastIndex=-1,o=o.replace(a,s)):o+="".concat(s," ")}),o},Xt.convertDeg=function(r){return Math.abs(r)<=1?360*r:r%360},Xt.getIndexByTime=function(r,o){var t=o.length,i=-1;if(t<1)return i;if(r<=o[0].end||t<2)i=0;else if(r>o[t-1].end)i=t-1;else for(var n=1;n<t;n++)if(r>o[n-1].end&&r<=o[n].end){i=n;break}return i},Xt.getOffsetCurrentTime=function(r,o){var i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if((i=t>=0&&t<o.length?t:Xt.getIndexByTime(r,o))<0)return-1;var a=o[i],s=a.start,d=a.end;return r<s?a.cTime:r>=s&&r<=d?r-a.offset:r>d&&i>=o.length-1?d:-1},Xt.getCurrentTimeByOffset=function(r,o){var t=-1;if(!o||o.length<0)return r;for(var i=0;i<o.length;i++)if(r<=o[i].duration){t=i;break}if(-1!==t){var n=o[t].start;return t-1<0?n+r:n+(r-o[t-1].duration)}return r};var xj_android=/(Android)\s([\d.]+)/,xj_ios=/(Version)\/([\d.]+)/,Xwe=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],xa={get device(){return xa.os.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var r=navigator.userAgent.toLowerCase(),o={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(o).filter(function(t){return o[t].test(r)}))[0]},get os(){if(typeof navigator>"u")return{};var r=navigator.userAgent,o=/(?:Windows Phone)/.test(r),t=/(?:SymbianOS)/.test(r)||o,i=/(?:Android)/.test(r),n=/(?:Firefox)/.test(r),a=/(?:iPad|PlayBook)/.test(r)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,s=a||i&&!/(?:Mobile)/.test(r)||n&&/(?:Tablet)/.test(r),d=/(?:iPhone)/.test(r)&&!s;return{isTablet:s,isPhone:d,isIpad:a,isIos:d||a,isAndroid:i,isPc:!(d||i||t||s),isSymbian:t,isWindowsPhone:o,isFireFox:n}},get osVersion(){if(typeof navigator>"u")return 0;var r=navigator.userAgent,o="",t=(o=/(?:iPhone)|(?:iPad|PlayBook)/.test(r)?xj_ios:xj_android)?o.exec(r):[];if(t&&t.length>=3){var i=t[2].split(".");return i.length>0?parseInt(i[0]):0}return 0},get isWeixin(){return!(typeof navigator>"u")&&!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())},isSupportMP4:function(){var o={isSupport:!1,mime:""};if(typeof document>"u")return o;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"==typeof t.canPlayType&&Xwe.map(function(i){"probably"===t.canPlayType('video/mp4; codecs="'.concat(i,'"'))&&(o.isSupport=!0,o.mime+="||".concat(i))}),this.supportResult=o,t=null,o},isMSESupport:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource>"u"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(o)}catch(t){return this._logger.error(o,t),!1}},isHevcSupported:function(){return!(typeof MediaSource>"u"||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(o){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!o||typeof navigator>"u")return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(o);var i=o.video||{},n=o.audio||{};try{var a=MediaSource.isTypeSupported(i.contentType),s=MediaSource.isTypeSupported(n.contentType);return Promise.resolve({supported:a&&s,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(t)}}},H4="3.0.13",Dj={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},Ij={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},Dw=uo(function r(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};Ao(this,r);var i=o&&o.i18n?o.i18n.ERROR_TYPES:null;if(o.media){var n=t.mediaError?t.mediaError:o.media.error||{},m=o.src,I=o.currentSrc,J=o.media,$e=t.errorCode||n.code;Ij[$e]&&($e=Ij[$e]);var nt={playerVersion:H4,currentTime:o.currentTime,duration:o.duration,ended:o.ended,readyState:J.readyState,networkState:J.networkState,src:m||I,errorType:t.errorType,errorCode:$e,message:t.errorMessage||n.message,mediaError:n,originError:t.originError?t.originError.stack:"",host:Xt.getHostFromUrl(m||I)};return t.ext&&Object.keys(t.ext).map(function(xi){nt[xi]=t.ext[xi]}),nt}if(arguments.length>1){for(var Tt={playerVersion:H4,domain:document.domain},Zt=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],ci=0;ci<arguments.length;ci++)Tt[Zt[ci]]=arguments[ci];return Tt.ex=i?(i[arguments[0]]||{}).msg:"",Tt}}),Bu="play",V4="playing",U0="ended",H_="pause",Iw="error",_D="seeking",Gf="seeked",Ah="timeupdate",kw="waiting",Uf="canplay",Zwe="canplaythrough",pm="durationchange",kj="volumechange",Op="loadeddata",$we="loadedmetadata",Tj="ratechange",Fj="progress",J4="loadstart",V_="emptied",qwe="stalled",eCe="suspend",tCe="abort",iCe="bufferedChange",W4="focus",Sj="blur",K4="ready",Qj="urlNull",z0="autoplay_started",X4="autoplay_was_prevented",yD="complete",bD="replay",Z4="destroy",Tw="urlchange",$4="download_speed_change",zf="fullscreen_change",wD="cssFullscreen_change",CD="mini_state_change",q4="definition_change",nCe="before_definition_change",eQ="after_definition_change",rCe="SEI_PARSED",oCe="retry",fm="video_resize",tQ="pip_change",Rj="rotate",Pj="screenShot",ED="playnext",Oj="shortcut",Lj="xglog",BD="user_action",MD="reset",Yj="source_error",Nj="source_success",aCe="switch_subtitle",jj=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Gj={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},Uj="fps_stuck";function iQ(r,o){!this||!this.emit||("error"===r?this.errorHandler(r,o.error):this.emit(r,o))}var lCe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;Ao(this,t),(n=o.call(this,i))._hasStart=!1,n._currentTime=0,n._duration=0,n._internalOp={},n._lastMuted=!1,n.vtype="MP4",n._rate=-1,n.mediaConfig=Object.assign({},{controls:!1,autoplay:i.autoplay,playsinline:i.playsinline,"x5-playsinline":i.playsinline,"webkit-playsinline":i.playsinline,"x5-video-player-fullscreen":i["x5-video-player-fullscreen"]||i.x5VideoPlayerFullscreen,"x5-video-orientation":i["x5-video-orientation"]||i.x5VideoOrientation,airplay:i.airplay,"webkit-airplay":i.airplay,tabindex:0|i.tabindex,mediaType:i.mediaType||"video","data-index":-1},i.videoConfig,i.videoAttributes);var a=i["x5-video-player-type"]||i.x5VideoPlayerType;return xa.isWeixin&&xa.os.isAndroid&&a&&(n.mediaConfig["x5-video-player-type"]=a,delete n.mediaConfig.playsinline,delete n.mediaConfig["webkit-playsinline"],delete n.mediaConfig["x5-playsinline"]),i.loop&&(n.mediaConfig.loop="loop"),i.autoplayMuted&&!Object.prototype.hasOwnProperty.call(n.mediaConfig,"muted")&&(n.mediaConfig.muted=!0),n.media=Xt.createDom(n.mediaConfig.mediaType,"",n.mediaConfig,""),i.defaultPlaybackRate&&(n.media.defaultPlaybackRate=n.media.playbackRate=i.defaultPlaybackRate),"Number"===Xt.typeOf(i.volume)&&(n.volume=i.volume),i.autoplayMuted&&(n.media.muted=!0,n._lastMuted=!0),i.autoplay&&(n.media.autoplay=!0),n._interval={},n.mediaEventMiddleware={},n.attachVideoEvents(),n}return uo(t,[{key:"setEventsMiddleware",value:function(n){var a=this;Object.keys(n).map(function(s){a.mediaEventMiddleware[s]=n[s]})}},{key:"removeEventsMiddleware",value:function(n){var a=this;Object.keys(n).map(function(s){delete a.mediaEventMiddleware[s]})}},{key:"attachVideoEvents",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers||(this._evHandlers=jj.map(function(s){var d="on".concat(s.charAt(0).toUpperCase()).concat(s.slice(1));return"function"==typeof n[d]&&n.on(s,n[d]),Gn({},s,function sCe(r,o){return function(t,i){var n={player:o,eventName:r,originalEvent:t,detail:t.detail||{},timeStamp:t.timeStamp,currentTime:o.currentTime,duration:o.duration,paused:o.paused,ended:o.ended,isInternalOp:!!o._internalOp[t.type],muted:o.muted,volume:o.volume,host:Xt.getHostFromUrl(o.currentSrc),vtype:o.vtype};if(o.removeInnerOP(t.type),"timeupdate"===r&&(o._currentTime=o.media&&o.media.currentTime),"ratechange"===r){var a=o.media?o.media.playbackRate:0;if(a&&o._rate===a)return;o._rate=o.media&&o.media.playbackRate}if("durationchange"===r&&(o._duration=o.media.duration),"volumechange"===r&&(n.isMutedChange=o._lastMuted!==o.muted,o._lastMuted=o.muted),"error"===r&&(n.error=i||o.video.error),o.mediaEventMiddleware[r]){var s=iQ.bind(o,r,n);try{o.mediaEventMiddleware[r].call(o,n,s)}catch(d){throw iQ.call(o,r,n),d}}else iQ.call(o,r,n)}}(s,n))})),this._evHandlers.forEach(function(s){var d=Object.keys(s)[0];a.addEventListener(d,s[d],!1)})}},{key:"detachVideoEvents",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers.forEach(function(s){var d=Object.keys(s)[0];a.removeEventListener(d,s[d],!1)}),this._evHandlers.forEach(function(s){var d=Object.keys(s)[0],m="on".concat(d.charAt(0).toUpperCase()).concat(d.slice(1));"function"==typeof n[m]&&n.off(d,n[m])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(n,a){var s=this;n.removeAttribute("src"),n.load(),a.forEach(function(oe,Ce){s.media.appendChild(Xt.createDom("source","",{src:"".concat(oe.src),type:"".concat(oe.type||""),"data-index":Ce+1}))});var d=n.children;if(d){this._videoSourceCount=d.length,this._videoSourceIndex=d.length,this._vLoadeddata=function(oe){s.emit(Nj,{src:oe.target.currentSrc,host:Xt.getHostFromUrl(oe.target.currentSrc)})};for(var m=null,I=0;I<this._evHandlers.length;I++)if("error"===Object.keys(this._evHandlers[I])[0]){m=this._evHandlers[I];break}!this._sourceError&&(this._sourceError=function(oe){var Ce=parseInt(oe.target.getAttribute("data-index"),10);if(s._videoSourceIndex--,0===s._videoSourceIndex||Ce>=s._videoSourceCount){var $e={code:4,message:"sources_load_error"};m?m.error(oe,$e):s.errorHandler("error",$e)}s.emit(Yj,new Dw(s,{errorType:Dj[4],errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:oe.target.src}))});for(var J=0;J<d.length;J++)d[J].addEventListener("error",this._sourceError);n.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(n){var a=n.children;if(a&&0!==a.length&&this._sourceError){for(var s=0;s<a.length;s++)a[s].removeEventListener("error",this._sourceError);for(;a.length>0;)n.removeChild(a[0]);this._vLoadeddata&&n.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.media&&(this.media.error||a)){var s=this.media.error||a,d=s.code?Dj[s.code]:"other";this.media.currentSrc||(s={code:6,message:"empty_src"}),this.emit(n,new Dw(this,{errorType:d,errorCode:s.code,errorMessage:s.message||"",mediaError:s}))}}},{key:"destroy",value:function(){for(var n in this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,n)&&(clearInterval(this._interval[n]),this._interval[n]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(n){this.media=n}},{key:"play",value:function(){return this.media?this.media.play():null}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(n){return!!this.media&&this.media.canPlayType(n)}},{key:"getBufferedRange",value:function(n){var a=[0,0];if(!this.media)return a;n||(n=this.media.buffered);var s=this.media.currentTime;if(n)for(var d=0,m=n.length;d<m&&(a[0]=n.start(d),a[1]=n.end(d),!(a[0]<=s&&s<=a[1]));d++);return a[0]-s<=0&&s-a[1]<=0?a:[0,0]}},{key:"autoplay",get:function(){return!!this.media&&this.media.autoplay},set:function(n){this.media&&(this.media.autoplay=n)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?Xt.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var n={start:0,end:0};if(!this.media)return n;var a=this.media.buffered;if(!a||0===a.length)return n;for(var s=0;s<a.length;s++)if((a.start(s)<=this.currentTime||a.start(s)<.1)&&a.end(s)>=this.currentTime)return{start:a.start(s),end:a.end(s)};return n}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(n){this.media&&(this.media.crossOrigin=n)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(n){this.media&&(this.media.currentSrc=n)}},{key:"currentTime",get:function(){return this.media?void 0!==this.media.currentTime?this.media.currentTime:this._currentTime:0},set:function(n){this.media&&(this.media.currentTime=n)}},{key:"defaultMuted",get:function(){return!!this.media&&this.media.defaultMuted},set:function(n){this.media&&(this.media.defaultMuted=n)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.media&&this.media.ended}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){return this.media.error?["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][this.media.error.code-1]:""}},{key:"loop",get:function(){return!!this.media&&this.media.loop},set:function(n){this.media&&(this.media.loop=n)}},{key:"muted",get:function(){return!!this.media&&this.media.muted},set:function(n){!this.media||this.media.muted===n||(this._lastMuted=this.media.muted,this.media.muted=n)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return!this.media||this.media.paused}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(n){!this.media||n===1/0||(this.media.defaultPlaybackRate=n,this.media.playbackRate=n)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return!!this.media&&this.media.preload},set:function(n){this.media&&(this.media.preload=n)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return!!this.media&&this.media.seekable}},{key:"seeking",get:function(){return!!this.media&&this.media.seeking}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(n){if(this.media){if(this.emit(Tw,n),this.emit(kw),this._currentTime=0,this._duration=0,Xt.isMSE(this.media))return void this.onWaiting();this._detachSourceEvents(this.media),"Array"===Xt.typeOf(n)?this._attachSourceEvents(this.media,n):n?this.media.src=n:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(n){n===1/0||!this.media||(this.media.volume=n)}},{key:"addInnerOP",value:function(n){this._internalOp[n]=!0}},{key:"removeInnerOP",value:function(n){delete this._internalOp[n]}},{key:"emit",value:function(n,a){for(var s,d=arguments.length,m=new Array(d>2?d-2:0),I=2;I<d;I++)m[I-2]=arguments[I];(s=aa(Xo(t.prototype),"emit",this)).call.apply(s,[this,n,a].concat(m))}},{key:"on",value:function(n,a){for(var s,d=arguments.length,m=new Array(d>2?d-2:0),I=2;I<d;I++)m[I-2]=arguments[I];(s=aa(Xo(t.prototype),"on",this)).call.apply(s,[this,n,a].concat(m))}},{key:"once",value:function(n,a){for(var s,d=arguments.length,m=new Array(d>2?d-2:0),I=2;I<d;I++)m[I-2]=arguments[I];(s=aa(Xo(t.prototype),"once",this)).call.apply(s,[this,n,a].concat(m))}},{key:"off",value:function(n,a){for(var s,d=arguments.length,m=new Array(d>2?d-2:0),I=2;I<d;I++)m[I-2]=arguments[I];(s=aa(Xo(t.prototype),"off",this)).call.apply(s,[this,n,a].concat(m))}},{key:"offAll",value:function(){aa(Xo(t.prototype),"removeAllListeners",this).call(this)}}]),t}(Bj()),cCe=function(){function r(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};Ao(this,r),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=o}return uo(r,[{key:"openDB",value:function(t){var i=this,n=this,s=n.indexedDB.open(n.myDB.name,this.myDB.version||1);s.onerror=function(d){},s.onsuccess=function(d){i.myDB.db=d.target.result,t.call(n)},s.onupgradeneeded=function(d){var m=d.target.result;m.objectStoreNames.contains(n.myDB.ojstore.name)||m.createObjectStore(n.myDB.ojstore.name,{keyPath:n.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(t,i){for(var a,n=this.myDB.db.transaction(t,"readwrite").objectStore(t),s=0;s<i.length;s++)(a=n.add(i[s])).onerror=function(){},a.onsuccess=function(){}}},{key:"putData",value:function(t,i){for(var a,n=this.myDB.db.transaction(t,"readwrite").objectStore(t),s=0;s<i.length;s++)(a=n.put(i[s])).onerror=function(){},a.onsuccess=function(){}}},{key:"getDataByKey",value:function(t,i,n){var a=this,d=this.myDB.db.transaction(t,"readwrite").objectStore(t).get(i);d.onerror=function(){n.call(a,null)},d.onsuccess=function(m){n.call(a,m.target.result)}}},{key:"deleteData",value:function(t,i){this.myDB.db.transaction(t,"readwrite").objectStore(t).delete(i)}},{key:"clearData",value:function(t){this.myDB.db.transaction(t,"readwrite").objectStore(t).clear()}}]),r}(),zj=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Hj=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],Vj=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],H0="data-xgplayerid";function xD(r,o,t){for(var i=arguments.length,n=new Array(i>3?i-3:0),a=3;a<i;a++)n[a-3]=arguments[a];var s=o.call.apply(o,[r].concat(n));!t||"function"!=typeof t||(s&&s.then?s.then(function(){for(var d=arguments.length,m=new Array(d),I=0;I<d;I++)m[I]=arguments[I];t.call.apply(t,[r].concat(m))}):t.call.apply(t,[r].concat(n)))}function DD(r,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[r]&&(this.__hooks[r]=null),function(){var i=arguments,n=this;if(t.pre)try{var a;(a=t.pre).call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))}catch(m){throw m.message="[pluginName: ".concat(this.pluginName,":").concat(r,":pre error] >> ").concat(m.message),m}if(this.__hooks&&this.__hooks[r])try{var s,d=(s=this.__hooks[r]).call.apply(s,[this,this].concat(Array.prototype.slice.call(arguments)));d?d.then?d.then(function(m){!1!==m&&xD.apply(void 0,[n,o,t.next].concat(Hh(i)))}).catch(function(m){throw m}):xD.apply(void 0,[this,o,t.next].concat(Array.prototype.slice.call(arguments))):void 0===d&&xD.apply(void 0,[this,o,t.next].concat(Array.prototype.slice.call(arguments)))}catch(m){throw m.message="[pluginName: ".concat(this.pluginName,":").concat(r,"] >> ").concat(m.message),m}else xD.apply(void 0,[this,o,t.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function ID(r,o){var t=this.__hooks;if(t)return t.hasOwnProperty(r)?(t&&(t[r]=o),!0):(console.warn("has no supported hook which name [".concat(r,"]")),!1)}function kD(r,o){var t=this.__hooks;t&&delete t[r]}function Jj(r){if(this.plugins&&this.plugins[r.toLowerCase()]){for(var o=this.plugins[r.toLowerCase()],t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return o.useHooks&&o.useHooks.apply(o,i)}}function Wj(r){if(this.plugins&&this.plugins[r.toLowerCase()]){var o=this.plugins[r.toLowerCase()];if(o){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return o.removeHooks&&o.removeHooks.apply(o,i)}}}function Kj(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r.__hooks={},o&&o.map(function(t){r.__hooks[t]=null}),Object.defineProperty(r,"hooks",{get:function(){return r.__hooks&&Object.keys(r.__hooks).map(function(i){if(r.__hooks[i])return i})}})}function Xj(r){r.__hooks=null}function Hf(r,o,t){for(var i=arguments.length,n=new Array(i>3?i-3:0),a=3;a<i;a++)n[a-3]=arguments[a];if(!r.__hooks||!r.__hooks[o])return t.call.apply(t,[r,r].concat(n));var s,d=(s=r.__hooks[o]).call.apply(s,[r,r].concat(n));if(d&&d.then)d.then(function(m){return!1===m?null:t.call.apply(t,[r,r].concat(n))}).catch(function(m){console.warn("[runHooks]".concat(o," reject"),m.message)});else if(!1!==d)return t.call.apply(t,[r,r].concat(n))}function nQ(r,o){ss.logError("[".concat(r,"] event or callback cant be undefined or null when call ").concat(o))}var Vh=function(){function r(o){Ao(this,r),Xt.checkIsFunction(this.beforeCreate)&&this.beforeCreate(o),Kj(this),this.__args=o,this.__events={},this.__onceEvents={},this.config=o.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(o)}return uo(r,[{key:"beforeCreate",value:function(t){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(t){this.player=t.player,this.playerConfig=t.player&&t.player.config,this.pluginName=t.pluginName?t.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=t.player&&t.player.logger}},{key:"updateLang",value:function(t){t||(t=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var t=Xt.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&("touch"===this.playerConfig.domEventType||"mouse"===this.playerConfig.domEventType)&&(t=this.playerConfig.domEventType),t}},{key:"on",value:function(t,i){var n=this;t&&i&&this.player?"string"==typeof t?(this.__events[t]=i,this.player.on(t,i)):Array.isArray(t)&&t.forEach(function(a){n.__events[a]=i,n.player.on(a,i)}):nQ(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(t,i){var n=this;t&&i&&this.player?"string"==typeof t?(this.__onceEvents[t]=i,this.player.once(t,i)):Array.isArray(t)&&t.forEach(function(a){n.__onceEvents[a]=i,n.player.once(t,i)}):nQ(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(t,i){var n=this;t&&i&&this.player?"string"==typeof t?(delete this.__events[t],this.player.off(t,i)):Array.isArray(t)&&t.forEach(function(a){delete n.__events[t],n.player.off(a,i)}):nQ(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var t=this;["__events","__onceEvents"].forEach(function(i){Object.keys(t[i]).forEach(function(n){t[i][n]&&t.off(n,t[i][n]),n&&delete t[i][n]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(t){var i;if(this.player){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];(i=this.player).emit.apply(i,[t].concat(a))}}},{key:"emitUserAction",value:function(t,i){if(this.player){var a=xc(xc({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),{},{pluginName:this.pluginName});this.player.emitUserAction(t,i,a)}}},{key:"hook",value:function(t,i){return DD.call.apply(DD,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(t,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return ID.call.apply(ID,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(t,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return kD.call.apply(kD,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.player)return n&&(i.pluginName=n),this.player.registerPlugin({plugin:t,options:i})}},{key:"getPlugin",value:function(t){return this.player?this.player.getPlugin(t):null}},{key:"__destroy",value:function(){var t=this,i=this.player,n=this.pluginName;this.offAll(),Xt.clearAllTimers(this),Xt.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(a){t[a]=null}),i.unRegisterPlugin(n),Xj(this)}}],[{key:"defineGetterOrSetter",value:function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&Object.defineProperty(t,n,i[n])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),r}(),ACe=ie(9611),Zj=ie.n(ACe),dCe={CONTROLS:"controls",ROOT:"root"},vl={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};function rQ(r){return!!r&&r.indexOf&&/^(?:http|data:|\/)/.test(r)}function $j(r,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=null;if(r instanceof window.Element)return Xt.addClass(r,t),Object.keys(i).map(function(s){r.setAttribute(s,i[s])}),r;if(rQ(r)||rQ(r.url))return i.src=rQ(r)?r:r.url||"",a=Xt.createDom(r.tag||"img","",i,"xg-img ".concat(t));if("function"==typeof r)try{return(a=r())instanceof window.Element?(Xt.addClass(a,t),Object.keys(i).map(function(s){a.setAttribute(s,i[s])}),a):(ss.logWarn("warn>>icons.".concat(o," in config of plugin named [").concat(n,"] is a function mast return an Element Object")),null)}catch(s){return ss.logError("Plugin named [".concat(n,"]:createIcon"),s),null}return"string"==typeof r?Xt.createDomFromHtml(r,i,t):(ss.logWarn("warn>>icons.".concat(o," in config of plugin named [").concat(n,"] is invalid")),null)}var Qs=function(r){Vo(t,r);var o=Jo(t);function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ao(this,t),(i=o.call(this,n)).__delegates=[],i}return uo(t,[{key:"__init",value:function(n){if(aa(Xo(t.prototype),"__init",this).call(this,n),n.root){var a=n.root,s=null;this.icons={},this.root=null,this.parent=null,function pCe(r,o){var t=o.config.icons||o.playerConfig.icons;Object.keys(r).map(function(i){var n=r[i],a=n&&n.class?n.class:"",s=n&&n.attr?n.attr:{},d=null;t&&t[i]&&(a=function uCe(r,o){return"object"===Rd(r)&&r.class&&"string"==typeof r.class?"".concat(o," ").concat(r.class):o}(t[i],a),s=function hCe(r,o){return"object"===Rd(r)&&r.attr&&"object"===Rd(r.attr)&&Object.keys(r.attr).map(function(t){o[t]=r.attr[t]}),o}(t[i],s),d=$j(t[i],i,a,s,o.pluginName)),!d&&n&&(d=$j(n.icon?n.icon:n,s,a,{},o.pluginName)),o.icons[i]=d})}(this.registerIcons()||{},this),this.langText={},function fCe(r,o){Object.keys(r).map(function(t){Object.defineProperty(o.langText,t,{get:function(){var a=o.i18n;return a[t]?a[t]:r[t]&&r[t][o.lang]||""}})})}(this.registerLanguageTexts()||{},this);var I="";try{I=this.render()}catch(Ce){throw ss.logError("Plugin:".concat(this.pluginName,":render"),Ce),new Error("Plugin:".concat(this.pluginName,":render:").concat(Ce.message))}if(I)(s=t.insert(I,a,n.index)).setAttribute("data-index",n.index);else{if(!n.tag)return;(s=Xt.createDom(n.tag,"",n.attr,n.name)).setAttribute("data-index",n.index),a.appendChild(s)}this.root=s,this.parent=a;var oe=this.config.style||{};this.setAttr(this.config.attr||{}),this.setStyle(oe),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var n=this;if(this.root){this._children=[];var a=this.children();a&&"object"===Rd(a)&&Object.keys(a).length>0&&Object.keys(a).map(function(s){var J,oe,d=s,m=a[d],I={root:n.root};"function"==typeof m?(J=n.config[d]||{},oe=m):"object"===Rd(m)&&"function"==typeof m.plugin&&(J=m.options?Xt.deepCopy(n.config[d]||{},m.options):n.config[d]||{},oe=m.plugin),I.config=J,void 0!==J.index&&(I.index=J.index),J.root&&(I.root=J.root),n.registerPlugin(oe,I,d)})}}},{key:"updateLang",value:function(n){n||(n=this.lang);var s=this.root,d=this.i18n,m=this.langText;s&&function a(I,J){for(var oe=0;oe<I.children.length;oe++)I.children[oe].children.length>0?a(I.children[oe],J):J(I.children[oe])}(s,function(I){var J=I.getAttribute&&I.getAttribute("lang-key");if(J){var oe=d[J.toUpperCase()]||m[J];oe&&(I.innerHTML="function"==typeof oe?oe(n):oe)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this.i18n||{},d=this.langText;n.setAttribute&&n.setAttribute("lang-key",a);var m=s[a]||d[a]||"";m&&(n.innerHTML=m)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";a.root=a.root||this.root;var d=aa(Xo(t.prototype),"registerPlugin",this).call(this,n,a,s);return this._children.push(d),d}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(n){if(this.root)return this.root.querySelector(n)}},{key:"bind",value:function(n,a,s){var d=this;if(arguments.length<3&&"function"==typeof a)Array.isArray(n)?n.forEach(function(I){d.bindEL(I,a)}):this.bindEL(n,a);else{var m=t.delegate.call(this,this.root,n,a,s);this.__delegates=this.__delegates.concat(m)}}},{key:"unbind",value:function(n,a){var s=this;if(arguments.length<3&&"function"==typeof a)Array.isArray(n)?n.forEach(function(I){s.unbindEL(I,a)}):this.unbindEL(n,a);else for(var d="".concat(n,"_").concat(a),m=0;m<this.__delegates.length;m++)if(this.__delegates[m].key===d){this.__delegates[m].destroy(),this.__delegates.splice(m,1);break}}},{key:"setStyle",value:function(n,a){var s=this;if(this.root){if("String"===Xt.typeOf(n))return this.root.style[n]=a;"Object"===Xt.typeOf(n)&&Object.keys(n).map(function(d){s.root.style[d]=n[d]})}}},{key:"setAttr",value:function(n,a){var s=this;if(this.root){if("String"===Xt.typeOf(n))return this.root.setAttribute(n,a);"Object"===Xt.typeOf(n)&&Object.keys(n).map(function(d){s.root.setAttribute(d,n[d])})}}},{key:"setHtml",value:function(n,a){this.root&&(this.root.innerHTML=n,"function"==typeof a&&a())}},{key:"bindEL",value:function(n,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(n)in this.root&&"function"==typeof a&&this.root.addEventListener(n,a,s)}},{key:"unbindEL",value:function(n,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(n)in this.root&&"function"==typeof a&&this.root.removeEventListener(n,a,s)}},{key:"show",value:function(n){this.root&&(this.root.style.display=void 0!==n?n:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display")&&(this.root.style.display="block"))}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(n,a){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(a&&a instanceof window.Element))return null;try{return"string"==typeof n?this.find(n).appendChild(a):n.appendChild(a)}catch(s){return ss.logError("Plugin:appendChild",s),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var n=this,a=this.player;this.__delegates.map(function(s){s.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(s){a.unRegisterPlugin(s.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),aa(Xo(t.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(s){n[s]=null})}}],[{key:"insert",value:function(n,a){var d=a.children.length,m=Number(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),I=n instanceof window.Node;if(d){for(var J=0,oe=null,Ce="";J<d;J++){oe=a.children[J];var $e=Number(oe.getAttribute("data-index"));if($e>=m){Ce="beforebegin";break}$e<m&&(Ce="afterend")}return I?"afterend"===Ce?a.appendChild(n):a.insertBefore(n,oe):oe.insertAdjacentHTML(Ce,n),"afterend"===Ce?a.children[a.children.length-1]:a.children[J]}return I?a.appendChild(n):a.insertAdjacentHTML("beforeend",n),a.children[a.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(n,a,s,d){var m=arguments.length>4&&void 0!==arguments[4]&&arguments[4],I=[];if(n instanceof window.Node&&"function"==typeof d)if(Array.isArray(s))s.forEach(function(oe){var Ce=Zj()(n,a,oe,d,m);Ce.key="".concat(a,"_").concat(oe),I.push(Ce)});else{var J=Zj()(n,a,s,d,m);J.key="".concat(a,"_").concat(s),I.push(J)}return I}},{key:"ROOT_TYPES",get:function(){return dCe}},{key:"POSITIONS",get:function(){return vl}}]),t}(Vh),gCe=function(){function r(){var o=this;if(Ao(this,r),Gn(this,"__trigger",function(t){var i=(new Date).getTime();o.timeStamp=i;for(var n=0;n<t.length;n++)o.__runHandler(t[n].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver(function Jwe(r,o,t){var i=!0,n=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return Mj(t)&&(i="leading"in t?!!t.leading:i,n="trailing"in t?!!t.trailing:n),function Vwe(r,o,t){var i,n,a,s,d,m,I=0,J=!1,oe=!1,Ce=!0,$e=!o&&0!==o&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof r)throw new TypeError("Expected a function");function nt(pr){var ho=i,io=n;return i=n=void 0,I=pr,s=r.apply(io,ho)}function Tt(pr,ho){return $e?(window.cancelAnimationFrame(d),window.requestAnimationFrame(pr)):setTimeout(pr,ho)}function Oi(pr){var ho=pr-m;return void 0===m||ho>=o||ho<0||oe&&pr-I>=a}function Ui(){var pr=Date.now();if(Oi(pr))return Hi(pr);d=Tt(Ui,function xi(pr){var sa=o-(pr-m);return oe?Math.min(sa,a-(pr-I)):sa}(pr))}function Hi(pr){return d=void 0,Ce&&i?nt(pr):(i=n=void 0,s)}function tr(){for(var pr=Date.now(),ho=Oi(pr),io=arguments.length,sa=new Array(io),Rs=0;Rs<io;Rs++)sa[Rs]=arguments[Rs];if(i=sa,n=this,m=pr,ho){if(void 0===d)return function ci(pr){return I=pr,d=Tt(Ui,o),J?nt(pr):s}(m);if(oe)return d=Tt(Ui,o),nt(m)}return void 0===d&&(d=Tt(Ui,o)),s}return o=+o||0,Mj(t)&&(J=!!t.leading,a=(oe="maxWait"in t)?Math.max(+t.maxWait||0,o):a,Ce="trailing"in t?!!t.trailing:Ce),tr.cancel=function gn(){void 0!==d&&function Zt(pr){if($e)return window.cancelAnimationFrame(pr);clearTimeout(pr)}(d),I=0,i=m=n=d=void 0},tr.flush=function pn(){return void 0===d?s:Hi(Date.now())},tr.pending=function Jn(){return void 0!==d},tr}(r,o,{leading:i,trailing:n,maxWait:o})}(this.__trigger,100,{trailing:!0})),this.timeStamp=(new Date).getTime()}catch(t){console.error(t)}}return uo(r,[{key:"addObserver",value:function(t,i){if(this.observer){this.observer&&this.observer.observe(t);for(var n=t.getAttribute(H0),a=this.__handlers,s=-1,d=0;d<a.length;d++)a[d]&&t===a[d].target&&(s=d);s>-1?this.__handlers[s].handler=i:this.__handlers.push({target:t,handler:i,playerId:n})}}},{key:"unObserver",value:function(t){var i=-1;this.__handlers.map(function(n,a){t===n.target&&(i=a)});try{this.observer&&this.observer.unobserve(t)}catch{}this.observer&&this.observer.unobserve(t),i>-1&&this.__handlers.splice(i,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(t){for(var i=this.__handlers,n=0;n<i.length;n++)if(i[n]&&t===i[n].target){try{i[n].handler(t)}catch(a){console.error(a)}return!0}return!1}}]),r}(),Fw=null,LA={pluginGroup:{},init:function(o){var t=o._pluginInfoId;t||(t=(new Date).getTime(),o._pluginInfoId=t),!o.config.closeResizeObserver&&function mCe(r,o){Fw||(Fw=new gCe),Fw.addObserver(r,o)}(o.root,function(){o.resize()}),this.pluginGroup[t]={_originalOptions:o.config||{},_plugins:{}}},formatPluginInfo:function(o,t){var i=null,n=null;return o.plugin&&"function"==typeof o.plugin?(i=o.plugin,n=o.options):(i=o,n={}),t&&(n.config=t||{}),{PLUFGIN:i,options:n}},checkPluginIfExits:function(o,t){for(var i=0;i<t.length;i++)if(o.toLowerCase()===t[i].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(o,t){for(var i=Object.keys(t),n=null,a=0;a<i.length;a++)if(o.toLowerCase()===i[a].toLowerCase()){n=t[i[a]];break}return"Object"===Xt.typeOf(n)?{root:n.root,position:n.position}:{}},lazyRegister:function(o,t){var i=this,n=t.timeout||1500;return Promise.race([t.loader().then(function(a){i.register(o,a&&a.__esModule?a.default:a,a.options)}),new Promise(function(a,s){setTimeout(function(){s(new Error("timeout"))},n)})])},register:function(o,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o&&t&&"function"==typeof t&&void 0!==t.prototype){var n=o._pluginInfoId;if(n&&this.pluginGroup[n]){this.pluginGroup[n]._plugins||(this.pluginGroup[n]._plugins={});var a=this.pluginGroup[n]._plugins,s=this.pluginGroup[n]._originalOptions;i.player=o;var d=i.pluginName||t.pluginName;if(!d)throw new Error("The property pluginName is necessary");if(t.isSupported&&!t.isSupported(o.config.mediaType,o.config.codecType))return void console.warn("not supported plugin [".concat(d,"]"));i.config||(i.config={});for(var m=Object.keys(s),I=0;I<m.length;I++)if(d.toLowerCase()===m[I].toLowerCase()){var J=s[m[I]];"Object"===Xt.typeOf(J)?i.config=Object.assign({},i.config,s[m[I]]):"Boolean"===Xt.typeOf(J)&&(i.config.disable=!J);break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach(function(Ce){typeof i.config[Ce]>"u"&&(i.config[Ce]=t.defaultConfig[Ce])}),i.root?"string"==typeof i.root&&(i.root=o[i.root]):i.root=o.root,i.index=i.config.index||0;try{a[d.toLowerCase()]&&(this.unRegister(n,d.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(d,"] exist, destroy the old instance")));var oe=new t(i);return a[d.toLowerCase()]=oe,a[d.toLowerCase()].func=t,oe&&"function"==typeof oe.afterCreate&&oe.afterCreate(),oe}catch(Ce){throw console.error(Ce),Ce}}}},unRegister:function(o,t){o._pluginInfoId&&(o=o._pluginInfoId),t=t.toLowerCase();try{var i=this.pluginGroup[o]._plugins[t];i&&(i.pluginName&&i.__destroy(),delete this.pluginGroup[o]._plugins[t])}catch(n){console.error("[unRegister:".concat(t,"] cgid:[").concat(o,"] error"),n)}},deletePlugin:function(o,t){var i=o._pluginInfoId;i&&this.pluginGroup[i]&&this.pluginGroup[i]._plugins&&delete this.pluginGroup[i]._plugins[t]},getPlugins:function(o){var t=o._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(o,t){var i=o._pluginInfoId;if(!i||!this.pluginGroup[i])return null;var n=t.toLowerCase();return this.pluginGroup[i]._plugins[n]},beforeInit:function(o){var t=this;function i(n){return n&&n.then?n:new Promise(function(a){a()})}return new Promise(function(n){if(t.pluginGroup)return(o._loadingPlugins&&o._loadingPlugins.length?Promise.all(o._loadingPlugins):Promise.resolve()).then(function(){var s=o._pluginInfoId;if(t.pluginGroup[s]){var d=t.pluginGroup[s]._plugins,m=[];Object.keys(d).forEach(function(I){if(d[I]&&d[I].beforePlayerInit)try{var J=d[I].beforePlayerInit();m.push(i(J))}catch(oe){throw m.push(i(null)),oe}}),Promise.all([].concat(m)).then(function(){n()}).catch(function(I){console.error(I),n()})}else n()})})},afterInit:function(o){var t=o._pluginInfoId;if(t&&this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins;Object.keys(i).forEach(function(n){i[n]&&i[n].afterPlayerInit&&i[n].afterPlayerInit()})}},setLang:function(o,t){var i=t._pluginInfoId;if(i&&this.pluginGroup[i]){var n=this.pluginGroup[i]._plugins;Object.keys(n).forEach(function(a){if(n[a].updateLang)n[a].updateLang(o);else try{n[a].lang=o}catch{console.warn("".concat(a," setLang"))}})}},reRender:function(o){var t=this,i=o._pluginInfoId;if(i&&this.pluginGroup[i]){var n=[],a=this.pluginGroup[i]._plugins;Object.keys(a).forEach(function(s){"controls"!==s&&a[s]&&(n.push({plugin:a[s].func,options:a[s].__args}),t.unRegister(i,s))}),n.forEach(function(s){t.register(o,s.plugin,s.options)})}},onPluginsReady:function(o){var t=o._pluginInfoId;if(t&&this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins||{};Object.keys(i).forEach(function(n){i[n].onPluginsReady&&"function"==typeof i[n].onPluginsReady&&i[n].onPluginsReady()})}},destroy:function(o){var t=o._pluginInfoId;if(this.pluginGroup[t]){!function vCe(r,o){Fw.unObserver(r,o)}(o.root);for(var n=0,a=Object.keys(this.pluginGroup[t]._plugins);n<a.length;n++)this.unRegister(t,a[n]);var d=o.isUseActive;if(delete this.pluginGroup[t],delete o._pluginInfoId,d){var m=Object.keys(this.pluginGroup);m.length>0&&this.setCurrentUserActive(m[m.length-1],!0)}}}},cr={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function qj(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:Wwe(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var yCe=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onMouseEnter",function(d){var m=vn(i);m.playerConfig.closeControlsBlur&&m.player.focus({autoHide:!1})}),Gn(vn(i),"onMouseLeave",function(d){vn(i).player.focus()}),i}return uo(t,[{key:"beforeCreate",value:function(n){!n.config.mode&&"mobile"===xa.device&&(n.config.mode="flex"),n.player.config.marginControls&&(n.config.autoHide=!1)}},{key:"afterCreate",value:function(){var n=this,a=this.config,d=a.height;if(!a.disable){"flex"===a.mode&&this.player.addClass(cr.FLEX_CONTROLS);var I={height:"".concat(d,"px")};Object.keys(I).map(function(oe){n.root.style[oe]=I[oe]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(CD,function(oe){oe?Xt.addClass(n.root,"mini-controls"):Xt.removeClass(n.root,"mini-controls")}),"mobile"!==xa.device&&"mobile"!==this.playerConfig.isMobileSimulateMode&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&Xt.addClass(this.root,cr.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){Xt.removeClass(this.root,cr.CONTROLS_AUTOHIDE)}},{key:"show",value:function(n){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(this.root&&!a.root){switch(a.position?a.position:a.config&&a.config.position?a.config.position:(n.defaultConfig||{}).position){case vl.CONTROLS_LEFT:a.root=this.left;break;case vl.CONTROLS_RIGHT:a.root=this.right;break;case vl.CONTROLS_CENTER:a.root=this.center;break;case vl.CONTROLS:a.root=this.root;break;default:a.root=this.left}return aa(Xo(t.prototype),"registerPlugin",this).call(this,n,a,s)}}},{key:"destroy",value:function(){"mobile"!==xa.device&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var n=this.config,a=n.mode,s=n.autoHide,d=n.initShow;if(!n.disable){var I=Xt.classNames({"xgplayer-controls":!0},{"flex-controls":"flex"===a},{"bottom-controls":"bottom"===a},Gn({},cr.CONTROLS_AUTOHIDE,s),{"xgplayer-controls-initshow":d||!s});return'<xg-controls class="'.concat(I,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),t}(Qs),Mu={lang:{},langKeys:[],textKeys:[]};function Sw(r,o){return Object.keys(o).forEach(function(t){var a,i=Xt.typeOf(o[t]),n=Xt.typeOf(r[t]);"Array"===i?("Array"!==n&&(r[t]=[]),(a=r[t]).push.apply(a,Hh(o[t]))):"Object"===i?("Object"!==n&&(r[t]={}),Sw(r[t],o[t])):r[t]=o[t]}),r}function e5(){Object.keys(Mu.lang.en).map(function(r){Mu.textKeys[r]=r})}function oQ(r,o){var t=r.LANG;if(o||(o=Mu),o.lang){var i=r.TEXT||{};"zh"===t&&(t="zh-cn"),o.lang[t]?Sw(o.lang[t],i):(o.langKeys.push(t),o.lang[t]=i),e5()}}oQ({LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}});var J_={get textKeys(){return Mu.textKeys},get langKeys(){return Mu.langKeys},get lang(){var r={};return Mu.langKeys.map(function(o){r[o]=Mu.lang[o]}),Mu.lang["zh-cn"]&&(r.zh=Mu.lang["zh-cn"]||{}),r},extend:function wCe(r,o){var t=[];if(o||(o=Mu),o.lang){t="Array"!==Xt.typeOf(r)?Object.keys(r).map(function(a){return{LANG:"zh"===a?"zh-cn":a,TEXT:r[a]}}):r;var n=o.lang;t.map(function(a){"zh"===a.LANG&&(a.LANG="zh-cn"),n[a.LANG]?Sw(n[a.LANG]||{},a.TEXT||{}):oQ(a,o)}),e5()}},use:oQ,init:function CCe(r){var o,t={lang:{},langKeys:[],textKeys:{},pId:r};return Sw(t.lang,Mu.lang),(o=t.langKeys).push.apply(o,Hh(Mu.langKeys)),Sw(t.textKeys,Mu.textKeys),t}},t5=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],cu={},aQ=null,n5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"add",value:function(n){n&&(cu[n.playerId]=n,1===Object.keys(cu).length&&this.setActive(n.playerId,!0))}},{key:"remove",value:function(n){n&&delete cu[n.playerId]}},{key:"_iterate",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var s in cu)if(Object.prototype.hasOwnProperty.call(cu,s)){var d=cu[s];if(a){if(n(d))break}else n(d)}}},{key:"forEach",value:function(n){this._iterate(n)}},{key:"find",value:function(n){var a=null;return this._iterate(function(s){var d=n(s);return d&&(a=s),d},!0),a}},{key:"findAll",value:function(n){var a=[];return this._iterate(function(s){n(s)&&a.push(s)}),a}},{key:"setActive",value:function(n){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(cu[n])return a?this.forEach(function(s){n===s.playerId?(s.isUserActive=!0,s.isInstNext=!1):s.isUserActive=!1}):cu[n].isUserActive=a,n}},{key:"getActiveId",value:function(){for(var n=Object.keys(cu),a=0;a<n.length;a++){var s=cu[n[a]];if(s&&s.isUserActive)return n[a]}return null}},{key:"setNext",value:function(n){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(cu[n])return a?this.forEach(function(s){n===s.playerId?(s.isUserActive=!1,s.isInstNext=!0):s.isInstNext=!1}):cu[n].isInstNext=a,n}}],[{key:"getInstance",value:function(){return aQ||(aQ=new t),aQ}}]),t}(Ej.EventEmitter),BCe=["play","pause","replay","retry"],r5=0,o5=0,V0=null,TD=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;Ao(this,t);var a=Xt.deepMerge(qj(),i);Gn(vn(n=o.call(this,a)),"canPlayFunc",function(){if(n.config){var nt=n.config,Tt=nt.autoplay,Zt=nt.defaultPlaybackRate;ss.logInfo("player","canPlayFunc, startTime",n.__startTime),n.__startTime>0&&n.duration>0&&(n.currentTime=n.__startTime>n.duration?n.duration:n.__startTime,n.__startTime=-1),n.playbackRate=Zt,(Tt||n._useAutoplay)&&n.mediaPlay(),n.off(Uf,n.canPlayFunc),n.removeClass(cr.ENTER)}}),Gn(vn(n),"onFullscreenChange",function(nt,Tt){var Zt=function(){Xt.setTimeout(vn(n),function(){n.resize()},100)},ci=Xt.getFullScreenEl();n._fullActionFrom?n._fullActionFrom="":n.emit(BD,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:n.currentTime,duration:n.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var xi=function Kwe(r,o,t){if(r){var i=r.getAttribute(t);return!(!i||i!==o||"VIDEO"!==r.tagName&&"AUDIO"!==r.tagName)}}(ci,n.playerId,H0);if(Tt||ci&&(ci===n._fullscreenEl||xi))Zt(),!n.config.closeFocusVideoFocus&&n.media.focus(),n.fullscreen=!0,n.changeFullStyle(n.root,ci,cr.FULLSCREEN),n.emit(zf,!0,n._fullScreenOffset),n.cssfullscreen&&n.exitCssFullscreen();else if(n.fullscreen){Zt();var Oi=vn(n),Ui=Oi._fullScreenOffset;Oi.config.needFullscreenScroll?(window.scrollTo(Ui.left,Ui.top),Xt.setTimeout(vn(n),function(){n.fullscreen=!1,n._fullScreenOffset=null},100)):(!n.config.closeFocusVideoFocus&&n.media.focus(),n.fullscreen=!1,n._fullScreenOffset=null),n.cssfullscreen?n.removeClass(cr.FULLSCREEN):n.recoverFullStyle(n.root,n._fullscreenEl,cr.FULLSCREEN),n._fullscreenEl=null,n.emit(zf,!1)}}),Gn(vn(n),"_onWebkitbeginfullscreen",function(nt){n._fullscreenEl=n.media,n.onFullscreenChange(nt,!0)}),Gn(vn(n),"_onWebkitendfullscreen",function(nt){n.onFullscreenChange(nt,!1)}),Kj(vn(n),BCe),n.config=a,n._pluginInfoId=Xt.generateSessionId(),function Uwe(r){r.logInfo=ss.logInfo.bind(r),r.logWarn=ss.logWarn.bind(r),r.logError=ss.logError.bind(r)}(vn(n));var s=n.constructor.defaultPreset;if(n.config.presets.length){var d=n.config.presets.indexOf("default");d>=0&&s&&(n.config.presets[d]=s)}else s&&n.config.presets.push(s);if(n.userTimer=null,n.waitTimer=null,n.handleSource=!0,n._state=1,n.isError=!1,n._hasStart=!1,n.isSeeking=!1,n.isCanplay=!1,n._useAutoplay=!1,n.__startTime=-1,n.rotateDeg=0,n.isActive=!1,n.fullscreen=!1,n.cssfullscreen=!1,n.isRotateFullscreen=!1,n._fullscreenEl=null,n.timeSegments=[],n._cssfullscreenEl=null,n.curDefinition=null,n._orgCss="",n._fullScreenOffset=null,n._videoHeight=0,n._videoWidth=0,n.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},n.sizeInfo={width:0,height:0,left:0,top:0},n._accPlayed={t:0,acc:0,loopAcc:0},n._offsetInfo={currentTime:-1,duration:0},n.innerContainer=null,n.controls=null,n.topBar=null,n.root=null,n.__i18n=J_.init(n._pluginInfoId),xa.os.isAndroid&&xa.osVersion>0&&xa.osVersion<6&&(n.config.autoplay=!1),n.database=new cCe,n.isUserActive=!1,n._onceSeekCanplay=null,n._isPauseBeforeSeek=0,n.innerStates={isActiveLocked:!1},n.instManager=V0,!n._initDOM())return console.error(new Error("can't find the dom which id is ".concat(n.config.id," or this.config.el does not exist"))),j4(n);var I=n.config,J=I.definition,oe=void 0===J?{}:J;if(!I.url&&oe.list&&oe.list.length>0){var $e=oe.list.find(function(nt){return nt.definition&&nt.definition===oe.defaultDefinition});$e||(oe.defaultDefinition=oe.list[0].definition,$e=oe.list[0]),n.config.url=$e.url,n.curDefinition=$e}return n._bindEvents(),n._registerPresets(),n._registerPlugins(),LA.onPluginsReady(vn(n)),n.getInitDefinition(),n.setState(2),Xt.setTimeout(vn(n),function(){n.emit(K4)},0),n.onReady&&n.onReady(),(n.config.videoInit||n.config.autoplay)&&(!n.hasStart||n.state<4)&&n.start(),n}return uo(t,[{key:"_initDOM",value:function(){var n,a=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var s=this.config.el;if(!s||1!==s.nodeType)return this.emit(Iw,new Dw("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1;this.root=s}var d=function ECe(r){for(var o=Object.keys(cu),t=0;t<o.length;t++){var i=cu[o[t]];if(i.root===r)return i}return null}(this.root);d&&(ss.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),d.destroy()),this.root.setAttribute(H0,this.playerId),null===(n=V0)||void 0===n||n.add(this),LA.init(this),this._initBaseDoms();var m=this.constructor.XgVideoProxy;if(m&&this.mediaConfig.mediaType===m.mediaType){var I=this.innerContainer||this.root;this.detachVideoEvents(this.media);var J=new m(I,this.config,this.mediaConfig);this.attachVideoEvents(J),this.media=J}if(this.media.setAttribute(H0,this.playerId),this.config.controls){var Ce=LA.register(this,yCe,{root:this.config.controls.root||null});this.controls=Ce}var $e="mobile"===this.config.isMobileSimulateMode?"mobile":xa.device;if(this.addClass("".concat(cr.DEFAULT," ").concat(cr.INACTIVE," xgplayer-").concat($e," ").concat(this.config.controls?"":cr.NO_CONTROLS)),this.addClass(this.config.autoplay?cr.ENTER:cr.NO_START),this.config.fluid){var nt=this.config,Tt=nt.width,Zt=nt.height;("number"!=typeof Tt||"number"!=typeof Zt)&&(Tt=600,Zt=337.5);var ci={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(100*Zt/Tt,"%")};Object.keys(ci).forEach(function(pn){a.root.style[pn]=ci[pn]})}else["width","height"].forEach(function(pn){a.config[pn]&&(a.root.style[pn]="number"!=typeof a.config[pn]?a.config[pn]:"".concat(a.config[pn],"px"))});var xi=this.root.getBoundingClientRect(),Ui=xi.height,Hi=xi.left,gn=xi.top;return this.sizeInfo.width=xi.width,this.sizeInfo.height=Ui,this.sizeInfo.left=Hi,this.sizeInfo.top=gn,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=Xt.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var n=this;["focus","blur"].forEach(function(a){n.on(a,n["on"+a.charAt(0).toUpperCase()+a.slice(1)])}),zj.forEach(function(a){document&&document.addEventListener(a,n.onFullscreenChange)}),xa.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(Op,this.resize),this.playFunc=function(){n.config.closeFocusVideoFocus||n.media.focus()},this.once(Bu,this.playFunc)}},{key:"_unbindEvents",value:function(){var n=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),zj.forEach(function(a){document.removeEventListener(a,n.onFullscreenChange)}),this.playFunc&&this.off(Bu,this.playFunc),this.off(Uf,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(n){var a=this;if(this.media&&(n&&""!==n&&("Array"!==Xt.typeOf(n)||0!==n.length)||(n="",this.emit(Qj),ss.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this.handleSource&&(this._detachSourceEvents(this.media),"Array"===Xt.typeOf(n)&&n.length>0?this._attachSourceEvents(this.media,n):this.media.src&&this.media.src===n?n||this.media.removeAttribute("src"):this.media.src=n),"Number"===Xt.typeOf(this.config.volume)&&(this.volume=this.config.volume);var s=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!s.contains(this.media)&&s.insertBefore(this.media,s.firstChild);var d=this.media.readyState;ss.logInfo("_startInit readyState",d),this.config.autoplay&&(!Xt.isMSE(this.media)&&this.load(),(xa.os.isIpad||xa.os.isPhone)&&this.mediaPlay());var m=this.config.startTime;this.__startTime=m>0?m:-1,this.config.startTime=0,d>=2&&this.duration>0?this.canPlayFunc():this.on(Uf,this.canPlayFunc),(!this.hasStart||this.state<4)&&LA.afterInit(this),this.hasStart=!0,this.setState(4),Xt.setTimeout(this,function(){a.emit(yD)},0)}}},{key:"_registerPlugins",value:function(){var n=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._loadingPlugins=[];var s=this.config.ignores||[],d=this.config.plugins||[];a&&J_.extend(this.config.i18n||[],this.__i18n);var I=s.join("||").toLowerCase().split("||"),J=this.plugins;d.forEach(function(oe){try{var Ce=oe.plugin?oe.plugin.pluginName:oe.pluginName;if(Ce&&I.indexOf(Ce.toLowerCase())>-1)return null;if(!a&&J[Ce.toLowerCase()])return;if(oe.lazy&&oe.loader){var $e=LA.lazyRegister(n,oe);return void(oe.forceBeforeInit&&($e.then(function(){n._loadingPlugins.splice(n._loadingPlugins.indexOf($e),1)}).catch(function(nt){ss.logError("_registerPlugins:loadingPlugin",nt),n._loadingPlugins.splice(n._loadingPlugins.indexOf($e),1)}),n._loadingPlugins.push($e)))}return n.registerPlugin(oe)}catch(nt){ss.logError("_registerPlugins:",nt)}})}},{key:"_registerPresets",value:function(){var n=this;this.config.presets.forEach(function(a){!function(o,t){var i,n,a,d=(a=t.preset&&t.options?new t.preset(t.options,o.config):new t({},o.config)).plugins,m=void 0===d?[]:d,I=a.ignores,J=void 0===I?[]:I,oe=a.icons,Ce=void 0===oe?{}:oe,$e=a.i18n,nt=void 0===$e?[]:$e;o.config.plugins||(o.config.plugins=[]),o.config.ignores||(o.config.ignores=[]),(i=o.config.plugins).push.apply(i,Hh(m)),(n=o.config.ignores).push.apply(n,Hh(J)),Object.keys(Ce).map(function(Zt){o.config.icons[Zt]||(o.config.icons[Zt]=Ce[Zt])}),nt.push.apply(nt,Hh(o.config.i18n||[])),o.config.i18n=nt}(n,a)})}},{key:"_getRootByPosition",value:function(n){var a=null;switch(n){case vl.ROOT_RIGHT:this.rightBar||(this.rightBar=Xt.createPositionBar("xg-right-bar",this.root)),a=this.rightBar;break;case vl.ROOT_LEFT:this.leftBar||(this.leftBar=Xt.createPositionBar("xg-left-bar",this.root)),a=this.leftBar;break;case vl.ROOT_TOP:this.topBar||(this.topBar=Xt.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&Xt.addClass(this.topBar,cr.TOP_BAR_AUTOHIDE)),a=this.topBar;break;default:a=this.innerContainer||this.root}return a}},{key:"registerPlugin",value:function(n,a){var s=LA.formatPluginInfo(n,a),d=s.PLUFGIN,m=s.options,I=this.config.plugins;!LA.checkPluginIfExits(d.pluginName,I)&&I.push(d);var oe=LA.getRootByConfig(d.pluginName,this.config);oe.root&&(m.root=oe.root),oe.position&&(m.position=oe.position);var Ce=m.position?m.position:m.config&&m.config.position||d.defaultConfig&&d.defaultConfig.position;return!m.root&&"string"==typeof Ce&&Ce.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(d,m,d.pluginName):(m.root||(m.root=this._getRootByPosition(Ce)),LA.register(this,d,m))}},{key:"deregister",value:function(n){"string"==typeof n?LA.unRegister(this,n):n instanceof Vh&&LA.unRegister(this,n.pluginName)}},{key:"unRegisterPlugin",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.deregister(n),a&&this.removePluginFromConfig(n)}},{key:"removePluginFromConfig",value:function(n){var a;if("string"==typeof n?a=n:n instanceof Vh&&(a=n.pluginName),a)for(var s=this.config.plugins.length-1;s>-1;s--)if(this.config.plugins[s].pluginName.toLowerCase()===a.toLowerCase()){this.config.plugins.splice(s,1);break}}},{key:"plugins",get:function(){return LA.getPlugins(this)}},{key:"getPlugin",value:function(n){var a=LA.findPlugin(this,n);return a&&a.pluginName?a:null}},{key:"addClass",value:function(n){this.root&&(Xt.hasClass(this.root,n)||Xt.addClass(this.root,n))}},{key:"removeClass",value:function(n){this.root&&Xt.removeClass(this.root,n)}},{key:"hasClass",value:function(n){if(this.root)return Xt.hasClass(this.root,n)}},{key:"setAttribute",value:function(n,a){this.root&&this.root.setAttribute(n,a)}},{key:"removeAttribute",value:function(n,a){this.root&&this.root.removeAttribute(n,a)}},{key:"start",value:function(n){var a=this;if(!(this.state>3))return!n&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState(3),this._registerPlugins(!1),LA.beforeInit(this).then(function(){if(a.config){n||(n=a.url||a.config.url);var s=a._preProcessUrl(n);return a._startInit(s.url)}}).catch(function(s){throw s.fileName="player",s.lineNumber="236",ss.logError("start:beforeInit:",s),s})}},{key:"switchURL",value:function(n,a){var s=this,d=n;"Object"===Xt.typeOf(n)&&(d=n.url),d=this._preProcessUrl(d).url,this.__startTime=this.currentTime;var I=this.paused&&!this.isError;return this.src=d,new Promise(function(J,oe){var Ce=function(Tt){s.off("timeupdate",$e),s.off("canplay",$e),oe(Tt)},$e=function(){s.duration>0&&s.__startTime>0&&(s.currentTime=s.__startTime,s.__startTime=-1),I&&s.pause(),s.off("error",Ce),J(!0)};s.once("error",Ce),d?(s.once(xa.os.isAndroid?"timeupdate":"canplay",$e),s.play()):s.errorHandler("error",{code:6,message:"empty_src"})})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var n=this;if(!this.hasStart&&this.state<4)return this.removeClass(cr.NO_START),this.addClass(cr.ENTER),this.start(),void(this._useAutoplay=!0);this.state<6&&(this.removeClass(cr.NO_START),!this.isCanplay&&this.addClass(cr.ENTER));var a=aa(Xo(t.prototype),"play",this).call(this);return void 0!==a&&a&&a.then?a.then(function(){n.removeClass(cr.NOT_ALLOW_AUTOPLAY),n.addClass(cr.PLAYING),n.state<6&&(ss.logInfo(">>>>playPromise.then"),n.setState(6),n.emit(z0))}).catch(function(s){if(ss.logWarn(">>>>playPromise.catch",s.name),n.media&&n.media.error)return n.onError(),void n.removeClass(cr.ENTER);"NotAllowedError"===s.name&&(n._errorTimer=Xt.setTimeout(n,function(){n._errorTimer=null,n.emit(X4),n.addClass(cr.NOT_ALLOW_AUTOPLAY),n.removeClass(cr.ENTER),n.pause(),n.setState(5)},0))}):(ss.logWarn("video.play not return promise"),this.state<6&&(this.setState(6),this.removeClass(cr.NOT_ALLOW_AUTOPLAY),this.removeClass(cr.NO_START),this.removeClass(cr.ENTER),this.addClass(cr.PLAYING),this.emit(z0))),a}},{key:"mediaPause",value:function(){aa(Xo(t.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){aa(Xo(t.prototype),"pause",this).call(this)}},{key:"play",value:function(){var n=this;return this.removeClass(cr.PAUSED),Hf(this,"play",function(){return n.mediaPlay()})}},{key:"pause",value:function(){var n=this;Hf(this,"pause",function(){aa(Xo(t.prototype),"pause",n).call(n)})}},{key:"seek",value:function(n,a){var s=this;if(this.media&&!Number.isNaN(Number(n))&&this.hasStart){var d=this.config,J=a||(d.isSeekedPlay?"play":d.seekedStatus);n=n<0?0:n>this.duration?parseInt(this.duration,10):n,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(Gf,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(s.removeClass(cr.ENTER),s.isSeeking=!1,J){case"play":s.play();break;case"pause":s.pause();break;default:s._isPauseBeforeSeek>1||s.paused?s.pause():s.play()}s._isPauseBeforeSeek=0,s._onceSeekCanplay=null},this.once(Gf,this._onceSeekCanplay),this.state<6?(this.removeClass(cr.NO_START),this.currentTime=n,this.play()):this.currentTime=n}}},{key:"getInitDefinition",value:function(){var n=this,a=this.config,s=a.definition;!a.url&&s&&s.list&&s.list.length>0&&s.defaultDefinition&&s.list.map(function(m){m.definition===s.defaultDefinition&&(n.config.url=m.url,n.curDefinition=m)})}},{key:"changeDefinition",value:function(n,a){var s=this,d=this.config.definition;if(Array.isArray(d?.list)&&d.list.forEach(function(I){n?.definition===I.definition&&(s.curDefinition=I)}),null!=n&&n.bitrate&&"number"!=typeof n.bitrate&&(n.bitrate=parseInt(n.bitrate,10)||0),this.emit(q4,{from:a,to:n}),this.hasStart){var m=this.switchURL(n.url,xc({seamless:!1!==d.seamless&&typeof MediaSource<"u"&&"function"==typeof MediaSource.isTypeSupported},n));m&&m.then?m.then(function(){s.emit(eQ,{from:a,to:n})}):this.emit(eQ,{from:a,to:n})}else this.config.url=n.url}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(Op,this.reloadFunc)}},{key:"resetState",value:function(){var n=this,nt=[cr.NOT_ALLOW_AUTOPLAY,cr.PLAYING,cr.NO_START,cr.PAUSED,cr.REPLAY,cr.ENTER,cr.ENDED,cr.ERROR,cr.LOADING];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,nt.forEach(function(Tt){n.removeClass(Tt)}),this.addClass(cr.NO_START),this.emit(MD)}},{key:"reset",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;if(this.resetState(),this.plugins&&(a.map(function(I){n.deregister(I)}),s)){var m=qj();Object.keys(this.config).keys(function(I){"undefined"!==n.config[I]&&("plugins"===I||"presets"===I||"el"===I||"id"===I)&&(n.config[I]=m[I])})}}},{key:"destroy",value:function(){var n,a=this,s=this.innerContainer,d=this.root,m=this.media;if(d&&m){if(this.hasStart=!1,this._useAutoplay=!1,d.removeAttribute(H0),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),Xt.clearAllTimers(this),this.emit(Z4),null===(n=V0)||void 0===n||n.remove(this),LA.destroy(this),Xj(this),aa(Xo(t.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),s)for(var I=s.children,J=0;J<I.length;J++)s.removeChild(I[J]);!s&&m instanceof window.Node&&d.contains(m)&&d.removeChild(m),["topBar","leftBar","rightBar","innerContainer"].map(function(Ce){a[Ce]&&d.removeChild(a[Ce]),a[Ce]=null});var oe=d.className.split(" ");d.className=oe.length>0?oe.filter(function(Ce){return Ce.indexOf("xgplayer")<0}).join(" "):"",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(Ce){a[Ce]=!1})}}},{key:"replay",value:function(){var n=this;this.removeClass(cr.ENDED),this.currentTime=0,this.isSeeking=!1,Hf(this,"replay",function(){n.once(Gf,function(){var a=n.mediaPlay();a&&a.catch&&a.catch(function(s){console.log(s)})}),n.play(),n.emit(bD),n.onPlay()})}},{key:"retry",value:function(){var n=this;this.removeClass(cr.ERROR),this.addClass(cr.LOADING),Hf(this,"retry",function(){var a=n.currentTime,s=n.config.url,d=Xt.isMSE(n.media)?{url:s}:n._preProcessUrl(s);n.src=d.url,!n.config.isLive&&(n.currentTime=a),n.once(Uf,function(){n.mediaPlay()})})}},{key:"changeFullStyle",value:function(n,a,s,d){n&&(d||(d=cr.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=Xt.filterStyleFromText(n)),Xt.addClass(n,s),a&&a!==n&&!this._orgPCss&&(this._orgPCss=Xt.filterStyleFromText(a),Xt.addClass(a,d),a.setAttribute(H0,this.playerId)))}},{key:"recoverFullStyle",value:function(n,a,s,d){d||(d=cr.PARENT_FULLSCREEN),this._orgCss&&(Xt.setStyleFromCsstext(n,this._orgCss),this._orgCss=""),Xt.removeClass(n,s),a&&a!==n&&this._orgPCss&&(Xt.setStyleFromCsstext(a,this._orgPCss),this._orgPCss="",Xt.removeClass(a,d),a.removeAttribute(H0))}},{key:"getFullscreen",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget,s=this.media;if(n||(n=this.root),this._fullScreenOffset={top:Xt.scrollTop(),left:Xt.scrollLeft()},this._fullscreenEl=n,this._fullActionFrom="get",Xt.getFullScreenEl()===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var m=0;m<Hj.length;m++){var I=Hj[m];if(n[I]){var J="webkitRequestFullscreen"===I?n.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):n[I]();return J&&J.then?J:Promise.resolve()}}return s.fullscreenEnabled||s.webkitSupportsFullscreen?(s.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch{return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(n){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),this._fullscreenEl||Xt.getFullScreenEl()){var a=this.media;this._fullActionFrom="exit";try{for(var s=0;s<Vj.length;s++){var d=Vj[s];if(document[d]){var m=document[d]();return m&&m.then?m:Promise.resolve()}}return a&&a.webkitSupportsFullscreen?(a.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch{return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var a=n?"".concat(cr.INNER_FULLSCREEN," ").concat(cr.CSS_FULLSCREEN):cr.CSS_FULLSCREEN;this.changeFullStyle(this.root,n,a);var s=this.config.fullscreen,d=void 0===s?{}:s;(!0===d.useCssFullscreen||"function"==typeof d.useCssFullscreen&&d.useCssFullscreen())&&(this.fullscreen=!0,this.emit(zf,!0)),this._cssfullscreenEl=n,this.cssfullscreen=!0,this.emit(wD,!0)}},{key:"exitCssFullscreen",value:function(){var n=this._cssfullscreenEl?"".concat(cr.INNER_FULLSCREEN," ").concat(cr.CSS_FULLSCREEN):cr.CSS_FULLSCREEN;if(this.fullscreen){var a=this.config.fullscreen,s=void 0===a?{}:a;!0===s.useCssFullscreen||"function"==typeof s.useCssFullscreen&&s.useCssFullscreen()?(this.recoverFullStyle(this.root,this._cssfullscreenEl,n),this.fullscreen=!1,this.emit(zf,!1)):this.removeClass(n)}else this.recoverFullStyle(this.root,this._cssfullscreenEl,n);this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(wD,!1)}},{key:"getRotateFullscreen",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(n);var a=n?"".concat(cr.INNER_FULLSCREEN," ").concat(cr.ROTATE_FULLSCREEN):cr.ROTATE_FULLSCREEN;this._fullscreenEl=n||this.root,this.changeFullStyle(this.root,n,a,cr.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(zf,!0)}},{key:"exitRotateFullscreen",value:function(n){var a=this._fullscreenEl!==this.root?"".concat(cr.INNER_FULLSCREEN," ").concat(cr.ROTATE_FULLSCREEN):cr.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,a,cr.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(zf,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(n){this.rotateDeg=90===window.orientation||-90===window.orientation?0:n}},{key:"focus",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};this.isActive?this.onFocus(n):this.emit(W4,xc({paused:this.paused,ended:this.ended},n))}},{key:"blur",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};this.isActive?this.emit(Sj,xc({paused:this.paused,ended:this.ended},n)):this.onBlur(n)}},{key:"onFocus",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!0,delay:3e3},s=this.innerStates;this.isActive=!0,this.removeClass(cr.INACTIVE),this.userTimer&&(Xt.clearTimeout(this,this.userTimer),this.userTimer=null),void 0!==a.isLock&&(s.isActiveLocked=a.isLock),!1===a.autoHide||!0===a.isLock||s.isActiveLocked?this.userTimer&&(Xt.clearTimeout(this,this.userTimer),this.userTimer=null):this.userTimer=Xt.setTimeout(this,function(){n.userTimer=null,n.blur()},a&&a.delay?a.delay:this.config.inactive)}},{key:"onBlur",value:function(){var a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ignorePaused,s=void 0!==a&&a;if(this.isActive&&!this.innerStates.isActiveLocked){var d=this.config.closePauseVideoFocus;this.isActive=!1,(s||d||!this.paused&&!this.ended)&&this.addClass(cr.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(cr.ENTER),this.removeClass(cr.ERROR),this.removeClass(cr.LOADING),this.isCanplay=!0,this.waitTimer&&Xt.clearTimeout(this,this.waitTimer)}},{key:"onDurationchange",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime,this.__startTime=-1)}},{key:"onLoadeddata",value:function(){this.isError=!1,this.isSeeking=!1}},{key:"onLoadstart",value:function(){this.removeClass(cr.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){7===this.state&&this.setState(6),this.removeClass(cr.PAUSED),this.ended&&this.removeClass(cr.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(cr.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(Xt.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(cr.ENDED),this.setState(7)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(cr.NOT_ALLOW_AUTOPLAY),this.removeClass(cr.NO_START),this.removeClass(cr.ENTER),this.removeClass(cr.LOADING),this.addClass(cr.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(cr.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&Xt.clearTimeout(this,this.waitTimer),this.removeClass(cr.LOADING),this.removeClass(cr.SEEKING)}},{key:"onWaiting",value:function(){var n=this;this.waitTimer&&Xt.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=Xt.setTimeout(this,function(){n.addClass(cr.LOADING),Xt.clearTimeout(n,n.waitTimer),n.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var n=this;this.isError=!1,[cr.NO_START,cr.PAUSED,cr.ENDED,cr.ERROR,cr.REPLAY,cr.LOADING].forEach(function(Ce){n.removeClass(Ce)}),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=(new Date).getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(cr.LOADING))&&this.media.readyState>2&&(this.removeClass(cr.LOADING),Xt.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state<6&&this.duration&&(this.setState(6),this.emit(z0)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=(new Date).getTime())}},{key:"onVolumechange",value:function(){"Number"===Xt.typeOf(this.config.volume)&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(n,a,s){if(this.media&&a&&n){var d="String"===Xt.typeOf(n)?n:n.type||"";s.props&&"Array"!==Xt.typeOf(s.props)&&(s.props=[s.props]),this.emit(BD,xc({eventType:d,action:a,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:n},s))}}},{key:"updateAcc",value:function(n){if(this._accPlayed.t){var a=(new Date).getTime()-this._accPlayed.t;this._accPlayed.acc+=a,this._accPlayed.t=0,("ended"===n||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(n){var a=this.media.buffered;if(!a||0===a.length||!this.duration)return!0;for(var s=n||this.media.currentTime||.2,d=a.length,m=0;m<d;m++)if(a.start(m)<=s&&a.end(m)>s)return!0;return!1}},{key:"resizePosition",value:function(){var n=this.videoPos,a=n.vy,s=n.vx,d=n.h,m=n.w,I=this.videoPos.rotate;if(!(I<0&&d<0&&m<0)){var J=this.videoPos._pi;if(!J&&this.media.videoHeight&&(J=this.media.videoWidth/this.media.videoHeight*100),J){this.videoPos.pi=J;var oe={rotate:I=I<0?0:I},Ce=0,$e=0,nt=1,Tt=Math.abs(I/90),Zt=this.root,ci=this.innerContainer,xi=Zt.offsetWidth,Oi=ci?ci.offsetHeight:Zt.offsetHeight,Ui=Oi,Hi=xi;if(Tt%2==0)oe.scale=nt=d>0?100/d:m>0?100/m:1,Ce=a>0?(100-d)/2-a:0,oe.y=2===Tt?0-Ce:Ce,$e=s>0?(100-m)/2-s:0,oe.x=2===Tt?0-$e:$e,this.media.style.width="".concat(Hi,"px"),this.media.style.height="".concat(Ui,"px");else if(Tt%2==1){Ui=xi;var gn=Oi-xi;$e=-gn/2/(Hi=Oi)*100,oe.x=3===Tt?$e+a/2:$e-a/2,Ce=gn/2/Ui*100,oe.y=3===Tt?Ce+s/2:Ce-s/2,oe.scale=nt,this.media.style.width="".concat(Hi,"px"),this.media.style.height="".concat(Ui,"px")}var pn=Xt.getTransformStyle(oe,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=pn,this.media.style.webkitTransform=pn}}}},{key:"position",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{h:0,y:0,x:0,w:0};if(this.media&&n&&n.h){var a=this.videoPos;a.h=100*n.h||0,a.w=100*n.w||0,a.vx=100*n.x||0,a.vy=100*n.y||0,this.resizePosition()}}},{key:"setConfig",value:function(n){var a=this;n&&Object.keys(n).map(function(s){if("plugins"!==s){a.config[s]=n[s];var d=a.plugins[s.toLowerCase()];d&&"Function"===Xt.typeOf(d.setConfig)&&d.setConfig(n[s])}})}},{key:"playNext",value:function(n){var a=this;this.resetState(),this.setConfig(n),this._currentTime=0,this._duration=0,Hf(this,"playnext",function(){a.start(),a.emit(ED,n)})}},{key:"resize",value:function(){var n=this;if(this.media){var a=this.root.getBoundingClientRect();this.sizeInfo.width=a.width,this.sizeInfo.height=a.height,this.sizeInfo.left=a.left,this.sizeInfo.top=a.top;var s=this.media,d=s.videoWidth,m=s.videoHeight,I=this.config,J=I.fitVideoSize,oe=I.videoFillMode;if(("fill"===oe||"cover"===oe||"contain"===oe)&&this.setAttribute("data-xgfill",oe),m&&d){this._videoHeight=m,this._videoWidth=d;var Ce=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,$e=a.width,nt=a.height-Ce,Tt=parseInt(d/m*1e3,10),Zt=parseInt($e/nt*1e3,10),ci=$e,xi=nt,Oi={};"auto"===J&&Zt>Tt||"fixWidth"===J?(xi=$e/Tt*1e3,this.config.fluid?Oi.paddingTop="".concat(100*xi/ci,"%"):Oi.height="".concat(xi+Ce,"px")):("auto"===J&&Zt<Tt||"fixHeight"===J)&&(Oi.width="".concat(ci=Tt*nt/1e3,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(Oi).forEach(function(Hi){n.root.style[Hi]=Oi[Hi]}),("fillHeight"===oe&&Zt<Tt||"fillWidth"===oe&&Zt>Tt)&&this.setAttribute("data-xgfill","cover");var Ui={videoScale:Tt,vWidth:ci,vHeight:xi,cWidth:ci,cHeight:xi+Ce};this.resizePosition(),this.emit(fm,Ui)}}}},{key:"updateObjectPosition",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.media.updateObjectPosition?this.media.updateObjectPosition(n,a):this.media.style.objectPosition="".concat(100*n,"% ").concat(100*a,"%")}},{key:"setState",value:function(n){ss.logInfo("setState","state from:".concat(t5[this.state]," to:").concat(t5[n])),this._state=n}},{key:"_preProcessUrl",value:function(n,a){var s=this.config.preProcessUrl;return Xt.isBlob(n)||"function"!=typeof s?{url:n}:s(n,a)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(n){"boolean"==typeof n&&(this._hasStart=n,!1===n&&this.setState(2),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return 6===this._state||7===this._state},set:function(n){n?this.setState(6):this._state>=6&&this.setState(4)}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(n){var a=this,s=this.config.definition,d=null,m=null;s.list=n,this.emit("resourceReady",n),n.forEach(function(I){var J;(null===(J=a.curDefinition)||void 0===J?void 0:J.definition)===I.definition&&(d=I),s.defaultDefinition===I.definition&&(m=I)}),!m&&n.length>0&&(m=n[0]),d?this.changeDefinition(d):m&&this.changeDefinition(m)}},{key:"videoFrameInfo",get:function(){var n={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return n;var a=this.media.getVideoPlaybackQuality();return n.dropped=a.droppedVideoFrames||0,n.total=a.totalVideoFrames||0,n.corrupted=a.corruptedVideoFrames||0,n.total>0&&(n.droppedRate=n.dropped/n.total*100,n.droppedDuration=parseInt(this.cumulateTime/n.total*n.dropped,0)),n}},{key:"lang",get:function(){return this.config.lang},set:function(n){0!==J_.langKeys.filter(function(s){return s===n}).length||"zh"===n?(this.config.lang=n,LA.setLang(n,this)):console.error("Sorry, set lang fail, because the language [".concat(n,"] is not supported now, list of all supported languages is [").concat(J_.langKeys.join(),"] "))}},{key:"i18n",get:function(){var n=this.config.lang;return"zh"===n&&(n="zh-cn"),this.__i18n.lang[n]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return H4}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(n){this.__url=n}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(n){this.plugins.poster&&this.plugins.poster.update(n)}},{key:"readyState",get:function(){return aa(Xo(t.prototype),"readyState",this)}},{key:"error",get:function(){var n=aa(Xo(t.prototype),"error",this);return this.i18n[n]||n}},{key:"networkState",get:function(){return aa(Xo(t.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return null!==this._fullScreenOffset}},{key:"cumulateTime",get:function(){var n=this._accPlayed,a=n.acc,s=n.t;return s?(new Date).getTime()-s+a:a}},{key:"zoom",get:function(){return this.config.zoom},set:function(n){this.config.zoom=n}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(n){(n=Xt.convertDeg(n))%90==0&&n!==this.videoPos.rotate&&(this.videoPos.rotate=n,this.resizePosition())}},{key:"avgSpeed",get:function(){return o5},set:function(n){o5=n}},{key:"realTimeSpeed",get:function(){return r5},set:function(n){r5=n}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(n){this._offsetInfo.currentTime=n}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(n){this._offsetInfo.duration=n||0}},{key:"hook",value:function(n,a){return DD.call.apply(DD,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(n,a){return ID.call.apply(ID,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(n,a){return kD.call.apply(kD,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(n,a,s){for(var d=arguments.length,m=new Array(d>3?d-3:0),I=3;I<d;I++)m[I-3]=arguments[I];return Jj.call.apply(Jj,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(n,a,s){for(var d=arguments.length,m=new Array(d>3?d-3:0),I=3;I<d;I++)m[I-3]=arguments[I];return Wj.call.apply(Wj,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"boolean"==typeof a&&a!==this.muted&&(this.addInnerOP("volumechange"),this.muted=a),LA.setCurrentUserActive(this.playerId,n)}}],[{key:"debugger",get:function(){return ss.config.debug},set:function(n){ss.config.debug=n}},{key:"instManager",get:function(){return V0},set:function(n){V0=n}},{key:"getCurrentUserActivePlayerId",value:function(){var n;return null===(n=V0)||void 0===n?void 0:n.getActiveId()}},{key:"setCurrentUserActive",value:function(n,a){var s;null===(s=V0)||void 0===s||s.setActive(n,a)}},{key:"isHevcSupported",value:function(){return xa.isHevcSupported()}},{key:"probeConfigSupported",value:function(n){return xa.probeConfigSupported(n)}},{key:"install",value:function(n,a){t.plugins||(t.plugins={}),t.plugins[n]||(t.plugins[n]=a)}},{key:"use",value:function(n,a){t.plugins||(t.plugins={}),t.plugins[n]=a}}]),t}(lCe);function Pd(){return(new Date).getTime()}Gn(TD,"defaultPreset",null),Gn(TD,"XgVideoProxy",null),TD.instManager=n5.getInstance();var MCe=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"_onTimeupdate",function(){i._state.isTimeUpdate=!0,i._state.autoplayStart&&(ss.logInfo("[xgLogger]".concat(i.player.playerId," _onTimeupdate")),i._sendFF("onTimeupdate"))}),Gn(vn(i),"_onAutoplayStart",function(){ss.logInfo("[xgLogger]".concat(i.player.playerId," _onAutoplayStart")),i._state.autoplayStart=!0,i.vt&&i._sendFF("onAutoplayStart")}),Gn(vn(i),"_onReset",function(){i._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},i.vt=0,i.pt=0,i.fvt=0,i.newPointTime=Pd(),i.loadedCostTime=0,i.startCostTime=0,i._isSeeking=!1,i.seekingStart=0,i.waitingStart=0,i.fixedWaitingStart=0,i._isWaiting=!1,i._waitTimer&&Xt.clearTimeout(vn(i),i._waitTimer),i._waittTimer&&Xt.clearTimeout(vn(i),i._waittTimer),i._waitTimer=null,i._waittTimer=null,i._waitType=0}),Gn(vn(i),"_onSeeking",function(){i.seekingStart||(i.suspendWaitingStatus("seek"),i.seekingStart=Pd(),i.emitLog("seekStart",{start:Pd()}))}),Gn(vn(i),"_onSeeked",function(){i.suspendSeekingStatus("seeked")}),Gn(vn(i),"_onWaitingLoadStart",function(){i._isWaiting||i.vt||(i._isWaiting=!0,i.waitingStart=Pd(),i.fixedWaitingStart=Pd(),i._waitType=1,i.emitLog("waitingStart",{fixedStart:i.fixedWaitingStart,start:i.waitingStart,type:1,endType:"loadstart"}))}),Gn(vn(i),"_onWaiting",function(){i._isWaiting||!i.vt||(i._isWaiting=!0,i._waitType=i.vt?i.seekingStart?2:0:1,i.fixedWaitingStart=Pd(),i._waitTimer=Xt.setTimeout(vn(i),function(){i._isWaiting&&(i.waitingStart=Pd(),Xt.clearTimeout(vn(i),i._waitTimer),i._waitTimer=null,i._startWaitTimeout(),i.emitLog("waitingStart",{fixedStart:i.fixedWaitingStart,start:i.waitingStart,type:i._waitType,endType:2===i._waitType?"seek":"playing"}))},200))}),Gn(vn(i),"_onError",function(){i.suspendSeekingStatus("error"),i.suspendWaitingStatus("error")}),Gn(vn(i),"_onPlaying",function(){i._isWaiting&&i.suspendWaitingStatus("playing")}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=Pd(),this.loadedCostTime=0,this.startCostTime=0,this.on(J4,function(){var a=n._state,s=a.autoplayStart,d=a.isFFSend;n.startCostTime=Pd()-n.newPointTime,ss.logInfo("[xgLogger]".concat(n.player.playerId," LOAD_START"),"autoplayStart:".concat(s," isFFSend:").concat(d," startCostTime:").concat(n.startCostTime," newPointTime").concat(n.newPointTime)),!d&&(!a.isLs&&n.emitLog("loadstart",{}),a.isLs=!0,a.isTimeUpdate=!1,a.isFFLoading=!0,n.pt=Pd(),n.vt=0,n.fvt=0,n._initOnceEvents(),n._onWaitingLoadStart())}),this.on(Op,function(){n.vt=Pd(),n.fvt=n.vt-n.pt,n.loadedCostTime=n.vt-n.newPointTime;var a=n._state,s=a.isTimeUpdate,d=a.isFFSend,m=a.autoplayStart;ss.logInfo("[xgLogger]".concat(n.player.playerId," LOADED_DATA"),"fvt:".concat(n.fvt," isTimeUpdate:").concat(n._state.isTimeUpdate," loadedCostTime:").concat(n.loadedCostTime)),(s||m)&&n._sendFF("loadedData"),d||n.emitLog("loadeddata",{}),n.suspendWaitingStatus("loadeddata")}),this.on(_D,this._onSeeking),this.on(Gf,this._onSeeked),this.on(Z4,function(){n.endState("destroy")}),this.on(Tw,function(){n.endState("urlChange"),ss.logInfo("[xgLogger]".concat(n.player.playerId," URL_CHANGE")),n._state.isFFSend&&n._onReset()}),this.on([V4,Uf],this._onPlaying),this.on(kw,this._onWaiting),this.on(Iw,this._onError),this.on(MD,function(){ss.logInfo("[xgLogger]".concat(n.player.playerId," RESET")),n.endState("reset"),n._initOnceEvents(),n._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(z0,this._onAutoplayStart),this.off(Ah,this._onTimeupdate),this.once(z0,this._onAutoplayStart),this.once(Ah,this._onTimeupdate)}},{key:"_sendFF",value:function(n){this.s=Pd();var a=this._state,s=a.isFFLoading,d=a.isFFSend;ss.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(n," fvt:").concat(this.fvt," isFFLoading:").concat(s," !isFFSend:").concat(!d)),this.vt>0&&s&&!d&&(ss.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),n),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog("firstFrame",{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var n=this;this._waittTimer&&Xt.clearTimeout(this,this._waittTimer),this._waittTimer=Xt.setTimeout(this,function(){n.suspendWaitingStatus("timeout"),Xt.clearTimeout(n,n._waittTimer),n._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(n){this.suspendWaitingStatus(n),this.suspendSeekingStatus(n)}},{key:"suspendSeekingStatus",value:function(n){if(this.seekingStart){var a=Pd(),s=a-this.seekingStart;this.seekingStart=0,this.emitLog("seekEnd",{end:a,costTime:s,endType:n})}}},{key:"suspendWaitingStatus",value:function(n){if(this._waitTimer&&(Xt.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(Xt.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.waitingStart){var a=Pd(),s=a-this.waitingStart,d=a-this.fixedWaitingStart,m=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog("waitingEnd",{fixedCostTime:d>m?m:d,costTime:s>m?m:s,type:"loadeddata"===n?1:this._waitType,endType:2===this._waitType?"seek":n})}}},{key:"emitLog",value:function(n,a){var s=this.player;this.emit(Lj,xc({t:Pd(),host:Xt.getHostFromUrl(s.currentSrc),vtype:s.vtype,eventType:n,currentTime:this.player.currentTime,readyState:s.video.readyState,networkState:s.video.networkState},a))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),t}(Qs);function xCe(){return(new DOMParser).parseFromString('<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">\n  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var DCe=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"registerIcons",value:function(){return{replay:xCe}}},{key:"afterCreate",value:function(){var n=this;Qs.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){n.player.replay()},{pre:function(s){s.preventDefault(),s.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(U0,function(){if(n.playerConfig.loop||Xt.addClass(n.player.root,"replay"),!n.config.disable){n.show();var a=n.root.querySelector("path");if(a){var s=window.getComputedStyle(a).getPropertyValue("transform");if("string"==typeof s&&s.indexOf("none")>-1)return null;a.setAttribute("transform",s)}}}),this.on(Bu,function(){n.hide()})}},{key:"handleReplay",value:function(n){n.preventDefault(),n.stopPropagation(),this.player.replay(),Xt.removeClass(this.player.root,"replay")}},{key:"show",value:function(n){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),t}(Qs),a5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(n){this.config.isEndedShow=n}},{key:"hide",value:function(){Xt.addClass(this.root,"hide")}},{key:"show",value:function(n){Xt.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(n){"string"==typeof n.player.config.poster&&(n.config.poster=n.player.config.poster)}},{key:"afterCreate",value:function(){var n=this;this.on(U0,function(){n.isEndedShow&&Xt.removeClass(n.root,"hide")}),this.config.hideCanplay?(this.once(Ah,function(){n.onTimeUpdate()}),this.on(Tw,function(){Xt.removeClass(n.root,"hide"),Xt.addClass(n.root,"xg-showplay"),n.once(Ah,function(){n.onTimeUpdate()})})):this.on(Bu,function(){Xt.addClass(n.root,"hide")})}},{key:"onTimeUpdate",value:function(){var n=this;this.player.currentTime?Xt.removeClass(this.root,"xg-showplay"):this.once(Ah,function(){n.onTimeUpdate()})}},{key:"update",value:function(n){n&&(this.config.poster=n,this.root.style.backgroundImage="url(".concat(n,")"))}},{key:"getBgSize",value:function(n){var a="";switch(n){case"cover":a="cover";break;case"container":a="container";break;case"fixHeight":a="auto 100%";break;default:a=""}return a?"background-size: ".concat(a,";"):""}},{key:"render",value:function(){var n=this.config,a=n.poster,s=n.hideCanplay,m=n.notHidden,I=this.getBgSize(n.fillMode),J=a?"background-image:url(".concat(a,");").concat(I):I;return'<xg-poster class="xgplayer-poster '.concat(m?"xg-not-hidden":s?"xg-showplay":"",'" style="').concat(J,'">\n    </xg-poster>')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),t}(Qs);function sQ(){return(new DOMParser).parseFromString('<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',"image/svg+xml").firstChild}function lQ(){return(new DOMParser).parseFromString('<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Lp={};function s5(r){r?window.clearTimeout(r):Object.keys(Lp).map(function(o){window.clearTimeout(Lp[o].id),delete Lp[o]})}var l5=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"onPlayerReset",function(){n.autoPlayStart=!1;var a="auto"===n.config.mode?"auto-hide":"hide";n.setAttr("data-state","play"),Xt.removeClass(n.root,a),n.show()}),Gn(vn(n),"onAutoplayStart",function(){n.autoPlayStart||(Xt.addClass(n.root,"auto"===n.config.mode?"auto-hide":"hide"),n.autoPlayStart=!0,n.onPlayPause("play"))}),n.autoPlayStart=!1,n}return uo(t,[{key:"afterCreate",value:function(){var n=this,a=this.player,s=this.playerConfig;this.initIcons(),this.once(K4,function(){s&&(s.lang&&"en"===s.lang?Xt.addClass(a.root,"lang-is-en"):"jp"===s.lang&&Xt.addClass(a.root,"lang-is-jp"))}),this.on(z0,this.onAutoplayStart),s.autoplay||this.show(),this.on(X4,function(){var d="auto"===n.config.mode?"auto-hide":"hide";n.setAttr("data-state","play"),Xt.removeClass(n.root,d),n.show()}),this.on(Bu,function(){n.onPlayPause("play")}),this.on(H_,function(){n.onPlayPause("pause")}),this.on(MD,function(){n.onPlayerReset()}),this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(m){m.cancelable&&m.preventDefault(),m.stopPropagation();var I=n.player.paused;n.emitUserAction(m,"switch_play_pause",{props:"paused",from:I,to:!I})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:sQ,class:"xg-icon-play"},startPause:{icon:lQ,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild("xg-start-inner",n.startPlay),this.appendChild("xg-start-inner",n.startPause)}},{key:"hide",value:function(){Xt.addClass(this.root,"hide")}},{key:"show",value:function(n){Xt.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){Xt.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){Xt.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(n){this.setAttr("data-state",n?this.player.paused?"pause":"play":this.player.paused?"play":"pause")}},{key:"animate",value:function(n){var a=this;this._animateId=function ICe(r,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:null,end:null};return Lp[r]&&window.clearTimeout(Lp[r].id),Lp[r]={},t.start&&t.start(),Lp[r].id=window.setTimeout(function(){t.end&&t.end(),window.clearTimeout(Lp[r].id),delete Lp[r]},o),Lp[r].id}("pauseplay",400,{start:function(){Xt.addClass(a.root,"interact"),a.show(),a.switchStatus(!0)},end:function(){Xt.removeClass(a.root,"interact"),!n&&a.hide(),a._animateId=null}})}},{key:"endAnimate",value:function(){Xt.removeClass(this.root,"interact"),s5(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(n){var a=this.player;n.cancelable&&n.preventDefault(),n.stopPropagation(),a.state<2||(this.player.paused||6!==a.state?a.play():a.pause())}},{key:"onPlayPause",value:function(n){var a=this.config,s=this.player;if(s&&!(s.state<6)&&this.autoPlayStart){if("show"===a.mode)return this.switchStatus(),void this.show();if("auto"===a.mode)return void this.switchStatus();if(a.isShowPause&&s.paused&&!s.ended||a.isShowEnd&&s.ended)return this.switchStatus(),this.show(),void this.endAnimate();if(a.disableAnimate)return this.switchStatus(),void this.hide();if("play"===n)this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||s.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),s5(this._animateId)}},{key:"render",value:function(){return'\n    <xg-start class="xgplayer-start '.concat(this.playerConfig.autoplay?"auto"===this.config.mode?"auto-hide":"hide":"",'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),t}(Qs),c5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"render",value:function(){var n=this.config.innerHtml,a=Xt.createDom("xg-enter","",{},"xgplayer-enter");if(n&&n instanceof window.HTMLElement)a.appendChild(n);else if(n&&"string"==typeof n)a.innerHTML=n;else{for(var s="",d=1;d<=12;d++)s+='<div class="xgplayer-enter-bar'.concat(d,'"></div>');a.innerHTML='<div class="xgplayer-enter-spinner">'.concat(s,"</div>")}return a}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),t}(Qs);function mm(r,o,t){try{return' <div class="xg-tips '.concat(t?"hide":" ",'" lang-key="').concat(r.i18nKeys[o],'">\n    ').concat(r.i18n[o],"\n    </div>")}catch{return'<div class="xg-tips hide"></div>'}}var A5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var n="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[n],'">').concat(this.i18n[n],"</span></div>\n      </xg-icon>")}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:10}}}]),t}(Qs);function d5(r){var o=parseFloat(r);return-1===r.indexOf("%")&&!Number.isNaN(o)&&o}var cQ=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u5=cQ.length;function h5(r){if("string"==typeof r&&(r=document.querySelector(r)),r&&"object"===Rd(r)&&r.nodeType){var o=function TCe(r){return window.getComputedStyle(r)}(r);if("none"===o.display)return function kCe(){for(var r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},o=0;o<u5;o++)r[cQ[o]]=0;return r}();var t={};t.width=r.offsetWidth,t.height=r.offsetHeight;for(var i=t.isBorderBox="border-box"===o.boxSizing,n=0;n<u5;n++){var a=cQ[n],d=parseFloat(o[a]);t[a]=Number.isNaN(d)?0:d}var m=t.paddingLeft+t.paddingRight,I=t.paddingTop+t.paddingBottom,J=t.marginLeft+t.marginRight,oe=t.marginTop+t.marginBottom,Ce=t.borderLeftWidth+t.borderRightWidth,$e=t.borderTopWidth+t.borderBottomWidth,nt=i,Tt=d5(o.width);!1!==Tt&&(t.width=Tt+(nt?0:m+Ce));var Zt=d5(o.height);return!1!==Zt&&(t.height=Zt+(nt?0:I+$e)),t.innerWidth=t.width-(m+Ce),t.innerHeight=t.height-(I+$e),t.outerWidth=t.width+J,t.outerHeight=t.height+oe,t}}function AQ(r,o){for(var t=0;t<r.length;t++){var i=r[t];if(i.identifier===o)return i}}var p5={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},FCe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ao(this,t),(n=o.call(this)).isEnabled=!0,n.isDragging=!1,n.isDown=!1,n.position={},n.downPoint={},n.dragPoint={x:0,y:0},n.startPos={x:0,y:0},n._root=i instanceof Element?i:document.querySelector(i),n._handlerDom=a.handle instanceof Element?a.handle:document.querySelector(a.handle),n._root&&n._handlerDom?(n._bindStartEvent(),n):j4(n)}return uo(t,[{key:"_bindStartEvent",value:function(){var n=this;this._startKey="ontouchstart"in window?"touchstart":"mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),p5[this._startKey].map(function(a){n["on".concat(a)]=n["on".concat(a)].bind(n)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(n){var a=this;if(n){var s=p5[this._startKey];s.map(function(d){window.addEventListener(d,a["on".concat(d)])}),this._boundPointerEvents=s}}},{key:"_unbindPostStartEvents",value:function(){var n=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(a){window.removeEventListener(a,n["on".concat(a)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(n){this.onUp()}},{key:"animate",value:function(){var n=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){n.animate()}))}},{key:"positionDrag",value:function(){var n="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=n,this._root.style.webKitTransform=n}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(n){this.dragStart(n,n)}},{key:"onmousemove",value:function(n){this.dragMove(n,n)}},{key:"onmouseup",value:function(n){this.dragEnd(n,n)}},{key:"ontouchstart",value:function(n){var a=n.changedTouches[0];this.dragStart(n,a),this.touchIdentifier=void 0!==a.pointerId?a.pointerId:a.identifier,n.preventDefault()}},{key:"ontouchmove",value:function(n){var a=AQ(n.changedTouches,this.touchIdentifier);a&&this.dragMove(n,a)}},{key:"ontouchend",value:function(n){var a=AQ(n.changedTouches,this.touchIdentifier);a&&this.dragEnd(n,a),n.preventDefault()}},{key:"ontouchcancel",value:function(n){var a=AQ(n.changedTouches,this.touchIdentifier);a&&this.dragCancel(n,a)}},{key:"dragStart",value:function(n,a){if(this._root&&!this.isDown&&this.isEnabled){this.downPoint=a,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var s=h5(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-s.height,this.startPos.maxX=window.innerWidth-s.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(n)}}},{key:"dragRealStart",value:function(n,a){this.isDragging=!0,this.animate(),this.emit("dragStart",this.startPos)}},{key:"dragEnd",value:function(n,a){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit("dragEnded")),this.presetInfo())}},{key:"_dragPointerMove",value:function(n,a){var s={x:a.pageX-this.downPoint.pageX,y:a.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(s)&&this.dragRealStart(n,a),s}},{key:"dragMove",value:function(n,a){if(n=n||window.event,this.isDown){var s=this.startPos,d=s.x,m=s.y,I=this._dragPointerMove(n,a),J=I.x,oe=I.y;J=this.checkContain("x",J,d),oe=this.checkContain("y",oe,m),this.position.x=d+J,this.position.y=m+oe,this.dragPoint.x=J,this.dragPoint.y=oe,this.emit("dragMove",this.position)}}},{key:"dragCancel",value:function(n,a){this.dragEnd(n,a)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(n){return Math.abs(n.x)>3||Math.abs(n.y)>3}},{key:"checkContain",value:function(n,a,s){return a+s<0?0-s:"x"===n&&a+s>this.startPos.maxX?this.startPos.maxX-s:"y"===n&&a+s>this.startPos.maxY?this.startPos.maxY-s:a}},{key:"_getPosition",value:function(){var n=window.getComputedStyle(this._root),a=this._getPositionCoord(n.left,"width"),s=this._getPositionCoord(n.top,"height");this.position.x=Number.isNaN(a)?0:a,this.position.y=Number.isNaN(s)?0:s,this._addTransformPosition(n)}},{key:"_addTransformPosition",value:function(n){var a=n.transform;if(0===a.indexOf("matrix")){var s=a.split(","),d=0===a.indexOf("matrix3d")?12:4,m=parseInt(s[d],10),I=parseInt(s[d+1],10);this.position.x+=m,this.position.y+=I}}},{key:"_getPositionCoord",value:function(n,a){if(-1!==n.indexOf("%")){var s=h5(this._root.parentNode);return s?parseFloat(n)/100*s[a]:0}return parseInt(n,10)}}]),t}(Bj()),SCe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;Ao(this,t),Gn(vn(n=o.call(this,i)),"onCancelClick",function(d){n.exitMini(),n.isClose=!0}),Gn(vn(n),"onCenterClick",function(d){var I=vn(n).player;I.paused?I.play():I.pause()}),Gn(vn(n),"onScroll",function(d){if(!(!window.scrollY&&0!==window.scrollY||Math.abs(window.scrollY-n.pos.scrollY)<50)){var m=parseInt(Xt.getCss(n.player.root,"height"));m+=n.config.scrollTop,n.pos.scrollY=window.scrollY,window.scrollY>m+5?!n.isMini&&!n.isClose&&n.getMini():window.scrollY<=m&&(n.isMini&&n.exitMini(),n.isClose=!1)}}),n.isMini=!1,n.isClose=!1;var s=vn(n).config;return n.pos={left:s.left<0?window.innerWidth-s.width-20:s.left,top:s.top<0?window.innerHeight-s.height-20:s.top,height:n.config.height,width:n.config.width,scrollY:window.scrollY||0},n.lastStyle=null,n}return uo(t,[{key:"beforeCreate",value:function(n){"boolean"==typeof n.player.config.mini&&(n.config.isShowIcon=n.player.config.mini)}},{key:"afterCreate",value:function(){var n=this;this.initIcons(),this.on(H_,function(){n.setAttr("data-state","pause")}),this.on(Bu,function(){n.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var n=this;if(!this.config.disable){this.config.isShowIcon&&this.player.controls.registerPlugin(A5,{config:{onClick:function(){n.getMini()}}},A5.pluginName);var m=Xt.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",m,this.onCancelClick),this.bind(".play-icon",m,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new FCe(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:sQ,class:"xg-icon-play"},pause:{icon:lQ,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".play-icon",n.play),this.appendChild(".play-icon",n.pause)}},{key:"getMini",value:function(){var n=this;if(!this.isMini){var a=this.player,s=this.playerConfig,d=this.config.target||this.player.root;this.lastStyle={},Xt.addClass(a.root,"xgplayer-mini"),["width","height","top","left"].map(function(m){n.lastStyle[m]=d.style[m],d.style[m]="".concat(n.pos[m],"px")}),s.fluid&&(d.style["padding-top"]=""),this.emit(CD,!0),a.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var n=this;if(!this.isMini)return!1;var a=this.player,s=this.playerConfig,d=this.config.target||this.player.root;Xt.removeClass(a.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(m){d.style[m]=n.lastStyle[m]}),this.lastStyle=null,s.fluid&&(a.root.style.width="100%",a.root.style.height="0",a.root.style["padding-top"]="".concat(100*s.height/s.width,"%")),this.emit(CD,!1),this.isMini=a.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var n=Xt.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",n,this.onCancelClick),this.unbind(".play-icon",n,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      '.concat(mm(this,"MINI_DRAG",this.playerConfig.isHideTips),'\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),t}(Qs),FD={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},uQ=["videoClick","videoDbClick"],Qw=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onMouseMove",function(d){var m=vn(i),I=m.player,J=m.playerConfig;I.isActive||(I.focus({autoHide:!J.closeDelayBlur}),!J.closeFocusVideoFocus&&I.media.focus())}),Gn(vn(i),"onMouseEnter",function(d){var m=vn(i),I=m.playerConfig,J=m.player;!I.closeFocusVideoFocus&&J.media.focus(),I.closeDelayBlur?J.focus({autoHide:!1}):J.focus()}),Gn(vn(i),"onMouseLeave",function(d){var m=i.playerConfig,J=m.leavePlayerTime;!m.closePlayerBlur&&!m.closeDelayBlur&&(J?i.player.focus({autoHide:!0,delay:J}):i.player.blur())}),Gn(vn(i),"onVideoClick",function(d){var m=vn(i),I=m.player,J=m.playerConfig;d.target&&J.closeVideoClick||(d.target===I.root||d.target===I.media||d.target===I.innerContainer||d.target===I.media.__canvas)&&(d.preventDefault(),J.closeVideoStopPropagation||d.stopPropagation(),i._clickCount++,i.clickTimer&&(clearTimeout(i.clickTimer),i.clickTimer=null),i.clickTimer=setTimeout(function(){i._clickCount&&(i._clickCount--,Hf(vn(i),uQ[0],function(oe,Ce){i.switchPlayPause(Ce.e)},{e:d,paused:I.paused}),clearTimeout(i.clickTimer),i.clickTimer=null)},300))}),Gn(vn(i),"onVideoDblClick",function(d){var m=vn(i),I=m.player,J=m.playerConfig;if(!J.closeVideoDblclick&&d.target&&(d.target===I.media||d.target===I.media.__canvas)){if(!J.closeVideoClick&&i._clickCount<2)return void(i._clickCount=0);i._clickCount=0,i.clickTimer&&(clearTimeout(i.clickTimer),i.clickTimer=null),d.preventDefault(),d.stopPropagation(),Hf(vn(i),uQ[1],function(oe,Ce){i.emitUserAction(Ce.e,"switch_fullscreen",{props:"fullscreen",from:I.fullscreen,to:!I.fullscreen}),I.fullscreen?I.exitFullscreen():I.getFullscreen()},{e:d,fullscreen:I.fullscreen})}}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this;this._clickCount=0,uQ.map(function(s){n.__hooks[s]=null}),"mobile"===this.playerConfig.isMobileSimulateMode||"mobile"===xa.device&&!xa.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var n=this,a=this.player,s=a.media,d=a.root,m=this.playerConfig.enableContextmenu;d&&d.addEventListener("click",this.onVideoClick,!1),d&&d.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(FD).map(function(I){d.addEventListener(I,n[FD[I]],!1)}),!m&&s&&s.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(n){var a=this.player;this.emitUserAction(n,"switch_play_pause",{props:"paused",from:a.paused,to:!a.paused}),a.ended?a.duration!==1/0&&a.duration>0&&a.replay():a.paused?a.play():a.pause()}},{key:"onContextmenu",value:function(n){(n=n||window.event).preventDefault&&n.preventDefault(),n.stopPropagation?n.stopPropagation():(n.returnValue=!1,n.cancelBubble=!0)}},{key:"destroy",value:function(){var n=this,a=this.player,s=a.video,d=a.root;this.clickTimer&&clearTimeout(this.clickTimer),d.removeEventListener("click",this.onVideoClick,!1),d.removeEventListener("dblclick",this.onVideoDblClick,!1),s.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(FD).map(function(m){d.removeEventListener(m,n[FD[m]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),t}(Vh),QCe={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},RCe={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function f5(r){return r&&r.length>0?r[r.length-1]:null}var OCe=function(){function r(o){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{eventType:"touch"};Ao(this,r),Gn(this,"onTouchStart",function(n){var a=t._pos,s=t.root,d=f5(n.touches);a.x=d?parseInt(d.pageX,10):n.pageX,a.y=d?parseInt(d.pageX,10):n.pageX,a.start=!0,t.__setPress(n),s.addEventListener(t.events.end,t.onTouchEnd),s.addEventListener(t.events.cancel,t.onTouchCancel),s.addEventListener(t.events.move,t.onTouchMove),t.trigger("touchstart",n)}),Gn(this,"onTouchCancel",function(n){t.onTouchEnd(n)}),Gn(this,"onTouchEnd",function(n){var a=t._pos,s=t.root;t.__clearPress(),s.removeEventListener(t.events.cancel,t.onTouchCancel),s.removeEventListener(t.events.end,t.onTouchEnd),s.removeEventListener(t.events.move,t.onTouchMove),n.moving=a.moving,n.press=a.press,a.press&&t.trigger("pressend",n),t.trigger("touchend",n),!a.press&&!a.moving&&t.__setDb(n),a.press=!1,a.start=!1,a.moving=!1}),Gn(this,"onTouchMove",function(n){var a=t._pos,s=t.config,d=f5(n.touches),m=d?parseInt(d.pageX,10):n.pageX,I=d?parseInt(d.pageY,10):n.pageX,J=m-a.x;Math.abs(I-a.y)<s.miniStep&&Math.abs(J)<s.miniStep||(t.__clearPress(),a.press&&t.trigger("pressend",n),a.press=!1,a.moving=!0,t.trigger("touchmove",n))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config={pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0},Object.keys(i).map(function(n){t.config[n]=i[n]}),this.root=o,this.events="mouse"===i.eventType?RCe:QCe,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return uo(r,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(t){var i=this,n=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){i.trigger("press",t),i._pos.press=!0,i.__clearPress()},n.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(t){var i=this,n=this.config;if(this.dbIntrvalId)return this.__clearDb(),void this.trigger("doubleclick",t);this.dbIntrvalId=setTimeout(function(){i.__clearDb(),!i._pos.start&&!i._pos.press&&!i._pos.moving&&i.trigger("click",t)},n.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(t,i){this.__handlers[t]||(this.__handlers[t]=[]),this.__handlers[t].push(i)}},{key:"off",value:function(t,i){if(this.__handlers[t]){for(var n=this.__handlers[t],a=-1,s=0;s<n.length;s++)if(n[s]===i){a=s;break}a>=0&&this.__handlers[t].splice(a,1)}}},{key:"trigger",value:function(t,i){this.__handlers[t]&&this.__handlers[t].map(function(n){try{n(i)}catch(a){console.error("trigger>>:".concat(t),a)}})}},{key:"destroy",value:function(){var t=this,i={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(i).forEach(function(n){t.root.removeEventListener(n,t[i[n]])})}}]),r}();function LCe(){return(new DOMParser).parseFromString('<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path opacity="0.54"\n    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"\n    fill="white" />\n  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>\n</svg>',"image/svg+xml").firstChild}var hQ=["videoClick","videoDbClick"],g5=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"onTouchStart",function(a){var s=vn(n),d=s.player,m=s.config,I=s.pos,J=s.playerConfig,oe=n.getTouche(a);if(oe&&!m.disableGesture&&n.duration>0&&!d.ended){I.isStart=!0,Xt.checkIsFunction(J.disableSwipeHandler)&&J.disableSwipeHandler(),n.find(".xg-dur").innerHTML=Xt.format(n.duration);var Ce=n.root.getBoundingClientRect();90===d.rotateDeg?(I.top=Ce.left,I.left=Ce.top,I.width=Ce.height,I.height=Ce.width):(I.top=Ce.top,I.left=Ce.left,I.width=Ce.width,I.height=Ce.height);var $e=parseInt(oe.pageX-I.left,10),nt=parseInt(oe.pageY-I.top,10);I.x=90===d.rotateDeg?nt:$e,I.y=90===d.rotateDeg?$e:nt,I.scopeL=m.scopeL*I.width,I.scopeR=(1-m.scopeR)*I.width,I.scopeM1=I.width*(1-m.scopeM)/2,I.scopeM2=I.width-I.scopeM1}}),Gn(vn(n),"onTouchMove",function(a){var s=n.getTouche(a),d=vn(n),m=d.pos,I=d.config,J=d.player;if(s&&!I.disableGesture&&n.duration&&m.isStart){var oe=I.miniMoveStep,Ce=I.hideControlsActive,$e=parseInt(s.pageX-m.left,10),nt=parseInt(s.pageY-m.top,10),Tt=90===J.rotateDeg?nt:$e,Zt=90===J.rotateDeg?$e:nt;if(Math.abs(Tt-m.x)>oe||Math.abs(Zt-m.y)>oe){var ci=Tt-m.x,xi=Zt-m.y,Oi=m.scope;if(-1===Oi&&(0===(Oi=n.checkScope(Tt,Zt,ci,xi,m))&&(Ce?J.blur():J.focus({autoHide:!1}),!m.time&&(m.time=parseInt(1e3*J.currentTime,10)+1e3*n.timeOffset)),m.scope=Oi),-1===Oi||Oi>0&&!I.gestureY||0===Oi&&!I.gestureX)return;a.cancelable&&a.preventDefault(),n.executeMove(ci,xi,Oi,m.width,m.height),m.x=Tt,m.y=Zt}}}),Gn(vn(n),"onTouchEnd",function(a){var s=vn(n),d=s.player,m=s.pos,I=s.playerConfig;if(m.isStart){m.scope>-1&&a.cancelable&&a.preventDefault();var J=n.config;!J.disableGesture&&J.gestureX?(n.endLastMove(m.scope),setTimeout(function(){d.getPlugin("progress")&&d.getPlugin("progress").resetSeekState()},10)):m.time=0,m.scope=-1,n.resetPos(),Xt.checkIsFunction(I.enableSwipeHandler)&&I.enableSwipeHandler(),n.changeAction("auto")}}),Gn(vn(n),"onRootTouchMove",function(a){n.config.disableGesture||!n.config.gestureX||n.checkIsRootTarget(a)&&(a.stopPropagation(),n.pos.isStart?n.onTouchMove(a):n.onTouchStart(a))}),Gn(vn(n),"onRootTouchEnd",function(a){n.pos.isStart&&n.checkIsRootTarget(a)&&(a.stopPropagation(),n.onTouchEnd(a))}),n.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},n.timer=null,n}return uo(t,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:LCe,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var n=this;hQ.map(function(oe){n.__hooks[oe]=null});var a=this.playerConfig,s=this.config,d=this.player;!0===a.closeVideoDblclick&&(s.closedbClick=!0),this.resetPos(),Xt.isUndefined(a.disableGesture)||(s.disableGesture=!!a.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=Xt.createDom("xg-mask","",{},"xgmask"),d.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail(),this.touch=new OCe(this.root,{eventType:"mouse"===this.domEventType?"mouse":"touch",needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(oe){oe.preventDefault()}),d.root.addEventListener("touchmove",this.onRootTouchMove,!0),d.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(pm,function(){var oe=n.player,Ce=n.config;1e3*oe.duration<Ce.moveDuration&&(Ce.moveDuration=1e3*oe.duration)}),this.on([Uf,U0],function(){var oe=n.pos;!oe.isStart&&oe.time>0&&(n.pos.time=0)});var I={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(I).map(function(oe){n.touch.on(oe,function(Ce){n[I[oe]](Ce)})}),!s.disableActive){var J=d.plugins.progress;J&&(J.addCallBack("dragmove",function(oe){n.activeSeekNote(oe.currentTime,oe.forward)}),J.addCallBack("dragend",function(){n.changeAction("auto")}))}}},{key:"registerThumbnail",value:function(){var a=this.player.plugins.thumbnail;if(a&&a.usable){this.thumbnail=a.createThumbnail(null,"mobile-thumbnail");var s=this.find(".time-preview");s.insertBefore(this.thumbnail,s.children[0])}}},{key:"initCustomStyle",value:function(){var a=(this.playerConfig||{}).commonStyle,s=a.playedColor,d=a.progressColor;s&&(this.find(".xg-curbar").style.backgroundColor=s,this.find(".xg-cur").style.color=s),d&&(this.find(".xg-bar").style.backgroundColor=d,this.find(".time-preview").style.color=d),this.config.disableTimeProgress&&Xt.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var n=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(a){n.pos[a]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(n){var a=this.player;this.root.setAttribute("data-xg-action",n);var d=a.plugins.start;d&&d.recover()}},{key:"getTouche",value:function(n){var s=n.touches&&n.touches.length>0?n.touches[n.touches.length-1]:n;return{pageX:s.pageX,pageY:s.pageY}}},{key:"checkScope",value:function(n,a,s,d,m){var J=-1;if(n<0||n>m.width)return J;var oe=Math.abs(0===d?s:s/d);return Math.abs(s)>0&&oe>=1.73&&n>m.scopeM1&&n<m.scopeM2?J=0:(0===Math.abs(s)||oe<=.57)&&(J=n<m.scopeL?1:n>m.scopeR?2:3),J}},{key:"executeMove",value:function(n,a,s,d,m){switch(s){case 0:this.updateTime(n/d*this.config.scopeM);break;case 1:this.updateBrightness(a/m);break;case 2:xa.os.isIos||this.updateVolume(a/m)}}},{key:"endLastMove",value:function(n){var a=this,d=this.player,m=this.config;0===n&&(d.seek(Number((this.pos.time-this.timeOffset)/1e3).toFixed(1)),m.hideControlsEnd?d.blur():d.focus(),this.timer=setTimeout(function(){a.pos.time=0},500)),this.changeAction("auto")}},{key:"checkIsRootTarget",value:function(n){var a=this.player.plugins||{};return(!a.progress||!a.progress.root.contains(n.target))&&(a.start&&a.start.root.contains(n.target)||a.controls&&a.controls.root.contains(n.target))}},{key:"sendUseAction",value:function(n){var a=this.player.paused;this.emitUserAction(n,"switch_play_pause",{prop:"paused",from:a,to:!a})}},{key:"clickHandler",value:function(n){var a=this.player,s=this.config,d=this.playerConfig;a.state<6?d.closeVideoClick||(this.sendUseAction(Xt.createEvent("click")),a.play()):!s.closedbClick||d.closeVideoClick?a.isActive?a.blur():a.focus():d.closeVideoClick||((a.isActive||s.focusVideoClick)&&(this.sendUseAction(Xt.createEvent("click")),this.switchPlayPause()),a.focus())}},{key:"dbClickHandler",value:function(n){!this.config.closedbClick&&this.player.state>=6&&(this.sendUseAction(Xt.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(n){var a=this;Hf(this,hQ[0],function(d,m){a.clickHandler(m.e)},{e:n,paused:this.player.paused})}},{key:"onDbClick",value:function(n){var a=this;Hf(this,hQ[1],function(d,m){a.dbClickHandler(m.e)},{e:n,paused:this.player.paused})}},{key:"onPress",value:function(n){var s=this.config,d=this.player;s.disablePress||(this.pos.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:d.playbackRate,to:s.pressRate}),d.playbackRate=s.pressRate,this.changeAction("playbackrate"))}},{key:"onPressEnd",value:function(n){var a=this.pos,d=this.player;this.config.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:d.playbackRate,to:a.rate}),d.playbackRate=a.rate,a.rate=1,this.changeAction("auto"))}},{key:"updateTime",value:function(n){var a=this.player,s=this.config,d=this.player.duration;n=Number(n.toFixed(4));var m=parseInt(n*s.moveDuration,10)+this.timeOffset;m=(m+=this.pos.time)<0?0:m>1e3*d?1e3*d-200:m,a.getPlugin("time")&&a.getPlugin("time").updateTime(m/1e3),a.getPlugin("progress")&&a.getPlugin("progress").updatePercent(m/1e3/this.duration,!0),this.activeSeekNote(m/1e3,n>0),s.isTouchingSeek&&a.seek(Number((m-this.timeOffset)/1e3).toFixed(1)),this.pos.time=m}},{key:"updateVolume",value:function(n){this.player.rotateDeg&&(n=-n);var a=this.player,s=this.pos;if(n=parseInt(100*n,10),s.volume+=n,!(Math.abs(s.volume)<10)){var d=parseInt(10*a.volume,10)-parseInt(s.volume/10,10);a.volume=(d=d>10?10:d<1?0:d)/10,s.volume=0}}},{key:"updateBrightness",value:function(n){this.player.rotateDeg&&(n=-n);var a=this.pos,s=this.config,d=this.xgMask,m=a.light+.8*n;m=m>s.maxDarkness?s.maxDarkness:m<0?0:m,d&&(d.style.backgroundColor="rgba(0,0,0,".concat(m,")")),a.light=m}},{key:"activeSeekNote",value:function(n){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.player;if(n&&"number"==typeof n&&this.duration!==1/0&&this.duration>0&&!this.config.disableActive){n<0?n=0:n>s.duration&&(n=s.duration-.2),this.changeAction("seeking");var I=s.plugins.start;I&&I.focusHide(),this.find(".xg-dur").innerHTML=Xt.format(this.duration),this.find(".xg-cur").innerHTML=Xt.format(n),this.find(".xg-curbar").style.width="".concat(n/this.duration*100,"%"),a?Xt.removeClass(this.find(".xg-seek-show"),"xg-back"):Xt.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(n)}}},{key:"updateThumbnails",value:function(n){var s=this.player.plugins.thumbnail;s&&s.usable&&this.thumbnail&&s.update(this.thumbnail,n,160,90)}},{key:"switchPlayPause",value:function(){var n=this.player;if(n.state<4)return!1;n.ended||(n.paused?n.play():n.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var n=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,n.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,n.root.removeEventListener("touchmove",this.onRootTouchMove,!0),n.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var n="normal"!==this.config.gradient?"gradient ".concat(this.config.gradient):"gradient";return'\n     <xg-trigger class="trigger">\n     <div class="'.concat(n,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ').concat(this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span>/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>').concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),t}(Qs);function YCe(r){r.preventDefault(),r.returnValue=!1}function m5(r){var o=r.tagName;return!("INPUT"!==o&&"TEXTAREA"!==o&&!r.isContentEditable)}var SD=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onBodyKeyDown",function(d){if(i.player){var m=d||window.event,I=m.keyCode,J=vn(i),oe=J._keyState,$e=i.config;if($e.disable||$e.disableBodyTrigger||!J.player.isUserActive&&!$e.isIgnoreUserActive||m5(m.target)||!i.checkIsVisible()||m.metaKey||m.altKey||m.ctrlKey)return void(oe.isBodyKeyDown=!1);!d.repeat&&!oe.isKeyDown&&((m.target===document.body||i.config.isGlobalTrigger&&!m5(m.target))&&i.checkCode(I,!0)&&(oe.isBodyKeyDown=!0),document.addEventListener("keyup",i.onBodyKeyUp)),oe.isBodyKeyDown&&i.handleKeyDown(m)}}),Gn(vn(i),"onBodyKeyUp",function(d){i.player&&(document.removeEventListener("keyup",i.onBodyKeyUp),i.handleKeyUp(d))}),Gn(vn(i),"onKeydown",function(d){if(i.player){var m=d||window.event,J=vn(i)._keyState;if(!m.repeat){if(i.config.disable||i.config.disableRootTrigger||m.metaKey||m.altKey||m.ctrlKey)return;m&&(37===m.keyCode||i.checkCode(m.keyCode))&&(m.target===i.player.root||m.target===i.player.video||m.target===i.player.controls.el)&&(J.isKeyDown=!0),i.player.root.addEventListener("keyup",i.onKeyup)}J.isKeyDown&&i.handleKeyDown(m)}}),Gn(vn(i),"onKeyup",function(d){i.player&&(i.player.root.removeEventListener("keyup",i.onKeyup),i.handleKeyUp(d))}),i}return uo(t,[{key:"mergekeyCodeMap",value:function(){var n=this,a=this.config.keyCodeMap;a&&Object.keys(a).map(function(s){n.keyCodeMap[s]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(d){a[s][d]&&(n.keyCodeMap[s][d]=a[s][d])}):n.keyCodeMap[s]=a[s]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var n="function"==typeof this.config.seekStep?this.config.seekStep(this.player):this.config.seekStep;!n||"number"!=typeof n||(this.seekStep=n),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var n=this.player.root.getBoundingClientRect(),a=n.height,s=n.top,d=n.bottom,m=window.innerHeight;return!(s<0&&s<0-.9*a||d>0&&d-m>.9*a)}},{key:"checkCode",value:function(n,a){var s=this,d=!1;return Object.keys(this.keyCodeMap).map(function(m){s.keyCodeMap[m]&&n===s.keyCodeMap[m].keyCode&&!s.keyCodeMap[m].disable&&(d=!a||a&&!s.keyCodeMap[m].noBodyTarget)}),d}},{key:"downVolume",value:function(n){var a=this.player;if(!(a.volume<=0)){var s=parseFloat((a.volume-.1).toFixed(1));this.emitUserAction(n,"change_volume",{props:{volume:{from:a.volume,to:s}}}),a.volume=s>=0?s:0}}},{key:"upVolume",value:function(n){var a=this.player;if(!(a.volume>=1)){var s=parseFloat((a.volume+.1).toFixed(1));this.emitUserAction(n,"change_volume",{props:{volume:{from:a.volume,to:s}}}),a.volume=s<=1?s:1}}},{key:"seek",value:function(n){var a=this.player,s=a.currentTime,d=a.offsetCurrentTime,J=a.timeSegments,oe=d>-1?d:s,Ce=a.offsetDuration||a.duration,$e=n.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;oe+$e<=Ce?oe+=$e:oe=Ce;var nt=Xt.getCurrentTimeByOffset(oe,J);this.emitUserAction(n,"seek",{props:{currentTime:{from:s,to:nt}}}),this.player.currentTime=nt}},{key:"seekBack",value:function(n){var a=this.player,s=a.currentTime,d=a.offsetCurrentTime,m=a.timeSegments,oe=(d>-1?d:s)-(n.repeat?parseInt(this.seekStep/2,10):this.seekStep);oe<0&&(oe=0),oe=Xt.getCurrentTimeByOffset(oe,m),this.emitUserAction(n,"seek",{props:{currentTime:{from:s,to:oe}}}),this.player.currentTime=oe}},{key:"changePlaybackRate",value:function(n){var a=this._keyState,s=this.config,d=this.player;0===a.playbackRate&&(a.playbackRate=d.playbackRate,d.playbackRate=s.playbackRate)}},{key:"playPause",value:function(n){var a=this.player;a&&(this.emitUserAction(n,"switch_play_pause"),a.paused?a.play():a.pause())}},{key:"exitFullscreen",value:function(n){var a=this.player,s=a.fullscreen,d=a.cssfullscreen;s&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:s,to:!s}),a.exitFullscreen()),d&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:d,to:!d}),a.exitCssFullscreen())}},{key:"handleKeyDown",value:function(n){var a=this._keyState;if(n.repeat){a.isPress=!0;var s=Date.now();if(s-a.tt<200)return;a.tt=s}this.handleKeyCode(n.keyCode,n,a.isPress)}},{key:"handleKeyUp",value:function(n){var a=this._keyState;a.playbackRate>0&&(this.player.playbackRate=a.playbackRate,a.playbackRate=0),a.isKeyDown=!1,a.isPress=!1,a.tt=0}},{key:"handleKeyCode",value:function(n,a,s){for(var d=Object.keys(this.keyCodeMap),m=0;m<d.length;m++){var I=this.keyCodeMap[d[m]],J=I.action;if(I.keyCode===n){if(!(I.disable||s&&I.disablePress)){var Tt=s&&I.pressAction||J;"function"==typeof Tt?J(a,this.player,s):"string"==typeof Tt&&"function"==typeof this[Tt]&&this[Tt](a,this.player,s),this.emit(Oj,xc({key:d[m],target:a.target,isPress:s},this.keyCodeMap[d[m]]))}YCe(a);break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),t}(Vh);function NCe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">\n  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>\n</svg>\n',"image/svg+xml").firstChild}var v5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"registerIcons",value:function(){return{loadingIcon:NCe}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:vl.ROOT}}}]),t}(Qs),jCe=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],GCe=function(){function r(o){Ao(this,r),this.fragments=o.fragments||[],0===this.fragments.length&&this.fragments.push({percent:1}),this._callBack=o.actionCallback,this.fragConfig={fragFocusClass:o.fragFocusClass||"inner-focus-point",fragAutoFocus:!!o.fragAutoFocus,fragClass:o.fragClass||""},this.style=o.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return uo(r,[{key:"updateDuration",value:function(t){var i=this;this.duration=t;var n=0;this.fragments=this.fragments.map(function(s){return s.start=parseInt(n,10),s.end=parseInt(n+s.percent*i.duration,10),s.duration=parseInt(s.percent*i.duration,10),n+=s.percent*i.duration,s})}},{key:"updateProgress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"played",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},n=this.progressList,a=this.fragments;if(!(n.length<1)){var s=i.newIndex,m=i.millisecond;s!==i.curIndex&&n.map(function(oe,Ce){Ce<s?oe[t].style.width="100%":Ce>s&&(oe[t].style.width=0)});var I=a[s],J=0===m?0:(m-I.start)/I.duration;n[s][t].style.width=J<0?0:"".concat(100*J,"%")}}},{key:"updateFocus",value:function(t){if(this.fragConfig.fragAutoFocus&&!(this.fragments.length<2)){if(!t)return void(this.focusIndex>-1&&(this.unHightLight(this.focusIndex),this._callBack&&this._callBack({index:-1,preIndex:this.focusIndex,fragment:null}),this.focusIndex=-1));var n=this.findIndex(1e3*t.currentTime,this.focusIndex);if(n>=0&&n!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(n);var a={index:n,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=n,this._callBack&&this._callBack(a)}}}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},i=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(1e3*i,10)!==this.duration){if(!i&&0!==i)return;this.updateDuration(parseInt(1e3*i,10))}var n=this.playedIndex,a=this.cachedIndex;if("Undefined"!==Xt.typeOf(t.played)){var s=this.findIndex(1e3*t.played,n);if(s<0)return;this.updateProgress("played",{newIndex:s,curIndex:n,millisecond:parseInt(1e3*t.played,10)}),this.playedIndex=s}if("Undefined"!==Xt.typeOf(t.cached)){var d=this.findIndex(1e3*t.cached,a);if(d<0)return;this.updateProgress("cached",{newIndex:d,curIndex:a,millisecond:parseInt(1e3*t.cached,10)}),this.cachedIndex=d}}},{key:"findIndex",value:function(t,i){var n=this.fragments;if(!n||0===n.length)return-1;if(1===n.length)return 0;if(i>-1&&i<n.length&&t>n[i].start&&t<n[i].end)return i;if(t>n[n.length-1].start)return n.length-1;for(var a=0;a<n.length;a++)if(t>n[a].start&&t<=n[a].end){i=a;break}return i}},{key:"findHightLight",value:function(){for(var t=this.root.children,i=0;i<t.length;i++)if(Xt.hasClass(t[i],this.fragConfig.fragFocusClass))return{dom:t[i],pos:t[i].getBoundingClientRect()}}},{key:"findFragment",value:function(t){var i=this.root.children;return t<0||t>=i.length?null:{dom:i[t],pos:i[t].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var t=this.root.children,i=0;i<t.length;i++)Xt.removeClass(t[i],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(t){var i=this.root.children;if(t<i.length)return Xt.addClass(i[t],this.fragConfig.fragFocusClass),{dom:i[t],pos:i[t].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(t){var i=this;if(Object.keys(this.fragConfig).forEach(function(a){void 0!==t[a]&&(i.fragConfig[a]=t[a])}),t.fragments){if(this.fragments=0===t.fragments.length?[{percent:1}]:t.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var n=this.root.children;n.length>0;)this.root.removeChild(n[0]);this.render()}}},{key:"render",value:function(){var t=this,i=this.style.progressColor;if(this.root||(this.root=Xt.createDom("xg-inners","",{},"progress-list")),this.fragments){var n=this.fragConfig,a=n.fragClass,s=n.fragFocusClass;this.progressList=this.fragments.map(function(d){var m=Xt.createDom("xg-inner","",{style:i?"background:".concat(i,"; flex: ").concat(d.percent):"flex: ".concat(d.percent)},"".concat(d.isFocus?s:""," xgplayer-progress-inner ").concat(a));return t.root.appendChild(m),jCe.forEach(function(I){m.appendChild(Xt.createDom(I.tag,"",{style:I.styleKey?"background: ".concat(t.style[I.styleKey],"; width:0;"):"width:0;"},I.className))}),{cached:m.children[0],played:m.children[1]}})}return this.root}}]),r}(),_5={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},UCe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"onMoveOnly",function(a,s){var d=vn(n),m=d.pos,I=d.config,J=d.player,oe=s;if(a){Xt.event(a);var Ce=Xt.getEventPos(a,J.zoom),$e=90===J.rotateDeg?Ce.clientY:Ce.clientX;if(m.moving&&Math.abs(m.x-$e)<I.miniMoveStep)return;m.moving=!0,m.x=$e,oe=n.computeTime(a,$e)}n.triggerCallbacks("dragmove",oe,a),n._updateInnerFocus(oe)}),Gn(vn(n),"onBodyClick",function(a){n.pos.isLocked&&(n.pos.isLocked=!1,a.preventDefault(),a.stopPropagation())}),Gn(vn(n),"_mouseDownHandler",function(a,s){n._state.time=s.currentTime,n.updateWidth(s.currentTime,s.seekTime,s.percent,0),n._updateInnerFocus(s)}),Gn(vn(n),"_mouseUpHandler",function(a,s){vn(n).pos.moving&&n.updateWidth(s.currentTime,s.seekTime,s.percent,2)}),Gn(vn(n),"_mouseMoveHandler",function(a,s){var d=vn(n),m=d._state,I=d.pos,J=d.config,oe=d.player;s.forward=m.time<s.currentTime,m.time=s.currentTime,I.isDown&&!I.moving&&(I.moving=!0,J.isPauseMoving&&oe.pause(),n.triggerCallbacks("dragstart",s,a),n.emitUserAction("drag","dragstart",s)),n.updateWidth(s.currentTime,s.seekTime,s.percent,1),n.triggerCallbacks("dragmove",s,a),n._updateInnerFocus(s)}),Gn(vn(n),"onMouseDown",function(a){var s=vn(n),d=s._state,m=s.player,I=s.pos,J=s.config,oe=s.playerConfig,Ce=Xt.getEventPos(a,m.zoom),$e=90===m.rotateDeg?Ce.clientY:Ce.clientX;if(!(m.isMini||J.closeMoveSeek||!oe.allowSeekAfterEnded&&m.ended)){if(!m.duration&&!m.isPlaying)return void m.play();a.stopPropagation(),n.focus(),Xt.checkIsFunction(oe.disableSwipeHandler)&&oe.disableSwipeHandler(),Xt.checkIsFunction(J.onMoveStart)&&J.onMoveStart(),Xt.event(a),I.x=$e,I.isDown=!0,I.moving=!1,d.prePlayTime=m.currentTime,m.focus({autoHide:!1}),n.isProgressMoving=!0,Xt.addClass(n.progressBtn,"active");var nt=n.computeTime(a,$e);return nt.prePlayTime=d.prePlayTime,n._mouseDownHandlerHook(a,nt),"touchstart"===a.type?(n.root.addEventListener("touchmove",n.onMouseMove),n.root.addEventListener("touchend",n.onMouseUp)):(n.unbind("mousemove",n.onMoveOnly),document.addEventListener("mousemove",n.onMouseMove,!1),document.addEventListener("mouseup",n.onMouseUp,!1)),!0}}),Gn(vn(n),"onMouseUp",function(a){var s=vn(n),d=s.player,m=s.config,I=s.pos,J=s.playerConfig,oe=s._state;a.stopPropagation(),a.preventDefault(),Xt.checkIsFunction(J.enableSwipeHandler)&&J.enableSwipeHandler(),Xt.checkIsFunction(m.onMoveEnd)&&m.onMoveEnd(),Xt.event(a),Xt.removeClass(n.progressBtn,"active");var Ce=n.computeTime(a,I.x);Ce.prePlayTime=oe.prePlayTime,I.moving?(n.triggerCallbacks("dragend",Ce,a),n.emitUserAction("drag","dragend",Ce)):(n.triggerCallbacks("click",Ce,a),n.emitUserAction("click","click",Ce)),n._mouseUpHandlerHook(a,Ce),I.moving=!1,I.isDown=!1,I.x=0,I.y=0,I.isLocked=!0,oe.prePlayTime=0,oe.time=0,"touchend"===a.type?(n.root.removeEventListener("touchmove",n.onMouseMove),n.root.removeEventListener("touchend",n.onMouseUp),n.blur()):(document.removeEventListener("mousemove",n.onMouseMove,!1),document.removeEventListener("mouseup",n.onMouseUp,!1),I.isEnter?"mobile"!==J.isMobileSimulateMode&&n.bind("mousemove",n.onMoveOnly):n.onMouseLeave(a)),Xt.setTimeout(vn(n),function(){n.resetSeekState()},10),d.focus()}),Gn(vn(n),"onMouseMove",function(a){var s=vn(n),d=s._state,m=s.pos,I=s.player,J=s.config;Xt.checkTouchSupport()&&a.preventDefault(),Xt.event(a);var oe=Xt.getEventPos(a,I.zoom),Ce=90===I.rotateDeg?oe.clientY:oe.clientX,$e=Math.abs(m.x-Ce);if(!(m.moving&&$e<J.miniMoveStep||!m.moving&&$e<J.miniStartStep)){m.x=Ce;var nt=n.computeTime(a,Ce);nt.prePlayTime=d.prePlayTime,n._mouseMoveHandlerHook(a,nt)}}),Gn(vn(n),"onMouseOut",function(a){n.triggerCallbacks("mouseout",null,a)}),Gn(vn(n),"onMouseOver",function(a){n.triggerCallbacks("mouseover",null,a)}),Gn(vn(n),"onMouseEnter",function(a){var s=vn(n),d=s.player,m=s.pos;if(!(m.isDown||m.isEnter||d.isMini||!d.config.allowSeekAfterEnded&&d.ended)){m.isEnter=!0,n.bind("mousemove",n.onMoveOnly),n.bind("mouseleave",n.onMouseLeave),Xt.event(a);var I=Xt.getEventPos(a,d.zoom),oe=n.computeTime(a,90===d.rotateDeg?I.clientY:I.clientX);n.triggerCallbacks("mouseenter",oe,a),n.focus()}}),Gn(vn(n),"onMouseLeave",function(a){n.triggerCallbacks("mouseleave",null,a),n.unlock(),n._updateInnerFocus(null)}),Gn(vn(n),"onVideoResize",function(){var a=n.pos;if(a.isEnter&&!a.isDown){var I=n.computeTime(null,a.x);n.onMoveOnly(null,I)}}),n.useable=!1,n.isProgressMoving=!1,n.__dragCallBacks=[],n._state={now:-1,direc:0,time:0,prePlayTime:-1},n._disableBlur=!1,n}return uo(t,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var n=this.player,a=n.offsetCurrentTime;return a>=0?a:n.currentTime+this.timeOffset}},{key:"changeState",value:function(){this.useable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"show",value:function(n){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(!a||0===a.length)&&(a=[{percent:1}]);var d=xc(xc({fragments:a},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{actionCallback:function(I){n.emitUserAction("fragment_focus","fragment_focus",I)}});this.innerList?this.innerList.reset(d):(this.innerList=new GCe(d),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(m){n[m]=n.innerList[m].bind(n.innerList)}))}},{key:"_updateInnerFocus",value:function(n){this.innerList&&this.innerList.updateFocus(n)}},{key:"afterCreate",value:function(){var n=this;if(!this.config.disable&&!this.playerConfig.isLive){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var a=this.config;this._initInner(this.config.fragments,{fragFocusClass:a.fragFocusClass,fragAutoFocus:a.fragAutoFocus,fragClass:a.fragClass,style:this.playerConfig.commonStyle||{}}),"mobile"===xa.device&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(pm,function(){n.onMouseLeave()}),this.on(Ah,function(){n.onTimeupdate()}),this.on(Gf,function(){n.onTimeupdate(),n.onCacheUpdate()}),this.on(Fj,function(){n.onCacheUpdate()}),this.on(U0,function(){n.onCacheUpdate(!0),n.onTimeupdate(!0),n._state.now=0}),this.on(V_,function(){n.onReset()}),this.on(fm,function(){n.onVideoResize()}),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(n){var a=this,s=null;Object.keys(n).forEach(function(d){a.config[d]=n[d],"fragments"===d&&(s=n[d])}),s&&this._initInner(s,n)}},{key:"initCustomStyle",value:function(){var s=(this.playerConfig||{}).commonStyle.sliderBtnStyle,d=this.progressBtn;s&&("string"==typeof s?d.style.boxShadow=s:"object"===Rd(s)&&Object.keys(s).map(function(m){d.style[m]=s[m]}))}},{key:"triggerCallbacks",value:function(n,a,s){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(d){if(d&&d.handler&&d.type===n)try{d.handler(a,s)}catch(m){console.error("[XGPLAYER][triggerCallbacks] ".concat(d," error"),m)}})}},{key:"addCallBack",value:function(n,a){a&&"function"==typeof a&&this.__dragCallBacks.push({type:n,handler:a})}},{key:"removeCallBack",value:function(n,a){var s=this.__dragCallBacks,d=-1;s.map(function(m,I){m&&m.type===n&&m.handler===a&&(d=I)}),d>-1&&s.splice(d,1)}},{key:"unlock",value:function(){var n=this.player,a=this.pos;if(a.isEnter=!1,a.isLocked=!1,!n.isMini){if(this.unbind("mousemove",this.onMoveOnly),a.isDown)return void this.unbind("mouseleave",this.onMouseLeave);this.blur()}}},{key:"bindDomEvents",value:function(){var n=this.player,a=n.controls,s=n.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),("touch"===this.domEventType||"compatible"===this.domEventType)&&(this.root.addEventListener("touchstart",this.onMouseDown),a&&(a.root&&a.root.addEventListener("touchmove",Xt.stopPropagation),a.center&&a.center.addEventListener("touchend",Xt.stopPropagation))),("mouse"===this.domEventType||"compatible"===this.domEventType)&&(this.bind("mousedown",this.onMouseDown),"mobile"!==s.isMobileSimulateMode&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),Xt.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),Xt.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(n,a,s,d){var m=this.config,I=this.player;if(!m.isCloseClickSeek||0!==d){var J=a=a>=I.duration?I.duration-m.endedDiff:Number(a).toFixed(1);this.updatePercent(s),this.updateTime(n),(1!==d||m.isDragingSeek&&"audio"!==I.config.mediaType)&&(this._state.now=J,this._state.direc=J>I.currentTime?0:1,I.seek(J))}}},{key:"computeTime",value:function(n,a){var Ce,$e,s=this.player,d=this.root.getBoundingClientRect();90===s.rotateDeg?(Ce=d.height,$e=d.top):(Ce=d.width,$e=d.left);var Tt=a-$e,Zt=(Tt=Tt>Ce?Ce:Tt<0?0:Tt)/Ce;Zt=Zt<0?0:Zt>1?1:Zt;var ci=parseInt(Zt*this.offsetDuration*1e3,10)/1e3;return{percent:Zt,currentTime:ci,seekTime:Xt.getCurrentTimeByOffset(ci,s.timeSegments),offset:Tt,width:Ce,left:$e,e:n}}},{key:"updateTime",value:function(n){var s=this.duration;n>s?n=s:n<0&&(n=0);var d=this.player.plugins.time;d&&d.updateTime(n)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var n=this.player.plugins.time;n&&n.resetActive()}},{key:"updatePercent",value:function(n,a){if(this.isProgressMoving=!0,!this.config.disable){this.progressBtn.style.left="".concat(100*(n=n>1?1:n<0?0:n),"%"),this.innerList.update({played:n*this.offsetDuration},this.offsetDuration);var s=this.player.plugins.miniprogress;s&&s.update({played:n*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(n){var a=this.player,s=this._state,d=this.offsetDuration;if(!(a.isSeeking&&a.media.seeking||this.isProgressMoving)&&a.hasStart){if(s.now>-1){var m=parseInt(1e3*s.now,10)-parseInt(1e3*a.currentTime,10);if(0===s.direc&&m>300||1===s.direc&&m>-300)return void(s.now=-1);s.now=-1}var I=this.currentTime;I=Xt.adjustTimeByDuration(I,d,n),this.innerList.update({played:I},d),this.progressBtn.style.left="".concat(I/d*100,"%");var J=this.player.plugins.miniprogress;J&&J.update({played:I},d)}}},{key:"onCacheUpdate",value:function(n){var a=this.player,s=this.duration;if(a){var d=a.bufferedPoint.end;d=Xt.adjustTimeByDuration(d,s,n),this.innerList.update({cached:d},s);var m=this.player.plugins.miniprogress;m&&m.update({cached:d},s)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%";var n=this.player.plugins.miniprogress;n&&n.update({cached:0,played:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var n=this.player,a=n.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var s=this.domEventType;("touch"===s||"compatible"===s)&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),a&&(a.root&&a.root.removeEventListener("touchmove",Xt.stopPropagation),a.center&&a.center.removeEventListener("touchend",Xt.stopPropagation))),("mouse"===s||"compatible"===s)&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),n.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive)return'\n    <xg-progress class="xgplayer-progress '.concat("bottom"===(this.player.controls?this.player.controls.config.mode:"")?"xgplayer-progress-bottom":"",'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:_5.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return _5}}]),t}(Qs),J0=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"_onMouseenter",function(d){i.emit("icon_mouseenter",{pluginName:i.pluginName})}),Gn(vn(i),"_onMouseLeave",function(d){i.emit("icon_mouseleave",{pluginName:i.pluginName})}),i}return uo(t,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave)}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),t}(Qs),y5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){var n=this;aa(Xo(t.prototype),"afterCreate",this).call(this);var a=this.player;this.config.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on([H_,Iw,V_],function(){n.animate(a.paused)}),this.on(Bu,function(){n.animate(a.paused)}),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:sQ,class:"xg-icon-play"},pause:{icon:lQ,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(n){n.preventDefault(),n.stopPropagation();var a=this.player;return this.emitUserAction(n,"switch_play_pause",{prop:"paused",from:a.paused,to:!a.paused}),a.ended?a.replay():a.paused?(a.play(),this.animate(!1)):(a.pause(),this.animate(!0)),!1}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.play),this.appendChild(".xgplayer-icon",n.pause)}},{key:"animate",value:function(n){if(this.player){var a=this.i18nKeys,s=this.find(".xg-tips");n?(this.setAttr("data-state","pause"),s&&this.changeLangTextKey(s,a.PLAY_TIPS)):(this.setAttr("data-state","play"),s&&this.changeLangTextKey(s,a.PAUSE_TIPS))}}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(mm(this,"PLAY_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_LEFT,index:0,disable:!1}}}]),t}(J0);function zCe(){return(new DOMParser).parseFromString('<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>\n    </g>\n</svg>',"image/svg+xml").firstChild}var HCe=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){var n=this;this.initIcons(),this.onClick=function(a){a.preventDefault(),a.stopPropagation(),n.config.onClick(a)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:zCe,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){this.appendChild(this.root,this.icons.screenBack)}},{key:"show",value:function(){Xt.addClass(this.root,"show")}},{key:"hide",value:function(){Xt.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:vl.ROOT_TOP,index:0}}}]),t}(Qs);function VCe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',"image/svg+xml").firstChild}function JCe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',"image/svg+xml").firstChild}var b5=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"_onOrientationChange",function(d){i.player.fullscreen&&i.config.rotateFullscreen&&(90===window.orientation||-90===window.orientation?i.player.setRotateDeg(0):i.player.setRotateDeg(90))}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this;aa(Xo(t.prototype),"afterCreate",this).call(this);var a=this.config,s=this.playerConfig;if(!a.disable){a.target&&(this.playerConfig.fullscreenTarget=this.config.target);var d=Xt.getFullScreenEl();s.fullscreenTarget===d&&this.player.getFullscreen().catch(function(m){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(I){var J=n.player.fullscreen;n.emitUserAction(I,"switch_fullscreen",{prop:"fullscreen",from:J,to:!J})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(zf,function(m){var I=n.find(".xg-tips");I&&n.changeLangTextKey(I,m?n.i18nKeys.EXITFULLSCREEN_TIPS:n.i18nKeys.FULLSCREEN_TIPS),n.animate(m)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:HCe,options:{config:{onClick:function(I){n.handleFullscreen(I)}}}})),"mobile"===xa.device&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:VCe,class:"xg-get-fullscreen"},exitFullscreen:{icon:JCe,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon","mobile"===xa.device?"touchend":"click",this.handleFullscreen),"mobile"===xa.device&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.fullscreen),this.appendChild(".xgplayer-icon",n.exitFullscreen)}},{key:"toggleFullScreen",value:function(n){n&&(n.preventDefault(),n.stopPropagation());var a=this.player,s=this.config;!0===s.useCssFullscreen||"function"==typeof s.useCssFullscreen&&s.useCssFullscreen()?(a.fullscreen?a.exitCssFullscreen():a.getCssFullscreen(),this.animate(a.fullscreen)):s.rotateFullscreen?(a.fullscreen?a.exitRotateFullscreen():a.getRotateFullscreen(),this.animate(a.fullscreen)):s.switchCallback&&"function"==typeof s.switchCallback?s.switchCallback(a.fullscreen):a.fullscreen?a.exitFullscreen():a.getFullscreen().catch(function(m){})}},{key:"animate",value:function(n){this.setAttr("data-state",n?"full":"normal"),this.topBackIcon&&(n?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(mm(this,"FULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),t}(J0),w5=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),(n=o.call(this,i)).isActiving=!1,n}return uo(t,[{key:"duration",get:function(){var n=this.player;return this.playerConfig.customDuration||n.offsetDuration||n.duration}},{key:"currentTime",get:function(){var n=this.player,a=n.offsetCurrentTime;return a>=0?a:n.currentTime}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var n=this;this.mode="flex"===this.player.controls.config.mode?"flex":"normal",!this.config.disable&&("flex"===this.mode&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([pm,Gf,Ah],function(s){"durationchange"===s.eventName&&(n.isActiving=!1),n.onTimeUpdate()}),this.on(U0,function(){n.onTimeUpdate(!0)}),this.on(V_,function(){n.onReset()}))}},{key:"show",value:function(n){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="block"),void(this.centerDurDom&&(this.centerDurDom.style.display="block"));this.root.style.display="block"}},{key:"hide",value:function(){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="none"),void(this.centerDurDom&&(this.centerDurDom.style.display="none"));this.root.style.display="none"}},{key:"onTimeUpdate",value:function(n){var d=this.duration;if(!this.config.disable&&!this.isActiving&&this.player.hasStart){var m=this.currentTime+this.timeOffset;m=Xt.adjustTimeByDuration(m,d,n),"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(Xt.format(m)),d!==1/0&&d>0&&(this.centerDurDom.innerHTML=Xt.format(d))):(this.timeDom.innerHTML=this.minWidthTime(Xt.format(m)),d!==1/0&&d>0&&(this.durationDom.innerHTML=Xt.format(d)))}}},{key:"onReset",value:function(){"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(Xt.format(0)),this.centerDurDom.innerHTML=Xt.format(0)):(this.timeDom.innerHTML=this.minWidthTime(Xt.format(0)),this.durationDom.innerHTML=Xt.format(0))}},{key:"createCenterTime",value:function(){var n=this.player;if(n.controls&&n.controls.center){var a=n.controls.center;this.centerCurDom=Xt.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=Xt.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),a.children.length>0?a.insertBefore(this.centerCurDom,a.children[0]):a.appendChild(this.centerCurDom),a.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var n=this.config;this.duration===1/0||this.playerConfig.isLive?(Xt.hide(this.durationDom),Xt.hide(this.timeDom),Xt.hide(this.find(".time-separator")),Xt.show(this.find(".time-live-tag"))):Xt.hide(this.find(".time-live-tag")),n.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(n){n?(Xt.hide(this.durationDom),Xt.hide(this.timeDom),Xt.hide(this.find(".time-separator")),Xt.show(this.find(".time-live-tag"))):(Xt.hide(this.find(".time-live-tag")),Xt.show(this.find(".time-separator")),Xt.show(this.durationDom),Xt.show(this.timeDom))}},{key:"updateTime",value:function(n){if(this.isActiving=!0,!(!n&&0!==n||n>this.duration)){if("flex"===this.mode)return void(this.centerCurDom.innerHTML=this.minWidthTime(Xt.format(n)));this.timeDom.innerHTML=this.minWidthTime(Xt.format(n))}}},{key:"minWidthTime",value:function(n){return n.split(":").map(function(a){return'<span class="time-min-width">'.concat(a,"</span>")}).join(":")}},{key:"resetActive",value:function(){var n=this,a=this.player,s=function(){n.isActiving=!1};this.off(Gf,s),a.isSeeking&&a.media.seeking?this.once(Gf,s):this.isActiving=!1}},{key:"destroy",value:function(){var n=this.player.controls.center;this.centerCurDom&&n.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&n.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_LEFT,index:2,disable:!1}}}]),t}(Qs),WCe=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"_onDurationChange",function(){i.updateSegments();var d=i.player,m=d.currentTime,I=d.timeSegments;if(i._checkIfEnabled(I)){var J=Xt.getIndexByTime(m,I),oe=Xt.getOffsetCurrentTime(m,I,J);i.player.offsetCurrentTime=oe,i.changeIndex(J,I)}}),Gn(vn(i),"_onLoadedData",function(){var d=i.player.timeSegments;if(i._checkIfEnabled(d)){var m=Xt.getOffsetCurrentTime(0,d);i.player.offsetCurrentTime=m,i.changeIndex(0,d),i.curPos.start>0&&(i.player.currentTime=i.curPos.start)}}),Gn(vn(i),"_onTimeupdate",function(){var d=i.player,m=d.currentTime,I=d.timeSegments;if(i._checkIfEnabled(I)){var J=I.length;i.lastCurrentTime=m;var oe=Xt.getIndexByTime(m,I);oe!==i.curIndex&&i.changeIndex(oe,I);var Ce=Xt.getOffsetCurrentTime(m,I,oe);if(i.player.offsetCurrentTime=Ce,i.curPos){var $e=i.curPos,nt=$e.start,Tt=$e.end;m<nt?i.player.currentTime=nt:m>Tt&&oe>=J-1&&i.player.pause()}}}),Gn(vn(i),"_onSeeking",function(){var d=i.player,m=d.currentTime,I=d.timeSegments;if(i._checkIfEnabled(I))if(m<I[0].start)i.player.currentTime=I[0].start;else if(m>I[I.length-1].end)i.player.currentTime=I[I.length-1].end;else{var J=Xt.getIndexByTime(m,I);if(J>=0){var oe=i.getSeekTime(m,i.lastCurrentTime,J,I);oe>=0&&(i.player.currentTime=oe)}}}),Gn(vn(i),"_onPlay",function(){var d=i.player,m=d.currentTime,I=d.timeSegments;i._checkIfEnabled(I)&&m>=I[I.length-1].end&&(i.player.currentTime=I[0].start)}),i}return uo(t,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(pm,this._onDurationChange),this.on(Op,this._onLoadedData),this.on(Ah,this._onTimeupdate),this.on(_D,this._onSeeking),this.on(Bu,this._onPlay)}},{key:"setConfig",value:function(n){var a=this;if(n){var s=Object.keys(n);s.length<1||(s.forEach(function(d){a.config[d]=n[d]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var n=this.config,s=n.segments,d=this.player;if(n.disable||!s||0===s.length)d.timeSegments=[],d.offsetDuration=0,d.offsetCurrentTime=-1;else{var m=this.formatTimeSegments(s,d.duration);d.timeSegments=m,d.offsetDuration=m.length>0?m[m.length-1].duration:0}}},{key:"formatTimeSegments",value:function(n,a){var s=[];return n?(n.sort(function(d,m){return d.start-m.start}),n.forEach(function(d,m){var I={};if(I.start=d.start<0?0:d.start,I.end=a>0&&d.end>a?a:d.end,!(a>0&&I.start>a)){s.push(I);var J=I.end-I.start;if(0===m)I.offset=d.start,I.cTime=0,I.segDuration=J,I.duration=J;else{var oe=s[m-1];I.offset=oe.offset+(I.start-oe.end),I.cTime=oe.duration+oe.cTime,I.segDuration=J,I.duration=oe.duration+J}}}),s):[]}},{key:"getSeekTime",value:function(n,a,s,d){var m=-1,I=d[s],J=I.start;if(n>=J&&n<=I.end)return m;var Ce=n-a;return Ce<0&&n<J?m=s-1>=0?d[s-1].end+Ce+(a>J?a-J:0):0:-1}},{key:"_checkIfEnabled",value:function(n){return!(!n||n.length<1)}},{key:"changeIndex",value:function(n,a){this.curIndex=n,this.curPos=n>=0&&a.length>0?a[n]:null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),t}(Vh);function KCe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function XCe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function ZCe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',"image/svg+xml").firstChild}var C5=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onBarMousedown",function(d){var I=vn(i).player,J=i.find(".xgplayer-bar");Xt.event(d);var oe=J.getBoundingClientRect(),Ce=Xt.getEventPos(d,I.zoom),$e=oe.height-(Ce.clientY-oe.top);if(Ce.h=$e,Ce.barH=oe.height,i.pos=Ce,!($e<-2))return i.updateVolumePos($e,d),document.addEventListener("mouseup",i.onBarMouseUp),i._d.isStart=!0,!1}),Gn(vn(i),"onBarMouseMove",function(d){var I=vn(i)._d;if(I.isStart){var J=vn(i),oe=J.pos,Ce=J.player;d.preventDefault(),d.stopPropagation(),Xt.event(d);var $e=Xt.getEventPos(d,Ce.zoom);I.isMoving=!0;var nt=oe.h-$e.clientY+oe.clientY;nt>oe.barH||i.updateVolumePos(nt,d)}}),Gn(vn(i),"onBarMouseUp",function(d){Xt.event(d),document.removeEventListener("mouseup",i.onBarMouseUp);var I=vn(i)._d;I.isStart=!1,I.isMoving=!1}),Gn(vn(i),"onMouseenter",function(d){i._d.isActive=!0,i.focus(),i.emit("icon_mouseenter",{pluginName:i.pluginName})}),Gn(vn(i),"onMouseleave",function(d){i._d.isActive=!1,i.unFocus(100,!1,d),i.emit("icon_mouseleave",{pluginName:i.pluginName})}),Gn(vn(i),"onVolumeChange",function(d){if(i.player){var m=i.player,I=m.muted,J=m.volume;i._d.isMoving||(i.find(".xgplayer-drag").style.height=I||0===J?"4px":"".concat(100*J,"%"),i.config.showValueLabel&&i.updateVolumeValue()),i.animate(I,J)}}),i}return uo(t,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:XCe,class:"xg-volume-small"},volumeLarge:{icon:KCe,class:"xg-volume"},volumeMuted:{icon:ZCe,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var n=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var a=this.playerConfig,s=a.commonStyle,d=a.volume;s.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=s.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(m){n.changeMuted(m)},{pre:function(I){I.preventDefault(),I.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),"mobile"!==xa.device&&"mobile"!==this.playerConfig.isMobileSimulateMode&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(kj,this.onVolumeChange),this.once(Op,this.onVolumeChange),"Number"!==Xt.typeOf(d)&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(n,a){var s=this.player,d=this.find(".xgplayer-drag"),m=this.find(".xgplayer-bar");if(m&&d){var I=parseInt(n/m.getBoundingClientRect().height*1e3,10);d.style.height="".concat(n,"px");var J=Math.max(Math.min(I/1e3,1),0),oe={volume:{from:s.volume,to:J}};s.muted&&(oe.muted={from:!0,to:!1}),this.emitUserAction(a,"change_volume",{muted:s.muted,volume:s.volume,props:oe}),s.volume=Math.max(Math.min(I/1e3,1),0),s.muted&&(s.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var n=this.player,a=n.volume,s=n.muted,d=this.find(".xgplayer-value-label"),m=Math.max(Math.min(a,1),0);d.innerText=s?0:Math.ceil(100*m)}},{key:"focus",value:function(){this.player.focus({autoHide:!1}),this._timerId&&(Xt.clearTimeout(this,this._timerId),this._timerId=null),Xt.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=arguments.length>2?arguments[2]:void 0,m=this._d,I=this.player;m.isActive||(this._timerId&&(Xt.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=Xt.setTimeout(this,function(){m.isActive||(s?I.blur():I.focus(),Xt.removeClass(n.root,"slide-show"),m.isStart&&n.onBarMouseUp(d)),n._timerId=null},a))}},{key:"changeMuted",value:function(n){n&&n.stopPropagation();var a=this.player;this._d.isStart&&this.onBarMouseUp(n),this.emitUserAction(n,"change_muted",{muted:a.muted,volume:a.volume,props:{muted:{from:a.muted,to:!a.muted}}}),a.volume>0&&(a.muted=!a.muted),a.volume<.01&&(a.volume=this.config.miniVolume)}},{key:"animate",value:function(n,a){this.setAttr("data-state",n||0===a?"mute":a<.5&&this.icons.volumeSmall?"small":"normal")}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.volumeSmall),this.appendChild(".xgplayer-icon",n.volumeLarge),this.appendChild(".xgplayer-icon",n.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(Xt.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon","mobile"===xa.device?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var n=this.config.default||this.player.volume;return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        '.concat(this.config.showValueLabel?'<div class="xgplayer-value-label">'.concat(100*n,"</div>"):"",'\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: ').concat(100*n,'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>')}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),t}(Qs);function $Ce(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">\n  <g clip-path="url(#clip0)">\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',"image/svg+xml").firstChild}var E5=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),(n=o.call(this,i)).rotateDeg=n.config.rotateDeg||0,n}return uo(t,[{key:"afterCreate",value:function(){var n=this;if(!this.config.disable){aa(Xo(t.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(fm,function(){n.rotateDeg&&n.config.innerRotate&&Xt.setTimeout(n,function(){n.updateRotateDeg(n.rotateDeg,n.config.innerRotate)},100)});var a=this.player.root;this.rootWidth=a.style.width||a.offsetWidth||a.clientWidth,this.rootHeight=a.style.height||a.offsetHeight||a.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(n){n.preventDefault(),n.stopPropagation(),this.emitUserAction(n,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(n,a){if(n||(n=0),a)this.player.videoRotateDeg=n;else{var s=this.player,I=s.root,J=s.innerContainer,oe=s.media,Ce=I.offsetWidth,$e=J&&a?J.offsetHeight:I.offsetHeight,nt=this.rootWidth,Tt=this.rootHeight,Zt=0,ci=0;(.75===n||.25===n)&&(nt="".concat($e,"px"),Tt="".concat(Ce,"px"),Zt=-($e-Ce)/2,ci=-(Ce-$e)/2);var xi="translate(".concat(Zt,"px,").concat(ci,"px) rotate(").concat(n,"turn)"),Oi={transformOrigin:"center center",transform:xi,webKitTransform:xi,height:Tt,width:nt},Ui=a?oe:I,Hi=a?s.getPlugin("poster"):null;Object.keys(Oi).map(function(gn){Ui.style[gn]=Oi[gn],Hi&&Hi.root&&(Hi.root.style[gn]=Oi[gn])})}}},{key:"rotate",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=this.player;this.rotateDeg||(this.rotateDeg=0),this.rotateDeg=(this.rotateDeg+1+.25*(n?1:-1)*s)%1,this.updateRotateDeg(this.rotateDeg,a),d.emit(Rj,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:$Ce}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(mm(this,"ROTATE_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),t}(J0);function qCe(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}function eEe(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}var B5=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"switchPIP",function(d){if(!i.isPIPAvailable())return!1;d.stopPropagation&&d.stopPropagation(),i.isPip?(i.exitPIP(),i.emitUserAction(d,"change_pip",{props:"pip",from:!0,to:!1}),i.setAttr("data-state","normal")):4===i.player.media.readyState&&(i.requestPIP(),i.emitUserAction(d,"change_pip",{props:"pip",from:!1,to:!0}),i.setAttr("data-state","pip"))}),i}return uo(t,[{key:"beforeCreate",value:function(n){"boolean"==typeof n.player.config.pip&&(n.config.showIcon=n.player.config.pip)}},{key:"afterCreate",value:function(){var n=this;this.isPIPAvailable()&&(aa(Xo(t.prototype),"afterCreate",this).call(this),this.pMode="inline",this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(yD,function(){n.config.showIcon&&(Xt.removeClass(n.find(".xgplayer-icon"),"xg-icon-disable"),n.bind("click",n.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:qCe,class:"xg-get-pip"},pipIconExit:{icon:eEe,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.pipIcon),this.appendChild(".xgplayer-icon",n.pipIconExit)}},{key:"initPipEvents",value:function(){var n=this,a=this.player;this.leavePIPCallback=function(){var s=a.paused;Xt.setTimeout(n,function(){!s&&a.mediaPlay()},0),!s&&a.mediaPlay(),n.setAttr("data-state","normal"),n.pipWindow=null,a.emit(tQ,!1)},this.enterPIPCallback=function(s){a.emit(tQ,!0),null!=s&&s.pictureInPictureWindow&&(n.pipWindow=s.pictureInPictureWindow),n.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(s){var d=a.media.webkitPresentationMode;"fullscreen"===n.pMode&&"fullscreen"!==d&&a.onFullscreenChange(null,!1),n.pMode=d,"picture-in-picture"===d?n.enterPIPCallback(s):"inline"===d&&n.leavePIPCallback(s)},a.media&&(a.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),a.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),t.checkWebkitSetPresentationMode(a.media)&&a.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(n){var a=Hh(document.styleSheets).map(function(d){try{return Hh(d.cssRules).map(function(I){return I.cssText}).join("")}catch{var m=document.createElement("link");m.rel="stylesheet",m.type=d.type,m.media=d.media,m.href=d.href,n.document.head.appendChild(m)}return""}).filter(Boolean).join("\n"),s=document.createElement("style");s.textContent=a,n.document.head.appendChild(s)}},{key:"requestPIP",value:function(){var n=this,a=this.player,s=this.playerConfig,d=this.config;if(this.isPIPAvailable()&&!this.isPip)try{var m=s.poster;if(m&&(a.media.poster="String"===Xt.typeOf(m)?m:m.poster),d.preferDocument&&this.isDocPIPAvailable()){var I={};if(d.width&&d.height)I.width=d.width,I.height=d.height;else{var J=a.root.getBoundingClientRect();I.width=J.width,I.height=J.height}documentPictureInPicture.requestWindow(I).then(function(oe){var Ce=d.docPiPNode,$e=d.docPiPStyle;n.enterPIPCallback();var nt=Ce||a.root,Tt=nt.parentElement,Zt=nt.previousSibling,ci=nt.nextSibling;n.copyStyleIntoPiPWindow(oe);var xi=document.createElement("style");if(xi.append("body{padding:0; margin:0;}"),$e){var Oi="";"string"==typeof $e?Oi=$e:"function"==typeof $e&&(Oi=$e.call(d)),Oi&&xi.append(Oi)}else nt===a.root&&xi.append("\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            ");oe.document.head.append(xi),oe.document.body.append(nt),oe.addEventListener("pagehide",function(Ui){Tt&&(ci?Tt.insertBefore(nt,ci):Zt?Tt.insertBefore(nt,Zt.nextSibling):Tt.appendChild(nt)),n.leavePIPCallback()},{once:!0})})}else t.checkWebkitSetPresentationMode(a.media)?a.media.webkitSetPresentationMode("picture-in-picture"):a.media.requestPictureInPicture();return!0}catch(oe){return console.error("requestPiP",oe),!1}}},{key:"exitPIP",value:function(){var n=this.player;try{var a;return this.isPIPAvailable()&&this.isPip&&(this.isDocPIPAvailable()&&null!==(a=documentPictureInPicture)&&void 0!==a&&a.window?documentPictureInPicture.window.close():t.checkWebkitSetPresentationMode(n.media)?n.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()),!0}catch(s){return console.error("exitPIP",s),!1}}},{key:"isPip",get:function(){var n,a=this.player;return!(!this.isDocPIPAvailable()||null===(n=documentPictureInPicture)||void 0===n||!n.window)||document.pictureInPictureElement&&document.pictureInPictureElement===a.media||"picture-in-picture"===a.media.webkitPresentationMode}},{key:"isPIPAvailable",value:function(){var n=this.player.media;return("Boolean"!==Xt.typeOf(document.pictureInPictureEnabled)||document.pictureInPictureEnabled)&&("Boolean"===Xt.typeOf(n.disablePictureInPicture)&&!n.disablePictureInPicture||n.webkitSupportsPresentationMode&&"Function"===Xt.typeOf(n.webkitSetPresentationMode))||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this);var n=this.player;n.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),n.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),t.checkWebkitSetPresentationMode(n.media)&&n.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(this.config.showIcon&&this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      '.concat(mm(this,"PIP",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(n){return"function"==typeof n.webkitSetPresentationMode}}]),t}(J0);function tEe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',"image/svg+xml").firstChild}var iEe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"playNext",function(a){var d=vn(n).player;a.preventDefault(),a.stopPropagation(),n.idx+1<n.config.urlList.length?(n.idx++,n.nextHandler(n.config.urlList[n.idx],n.idx),d.emit(ED,n.idx+1)):(n.nextHandler(),d.emit(ED))}),n.idx=-1,n}return uo(t,[{key:"afterCreate",value:function(){!this.config.urlList||0===this.config.urlList.length||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:tEe}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc),this.bind("mobile"===xa.device?"touchend":"click",this.playNext),this.show()}},{key:"changeSrc",value:function(n){var a=this.player;n&&(a.pause(),a.currentTime=0,a.switchURL?a.switchURL(n):a.src=n,a.config.url=n,a.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(mm(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),"\n     </xg-icon>\n    ")}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),t}(Qs),nEe=ie(2527),rEe=ie.n(nEe);function oEe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',"image/svg+xml").firstChild}var aEe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"download",function(a){if(!n.isLock){n.emitUserAction(a,"download");var s=n.playerConfig.url,d="";"String"===Xt.typeOf(s)?d=s:"Array"===Xt.typeOf(s)&&s.length>0&&(d=s[0].src);var m=n.getAbsoluteURL(d);rEe()(m),n.isLock=!0,n.timer=window.setTimeout(function(){n.isLock=!1,window.clearTimeout(n.timer),n.timer=null},300)}}),n.timer=null,n.isLock=!1,n}return uo(t,[{key:"afterCreate",value:function(){aa(Xo(t.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:oEe}}},{key:"getAbsoluteURL",value:function(n){if(!n.match(/^https?:\/\//)){var a=document.createElement("div");a.innerHTML='<a href="'.concat(n,'">x</a>'),n=a.firstChild.href}return n}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   '.concat(mm(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:3,disable:!0}}}]),t}(J0),sEe=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"beforeCreate",value:function(n){"boolean"==typeof n.player.config.screenShot&&(n.config.disable=!n.player.config.screenShot)}},{key:"afterCreate",value:function(){aa(Xo(t.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var n=this.config;this.initSize=function(a){n.fitVideo&&(n.width=a.vWidth,n.height=a.vHeight)},this.once(fm,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(n,a){var s=document.createElement("a");s.href=n,s.download=a;var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(d)}},{key:"createCanvas",value:function(n,a){var s=document.createElement("canvas"),d=s.getContext("2d");this.canvasCtx=d,this.canvas=s,s.width=n||this.config.width,s.height=a||this.config.height,d.imageSmoothingEnabled=!0,d.imageSmoothingEnabled&&(d.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(n){var a=this;n.preventDefault(),n.stopPropagation(),this.emitUserAction(n,"shot");var s=this.config;this.shot(s.width,s.height).then(function(d){a.emit(Pj,d),s.saveImg&&a.saveScreenShot(d,s.name+s.format)})}},{key:"shot",value:function(n,a){var s=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{quality:.92,type:"image/png"},m=this.config,I=this.player,J=d.quality||m.quality,oe=d.type||m.type;return new Promise(function(Ce,$e){var Tt,nt=null;if(I.media.canvas)nt=I.media.canvas;else{s.canvas?(s.canvas.width=n||m.width,s.canvas.height=a||m.height):s.createCanvas(n,a),Tt=s.canvasCtx;var gn,pn,Jn,tr,Zt=I.media.videoWidth/I.media.videoHeight,ci=(nt=s.canvas).width/nt.height,Ui=I.media.videoWidth,Hi=I.media.videoHeight;Zt>ci?(Jn=nt.width,tr=nt.width/Zt,gn=0,pn=Math.round((nt.height-tr)/2)):Zt===ci?(Jn=nt.width,tr=nt.height,gn=0,pn=0):Zt<ci&&(Jn=nt.height*Zt,tr=nt.height,gn=Math.round((nt.width-Jn)/2),pn=0),Tt.drawImage(I.media,0,0,Ui,Hi,gn,pn,Jn,tr)}var pr=nt.toDataURL(oe,J).replace(oe,"image/octet-stream");Ce(pr=pr.replace(/^data:image\/[^;]+/,"data:application/octet-stream"))})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(fm,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var a="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",'">\n      ').concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[a],'">').concat(this.i18n[a],"</span>"),"\n      </div>\n    </xg-icon>")}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),t}(J0),lEe=function(){function r(o){Ao(this,r),this.config=o.config,this.parent=o.root,this.root=Xt.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),o.root.appendChild(this.root);var t=this.config.maxHeight;t&&this.setStyle({maxHeight:t}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList(),this._delegates=Qs.delegate.call(this,this.root,"li","mobile"===xa.device?"touchend":"click",this.onItemClick)}return uo(r,[{key:"renderItemList",value:function(t){var i=this,n=this.config,a=this.root;t?n.data=t:t=n.data,n.style&&Object.keys(n.style).map(function(s){a.style[s]=n[s]}),t.length>0&&(this.attrKeys=Object.keys(t[0])),this.root.innerHTML="",t.map(function(s,d){var m=s.selected?"option-item selected":"option-item";s["data-index"]=d,i.root.appendChild(Xt.createDom("li","<span>".concat(s.showText,"</span>"),s,m))})}},{key:"onItemClick",value:function(t){t.delegateTarget||(t.delegateTarget=t.target);var i=t.delegateTarget;if(i&&Xt.hasClass(i,"selected"))return!1;var n="function"==typeof this.config.onItemClick?this.config.onItemClick:null,a=this.root.querySelector(".selected");Xt.addClass(i,"selected"),a&&Xt.removeClass(a,"selected"),n(t,{from:a?this.getAttrObj(a,this.attrKeys):null,to:this.getAttrObj(i,this.attrKeys)})}},{key:"getAttrObj",value:function(t,i){if(!t||!i)return{};var n={};i.map(function(s){n[s]=t.getAttribute(s)});var a=t.getAttribute("data-index");return a&&(n.index=Number(a)),n}},{key:"show",value:function(){Xt.removeClass(this.root,"hide"),Xt.addClass(this.root,"active")}},{key:"hide",value:function(){Xt.removeClass(this.root,"active"),Xt.addClass(this.root,"hide")}},{key:"setStyle",value:function(t){var i=this;Object.keys(t).forEach(function(n){i.root.style[n]=t[n]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(t){t.destroy&&t.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),r}();function cEe(r,o){return"side"===r?o===vl.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var QD="mobile"===xa.device,RD=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"onEnter",function(a){a.stopPropagation(),n.emit("icon_mouseenter",{pluginName:n.pluginName}),n.switchActiveState(a)}),Gn(vn(n),"switchActiveState",function(a){a.stopPropagation(),n.toggle("click"!==n.config.toggleMode||!n.isActive)}),Gn(vn(n),"onLeave",function(a){a.stopPropagation(),n.emit("icon_mouseleave",{pluginName:n.pluginName}),"side"!==n.config.listType&&n.isActive&&n.toggle(!1)}),Gn(vn(n),"onListEnter",function(a){n.enterType=2}),Gn(vn(n),"onListLeave",function(a){n.enterType=0,n.isActive&&n.toggle(!1)}),n.isIcons=!1,n.isActive=!1,n.curValue=null,n.curIndex=0,n}return uo(t,[{key:"updateLang",value:function(n){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var n=this,a=this.config;this.initIcons(),QD&&"middle"!==a.listType&&(a.listType="side"),a.hidePortrait&&Xt.addClass(this.root,"portrait"),this.on([fm,zf],function(){n._resizeList()}),this.once(Uf,function(){a.list&&a.list.length>0&&(n.renderItemList(a.list),n.show())}),QD&&this.on(W4,function(){n.isActive&&(n.optionsList&&n.optionsList.hide(),n.isActive=!1)}),QD?(a.toggleMode="click",this.activeEvent="touchend"):this.activeEvent="click"===a.toggleMode?"click":"mouseenter","click"===a.toggleMode?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var n=this,a=this.icons,s=Object.keys(a),d=!1;s.length>0&&(s.forEach(function(m){n.appendChild(".xgplayer-icon",a[m]),!d&&(d=a[m])}),this.isIcons=d),!d&&(this.appendChild(".xgplayer-icon",Xt.createDom("span","",{},"icon-text")),Xt.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(n){!this.config.list||this.config.list.length<2||Xt.addClass(this.root,"show")}},{key:"hide",value:function(){Xt.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(n,a,s){if(void 0===n)return"";var d=this.config.list;!s&&(s=this.player.lang),a=!a||Xt.isUndefined(n[a])?"text":a,"number"==typeof n&&(n=d[n]);try{return"object"===Rd(n[a])?n[a][s]||n[a].en:n[a]}catch(m){return console.warn(m),""}}},{key:"toggle",value:function(n){if(n!==this.isActive){var a=this.player.controls,s=this.config.listType;n?("side"===s?a.blur():a.focus(),this.optionsList&&this.optionsList.show()):("side"===s?a.focus():a.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=n}}},{key:"onItemClick",value:function(n,a){n.stopPropagation();var s=this.config,d=s.listType,m=s.list;this.curIndex=a.to.index,this.curItem=m[this.curIndex],this.changeCurrentText(),(this.config.isItemClickHide||QD||"side"===d)&&this.toggle(!1)}},{key:"onIconClick",value:function(n){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var n=this.config.list,s=n[this.curIndex<n.length?this.curIndex:0];s&&(this.find(".icon-text").innerHTML=this.getTextByLang(s,"iconText"))}}},{key:"renderItemList",value:function(n,a){var s=this,d=this.config,m=this.optionsList,I=this.player;if("number"==typeof a&&(this.curIndex=a,this.curItem=d.list[a]),m)return m.renderItemList(n),void this.changeCurrentText();var J={config:{data:n||[],className:cEe(d.listType,d.position),onItemClick:function(Tt,Zt){s.onItemClick(Tt,Zt)}},root:"side"===d.listType?I.innerContainer||I.root:this.root};if(this.config.isShowIcon){var Ce=this.player.root.getBoundingClientRect().height,$e="middle"===d.listType?Ce-50:Ce;$e&&d.heightLimit&&(J.config.maxHeight="".concat($e,"px")),this.optionsList=new lEe(J),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var a=this.player.root.getBoundingClientRect().height;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat("middle"===this.config.listType?a-50:a,"px")})}}},{key:"destroy",value:function(){"click"===this.config.toggleMode?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon">\n    </div>\n   </xg-icon>')}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:"hover",heightLimit:!0}}}]),t}(Qs),M5=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),(n=o.call(this,i)).curTime=0,n.isPaused=!0,n}return uo(t,[{key:"beforeCreate",value:function(n){var a=n.config.list;Array.isArray(a)&&a.length>0&&(n.config.list=a.map(function(s){return!s.text&&s.name&&(s.text=s.name),s.text||(s.text=s.definition),s}))}},{key:"afterCreate",value:function(){var n=this;aa(Xo(t.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(a){n.changeDefinitionList(a)}),this.on(q4,function(a){n.renderItemList(n.config.list,a.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(n){!this.config.list||this.config.list.length<2||Xt.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var n=this.config,a=n.list,s=n.defaultDefinition;if(a.length>0){var d=null;a.map(function(m){m.definition===s&&(d=m)}),d||(d=a[0]),this.changeDefinition(d)}}},{key:"renderItemList",value:function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.list||[],s=arguments.length>1?arguments[1]:void 0,d=s&&s.definition?s.definition:this.config.defaultDefinition;s&&a.forEach(function(J){J.selected=!1});var m=0,I=a.map(function(J,oe){var Ce=xc(xc({},J),{},{showText:n.getTextByLang(J)||J.definition,selected:!1});return(J.selected||J.definition&&J.definition==d)&&(Ce.selected=!0,m=oe),Ce});aa(Xo(t.prototype),"renderItemList",this).call(this,I,m)}},{key:"changeDefinitionList",value:function(n){Array.isArray(n)&&(this.config.list=n.map(function(a){return!a.text&&a.name&&(a.text=a.name),a.text||(a.text=a.definition),a}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(n,a){this.player.changeDefinition(n,a)}},{key:"onItemClick",value:function(n,a){var s=this.player.definitionList;aa(Xo(t.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(n,"change_definition",{from:a.from,to:a.to});for(var d=0;d<s.length;d++)a.to&&s[d].definition===a.to.definition&&(a.to.url=s[d].url),a.from&&s[d].definition===a.from.definition&&(a.from.url=s[d].url);this.player.changeDefinition(a.to,a.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return xc(xc({},RD.defaultConfig),{},{position:vl.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),t}(RD),x5=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),(n=o.call(this,i)).curRate=1,n}return uo(t,[{key:"beforeCreate",value:function(n){var a=n.player.config.playbackRate,s=a?Array.isArray(a)?a:n.config.list:[];Array.isArray(s)&&(n.config.list=s.map(function(d){return"number"==typeof d?d={rate:d,text:"".concat(d,"x")}:!d.text&&d.rate&&(d.text="".concat(d.rate,"x")),d}))}},{key:"afterCreate",value:function(){var n=this;aa(Xo(t.prototype),"afterCreate",this).call(this),this.on(Tj,function(){n.curValue!==n.player.playbackRate&&n.renderItemList()}),this.renderItemList()}},{key:"show",value:function(n){!this.config.list||0===this.config.list.length||aa(Xo(t.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(n,a){aa(Xo(t.prototype),"onItemClick",this).apply(this,arguments);var d=Number(n.delegateTarget.getAttribute("rate"));if(!d||d===this.curValue)return!1;this.emitUserAction(n,"change_rate",{props:{playbackRate:{from:this.player.playbackRate,to:d}}}),this.curValue=d,this.player.playbackRate=d}},{key:"renderItemList",value:function(){var n=this,a=this.player.playbackRate||1;this.curValue=a;var s=-1,d=this.config.list.map(function(m,I){var J={rate:m.rate};return J.rate===a&&(J.selected=!0,s=I),J.showText=n.getTextByLang(m),J});aa(Xo(t.prototype),"renderItemList",this).call(this,d,s)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var d,n=this.config.list,s=n[this.curIndex<n.length?this.curIndex:0];d=!s||this.curIndex<0?"".concat(this.player.playbackRate,"x"):this.getTextByLang(s,"iconText"),this.find(".icon-text").innerHTML=d}}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return xc(xc({},RD.defaultConfig),{},{position:vl.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),t}(RD);function AEe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" class=\'path_full\' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}function dEe(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var pQ=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"beforeCreate",value:function(n){"boolean"==typeof n.player.config.cssFullscreen&&(n.config.disable=!n.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var n=this;aa(Xo(t.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(wD,function(a){n.animate(a)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(s){s.preventDefault(),s.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var n=this.icons,a=this.find(".xgplayer-icon");a.appendChild(n.cssFullscreen),a.appendChild(n.exitCssFullscreen)}},{key:"btnClick",value:function(n){n.preventDefault(),n.stopPropagation();var a=this.player.isCssfullScreen;this.emitUserAction(n,"switch_cssfullscreen",{cssfullscreen:a}),a?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(n){this.root&&(this.setAttr("data-state",n?"full":"normal"),this.switchTips(n))}},{key:"switchTips",value:function(n){var a=this.i18nKeys,s=this.find(".xg-tips");s&&this.changeLangTextKey(s,n?a.EXITCSSFULLSCREEN_TIPS:a.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:AEe,class:"xg-get-cssfull"},exitCssFullscreen:{icon:dEe,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){aa(Xo(t.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return"<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ".concat(mm(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:vl.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),t}(J0),D5=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){var n=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(s){s.preventDefault(),s.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(Iw,function(a){n.onError(a)})}},{key:"errorRetry",value:function(n){this.emitUserAction(n,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var a=this.player,d=a.errorNote?this.i18n[a.errorNote]:"";if(!d)switch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).errorType){case"decoder":d=this.i18n.MEDIA_ERR_DECODE;break;case"network":d=this.i18n.MEDIA_ERR_NETWORK;break;default:d=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=d,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),t}(Qs),uEe=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){var n=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(a){(n.config.onClick||n.customOnClick)&&(a.preventDefault(),a.stopPropagation(),n.customOnClick?n.customOnClick(a):n.config.onClick(a))}),this.player.showPrompt=function(){n.showPrompt.apply(n,arguments)},this.player.hidePrompt=function(){n.hide()}}},{key:"setStyle",value:function(n){var a=this;Object.keys(n).map(function(s){a.root.style[s]=n[s]})}},{key:"showPrompt",value:function(n){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n){this.customOnClick=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};var m=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),Xt.addClass(this.root,"show"),"arrow"===s.mode&&Xt.addClass(this.root,"arrow"),this.find(".xgplayer-prompt-detail").innerHTML="string"==typeof n?n:"".concat(n.text||"")+"".concat(n.highlight?'<i class="highlight">'.concat(n.highlight,"</i>"):""),s.style&&this.setStyle(s.style),("boolean"==typeof s.autoHide?s.autoHide:this.config.autoHide)&&(this.intervalId=setTimeout(function(){a.hide()},s.interval||m))}}},{key:"hide",value:function(){Xt.removeClass(this.root,"show"),Xt.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(cr.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),t}(Qs),I5={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function k5(r){Object.keys(I5).map(function(o){void 0===r[o]&&(r[o]=I5[o])})}var T5={_updateDotDom:function(o,t){if(t){var i=this.calcuPosition(o.time,o.duration),n=o.style||{};n.left="".concat(i.left,"%"),n.width="".concat(i.width,"%"),t.setAttribute("data-text",o.text),t.setAttribute("data-time",o.time),i.isMini?Xt.addClass(t,"mini"):Xt.removeClass(t,"mini"),Object.keys(n).map(function(a){t.style[a]=n[a]})}},initDots:function(){var o=this;this._ispots.map(function(t){o.createDot(t,!1)}),this.ispotsInit=!0},createDot:function(o){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.player.plugins.progress;if(i&&(t&&(k5(o),this._ispots.push(o)),this.ispotsInit||!t)){var n=this.calcuPosition(o.time,o.duration),a=o.style||{};a.left="".concat(n.left,"%"),a.width="".concat(n.width,"%");var s="xgspot_".concat(o.id," xgplayer-spot");n.isMini&&(s+=" mini");var d=o.template?'<div class="xgplayer-spot-pop">'.concat(o.template,"</div>"):"",m=Xt.createDom("xg-spot",d,{"data-text":o.text,"data-time":o.time,"data-id":o.id},s);Object.keys(a).map(function(I){m.style[I]=a[I]}),i.outer&&i.outer.appendChild(m),this.positionDot(m,o.id)}},findDot:function(o){if(this.player.plugins.progress){var t=this._ispots.filter(function(i,n){return i.id===o});return t.length>0?t[0]:null}},updateDot:function(o){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.player.plugins.progress;if(i){var n=this.findDot(o.id);if(n&&Object.keys(o).map(function(s){n[s]=o[s]}),this.ispotsInit){var a=i.find('xg-spot[data-id="'.concat(o.id,'"]'));a&&(this._updateDotDom(o,a),t&&this.showDot(o.id))}}},deleteDot:function(o){var t=this._ispots,i=this.player.plugins.progress;if(i){for(var n=[],a=0;a<t.length;a++)t[a].id===o&&n.push(a);for(var d=n.length-1;d>=0;d--)if(t.splice(n[d],1),this.ispotsInit){var m=i.find('xg-spot[data-id="'.concat(o,'"]'));m&&m.parentElement.removeChild(m)}}},deleteAllDots:function(){var o=this.player.plugins.progress;if(o){if(!this.ispotsInit)return void(this._ispots=[]);for(var t=o.root.getElementsByTagName("xg-spot"),i=t.length-1;i>=0;i--)o.outer.removeChild(t[i]);this._ispots=[]}},updateAllDots:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this.player.plugins.progress;if(i){if(!this.ispotsInit)return void(this._ispots=t);this._ispots=[];var n=i.root.getElementsByTagName("xg-spot"),a=n.length;if(a>t.length)for(var s=a-1;s>t.length-1;s--)i.outer.removeChild(n[s]);t.forEach(function(d,m){m<a?(n[m].setAttribute("data-id","".concat(d.id)),o._ispots.push(d),o.updateDot(d)):o.createDot(d)})}},positionDots:function(){var o=this,t=this._ispots,i=this.playerSize,n=this.player.sizeInfo,a=this.player.plugins.progress;!a||n.width===i.width||(i.width=n.width,i.left=n.left,t.forEach(function(s){var d=a.find('xg-spot[data-id="'.concat(s.id,'"]'));d&&o.positionDot(d,s.id)}))},positionDot:function(o,t){var i=Xt.findDom(o,".xgplayer-spot-pop");if(i){var n=this.playerSize,a=o.getBoundingClientRect(),s=i.getBoundingClientRect(),d=a.left-n.left,m=n.width-d-a.width/2;i.style.left=d<s.width/2||n.width<s.width?"".concat(s.width/2-d,"px"):m<s.width/2?"".concat(m-s.width/2+a.width/2,"px"):"50%"}},updateDuration:function(){var o=this,t=this.player.plugins.progress;t&&this._ispots.forEach(function(n){var a=t.find('xg-spot[data-id="'.concat(n.id,'"]'));o._updateDotDom(n,a)})},getAllDotsDom:function(){var o=this.player.plugins.progress;return o?o.root.getElementsByTagName("xg-spot"):[]},getDotDom:function(o){var t=this.player.plugins.progress;if(t)return t.find('xg-spot[data-id="'.concat(o,'"]'))}},Z_={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},pEe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),Gn(vn(n=o.call(this,i)),"onMousemove",function(a){if(!n.config.disable){if(Xt.hasClass(a.target,"xg-spot-content")&&n.config.isHideThumbnailHover)return void n.player.plugins.progress.onMouseLeave(a);(n._state.f||Xt.hasClass(a.target,"xg-spot-content"))&&(Xt.event(a),a.stopPropagation())}}),Gn(vn(n),"onMousedown",function(a){n.config.disable||(n._state.f||Xt.hasClass(a.target,"xg-spot-content"))&&(Xt.event(a),a.stopPropagation())}),Gn(vn(n),"onMouseup",function(a){if(n.isDrag){var s=n.player.plugins.progress;s&&s.pos&&(s.onMouseUp(a),!s.pos.isEnter&&s.onMouseLeave(a))}}),Gn(vn(n),"onDotMouseLeave",function(a){if(!n.config.disable){n._curDot.removeEventListener("mouseleave",n.onDotMouseLeave),n.blurDot(a.target),n._curDot=null;var s=n.player.plugins.progress;s&&s.enableBlur(),n.show()}}),Gn(vn(n),"onProgressMouseOver",function(a,s){if(!n.config.disable&&Xt.hasClass(s.target,"xgplayer-spot")&&!n._curDot){n._curDot=s.target,n.focusDot(s.target),n._curDot.children.length>0&&n.hide();var d=n.player.plugins.progress;d&&d.disableBlur(),n._curDot.addEventListener("mouseleave",n.onDotMouseLeave)}}),n._ispots=[],n.videoPreview=null,n.videothumbnail=null,n.thumbnail=null,n.timeStr="",n._state={now:0,f:!1},n}return uo(t,[{key:"beforeCreate",value:function(n){var a=n.player.plugins.progress;a&&(n.root=a.root)}},{key:"afterCreate",value:function(){var n=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(a,s){s.seekTime&&n.player.seek(s.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(a){n.setTimeContent(Xt.format(a))}),function hEe(r){var o=r.config,t=r.player;Object.keys(T5).map(function(n){r[n]=T5[n].bind(r)}),r._ispots=(t.config.progressDot||o.ispots||[]).map(function(n){return k5(n),n}),r.ispotsInit=!1,r.playerSize={left:t.sizeInfo.left,width:t.sizeInfo.width},r.on(pm,function(){r.ispotsInit?r.updateDuration():r.initDots()}),r.on(fm,function(){r.positionDots()})}(this),this.on(pm,function(){n.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(n){var a=this;n&&Object.keys(n).map(function(s){a.config[s]=n[s]})}},{key:"onPluginsReady",value:function(){this.player.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var n=this,a=this.player.plugins.progress;if(a&&(Object.keys(Z_).map(function(d){n[Z_[d]]=n[Z_[d]].bind(n),a.addCallBack(d,n[Z_[d]])}),"mobile"!==xa.device)){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var s=this.hook("previewClick",function(){});this.handlerPreviewClick=function(d){d.stopPropagation(),s(parseInt(1e3*n._state.now,10)/1e3,d)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(n,a){this.config.disable||!this.player.duration||this.updatePosition(n.offset,n.width,n.currentTime,n.e)}},{key:"onProgressDragStart",value:function(n){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&Xt.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(n){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&Xt.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(n,a){this.config.disable||Xt.hasClass(a.target,"xgplayer-spot")&&(a.stopPropagation(),a.preventDefault(),["time","id","text"].map(function(s){n[s]=a.target.getAttribute("data-".concat(s))}),n.time&&(n.time=Number(n.time)),this.handlerSpotClick(a,n))}},{key:"updateLinePos",value:function(n,a){var s=this.root,d=this.previewLine,I=this.config,oe="flex"===this.player.controls.mode,Ce=s.getBoundingClientRect().width;if(Ce||!this._hasThumnail){var nt,$e=n-(Ce=this._hasThumnail&&Ce<I.width?I.width:Ce)/2;$e<0&&!oe?($e=0,nt=n-Ce/2):$e>a-Ce&&!oe?(nt=$e-(a-Ce),$e=a-Ce):nt=0,void 0!==nt&&(d.style.transform="translateX(".concat(nt.toFixed(2),"px)")),s.style.transform="translateX(".concat($e.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(n){var s=this.timePoint;this.timeText.innerHTML=n,!this.thumbnail&&(s.innerHTML=n)}},{key:"updatePosition",value:function(n,a,s,d){var I=this.config,J=this._state;if(this.root){J.now=s,this.transformTimeHook(s);var oe=this.timeStr;d&&d.target&&Xt.hasClass(d.target,"xgplayer-spot")?(this.showTips(d.target.getAttribute("data-text"),!1,oe),this.focusDot(d.target),J.f=!0,I.isFocusDots&&J.f&&(J.now=parseInt(d.target.getAttribute("data-time"),10))):I.defaultText?(J.f=!1,this.showTips(I.defaultText,!0,oe)):(J.f=!1,this.hideTips("")),this.updateTimeText(oe),this.updateThumbnails(J.now),this.updateLinePos(n,a)}}},{key:"setTimeContent",value:function(n){this.timeStr=n}},{key:"updateThumbnails",value:function(n){var s=this.videoPreview,d=this.config,m=this.player.plugins.thumbnail;if(m&&m.usable){this.thumbnail&&m.update(this.thumbnail,n,d.width,d.height);var I=s&&s.getBoundingClientRect();this.videothumbnail&&m.update(this.videothumbnail,n,I.width,I.height)}}},{key:"registerThumbnail",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("mobile"!==xa.device){var a=this.player,s=this.config,d=a.getPlugin("thumbnail");if(d&&d.setConfig(n),!(d&&d.usable&&s.isShowThumbnail))return void Xt.addClass(this.root,"short-line no-thumbnail");Xt.removeClass(this.root,"short-line no-thumbnail"),"short"===s.mode&&Xt.addClass(this.root,"short-line"),this._hasThumnail=!0;var m=this.find(".xg-spot-thumbnail");this.thumbnail=d.createThumbnail(m,"progress-thumbnail"),s.isShowCoverPreview&&(this.videoPreview=Xt.createDom("xg-video-preview","",{},"xgvideo-preview"),a.root.appendChild(this.videoPreview),this.videothumbnail=d.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(n,a){var d=this.player,m=this.player.plugins.progress.root.getBoundingClientRect().width;return n+a>d.duration&&(a=d.duration-n),{left:n/d.duration*100,width:a/d.duration*100,isMini:a<d.duration/m*6}}},{key:"showDot",value:function(n){var a=this.findDot(n);if(a){var d=this.root.getBoundingClientRect().width;this.updatePosition(a.time/this.player.duration*d,d,a.time)}}},{key:"focusDot",value:function(n,a){n&&(a||(a=n.getAttribute("data-id")),Xt.addClass(n,"active"),this._activeDotId=a)}},{key:"blurDot",value:function(n){n||(n=this.getDotDom(this._activeDotId)),n&&(Xt.removeClass(n,"active"),this._activeDotId=null)}},{key:"showTips",value:function(n,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Xt.addClass(this.root,"no-timepoint"),n&&(Xt.addClass(this.find(".xg-spot-content"),"show-text"),a&&"production"===this.config.mode?(Xt.addClass(this.root,"product"),this.tipText.textContent=n):(Xt.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?n:"".concat(s," ").concat(n)))}},{key:"hideTips",value:function(){Xt.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",Xt.removeClass(this.find(".xg-spot-content"),"show-text"),Xt.removeClass(this.root,"product")}},{key:"hide",value:function(){Xt.addClass(this.root,"hide")}},{key:"show",value:function(n){Xt.removeClass(this.root,"hide")}},{key:"enable",value:function(){var n=this.config,a=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&n.isShowThumbnail&&this.registerThumbnail(a.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var n=this,a=this.player.plugins.progress;a&&Object.keys(Z_).map(function(s){a.removeCallBack(s,n[Z_[s]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===xa.device||"mobile"===this.playerConfig.isMobileSimulateMode?"":'<div class="xg-spot-info hide '.concat("short"===this.config.mode?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-ext-text"></div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),t}(Qs),fEe=function(r){Vo(t,r);var o=Jo(t);function t(i){var n;return Ao(this,t),(n=o.call(this,i)).ratio=1,n.interval=null,n._preloadMark={},n}return uo(t,[{key:"afterCreate",value:function(){var n=this;this.usable&&this.initThumbnail(),this.on([pm],function(){var a=n.config,d=a.interval;n.usable&&(n.interval=d>0?d:Math.round(1e3*n.player.duration/a.pic_num)/1e3)})}},{key:"setConfig",value:function(n){var a=this;if(n){var s=Object.keys(n);s.length<1||(s.forEach(function(d){a.config[d]=n[d]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var n=this.config,a=n.urls;return a&&a.length>0&&n.pic_num>0}},{key:"initThumbnail",value:function(){var n=this.config,d=n.pic_num,m=n.interval;this.ratio=n.width/n.height*100,this.interval=m||Math.round(this.player.duration/d),this._preloadMark={}}},{key:"getUrlByIndex",value:function(n){return n>=0&&n<this.config.urls.length?this.config.urls[n]:""}},{key:"preload",value:function(n){var a=this;if(!this._preloadMark[n]){var s=this.config.urls,d=s.length,m=[];n>0&&m.push(n-1),m.push(n),n>0&&n<d-1&&m.push(n+1),m.map(function(I){!a._preloadMark[I]&&I>=0&&I<d&&(a._preloadMark[I]=1,Xt.preloadImg(s[I],function(){a._preloadMark[I]=2}))})}}},{key:"getPosition",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=this.config,m=d.pic_num,I=d.row,J=d.col,oe=d.width,Ce=d.height;this.interval=Math.round(this.player.duration/m);var $e=Math.ceil(n/this.interval),nt=($e=$e>m?m:$e)<I*J?0:Math.ceil($e/(I*J))-1,Tt=$e-nt*(J*I),Zt=Tt>0?Math.ceil(Tt/J)-1:0,ci=Tt>0?Tt-Zt*J-1:0,xi=0,Oi=0;a&&s?a/s<oe/Ce?xi=(Oi=s)*(oe/Ce):Oi=(xi=a)/(oe/Ce):s?a||(xi=(Oi=s||Ce)*(oe/Ce)):Oi=(xi=a||oe)/(oe/Ce);var Hi=this.getUrlByIndex(nt);return{urlIndex:nt,rowIndex:Zt,colIndex:ci,url:Hi,height:Oi,width:xi,style:{backgroundImage:"url(".concat(Hi,")"),backgroundSize:"".concat(xi*J,"px auto"),backgroundPosition:"-".concat(ci*xi,"px -").concat(Zt*Oi,"px"),width:"".concat(xi,"px"),height:"".concat(Oi,"px")}}}},{key:"update",value:function(n,a){var m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",I=this.config,oe=I.urls;if(!(I.pic_num<=0)&&oe&&0!==oe.length){var Ce=this.getPosition(a,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0);this.preload(Ce.urlIndex),Object.keys(Ce.style).map(function($e){n.style[$e]=Ce.style[$e]}),Object.keys(m).map(function($e){n.style[$e]=m[$e]})}}},{key:"changeConfig",value:function(){this.setConfig(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"createThumbnail",value:function(n,a){var s=Xt.createDom("xg-thumbnail","",{},"thumbnail ".concat(a));return n&&n.appendChild(s),s}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),t}(Qs);function fQ(r){return r?"background:".concat(r,";"):""}var gEe=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},a=arguments.length>1?arguments[1]:void 0;!a||!this.root||(n.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(n.cached/a*100,"%")),n.played&&(this.find("xg-mini-progress-played").style.width="".concat(n.played/a*100,"%")))}},{key:"render",value:function(){if(this.playerConfig.progress&&this.playerConfig.miniprogress){var n=this.playerConfig.commonStyle,a={cached:fQ(n.cachedColor),played:fQ(n.playedColor),progress:fQ(n.progressColor)};return'<xg-mini-progress class="xg-mini-progress" style="'.concat(a.progress,'">\n    <xg-mini-progress-cache class="xg-mini-progress-cache" style="').concat(a.cached,'"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played" style="').concat(a.played,'"></xg-mini-progress-played>\n    </xg-mini-progress>')}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}]),t}(Qs),PD=null,_Ee=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onLoadedData",function(d){i.player&&(i._frameCount=i.config.startFrameCount,i.stop(),i.renderOnTimeupdate(d),i.off(Ah,i.renderOnTimeupdate),i.on(Ah,i.renderOnTimeupdate))}),Gn(vn(i),"onVisibilitychange",function(d){"visible"===document.visibilityState?i._checkIfCanStart()&&i.start():"hidden"===document.visibilityState&&i.stop()}),Gn(vn(i),"renderOnTimeupdate",function(d){if(i._frameCount>0)i.renderOnce(),i._frameCount--;else{i._isLoaded=!0,i.off(Ah,i.renderOnTimeupdate);var m=i.config.startInterval;!i.player.paused&&i._checkIfCanStart()&&i.start(0,m)}}),Gn(vn(i),"start",function(d,m){var I=i.player.video,J=function mEe(){try{return parseInt(window.performance.now(),10)}catch{return(new Date).getTime()}}(),oe=i.checkVideoIsSupport(I);!oe||!i.canvasCtx||(m||(m=i.interval),i.stop(),I.videoWidth&&I.videoHeight&&(i.videoPI=I.videoHeight>0?parseInt(I.videoWidth/I.videoHeight*100,10):0,("realtime"===i.config.mode||J-i.preTime>=m)&&(I&&I.videoWidth&&i.update(oe,i.videoPI),i.preTime=J)),i.frameId="timer"===i._loopType?Xt.setTimeout(vn(i),i.start,m):Xt.requestAnimationFrame(i.start))}),Gn(vn(i),"stop",function(){i.frameId&&("timer"===i._loopType?Xt.clearTimeout(vn(i),i.frameId):Xt.cancelAnimationFrame(i.frameId),i.frameId=null)}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this;!0===this.playerConfig.dynamicBg&&(this.config.disable=!1),t.isSupport||(this.config.disable=!0);var a=this.config,d=a.mode,m=a.frameRate;a.disable||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/m,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType="realtime"!==this.config.mode&&this.interval>=1e3?"timer":"animation",this.once(yD,function(){n.player&&(n.init(),n.renderByPoster(),n.player.paused||n.start())}),"poster"!==d&&("firstframe"!==d&&(this.on(V_,function(){n.stop()}),this.on(Bu,function(){var I=n.config.startInterval;n._checkIfCanStart()&&n.start(0,I)}),this.on(H_,function(){n.stop()})),this.on(Op,this.onLoadedData),this.on(J4,function(){n._isLoaded=!1,n.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(n){var a=this;Object.keys(n).forEach(function(s){"root"===s&&n[s]!==a.config[s]?a.reRender(n[s]):"frameRate"===s?a.interval=parseInt(1e3/n[s],10):"disable"===s&&n[s]&&a.stop(),a.config[s]=n[s]})}},{key:"init",value:function(n){var a=this.player,s=this.config;this.canvasFilter=t.supportCanvasFilter();try{var d=n||s.root;d||(d=s.isInnerRender&&a.innerContainer||a.root),d.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(s.index,'"><canvas>\n        </canvas><xgmask></xgmask></div>')),this.root=d.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=s.filter,this.canvas.style.webkitFilter=s.filter),this.mask=this.find("xgmask"),s.addMask&&(this.mask.style.background=s.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(m){ss.logError("plugin:DynamicBg",m)}}},{key:"reRender",value:function(n){if(this.config.disable||this.root){this.stop();var s=this.root?this.root.parentElement:null;if(s!==n&&s.removeChild(this.root),!n)return void(this.root=null);this.init(n),this.renderOnce();var d=this.config.startInterval;this._checkIfCanStart()&&this.start(0,d)}}},{key:"checkVideoIsSupport",value:function(n){if(!n)return null;var a=n&&n instanceof window.HTMLVideoElement?n:n.canvas?n.canvas:n.flyVideo?n.flyVideo:null;if(a&&("safari"!==xa.browser||!Xt.isMSE(a)))return a;var s=a?a.tagName.toLowerCase():"";return"canvas"===s||"img"===s?a:null}},{key:"renderByPoster",value:function(){var n=this.playerConfig.poster;if(n){var a="String"===Xt.typeOf(n)?n:"String"===Xt.typeOf(n.poster)?n.poster:null;this.updateImg(a)}}},{key:"_checkIfCanStart",value:function(){var n=this.config.mode;return this._isLoaded&&!this.player.paused&&"firstframe"!==n&&"poster"!==n}},{key:"renderOnce",value:function(){var n=this.player.video;if(n.videoWidth&&n.videoHeight){this.videoPI=parseInt(n.videoWidth/n.videoHeight*100,10);var a=this.checkVideoIsSupport(n);a&&this.update(a,this.videoPI)}}},{key:"updateImg",value:function(n){var a=this;if(n){var s=this.canvas.getBoundingClientRect(),d=s.width,m=s.height,I=new window.Image;I.onload=function(){if(a.canvas&&!a.frameId&&!a.isStart){a.canvas.height=m,a.canvas.width=d;var J=parseInt(d/m*100,10);a.update(I,J),I=null}},I.src=n}}},{key:"update",value:function(n,a){if(this.canvas&&this.canvasCtx&&a)try{var s=this._pos,d=this.config,m=this.canvas.getBoundingClientRect(),I=m.width,J=m.height;if(I!==s.width||J!==s.height||s.pi!==a){var oe=parseInt(I/J*100,10);s.pi=a,s.width!==I&&(s.width=this.canvas.width=I),s.height!==J&&(s.height=this.canvas.height=J);var Ce=J,$e=I;oe<a?$e=parseInt(J*a/100,10):oe>a&&(Ce=parseInt(100*I/a,10)),s.rwidth=$e*d.multiple,s.rheight=Ce*d.multiple,s.x=(I-s.rwidth)/2,s.y=(J-s.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=d.filter),this.canvasCtx.drawImage(n,s.x,s.y,s.rwidth,s.rheight)}catch(nt){ss.logError("plugin:DynamicBg",nt)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return"boolean"==typeof PD||(PD=function vEe(){try{return!!document.createElement("canvas").getContext}catch{return!1}}()),PD}},{key:"supportCanvasFilter",value:function(){return!("safari"===xa.browser||"firefox"===xa.browser)}}]),t}(Qs),F5={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"\u89c6\u9891\u4e0b\u8f7d\u9519\u8bef"},mse:{code:2,msg:"\u6d41\u8ffd\u52a0\u9519\u8bef"},parse:{code:3,msg:"\u89e3\u6790\u9519\u8bef"},format:{code:4,msg:"\u683c\u5f0f\u9519\u8bef"},decoder:{code:5,msg:"\u89e3\u7801\u9519\u8bef"},runtime:{code:6,msg:"\u8bed\u6cd5\u9519\u8bef"},timeout:{code:7,msg:"\u64ad\u653e\u8d85\u65f6"},other:{code:8,msg:"\u5176\u4ed6\u9519\u8bef"}},HAVE_NOTHING:"\u6ca1\u6709\u5173\u4e8e\u97f3\u9891/\u89c6\u9891\u662f\u5426\u5c31\u7eea\u7684\u4fe1\u606f",HAVE_METADATA:"\u97f3\u9891/\u89c6\u9891\u7684\u5143\u6570\u636e\u5df2\u5c31\u7eea",HAVE_CURRENT_DATA:"\u5173\u4e8e\u5f53\u524d\u64ad\u653e\u4f4d\u7f6e\u7684\u6570\u636e\u662f\u53ef\u7528\u7684\uff0c\u4f46\u6ca1\u6709\u8db3\u591f\u7684\u6570\u636e\u6765\u64ad\u653e\u4e0b\u4e00\u5e27/\u6beb\u79d2",HAVE_FUTURE_DATA:"\u5f53\u524d\u53ca\u81f3\u5c11\u4e0b\u4e00\u5e27\u7684\u6570\u636e\u662f\u53ef\u7528\u7684",HAVE_ENOUGH_DATA:"\u53ef\u7528\u6570\u636e\u8db3\u4ee5\u5f00\u59cb\u64ad\u653e",NETWORK_EMPTY:"\u97f3\u9891/\u89c6\u9891\u5c1a\u672a\u521d\u59cb\u5316",NETWORK_IDLE:"\u97f3\u9891/\u89c6\u9891\u662f\u6d3b\u52a8\u7684\u4e14\u5df2\u9009\u53d6\u8d44\u6e90\uff0c\u4f46\u5e76\u672a\u4f7f\u7528\u7f51\u7edc",NETWORK_LOADING:"\u6d4f\u89c8\u5668\u6b63\u5728\u4e0b\u8f7d\u6570\u636e",NETWORK_NO_SOURCE:"\u672a\u627e\u5230\u97f3\u9891/\u89c6\u9891\u6765\u6e90",MEDIA_ERR_ABORTED:"\u53d6\u56de\u8fc7\u7a0b\u88ab\u7528\u6237\u4e2d\u6b62",MEDIA_ERR_NETWORK:"\u7f51\u7edc\u9519\u8bef",MEDIA_ERR_DECODE:"\u89e3\u7801\u9519\u8bef",MEDIA_ERR_SRC_NOT_SUPPORTED:"\u4e0d\u652f\u6301\u7684\u97f3\u9891/\u89c6\u9891\u683c\u5f0f",REPLAY:"\u91cd\u64ad",ERROR:"\u7f51\u7edc\u8fde\u63a5\u4f3c\u4e4e\u51fa\u73b0\u4e86\u95ee\u9898",PLAY_TIPS:"\u64ad\u653e",PAUSE_TIPS:"\u6682\u505c",PLAYNEXT_TIPS:"\u4e0b\u4e00\u96c6",DOWNLOAD_TIPS:"\u4e0b\u8f7d",ROTATE_TIPS:"\u65cb\u8f6c",RELOAD_TIPS:"\u91cd\u65b0\u8f7d\u5165",FULLSCREEN_TIPS:"\u8fdb\u5165\u5168\u5c4f",EXITFULLSCREEN_TIPS:"\u9000\u51fa\u5168\u5c4f",CSSFULLSCREEN_TIPS:"\u8fdb\u5165\u6837\u5f0f\u5168\u5c4f",EXITCSSFULLSCREEN_TIPS:"\u9000\u51fa\u6837\u5f0f\u5168\u5c4f",TEXTTRACK:"\u5b57\u5e55",PIP:"\u753b\u4e2d\u753b",SCREENSHOT:"\u622a\u56fe",LIVE:"\u6b63\u5728\u76f4\u64ad",OFF:"\u5173\u95ed",OPEN:"\u5f00\u542f",MINI_DRAG:"\u70b9\u51fb\u6309\u4f4f\u53ef\u62d6\u52a8\u89c6\u9891",MINISCREEN:"\u5c0f\u5c4f\u5e55",REFRESH_TIPS:"\u8bf7\u8bd5\u8bd5",REFRESH:"\u5237\u65b0",FORWARD:"\u5feb\u8fdb\u4e2d",LIVE_TIP:"\u76f4\u64ad"}},Rw="info",gQ=Gj,yEe=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"_recordUserActions",function(d){var m=i._getTime(),I=Object.assign({},d,{msg:d.msg||d.action});i._stats[Rw].push(xc(xc({type:"userAction"},m),{},{payload:I}))}),Gn(vn(i),"_onReset",function(){i.reset()}),Gn(vn(i),"_recordInfo",function(d){i.info(d)}),Gn(vn(i),"_downloadStats",function(){var d=i.getStats(),m=new Blob([JSON.stringify(d)],{type:"application/json"}),I=window.URL.createObjectURL(m),J=document.createElement("a");J.style.display="none",J.href=I,J.download="player.txt",J.disabled=!1,J.click()}),i}return uo(t,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:(new Date).toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(BD,this._recordUserActions),this.on(gQ.STATS_INFO,this._recordInfo),this.on(gQ.STATS_DOWNLOAD,this._downloadStats),this.on(gQ.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(n){n.profile?this._infoProfile(n):this._info(n)}},{key:"_info",value:function(n){var a=this._getTime();this._stats[Rw].push(xc(xc({},a),{},{payload:n}))}},{key:"_infoProfile",value:function(n){if(n&&n.startMs){var d=xc({cat:"function",dur:Date.now()-n.startMs,name:n.name||n.msg,ph:"X",pid:0,tid:0,ts:n.startMs,profile:!0},n);this._info(d)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var n;this._stats=(Gn(n={},Rw,[]),Gn(n,"media",{}),n)}},{key:"getStats",value:function(){for(var a=this.player.media,s=[],d=0;d<a.buffered.length;d++)s.push({start:a.buffered.start(d),end:a.buffered.end(d)});return this._stats.media={currentTime:a.currentTime,readyState:a.readyState,buffered:s,paused:a.paused,ended:a.ended},{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){return this._stats[Rw].map(function(s){var d=s.payload.data,m="";try{d instanceof Error?m=d.msg:void 0!==d&&(m=JSON.stringify(d))}catch(I){console.log("err",I)}return"[".concat(s.timeFormat,"] : ").concat(s.payload.msg," ").concat(m," ")})}},{key:"_getProfile",value:function(){var n={traceEvents:[]};return this._stats[Rw].forEach(function(s){s.payload.profile&&n.traceEvents.push(s.payload)}),n}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),t}(Vh),S5=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onGapJump",function(){var d=vn(i),m=d.player,I=d.config;if(m.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(m.media.seeking){if(!i.seekingEventReceived)return}else i.seekingEventReceived=!1;if(!m.media.paused||0===m.media.currentTime||!i.hasPlayed){var J=m.media.buffered,oe=I.smallGapLimit||.5,$e=m.media.currentTime,nt=i._getIndex(J,$e,I.gapDetectionThreshold||.3);if(null!==nt&&0!==nt){console.log("GapJump  bufferRange ",J.start(nt),J.end(nt));var Tt=J.start(nt)+.1;if(!(Tt>m.media.duration)){var ci=Tt-$e,xi=ci<=oe;ci<t.BROWSER_GAP_TOLERANCE||xi&&(!1!==I.useGapJump&&(m.media.currentTime=i.isSafari?Tt+.1:Tt),i.player&&i.player.emit("detectGap"),console.log("gapJump gapIndex",nt," isGapSamll:",xi," currentTime:",m.media.currentTime," jumpSize:",$e-m.media.currentTime),.08!==Tt&&m&&m.emit("log",{type:"oneevent",end_type:"gap",vid:m.config.vid,ext:{video_postion:Math.floor(1e3*Tt)}}))}}}}}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this;!1!==this.config.useGapJump&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(kw,this.onGapJump),this.on(Bu,function(){n.hasPlayed=!0}),this.on(_D,function(){n.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(n,a,s){if(!n||!n.length||1===n.length&&n.end(0)-n.start(0)<1e-6)return null;for(var d=this._getBuffered(n),m=null,I=0;I<d.length;I++)if(d[I].start>a&&(0===I||d[I-1].end-a<=s)){m=I;break}return m}},{key:"_getBuffered",value:function(n){if(!n)return[];for(var a=[],s=0;s<n.length;s++)a.push({start:n.start(s),end:n.end(s)});return a}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),t}(Qs);S5.BROWSER_GAP_TOLERANCE=.001;var bEe=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"onWaiting",function(){var m=vn(i).config;i.jumpCnt>m.jumpCntMax||i.timer||!1===m.useWaitingTimeoutJump||(i.timer=setTimeout(i.onJump,1e3*m.waitingTime))}),Gn(vn(i),"onJump",function(){var d=vn(i),m=d.player,I=d.config;if(clearTimeout(i.timer),i.timer=null,!(i.jumpCnt>I.jumpCntMax||!1===I.useWaitingTimeoutJump||m.media.paused&&0!==m.media.currentTime&&i.hasPlayed)){i.jumpSize=I.jumpSize*(i.jumpCnt+1),i.jumpCnt===I.jumpSize&&i.jumpSize<6&&(i.jumpSize=6);var J=m.currentTime+i.jumpSize;J>m.media.duration||(console.log("waitintTimeout, currentTime:",m.currentTime,", jumpTo:",J),i.jumpCnt++,m.currentTime=J)}}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this,a=this.config,d=a.jumpSize;!1!==a.useWaitingTimeoutJump&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=d,this.on(kw,this.onWaiting),this.on([V4,Uf],function(){clearTimeout(n.timer),n.timer=null,n.jumpSize=n.config.jumpSize}),this.on(Bu,function(){n.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),t}(Qs),q_="cdn",OD=["cdn"],wEe=function(r){Vo(t,r);var o=Jo(t);function t(){var i;Ao(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Gn(vn(i=o.call.apply(o,[this].concat(a))),"getSpeed",function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q_;if(!i.speedListCache||!i.speedListCache[d]||i.speedListCache[d].length<=0)return 0;var m=0;return i.speedListCache[d].map(function(I){m+=I}),Math.floor(m/i.speedListCache[d].length)}),Gn(vn(i),"startTimer",function(){Xt.isMSE(i.player.video)||(i.initSpeedList(),i.cnt=0,i.timer=setTimeout(i.testSpeed,i.config.testTimeStep))}),Gn(vn(i),"initSpeedList",function(){i.speedListCache={},OD.forEach(function(d){i.speedListCache[d]=[]})}),Gn(vn(i),"_onRealSpeedChange",function(d){d.speed&&i.appendList(d.speed,d.type||q_)}),Gn(vn(i),"testSpeed",function(){if(clearTimeout(i.timer),i.timer=null,i.player&&i.config.openSpeed){var d=i.config,m=d.url,I=d.loadSize,J=d.testCnt,oe=d.testTimeStep,Ce=m+(m.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(i.cnt>=J)){i.cnt++;try{var $e=(new Date).getTime(),nt=null,Tt=new XMLHttpRequest;i.xhr=Tt,Tt.open("GET",Ce);var Zt={},ci=Math.floor(10*Math.random());Zt.Range="bytes="+ci+"-"+(I+ci),Zt&&Object.keys(Zt).forEach(function(xi){Tt.setRequestHeader(xi,Zt[xi])}),Tt.onreadystatechange=function(){if(4===Tt.readyState){i.xhr=null,nt=(new Date).getTime();var xi=Tt.getResponseHeader("Content-Length")/1024*8,Oi=Math.round(1e3*xi/(nt-$e));i.appendList(Oi),i.timer=setTimeout(i.testSpeed,oe)}},Tt.send()}catch(xi){console.error(xi)}}}}),Gn(vn(i),"appendList",function(d){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q_;if(i.speedListCache&&i.speedListCache[m]){i.speedListCache[m].length>=i.config.saveSpeedMax&&i.speedListCache[m].shift(),i.speedListCache[m].push(d);var oe=vn(i).player;oe&&(m===q_?oe.realTimeSpeed=d:oe[i.getSpeedName("realTime",m)]=d),i.updateSpeed(m)}}),Gn(vn(i),"updateSpeed",function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q_,m=i.getSpeed(d),J=vn(i).player;if(J)if(d===q_)(!J.avgSpeed||m!==J.avgSpeed)&&(J.avgSpeed=m,J.emit($4,{speed:m,realTimeSpeed:J.realTimeSpeed}));else{var oe=i.getSpeedName("avg",d);(!J[oe]||m!==J[oe])&&(J[oe]=m,J.emit($4,{speed:m,realTimeSpeed:J.realTimeSpeed}))}}),i}return uo(t,[{key:"afterCreate",value:function(){var n=this.config,a=n.openSpeed,s=n.addSpeedTypeList;s?.length>0&&OD.push.apply(OD,Hh(s)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,a&&this.on([Op,bD],this.startTimer)}},{key:"getSpeedName",value:function(n,a){return n+"Speed"+a.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(n){if(this.config.openSpeed=n,!n&&this.timer)return clearTimeout(this.timer),void(this.timer=null);if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var n=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([Op,bD],this.startTimer),OD.forEach(function(a){n.speedListCache&&n.speedListCache[a]&&(n.speedListCache[a]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&4!==this.xhr.readyState&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:204800,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),t}(Qs),CEe=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t,[{key:"afterCreate",value:function(){var n=this,a=this.player,s=this.config;this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],s.disabled||a.media.getVideoPlaybackQuality&&(this.on(Bu,function(){n._startTick()}),this.on(H_,function(){n._stopTick()}),this.on(U0,function(){n._stopTick()}),this.on(V_,function(){n._stopTick()}))}},{key:"_startTick",value:function(){var n=this;this._stopTick(),this._timer=setTimeout(function(){n._checkDecodeFPS(),n._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkStuck",value:function(n,a,s,d){var m=this.player.media,I=document.hidden;if("boolean"==typeof I&&!I&&!m.paused){for(var oe=m.currentTime,Ce=m.buffered,$e=!1,nt=[],Tt=0;Tt<Ce.length;Tt++){var Zt=Ce.start(Tt),ci=Ce.end(Tt);if(nt.push({start:Zt,end:ci}),Zt<=oe&&oe<=ci-1){$e=!0;break}}4===m.readyState&&$e&&(this._currentStuckCount>this.config.stuckCount?(this.emit(Uj,this._payload),this._reset()):n<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({bufs:nt,currentTime:m.currentTime,curDecodedFrames:n,totalVideoFrames:a,droppedVideoFrames:s,checkInterval:d})):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){if(this.player.media){var n=this.player.media.getVideoPlaybackQuality(),a=n.totalVideoFrames,s=n.droppedVideoFrames,d=performance.now();a&&this._lastCheckPoint&&this._checkStuck(a-this._lastDecodedFrames,a,s,d-this._lastCheckPoint),this._lastDecodedFrames=a,this._lastCheckPoint=d}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),t}(Qs);J_.use(F5);var EEe=uo(function r(o,t){var i,n,a;Ao(this,r);var s=t&&"mobile"===t.isMobileSimulateMode,I=[].concat(t.isLive?[]:[WCe,UCe,gEe,pEe,w5],[y5,b5,E5,iEe,M5,x5,aEe,sEe,C5,B5]),J=[DCe,a5,l5,v5,c5,D5,uEe,fEe,SCe];this.plugins=[yEe,MCe].concat(Hh(I),J,[S5,bEe]);var oe=s?"mobile":xa.device;switch(oe){case"pc":(i=this.plugins).push.apply(i,[SD,Qw,pQ,wEe,CEe]);break;case"mobile":(n=this.plugins).push.apply(n,[g5]);break;default:(a=this.plugins).push.apply(a,[SD,Qw,pQ])}(xa.os.isIpad||"pc"===oe)&&this.plugins.push(_Ee),xa.os.isIpad&&this.plugins.push(Qw),this.ignores=[],this.i18n=[]}),Jh=function(r){Vo(t,r);var o=Jo(t);function t(){return Ao(this,t),o.apply(this,arguments)}return uo(t)}(TD);Gn(Jh,"defaultPreset",EEe),Gn(Jh,"Util",Xt),Gn(Jh,"Sniffer",xa),Gn(Jh,"Errors",Dw),Gn(Jh,"Events",K),Gn(Jh,"Plugin",Qs),Gn(Jh,"BasePlugin",Vh),Gn(Jh,"I18N",J_),Gn(Jh,"STATE_CLASS",cr),Gn(Jh,"InstManager",n5);var BEe=uo(function r(){var o,t;switch(Ao(this,r),this.plugins=[a5,l5,v5,c5,D5].concat([y5,b5,w5,C5,E5,M5,x5,pQ,B5]),xa.device){case"pc":(o=this.plugins).push.apply(o,[SD,Qw]);break;case"mobile":this.plugins.push(g5);break;default:(t=this.plugins).push.apply(t,[SD,Qw])}this.ignores=[],this.i18n=[F5]});function Q5(r,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,QEe(i.key),i)}}function LD(r){return(LD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(r)}function mQ(r,o){return(mQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i})(r,o)}function FEe(r){var o=function IEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=LD(r);if(o){var a=LD(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function TEe(r,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function kEe(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}(this,n)}}function QEe(r){var o=function SEe(r,o){if("object"!=typeof r||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var i=t.call(r,o||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(r)}(r,"string");return"symbol"==typeof o?o:String(o)}var REe=ie(8954),ey=ie.n(REe),PEe=function(r){!function DEe(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&mQ(r,o)}(t,r);var o=FEe(t);function t(){return function MEe(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),o.apply(this,arguments)}return function xEe(r,o,t){o&&Q5(r.prototype,o),t&&Q5(r,t),Object.defineProperty(r,"prototype",{writable:!1})}(t,[{key:"beforePlayerInit",value:function(){this.playerConfig.url&&this.flvLoad(this.playerConfig.url)}},{key:"afterCreate",value:function(){var n=this,a=this.player;this.flv=null,a.video.addEventListener("contextmenu",function(s){s.preventDefault()}),this.on(Tw,function(s){/^blob/.test(s)||(a.once(Op,function(){a.play()}),n.playerConfig.url=s,n.flvLoad(s))});try{Vh.defineGetterOrSetter(a,{url:{get:function(){try{return n.player.video.src}catch{return null}},configurable:!0}})}catch{}}},{key:"destroy",value:function(){var n=this.player;this.destroyInstance(),Vh.defineGetterOrSetter(n,{url:{get:function(){try{return n.__url}catch{return null}},configurable:!0}})}},{key:"destroyInstance",value:function(){if(this.flv){var n=this.player;this.flv.unload(),this.flv.detachMediaElement(n.video),this.flv.destroy(),n.__flv__=null,this.flv=null}}},{key:"createInstance",value:function(n){var a=this.player;n&&(console.log("createInstance",n),n.attachMediaElement(a.video),n.load(),n.play(),n.on(ey().Events.ERROR,function(s){a.emit("error",new Dw("other",a.config.url))}),n.on(ey().Events.LOADED_SEI,function(s,d){console.log("Flv.Events.LOADED_SEI"),a.emit("loaded_sei",s,d)}),n.on(ey().Events.STATISTICS_INFO,function(s){console.log("Flv.Events.STATISTICS_INFO"),a.emit("statistics_info",s)}),n.on(ey().Events.MEDIA_INFO,function(s){a.mediainfo=s,a.emit("MEDIA_INFO",s)}))}},{key:"flvLoad",value:function(n){console.log("flvLoad",n);var a=this.config.mediaDataSource;a.segments=[{cors:!0,duration:void 0,filesize:void 0,timestampBase:0,url:n,withCredentials:!1}],a.url=n,a.isLive=this.playerConfig.isLive,this.flvLoadMds(a)}},{key:"flvLoadMds",value:function(n){var a=this.player;typeof this.flv<"u"&&this.destroyInstance(),this.flv=a.__flv__=ey().createPlayer(n,this.flvConfig),this.createInstance(this.flv),this.flv.attachMediaElement(a.video),this.flv.load()}},{key:"switchURL",value:function(n){var a=this.player,s=this.playerConfig,d=0;s.isLive||(d=a.currentTime),a.flvLoad(n),a.video.muted=!0,this.once("playing",function(){a.video.muted=!1}),this.once("canplay",function(){s.isLive||(a.currentTime=d),a.play()})}}],[{key:"isSupported",get:function(){return ey().isSupported}},{key:"pluginName",get:function(){return"FlvJsPlugin"}},{key:"defaultConfig",get:function(){return{mediaDataSource:{type:"flv"},flvConfig:{}}}}]),t}(Vh);const OEe=["xgplayer"];let LEe=(()=>{class r{hmiService;xgplayerRef;data;onclose=new e.bkB;player;constructor(t){this.hmiService=t}ngOnInit(){let t=this.data.ga.property.variableValue;if(this.data.ga.property.variableId){let n=this.hmiService.getMappedVariable(this.data.ga.property.variableId,!1);ii.Aq.isNullOrUndefined(n?.value)||(t=""+n.value)}let i=[];new URL(t).pathname.endsWith("flv")&&i.push(PEe),this.player=new Jh({el:this.xgplayerRef.nativeElement,url:t,autoplay:!0,presets:[BEe],plugins:i})}onClose(t){this.onclose&&this.onclose.emit(t)}static \u0275fac=function(i){return new(i||r)(e.rXU(BA.Ih))};static \u0275cmp=e.VBU({type:r,selectors:[["app-webcam-player"]],viewQuery:function(i,n){if(1&i&&e.GBs(OEe,7),2&i){let a;e.mGM(a=e.lsd())&&(n.xgplayerRef=a.first)}},inputs:{data:"data"},outputs:{onclose:"onclose"},decls:5,vars:0,consts:[["rel","stylesheet","href","//unpkg.byted-static.com/xgplayer/3.0.13/dist/index.min.css"],[1,"webcam-player-container"],["xgplayer",""]],template:function(i,n){1&i&&(e.j41(0,"div"),e.nrm(1,"link",0),e.j41(2,"div",1),e.nrm(3,"div",null,2),e.k0s()())},styles:[".webcam-player-container[_ngcontent-%COMP%]{min-width:600px}"]})}return r})();function YEe(r,o){if(1&r&&(e.j41(0,"div",2)(1,"div",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"span"),e.EFF(4," - "),e.k0s(),e.j41(5,"div",5),e.nrm(6,"flex-variable",6),e.k0s()()),2&r){const t=o.$implicit,i=e.XpG();e.R7$(2),e.Y8G("value",t.originalName)("readonly",!0),e.R7$(4),e.Y8G("data",i.dataDevices)("value",t)("withStaticValue",!0)("withStaticType",t.type)("withBitmask",!1)}}let NEe=(()=>{class r{projectService;property;dataDevices={devices:[]};constructor(t){this.projectService=t,this.dataDevices={devices:Object.values(this.projectService.getDevices())}}static \u0275fac=function(i){return new(i||r)(e.rXU(kr.TR))};static \u0275cmp=e.VBU({type:r,selectors:[["flex-widget-property"]],inputs:{property:"property"},decls:2,vars:1,consts:[[1,"container"],["class","var-ref",4,"ngFor","ngForOf"],[1,"var-ref"],[1,"my-form-field"],["type","text",3,"value","readonly"],[1,"inbk"],[3,"data","value","withStaticValue","withStaticType","withBitmask"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,YEe,7,7,"div",1),e.k0s()),2&i&&(e.R7$(1),e.Y8G("ngForOf",n.property.varsToBind))},dependencies:[l.Sq,Cp],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   .var-ref[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .var-ref[_ngcontent-%COMP%]   flex-variable[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .var-ref[_ngcontent-%COMP%]   flex-variable[_ngcontent-%COMP%]     .value{margin-right:10px}[_nghost-%COMP%]   .var-ref[_ngcontent-%COMP%]   flex-variable[_ngcontent-%COMP%]     .variable-input{min-width:400px}[_nghost-%COMP%]   .var-ref[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;display:inline-block}"]})}return r})(),jEe=(()=>{class r{constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var GEe=ie(751);function UEe(r){return new qU(r,"./assets/i18n/",".json")}const zEe={showDelay:2e3,hideDelay:500,touchendHideDelay:500};let HEe=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r,bootstrap:[o$]});static \u0275inj=e.G2t({providers:[PF.F,OF.K,LF.t,BA.Ih,p_,Bf.d,kr.TR,Zg,hS,D4,fO,ZN,k_.f,x_,px,yp.h,Y4,Swe,zg.u,oo,I4,ii.Aq,um,G1,ru,Xa,lh,Rp,xwe,Dwe,Tf,ZA,gD.L,O4,B4,Aj,jEe,D_,GEe.V,{provide:$v,useValue:zEe}],imports:[D.Bb,Vs,IA,ka.q1,Mwe,g6,uU,$U,iz,Iwe,Gg._B.forRoot({timeOut:3e3,positionClass:"toast-bottom-right",preventDuplicates:!1}),Vi.h.forRoot({loader:{provide:Vi.Wr,useFactory:UEe,deps:[ka.Qq]}}),G0.Vk,Ile,rz,oz.forRoot(),Qwe]})}return r})();e.wjB(mO,function(){return[l.YU,l.Sq,l.bT,l.ux,l.e1,k,qe,tn,Ur,zn,Sm,By,xh,Or,Rr,Kn,Id,yo,eu,Td,Cp,Wr]},function(){return[l.lG,Vi.D9,ii.yN]}),e.wjB(ij,function(){return[l.bT,hm]},[]),e.wjB(uS,function(){return[l.bT,k,qe,tn,zn,nA,Or,eo,Rr,Kn,wc,eu,Td,Is,j1,AS,BO,NEe,Wr]},function(){return[Vi.D9]}),e.wjB(nj,function(){return[Wr,LEe]},[]),ie(1471),ie(1167),ie(1320),_p.c.production&&(0,e.SmG)(),D.sG().bootstrapModule(HEe).catch(r=>console.log(r))},6062:Rt=>{function ie(){}Rt.exports=function Be(N,K,D){var e=!1;return D=D||ie,l.count=N,0===N?K():l;function l(_,p){if(l.count<=0)throw new Error("after called too many times");--l.count,_?(e=!0,K(_),K=D):0===l.count&&!e&&K(null,p)}}},5210:(Rt,Be,ie)=>{var N=ie(2314),K={ease:N(.25,.1,.25,1),easeIn:N(.42,0,1,1),easeOut:N(0,0,.58,1),easeInOut:N(.42,0,.58,1),linear:N(0,0,1,1)};function e(){}function h(){var g=new Set,w=new Set,y=0;return{next:M,cancel:M,clearAll:function b(){g.clear(),w.clear(),cancelAnimationFrame(y),y=0}};function M(k){w.add(k),function E(){y||(y=requestAnimationFrame(T))}()}function T(){y=0;var k=w;w=g,(g=k).forEach(function(A){A()}),g.clear()}}Rt.exports=function D(g,w,y){var b=Object.create(null),M=Object.create(null),E="function"==typeof(y=y||{}).easing?y.easing:K[y.easing];E||(y.easing&&console.warn("Unknown easing function in amator: "+y.easing),E=K.ease);var T="function"==typeof y.step?y.step:e,F="function"==typeof y.done?y.done:e,k=function l(g){if(!g)return typeof window<"u"&&window.requestAnimationFrame?function _(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}():function p(){return{next:function(g){return setTimeout(g,1e3/60)},cancel:function(g){return clearTimeout(g)}}}();if("function"!=typeof g.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!=typeof g.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return g}(y.scheduler),A=Object.keys(w);A.forEach(function(X){b[X]=g[X],M[X]=w[X]-g[X]});var O,Q=Math.max(1,.06*("number"==typeof y.duration?y.duration:400)),W=0;return O=k.next(function Y(){var X=E(W/Q);W+=1,function U(X){A.forEach(function(z){g[z]=M[z]*X+b[z]})}(X),W<=Q?(O=k.next(Y),T(g)):(O=0,setTimeout(function(){F(g)},0))}),{cancel:function j(){k.cancel(O),O=0}}},Rt.exports.makeAggregateRaf=h,Rt.exports.sharedScheduler=h()},6131:Rt=>{Rt.exports=function(Be,ie,N){var K=Be.byteLength;if(ie=ie||0,N=N||K,Be.slice)return Be.slice(ie,N);if(ie<0&&(ie+=K),N<0&&(N+=K),N>K&&(N=K),ie>=K||ie>=N||0===K)return new ArrayBuffer(0);for(var D=new Uint8Array(Be),e=new Uint8Array(N-ie),l=ie,_=0;l<N;l++,_++)e[_]=D[l];return e.buffer}},4678:Rt=>{function Be(ie){this.ms=(ie=ie||{}).min||100,this.max=ie.max||1e4,this.factor=ie.factor||2,this.jitter=ie.jitter>0&&ie.jitter<=1?ie.jitter:0,this.attempts=0}Rt.exports=Be,Be.prototype.duration=function(){var ie=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var N=Math.random(),K=Math.floor(N*this.jitter*ie);ie=1&Math.floor(10*N)?ie+K:ie-K}return 0|Math.min(ie,this.max)},Be.prototype.reset=function(){this.attempts=0},Be.prototype.setMin=function(ie){this.ms=ie},Be.prototype.setMax=function(ie){this.max=ie},Be.prototype.setJitter=function(ie){this.jitter=ie}},5188:(Rt,Be)=>{!function(ie){"use strict";Be.encode=function(N){var D,K=new Uint8Array(N),e=K.length,l="";for(D=0;D<e;D+=3)l+=ie[K[D]>>2],l+=ie[(3&K[D])<<4|K[D+1]>>4],l+=ie[(15&K[D+1])<<2|K[D+2]>>6],l+=ie[63&K[D+2]];return e%3==2?l=l.substring(0,l.length-1)+"=":e%3==1&&(l=l.substring(0,l.length-2)+"=="),l},Be.decode=function(N){var e,_,p,h,g,K=.75*N.length,D=N.length,l=0;"="===N[N.length-1]&&(K--,"="===N[N.length-2]&&K--);var w=new ArrayBuffer(K),y=new Uint8Array(w);for(e=0;e<D;e+=4)_=ie.indexOf(N[e]),p=ie.indexOf(N[e+1]),h=ie.indexOf(N[e+2]),g=ie.indexOf(N[e+3]),y[l++]=_<<2|p>>4,y[l++]=(15&p)<<4|h>>2,y[l++]=(3&h)<<6|63&g;return w}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},2314:Rt=>{var e=.1,l="function"==typeof Float32Array;function _(E,T){return 1-3*T+3*E}function p(E,T){return 3*T-6*E}function h(E){return 3*E}function g(E,T,F){return((_(T,F)*E+p(T,F))*E+h(T))*E}function w(E,T,F){return 3*_(T,F)*E*E+2*p(T,F)*E+h(T)}function M(E){return E}Rt.exports=function(T,F,k,A){if(!(0<=T&&T<=1&&0<=k&&k<=1))throw new Error("bezier x values must be in [0, 1] range");if(T===F&&k===A)return M;for(var S=l?new Float32Array(11):new Array(11),Q=0;Q<11;++Q)S[Q]=g(Q*e,T,k);return function(j){return 0===j?0:1===j?1:g(function O(W){for(var j=0,Y=1;10!==Y&&S[Y]<=W;++Y)j+=e;--Y;var z=j+(W-S[Y])/(S[Y+1]-S[Y])*e,R=w(z,T,k);return R>=.001?function b(E,T,F,k){for(var A=0;A<4;++A){var S=w(T,F,k);if(0===S)return T;T-=(g(T,F,k)-E)/S}return T}(W,z,T,k):0===R?z:function y(E,T,F,k,A){var S,Q,O=0;do{(S=g(Q=T+(F-T)/2,k,A)-E)>0?F=Q:T=Q}while(Math.abs(S)>1e-7&&++O<10);return Q}(W,j,j+e,T,k)}(j),F,A)}}},6103:Rt=>{var Be=typeof Be<"u"?Be:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"&&MozBlobBuilder,ie=function(){try{return 2===new Blob(["hi"]).size}catch{return!1}}(),N=ie&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch{return!1}}(),K=Be&&Be.prototype.append&&Be.prototype.getBlob;function D(_){return _.map(function(p){if(p.buffer instanceof ArrayBuffer){var h=p.buffer;if(p.byteLength!==h.byteLength){var g=new Uint8Array(p.byteLength);g.set(new Uint8Array(h,p.byteOffset,p.byteLength)),h=g.buffer}return h}return p})}function e(_,p){p=p||{};var h=new Be;return D(_).forEach(function(g){h.append(g)}),p.type?h.getBlob(p.type):h.getBlob()}function l(_,p){return new Blob(D(_),p||{})}typeof Blob<"u"&&(e.prototype=Blob.prototype,l.prototype=Blob.prototype),Rt.exports=ie?N?Blob:l:K?e:void 0},1320:(Rt,Be,ie)=>{!function(N){"use strict";var K="CodeMirror-lint-markers",D="CodeMirror-lint-line-";function l(W){W.parentNode&&W.parentNode.removeChild(W)}function p(W,j,Y,U){var X=function e(W,j,Y){var U=document.createElement("div");function X(z){if(!U.parentNode)return N.off(document,"mousemove",X);var R=Math.max(0,z.clientY-U.offsetHeight-5),Z=Math.max(0,Math.min(z.clientX+5,U.ownerDocument.defaultView.innerWidth-U.offsetWidth));U.style.top=R+"px",U.style.left=Z+"px"}return U.className="CodeMirror-lint-tooltip cm-s-"+W.options.theme,U.appendChild(Y.cloneNode(!0)),W.state.lint.options.selfContain?W.getWrapperElement().appendChild(U):document.body.appendChild(U),N.on(document,"mousemove",X),X(j),null!=U.style.opacity&&(U.style.opacity=1),U}(W,j,Y);function z(){N.off(U,"mouseout",z),X&&(function _(W){W.parentNode&&(null==W.style.opacity&&l(W),W.style.opacity=0,setTimeout(function(){l(W)},600))}(X),X=null)}var R=setInterval(function(){if(X)for(var Z=U;;Z=Z.parentNode){if(Z&&11==Z.nodeType&&(Z=Z.host),Z==document.body)return;if(!Z){z();break}}if(!X)return clearInterval(R)},400);N.on(U,"mouseout",z)}function h(W,j,Y){for(var U in this.marked=[],j instanceof Function&&(j={getAnnotations:j}),(!j||!0===j)&&(j={}),this.options={},this.linterOptions=j.options||{},g)this.options[U]=g[U];for(var U in j)g.hasOwnProperty(U)?null!=j[U]&&(this.options[U]=j[U]):j.options||(this.linterOptions[U]=j[U]);this.timeout=null,this.hasGutter=Y,this.onMouseOver=function(X){!function O(W,j){var Y=j.target||j.srcElement;if(/\bCodeMirror-lint-mark-/.test(Y.className)){for(var U=Y.getBoundingClientRect(),R=W.findMarksAt(W.coordsChar({left:(U.left+U.right)/2,top:(U.top+U.bottom)/2},"client")),Z=[],q=0;q<R.length;++q){var ae=R[q].__annotation;ae&&Z.push(ae)}Z.length&&function Q(W,j,Y){for(var U=Y.target||Y.srcElement,X=document.createDocumentFragment(),z=0;z<j.length;z++)X.appendChild(T(j[z]));p(W,Y,X,U)}(W,Z,j)}}(W,X)},this.waitingFor=0}var g={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function w(W){var j=W.state.lint;j.hasGutter&&W.clearGutter(K),j.options.highlightLines&&function y(W){W.eachLine(function(j){var Y=j.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(j.wrapClass);Y&&W.removeLineClass(j,"wrap",Y[0])})}(W);for(var Y=0;Y<j.marked.length;++Y)j.marked[Y].clear();j.marked.length=0}function b(W,j,Y,U,X){var z=document.createElement("div"),R=z;return z.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+Y,U&&((R=z.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),0!=X&&N.on(R,"mouseover",function(Z){p(W,Z,j,R)}),z}function M(W,j){return"error"==W?W:j}function T(W){var j=W.severity;j||(j="error");var Y=document.createElement("div");return Y.className="CodeMirror-lint-message CodeMirror-lint-message-"+j,typeof W.messageHTML<"u"?Y.innerHTML=W.messageHTML:Y.appendChild(document.createTextNode(W.message)),Y}function k(W){var j=W.state.lint;if(j){var Y=j.options,U=Y.getAnnotations||W.getHelper(N.Pos(0,0),"lint");if(U)if(Y.async||U.async)!function F(W,j){var Y=W.state.lint,U=++Y.waitingFor;function X(){U=-1,W.off("change",X)}W.on("change",X),j(W.getValue(),function(z,R){W.off("change",X),Y.waitingFor==U&&(R&&z instanceof N&&(z=R),W.operation(function(){A(W,z)}))},Y.linterOptions,W)}(W,U);else{var X=U(W.getValue(),j.linterOptions,W);if(!X)return;X.then?X.then(function(z){W.operation(function(){A(W,z)})}):W.operation(function(){A(W,X)})}}}function A(W,j){var Y=W.state.lint;if(Y){var U=Y.options;w(W);for(var X=function E(W){for(var j=[],Y=0;Y<W.length;++Y){var U=W[Y],X=U.from.line;(j[X]||(j[X]=[])).push(U)}return j}(j),z=0;z<X.length;++z){var R=X[z];if(R){for(var Z=null,q=Y.hasGutter&&document.createDocumentFragment(),ae=0;ae<R.length;++ae){var re=R[ae],Se=re.severity;Se||(Se="error"),Z=M(Z,Se),U.formatAnnotation&&(re=U.formatAnnotation(re)),Y.hasGutter&&q.appendChild(T(re)),re.to&&Y.marked.push(W.markText(re.from,re.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+Se,__annotation:re}))}Y.hasGutter&&W.setGutterMarker(z,K,b(W,q,Z,R.length>1,U.tooltips)),U.highlightLines&&W.addLineClass(z,"wrap",D+Z)}}U.onUpdateLinting&&U.onUpdateLinting(j,X,W)}}function S(W){var j=W.state.lint;j&&(clearTimeout(j.timeout),j.timeout=setTimeout(function(){k(W)},j.options.delay))}N.defineOption("lint",!1,function(W,j,Y){if(Y&&Y!=N.Init&&(w(W),!1!==W.state.lint.options.lintOnChange&&W.off("change",S),N.off(W.getWrapperElement(),"mouseover",W.state.lint.onMouseOver),clearTimeout(W.state.lint.timeout),delete W.state.lint),j){for(var U=W.getOption("gutters"),X=!1,z=0;z<U.length;++z)U[z]==K&&(X=!0);var R=W.state.lint=new h(W,j,X);R.options.lintOnChange&&W.on("change",S),0!=R.options.tooltips&&"gutter"!=R.options.tooltips&&N.on(W.getWrapperElement(),"mouseover",R.onMouseOver),k(W)}}),N.defineExtension("performLint",function(){k(this)})}(ie(1382))},1382:function(Rt){Rt.exports=function(){"use strict";var Be=navigator.userAgent,ie=navigator.platform,N=/gecko\/\d/i.test(Be),K=/MSIE \d/.test(Be),D=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Be),e=/Edge\/(\d+)/.exec(Be),l=K||D||e,_=l&&(K?document.documentMode||6:+(e||D)[1]),p=!e&&/WebKit\//.test(Be),h=p&&/Qt\/\d+\.\d+/.test(Be),g=!e&&/Chrome\/(\d+)/.exec(Be),w=g&&+g[1],y=/Opera\//.test(Be),b=/Apple Computer/.test(navigator.vendor),M=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Be),E=/PhantomJS/.test(Be),T=b&&(/Mobile\/\w+/.test(Be)||navigator.maxTouchPoints>2),F=/Android/.test(Be),k=T||F||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Be),A=T||/Mac/.test(ie),S=/\bCrOS\b/.test(Be),Q=/win/i.test(ie),O=y&&Be.match(/Version\/(\d*\.\d*)/);O&&(O=Number(O[1])),O&&O>=15&&(y=!1,p=!0);var W=A&&(h||y&&(null==O||O<12.11)),j=N||l&&_>=9;function Y(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}var q,U=function(f,B){var H=f.className,G=Y(B).exec(H);if(G){var ee=H.slice(G.index+G[0].length);f.className=H.slice(0,G.index)+(ee?G[1]+ee:"")}};function X(f){for(var B=f.childNodes.length;B>0;--B)f.removeChild(f.firstChild);return f}function z(f,B){return X(f).appendChild(B)}function R(f,B,H,G){var ee=document.createElement(f);if(H&&(ee.className=H),G&&(ee.style.cssText=G),"string"==typeof B)ee.appendChild(document.createTextNode(B));else if(B)for(var me=0;me<B.length;++me)ee.appendChild(B[me]);return ee}function Z(f,B,H,G){var ee=R(f,B,H,G);return ee.setAttribute("role","presentation"),ee}function ae(f,B){if(3==B.nodeType&&(B=B.parentNode),f.contains)return f.contains(B);do{if(11==B.nodeType&&(B=B.host),B==f)return!0}while(B=B.parentNode)}function re(f){var H,B=f.ownerDocument||f;try{H=f.activeElement}catch{H=B.body||null}for(;H&&H.shadowRoot&&H.shadowRoot.activeElement;)H=H.shadowRoot.activeElement;return H}function Se(f,B){var H=f.className;Y(B).test(H)||(f.className+=(H?" ":"")+B)}function be(f,B){for(var H=f.split(" "),G=0;G<H.length;G++)H[G]&&!Y(H[G]).test(B)&&(B+=" "+H[G]);return B}q=document.createRange?function(f,B,H,G){var ee=document.createRange();return ee.setEnd(G||f,H),ee.setStart(f,B),ee}:function(f,B,H){var G=document.body.createTextRange();try{G.moveToElementText(f.parentNode)}catch{return G}return G.collapse(!0),G.moveEnd("character",H),G.moveStart("character",B),G};var Re=function(f){f.select()};function He(f){return f.display.wrapper.ownerDocument}function ue(f){return le(f.display.wrapper)}function le(f){return f.getRootNode?f.getRootNode():f.ownerDocument}function fe(f){return He(f).defaultView}function ge(f){var B=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,B)}}function Te(f,B,H){for(var G in B||(B={}),f)f.hasOwnProperty(G)&&(!1!==H||!B.hasOwnProperty(G))&&(B[G]=f[G]);return B}function se(f,B,H,G,ee){null==B&&-1==(B=f.search(/[^\s\u00a0]/))&&(B=f.length);for(var me=G||0,Ve=ee||0;;){var st=f.indexOf("\t",me);if(st<0||st>=B)return Ve+(B-me);Ve+=st-me,Ve+=H-Ve%H,me=st+1}}T?Re=function(f){f.selectionStart=0,f.selectionEnd=f.value.length}:l&&(Re=function(f){try{f.select()}catch{}});var we=function(){this.id=null,this.f=null,this.time=0,this.handler=ge(this.onTimeout,this)};function ke(f,B){for(var H=0;H<f.length;++H)if(f[H]==B)return H;return-1}we.prototype.onTimeout=function(f){f.id=0,f.time<=+new Date?f.f():setTimeout(f.handler,f.time-+new Date)},we.prototype.set=function(f,B){this.f=B;var H=+new Date+f;(!this.id||H<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,f),this.time=H)};var Ye=50,_t={toString:function(){return"CodeMirror.Pass"}},Dt={scroll:!1},ni={origin:"*mouse"},je={origin:"+move"};function _e(f,B,H){for(var G=0,ee=0;;){var me=f.indexOf("\t",G);-1==me&&(me=f.length);var Ve=me-G;if(me==f.length||ee+Ve>=B)return G+Math.min(Ve,B-ee);if(ee+=me-G,G=me+1,(ee+=H-ee%H)>=B)return G}}var ze=[""];function Je(f){for(;ze.length<=f;)ze.push(pt(ze)+" ");return ze[f]}function pt(f){return f[f.length-1]}function Ot(f,B){for(var H=[],G=0;G<f.length;G++)H[G]=B(f[G],G);return H}function qe(){}function Ke(f,B){var H;return Object.create?H=Object.create(f):(qe.prototype=f,H=new qe),B&&Te(B,H),H}var Bt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Et(f){return/\w/.test(f)||f>"\x80"&&(f.toUpperCase()!=f.toLowerCase()||Bt.test(f))}function ft(f,B){return B?!!(B.source.indexOf("\\w")>-1&&Et(f))||B.test(f):Et(f)}function xt(f){for(var B in f)if(f.hasOwnProperty(B)&&f[B])return!1;return!0}var We=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function De(f){return f.charCodeAt(0)>=768&&We.test(f)}function Ze(f,B,H){for(;(H<0?B>0:B<f.length)&&De(f.charAt(B));)B+=H;return B}function ut(f,B,H){for(var G=B>H?-1:1;;){if(B==H)return B;var ee=(B+H)/2,me=G<0?Math.ceil(ee):Math.floor(ee);if(me==B)return f(me)?B:H;f(me)?H=me:B=me+G}}var St=null;function et(f,B,H){var G;St=null;for(var ee=0;ee<f.length;++ee){var me=f[ee];if(me.from<B&&me.to>B)return ee;me.to==B&&(me.from!=me.to&&"before"==H?G=ee:St=ee),me.from==B&&(me.from!=me.to&&"before"!=H?G=ee:St=ee)}return G??St}var Bi=function(){function H(Qt){return Qt<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Qt):1424<=Qt&&Qt<=1524?"R":1536<=Qt&&Qt<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Qt-1536):1774<=Qt&&Qt<=2220?"r":8192<=Qt&&Qt<=8203?"w":8204==Qt?"b":"L"}var G=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,ee=/[stwN]/,me=/[LRr]/,Ve=/[Lb1n]/,st=/[1n]/;function yt(Qt,Ai,bi){this.level=Qt,this.from=Ai,this.to=bi}return function(Qt,Ai){var bi="ltr"==Ai?"L":"R";if(0==Qt.length||"ltr"==Ai&&!G.test(Qt))return!1;for(var ji=Qt.length,Ti=[],cn=0;cn<ji;++cn)Ti.push(H(Qt.charCodeAt(cn)));for(var In=0,On=bi;In<ji;++In){var er=Ti[In];"m"==er?Ti[In]=On:On=er}for(var Ar=0,$n=bi;Ar<ji;++Ar){var nr=Ti[Ar];"1"==nr&&"r"==$n?Ti[Ar]="n":me.test(nr)&&($n=nr,"r"==nr&&(Ti[Ar]="R"))}for(var Sr=1,Qr=Ti[0];Sr<ji-1;++Sr){var Po=Ti[Sr];"+"==Po&&"1"==Qr&&"1"==Ti[Sr+1]?Ti[Sr]="1":","==Po&&Qr==Ti[Sr+1]&&("1"==Qr||"n"==Qr)&&(Ti[Sr]=Qr),Qr=Po}for(var fa=0;fa<ji;++fa){var ll=Ti[fa];if(","==ll)Ti[fa]="N";else if("%"==ll){var hs=void 0;for(hs=fa+1;hs<ji&&"%"==Ti[hs];++hs);for(var Zl=fa&&"!"==Ti[fa-1]||hs<ji&&"1"==Ti[hs]?"1":"N",lc=fa;lc<hs;++lc)Ti[lc]=Zl;fa=hs-1}}for(var ps=0,$l=bi;ps<ji;++ps){var ls=Ti[ps];"L"==$l&&"1"==ls?Ti[ps]="L":me.test(ls)&&($l=ls)}for(var Xs=0;Xs<ji;++Xs)if(ee.test(Ti[Xs])){var Ys=void 0;for(Ys=Xs+1;Ys<ji&&ee.test(Ti[Ys]);++Ys);for(var Ns="L"==(Xs?Ti[Xs-1]:bi),Gu=Ns==("L"==(Ys<ji?Ti[Ys]:bi))?Ns?"L":"R":bi,Ur=Xs;Ur<Ys;++Ur)Ti[Ur]=Gu;Xs=Ys-1}for(var Yc,js=[],ga=0;ga<ji;)if(Ve.test(Ti[ga])){var bd=ga;for(++ga;ga<ji&&Ve.test(Ti[ga]);++ga);js.push(new yt(0,bd,ga))}else{var _A=ga,rt=js.length,Me="rtl"==Ai?1:0;for(++ga;ga<ji&&"L"!=Ti[ga];++ga);for(var Ue=_A;Ue<ga;)if(st.test(Ti[Ue])){_A<Ue&&(js.splice(rt,0,new yt(1,_A,Ue)),rt+=Me);var ce=Ue;for(++Ue;Ue<ga&&st.test(Ti[Ue]);++Ue);js.splice(rt,0,new yt(2,ce,Ue)),rt+=Me,_A=Ue}else++Ue;_A<ga&&js.splice(rt,0,new yt(1,_A,ga))}return"ltr"==Ai&&(1==js[0].level&&(Yc=Qt.match(/^\s+/))&&(js[0].from=Yc[0].length,js.unshift(new yt(0,0,Yc[0].length))),1==pt(js).level&&(Yc=Qt.match(/\s+$/))&&(pt(js).to-=Yc[0].length,js.push(new yt(0,ji-Yc[0].length,ji)))),"rtl"==Ai?js.reverse():js}}();function fi(f,B){var H=f.order;return null==H&&(H=f.order=Bi(f.text,B)),H}var Xi=[],Ri=function(f,B,H){if(f.addEventListener)f.addEventListener(B,H,!1);else if(f.attachEvent)f.attachEvent("on"+B,H);else{var G=f._handlers||(f._handlers={});G[B]=(G[B]||Xi).concat(H)}};function Lt(f,B){return f._handlers&&f._handlers[B]||Xi}function lt(f,B,H){if(f.removeEventListener)f.removeEventListener(B,H,!1);else if(f.detachEvent)f.detachEvent("on"+B,H);else{var G=f._handlers,ee=G&&G[B];if(ee){var me=ke(ee,H);me>-1&&(G[B]=ee.slice(0,me).concat(ee.slice(me+1)))}}}function pe(f,B){var H=Lt(f,B);if(H.length)for(var G=Array.prototype.slice.call(arguments,2),ee=0;ee<H.length;++ee)H[ee].apply(null,G)}function Fe(f,B,H){return"string"==typeof B&&(B={type:B,preventDefault:function(){this.defaultPrevented=!0}}),pe(f,H||B.type,f,B),Ge(B)||B.codemirrorIgnore}function at(f){var B=f._handlers&&f._handlers.cursorActivity;if(B)for(var H=f.curOp.cursorActivityHandlers||(f.curOp.cursorActivityHandlers=[]),G=0;G<B.length;++G)-1==ke(H,B[G])&&H.push(B[G])}function Nt(f,B){return Lt(f,B).length>0}function it(f){f.prototype.on=function(B,H){Ri(this,B,H)},f.prototype.off=function(B,H){lt(this,B,H)}}function Ht(f){f.preventDefault?f.preventDefault():f.returnValue=!1}function on(f){f.stopPropagation?f.stopPropagation():f.cancelBubble=!0}function Ge(f){return null!=f.defaultPrevented?f.defaultPrevented:0==f.returnValue}function vi(f){Ht(f),on(f)}function Jt(f){return f.target||f.srcElement}function Xe(f){var B=f.which;return null==B&&(1&f.button?B=1:2&f.button?B=3:4&f.button&&(B=2)),A&&f.ctrlKey&&1==B&&(B=3),B}var Pt,Di,bt=function(){if(l&&_<9)return!1;var f=R("div");return"draggable"in f||"dragDrop"in f}();function Fi(f){if(null==Pt){var B=R("span","\u200b");z(f,R("span",[B,document.createTextNode("x")])),0!=f.firstChild.offsetHeight&&(Pt=B.offsetWidth<=1&&B.offsetHeight>2&&!(l&&_<8))}var H=Pt?R("span","\u200b"):R("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return H.setAttribute("cm-text",""),H}function sn(f){if(null!=Di)return Di;var B=z(f,document.createTextNode("A\u062eA")),H=q(B,0,1).getBoundingClientRect(),G=q(B,1,2).getBoundingClientRect();return X(f),!(!H||H.left==H.right)&&(Di=G.right-H.right<3)}var f,un=3!="\n\nb".split(/\n/).length?function(f){for(var B=0,H=[],G=f.length;B<=G;){var ee=f.indexOf("\n",B);-1==ee&&(ee=f.length);var me=f.slice(B,"\r"==f.charAt(ee-1)?ee-1:ee),Ve=me.indexOf("\r");-1!=Ve?(H.push(me.slice(0,Ve)),B+=Ve+1):(H.push(me),B=ee+1)}return H}:function(f){return f.split(/\r\n?|\n/)},or=window.getSelection?function(f){try{return f.selectionStart!=f.selectionEnd}catch{return!1}}:function(f){var B;try{B=f.ownerDocument.selection.createRange()}catch{}return!(!B||B.parentElement()!=f)&&0!=B.compareEndPoints("StartToEnd",B)},mn="oncopy"in(f=R("div"))||(f.setAttribute("oncopy","return;"),"function"==typeof f.oncopy),Sn=null;var di={},si={};function Ei(f,B){arguments.length>2&&(B.dependencies=Array.prototype.slice.call(arguments,2)),di[f]=B}function Ji(f){if("string"==typeof f&&si.hasOwnProperty(f))f=si[f];else if(f&&"string"==typeof f.name&&si.hasOwnProperty(f.name)){var B=si[f.name];"string"==typeof B&&(B={name:B}),(f=Ke(B,f)).name=B.name}else{if("string"==typeof f&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f))return Ji("application/xml");if("string"==typeof f&&/^[\w\-]+\/[\w\-]+\+json$/.test(f))return Ji("application/json")}return"string"==typeof f?{name:f}:f||{name:"null"}}function Qn(f,B){B=Ji(B);var H=di[B.name];if(!H)return Qn(f,"text/plain");var G=H(f,B);if(Cn.hasOwnProperty(B.name)){var ee=Cn[B.name];for(var me in ee)ee.hasOwnProperty(me)&&(G.hasOwnProperty(me)&&(G["_"+me]=G[me]),G[me]=ee[me])}if(G.name=B.name,B.helperType&&(G.helperType=B.helperType),B.modeProps)for(var Ve in B.modeProps)G[Ve]=B.modeProps[Ve];return G}var Cn={};function mr(f,B){Te(B,Cn.hasOwnProperty(f)?Cn[f]:Cn[f]={})}function En(f,B){if(!0===B)return B;if(f.copyState)return f.copyState(B);var H={};for(var G in B){var ee=B[G];ee instanceof Array&&(ee=ee.concat([])),H[G]=ee}return H}function co(f,B){for(var H;f.innerMode&&(H=f.innerMode(B))&&H.mode!=f;)B=H.state,f=H.mode;return H||{mode:f,state:B}}function la(f,B,H){return!f.startState||f.startState(B,H)}var Xr=function(f,B,H){this.pos=this.start=0,this.string=f,this.tabSize=B||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=H};function Rn(f,B){if((B-=f.first)<0||B>=f.size)throw new Error("There is no line "+(B+f.first)+" in the document.");for(var H=f;!H.lines;)for(var G=0;;++G){var ee=H.children[G],me=ee.chunkSize();if(B<me){H=ee;break}B-=me}return H.lines[B]}function Xn(f,B,H){var G=[],ee=B.line;return f.iter(B.line,H.line+1,function(me){var Ve=me.text;ee==H.line&&(Ve=Ve.slice(0,H.ch)),ee==B.line&&(Ve=Ve.slice(B.ch)),G.push(Ve),++ee}),G}function ao(f,B,H){var G=[];return f.iter(B,H,function(ee){G.push(ee.text)}),G}function Lr(f,B){var H=B-f.height;if(H)for(var G=f;G;G=G.parent)G.height+=H}function sr(f){if(null==f.parent)return null;for(var B=f.parent,H=ke(B.lines,f),G=B.parent;G;B=G,G=G.parent)for(var ee=0;G.children[ee]!=B;++ee)H+=G.children[ee].chunkSize();return H+B.first}function Eo(f,B){var H=f.first;e:do{for(var G=0;G<f.children.length;++G){var ee=f.children[G],me=ee.height;if(B<me){f=ee;continue e}B-=me,H+=ee.chunkSize()}return H}while(!f.lines);for(var Ve=0;Ve<f.lines.length;++Ve){var yt=f.lines[Ve].height;if(B<yt)break;B-=yt}return H+Ve}function Gt(f,B){return B>=f.first&&B<f.first+f.size}function ai(f,B){return String(f.lineNumberFormatter(B+f.firstLineNumber))}function hi(f,B,H){if(void 0===H&&(H=null),!(this instanceof hi))return new hi(f,B,H);this.line=f,this.ch=B,this.sticky=H}function Ut(f,B){return f.line-B.line||f.ch-B.ch}function Yt(f,B){return f.sticky==B.sticky&&0==Ut(f,B)}function ui(f){return hi(f.line,f.ch)}function Vt(f,B){return Ut(f,B)<0?B:f}function $t(f,B){return Ut(f,B)<0?f:B}function ei(f,B){return Math.max(f.first,Math.min(B,f.first+f.size-1))}function Kt(f,B){if(B.line<f.first)return hi(f.first,0);var H=f.first+f.size-1;return B.line>H?hi(H,Rn(f,H).text.length):function _i(f,B){var H=f.ch;return null==H||H>B?hi(f.line,B):H<0?hi(f.line,0):f}(B,Rn(f,B.line).text.length)}function oi(f,B){for(var H=[],G=0;G<B.length;G++)H[G]=Kt(f,B[G]);return H}Xr.prototype.eol=function(){return this.pos>=this.string.length},Xr.prototype.sol=function(){return this.pos==this.lineStart},Xr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xr.prototype.eat=function(f){var B=this.string.charAt(this.pos);if("string"==typeof f?B==f:B&&(f.test?f.test(B):f(B)))return++this.pos,B},Xr.prototype.eatWhile=function(f){for(var B=this.pos;this.eat(f););return this.pos>B},Xr.prototype.eatSpace=function(){for(var f=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>f},Xr.prototype.skipToEnd=function(){this.pos=this.string.length},Xr.prototype.skipTo=function(f){var B=this.string.indexOf(f,this.pos);if(B>-1)return this.pos=B,!0},Xr.prototype.backUp=function(f){this.pos-=f},Xr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=se(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?se(this.string,this.lineStart,this.tabSize):0)},Xr.prototype.indentation=function(){return se(this.string,null,this.tabSize)-(this.lineStart?se(this.string,this.lineStart,this.tabSize):0)},Xr.prototype.match=function(f,B,H){if("string"!=typeof f){var me=this.string.slice(this.pos).match(f);return me&&me.index>0?null:(me&&!1!==B&&(this.pos+=me[0].length),me)}var G=function(Ve){return H?Ve.toLowerCase():Ve};if(G(this.string.substr(this.pos,f.length))==G(f))return!1!==B&&(this.pos+=f.length),!0},Xr.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xr.prototype.hideFirstChars=function(f,B){this.lineStart+=f;try{return B()}finally{this.lineStart-=f}},Xr.prototype.lookAhead=function(f){var B=this.lineOracle;return B&&B.lookAhead(f)},Xr.prototype.baseToken=function(){var f=this.lineOracle;return f&&f.baseToken(this.pos)};var Si=function(f,B){this.state=f,this.lookAhead=B},pi=function(f,B,H,G){this.state=B,this.doc=f,this.line=H,this.maxLookAhead=G||0,this.baseTokens=null,this.baseTokenPos=1};function Zi(f,B,H,G){var ee=[f.state.modeGen],me={};Vn(f,B.text,f.doc.mode,H,function(Qt,Ai){return ee.push(Qt,Ai)},me,G);for(var Ve=H.state,st=function(Qt){H.baseTokens=ee;var Ai=f.state.overlays[Qt],bi=1,ji=0;H.state=!0,Vn(f,B.text,Ai.mode,H,function(Ti,cn){for(var In=bi;ji<Ti;){var On=ee[bi];On>Ti&&ee.splice(bi,1,Ti,ee[bi+1],On),bi+=2,ji=Math.min(Ti,On)}if(cn)if(Ai.opaque)ee.splice(In,bi-In,Ti,"overlay "+cn),bi=In+2;else for(;In<bi;In+=2){var er=ee[In+1];ee[In+1]=(er?er+" ":"")+"overlay "+cn}},me),H.state=Ve,H.baseTokens=null,H.baseTokenPos=1},yt=0;yt<f.state.overlays.length;++yt)st(yt);return{styles:ee,classes:me.bgClass||me.textClass?me:null}}function yn(f,B,H){if(!B.styles||B.styles[0]!=f.state.modeGen){var G=Ci(f,sr(B)),ee=B.text.length>f.options.maxHighlightLength&&En(f.doc.mode,G.state),me=Zi(f,B,G);ee&&(G.state=ee),B.stateAfter=G.save(!ee),B.styles=me.styles,me.classes?B.styleClasses=me.classes:B.styleClasses&&(B.styleClasses=null),H===f.doc.highlightFrontier&&(f.doc.modeFrontier=Math.max(f.doc.modeFrontier,++f.doc.highlightFrontier))}return B.styles}function Ci(f,B,H){var G=f.doc,ee=f.display;if(!G.mode.startState)return new pi(G,!0,B);var me=function Zn(f,B,H){for(var G,ee,me=f.doc,Ve=H?-1:B-(f.doc.mode.innerMode?1e3:100),st=B;st>Ve;--st){if(st<=me.first)return me.first;var yt=Rn(me,st-1),Qt=yt.stateAfter;if(Qt&&(!H||st+(Qt instanceof Si?Qt.lookAhead:0)<=me.modeFrontier))return st;var Ai=se(yt.text,null,f.options.tabSize);(null==ee||G>Ai)&&(ee=st-1,G=Ai)}return ee}(f,B,H),Ve=me>G.first&&Rn(G,me-1).stateAfter,st=Ve?pi.fromSaved(G,Ve,me):new pi(G,la(G.mode),me);return G.iter(me,B,function(yt){zi(f,yt.text,st);var Qt=st.line;yt.stateAfter=Qt==B-1||Qt%5==0||Qt>=ee.viewFrom&&Qt<ee.viewTo?st.save():null,st.nextLine()}),H&&(G.modeFrontier=st.line),st}function zi(f,B,H,G){var ee=f.doc.mode,me=new Xr(B,f.options.tabSize,H);for(me.start=me.pos=G||0,""==B&&en(ee,H.state);!me.eol();)bn(ee,me,H.state),me.start=me.pos}function en(f,B){if(f.blankLine)return f.blankLine(B);if(f.innerMode){var H=co(f,B);if(H.mode.blankLine)return H.mode.blankLine(H.state)}}function bn(f,B,H,G){for(var ee=0;ee<10;ee++){G&&(G[0]=co(f,H).mode);var me=f.token(B,H);if(B.pos>B.start)return me}throw new Error("Mode "+f.name+" failed to advance stream.")}pi.prototype.lookAhead=function(f){var B=this.doc.getLine(this.line+f);return null!=B&&f>this.maxLookAhead&&(this.maxLookAhead=f),B},pi.prototype.baseToken=function(f){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=f;)this.baseTokenPos+=2;var B=this.baseTokens[this.baseTokenPos+1];return{type:B&&B.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-f}},pi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pi.fromSaved=function(f,B,H){return B instanceof Si?new pi(f,En(f.mode,B.state),H,B.lookAhead):new pi(f,En(f.mode,B),H)},pi.prototype.save=function(f){var B=!1!==f?En(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Si(B,this.maxLookAhead):B};var Pi=function(f,B,H){this.start=f.start,this.end=f.pos,this.string=f.current(),this.type=B||null,this.state=H};function tn(f,B,H,G){var Ve,Ai,ee=f.doc,me=ee.mode,st=Rn(ee,(B=Kt(ee,B)).line),yt=Ci(f,B.line,H),Qt=new Xr(st.text,f.options.tabSize,yt);for(G&&(Ai=[]);(G||Qt.pos<B.ch)&&!Qt.eol();)Qt.start=Qt.pos,Ve=bn(me,Qt,yt.state),G&&Ai.push(new Pi(Qt,Ve,En(ee.mode,yt.state)));return G?Ai:new Pi(Qt,Ve,yt.state)}function Fn(f,B){if(f)for(;;){var H=f.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!H)break;f=f.slice(0,H.index)+f.slice(H.index+H[0].length);var G=H[1]?"bgClass":"textClass";null==B[G]?B[G]=H[2]:new RegExp("(?:^|\\s)"+H[2]+"(?:$|\\s)").test(B[G])||(B[G]+=" "+H[2])}return f}function Vn(f,B,H,G,ee,me,Ve){var st=H.flattenSpans;null==st&&(st=f.options.flattenSpans);var bi,yt=0,Qt=null,Ai=new Xr(B,f.options.tabSize,G),ji=f.options.addModeClass&&[null];for(""==B&&Fn(en(H,G.state),me);!Ai.eol();){if(Ai.pos>f.options.maxHighlightLength?(st=!1,Ve&&zi(f,B,G,Ai.pos),Ai.pos=B.length,bi=null):bi=Fn(bn(H,Ai,G.state,ji),me),ji){var Ti=ji[0].name;Ti&&(bi="m-"+(bi?Ti+" "+bi:Ti))}if(!st||Qt!=bi){for(;yt<Ai.start;)ee(yt=Math.min(Ai.start,yt+5e3),Qt);Qt=bi}Ai.start=Ai.pos}for(;yt<Ai.pos;){var cn=Math.min(Ai.pos,yt+5e3);ee(cn,Qt),yt=cn}}var Nr=!1,wr=!1;function Wn(f,B,H){this.marker=f,this.from=B,this.to=H}function Cr(f,B){if(f)for(var H=0;H<f.length;++H){var G=f[H];if(G.marker==B)return G}}function xr(f,B){for(var H,G=0;G<f.length;++G)f[G]!=B&&(H||(H=[])).push(f[G]);return H}function Pr(f,B){if(B.full)return null;var H=Gt(f,B.from.line)&&Rn(f,B.from.line).markedSpans,G=Gt(f,B.to.line)&&Rn(f,B.to.line).markedSpans;if(!H&&!G)return null;var ee=B.from.ch,me=B.to.ch,Ve=0==Ut(B.from,B.to),st=function ca(f,B,H){var G;if(f)for(var ee=0;ee<f.length;++ee){var me=f[ee],Ve=me.marker;null!=me.from&&!(Ve.inclusiveLeft?me.from<=B:me.from<B)&&(me.from!=B||"bookmark"!=Ve.type||H&&me.marker.insertLeft)||(G||(G=[])).push(new Wn(Ve,me.from,null==me.to||(Ve.inclusiveRight?me.to>=B:me.to>B)?null:me.to))}return G}(H,ee,Ve),yt=function Ia(f,B,H){var G;if(f)for(var ee=0;ee<f.length;++ee){var me=f[ee],Ve=me.marker;(null==me.to||(Ve.inclusiveRight?me.to>=B:me.to>B)||me.from==B&&"bookmark"==Ve.type&&(!H||me.marker.insertLeft))&&(G||(G=[])).push(new Wn(Ve,null==me.from||(Ve.inclusiveLeft?me.from<=B:me.from<B)?null:me.from-B,null==me.to?null:me.to-B))}return G}(G,me,Ve),Qt=1==B.text.length,Ai=pt(B.text).length+(Qt?ee:0);if(st)for(var bi=0;bi<st.length;++bi){var ji=st[bi];if(null==ji.to){var Ti=Cr(yt,ji.marker);Ti?Qt&&(ji.to=null==Ti.to?null:Ti.to+Ai):ji.to=ee}}if(yt)for(var cn=0;cn<yt.length;++cn){var In=yt[cn];null!=In.to&&(In.to+=Ai),null==In.from?Cr(st,In.marker)||(In.from=Ai,Qt&&(st||(st=[])).push(In)):(In.from+=Ai,Qt&&(st||(st=[])).push(In))}st&&(st=Za(st)),yt&&yt!=st&&(yt=Za(yt));var er=[st];if(!Qt){var $n,Ar=B.text.length-2;if(Ar>0&&st)for(var nr=0;nr<st.length;++nr)null==st[nr].to&&($n||($n=[])).push(new Wn(st[nr].marker,null,null));for(var Sr=0;Sr<Ar;++Sr)er.push($n);er.push(yt)}return er}function Za(f){for(var B=0;B<f.length;++B){var H=f[B];null!=H.from&&H.from==H.to&&!1!==H.marker.clearWhenEmpty&&f.splice(B--,1)}return f.length?f:null}function so(f){var B=f.markedSpans;if(B){for(var H=0;H<B.length;++H)B[H].marker.detachLine(f);f.markedSpans=null}}function kn(f,B){if(B){for(var H=0;H<B.length;++H)B[H].marker.attachLine(f);f.markedSpans=B}}function gr(f){return f.inclusiveLeft?-1:0}function jo(f){return f.inclusiveRight?1:0}function kt(f,B){var H=f.lines.length-B.lines.length;if(0!=H)return H;var G=f.find(),ee=B.find(),me=Ut(G.from,ee.from)||gr(f)-gr(B);return me?-me:Ut(G.to,ee.to)||jo(f)-jo(B)||B.id-f.id}function Ie(f,B){var G,H=wr&&f.markedSpans;if(H)for(var ee=void 0,me=0;me<H.length;++me)(ee=H[me]).marker.collapsed&&null==(B?ee.from:ee.to)&&(!G||kt(G,ee.marker)<0)&&(G=ee.marker);return G}function xe(f){return Ie(f,!0)}function Oe(f){return Ie(f,!1)}function Pe(f,B){var G,H=wr&&f.markedSpans;if(H)for(var ee=0;ee<H.length;++ee){var me=H[ee];me.marker.collapsed&&(null==me.from||me.from<B)&&(null==me.to||me.to>B)&&(!G||kt(G,me.marker)<0)&&(G=me.marker)}return G}function ct(f,B,H,G,ee){var me=Rn(f,B),Ve=wr&&me.markedSpans;if(Ve)for(var st=0;st<Ve.length;++st){var yt=Ve[st];if(yt.marker.collapsed){var Qt=yt.marker.find(0),Ai=Ut(Qt.from,H)||gr(yt.marker)-gr(ee),bi=Ut(Qt.to,G)||jo(yt.marker)-jo(ee);if(!(Ai>=0&&bi<=0||Ai<=0&&bi>=0)&&(Ai<=0&&(yt.marker.inclusiveRight&&ee.inclusiveLeft?Ut(Qt.to,H)>=0:Ut(Qt.to,H)>0)||Ai>=0&&(yt.marker.inclusiveRight&&ee.inclusiveLeft?Ut(Qt.from,G)<=0:Ut(Qt.from,G)<0)))return!0}}}function Mt(f){for(var B;B=xe(f);)f=B.find(-1,!0).line;return f}function $i(f,B){var H=Rn(f,B),G=Mt(H);return H==G?B:sr(G)}function rn(f,B){if(B>f.lastLine())return B;var G,H=Rn(f,B);if(!Yi(f,H))return B;for(;G=Oe(H);)H=G.find(1,!0).line;return sr(H)+1}function Yi(f,B){var H=wr&&B.markedSpans;if(H)for(var G=void 0,ee=0;ee<H.length;++ee)if((G=H[ee]).marker.collapsed){if(null==G.from)return!0;if(!G.marker.widgetNode&&0==G.from&&G.marker.inclusiveLeft&&wn(f,B,G))return!0}}function wn(f,B,H){if(null==H.to){var G=H.marker.find(1,!0);return wn(f,G.line,Cr(G.line.markedSpans,H.marker))}if(H.marker.inclusiveRight&&H.to==B.text.length)return!0;for(var ee=void 0,me=0;me<B.markedSpans.length;++me)if((ee=B.markedSpans[me]).marker.collapsed&&!ee.marker.widgetNode&&ee.from==H.to&&(null==ee.to||ee.to!=H.from)&&(ee.marker.inclusiveLeft||H.marker.inclusiveRight)&&wn(f,B,ee))return!0}function Yn(f){for(var B=0,H=(f=Mt(f)).parent,G=0;G<H.lines.length;++G){var ee=H.lines[G];if(ee==f)break;B+=ee.height}for(var me=H.parent;me;me=(H=me).parent)for(var Ve=0;Ve<me.children.length;++Ve){var st=me.children[Ve];if(st==H)break;B+=st.height}return B}function Hn(f){if(0==f.height)return 0;for(var H,B=f.text.length,G=f;H=xe(G);){var ee=H.find(0,!0);G=ee.from.line,B+=ee.from.ch-ee.to.ch}for(G=f;H=Oe(G);){var me=H.find(0,!0);B-=G.text.length-me.from.ch,B+=(G=me.to.line).text.length-me.to.ch}return B}function hr(f){var B=f.display,H=f.doc;B.maxLine=Rn(H,H.first),B.maxLineLength=Hn(B.maxLine),B.maxLineChanged=!0,H.iter(function(G){var ee=Hn(G);ee>B.maxLineLength&&(B.maxLineLength=ee,B.maxLine=G)})}var Er=function(f,B,H){this.text=f,kn(this,B),this.height=H?H(this):1};function qn(f){f.parent=null,so(f)}Er.prototype.lineNo=function(){return sr(this)},it(Er);var Yr={},Dr={};function Pn(f,B){if(!f||/^\s*$/.test(f))return null;var H=B.addModeClass?Dr:Yr;return H[f]||(H[f]=f.replace(/\S+/g,"cm-$&"))}function Mo(f,B){var H=Z("span",null,null,p?"padding-right: .1px":null),G={pre:Z("pre",[H],"CodeMirror-line"),content:H,col:0,pos:0,cm:f,trailingSpace:!1,splitSpaces:f.getOption("lineWrapping")};B.measure={};for(var ee=0;ee<=(B.rest?B.rest.length:0);ee++){var me=ee?B.rest[ee-1]:B.line,Ve=void 0;G.pos=0,G.addToken=ro,sn(f.display.measure)&&(Ve=fi(me,f.doc.direction))&&(G.addToken=As(G.addToken,Ve)),G.map=[],$a(me,G,yn(f,me,B!=f.display.externalMeasured&&sr(me))),me.styleClasses&&(me.styleClasses.bgClass&&(G.bgClass=be(me.styleClasses.bgClass,G.bgClass||"")),me.styleClasses.textClass&&(G.textClass=be(me.styleClasses.textClass,G.textClass||""))),0==G.map.length&&G.map.push(0,0,G.content.appendChild(Fi(f.display.measure))),0==ee?(B.measure.map=G.map,B.measure.cache={}):((B.measure.maps||(B.measure.maps=[])).push(G.map),(B.measure.caches||(B.measure.caches=[])).push({}))}if(p){var yt=G.content.lastChild;(/\bcm-tab\b/.test(yt.className)||yt.querySelector&&yt.querySelector(".cm-tab"))&&(G.content.className="cm-tab-wrap-hack")}return pe(f,"renderLine",f,B.line,G.pre),G.pre.className&&(G.textClass=be(G.pre.className,G.textClass||"")),G}function xo(f){var B=R("span","\u2022","cm-invalidchar");return B.title="\\u"+f.charCodeAt(0).toString(16),B.setAttribute("aria-label",B.title),B}function ro(f,B,H,G,ee,me,Ve){if(B){var Ai,st=f.splitSpaces?function wa(f,B){if(f.length>1&&!/  /.test(f))return f;for(var H=B,G="",ee=0;ee<f.length;ee++){var me=f.charAt(ee);" "==me&&H&&(ee==f.length-1||32==f.charCodeAt(ee+1))&&(me="\xa0"),G+=me,H=" "==me}return G}(B,f.trailingSpace):B,yt=f.cm.state.specialChars,Qt=!1;if(yt.test(B)){Ai=document.createDocumentFragment();for(var bi=0;;){yt.lastIndex=bi;var ji=yt.exec(B),Ti=ji?ji.index-bi:B.length-bi;if(Ti){var cn=document.createTextNode(st.slice(bi,bi+Ti));Ai.appendChild(l&&_<9?R("span",[cn]):cn),f.map.push(f.pos,f.pos+Ti,cn),f.col+=Ti,f.pos+=Ti}if(!ji)break;bi+=Ti+1;var In=void 0;if("\t"==ji[0]){var On=f.cm.options.tabSize,er=On-f.col%On;(In=Ai.appendChild(R("span",Je(er),"cm-tab"))).setAttribute("role","presentation"),In.setAttribute("cm-text","\t"),f.col+=er}else"\r"==ji[0]||"\n"==ji[0]?((In=Ai.appendChild(R("span","\r"==ji[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",ji[0]),f.col+=1):((In=f.cm.options.specialCharPlaceholder(ji[0])).setAttribute("cm-text",ji[0]),Ai.appendChild(l&&_<9?R("span",[In]):In),f.col+=1);f.map.push(f.pos,f.pos+1,In),f.pos++}}else f.col+=B.length,Ai=document.createTextNode(st),f.map.push(f.pos,f.pos+B.length,Ai),l&&_<9&&(Qt=!0),f.pos+=B.length;if(f.trailingSpace=32==st.charCodeAt(B.length-1),H||G||ee||Qt||me||Ve){var Ar=H||"";G&&(Ar+=G),ee&&(Ar+=ee);var $n=R("span",[Ai],Ar,me);if(Ve)for(var nr in Ve)Ve.hasOwnProperty(nr)&&"style"!=nr&&"class"!=nr&&$n.setAttribute(nr,Ve[nr]);return f.content.appendChild($n)}f.content.appendChild(Ai)}}function As(f,B){return function(H,G,ee,me,Ve,st,yt){ee=ee?ee+" cm-force-border":"cm-force-border";for(var Qt=H.pos,Ai=Qt+G.length;;){for(var bi=void 0,ji=0;ji<B.length&&!((bi=B[ji]).to>Qt&&bi.from<=Qt);ji++);if(bi.to>=Ai)return f(H,G,ee,me,Ve,st,yt);f(H,G.slice(0,bi.to-Qt),ee,me,null,st,yt),me=null,G=G.slice(bi.to-Qt),Qt=bi.to}}}function Aa(f,B,H,G){var ee=!G&&H.widgetNode;ee&&f.map.push(f.pos,f.pos+B,ee),!G&&f.cm.display.input.needsContentAttribute&&(ee||(ee=f.content.appendChild(document.createElement("span"))),ee.setAttribute("cm-marker",H.id)),ee&&(f.cm.display.input.setUneditable(ee),f.content.appendChild(ee)),f.pos+=B,f.trailingSpace=!1}function $a(f,B,H){var G=f.markedSpans,ee=f.text,me=0;if(G)for(var bi,ji,cn,In,On,er,Ar,st=ee.length,yt=0,Qt=1,Ai="",Ti=0;;){if(Ti==yt){cn=In=On=ji="",Ar=null,er=null,Ti=1/0;for(var $n=[],nr=void 0,Sr=0;Sr<G.length;++Sr){var Qr=G[Sr],Po=Qr.marker;if("bookmark"==Po.type&&Qr.from==yt&&Po.widgetNode)$n.push(Po);else if(Qr.from<=yt&&(null==Qr.to||Qr.to>yt||Po.collapsed&&Qr.to==yt&&Qr.from==yt)){if(null!=Qr.to&&Qr.to!=yt&&Ti>Qr.to&&(Ti=Qr.to,In=""),Po.className&&(cn+=" "+Po.className),Po.css&&(ji=(ji?ji+";":"")+Po.css),Po.startStyle&&Qr.from==yt&&(On+=" "+Po.startStyle),Po.endStyle&&Qr.to==Ti&&(nr||(nr=[])).push(Po.endStyle,Qr.to),Po.title&&((Ar||(Ar={})).title=Po.title),Po.attributes)for(var fa in Po.attributes)(Ar||(Ar={}))[fa]=Po.attributes[fa];Po.collapsed&&(!er||kt(er.marker,Po)<0)&&(er=Qr)}else Qr.from>yt&&Ti>Qr.from&&(Ti=Qr.from)}if(nr)for(var ll=0;ll<nr.length;ll+=2)nr[ll+1]==Ti&&(In+=" "+nr[ll]);if(!er||er.from==yt)for(var hs=0;hs<$n.length;++hs)Aa(B,0,$n[hs]);if(er&&(er.from||0)==yt){if(Aa(B,(null==er.to?st+1:er.to)-yt,er.marker,null==er.from),null==er.to)return;er.to==yt&&(er=!1)}}if(yt>=st)break;for(var Zl=Math.min(st,Ti);;){if(Ai){var lc=yt+Ai.length;if(!er){var ps=lc>Zl?Ai.slice(0,Zl-yt):Ai;B.addToken(B,ps,bi?bi+cn:cn,On,yt+ps.length==Ti?In:"",ji,Ar)}if(lc>=Zl){Ai=Ai.slice(Zl-yt),yt=Zl;break}yt=lc,On=""}Ai=ee.slice(me,me=H[Qt++]),bi=Pn(H[Qt++],B.cm.options)}}else for(var Ve=1;Ve<H.length;Ve+=2)B.addToken(B,ee.slice(me,me=H[Ve]),Pn(H[Ve+1],B.cm.options))}function To(f,B,H){this.line=B,this.rest=function Ii(f){for(var B,H;B=Oe(f);)f=B.find(1,!0).line,(H||(H=[])).push(f);return H}(B),this.size=this.rest?sr(pt(this.rest))-H+1:1,this.node=this.text=null,this.hidden=Yi(f,B)}function el(f,B,H){for(var ee,G=[],me=B;me<H;me=ee){var Ve=new To(f.doc,Rn(f.doc,me),me);ee=me+Ve.size,G.push(Ve)}return G}var _a=null;var Ps=null;function bo(f,B){var H=Lt(f,B);if(H.length){var ee,G=Array.prototype.slice.call(arguments,2);_a?ee=_a.delayedCallbacks:Ps?ee=Ps:(ee=Ps=[],setTimeout(aA,0));for(var me=function(st){ee.push(function(){return H[st].apply(null,G)})},Ve=0;Ve<H.length;++Ve)me(Ve)}}function aA(){var f=Ps;Ps=null;for(var B=0;B<f.length;++B)f[B]()}function Hl(f,B,H,G){for(var ee=0;ee<B.changes.length;ee++){var me=B.changes[ee];"text"==me?Od(f,B):"gutter"==me?IA(f,B,H,G):"class"==me?Vs(f,B):"widget"==me&&ka(f,B,G)}B.changes=null}function qa(f){return f.node==f.text&&(f.node=R("div",null,null,"position: relative"),f.text.parentNode&&f.text.parentNode.replaceChild(f.node,f.text),f.node.appendChild(f.text),l&&_<8&&(f.node.style.zIndex=2)),f.node}function po(f,B){var H=f.display.externalMeasured;return H&&H.line==B.line?(f.display.externalMeasured=null,B.measure=H.measure,H.built):Mo(f,B)}function Od(f,B){var H=B.text.className,G=po(f,B);B.text==B.node&&(B.node=G.pre),B.text.parentNode.replaceChild(G.pre,B.text),B.text=G.pre,G.bgClass!=B.bgClass||G.textClass!=B.textClass?(B.bgClass=G.bgClass,B.textClass=G.textClass,Vs(f,B)):H&&(B.text.className=H)}function Vs(f,B){(function id(f,B){var H=B.bgClass?B.bgClass+" "+(B.line.bgClass||""):B.line.bgClass;if(H&&(H+=" CodeMirror-linebackground"),B.background)H?B.background.className=H:(B.background.parentNode.removeChild(B.background),B.background=null);else if(H){var G=qa(B);B.background=G.insertBefore(R("div",null,H),G.firstChild),f.display.input.setUneditable(B.background)}})(f,B),B.line.wrapClass?qa(B).className=B.line.wrapClass:B.node!=B.text&&(B.node.className=""),B.text.className=(B.textClass?B.textClass+" "+(B.line.textClass||""):B.line.textClass)||""}function IA(f,B,H,G){if(B.gutter&&(B.node.removeChild(B.gutter),B.gutter=null),B.gutterBackground&&(B.node.removeChild(B.gutterBackground),B.gutterBackground=null),B.line.gutterClass){var ee=qa(B);B.gutterBackground=R("div",null,"CodeMirror-gutter-background "+B.line.gutterClass,"left: "+(f.options.fixedGutter?G.fixedPos:-G.gutterTotalWidth)+"px; width: "+G.gutterTotalWidth+"px"),f.display.input.setUneditable(B.gutterBackground),ee.insertBefore(B.gutterBackground,B.text)}var me=B.line.gutterMarkers;if(f.options.lineNumbers||me){var Ve=qa(B),st=B.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(f.options.fixedGutter?G.fixedPos:-G.gutterTotalWidth)+"px");if(st.setAttribute("aria-hidden","true"),f.display.input.setUneditable(st),Ve.insertBefore(st,B.text),B.line.gutterClass&&(st.className+=" "+B.line.gutterClass),f.options.lineNumbers&&(!me||!me["CodeMirror-linenumbers"])&&(B.lineNumber=st.appendChild(R("div",ai(f.options,H),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+G.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f.display.lineNumInnerWidth+"px"))),me)for(var yt=0;yt<f.display.gutterSpecs.length;++yt){var Qt=f.display.gutterSpecs[yt].className,Ai=me.hasOwnProperty(Qt)&&me[Qt];Ai&&st.appendChild(R("div",[Ai],"CodeMirror-gutter-elt","left: "+G.gutterLeft[Qt]+"px; width: "+G.gutterWidth[Qt]+"px"))}}}function ka(f,B,H){B.alignable&&(B.alignable=null);for(var G=Y("CodeMirror-linewidget"),ee=B.node.firstChild,me=void 0;ee;ee=me)me=ee.nextSibling,G.test(ee.className)&&B.node.removeChild(ee);ea(f,B,H)}function Ua(f,B,H,G){var ee=po(f,B);return B.text=B.node=ee.pre,ee.bgClass&&(B.bgClass=ee.bgClass),ee.textClass&&(B.textClass=ee.textClass),Vs(f,B),IA(f,B,H,G),ea(f,B,G),B.node}function ea(f,B,H){if(uh(f,B.line,B,H,!0),B.rest)for(var G=0;G<B.rest.length;G++)uh(f,B.rest[G],B,H,!1)}function uh(f,B,H,G,ee){if(B.widgets)for(var me=qa(H),Ve=0,st=B.widgets;Ve<st.length;++Ve){var yt=st[Ve],Qt=R("div",[yt.node],"CodeMirror-linewidget"+(yt.className?" "+yt.className:""));yt.handleMouseEvents||Qt.setAttribute("cm-ignore-events","true"),ul(yt,Qt,H,G),f.display.input.setUneditable(Qt),ee&&yt.above?me.insertBefore(Qt,H.gutter||H.text):me.appendChild(Qt),bo(yt,"redraw")}}function ul(f,B,H,G){if(f.noHScroll){(H.alignable||(H.alignable=[])).push(B);var ee=G.wrapperWidth;B.style.left=G.fixedPos+"px",f.coverGutter||(ee-=G.gutterTotalWidth,B.style.paddingLeft=G.gutterTotalWidth+"px"),B.style.width=ee+"px"}f.coverGutter&&(B.style.zIndex=5,B.style.position="relative",f.noHScroll||(B.style.marginLeft=-G.gutterTotalWidth+"px"))}function Sl(f){if(null!=f.height)return f.height;var B=f.doc.cm;if(!B)return 0;if(!ae(document.body,f.node)){var H="position: relative;";f.coverGutter&&(H+="margin-left: -"+B.display.gutters.offsetWidth+"px;"),f.noHScroll&&(H+="width: "+B.display.wrapper.clientWidth+"px;"),z(B.display.measure,R("div",[f.node],null,H))}return f.height=f.node.parentNode.offsetHeight}function Dc(f,B){for(var H=Jt(B);H!=f.wrapper;H=H.parentNode)if(!H||1==H.nodeType&&"true"==H.getAttribute("cm-ignore-events")||H.parentNode==f.sizer&&H!=f.mover)return!0}function tl(f){return f.lineSpace.offsetTop}function Sa(f){return f.mover.offsetHeight-f.lineSpace.offsetHeight}function Os(f){if(f.cachedPaddingH)return f.cachedPaddingH;var B=z(f.measure,R("pre","x","CodeMirror-line-like")),H=window.getComputedStyle?window.getComputedStyle(B):B.currentStyle,G={left:parseInt(H.paddingLeft),right:parseInt(H.paddingRight)};return!isNaN(G.left)&&!isNaN(G.right)&&(f.cachedPaddingH=G),G}function bl(f){return Ye-f.display.nativeBarWidth}function ys(f){return f.display.scroller.clientWidth-bl(f)-f.display.barWidth}function nd(f){return f.display.scroller.clientHeight-bl(f)-f.display.barHeight}function rd(f,B,H){if(f.line==B)return{map:f.measure.map,cache:f.measure.cache};if(f.rest){for(var G=0;G<f.rest.length;G++)if(f.rest[G]==B)return{map:f.measure.maps[G],cache:f.measure.caches[G]};for(var ee=0;ee<f.rest.length;ee++)if(sr(f.rest[ee])>H)return{map:f.measure.maps[ee],cache:f.measure.caches[ee],before:!0}}}function il(f,B,H,G){return ta(f,nl(f,B),H,G)}function Ql(f,B){if(B>=f.display.viewFrom&&B<f.display.viewTo)return f.display.view[dt(f,B)];var H=f.display.externalMeasured;return H&&B>=H.lineN&&B<H.lineN+H.size?H:void 0}function nl(f,B){var H=sr(B),G=Ql(f,H);G&&!G.text?G=null:G&&G.changes&&(Hl(f,G,H,Ld(f)),f.curOp.forceUpdate=!0),G||(G=function gs(f,B){var H=sr(B=Mt(B)),G=f.display.externalMeasured=new To(f.doc,B,H);G.lineN=H;var ee=G.built=Mo(f,G);return G.text=ee.pre,z(f.display.lineMeasure,ee.pre),G}(f,B));var ee=rd(G,B,H);return{line:B,view:G,rect:null,map:ee.map,cache:ee.cache,before:ee.before,hasHeights:!1}}function ta(f,B,H,G,ee){B.before&&(H=-1);var Ve,me=H+(G||"");return B.cache.hasOwnProperty(me)?Ve=B.cache[me]:(B.rect||(B.rect=B.view.text.getBoundingClientRect()),B.hasHeights||(function Ic(f,B,H){var G=f.options.lineWrapping,ee=G&&ys(f);if(!B.measure.heights||G&&B.measure.width!=ee){var me=B.measure.heights=[];if(G){B.measure.width=ee;for(var Ve=B.text.firstChild.getClientRects(),st=0;st<Ve.length-1;st++){var yt=Ve[st],Qt=Ve[st+1];Math.abs(yt.bottom-Qt.bottom)>2&&me.push((yt.bottom+Qt.top)/2-H.top)}}me.push(H.bottom-H.top)}}(f,B.view,B.rect),B.hasHeights=!0),(Ve=function lr(f,B,H,G){var Qt,ee=zr(B.map,H,G),me=ee.node,Ve=ee.start,st=ee.end,yt=ee.collapse;if(3==me.nodeType){for(var Ai=0;Ai<4;Ai++){for(;Ve&&De(B.line.text.charAt(ee.coverStart+Ve));)--Ve;for(;ee.coverStart+st<ee.coverEnd&&De(B.line.text.charAt(ee.coverStart+st));)++st;if((Qt=l&&_<9&&0==Ve&&st==ee.coverEnd-ee.coverStart?me.parentNode.getBoundingClientRect():Ca(q(me,Ve,st).getClientRects(),G)).left||Qt.right||0==Ve)break;st=Ve,Ve-=1,yt="right"}l&&_<11&&(Qt=function fc(f,B){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function _n(f){if(null!=Sn)return Sn;var B=z(f,R("span","x")),H=B.getBoundingClientRect(),G=q(B,0,1).getBoundingClientRect();return Sn=Math.abs(H.left-G.left)>1}(f))return B;var H=screen.logicalXDPI/screen.deviceXDPI,G=screen.logicalYDPI/screen.deviceYDPI;return{left:B.left*H,right:B.right*H,top:B.top*G,bottom:B.bottom*G}}(f.display.measure,Qt))}else{var bi;Ve>0&&(yt=G="right"),Qt=f.options.lineWrapping&&(bi=me.getClientRects()).length>1?bi["right"==G?bi.length-1:0]:me.getBoundingClientRect()}if(l&&_<9&&!Ve&&(!Qt||!Qt.left&&!Qt.right)){var ji=me.parentNode.getClientRects()[0];Qt=ji?{left:ji.left,right:ji.left+Kc(f.display),top:ji.top,bottom:ji.bottom}:An}for(var Ti=Qt.top-B.rect.top,cn=Qt.bottom-B.rect.top,In=(Ti+cn)/2,On=B.view.measure.heights,er=0;er<On.length-1&&!(In<On[er]);er++);var nr={left:("right"==yt?Qt.right:Qt.left)-B.rect.left,right:("left"==yt?Qt.left:Qt.right)-B.rect.left,top:er?On[er-1]:0,bottom:On[er]};return!Qt.left&&!Qt.right&&(nr.bogus=!0),f.options.singleCursorHeightPerLine||(nr.rtop=Ti,nr.rbottom=cn),nr}(f,B,H,G)).bogus||(B.cache[me]=Ve)),{left:Ve.left,right:Ve.right,top:ee?Ve.rtop:Ve.top,bottom:ee?Ve.rbottom:Ve.bottom}}var Wc,An={left:0,right:0,top:0,bottom:0};function zr(f,B,H){for(var G,ee,me,Ve,st,yt,Qt=0;Qt<f.length;Qt+=3)if(yt=f[Qt+1],B<(st=f[Qt])?(ee=0,me=1,Ve="left"):B<yt?me=1+(ee=B-st):(Qt==f.length-3||B==yt&&f[Qt+3]>B)&&(ee=(me=yt-st)-1,B>=yt&&(Ve="right")),null!=ee){if(G=f[Qt+2],st==yt&&H==(G.insertLeft?"left":"right")&&(Ve=H),"left"==H&&0==ee)for(;Qt&&f[Qt-2]==f[Qt-3]&&f[Qt-1].insertLeft;)G=f[2+(Qt-=3)],Ve="left";if("right"==H&&ee==yt-st)for(;Qt<f.length-3&&f[Qt+3]==f[Qt+4]&&!f[Qt+5].insertLeft;)G=f[(Qt+=3)+2],Ve="right";break}return{node:G,start:ee,end:me,collapse:Ve,coverStart:st,coverEnd:yt}}function Ca(f,B){var H=An;if("left"==B)for(var G=0;G<f.length&&(H=f[G]).left==H.right;G++);else for(var ee=f.length-1;ee>=0&&(H=f[ee]).left==H.right;ee--);return H}function Rl(f){if(f.measure&&(f.measure.cache={},f.measure.heights=null,f.rest))for(var B=0;B<f.rest.length;B++)f.measure.caches[B]={}}function kc(f){f.display.externalMeasure=null,X(f.display.lineMeasure);for(var B=0;B<f.display.view.length;B++)Rl(f.display.view[B])}function Tc(f){kc(f),f.display.cachedCharWidth=f.display.cachedTextHeight=f.display.cachedPaddingH=null,f.options.lineWrapping||(f.display.maxLineChanged=!0),f.display.lineNumChars=null}function es(f){return g&&F?-(f.body.getBoundingClientRect().left-parseInt(getComputedStyle(f.body).marginLeft)):f.defaultView.pageXOffset||(f.documentElement||f.body).scrollLeft}function sA(f){return g&&F?-(f.body.getBoundingClientRect().top-parseInt(getComputedStyle(f.body).marginTop)):f.defaultView.pageYOffset||(f.documentElement||f.body).scrollTop}function lA(f){var H=Mt(f).widgets,G=0;if(H)for(var ee=0;ee<H.length;++ee)H[ee].above&&(G+=Sl(H[ee]));return G}function gc(f,B,H,G,ee){if(!ee){var me=lA(B);H.top+=me,H.bottom+=me}if("line"==G)return H;G||(G="local");var Ve=Yn(B);if("local"==G?Ve+=tl(f.display):Ve-=f.display.viewOffset,"page"==G||"window"==G){var st=f.display.lineSpace.getBoundingClientRect();Ve+=st.top+("window"==G?0:sA(He(f)));var yt=st.left+("window"==G?0:es(He(f)));H.left+=yt,H.right+=yt}return H.top+=Ve,H.bottom+=Ve,H}function NA(f,B,H){if("div"==H)return B;var G=B.left,ee=B.top;if("page"==H)G-=es(He(f)),ee-=sA(He(f));else if("local"==H||!H){var me=f.display.sizer.getBoundingClientRect();G+=me.left,ee+=me.top}var Ve=f.display.lineSpace.getBoundingClientRect();return{left:G-Ve.left,top:ee-Ve.top}}function Vc(f,B,H,G,ee){return G||(G=Rn(f.doc,B.line)),gc(f,G,il(f,G,B.ch,ee),H)}function Go(f,B,H,G,ee,me){function Ve(cn,In){var On=ta(f,ee,cn,In?"right":"left",me);return In?On.left=On.right:On.right=On.left,gc(f,G,On,H)}G=G||Rn(f.doc,B.line),ee||(ee=nl(f,G));var st=fi(G,f.doc.direction),yt=B.ch,Qt=B.sticky;if(yt>=G.text.length?(yt=G.text.length,Qt="before"):yt<=0&&(yt=0,Qt="after"),!st)return Ve("before"==Qt?yt-1:yt,"before"==Qt);function Ai(cn,In,On){return Ve(On?cn-1:cn,1==st[In].level!=On)}var bi=et(st,yt,Qt),ji=St,Ti=Ai(yt,bi,"before"==Qt);return null!=ji&&(Ti.other=Ai(yt,ji,"before"!=Qt)),Ti}function ya(f,B){var H=0;B=Kt(f.doc,B),f.options.lineWrapping||(H=Kc(f.display)*B.ch);var G=Rn(f.doc,B.line),ee=Yn(G)+tl(f.display);return{left:H,right:H,top:ee,bottom:ee+G.height}}function rl(f,B,H,G,ee){var me=hi(f,B,H);return me.xRel=ee,G&&(me.outside=G),me}function Jc(f,B,H){var G=f.doc;if((H+=f.display.viewOffset)<0)return rl(G.first,0,null,-1,-1);var ee=Eo(G,H),me=G.first+G.size-1;if(ee>me)return rl(G.first+G.size-1,Rn(G,me).text.length,null,1,1);B<0&&(B=0);for(var Ve=Rn(G,ee);;){var st=ts(f,Ve,ee,B,H),yt=Pe(Ve,st.ch+(st.xRel>0||st.outside>0?1:0));if(!yt)return st;var Qt=yt.find(1);if(Qt.line==ee)return Qt;Ve=Rn(G,ee=Qt.line)}}function cA(f,B,H,G){G-=lA(B);var ee=B.text.length,me=ut(function(Ve){return ta(f,H,Ve-1).bottom<=G},ee,0);return{begin:me,end:ee=ut(function(Ve){return ta(f,H,Ve).top>G},me,ee)}}function jA(f,B,H,G){return H||(H=nl(f,B)),cA(f,B,H,gc(f,B,ta(f,H,G),"line").top)}function wl(f,B,H,G){return!(f.bottom<=H)&&(f.top>H||(G?f.left:f.right)>B)}function ts(f,B,H,G,ee){ee-=Yn(B);var me=nl(f,B),Ve=lA(B),st=0,yt=B.text.length,Qt=!0,Ai=fi(B,f.doc.direction);if(Ai){var bi=(f.options.lineWrapping?Js:La)(f,B,H,me,Ai,G,ee);st=(Qt=1!=bi.level)?bi.from:bi.to-1,yt=Qt?bi.to:bi.from-1}var In,On,ji=null,Ti=null,cn=ut(function(Sr){var Qr=ta(f,me,Sr);return Qr.top+=Ve,Qr.bottom+=Ve,!!wl(Qr,G,ee,!1)&&(Qr.top<=ee&&Qr.left<=G&&(ji=Sr,Ti=Qr),!0)},st,yt),er=!1;if(Ti){var Ar=G-Ti.left<Ti.right-G,$n=Ar==Qt;cn=ji+($n?0:1),On=$n?"after":"before",In=Ar?Ti.left:Ti.right}else{!Qt&&(cn==yt||cn==st)&&cn++,On=0==cn?"after":cn==B.text.length?"before":ta(f,me,cn-(Qt?1:0)).bottom+Ve<=ee==Qt?"after":"before";var nr=Go(f,hi(H,cn,On),"line",B,me);In=nr.left,er=ee<nr.top?-1:ee>=nr.bottom?1:0}return rl(H,cn=Ze(B.text,cn,1),On,er,G-In)}function La(f,B,H,G,ee,me,Ve){var st=ut(function(bi){var ji=ee[bi],Ti=1!=ji.level;return wl(Go(f,hi(H,Ti?ji.to:ji.from,Ti?"before":"after"),"line",B,G),me,Ve,!0)},0,ee.length-1),yt=ee[st];if(st>0){var Qt=1!=yt.level,Ai=Go(f,hi(H,Qt?yt.from:yt.to,Qt?"after":"before"),"line",B,G);wl(Ai,me,Ve,!0)&&Ai.top>Ve&&(yt=ee[st-1])}return yt}function Js(f,B,H,G,ee,me,Ve){var st=cA(f,B,G,Ve),yt=st.begin,Qt=st.end;/\s/.test(B.text.charAt(Qt-1))&&Qt--;for(var Ai=null,bi=null,ji=0;ji<ee.length;ji++){var Ti=ee[ji];if(!(Ti.from>=Qt||Ti.to<=yt)){var In=ta(f,G,1!=Ti.level?Math.min(Qt,Ti.to)-1:Math.max(yt,Ti.from)).right,On=In<me?me-In+1e9:In-me;(!Ai||bi>On)&&(Ai=Ti,bi=On)}}return Ai||(Ai=ee[ee.length-1]),Ai.from<yt&&(Ai={from:yt,to:Ai.to,level:Ai.level}),Ai.to>Qt&&(Ai={from:Ai.from,to:Qt,level:Ai.level}),Ai}function Fc(f){if(null!=f.cachedTextHeight)return f.cachedTextHeight;if(null==Wc){Wc=R("pre",null,"CodeMirror-line-like");for(var B=0;B<49;++B)Wc.appendChild(document.createTextNode("x")),Wc.appendChild(R("br"));Wc.appendChild(document.createTextNode("x"))}z(f.measure,Wc);var H=Wc.offsetHeight/50;return H>3&&(f.cachedTextHeight=H),X(f.measure),H||1}function Kc(f){if(null!=f.cachedCharWidth)return f.cachedCharWidth;var B=R("span","xxxxxxxxxx"),H=R("pre",[B],"CodeMirror-line-like");z(f.measure,H);var G=B.getBoundingClientRect(),ee=(G.right-G.left)/10;return ee>2&&(f.cachedCharWidth=ee),ee||10}function Ld(f){for(var B=f.display,H={},G={},ee=B.gutters.clientLeft,me=B.gutters.firstChild,Ve=0;me;me=me.nextSibling,++Ve){var st=f.display.gutterSpecs[Ve].className;H[st]=me.offsetLeft+me.clientLeft+ee,G[st]=me.clientWidth}return{fixedPos:kA(B),gutterTotalWidth:B.gutters.offsetWidth,gutterLeft:H,gutterWidth:G,wrapperWidth:B.wrapper.clientWidth}}function kA(f){return f.scroller.getBoundingClientRect().left-f.sizer.getBoundingClientRect().left}function TA(f){var B=Fc(f.display),H=f.options.lineWrapping,G=H&&Math.max(5,f.display.scroller.clientWidth/Kc(f.display)-3);return function(ee){if(Yi(f.doc,ee))return 0;var me=0;if(ee.widgets)for(var Ve=0;Ve<ee.widgets.length;Ve++)ee.widgets[Ve].height&&(me+=ee.widgets[Ve].height);return H?me+(Math.ceil(ee.text.length/G)||1)*B:me+B}}function Qe(f){var B=f.doc,H=TA(f);B.iter(function(G){var ee=H(G);ee!=G.height&&Lr(G,ee)})}function jt(f,B,H,G){var ee=f.display;if(!H&&"true"==Jt(B).getAttribute("cm-not-content"))return null;var me,Ve,st=ee.lineSpace.getBoundingClientRect();try{me=B.clientX-st.left,Ve=B.clientY-st.top}catch{return null}var Qt,yt=Jc(f,me,Ve);if(G&&yt.xRel>0&&(Qt=Rn(f.doc,yt.line).text).length==yt.ch){var Ai=se(Qt,Qt.length,f.options.tabSize)-Qt.length;yt=hi(yt.line,Math.max(0,Math.round((me-Os(f.display).left)/Kc(f.display))-Ai))}return yt}function dt(f,B){if(B>=f.display.viewTo||(B-=f.display.viewFrom)<0)return null;for(var H=f.display.view,G=0;G<H.length;G++)if((B-=H[G].size)<0)return G}function Ft(f,B,H,G){null==B&&(B=f.doc.first),null==H&&(H=f.doc.first+f.doc.size),G||(G=0);var ee=f.display;if(G&&H<ee.viewTo&&(null==ee.updateLineNumbers||ee.updateLineNumbers>B)&&(ee.updateLineNumbers=B),f.curOp.viewChanged=!0,B>=ee.viewTo)wr&&$i(f.doc,B)<ee.viewTo&&nn(f);else if(H<=ee.viewFrom)wr&&rn(f.doc,H+G)>ee.viewFrom?nn(f):(ee.viewFrom+=G,ee.viewTo+=G);else if(B<=ee.viewFrom&&H>=ee.viewTo)nn(f);else if(B<=ee.viewFrom){var me=Bn(f,H,H+G,1);me?(ee.view=ee.view.slice(me.index),ee.viewFrom=me.lineN,ee.viewTo+=G):nn(f)}else if(H>=ee.viewTo){var Ve=Bn(f,B,B,-1);Ve?(ee.view=ee.view.slice(0,Ve.index),ee.viewTo=Ve.lineN):nn(f)}else{var st=Bn(f,B,B,-1),yt=Bn(f,H,H+G,1);st&&yt?(ee.view=ee.view.slice(0,st.index).concat(el(f,st.lineN,yt.lineN)).concat(ee.view.slice(yt.index)),ee.viewTo+=G):nn(f)}var Qt=ee.externalMeasured;Qt&&(H<Qt.lineN?Qt.lineN+=G:B<Qt.lineN+Qt.size&&(ee.externalMeasured=null))}function yi(f,B,H){f.curOp.viewChanged=!0;var G=f.display,ee=f.display.externalMeasured;if(ee&&B>=ee.lineN&&B<ee.lineN+ee.size&&(G.externalMeasured=null),!(B<G.viewFrom||B>=G.viewTo)){var me=G.view[dt(f,B)];if(null!=me.node){var Ve=me.changes||(me.changes=[]);-1==ke(Ve,H)&&Ve.push(H)}}}function nn(f){f.display.viewFrom=f.display.viewTo=f.doc.first,f.display.view=[],f.display.viewOffset=0}function Bn(f,B,H,G){var me,ee=dt(f,B),Ve=f.display.view;if(!wr||H==f.doc.first+f.doc.size)return{index:ee,lineN:H};for(var st=f.display.viewFrom,yt=0;yt<ee;yt++)st+=Ve[yt].size;if(st!=B){if(G>0){if(ee==Ve.length-1)return null;me=st+Ve[ee].size-B,ee++}else me=st-B;B+=me,H+=me}for(;$i(f.doc,H)!=H;){if(ee==(G<0?0:Ve.length-1))return null;H+=G*Ve[ee-(G<0?1:0)].size,ee+=G}return{index:ee,lineN:H}}function Zo(f){for(var B=f.display.view,H=0,G=0;G<B.length;G++){var ee=B[G];!ee.hidden&&(!ee.node||ee.changes)&&++H}return H}function da(f){f.display.input.showSelection(f.display.input.prepareSelection())}function Wo(f,B){void 0===B&&(B=!0);var H=f.doc,G={},ee=G.cursors=document.createDocumentFragment(),me=G.selection=document.createDocumentFragment(),Ve=f.options.$customCursor;Ve&&(B=!0);for(var st=0;st<H.sel.ranges.length;st++)if(B||st!=H.sel.primIndex){var yt=H.sel.ranges[st];if(!(yt.from().line>=f.display.viewTo||yt.to().line<f.display.viewFrom)){var Qt=yt.empty();if(Ve){var Ai=Ve(f,yt);Ai&&lo(f,Ai,ee)}else(Qt||f.options.showCursorWhenSelecting)&&lo(f,yt.head,ee);Qt||Ta(f,yt,me)}}return G}function lo(f,B,H){var G=Go(f,B,"div",null,null,!f.options.singleCursorHeightPerLine),ee=H.appendChild(R("div","\xa0","CodeMirror-cursor"));if(ee.style.left=G.left+"px",ee.style.top=G.top+"px",ee.style.height=Math.max(0,G.bottom-G.top)*f.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(f.getWrapperElement().className)){var me=Vc(f,B,"div",null,null),Ve=me.right-me.left;ee.style.width=(Ve>0?Ve:f.defaultCharWidth())+"px"}if(G.other){var st=H.appendChild(R("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));st.style.display="",st.style.left=G.other.left+"px",st.style.top=G.other.top+"px",st.style.height=.85*(G.other.bottom-G.other.top)+"px"}}function ua(f,B){return f.top-B.top||f.left-B.left}function Ta(f,B,H){var G=f.display,ee=f.doc,me=document.createDocumentFragment(),Ve=Os(f.display),st=Ve.left,yt=Math.max(G.sizerWidth,ys(f)-G.sizer.offsetLeft)-Ve.right,Qt="ltr"==ee.direction;function Ai($n,nr,Sr,Qr){nr<0&&(nr=0),nr=Math.round(nr),Qr=Math.round(Qr),me.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+$n+"px;\n                             top: "+nr+"px; width: "+(Sr??yt-$n)+"px;\n                             height: "+(Qr-nr)+"px"))}function bi($n,nr,Sr){var fa,ll,Qr=Rn(ee,$n),Po=Qr.text.length;function hs(ps,$l){return Vc(f,hi($n,ps),"div",Qr,$l)}function Zl(ps,$l,ls){var Xs=jA(f,Qr,null,ps),Ys="ltr"==$l==("after"==ls)?"left":"right";return hs("after"==ls?Xs.begin:Xs.end-(/\s/.test(Qr.text.charAt(Xs.end-1))?2:1),Ys)[Ys]}var lc=fi(Qr,ee.direction);return function ti(f,B,H,G){if(!f)return G(B,H,"ltr",0);for(var ee=!1,me=0;me<f.length;++me){var Ve=f[me];(Ve.from<H&&Ve.to>B||B==H&&Ve.to==B)&&(G(Math.max(Ve.from,B),Math.min(Ve.to,H),1==Ve.level?"rtl":"ltr",me),ee=!0)}ee||G(B,H,"ltr")}(lc,nr||0,Sr??Po,function(ps,$l,ls,Xs){var Ys="ltr"==ls,Ns=hs(ps,Ys?"left":"right"),Dl=hs($l-1,Ys?"right":"left"),Gu=null==nr&&0==ps,Ur=null==Sr&&$l==Po,js=0==Xs,Yc=!lc||Xs==lc.length-1;if(Dl.top-Ns.top<=3){var _A=(Qt?Gu:Ur)&&js?st:(Ys?Ns:Dl).left;Ai(_A,Ns.top,((Qt?Ur:Gu)&&Yc?yt:(Ys?Dl:Ns).right)-_A,Ns.bottom)}else{var Me,Ue,ce,he;Ys?(Me=Qt&&Gu&&js?st:Ns.left,Ue=Qt?yt:Zl(ps,ls,"before"),ce=Qt?st:Zl($l,ls,"after"),he=Qt&&Ur&&Yc?yt:Dl.right):(Me=Qt?Zl(ps,ls,"before"):st,Ue=!Qt&&Gu&&js?yt:Ns.right,ce=!Qt&&Ur&&Yc?st:Dl.left,he=Qt?Zl($l,ls,"after"):yt),Ai(Me,Ns.top,Ue-Me,Ns.bottom),Ns.bottom<Dl.top&&Ai(st,Ns.bottom,null,Dl.top),Ai(ce,Dl.top,he-ce,Dl.bottom)}(!fa||ua(Ns,fa)<0)&&(fa=Ns),ua(Dl,fa)<0&&(fa=Dl),(!ll||ua(Ns,ll)<0)&&(ll=Ns),ua(Dl,ll)<0&&(ll=Dl)}),{start:fa,end:ll}}var ji=B.from(),Ti=B.to();if(ji.line==Ti.line)bi(ji.line,ji.ch,Ti.ch);else{var cn=Rn(ee,ji.line),In=Rn(ee,Ti.line),On=Mt(cn)==Mt(In),er=bi(ji.line,ji.ch,On?cn.text.length+1:null).end,Ar=bi(Ti.line,On?0:null,Ti.ch).start;On&&(er.top<Ar.top-2?(Ai(er.right,er.top,null,er.bottom),Ai(st,Ar.top,Ar.left,Ar.bottom)):Ai(er.right,er.top,Ar.left-er.right,er.bottom)),er.bottom<Ar.top&&Ai(st,er.bottom,null,Ar.top)}H.appendChild(me)}function is(f){if(f.state.focused){var B=f.display;clearInterval(B.blinker);var H=!0;B.cursorDiv.style.visibility="",f.options.cursorBlinkRate>0?B.blinker=setInterval(function(){f.hasFocus()||bs(f),B.cursorDiv.style.visibility=(H=!H)?"":"hidden"},f.options.cursorBlinkRate):f.options.cursorBlinkRate<0&&(B.cursorDiv.style.visibility="hidden")}}function ic(f){f.hasFocus()||(f.display.input.focus(),f.state.focused||Sc(f))}function Pl(f){f.state.delayingBlurEvent=!0,setTimeout(function(){f.state.delayingBlurEvent&&(f.state.delayingBlurEvent=!1,f.state.focused&&bs(f))},100)}function Sc(f,B){f.state.delayingBlurEvent&&!f.state.draggingText&&(f.state.delayingBlurEvent=!1),"nocursor"!=f.options.readOnly&&(f.state.focused||(pe(f,"focus",f,B),f.state.focused=!0,Se(f.display.wrapper,"CodeMirror-focused"),!f.curOp&&f.display.selForContextMenu!=f.doc.sel&&(f.display.input.reset(),p&&setTimeout(function(){return f.display.input.reset(!0)},20)),f.display.input.receivedFocus()),is(f))}function bs(f,B){f.state.delayingBlurEvent||(f.state.focused&&(pe(f,"blur",f,B),f.state.focused=!1,U(f.display.wrapper,"CodeMirror-focused")),clearInterval(f.display.blinker),setTimeout(function(){f.state.focused||(f.display.shift=!1)},150))}function Tr(f){for(var B=f.display,H=B.lineDiv.offsetTop,G=Math.max(0,B.scroller.getBoundingClientRect().top),ee=B.lineDiv.getBoundingClientRect().top,me=0,Ve=0;Ve<B.view.length;Ve++){var st=B.view[Ve],yt=f.options.lineWrapping,Qt=void 0,Ai=0;if(!st.hidden){if(ee+=st.line.height,l&&_<8){var bi=st.node.offsetTop+st.node.offsetHeight;Qt=bi-H,H=bi}else{var ji=st.node.getBoundingClientRect();Qt=ji.bottom-ji.top,!yt&&st.text.firstChild&&(Ai=st.text.firstChild.getBoundingClientRect().right-ji.left-1)}var Ti=st.line.height-Qt;if((Ti>.005||Ti<-.005)&&(ee<G&&(me-=Ti),Lr(st.line,Qt),Ws(st.line),st.rest))for(var cn=0;cn<st.rest.length;cn++)Ws(st.rest[cn]);if(Ai>f.display.sizerWidth){var In=Math.ceil(Ai/Kc(f.display));In>f.display.maxLineLength&&(f.display.maxLineLength=In,f.display.maxLine=st.line,f.display.maxLineChanged=!0)}}}Math.abs(me)>2&&(B.scroller.scrollTop+=me)}function Ws(f){if(f.widgets)for(var B=0;B<f.widgets.length;++B){var H=f.widgets[B],G=H.node.parentNode;G&&(H.height=G.offsetHeight)}}function Cl(f,B,H){var G=H&&null!=H.top?Math.max(0,H.top):f.scroller.scrollTop;G=Math.floor(G-tl(f));var ee=H&&null!=H.bottom?H.bottom:G+f.wrapper.clientHeight,me=Eo(B,G),Ve=Eo(B,ee);if(H&&H.ensure){var st=H.ensure.from.line,yt=H.ensure.to.line;st<me?(me=st,Ve=Eo(B,Yn(Rn(B,st))+f.wrapper.clientHeight)):Math.min(yt,B.lastLine())>=Ve&&(me=Eo(B,Yn(Rn(B,yt))-f.wrapper.clientHeight),Ve=yt)}return{from:me,to:Math.max(Ve,me+1)}}function V(f,B){var H=f.display,G=Fc(f.display);B.top<0&&(B.top=0);var ee=f.curOp&&null!=f.curOp.scrollTop?f.curOp.scrollTop:H.scroller.scrollTop,me=nd(f),Ve={};B.bottom-B.top>me&&(B.bottom=B.top+me);var st=f.doc.height+Sa(H),Qt=B.bottom>st-G;if(B.top<ee)Ve.scrollTop=B.top<G?0:B.top;else if(B.bottom>ee+me){var Ai=Math.min(B.top,(Qt?st:B.bottom)-me);Ai!=ee&&(Ve.scrollTop=Ai)}var bi=f.options.fixedGutter?0:H.gutters.offsetWidth,ji=f.curOp&&null!=f.curOp.scrollLeft?f.curOp.scrollLeft:H.scroller.scrollLeft-bi,Ti=ys(f)-H.gutters.offsetWidth,cn=B.right-B.left>Ti;return cn&&(B.right=B.left+Ti),B.left<10?Ve.scrollLeft=0:B.left<ji?Ve.scrollLeft=Math.max(0,B.left+bi-(cn?0:10)):B.right>Ti+ji-3&&(Ve.scrollLeft=B.right+(cn?0:10)-Ti),Ve}function Ae(f,B){null!=B&&(Mi(f),f.curOp.scrollTop=(null==f.curOp.scrollTop?f.doc.scrollTop:f.curOp.scrollTop)+B)}function Le(f){Mi(f);var B=f.getCursor();f.curOp.scrollToPos={from:B,to:B,margin:f.options.cursorScrollMargin}}function vt(f,B,H){(null!=B||null!=H)&&Mi(f),null!=B&&(f.curOp.scrollLeft=B),null!=H&&(f.curOp.scrollTop=H)}function Mi(f){var B=f.curOp.scrollToPos;B&&(f.curOp.scrollToPos=null,qi(f,ya(f,B.from),ya(f,B.to),B.margin))}function qi(f,B,H,G){var ee=V(f,{left:Math.min(B.left,H.left),top:Math.min(B.top,H.top)-G,right:Math.max(B.right,H.right),bottom:Math.max(B.bottom,H.bottom)+G});vt(f,ee.scrollLeft,ee.scrollTop)}function an(f,B){Math.abs(f.doc.scrollTop-B)<2||(N||Du(f,{top:B}),Nn(f,B,!0),N&&Du(f),vo(f,100))}function Nn(f,B,H){B=Math.max(0,Math.min(f.display.scroller.scrollHeight-f.display.scroller.clientHeight,B)),(f.display.scroller.scrollTop!=B||H)&&(f.doc.scrollTop=B,f.display.scrollbars.setScrollTop(B),f.display.scroller.scrollTop!=B&&(f.display.scroller.scrollTop=B))}function rr(f,B,H,G){B=Math.max(0,Math.min(B,f.display.scroller.scrollWidth-f.display.scroller.clientWidth)),(!(H?B==f.doc.scrollLeft:Math.abs(f.doc.scrollLeft-B)<2)||G)&&(f.doc.scrollLeft=B,Ll(f),f.display.scroller.scrollLeft!=B&&(f.display.scroller.scrollLeft=B),f.display.scrollbars.setScrollLeft(B))}function Hr(f){var B=f.display,H=B.gutters.offsetWidth,G=Math.round(f.doc.height+Sa(f.display));return{clientHeight:B.scroller.clientHeight,viewHeight:B.wrapper.clientHeight,scrollWidth:B.scroller.scrollWidth,clientWidth:B.scroller.clientWidth,viewWidth:B.wrapper.clientWidth,barLeft:f.options.fixedGutter?H:0,docHeight:G,scrollHeight:G+bl(f)+B.barHeight,nativeBarWidth:B.nativeBarWidth,gutterWidth:H}}var mo=function(f,B,H){this.cm=H;var G=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ee=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");G.tabIndex=ee.tabIndex=-1,f(G),f(ee),Ri(G,"scroll",function(){G.clientHeight&&B(G.scrollTop,"vertical")}),Ri(ee,"scroll",function(){ee.clientWidth&&B(ee.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&_<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mo.prototype.update=function(f){var B=f.scrollWidth>f.clientWidth+1,H=f.scrollHeight>f.clientHeight+1,G=f.nativeBarWidth;return H?(this.vert.style.display="block",this.vert.style.bottom=B?G+"px":"0",this.vert.firstChild.style.height=Math.max(0,f.scrollHeight-f.clientHeight+(f.viewHeight-(B?G:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),B?(this.horiz.style.display="block",this.horiz.style.right=H?G+"px":"0",this.horiz.style.left=f.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,f.scrollWidth-f.clientWidth+(f.viewWidth-f.barLeft-(H?G:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&f.clientHeight>0&&(0==G&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:H?G:0,bottom:B?G:0}},mo.prototype.setScrollLeft=function(f){this.horiz.scrollLeft!=f&&(this.horiz.scrollLeft=f),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mo.prototype.setScrollTop=function(f){this.vert.scrollTop!=f&&(this.vert.scrollTop=f),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mo.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=A&&!M?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new we,this.disableVert=new we},mo.prototype.enableZeroWidthBar=function(f,B,H){f.style.visibility="",B.set(1e3,function G(){var ee=f.getBoundingClientRect();("vert"==H?document.elementFromPoint(ee.right-1,(ee.top+ee.bottom)/2):document.elementFromPoint((ee.right+ee.left)/2,ee.bottom-1))!=f?f.style.visibility="hidden":B.set(1e3,G)})},mo.prototype.clear=function(){var f=this.horiz.parentNode;f.removeChild(this.horiz),f.removeChild(this.vert)};var ws=function(){};function ns(f,B){B||(B=Hr(f));var H=f.display.barWidth,G=f.display.barHeight;Vl(f,B);for(var ee=0;ee<4&&H!=f.display.barWidth||G!=f.display.barHeight;ee++)H!=f.display.barWidth&&f.options.lineWrapping&&Tr(f),Vl(f,Hr(f)),H=f.display.barWidth,G=f.display.barHeight}function Vl(f,B){var H=f.display,G=H.scrollbars.update(B);H.sizer.style.paddingRight=(H.barWidth=G.right)+"px",H.sizer.style.paddingBottom=(H.barHeight=G.bottom)+"px",H.heightForcer.style.borderBottom=G.bottom+"px solid transparent",G.right&&G.bottom?(H.scrollbarFiller.style.display="block",H.scrollbarFiller.style.height=G.bottom+"px",H.scrollbarFiller.style.width=G.right+"px"):H.scrollbarFiller.style.display="",G.bottom&&f.options.coverGutterNextToScrollbar&&f.options.fixedGutter?(H.gutterFiller.style.display="block",H.gutterFiller.style.height=G.bottom+"px",H.gutterFiller.style.width=B.gutterWidth+"px"):H.gutterFiller.style.display=""}ws.prototype.update=function(){return{bottom:0,right:0}},ws.prototype.setScrollLeft=function(){},ws.prototype.setScrollTop=function(){},ws.prototype.clear=function(){};var Ol={native:mo,null:ws};function Vr(f){f.display.scrollbars&&(f.display.scrollbars.clear(),f.display.scrollbars.addClass&&U(f.display.wrapper,f.display.scrollbars.addClass)),f.display.scrollbars=new Ol[f.options.scrollbarStyle](function(B){f.display.wrapper.insertBefore(B,f.display.scrollbarFiller),Ri(B,"mousedown",function(){f.state.focused&&setTimeout(function(){return f.display.input.focus()},0)}),B.setAttribute("cm-not-content","true")},function(B,H){"horizontal"==H?rr(f,B):an(f,B)},f),f.display.scrollbars.addClass&&Se(f.display.wrapper,f.display.scrollbars.addClass)}var hh=0;function ad(f){f.curOp={cm:f,viewChanged:!1,startHeight:f.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++hh,markArrays:null},function Ga(f){_a?_a.ops.push(f):f.ownsGroup=_a={ops:[f],delayedCallbacks:[]}}(f.curOp)}function nc(f){var B=f.curOp;B&&function yl(f,B){var H=f.ownsGroup;if(H)try{!function _l(f){var B=f.delayedCallbacks,H=0;do{for(;H<B.length;H++)B[H].call(null);for(var G=0;G<f.ops.length;G++){var ee=f.ops[G];if(ee.cursorActivityHandlers)for(;ee.cursorActivityCalled<ee.cursorActivityHandlers.length;)ee.cursorActivityHandlers[ee.cursorActivityCalled++].call(null,ee.cm)}}while(H<B.length)}(H)}finally{_a=null,B(H)}}(B,function(H){for(var G=0;G<H.ops.length;G++)H.ops[G].cm.curOp=null;!function ir(f){for(var B=f.ops,H=0;H<B.length;H++)Au(B[H]);for(var G=0;G<B.length;G++)sd(B[G]);for(var ee=0;ee<B.length;ee++)ba(B[ee]);for(var me=0;me<B.length;me++)Yd(B[me]);for(var Ve=0;Ve<B.length;Ve++)du(B[Ve])}(H)})}function Au(f){var B=f.cm,H=B.display;(function El(f){var B=f.display;!B.scrollbarsClipped&&B.scroller.offsetWidth&&(B.nativeBarWidth=B.scroller.offsetWidth-B.scroller.clientWidth,B.heightForcer.style.height=bl(f)+"px",B.sizer.style.marginBottom=-B.nativeBarWidth+"px",B.sizer.style.borderRightWidth=bl(f)+"px",B.scrollbarsClipped=!0)})(B),f.updateMaxLine&&hr(B),f.mustUpdate=f.viewChanged||f.forceUpdate||null!=f.scrollTop||f.scrollToPos&&(f.scrollToPos.from.line<H.viewFrom||f.scrollToPos.to.line>=H.viewTo)||H.maxLineChanged&&B.options.lineWrapping,f.update=f.mustUpdate&&new uu(B,f.mustUpdate&&{top:f.scrollTop,ensure:f.scrollToPos},f.forceUpdate)}function sd(f){f.updatedDisplay=f.mustUpdate&&Xc(f.cm,f.update)}function ba(f){var B=f.cm,H=B.display;f.updatedDisplay&&Tr(B),f.barMeasure=Hr(B),H.maxLineChanged&&!B.options.lineWrapping&&(f.adjustWidthTo=il(B,H.maxLine,H.maxLine.text.length).left+3,B.display.sizerWidth=f.adjustWidthTo,f.barMeasure.scrollWidth=Math.max(H.scroller.clientWidth,H.sizer.offsetLeft+f.adjustWidthTo+bl(B)+B.display.barWidth),f.maxScrollLeft=Math.max(0,H.sizer.offsetLeft+f.adjustWidthTo-ys(B))),(f.updatedDisplay||f.selectionChanged)&&(f.preparedSelection=H.input.prepareSelection())}function Yd(f){var B=f.cm;null!=f.adjustWidthTo&&(B.display.sizer.style.minWidth=f.adjustWidthTo+"px",f.maxScrollLeft<B.doc.scrollLeft&&rr(B,Math.min(B.display.scroller.scrollLeft,f.maxScrollLeft),!0),B.display.maxLineChanged=!1);var H=f.focus&&f.focus==re(ue(B));f.preparedSelection&&B.display.input.showSelection(f.preparedSelection,H),(f.updatedDisplay||f.startHeight!=B.doc.height)&&ns(B,f.barMeasure),f.updatedDisplay&&Iu(B,f.barMeasure),f.selectionChanged&&is(B),B.state.focused&&f.updateInput&&B.display.input.reset(f.typing),H&&ic(f.cm)}function du(f){var B=f.cm,H=B.display,G=B.doc;f.updatedDisplay&&cd(B,f.update),null!=H.wheelStartX&&(null!=f.scrollTop||null!=f.scrollLeft||f.scrollToPos)&&(H.wheelStartX=H.wheelStartY=null),null!=f.scrollTop&&Nn(B,f.scrollTop,f.forceScroll),null!=f.scrollLeft&&rr(B,f.scrollLeft,!0,!0),f.scrollToPos&&function od(f,B){if(!Fe(f,"scrollCursorIntoView")){var H=f.display,G=H.sizer.getBoundingClientRect(),ee=null,me=H.wrapper.ownerDocument;if(B.top+G.top<0?ee=!0:B.bottom+G.top>(me.defaultView.innerHeight||me.documentElement.clientHeight)&&(ee=!1),null!=ee&&!E){var Ve=R("div","\u200b",null,"position: absolute;\n                         top: "+(B.top-H.viewOffset-tl(f.display))+"px;\n                         height: "+(B.bottom-B.top+bl(f)+H.barHeight)+"px;\n                         left: "+B.left+"px; width: "+Math.max(2,B.right-B.left)+"px;");f.display.lineSpace.appendChild(Ve),Ve.scrollIntoView(ee),f.display.lineSpace.removeChild(Ve)}}}(B,function ha(f,B,H,G){var ee;null==G&&(G=0),!f.options.lineWrapping&&B==H&&(H="before"==B.sticky?hi(B.line,B.ch+1,"before"):B,B=B.ch?hi(B.line,"before"==B.sticky?B.ch-1:B.ch,"after"):B);for(var me=0;me<5;me++){var Ve=!1,st=Go(f,B),yt=H&&H!=B?Go(f,H):st,Qt=V(f,ee={left:Math.min(st.left,yt.left),top:Math.min(st.top,yt.top)-G,right:Math.max(st.left,yt.left),bottom:Math.max(st.bottom,yt.bottom)+G}),Ai=f.doc.scrollTop,bi=f.doc.scrollLeft;if(null!=Qt.scrollTop&&(an(f,Qt.scrollTop),Math.abs(f.doc.scrollTop-Ai)>1&&(Ve=!0)),null!=Qt.scrollLeft&&(rr(f,Qt.scrollLeft),Math.abs(f.doc.scrollLeft-bi)>1&&(Ve=!0)),!Ve)break}return ee}(B,Kt(G,f.scrollToPos.from),Kt(G,f.scrollToPos.to),f.scrollToPos.margin));var me=f.maybeHiddenMarkers,Ve=f.maybeUnhiddenMarkers;if(me)for(var st=0;st<me.length;++st)me[st].lines.length||pe(me[st],"hide");if(Ve)for(var yt=0;yt<Ve.length;++yt)Ve[yt].lines.length&&pe(Ve[yt],"unhide");H.wrapper.offsetHeight&&(G.scrollTop=B.display.scroller.scrollTop),f.changeObjs&&pe(B,"changes",B,f.changeObjs),f.update&&f.update.finish()}function Jl(f,B){if(f.curOp)return B();ad(f);try{return B()}finally{nc(f)}}function Ls(f,B){return function(){if(f.curOp)return B.apply(f,arguments);ad(f);try{return B.apply(f,arguments)}finally{nc(f)}}}function ol(f){return function(){if(this.curOp)return f.apply(this,arguments);ad(this);try{return f.apply(this,arguments)}finally{nc(this)}}}function fn(f){return function(){var B=this.cm;if(!B||B.curOp)return f.apply(this,arguments);ad(B);try{return f.apply(this,arguments)}finally{nc(B)}}}function vo(f,B){f.doc.highlightFrontier<f.display.viewTo&&f.state.highlight.set(B,ge(Np,f))}function Np(f){var B=f.doc;if(!(B.highlightFrontier>=f.display.viewTo)){var H=+new Date+f.options.workTime,G=Ci(f,B.highlightFrontier),ee=[];B.iter(G.line,Math.min(B.first+B.size,f.display.viewTo+500),function(me){if(G.line>=f.display.viewFrom){var Ve=me.styles,st=me.text.length>f.options.maxHighlightLength?En(B.mode,G.state):null,yt=Zi(f,me,G,!0);st&&(G.state=st),me.styles=yt.styles;var Qt=me.styleClasses,Ai=yt.classes;Ai?me.styleClasses=Ai:Qt&&(me.styleClasses=null);for(var bi=!Ve||Ve.length!=me.styles.length||Qt!=Ai&&(!Qt||!Ai||Qt.bgClass!=Ai.bgClass||Qt.textClass!=Ai.textClass),ji=0;!bi&&ji<Ve.length;++ji)bi=Ve[ji]!=me.styles[ji];bi&&ee.push(G.line),me.stateAfter=G.save(),G.nextLine()}else me.text.length<=f.options.maxHighlightLength&&zi(f,me.text,G),me.stateAfter=G.line%5==0?G.save():null,G.nextLine();if(+new Date>H)return vo(f,f.options.workDelay),!0}),B.highlightFrontier=G.line,B.modeFrontier=Math.max(B.modeFrontier,G.line),ee.length&&Jl(f,function(){for(var me=0;me<ee.length;me++)yi(f,ee[me],"text")})}}var uu=function(f,B,H){var G=f.display;this.viewport=B,this.visible=Cl(G,f.doc,B),this.editorIsHidden=!G.wrapper.offsetWidth,this.wrapperHeight=G.wrapper.clientHeight,this.wrapperWidth=G.wrapper.clientWidth,this.oldDisplayWidth=ys(f),this.force=H,this.dims=Ld(f),this.events=[]};function Xc(f,B){var H=f.display,G=f.doc;if(B.editorIsHidden)return nn(f),!1;if(!B.force&&B.visible.from>=H.viewFrom&&B.visible.to<=H.viewTo&&(null==H.updateLineNumbers||H.updateLineNumbers>=H.viewTo)&&H.renderedView==H.view&&0==Zo(f))return!1;FA(f)&&(nn(f),B.dims=Ld(f));var ee=G.first+G.size,me=Math.max(B.visible.from-f.options.viewportMargin,G.first),Ve=Math.min(ee,B.visible.to+f.options.viewportMargin);H.viewFrom<me&&me-H.viewFrom<20&&(me=Math.max(G.first,H.viewFrom)),H.viewTo>Ve&&H.viewTo-Ve<20&&(Ve=Math.min(ee,H.viewTo)),wr&&(me=$i(f.doc,me),Ve=rn(f.doc,Ve));var st=me!=H.viewFrom||Ve!=H.viewTo||H.lastWrapHeight!=B.wrapperHeight||H.lastWrapWidth!=B.wrapperWidth;(function Mr(f,B,H){var G=f.display;0==G.view.length||B>=G.viewTo||H<=G.viewFrom?(G.view=el(f,B,H),G.viewFrom=B):(G.viewFrom>B?G.view=el(f,B,G.viewFrom).concat(G.view):G.viewFrom<B&&(G.view=G.view.slice(dt(f,B))),G.viewFrom=B,G.viewTo<H?G.view=G.view.concat(el(f,G.viewTo,H)):G.viewTo>H&&(G.view=G.view.slice(0,dt(f,H)))),G.viewTo=H})(f,me,Ve),H.viewOffset=Yn(Rn(f.doc,H.viewFrom)),f.display.mover.style.top=H.viewOffset+"px";var yt=Zo(f);if(!st&&0==yt&&!B.force&&H.renderedView==H.view&&(null==H.updateLineNumbers||H.updateLineNumbers>=H.viewTo))return!1;var Qt=function xu(f){if(f.hasFocus())return null;var B=re(ue(f));if(!B||!ae(f.display.lineDiv,B))return null;var H={activeElt:B};if(window.getSelection){var G=fe(f).getSelection();G.anchorNode&&G.extend&&ae(f.display.lineDiv,G.anchorNode)&&(H.anchorNode=G.anchorNode,H.anchorOffset=G.anchorOffset,H.focusNode=G.focusNode,H.focusOffset=G.focusOffset)}return H}(f);return yt>4&&(H.lineDiv.style.display="none"),function Vf(f,B,H){var G=f.display,ee=f.options.lineNumbers,me=G.lineDiv,Ve=me.firstChild;function st(cn){var In=cn.nextSibling;return p&&A&&f.display.currentWheelTarget==cn?cn.style.display="none":cn.parentNode.removeChild(cn),In}for(var yt=G.view,Qt=G.viewFrom,Ai=0;Ai<yt.length;Ai++){var bi=yt[Ai];if(!bi.hidden)if(bi.node&&bi.node.parentNode==me){for(;Ve!=bi.node;)Ve=st(Ve);var Ti=ee&&null!=B&&B<=Qt&&bi.lineNumber;bi.changes&&(ke(bi.changes,"gutter")>-1&&(Ti=!1),Hl(f,bi,Qt,H)),Ti&&(X(bi.lineNumber),bi.lineNumber.appendChild(document.createTextNode(ai(f.options,Qt)))),Ve=bi.node.nextSibling}else{var ji=Ua(f,bi,Qt,H);me.insertBefore(ji,Ve)}Qt+=bi.size}for(;Ve;)Ve=st(Ve)}(f,H.updateLineNumbers,B.dims),yt>4&&(H.lineDiv.style.display=""),H.renderedView=H.view,function ld(f){if(f&&f.activeElt&&f.activeElt!=re(le(f.activeElt))&&(f.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(f.activeElt.nodeName)&&f.anchorNode&&ae(document.body,f.anchorNode)&&ae(document.body,f.focusNode))){var B=f.activeElt.ownerDocument,H=B.defaultView.getSelection(),G=B.createRange();G.setEnd(f.anchorNode,f.anchorOffset),G.collapse(!1),H.removeAllRanges(),H.addRange(G),H.extend(f.focusNode,f.focusOffset)}}(Qt),X(H.cursorDiv),X(H.selectionDiv),H.gutters.style.height=H.sizer.style.minHeight=0,st&&(H.lastWrapHeight=B.wrapperHeight,H.lastWrapWidth=B.wrapperWidth,vo(f,400)),H.updateLineNumbers=null,!0}function cd(f,B){for(var H=B.viewport,G=!0;;G=!1){if(G&&f.options.lineWrapping&&B.oldDisplayWidth!=ys(f))G&&(B.visible=Cl(f.display,f.doc,H));else if(H&&null!=H.top&&(H={top:Math.min(f.doc.height+Sa(f.display)-nd(f),H.top)}),B.visible=Cl(f.display,f.doc,H),B.visible.from>=f.display.viewFrom&&B.visible.to<=f.display.viewTo)break;if(!Xc(f,B))break;Tr(f);var ee=Hr(f);da(f),ns(f,ee),Iu(f,ee),B.force=!1}B.signal(f,"update",f),(f.display.viewFrom!=f.display.reportedViewFrom||f.display.viewTo!=f.display.reportedViewTo)&&(B.signal(f,"viewportChange",f,f.display.viewFrom,f.display.viewTo),f.display.reportedViewFrom=f.display.viewFrom,f.display.reportedViewTo=f.display.viewTo)}function Du(f,B){var H=new uu(f,B);if(Xc(f,H)){Tr(f),cd(f,H);var G=Hr(f);da(f),ns(f,G),Iu(f,G),H.finish()}}function jp(f){f.sizer.style.marginLeft=f.gutters.offsetWidth+"px",bo(f,"gutterChanged",f)}function Iu(f,B){f.display.sizer.style.minHeight=B.docHeight+"px",f.display.heightForcer.style.top=B.docHeight+"px",f.display.gutters.style.height=B.docHeight+f.display.barHeight+bl(f)+"px"}function Ll(f){var B=f.display,H=B.view;if(B.alignWidgets||B.gutters.firstChild&&f.options.fixedGutter){for(var G=kA(B)-B.scroller.scrollLeft+f.doc.scrollLeft,ee=B.gutters.offsetWidth,me=G+"px",Ve=0;Ve<H.length;Ve++)if(!H[Ve].hidden){f.options.fixedGutter&&(H[Ve].gutter&&(H[Ve].gutter.style.left=me),H[Ve].gutterBackground&&(H[Ve].gutterBackground.style.left=me));var st=H[Ve].alignable;if(st)for(var yt=0;yt<st.length;yt++)st[yt].style.left=me}f.options.fixedGutter&&(B.gutters.style.left=G+ee+"px")}}function FA(f){if(!f.options.lineNumbers)return!1;var B=f.doc,H=ai(f.options,B.first+B.size-1),G=f.display;if(H.length!=G.lineNumChars){var ee=G.measure.appendChild(R("div",[R("div",H)],"CodeMirror-linenumber CodeMirror-gutter-elt")),me=ee.firstChild.offsetWidth,Ve=ee.offsetWidth-me;return G.lineGutter.style.width="",G.lineNumInnerWidth=Math.max(me,G.lineGutter.offsetWidth-Ve)+1,G.lineNumWidth=G.lineNumInnerWidth+Ve,G.lineNumChars=G.lineNumInnerWidth?H.length:-1,G.lineGutter.style.width=G.lineNumWidth+"px",jp(f.display),!0}return!1}function ph(f,B){for(var H=[],G=!1,ee=0;ee<f.length;ee++){var me=f[ee],Ve=null;if("string"!=typeof me&&(Ve=me.style,me=me.className),"CodeMirror-linenumbers"==me){if(!B)continue;G=!0}H.push({className:me,style:Ve})}return B&&!G&&H.push({className:"CodeMirror-linenumbers",style:null}),H}function Ad(f){var B=f.gutters,H=f.gutterSpecs;X(B),f.lineGutter=null;for(var G=0;G<H.length;++G){var ee=H[G],me=ee.className,Ve=ee.style,st=B.appendChild(R("div",null,"CodeMirror-gutter "+me));Ve&&(st.style.cssText=Ve),"CodeMirror-linenumbers"==me&&(f.lineGutter=st,st.style.width=(f.lineNumWidth||1)+"px")}B.style.display=H.length?"":"none",jp(f)}function Qc(f){Ad(f.display),Ft(f),Ll(f)}function Gp(f,B,H,G){var ee=this;this.input=H,ee.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),ee.scrollbarFiller.setAttribute("cm-not-content","true"),ee.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),ee.gutterFiller.setAttribute("cm-not-content","true"),ee.lineDiv=Z("div",null,"CodeMirror-code"),ee.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),ee.cursorDiv=R("div",null,"CodeMirror-cursors"),ee.measure=R("div",null,"CodeMirror-measure"),ee.lineMeasure=R("div",null,"CodeMirror-measure"),ee.lineSpace=Z("div",[ee.measure,ee.lineMeasure,ee.selectionDiv,ee.cursorDiv,ee.lineDiv],null,"position: relative; outline: none");var me=Z("div",[ee.lineSpace],"CodeMirror-lines");ee.mover=R("div",[me],null,"position: relative"),ee.sizer=R("div",[ee.mover],"CodeMirror-sizer"),ee.sizerWidth=null,ee.heightForcer=R("div",null,null,"position: absolute; height: "+Ye+"px; width: 1px;"),ee.gutters=R("div",null,"CodeMirror-gutters"),ee.lineGutter=null,ee.scroller=R("div",[ee.sizer,ee.heightForcer,ee.gutters],"CodeMirror-scroll"),ee.scroller.setAttribute("tabIndex","-1"),ee.wrapper=R("div",[ee.scrollbarFiller,ee.gutterFiller,ee.scroller],"CodeMirror"),g&&w>=105&&(ee.wrapper.style.clipPath="inset(0px)"),ee.wrapper.setAttribute("translate","no"),l&&_<8&&(ee.gutters.style.zIndex=-1,ee.scroller.style.paddingRight=0),!p&&!(N&&k)&&(ee.scroller.draggable=!0),f&&(f.appendChild?f.appendChild(ee.wrapper):f(ee.wrapper)),ee.viewFrom=ee.viewTo=B.first,ee.reportedViewFrom=ee.reportedViewTo=B.first,ee.view=[],ee.renderedView=null,ee.externalMeasured=null,ee.viewOffset=0,ee.lastWrapHeight=ee.lastWrapWidth=0,ee.updateLineNumbers=null,ee.nativeBarWidth=ee.barHeight=ee.barWidth=0,ee.scrollbarsClipped=!1,ee.lineNumWidth=ee.lineNumInnerWidth=ee.lineNumChars=null,ee.alignWidgets=!1,ee.cachedCharWidth=ee.cachedTextHeight=ee.cachedPaddingH=null,ee.maxLine=null,ee.maxLineLength=0,ee.maxLineChanged=!1,ee.wheelDX=ee.wheelDY=ee.wheelStartX=ee.wheelStartY=null,ee.shift=!1,ee.selForContextMenu=null,ee.activeTouch=null,ee.gutterSpecs=ph(G.gutters,G.lineNumbers),Ad(ee),H.init(ee)}uu.prototype.signal=function(f,B){Nt(f,B)&&this.events.push(arguments)},uu.prototype.finish=function(){for(var f=0;f<this.events.length;f++)pe.apply(null,this.events[f])};var ku=0,Wl=null;function Wh(f){var B=f.wheelDeltaX,H=f.wheelDeltaY;return null==B&&f.detail&&f.axis==f.HORIZONTAL_AXIS&&(B=f.detail),null==H&&f.detail&&f.axis==f.VERTICAL_AXIS?H=f.detail:null==H&&(H=f.wheelDelta),{x:B,y:H}}function Kh(f){var B=Wh(f);return B.x*=Wl,B.y*=Wl,B}function fh(f,B){g&&102==w&&(null==f.display.chromeScrollHack?f.display.sizer.style.pointerEvents="none":clearTimeout(f.display.chromeScrollHack),f.display.chromeScrollHack=setTimeout(function(){f.display.chromeScrollHack=null,f.display.sizer.style.pointerEvents=""},100));var H=Wh(B),G=H.x,ee=H.y,me=Wl;0===B.deltaMode&&(G=B.deltaX,ee=B.deltaY,me=1);var Ve=f.display,st=Ve.scroller,Qt=st.scrollHeight>st.clientHeight;if(G&&st.scrollWidth>st.clientWidth||ee&&Qt){if(ee&&A&&p)e:for(var Ai=B.target,bi=Ve.view;Ai!=st;Ai=Ai.parentNode)for(var ji=0;ji<bi.length;ji++)if(bi[ji].node==Ai){f.display.currentWheelTarget=Ai;break e}if(G&&!N&&!y&&null!=me)return ee&&Qt&&an(f,Math.max(0,st.scrollTop+ee*me)),rr(f,Math.max(0,st.scrollLeft+G*me)),(!ee||ee&&Qt)&&Ht(B),void(Ve.wheelStartX=null);if(ee&&null!=me){var Ti=ee*me,cn=f.doc.scrollTop,In=cn+Ve.wrapper.clientHeight;Ti<0?cn=Math.max(0,cn+Ti-50):In=Math.min(f.doc.height,In+Ti+50),Du(f,{top:cn,bottom:In})}ku<20&&0!==B.deltaMode&&(null==Ve.wheelStartX?(Ve.wheelStartX=st.scrollLeft,Ve.wheelStartY=st.scrollTop,Ve.wheelDX=G,Ve.wheelDY=ee,setTimeout(function(){if(null!=Ve.wheelStartX){var On=st.scrollLeft-Ve.wheelStartX,er=st.scrollTop-Ve.wheelStartY,Ar=er&&Ve.wheelDY&&er/Ve.wheelDY||On&&Ve.wheelDX&&On/Ve.wheelDX;Ve.wheelStartX=Ve.wheelStartY=null,Ar&&(Wl=(Wl*ku+Ar)/(ku+1),++ku)}},200)):(Ve.wheelDX+=G,Ve.wheelDY+=ee))}}l?Wl=-.53:N?Wl=15:g?Wl=-.7:b&&(Wl=-1/3);var za=function(f,B){this.ranges=f,this.primIndex=B};za.prototype.primary=function(){return this.ranges[this.primIndex]},za.prototype.equals=function(f){if(f==this)return!0;if(f.primIndex!=this.primIndex||f.ranges.length!=this.ranges.length)return!1;for(var B=0;B<this.ranges.length;B++){var H=this.ranges[B],G=f.ranges[B];if(!Yt(H.anchor,G.anchor)||!Yt(H.head,G.head))return!1}return!0},za.prototype.deepCopy=function(){for(var f=[],B=0;B<this.ranges.length;B++)f[B]=new Mn(ui(this.ranges[B].anchor),ui(this.ranges[B].head));return new za(f,this.primIndex)},za.prototype.somethingSelected=function(){for(var f=0;f<this.ranges.length;f++)if(!this.ranges[f].empty())return!0;return!1},za.prototype.contains=function(f,B){B||(B=f);for(var H=0;H<this.ranges.length;H++){var G=this.ranges[H];if(Ut(B,G.from())>=0&&Ut(f,G.to())<=0)return H}return-1};var Mn=function(f,B){this.anchor=f,this.head=B};function AA(f,B,H){var G=f&&f.options.selectionsMayTouch,ee=B[H];B.sort(function(ji,Ti){return Ut(ji.from(),Ti.from())}),H=ke(B,ee);for(var me=1;me<B.length;me++){var Ve=B[me],st=B[me-1],yt=Ut(st.to(),Ve.from());if(G&&!Ve.empty()?yt>0:yt>=0){var Qt=$t(st.from(),Ve.from()),Ai=Vt(st.to(),Ve.to()),bi=st.empty()?Ve.from()==Ve.head:st.from()==st.head;me<=H&&--H,B.splice(--me,2,new Mn(bi?Ai:Qt,bi?Qt:Ai))}}return new za(B,H)}function GA(f,B){return new za([new Mn(f,B||f)],0)}function dA(f){return f.text?hi(f.from.line+f.text.length-1,pt(f.text).length+(1==f.text.length?f.from.ch:0)):f.to}function pa(f,B){if(Ut(f,B.from)<0)return f;if(Ut(f,B.to)<=0)return dA(B);var H=f.line+B.text.length-(B.to.line-B.from.line)-1,G=f.ch;return f.line==B.to.line&&(G+=dA(B).ch-B.to.ch),hi(H,G)}function Nd(f,B){for(var H=[],G=0;G<f.sel.ranges.length;G++){var ee=f.sel.ranges[G];H.push(new Mn(pa(ee.anchor,B),pa(ee.head,B)))}return AA(f.cm,H,f.sel.primIndex)}function gh(f,B,H){return f.line==B.line?hi(H.line,f.ch-B.ch+H.ch):hi(H.line+(f.line-B.line),f.ch)}function Zc(f){f.doc.mode=Qn(f.options,f.doc.modeOption),Tu(f)}function Tu(f){f.doc.iter(function(B){B.stateAfter&&(B.stateAfter=null),B.styles&&(B.styles=null)}),f.doc.modeFrontier=f.doc.highlightFrontier=f.doc.first,vo(f,100),f.state.modeGen++,f.curOp&&Ft(f)}function Xh(f,B){return 0==B.from.ch&&0==B.to.ch&&""==pt(B.text)&&(!f.cm||f.cm.options.wholeLineUpdateBefore)}function hl(f,B,H,G){function ee(Ar){return H?H[Ar]:null}function me(Ar,$n,nr){(function vr(f,B,H,G){f.text=B,f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null),null!=f.order&&(f.order=null),so(f),kn(f,H);var ee=G?G(f):1;ee!=f.height&&Lr(f,ee)})(Ar,$n,nr,G),bo(Ar,"change",Ar,B)}function Ve(Ar,$n){for(var nr=[],Sr=Ar;Sr<$n;++Sr)nr.push(new Er(Qt[Sr],ee(Sr),G));return nr}var st=B.from,yt=B.to,Qt=B.text,Ai=Rn(f,st.line),bi=Rn(f,yt.line),ji=pt(Qt),Ti=ee(Qt.length-1),cn=yt.line-st.line;if(B.full)f.insert(0,Ve(0,Qt.length)),f.remove(Qt.length,f.size-Qt.length);else if(Xh(f,B)){var In=Ve(0,Qt.length-1);me(bi,bi.text,Ti),cn&&f.remove(st.line,cn),In.length&&f.insert(st.line,In)}else if(Ai==bi)if(1==Qt.length)me(Ai,Ai.text.slice(0,st.ch)+ji+Ai.text.slice(yt.ch),Ti);else{var On=Ve(1,Qt.length-1);On.push(new Er(ji+Ai.text.slice(yt.ch),Ti,G)),me(Ai,Ai.text.slice(0,st.ch)+Qt[0],ee(0)),f.insert(st.line+1,On)}else if(1==Qt.length)me(Ai,Ai.text.slice(0,st.ch)+Qt[0]+bi.text.slice(yt.ch),ee(0)),f.remove(st.line+1,cn);else{me(Ai,Ai.text.slice(0,st.ch)+Qt[0],ee(0)),me(bi,ji+bi.text.slice(yt.ch),Ti);var er=Ve(1,Qt.length-1);cn>1&&f.remove(st.line+1,cn-1),f.insert(st.line+1,er)}bo(f,"change",f,B)}function Lo(f,B,H){!function G(ee,me,Ve){if(ee.linked)for(var st=0;st<ee.linked.length;++st){var yt=ee.linked[st];if(yt.doc!=me){var Qt=Ve&&yt.sharedHist;H&&!Qt||(B(yt.doc,Qt),G(yt.doc,ee,Qt))}}}(f,null,!0)}function Yo(f,B){if(B.cm)throw new Error("This document is already in use.");f.doc=B,B.cm=f,Qe(f),Zc(f),Ea(f),f.options.direction=B.direction,f.options.lineWrapping||hr(f),f.options.mode=B.modeOption,Ft(f)}function Ea(f){("rtl"==f.doc.direction?Se:U)(f.display.lineDiv,"CodeMirror-rtl")}function al(f){this.done=[],this.undone=[],this.undoDepth=f?f.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=f?f.maxGeneration:1}function pl(f,B){var H={from:ui(B.from),to:dA(B),text:Xn(f,B.from,B.to)};return qc(f,H,B.from.line,B.to.line+1),Lo(f,function(G){return qc(G,H,B.from.line,B.to.line+1)},!0),H}function $c(f){for(;f.length&&pt(f).ranges;)f.pop()}function SA(f,B,H,G){var ee=f.history;ee.undone.length=0;var Ve,st,me=+new Date;if((ee.lastOp==G||ee.lastOrigin==B.origin&&B.origin&&("+"==B.origin.charAt(0)&&ee.lastModTime>me-(f.cm?f.cm.options.historyEventDelay:500)||"*"==B.origin.charAt(0)))&&(Ve=function jr(f,B){return B?($c(f.done),pt(f.done)):f.done.length&&!pt(f.done).ranges?pt(f.done):f.done.length>1&&!f.done[f.done.length-2].ranges?(f.done.pop(),pt(f.done)):void 0}(ee,ee.lastOp==G)))st=pt(Ve.changes),0==Ut(B.from,B.to)&&0==Ut(B.from,st.to)?st.to=dA(B):Ve.changes.push(pl(f,B));else{var yt=pt(ee.done);for((!yt||!yt.ranges)&&Bl(f.sel,ee.done),Ve={changes:[pl(f,B)],generation:ee.generation},ee.done.push(Ve);ee.done.length>ee.undoDepth;)ee.done.shift(),ee.done[0].ranges||ee.done.shift()}ee.done.push(H),ee.generation=++ee.maxGeneration,ee.lastModTime=ee.lastSelTime=me,ee.lastOp=ee.lastSelOp=G,ee.lastOrigin=ee.lastSelOrigin=B.origin,st||pe(f,"historyAdded")}function Fo(f,B,H,G){var ee=f.history,me=G&&G.origin;H==ee.lastSelOp||me&&ee.lastSelOrigin==me&&(ee.lastModTime==ee.lastSelTime&&ee.lastOrigin==me||function Jr(f,B,H,G){var ee=B.charAt(0);return"*"==ee||"+"==ee&&H.ranges.length==G.ranges.length&&H.somethingSelected()==G.somethingSelected()&&new Date-f.history.lastSelTime<=(f.cm?f.cm.options.historyEventDelay:500)}(f,me,pt(ee.done),B))?ee.done[ee.done.length-1]=B:Bl(B,ee.done),ee.lastSelTime=+new Date,ee.lastSelOrigin=me,ee.lastSelOp=H,G&&!1!==G.clearRedo&&$c(ee.undone)}function Bl(f,B){var H=pt(B);H&&H.ranges&&H.equals(f)||B.push(f)}function qc(f,B,H,G){var ee=B["spans_"+f.id],me=0;f.iter(Math.max(f.first,H),Math.min(f.first+f.size,G),function(Ve){Ve.markedSpans&&((ee||(ee=B["spans_"+f.id]={}))[me]=Ve.markedSpans),++me})}function jn(f){if(!f)return null;for(var B,H=0;H<f.length;++H)f[H].marker.explicitlyCleared?B||(B=f.slice(0,H)):B&&B.push(f[H]);return B?B.length?B:null:f}function Ya(f,B){var H=function Tn(f,B){var H=B["spans_"+f.id];if(!H)return null;for(var G=[],ee=0;ee<B.text.length;++ee)G.push(jn(H[ee]));return G}(f,B),G=Pr(f,B);if(!H)return G;if(!G)return H;for(var ee=0;ee<H.length;++ee){var me=H[ee],Ve=G[ee];if(me&&Ve)e:for(var st=0;st<Ve.length;++st){for(var yt=Ve[st],Qt=0;Qt<me.length;++Qt)if(me[Qt].marker==yt.marker)continue e;me.push(yt)}else Ve&&(H[ee]=Ve)}return H}function mc(f,B,H){for(var G=[],ee=0;ee<f.length;++ee){var me=f[ee];if(me.ranges)G.push(H?za.prototype.deepCopy.call(me):me);else{var Ve=me.changes,st=[];G.push({changes:st});for(var yt=0;yt<Ve.length;++yt){var Qt=Ve[yt],Ai=void 0;if(st.push({from:Qt.from,to:Qt.to,text:Qt.text}),B)for(var bi in Qt)(Ai=bi.match(/^spans_(\d+)$/))&&ke(B,Number(Ai[1]))>-1&&(pt(st)[bi]=Qt[bi],delete Qt[bi])}}}return G}function dd(f,B,H,G){if(G){var ee=f.anchor;if(H){var me=Ut(B,ee)<0;me!=Ut(H,ee)<0?(ee=B,B=H):me!=Ut(B,H)<0&&(B=H)}return new Mn(ee,B)}return new Mn(H||B,B)}function Na(f,B,H,G,ee){null==ee&&(ee=f.cm&&(f.cm.display.shift||f.extend)),Ba(f,new za([dd(f.sel.primary(),B,H,ee)],0),G)}function Ml(f,B,H){for(var G=[],ee=f.cm&&(f.cm.display.shift||f.extend),me=0;me<f.sel.ranges.length;me++)G[me]=dd(f.sel.ranges[me],B[me],null,ee);Ba(f,AA(f.cm,G,f.sel.primIndex),H)}function ud(f,B,H,G){var ee=f.sel.ranges.slice(0);ee[B]=H,Ba(f,AA(f.cm,ee,f.sel.primIndex),G)}function Ha(f,B,H,G){Ba(f,GA(B,H),G)}function Su(f,B,H){var G=f.history.done,ee=pt(G);ee&&ee.ranges?(G[G.length-1]=B,UA(f,B,H)):Ba(f,B,H)}function Ba(f,B,H){UA(f,B,H),Fo(f,f.sel,f.cm?f.cm.curOp.id:NaN,H)}function UA(f,B,H){(Nt(f,"beforeSelectionChange")||f.cm&&Nt(f.cm,"beforeSelectionChange"))&&(B=function Fu(f,B,H){var G={ranges:B.ranges,update:function(ee){this.ranges=[];for(var me=0;me<ee.length;me++)this.ranges[me]=new Mn(Kt(f,ee[me].anchor),Kt(f,ee[me].head))},origin:H&&H.origin};return pe(f,"beforeSelectionChange",f,G),f.cm&&pe(f.cm,"beforeSelectionChange",f.cm,G),G.ranges!=B.ranges?AA(f.cm,G.ranges,G.ranges.length-1):B}(f,B,H));var G=H&&H.bias||(Ut(B.primary().head,f.sel.primary().head)<0?-1:1);Up(f,hd(f,B,G,!0)),(!H||!1!==H.scroll)&&f.cm&&"nocursor"!=f.cm.getOption("readOnly")&&Le(f.cm)}function Up(f,B){B.equals(f.sel)||(f.sel=B,f.cm&&(f.cm.curOp.updateInput=1,f.cm.curOp.selectionChanged=!0,at(f.cm)),bo(f,"cursorActivity",f))}function Zh(f){Up(f,hd(f,f.sel,null,!1))}function hd(f,B,H,G){for(var ee,me=0;me<B.ranges.length;me++){var Ve=B.ranges[me],st=B.ranges.length==f.sel.ranges.length&&f.sel.ranges[me],yt=Qu(f,Ve.anchor,st&&st.anchor,H,G),Qt=Ve.head==Ve.anchor?yt:Qu(f,Ve.head,st&&st.head,H,G);(ee||yt!=Ve.anchor||Qt!=Ve.head)&&(ee||(ee=B.ranges.slice(0,me)),ee[me]=new Mn(yt,Qt))}return ee?AA(f.cm,ee,B.primIndex):B}function hA(f,B,H,G,ee){var me=Rn(f,B.line);if(me.markedSpans)for(var Ve=0;Ve<me.markedSpans.length;++Ve){var st=me.markedSpans[Ve],yt=st.marker,Qt="selectLeft"in yt?!yt.selectLeft:yt.inclusiveLeft,Ai="selectRight"in yt?!yt.selectRight:yt.inclusiveRight;if((null==st.from||(Qt?st.from<=B.ch:st.from<B.ch))&&(null==st.to||(Ai?st.to>=B.ch:st.to>B.ch))){if(ee&&(pe(yt,"beforeCursorEnter"),yt.explicitlyCleared)){if(me.markedSpans){--Ve;continue}break}if(!yt.atomic)continue;if(H){var bi=yt.find(G<0?1:-1),ji=void 0;if((G<0?Ai:Qt)&&(bi=Kl(f,bi,-G,bi&&bi.line==B.line?me:null)),bi&&bi.line==B.line&&(ji=Ut(bi,H))&&(G<0?ji<0:ji>0))return hA(f,bi,B,G,ee)}var Ti=yt.find(G<0?-1:1);return(G<0?Qt:Ai)&&(Ti=Kl(f,Ti,G,Ti.line==B.line?me:null)),Ti?hA(f,Ti,B,G,ee):null}}return B}function Qu(f,B,H,G,ee){var me=G||1;return hA(f,B,H,me,ee)||!ee&&hA(f,B,H,me,!0)||hA(f,B,H,-me,ee)||!ee&&hA(f,B,H,-me,!0)||(f.cantEdit=!0,hi(f.first,0))}function Kl(f,B,H,G){return H<0&&0==B.ch?B.line>f.first?Kt(f,hi(B.line-1)):null:H>0&&B.ch==(G||Rn(f,B.line)).text.length?B.line<f.first+f.size-1?hi(B.line+1,0):null:new hi(B.line,B.ch+H)}function Ru(f){f.setSelection(hi(f.firstLine(),0),hi(f.lastLine()),Dt)}function rc(f,B,H){var G={canceled:!1,from:B.from,to:B.to,text:B.text,origin:B.origin,cancel:function(){return G.canceled=!0}};return H&&(G.update=function(ee,me,Ve,st){ee&&(G.from=Kt(f,ee)),me&&(G.to=Kt(f,me)),Ve&&(G.text=Ve),void 0!==st&&(G.origin=st)}),pe(f,"beforeChange",f,G),f.cm&&pe(f.cm,"beforeChange",f.cm,G),G.canceled?(f.cm&&(f.cm.curOp.updateInput=2),null):{from:G.from,to:G.to,text:G.text,origin:G.origin}}function oc(f,B,H){if(f.cm){if(!f.cm.curOp)return Ls(f.cm,oc)(f,B,H);if(f.cm.state.suppressEdits)return}if(!(Nt(f,"beforeChange")||f.cm&&Nt(f.cm,"beforeChange"))||(B=rc(f,B,!0))){var G=Nr&&!H&&function va(f,B,H){var G=null;if(f.iter(B.line,H.line+1,function(Ti){if(Ti.markedSpans)for(var cn=0;cn<Ti.markedSpans.length;++cn){var In=Ti.markedSpans[cn].marker;In.readOnly&&(!G||-1==ke(G,In))&&(G||(G=[])).push(In)}}),!G)return null;for(var ee=[{from:B,to:H}],me=0;me<G.length;++me)for(var Ve=G[me],st=Ve.find(0),yt=0;yt<ee.length;++yt){var Qt=ee[yt];if(!(Ut(Qt.to,st.from)<0||Ut(Qt.from,st.to)>0)){var Ai=[yt,1],bi=Ut(Qt.from,st.from),ji=Ut(Qt.to,st.to);(bi<0||!Ve.inclusiveLeft&&!bi)&&Ai.push({from:Qt.from,to:st.from}),(ji>0||!Ve.inclusiveRight&&!ji)&&Ai.push({from:st.to,to:Qt.to}),ee.splice.apply(ee,Ai),yt+=Ai.length-3}}return ee}(f,B.from,B.to);if(G)for(var ee=G.length-1;ee>=0;--ee)ia(f,{from:G[ee].from,to:G[ee].to,text:ee?[""]:B.text,origin:B.origin});else ia(f,B)}}function ia(f,B){if(1!=B.text.length||""!=B.text[0]||0!=Ut(B.from,B.to)){var H=Nd(f,B);SA(f,B,H,f.cm?f.cm.curOp.id:NaN),Ks(f,B,H,Pr(f,B));var G=[];Lo(f,function(ee,me){!me&&-1==ke(G,ee.history)&&(Ro(ee.history,B),G.push(ee.history)),Ks(ee,B,null,Pr(ee,B))})}}function Pu(f,B,H){var G=f.cm&&f.cm.state.suppressEdits;if(!G||H){for(var me,ee=f.history,Ve=f.sel,st="undo"==B?ee.done:ee.undone,yt="undo"==B?ee.undone:ee.done,Qt=0;Qt<st.length&&(me=st[Qt],!(H?me.ranges&&!me.equals(f.sel):!me.ranges));Qt++);if(Qt!=st.length){for(ee.lastOrigin=ee.lastSelOrigin=null;;){if(!(me=st.pop()).ranges){if(G)return void st.push(me);break}if(Bl(me,yt),H&&!me.equals(f.sel))return void Ba(f,me,{clearRedo:!1});Ve=me}var Ai=[];Bl(Ve,yt),yt.push({changes:Ai,generation:ee.generation}),ee.generation=me.generation||++ee.maxGeneration;for(var bi=Nt(f,"beforeChange")||f.cm&&Nt(f.cm,"beforeChange"),ji=function(In){var On=me.changes[In];if(On.origin=B,bi&&!rc(f,On,!1))return st.length=0,{};Ai.push(pl(f,On));var er=In?Nd(f,On):pt(st);Ks(f,On,er,Ya(f,On)),!In&&f.cm&&f.cm.scrollIntoView({from:On.from,to:dA(On)});var Ar=[];Lo(f,function($n,nr){!nr&&-1==ke(Ar,$n.history)&&(Ro($n.history,On),Ar.push($n.history)),Ks($n,On,null,Ya($n,On))})},Ti=me.changes.length-1;Ti>=0;--Ti){var cn=ji(Ti);if(cn)return cn.v}}}}function vh(f,B){if(0!=B&&(f.first+=B,f.sel=new za(Ot(f.sel.ranges,function(ee){return new Mn(hi(ee.anchor.line+B,ee.anchor.ch),hi(ee.head.line+B,ee.head.ch))}),f.sel.primIndex),f.cm)){Ft(f.cm,f.first,f.first-B,B);for(var H=f.cm.display,G=H.viewFrom;G<H.viewTo;G++)yi(f.cm,G,"gutter")}}function Ks(f,B,H,G){if(f.cm&&!f.cm.curOp)return Ls(f.cm,Ks)(f,B,H,G);if(B.to.line<f.first)vh(f,B.text.length-1-(B.to.line-B.from.line));else if(!(B.from.line>f.lastLine())){if(B.from.line<f.first){var ee=B.text.length-1-(f.first-B.from.line);vh(f,ee),B={from:hi(f.first,0),to:hi(B.to.line+ee,B.to.ch),text:[pt(B.text)],origin:B.origin}}var me=f.lastLine();B.to.line>me&&(B={from:B.from,to:hi(me,Rn(f,me).text.length),text:[B.text[0]],origin:B.origin}),B.removed=Xn(f,B.from,B.to),H||(H=Nd(f,B)),f.cm?function zp(f,B,H){var G=f.doc,ee=f.display,me=B.from,Ve=B.to,st=!1,yt=me.line;f.options.lineWrapping||(yt=sr(Mt(Rn(G,me.line))),G.iter(yt,Ve.line+1,function(Ti){if(Ti==ee.maxLine)return st=!0,!0})),G.sel.contains(B.from,B.to)>-1&&at(f),hl(G,B,H,TA(f)),f.options.lineWrapping||(G.iter(yt,me.line+B.text.length,function(Ti){var cn=Hn(Ti);cn>ee.maxLineLength&&(ee.maxLine=Ti,ee.maxLineLength=cn,ee.maxLineChanged=!0,st=!1)}),st&&(f.curOp.updateMaxLine=!0)),function fr(f,B){if(f.modeFrontier=Math.min(f.modeFrontier,B),!(f.highlightFrontier<B-10)){for(var H=f.first,G=B-1;G>H;G--){var ee=Rn(f,G).stateAfter;if(ee&&(!(ee instanceof Si)||G+ee.lookAhead<B)){H=G+1;break}}f.highlightFrontier=Math.min(f.highlightFrontier,H)}}(G,me.line),vo(f,400);var Qt=B.text.length-(Ve.line-me.line)-1;B.full?Ft(f):me.line!=Ve.line||1!=B.text.length||Xh(f.doc,B)?Ft(f,me.line,Ve.line+1,Qt):yi(f,me.line,"text");var Ai=Nt(f,"changes"),bi=Nt(f,"change");if(bi||Ai){var ji={from:me,to:Ve,text:B.text,removed:B.removed,origin:B.origin};bi&&bo(f,"change",f,ji),Ai&&(f.curOp.changeObjs||(f.curOp.changeObjs=[])).push(ji)}f.display.selForContextMenu=null}(f.cm,B,G):hl(f,B,G),UA(f,H,Dt),f.cantEdit&&Qu(f,hi(f.firstLine(),0))&&(f.cantEdit=!1)}}function ac(f,B,H,G,ee){var me;G||(G=H),Ut(G,H)<0&&(H=(me=[G,H])[0],G=me[1]),"string"==typeof B&&(B=f.splitLines(B)),oc(f,{from:H,to:G,text:B,origin:ee})}function eA(f,B,H,G){H<f.line?f.line+=G:B<f.line&&(f.line=B,f.ch=0)}function pA(f,B,H,G){for(var ee=0;ee<f.length;++ee){var me=f[ee],Ve=!0;if(me.ranges){me.copied||((me=f[ee]=me.deepCopy()).copied=!0);for(var st=0;st<me.ranges.length;st++)eA(me.ranges[st].anchor,B,H,G),eA(me.ranges[st].head,B,H,G)}else{for(var yt=0;yt<me.changes.length;++yt){var Qt=me.changes[yt];if(H<Qt.from.line)Qt.from=hi(Qt.from.line+G,Qt.from.ch),Qt.to=hi(Qt.to.line+G,Qt.to.ch);else if(B<=Qt.to.line){Ve=!1;break}}Ve||(f.splice(0,ee+1),ee=0)}}}function Ro(f,B){var H=B.from.line,G=B.to.line,ee=B.text.length-(G-H)-1;pA(f.done,H,G,ee),pA(f.undone,H,G,ee)}function ne(f,B,H,G){var ee=B,me=B;return"number"==typeof B?me=Rn(f,ei(f,B)):ee=sr(B),null==ee?null:(G(me,ee)&&f.cm&&yi(f.cm,ee,H),me)}function ve(f){this.lines=f,this.parent=null;for(var B=0,H=0;H<f.length;++H)f[H].parent=this,B+=f[H].height;this.height=B}function tt(f){this.children=f;for(var B=0,H=0,G=0;G<f.length;++G){var ee=f[G];B+=ee.chunkSize(),H+=ee.height,ee.parent=this}this.size=B,this.height=H,this.parent=null}Mn.prototype.from=function(){return $t(this.anchor,this.head)},Mn.prototype.to=function(){return Vt(this.anchor,this.head)},Mn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ve.prototype={chunkSize:function(){return this.lines.length},removeInner:function(f,B){for(var H=f,G=f+B;H<G;++H){var ee=this.lines[H];this.height-=ee.height,qn(ee),bo(ee,"delete")}this.lines.splice(f,B)},collapse:function(f){f.push.apply(f,this.lines)},insertInner:function(f,B,H){this.height+=H,this.lines=this.lines.slice(0,f).concat(B).concat(this.lines.slice(f));for(var G=0;G<B.length;++G)B[G].parent=this},iterN:function(f,B,H){for(var G=f+B;f<G;++f)if(H(this.lines[f]))return!0}},tt.prototype={chunkSize:function(){return this.size},removeInner:function(f,B){this.size-=B;for(var H=0;H<this.children.length;++H){var G=this.children[H],ee=G.chunkSize();if(f<ee){var me=Math.min(B,ee-f),Ve=G.height;if(G.removeInner(f,me),this.height-=Ve-G.height,ee==me&&(this.children.splice(H--,1),G.parent=null),0==(B-=me))break;f=0}else f-=ee}if(this.size-B<25&&(this.children.length>1||!(this.children[0]instanceof ve))){var st=[];this.collapse(st),this.children=[new ve(st)],this.children[0].parent=this}},collapse:function(f){for(var B=0;B<this.children.length;++B)this.children[B].collapse(f)},insertInner:function(f,B,H){this.size+=B.length,this.height+=H;for(var G=0;G<this.children.length;++G){var ee=this.children[G],me=ee.chunkSize();if(f<=me){if(ee.insertInner(f,B,H),ee.lines&&ee.lines.length>50){for(var Ve=ee.lines.length%25+25,st=Ve;st<ee.lines.length;){var yt=new ve(ee.lines.slice(st,st+=25));ee.height-=yt.height,this.children.splice(++G,0,yt),yt.parent=this}ee.lines=ee.lines.slice(0,Ve),this.maybeSpill()}break}f-=me}},maybeSpill:function(){if(!(this.children.length<=10)){var f=this;do{var H=new tt(f.children.splice(f.children.length-5,5));if(f.parent){f.size-=H.size,f.height-=H.height;var ee=ke(f.parent.children,f);f.parent.children.splice(ee+1,0,H)}else{var G=new tt(f.children);G.parent=f,f.children=[G,H],f=G}H.parent=f.parent}while(f.children.length>10);f.parent.maybeSpill()}},iterN:function(f,B,H){for(var G=0;G<this.children.length;++G){var ee=this.children[G],me=ee.chunkSize();if(f<me){var Ve=Math.min(B,me-f);if(ee.iterN(f,Ve,H))return!0;if(0==(B-=Ve))break;f=0}else f-=me}}};var wt=function(f,B,H){if(H)for(var G in H)H.hasOwnProperty(G)&&(this[G]=H[G]);this.doc=f,this.node=B};function qt(f,B,H){Yn(B)<(f.curOp&&f.curOp.scrollTop||f.doc.scrollTop)&&Ae(f,H)}wt.prototype.clear=function(){var f=this.doc.cm,B=this.line.widgets,H=this.line,G=sr(H);if(null!=G&&B){for(var ee=0;ee<B.length;++ee)B[ee]==this&&B.splice(ee--,1);B.length||(H.widgets=null);var me=Sl(this);Lr(H,Math.max(0,H.height-me)),f&&(Jl(f,function(){qt(f,H,-me),yi(f,G,"widget")}),bo(f,"lineWidgetCleared",f,this,G))}},wt.prototype.changed=function(){var f=this,B=this.height,H=this.doc.cm,G=this.line;this.height=null;var ee=Sl(this)-B;ee&&(Yi(this.doc,G)||Lr(G,G.height+ee),H&&Jl(H,function(){H.curOp.forceUpdate=!0,qt(H,G,ee),bo(H,"lineWidgetChanged",H,f,sr(G))}))},it(wt);var hn=0,ar=function(f,B){this.lines=[],this.type=B,this.doc=f,this.id=++hn};function Ir(f,B,H,G,ee){if(G&&G.shared)return function fl(f,B,H,G,ee){(G=Te(G)).shared=!1;var me=[Ir(f,B,H,G,ee)],Ve=me[0],st=G.widgetNode;return Lo(f,function(yt){st&&(G.widgetNode=st.cloneNode(!0)),me.push(Ir(yt,Kt(yt,B),Kt(yt,H),G,ee));for(var Qt=0;Qt<yt.linked.length;++Qt)if(yt.linked[Qt].isParent)return;Ve=pt(me)}),new So(me,Ve)}(f,B,H,G,ee);if(f.cm&&!f.cm.curOp)return Ls(f.cm,Ir)(f,B,H,G,ee);var me=new ar(f,ee),Ve=Ut(B,H);if(G&&Te(G,me,!1),Ve>0||0==Ve&&!1!==me.clearWhenEmpty)return me;if(me.replacedWith&&(me.collapsed=!0,me.widgetNode=Z("span",[me.replacedWith],"CodeMirror-widget"),G.handleMouseEvents||me.widgetNode.setAttribute("cm-ignore-events","true"),G.insertLeft&&(me.widgetNode.insertLeft=!0)),me.collapsed){if(ct(f,B.line,B,H,me)||B.line!=H.line&&ct(f,H.line,B,H,me))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function Br(){wr=!0}()}me.addToHistory&&SA(f,{from:B,to:H,origin:"markText"},f.sel,NaN);var Qt,st=B.line,yt=f.cm;if(f.iter(st,H.line+1,function(bi){yt&&me.collapsed&&!yt.options.lineWrapping&&Mt(bi)==yt.display.maxLine&&(Qt=!0),me.collapsed&&st!=B.line&&Lr(bi,0),function Bo(f,B,H){var G=H&&window.WeakSet&&(H.markedSpans||(H.markedSpans=new WeakSet));G&&f.markedSpans&&G.has(f.markedSpans)?f.markedSpans.push(B):(f.markedSpans=f.markedSpans?f.markedSpans.concat([B]):[B],G&&G.add(f.markedSpans)),B.marker.attachLine(f)}(bi,new Wn(me,st==B.line?B.ch:null,st==H.line?H.ch:null),f.cm&&f.cm.curOp),++st}),me.collapsed&&f.iter(B.line,H.line+1,function(bi){Yi(f,bi)&&Lr(bi,0)}),me.clearOnEnter&&Ri(me,"beforeCursorEnter",function(){return me.clear()}),me.readOnly&&(function go(){Nr=!0}(),(f.history.done.length||f.history.undone.length)&&f.clearHistory()),me.collapsed&&(me.id=++hn,me.atomic=!0),yt){if(Qt&&(yt.curOp.updateMaxLine=!0),me.collapsed)Ft(yt,B.line,H.line+1);else if(me.className||me.startStyle||me.endStyle||me.css||me.attributes||me.title)for(var Ai=B.line;Ai<=H.line;Ai++)yi(yt,Ai,"text");me.atomic&&Zh(yt.doc),bo(yt,"markerAdded",yt,me)}return me}ar.prototype.clear=function(){if(!this.explicitlyCleared){var f=this.doc.cm,B=f&&!f.curOp;if(B&&ad(f),Nt(this,"clear")){var H=this.find();H&&bo(this,"clear",H.from,H.to)}for(var G=null,ee=null,me=0;me<this.lines.length;++me){var Ve=this.lines[me],st=Cr(Ve.markedSpans,this);f&&!this.collapsed?yi(f,sr(Ve),"text"):f&&(null!=st.to&&(ee=sr(Ve)),null!=st.from&&(G=sr(Ve))),Ve.markedSpans=xr(Ve.markedSpans,st),null==st.from&&this.collapsed&&!Yi(this.doc,Ve)&&f&&Lr(Ve,Fc(f.display))}if(f&&this.collapsed&&!f.options.lineWrapping)for(var yt=0;yt<this.lines.length;++yt){var Qt=Mt(this.lines[yt]),Ai=Hn(Qt);Ai>f.display.maxLineLength&&(f.display.maxLine=Qt,f.display.maxLineLength=Ai,f.display.maxLineChanged=!0)}null!=G&&f&&this.collapsed&&Ft(f,G,ee+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,f&&Zh(f.doc)),f&&bo(f,"markerCleared",f,this,G,ee),B&&nc(f),this.parent&&this.parent.clear()}},ar.prototype.find=function(f,B){null==f&&"bookmark"==this.type&&(f=1);for(var H,G,ee=0;ee<this.lines.length;++ee){var me=this.lines[ee],Ve=Cr(me.markedSpans,this);if(null!=Ve.from&&(H=hi(B?me:sr(me),Ve.from),-1==f))return H;if(null!=Ve.to&&(G=hi(B?me:sr(me),Ve.to),1==f))return G}return H&&{from:H,to:G}},ar.prototype.changed=function(){var f=this,B=this.find(-1,!0),H=this,G=this.doc.cm;!B||!G||Jl(G,function(){var ee=B.line,me=sr(B.line),Ve=Ql(G,me);if(Ve&&(Rl(Ve),G.curOp.selectionChanged=G.curOp.forceUpdate=!0),G.curOp.updateMaxLine=!0,!Yi(H.doc,ee)&&null!=H.height){var st=H.height;H.height=null;var yt=Sl(H)-st;yt&&Lr(ee,ee.height+yt)}bo(G,"markerChanged",G,f)})},ar.prototype.attachLine=function(f){if(!this.lines.length&&this.doc.cm){var B=this.doc.cm.curOp;(!B.maybeHiddenMarkers||-1==ke(B.maybeHiddenMarkers,this))&&(B.maybeUnhiddenMarkers||(B.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(f)},ar.prototype.detachLine=function(f){if(this.lines.splice(ke(this.lines,f),1),!this.lines.length&&this.doc.cm){var B=this.doc.cm.curOp;(B.maybeHiddenMarkers||(B.maybeHiddenMarkers=[])).push(this)}},it(ar);var So=function(f,B){this.markers=f,this.primary=B;for(var H=0;H<f.length;++H)f[H].parent=this};function Rc(f){return f.findMarks(hi(f.first,0),f.clipPos(hi(f.lastLine())),function(B){return B.parent})}function Jf(f){for(var B=function(G){var ee=f[G],me=[ee.primary.doc];Lo(ee.primary.doc,function(yt){return me.push(yt)});for(var Ve=0;Ve<ee.markers.length;Ve++){var st=ee.markers[Ve];-1==ke(me,st.doc)&&(st.parent=null,ee.markers.splice(Ve--,1))}},H=0;H<f.length;H++)B(H)}So.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var f=0;f<this.markers.length;++f)this.markers[f].clear();bo(this,"clear")}},So.prototype.find=function(f,B){return this.primary.find(f,B)},it(So);var gl=0,Pc=function(f,B,H,G,ee){if(!(this instanceof Pc))return new Pc(f,B,H,G,ee);null==H&&(H=0),tt.call(this,[new ve([new Er("",null)])]),this.first=H,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=H;var me=hi(H,0);this.sel=GA(me),this.history=new al(null),this.id=++gl,this.modeOption=B,this.lineSep=G,this.direction="rtl"==ee?"rtl":"ltr",this.extend=!1,"string"==typeof f&&(f=this.splitLines(f)),hl(this,{from:me,to:me,text:f}),Ba(this,GA(me),Dt)};Pc.prototype=Ke(tt.prototype,{constructor:Pc,iter:function(f,B,H){H?this.iterN(f-this.first,B-f,H):this.iterN(this.first,this.first+this.size,f)},insert:function(f,B){for(var H=0,G=0;G<B.length;++G)H+=B[G].height;this.insertInner(f-this.first,B,H)},remove:function(f,B){this.removeInner(f-this.first,B)},getValue:function(f){var B=ao(this,this.first,this.first+this.size);return!1===f?B:B.join(f||this.lineSeparator())},setValue:fn(function(f){var B=hi(this.first,0),H=this.first+this.size-1;oc(this,{from:B,to:hi(H,Rn(this,H).text.length),text:this.splitLines(f),origin:"setValue",full:!0},!0),this.cm&&vt(this.cm,0,0),Ba(this,GA(B),Dt)}),replaceRange:function(f,B,H,G){ac(this,f,B=Kt(this,B),H=H?Kt(this,H):B,G)},getRange:function(f,B,H){var G=Xn(this,Kt(this,f),Kt(this,B));return!1===H?G:G.join(""===H?"":H||this.lineSeparator())},getLine:function(f){var B=this.getLineHandle(f);return B&&B.text},getLineHandle:function(f){if(Gt(this,f))return Rn(this,f)},getLineNumber:function(f){return sr(f)},getLineHandleVisualStart:function(f){return"number"==typeof f&&(f=Rn(this,f)),Mt(f)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f){return Kt(this,f)},getCursor:function(f){var B=this.sel.primary();return null==f||"head"==f?B.head:"anchor"==f?B.anchor:"end"==f||"to"==f||!1===f?B.to():B.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:fn(function(f,B,H){Ha(this,Kt(this,"number"==typeof f?hi(f,B||0):f),null,H)}),setSelection:fn(function(f,B,H){Ha(this,Kt(this,f),Kt(this,B||f),H)}),extendSelection:fn(function(f,B,H){Na(this,Kt(this,f),B&&Kt(this,B),H)}),extendSelections:fn(function(f,B){Ml(this,oi(this,f),B)}),extendSelectionsBy:fn(function(f,B){Ml(this,oi(this,Ot(this.sel.ranges,f)),B)}),setSelections:fn(function(f,B,H){if(f.length){for(var G=[],ee=0;ee<f.length;ee++)G[ee]=new Mn(Kt(this,f[ee].anchor),Kt(this,f[ee].head||f[ee].anchor));null==B&&(B=Math.min(f.length-1,this.sel.primIndex)),Ba(this,AA(this.cm,G,B),H)}}),addSelection:fn(function(f,B,H){var G=this.sel.ranges.slice(0);G.push(new Mn(Kt(this,f),Kt(this,B||f))),Ba(this,AA(this.cm,G,G.length-1),H)}),getSelection:function(f){for(var H,B=this.sel.ranges,G=0;G<B.length;G++){var ee=Xn(this,B[G].from(),B[G].to());H=H?H.concat(ee):ee}return!1===f?H:H.join(f||this.lineSeparator())},getSelections:function(f){for(var B=[],H=this.sel.ranges,G=0;G<H.length;G++){var ee=Xn(this,H[G].from(),H[G].to());!1!==f&&(ee=ee.join(f||this.lineSeparator())),B[G]=ee}return B},replaceSelection:function(f,B,H){for(var G=[],ee=0;ee<this.sel.ranges.length;ee++)G[ee]=f;this.replaceSelections(G,B,H||"+input")},replaceSelections:fn(function(f,B,H){for(var G=[],ee=this.sel,me=0;me<ee.ranges.length;me++){var Ve=ee.ranges[me];G[me]={from:Ve.from(),to:Ve.to(),text:this.splitLines(f[me]),origin:H}}for(var st=B&&"end"!=B&&function mh(f,B,H){for(var G=[],ee=hi(f.first,0),me=ee,Ve=0;Ve<B.length;Ve++){var st=B[Ve],yt=gh(st.from,ee,me),Qt=gh(dA(st),ee,me);if(ee=st.to,me=Qt,"around"==H){var Ai=f.sel.ranges[Ve],bi=Ut(Ai.head,Ai.anchor)<0;G[Ve]=new Mn(bi?Qt:yt,bi?yt:Qt)}else G[Ve]=new Mn(yt,yt)}return new za(G,f.sel.primIndex)}(this,G,B),yt=G.length-1;yt>=0;yt--)oc(this,G[yt]);st?Su(this,st):this.cm&&Le(this.cm)}),undo:fn(function(){Pu(this,"undo")}),redo:fn(function(){Pu(this,"redo")}),undoSelection:fn(function(){Pu(this,"undo",!0)}),redoSelection:fn(function(){Pu(this,"redo",!0)}),setExtending:function(f){this.extend=f},getExtending:function(){return this.extend},historySize:function(){for(var f=this.history,B=0,H=0,G=0;G<f.done.length;G++)f.done[G].ranges||++B;for(var ee=0;ee<f.undone.length;ee++)f.undone[ee].ranges||++H;return{undo:B,redo:H}},clearHistory:function(){var f=this;this.history=new al(this.history),Lo(this,function(B){return B.history=f.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(f){return f&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(f){return this.history.generation==(f||this.cleanGeneration)},getHistory:function(){return{done:mc(this.history.done),undone:mc(this.history.undone)}},setHistory:function(f){var B=this.history=new al(this.history);B.done=mc(f.done.slice(0),null,!0),B.undone=mc(f.undone.slice(0),null,!0)},setGutterMarker:fn(function(f,B,H){return ne(this,f,"gutter",function(G){var ee=G.gutterMarkers||(G.gutterMarkers={});return ee[B]=H,!H&&xt(ee)&&(G.gutterMarkers=null),!0})}),clearGutter:fn(function(f){var B=this;this.iter(function(H){H.gutterMarkers&&H.gutterMarkers[f]&&ne(B,H,"gutter",function(){return H.gutterMarkers[f]=null,xt(H.gutterMarkers)&&(H.gutterMarkers=null),!0})})}),lineInfo:function(f){var B;if("number"==typeof f){if(!(Gt(this,f)&&(B=f,f=Rn(this,f))))return null}else if(null==(B=sr(f)))return null;return{line:B,handle:f,text:f.text,gutterMarkers:f.gutterMarkers,textClass:f.textClass,bgClass:f.bgClass,wrapClass:f.wrapClass,widgets:f.widgets}},addLineClass:fn(function(f,B,H){return ne(this,f,"gutter"==B?"gutter":"class",function(G){var ee="text"==B?"textClass":"background"==B?"bgClass":"gutter"==B?"gutterClass":"wrapClass";if(G[ee]){if(Y(H).test(G[ee]))return!1;G[ee]+=" "+H}else G[ee]=H;return!0})}),removeLineClass:fn(function(f,B,H){return ne(this,f,"gutter"==B?"gutter":"class",function(G){var ee="text"==B?"textClass":"background"==B?"bgClass":"gutter"==B?"gutterClass":"wrapClass",me=G[ee];if(!me)return!1;if(null==H)G[ee]=null;else{var Ve=me.match(Y(H));if(!Ve)return!1;var st=Ve.index+Ve[0].length;G[ee]=me.slice(0,Ve.index)+(Ve.index&&st!=me.length?" ":"")+me.slice(st)||null}return!0})}),addLineWidget:fn(function(f,B,H){return function Qi(f,B,H,G){var ee=new wt(f,H,G),me=f.cm;return me&&ee.noHScroll&&(me.display.alignWidgets=!0),ne(f,B,"widget",function(Ve){var st=Ve.widgets||(Ve.widgets=[]);if(null==ee.insertAt?st.push(ee):st.splice(Math.min(st.length,Math.max(0,ee.insertAt)),0,ee),ee.line=Ve,me&&!Yi(f,Ve)){var yt=Yn(Ve)<f.scrollTop;Lr(Ve,Ve.height+Sl(ee)),yt&&Ae(me,ee.height),me.curOp.forceUpdate=!0}return!0}),me&&bo(me,"lineWidgetAdded",me,ee,"number"==typeof B?B:sr(B)),ee}(this,f,B,H)}),removeLineWidget:function(f){f.clear()},markText:function(f,B,H){return Ir(this,Kt(this,f),Kt(this,B),H,H&&H.type||"range")},setBookmark:function(f,B){var H={replacedWith:B&&(null==B.nodeType?B.widget:B),insertLeft:B&&B.insertLeft,clearWhenEmpty:!1,shared:B&&B.shared,handleMouseEvents:B&&B.handleMouseEvents};return Ir(this,f=Kt(this,f),f,H,"bookmark")},findMarksAt:function(f){var B=[],H=Rn(this,(f=Kt(this,f)).line).markedSpans;if(H)for(var G=0;G<H.length;++G){var ee=H[G];(null==ee.from||ee.from<=f.ch)&&(null==ee.to||ee.to>=f.ch)&&B.push(ee.marker.parent||ee.marker)}return B},findMarks:function(f,B,H){f=Kt(this,f),B=Kt(this,B);var G=[],ee=f.line;return this.iter(f.line,B.line+1,function(me){var Ve=me.markedSpans;if(Ve)for(var st=0;st<Ve.length;st++){var yt=Ve[st];!(null!=yt.to&&ee==f.line&&f.ch>=yt.to||null==yt.from&&ee!=f.line||null!=yt.from&&ee==B.line&&yt.from>=B.ch)&&(!H||H(yt.marker))&&G.push(yt.marker.parent||yt.marker)}++ee}),G},getAllMarks:function(){var f=[];return this.iter(function(B){var H=B.markedSpans;if(H)for(var G=0;G<H.length;++G)null!=H[G].from&&f.push(H[G].marker)}),f},posFromIndex:function(f){var B,H=this.first,G=this.lineSeparator().length;return this.iter(function(ee){var me=ee.text.length+G;if(me>f)return B=f,!0;f-=me,++H}),Kt(this,hi(H,B))},indexFromPos:function(f){var B=(f=Kt(this,f)).ch;if(f.line<this.first||f.ch<0)return 0;var H=this.lineSeparator().length;return this.iter(this.first,f.line,function(G){B+=G.text.length+H}),B},copy:function(f){var B=new Pc(ao(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return B.scrollTop=this.scrollTop,B.scrollLeft=this.scrollLeft,B.sel=this.sel,B.extend=!1,f&&(B.history.undoDepth=this.history.undoDepth,B.setHistory(this.getHistory())),B},linkedDoc:function(f){f||(f={});var B=this.first,H=this.first+this.size;null!=f.from&&f.from>B&&(B=f.from),null!=f.to&&f.to<H&&(H=f.to);var G=new Pc(ao(this,B,H),f.mode||this.modeOption,B,this.lineSep,this.direction);return f.sharedHist&&(G.history=this.history),(this.linked||(this.linked=[])).push({doc:G,sharedHist:f.sharedHist}),G.linked=[{doc:this,isParent:!0,sharedHist:f.sharedHist}],function vc(f,B){for(var H=0;H<B.length;H++){var G=B[H],ee=G.find(),me=f.clipPos(ee.from),Ve=f.clipPos(ee.to);if(Ut(me,Ve)){var st=Ir(f,me,Ve,G.primary,G.primary.type);G.markers.push(st),st.parent=G}}}(G,Rc(this)),G},unlinkDoc:function(f){if(f instanceof Es&&(f=f.doc),this.linked)for(var B=0;B<this.linked.length;++B)if(this.linked[B].doc==f){this.linked.splice(B,1),f.unlinkDoc(this),Jf(Rc(this));break}if(f.history==this.history){var G=[f.id];Lo(f,function(ee){return G.push(ee.id)},!0),f.history=new al(null),f.history.done=mc(this.history.done,G),f.history.undone=mc(this.history.undone,G)}},iterLinkedDocs:function(f){Lo(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(f){return this.lineSep?f.split(this.lineSep):un(f)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:fn(function(f){"rtl"!=f&&(f="ltr"),f!=this.direction&&(this.direction=f,this.iter(function(B){return B.order=null}),this.cm&&function uA(f){Jl(f,function(){Ea(f),Ft(f)})}(this.cm))})}),Pc.prototype.eachLine=Pc.prototype.iter;var hu=0;function Hp(f){var B=this;if($h(B),!Fe(B,f)&&!Dc(B.display,f)){Ht(f),l&&(hu=+new Date);var H=jt(B,f,!0),G=f.dataTransfer.files;if(H&&!B.isReadOnly())if(G&&G.length&&window.FileReader&&window.File)for(var ee=G.length,me=Array(ee),Ve=0,st=function(){++Ve==ee&&Ls(B,function(){var Ti={from:H=Kt(B.doc,H),to:H,text:B.doc.splitLines(me.filter(function(cn){return null!=cn}).join(B.doc.lineSeparator())),origin:"paste"};oc(B.doc,Ti),Su(B.doc,GA(Kt(B.doc,H),Kt(B.doc,dA(Ti))))})()},yt=function(Ti,cn){if(B.options.allowDropFileTypes&&-1==ke(B.options.allowDropFileTypes,Ti.type))st();else{var In=new FileReader;In.onerror=function(){return st()},In.onload=function(){var On=In.result;/[\x00-\x08\x0e-\x1f]{2}/.test(On)||(me[cn]=On),st()},In.readAsText(Ti)}},Qt=0;Qt<G.length;Qt++)yt(G[Qt],Qt);else{if(B.state.draggingText&&B.doc.sel.contains(H)>-1)return B.state.draggingText(f),void setTimeout(function(){return B.display.input.focus()},20);try{var Ai=f.dataTransfer.getData("Text");if(Ai){var bi;if(B.state.draggingText&&!B.state.draggingText.copy&&(bi=B.listSelections()),UA(B.doc,GA(H,H)),bi)for(var ji=0;ji<bi.length;++ji)ac(B.doc,"",bi[ji].anchor,bi[ji].head,"drag");B.replaceSelection(Ai,"around","paste"),B.display.input.focus()}}catch{}}}}function $h(f){f.display.dragCursor&&(f.display.lineSpace.removeChild(f.display.dragCursor),f.display.dragCursor=null)}function pu(f){if(document.getElementsByClassName){for(var B=document.getElementsByClassName("CodeMirror"),H=[],G=0;G<B.length;G++){var ee=B[G].CodeMirror;ee&&H.push(ee)}H.length&&H[0].operation(function(){for(var me=0;me<H.length;me++)f(H[me])})}}var fu=!1;function pd(){fu||(function Uo(){var f;Ri(window,"resize",function(){null==f&&(f=setTimeout(function(){f=null,pu(Zr)},100))}),Ri(window,"blur",function(){return pu(bs)})}(),fu=!0)}function Zr(f){var B=f.display;B.cachedCharWidth=B.cachedTextHeight=B.cachedPaddingH=null,B.scrollbarsClipped=!1,f.setSize()}for(var tA={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},_h=0;_h<10;_h++)tA[_h+48]=tA[_h+96]=String(_h);for(var jd=65;jd<=90;jd++)tA[jd]=String.fromCharCode(jd);for(var Ou=1;Ou<=12;Ou++)tA[Ou+111]=tA[Ou+63235]="F"+Ou;var fA={};function K0(f){var B=f.split(/-(?!$)/);f=B[B.length-1];for(var H,G,ee,me,Ve=0;Ve<B.length-1;Ve++){var st=B[Ve];if(/^(cmd|meta|m)$/i.test(st))me=!0;else if(/^a(lt)?$/i.test(st))H=!0;else if(/^(c|ctrl|control)$/i.test(st))G=!0;else{if(!/^s(hift)?$/i.test(st))throw new Error("Unrecognized modifier name: "+st);ee=!0}}return H&&(f="Alt-"+f),G&&(f="Ctrl-"+f),me&&(f="Cmd-"+f),ee&&(f="Shift-"+f),f}function X0(f){var B={};for(var H in f)if(f.hasOwnProperty(H)){var G=f[H];if(/^(name|fallthrough|(de|at)tach)$/.test(H))continue;if("..."==G){delete f[H];continue}for(var ee=Ot(H.split(" "),K0),me=0;me<ee.length;me++){var Ve=void 0,st=void 0;me==ee.length-1?(st=ee.join(" "),Ve=G):(st=ee.slice(0,me+1).join(" "),Ve="...");var yt=B[st];if(yt){if(yt!=Ve)throw new Error("Inconsistent bindings for "+st)}else B[st]=Ve}delete f[H]}for(var Qt in B)f[Qt]=B[Qt];return f}function qh(f,B,H,G){var ee=(B=fd(B)).call?B.call(f,G):B[f];if(!1===ee)return"nothing";if("..."===ee)return"multi";if(null!=ee&&H(ee))return"handled";if(B.fallthrough){if("[object Array]"!=Object.prototype.toString.call(B.fallthrough))return qh(f,B.fallthrough,H,G);for(var me=0;me<B.fallthrough.length;me++){var Ve=qh(f,B.fallthrough[me],H,G);if(Ve)return Ve}}}function xl(f){var B="string"==typeof f?f:tA[f.keyCode];return"Ctrl"==B||"Alt"==B||"Shift"==B||"Mod"==B}function Gd(f,B,H){var G=f;return B.altKey&&"Alt"!=G&&(f="Alt-"+f),(W?B.metaKey:B.ctrlKey)&&"Ctrl"!=G&&(f="Ctrl-"+f),(W?B.ctrlKey:B.metaKey)&&"Mod"!=G&&(f="Cmd-"+f),!H&&B.shiftKey&&"Shift"!=G&&(f="Shift-"+f),f}function Kf(f,B){if(y&&34==f.keyCode&&f.char)return!1;var H=tA[f.keyCode];return null!=H&&!f.altGraphKey&&(3==f.keyCode&&f.code&&(H=f.code),Gd(H,f,B))}function fd(f){return"string"==typeof f?fA[f]:f}function ds(f,B){for(var H=f.doc.sel.ranges,G=[],ee=0;ee<H.length;ee++){for(var me=B(H[ee]);G.length&&Ut(me.from,pt(G).to)<=0;){var Ve=G.pop();if(Ut(Ve.from,me.from)<0){me.from=Ve.from;break}}G.push(me)}Jl(f,function(){for(var st=G.length-1;st>=0;st--)ac(f.doc,"",G[st].from,G[st].to,"+delete");Le(f)})}function gd(f,B,H){var G=Ze(f.text,B+H,H);return G<0||G>f.text.length?null:G}function sc(f,B,H){var G=gd(f,B.ch,H);return null==G?null:new hi(B.line,G,H<0?"after":"before")}function gA(f,B,H,G,ee){if(f){"rtl"==B.doc.direction&&(ee=-ee);var me=fi(H,B.doc.direction);if(me){var Qt,Ve=ee<0?pt(me):me[0],yt=ee<0==(1==Ve.level)?"after":"before";if(Ve.level>0||"rtl"==B.doc.direction){var Ai=nl(B,H),bi=ta(B,Ai,Qt=ee<0?H.text.length-1:0).top;Qt=ut(function(ji){return ta(B,Ai,ji).top==bi},ee<0==(1==Ve.level)?Ve.from:Ve.to-1,Qt),"before"==yt&&(Qt=gd(H,Qt,1))}else Qt=ee<0?Ve.to:Ve.from;return new hi(G,Qt,yt)}}return new hi(G,ee<0?H.text.length:0,ee<0?"before":"after")}fA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},fA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fA.default=A?fA.macDefault:fA.pcDefault;var zA={selectAll:Ru,singleSelection:function(f){return f.setSelection(f.getCursor("anchor"),f.getCursor("head"),Dt)},killLine:function(f){return ds(f,function(B){if(B.empty()){var H=Rn(f.doc,B.head.line).text.length;return B.head.ch==H&&B.head.line<f.lastLine()?{from:B.head,to:hi(B.head.line+1,0)}:{from:B.head,to:hi(B.head.line,H)}}return{from:B.from(),to:B.to()}})},deleteLine:function(f){return ds(f,function(B){return{from:hi(B.from().line,0),to:Kt(f.doc,hi(B.to().line+1,0))}})},delLineLeft:function(f){return ds(f,function(B){return{from:hi(B.from().line,0),to:B.from()}})},delWrappedLineLeft:function(f){return ds(f,function(B){var H=f.charCoords(B.head,"div").top+5;return{from:f.coordsChar({left:0,top:H},"div"),to:B.from()}})},delWrappedLineRight:function(f){return ds(f,function(B){var H=f.charCoords(B.head,"div").top+5,G=f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:H},"div");return{from:B.from(),to:G}})},undo:function(f){return f.undo()},redo:function(f){return f.redo()},undoSelection:function(f){return f.undoSelection()},redoSelection:function(f){return f.redoSelection()},goDocStart:function(f){return f.extendSelection(hi(f.firstLine(),0))},goDocEnd:function(f){return f.extendSelection(hi(f.lastLine()))},goLineStart:function(f){return f.extendSelectionsBy(function(B){return Vp(f,B.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f){return f.extendSelectionsBy(function(B){return md(f,B.head)},{origin:"+move",bias:1})},goLineEnd:function(f){return f.extendSelectionsBy(function(B){return function ep(f,B){var H=Rn(f.doc,B),G=function li(f){for(var B;B=Oe(f);)f=B.find(1,!0).line;return f}(H);return G!=H&&(B=sr(G)),gA(!0,f,H,B,-1)}(f,B.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f){return f.extendSelectionsBy(function(B){var H=f.cursorCoords(B.head,"div").top+5;return f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:H},"div")},je)},goLineLeft:function(f){return f.extendSelectionsBy(function(B){var H=f.cursorCoords(B.head,"div").top+5;return f.coordsChar({left:0,top:H},"div")},je)},goLineLeftSmart:function(f){return f.extendSelectionsBy(function(B){var H=f.cursorCoords(B.head,"div").top+5,G=f.coordsChar({left:0,top:H},"div");return G.ch<f.getLine(G.line).search(/\S/)?md(f,B.head):G},je)},goLineUp:function(f){return f.moveV(-1,"line")},goLineDown:function(f){return f.moveV(1,"line")},goPageUp:function(f){return f.moveV(-1,"page")},goPageDown:function(f){return f.moveV(1,"page")},goCharLeft:function(f){return f.moveH(-1,"char")},goCharRight:function(f){return f.moveH(1,"char")},goColumnLeft:function(f){return f.moveH(-1,"column")},goColumnRight:function(f){return f.moveH(1,"column")},goWordLeft:function(f){return f.moveH(-1,"word")},goGroupRight:function(f){return f.moveH(1,"group")},goGroupLeft:function(f){return f.moveH(-1,"group")},goWordRight:function(f){return f.moveH(1,"word")},delCharBefore:function(f){return f.deleteH(-1,"codepoint")},delCharAfter:function(f){return f.deleteH(1,"char")},delWordBefore:function(f){return f.deleteH(-1,"word")},delWordAfter:function(f){return f.deleteH(1,"word")},delGroupBefore:function(f){return f.deleteH(-1,"group")},delGroupAfter:function(f){return f.deleteH(1,"group")},indentAuto:function(f){return f.indentSelection("smart")},indentMore:function(f){return f.indentSelection("add")},indentLess:function(f){return f.indentSelection("subtract")},insertTab:function(f){return f.replaceSelection("\t")},insertSoftTab:function(f){for(var B=[],H=f.listSelections(),G=f.options.tabSize,ee=0;ee<H.length;ee++){var me=H[ee].from(),Ve=se(f.getLine(me.line),me.ch,G);B.push(Je(G-Ve%G))}f.replaceSelections(B)},defaultTab:function(f){f.somethingSelected()?f.indentSelection("add"):f.execCommand("insertTab")},transposeChars:function(f){return Jl(f,function(){for(var B=f.listSelections(),H=[],G=0;G<B.length;G++)if(B[G].empty()){var ee=B[G].head,me=Rn(f.doc,ee.line).text;if(me)if(ee.ch==me.length&&(ee=new hi(ee.line,ee.ch-1)),ee.ch>0)ee=new hi(ee.line,ee.ch+1),f.replaceRange(me.charAt(ee.ch-1)+me.charAt(ee.ch-2),hi(ee.line,ee.ch-2),ee,"+transpose");else if(ee.line>f.doc.first){var Ve=Rn(f.doc,ee.line-1).text;Ve&&(ee=new hi(ee.line,1),f.replaceRange(me.charAt(0)+f.doc.lineSeparator()+Ve.charAt(Ve.length-1),hi(ee.line-1,Ve.length-1),ee,"+transpose"))}H.push(new Mn(ee,ee))}f.setSelections(H)})},newlineAndIndent:function(f){return Jl(f,function(){for(var B=f.listSelections(),H=B.length-1;H>=0;H--)f.replaceRange(f.doc.lineSeparator(),B[H].anchor,B[H].head,"+input");B=f.listSelections();for(var G=0;G<B.length;G++)f.indentLine(B[G].from().line,null,!0);Le(f)})},openLine:function(f){return f.replaceSelection("\n","start")},toggleOverwrite:function(f){return f.toggleOverwrite()}};function Vp(f,B){var H=Rn(f.doc,B),G=Mt(H);return G!=H&&(B=sr(G)),gA(!0,f,G,B,1)}function md(f,B){var H=Vp(f,B.line),G=Rn(f.doc,H.line),ee=fi(G,f.doc.direction);if(!ee||0==ee[0].level){var me=Math.max(H.ch,G.text.search(/\S/));return hi(H.line,B.line==H.line&&B.ch<=me&&B.ch?0:me,H.sticky)}return H}function tp(f,B,H){if("string"==typeof B&&!(B=zA[B]))return!1;f.display.input.ensurePolled();var G=f.display.shift,ee=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),H&&(f.display.shift=!1),ee=B(f)!=_t}finally{f.display.shift=G,f.state.suppressEdits=!1}return ee}var Z0=new we;function ip(f,B,H,G){var ee=f.state.keySeq;if(ee){if(xl(B))return"handled";if(/\'$/.test(B)?f.state.keySeq=null:Z0.set(50,function(){f.state.keySeq==ee&&(f.state.keySeq=null,f.display.input.reset())}),Kr(f,ee+" "+B,H,G))return!0}return Kr(f,B,H,G)}function Kr(f,B,H,G){var ee=function ym(f,B,H){for(var G=0;G<f.state.keyMaps.length;G++){var ee=qh(B,f.state.keyMaps[G],H,f);if(ee)return ee}return f.options.extraKeys&&qh(B,f.options.extraKeys,H,f)||qh(B,f.options.keyMap,H,f)}(f,B,G);return"multi"==ee&&(f.state.keySeq=B),"handled"==ee&&bo(f,"keyHandled",f,B,H),("handled"==ee||"multi"==ee)&&(Ht(H),is(f)),!!ee}function Cs(f,B){var H=Kf(B,!0);return!!H&&(B.shiftKey&&!f.state.keySeq?ip(f,"Shift-"+H,B,function(G){return tp(f,G,!0)})||ip(f,H,B,function(G){if("string"==typeof G?/^go[A-Z]/.test(G):G.motion)return tp(f,G)}):ip(f,H,B,function(G){return tp(f,G)}))}var Jp=null;function yh(f){var B=this;if(!(f.target&&f.target!=B.display.input.getField()||(B.curOp.focus=re(ue(B)),Fe(B,f)))){l&&_<11&&27==f.keyCode&&(f.returnValue=!1);var H=f.keyCode;B.display.shift=16==H||f.shiftKey;var G=Cs(B,f);y&&(Jp=G?H:null,!G&&88==H&&!mn&&(A?f.metaKey:f.ctrlKey)&&B.replaceSelection("",null,"cut")),N&&!A&&!G&&46==H&&f.shiftKey&&!f.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==H&&!/\bCodeMirror-crosshair\b/.test(B.display.lineDiv.className)&&function Wp(f){var B=f.display.lineDiv;function H(G){(18==G.keyCode||!G.altKey)&&(U(B,"CodeMirror-crosshair"),lt(document,"keyup",H),lt(document,"mouseover",H))}Se(B,"CodeMirror-crosshair"),Ri(document,"keyup",H),Ri(document,"mouseover",H)}(B)}}function Kp(f){16==f.keyCode&&(this.doc.sel.shift=!1),Fe(this,f)}function bh(f){var B=this;if(!(f.target&&f.target!=B.display.input.getField()||Dc(B.display,f)||Fe(B,f)||f.ctrlKey&&!f.altKey||A&&f.metaKey)){var H=f.keyCode,G=f.charCode;if(y&&H==Jp)return Jp=null,void Ht(f);if(!y||f.which&&!(f.which<10)||!Cs(B,f)){var ee=String.fromCharCode(G??H);"\b"!=ee&&(function Ud(f,B,H){return ip(f,"'"+H+"'",B,function(G){return tp(f,G,!0)})}(B,f,ee)||B.display.input.onKeyPress(f))}}}var Yu,zd,Lu=function(f,B,H){this.time=f,this.pos=B,this.button=H};function Zf(f){var B=this,H=B.display;if(!(Fe(B,f)||H.activeTouch&&H.input.supportsTouch())){if(H.input.ensurePolled(),H.shift=f.shiftKey,Dc(H,f))return void(p||(H.scroller.draggable=!1,setTimeout(function(){return H.scroller.draggable=!0},100)));if(!eg(B,f)){var G=jt(B,f),ee=Xe(f),me=G?function Va(f,B){var H=+new Date;return zd&&zd.compare(H,f,B)?(Yu=zd=null,"triple"):Yu&&Yu.compare(H,f,B)?(zd=new Lu(H,f,B),Yu=null,"double"):(Yu=new Lu(H,f,B),zd=null,"single")}(G,ee):"single";fe(B).focus(),1==ee&&B.state.selectingText&&B.state.selectingText(f),(!G||!function vd(f,B,H,G,ee){var me="Click";return"double"==G?me="Double"+me:"triple"==G&&(me="Triple"+me),ip(f,Gd(me=(1==B?"Left":2==B?"Middle":"Right")+me,ee),ee,function(Ve){if("string"==typeof Ve&&(Ve=zA[Ve]),!Ve)return!1;var st=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),st=Ve(f,H)!=_t}finally{f.state.suppressEdits=!1}return st})}(B,ee,G,me,f))&&(1==ee?G?function Xp(f,B,H,G){l?setTimeout(ge(ic,f),0):f.curOp.focus=re(ue(f));var Ve,ee=function $f(f,B,H){var G=f.getOption("configureMouse"),ee=G?G(f,B,H):{};return null==ee.unit&&(ee.unit=(S?H.shiftKey&&H.metaKey:H.altKey)?"rectangle":"single"==B?"char":"double"==B?"word":"line"),(null==ee.extend||f.doc.extend)&&(ee.extend=f.doc.extend||H.shiftKey),null==ee.addNew&&(ee.addNew=A?H.metaKey:H.ctrlKey),null==ee.moveOnDrag&&(ee.moveOnDrag=!(A?H.altKey:H.ctrlKey)),ee}(f,H,G),me=f.doc.sel;f.options.dragDrop&&bt&&!f.isReadOnly()&&"single"==H&&(Ve=me.contains(B))>-1&&(Ut((Ve=me.ranges[Ve]).from(),B)<0||B.xRel>0)&&(Ut(Ve.to(),B)>0||B.xRel<0)?function $0(f,B,H,G){var ee=f.display,me=!1,Ve=Ls(f,function(Qt){p&&(ee.scroller.draggable=!1),f.state.draggingText=!1,f.state.delayingBlurEvent&&(f.hasFocus()?f.state.delayingBlurEvent=!1:Pl(f)),lt(ee.wrapper.ownerDocument,"mouseup",Ve),lt(ee.wrapper.ownerDocument,"mousemove",st),lt(ee.scroller,"dragstart",yt),lt(ee.scroller,"drop",Ve),me||(Ht(Qt),G.addNew||Na(f.doc,H,null,null,G.extend),p&&!b||l&&9==_?setTimeout(function(){ee.wrapper.ownerDocument.body.focus({preventScroll:!0}),ee.input.focus()},20):ee.input.focus())}),st=function(Qt){me=me||Math.abs(B.clientX-Qt.clientX)+Math.abs(B.clientY-Qt.clientY)>=10},yt=function(){return me=!0};p&&(ee.scroller.draggable=!0),f.state.draggingText=Ve,Ve.copy=!G.moveOnDrag,Ri(ee.wrapper.ownerDocument,"mouseup",Ve),Ri(ee.wrapper.ownerDocument,"mousemove",st),Ri(ee.scroller,"dragstart",yt),Ri(ee.scroller,"drop",Ve),f.state.delayingBlurEvent=!0,setTimeout(function(){return ee.input.focus()},20),ee.scroller.dragDrop&&ee.scroller.dragDrop()}(f,G,B,ee):function qf(f,B,H,G){l&&Pl(f);var ee=f.display,me=f.doc;Ht(B);var Ve,st,yt=me.sel,Qt=yt.ranges;if(G.addNew&&!G.extend?(st=me.sel.contains(H),Ve=st>-1?Qt[st]:new Mn(H,H)):(Ve=me.sel.primary(),st=me.sel.primIndex),"rectangle"==G.unit)G.addNew||(Ve=new Mn(H,H)),H=jt(f,B,!0,!0),st=-1;else{var Ai=Nu(f,H,G.unit);Ve=G.extend?dd(Ve,Ai.anchor,Ai.head,G.extend):Ai}G.addNew?-1==st?(st=Qt.length,Ba(me,AA(f,Qt.concat([Ve]),st),{scroll:!1,origin:"*mouse"})):Qt.length>1&&Qt[st].empty()&&"char"==G.unit&&!G.extend?(Ba(me,AA(f,Qt.slice(0,st).concat(Qt.slice(st+1)),0),{scroll:!1,origin:"*mouse"}),yt=me.sel):ud(me,st,Ve,ni):(st=0,Ba(me,new za([Ve],0),ni),yt=me.sel);var bi=H;function ji($n){if(0!=Ut(bi,$n))if(bi=$n,"rectangle"==G.unit){for(var nr=[],Sr=f.options.tabSize,Qr=se(Rn(me,H.line).text,H.ch,Sr),Po=se(Rn(me,$n.line).text,$n.ch,Sr),fa=Math.min(Qr,Po),ll=Math.max(Qr,Po),hs=Math.min(H.line,$n.line),Zl=Math.min(f.lastLine(),Math.max(H.line,$n.line));hs<=Zl;hs++){var lc=Rn(me,hs).text,ps=_e(lc,fa,Sr);fa==ll?nr.push(new Mn(hi(hs,ps),hi(hs,ps))):lc.length>ps&&nr.push(new Mn(hi(hs,ps),hi(hs,_e(lc,ll,Sr))))}nr.length||nr.push(new Mn(H,H)),Ba(me,AA(f,yt.ranges.slice(0,st).concat(nr),st),{origin:"*mouse",scroll:!1}),f.scrollIntoView($n)}else{var Ys,$l=Ve,ls=Nu(f,$n,G.unit),Xs=$l.anchor;Ut(ls.anchor,Xs)>0?(Ys=ls.head,Xs=$t($l.from(),ls.anchor)):(Ys=ls.anchor,Xs=Vt($l.to(),ls.head));var Ns=yt.ranges.slice(0);Ns[st]=function wh(f,B){var H=B.anchor,G=B.head,ee=Rn(f.doc,H.line);if(0==Ut(H,G)&&H.sticky==G.sticky)return B;var me=fi(ee);if(!me)return B;var Ve=et(me,H.ch,H.sticky),st=me[Ve];if(st.from!=H.ch&&st.to!=H.ch)return B;var Qt,yt=Ve+(st.from==H.ch==(1!=st.level)?0:1);if(0==yt||yt==me.length)return B;if(G.line!=H.line)Qt=(G.line-H.line)*("ltr"==f.doc.direction?1:-1)>0;else{var Ai=et(me,G.ch,G.sticky),bi=Ai-Ve||(G.ch-H.ch)*(1==st.level?-1:1);Qt=Ai==yt-1||Ai==yt?bi<0:bi>0}var ji=me[yt+(Qt?-1:0)],Ti=Qt==(1==ji.level),cn=Ti?ji.from:ji.to,In=Ti?"after":"before";return H.ch==cn&&H.sticky==In?B:new Mn(new hi(H.line,cn,In),G)}(f,new Mn(Kt(me,Xs),Ys)),Ba(me,AA(f,Ns,st),ni)}}var Ti=ee.wrapper.getBoundingClientRect(),cn=0;function In($n){var nr=++cn,Sr=jt(f,$n,!0,"rectangle"==G.unit);if(Sr)if(0!=Ut(Sr,bi)){f.curOp.focus=re(ue(f)),ji(Sr);var Qr=Cl(ee,me);(Sr.line>=Qr.to||Sr.line<Qr.from)&&setTimeout(Ls(f,function(){cn==nr&&In($n)}),150)}else{var Po=$n.clientY<Ti.top?-20:$n.clientY>Ti.bottom?20:0;Po&&setTimeout(Ls(f,function(){cn==nr&&(ee.scroller.scrollTop+=Po,In($n))}),50)}}function On($n){f.state.selectingText=!1,cn=1/0,$n&&(Ht($n),ee.input.focus()),lt(ee.wrapper.ownerDocument,"mousemove",er),lt(ee.wrapper.ownerDocument,"mouseup",Ar),me.history.lastSelOrigin=null}var er=Ls(f,function($n){0!==$n.buttons&&Xe($n)?In($n):On($n)}),Ar=Ls(f,On);f.state.selectingText=Ar,Ri(ee.wrapper.ownerDocument,"mousemove",er),Ri(ee.wrapper.ownerDocument,"mouseup",Ar)}(f,G,B,ee)}(B,G,me,f):Jt(f)==H.scroller&&Ht(f):2==ee?(G&&Na(B.doc,G),setTimeout(function(){return H.input.focus()},20)):3==ee&&(j?B.display.input.onContextMenu(f):Pl(B)))}}}function Nu(f,B,H){if("char"==H)return new Mn(B,B);if("word"==H)return f.findWordAt(B);if("line"==H)return new Mn(hi(B.line,0),Kt(f.doc,hi(B.line+1,0)));var G=H(f,B);return new Mn(G.from,G.to)}function Zp(f,B,H,G){var ee,me;if(B.touches)ee=B.touches[0].clientX,me=B.touches[0].clientY;else try{ee=B.clientX,me=B.clientY}catch{return!1}if(ee>=Math.floor(f.display.gutters.getBoundingClientRect().right))return!1;G&&Ht(B);var Ve=f.display,st=Ve.lineDiv.getBoundingClientRect();if(me>st.bottom||!Nt(f,H))return Ge(B);me-=st.top-Ve.viewOffset;for(var yt=0;yt<f.display.gutterSpecs.length;++yt){var Qt=Ve.gutters.childNodes[yt];if(Qt&&Qt.getBoundingClientRect().right>=ee)return pe(f,H,f,Eo(f.doc,me),f.display.gutterSpecs[yt].className,B),Ge(B)}}function eg(f,B){return Zp(f,B,"gutterClick",!0)}function Ch(f,B){Dc(f.display,B)||function us(f,B){return!!Nt(f,"gutterContextMenu")&&Zp(f,B,"gutterContextMenu",!1)}(f,B)||Fe(f,B,"contextmenu")||j||f.display.input.onContextMenu(B)}function _d(f){f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Tc(f)}Lu.prototype.compare=function(f,B,H){return this.time+400>f&&0==Ut(B,this.pos)&&H==this.button};var gu={toString:function(){return"CodeMirror.Init"}},bm={},Eh={};function iy(f,B,H){if(!B!=!(H&&H!=gu)){var ee=f.display.dragFunctions,me=B?Ri:lt;me(f.display.scroller,"dragstart",ee.start),me(f.display.scroller,"dragenter",ee.enter),me(f.display.scroller,"dragover",ee.over),me(f.display.scroller,"dragleave",ee.leave),me(f.display.scroller,"drop",ee.drop)}}function q0(f){f.options.lineWrapping?(Se(f.display.wrapper,"CodeMirror-wrap"),f.display.sizer.style.minWidth="",f.display.sizerWidth=null):(U(f.display.wrapper,"CodeMirror-wrap"),hr(f)),Qe(f),Ft(f),Tc(f),setTimeout(function(){return ns(f)},100)}function Es(f,B){var H=this;if(!(this instanceof Es))return new Es(f,B);this.options=B=B?Te(B):{},Te(bm,B,!1);var G=B.value;"string"==typeof G?G=new Pc(G,B.mode,null,B.lineSeparator,B.direction):B.mode&&(G.modeOption=B.mode),this.doc=G;var ee=new Es.inputStyles[B.inputStyle](this),me=this.display=new Gp(f,G,ee,B);for(var Ve in me.wrapper.CodeMirror=this,_d(this),B.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new we,keySeq:null,specialChars:null},B.autofocus&&!k&&me.input.focus(),l&&_<11&&setTimeout(function(){return H.display.input.reset(!0)},20),function Oc(f){var B=f.display;Ri(B.scroller,"mousedown",Ls(f,Zf)),Ri(B.scroller,"dblclick",l&&_<11?Ls(f,function(yt){if(!Fe(f,yt)){var Qt=jt(f,yt);if(Qt&&!eg(f,yt)&&!Dc(f.display,yt)){Ht(yt);var Ai=f.findWordAt(Qt);Na(f.doc,Ai.anchor,Ai.head)}}}):function(yt){return Fe(f,yt)||Ht(yt)}),Ri(B.scroller,"contextmenu",function(yt){return Ch(f,yt)}),Ri(B.input.getField(),"contextmenu",function(yt){B.scroller.contains(yt.target)||Ch(f,yt)});var H,G={end:0};function ee(){B.activeTouch&&(H=setTimeout(function(){return B.activeTouch=null},1e3),(G=B.activeTouch).end=+new Date)}function me(yt){if(1!=yt.touches.length)return!1;var Qt=yt.touches[0];return Qt.radiusX<=1&&Qt.radiusY<=1}function Ve(yt,Qt){if(null==Qt.left)return!0;var Ai=Qt.left-yt.left,bi=Qt.top-yt.top;return Ai*Ai+bi*bi>400}Ri(B.scroller,"touchstart",function(yt){if(!Fe(f,yt)&&!me(yt)&&!eg(f,yt)){B.input.ensurePolled(),clearTimeout(H);var Qt=+new Date;B.activeTouch={start:Qt,moved:!1,prev:Qt-G.end<=300?G:null},1==yt.touches.length&&(B.activeTouch.left=yt.touches[0].pageX,B.activeTouch.top=yt.touches[0].pageY)}}),Ri(B.scroller,"touchmove",function(){B.activeTouch&&(B.activeTouch.moved=!0)}),Ri(B.scroller,"touchend",function(yt){var Qt=B.activeTouch;if(Qt&&!Dc(B,yt)&&null!=Qt.left&&!Qt.moved&&new Date-Qt.start<300){var bi,Ai=f.coordsChar(B.activeTouch,"page");bi=!Qt.prev||Ve(Qt,Qt.prev)?new Mn(Ai,Ai):!Qt.prev.prev||Ve(Qt,Qt.prev.prev)?f.findWordAt(Ai):new Mn(hi(Ai.line,0),Kt(f.doc,hi(Ai.line+1,0))),f.setSelection(bi.anchor,bi.head),f.focus(),Ht(yt)}ee()}),Ri(B.scroller,"touchcancel",ee),Ri(B.scroller,"scroll",function(){B.scroller.clientHeight&&(an(f,B.scroller.scrollTop),rr(f,B.scroller.scrollLeft,!0),pe(f,"scroll",f))}),Ri(B.scroller,"mousewheel",function(yt){return fh(f,yt)}),Ri(B.scroller,"DOMMouseScroll",function(yt){return fh(f,yt)}),Ri(B.wrapper,"scroll",function(){return B.wrapper.scrollTop=B.wrapper.scrollLeft=0}),B.dragFunctions={enter:function(yt){Fe(f,yt)||vi(yt)},over:function(yt){Fe(f,yt)||(function Wf(f,B){var H=jt(f,B);if(H){var G=document.createDocumentFragment();lo(f,H,G),f.display.dragCursor||(f.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),f.display.lineSpace.insertBefore(f.display.dragCursor,f.display.cursorDiv)),z(f.display.dragCursor,G)}}(f,yt),vi(yt))},start:function(yt){return function _m(f,B){if(l&&(!f.state.draggingText||+new Date-hu<100))vi(B);else if(!Fe(f,B)&&!Dc(f.display,B)&&(B.dataTransfer.setData("Text",f.getSelection()),B.dataTransfer.effectAllowed="copyMove",B.dataTransfer.setDragImage&&!b)){var H=R("img",null,null,"position: fixed; left: 0; top: 0;");H.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",y&&(H.width=H.height=1,f.display.wrapper.appendChild(H),H._top=H.offsetTop),B.dataTransfer.setDragImage(H,0,0),y&&H.parentNode.removeChild(H)}}(f,yt)},drop:Ls(f,Hp),leave:function(yt){Fe(f,yt)||$h(f)}};var st=B.input.getField();Ri(st,"keyup",function(yt){return Kp.call(f,yt)}),Ri(st,"keydown",Ls(f,yh)),Ri(st,"keypress",Ls(f,bh)),Ri(st,"focus",function(yt){return Sc(f,yt)}),Ri(st,"blur",function(yt){return bs(f,yt)})}(this),pd(),ad(this),this.curOp.forceUpdate=!0,Yo(this,G),B.autofocus&&!k||this.hasFocus()?setTimeout(function(){H.hasFocus()&&!H.state.focused&&Sc(H)},20):bs(this),Eh)Eh.hasOwnProperty(Ve)&&Eh[Ve](this,B[Ve],gu);FA(this),B.finishInit&&B.finishInit(this);for(var st=0;st<Yl.length;++st)Yl[st](this);nc(this),p&&B.lineWrapping&&"optimizelegibility"==getComputedStyle(me.lineDiv).textRendering&&(me.lineDiv.style.textRendering="auto")}Es.defaults=bm,Es.optionHandlers=Eh;var Yl=[];function sl(f,B,H,G){var me,ee=f.doc;null==H&&(H="add"),"smart"==H&&(ee.mode.indent?me=Ci(f,B).state:H="prev");var Ve=f.options.tabSize,st=Rn(ee,B),yt=se(st.text,null,Ve);st.stateAfter&&(st.stateAfter=null);var Ai,Qt=st.text.match(/^\s*/)[0];if(G||/\S/.test(st.text)){if("smart"==H&&((Ai=ee.mode.indent(me,st.text.slice(Qt.length),st.text))==_t||Ai>150)){if(!G)return;H="prev"}}else Ai=0,H="not";"prev"==H?Ai=B>ee.first?se(Rn(ee,B-1).text,null,Ve):0:"add"==H?Ai=yt+f.options.indentUnit:"subtract"==H?Ai=yt-f.options.indentUnit:"number"==typeof H&&(Ai=yt+H),Ai=Math.max(0,Ai);var bi="",ji=0;if(f.options.indentWithTabs)for(var Ti=Math.floor(Ai/Ve);Ti;--Ti)ji+=Ve,bi+="\t";if(ji<Ai&&(bi+=Je(Ai-ji)),bi!=Qt)return ac(ee,bi,hi(B,0),hi(B,Qt.length),"+input"),st.stateAfter=null,!0;for(var cn=0;cn<ee.sel.ranges.length;cn++){var In=ee.sel.ranges[cn];if(In.head.line==B&&In.head.ch<Qt.length){var On=hi(B,Qt.length);ud(ee,cn,new Mn(On,On));break}}}Es.defineInitHook=function(f){return Yl.push(f)};var Xl=null;function Hd(f){Xl=f}function $p(f,B,H,G,ee){var me=f.doc;f.display.shift=!1,G||(G=me.sel);var Ve=+new Date-200,st="paste"==ee||f.state.pasteIncoming>Ve,yt=un(B),Qt=null;if(st&&G.ranges.length>1)if(Xl&&Xl.text.join("\n")==B){if(G.ranges.length%Xl.text.length==0){Qt=[];for(var Ai=0;Ai<Xl.text.length;Ai++)Qt.push(me.splitLines(Xl.text[Ai]))}}else yt.length==G.ranges.length&&f.options.pasteLinesPerSelection&&(Qt=Ot(yt,function(er){return[er]}));for(var bi=f.curOp.updateInput,ji=G.ranges.length-1;ji>=0;ji--){var Ti=G.ranges[ji],cn=Ti.from(),In=Ti.to();Ti.empty()&&(H&&H>0?cn=hi(cn.line,cn.ch-H):f.state.overwrite&&!st?In=hi(In.line,Math.min(Rn(me,In.line).text.length,In.ch+pt(yt).length)):st&&Xl&&Xl.lineWise&&Xl.text.join("\n")==yt.join("\n")&&(cn=In=hi(cn.line,0)));var On={from:cn,to:In,text:Qt?Qt[ji%Qt.length]:yt,origin:ee||(st?"paste":f.state.cutIncoming>Ve?"cut":"+input")};oc(f.doc,On),bo(f,"inputRead",f,On)}B&&!st&&wm(f,B),Le(f),f.curOp.updateInput<2&&(f.curOp.updateInput=bi),f.curOp.typing=!0,f.state.pasteIncoming=f.state.cutIncoming=-1}function mA(f,B){var H=f.clipboardData&&f.clipboardData.getData("Text");if(H)return f.preventDefault(),!B.isReadOnly()&&!B.options.disableInput&&B.hasFocus()&&Jl(B,function(){return $p(B,H,0,null,"paste")}),!0}function wm(f,B){if(f.options.electricChars&&f.options.smartIndent)for(var H=f.doc.sel,G=H.ranges.length-1;G>=0;G--){var ee=H.ranges[G];if(!(ee.head.ch>100||G&&H.ranges[G-1].head.line==ee.head.line)){var me=f.getModeAt(ee.head),Ve=!1;if(me.electricChars){for(var st=0;st<me.electricChars.length;st++)if(B.indexOf(me.electricChars.charAt(st))>-1){Ve=sl(f,ee.head.line,"smart");break}}else me.electricInput&&me.electricInput.test(Rn(f.doc,ee.head.line).text.slice(0,ee.head.ch))&&(Ve=sl(f,ee.head.line,"smart"));Ve&&bo(f,"electricInput",f,ee.head.line)}}}function vs(f){for(var B=[],H=[],G=0;G<f.doc.sel.ranges.length;G++){var ee=f.doc.sel.ranges[G].head.line,me={anchor:hi(ee,0),head:hi(ee+1,0)};H.push(me),B.push(f.getRange(me.anchor,me.head))}return{text:B,ranges:H}}function vA(f,B,H,G){f.setAttribute("autocorrect",H?"on":"off"),f.setAttribute("autocapitalize",G?"on":"off"),f.setAttribute("spellcheck",!!B)}function qp(){var f=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),B=R("div",[f],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?f.style.width="1000px":f.setAttribute("wrap","off"),T&&(f.style.border="1px solid black"),B}function tg(f,B,H,G,ee){var me=B,Ve=H,st=Rn(f,B.line),yt=ee&&"rtl"==f.direction?-H:H;function Ai(Ar){var $n;if("codepoint"==G){var nr=st.text.charCodeAt(B.ch+(H>0?0:-1));$n=isNaN(nr)?null:new hi(B.line,Math.max(0,Math.min(st.text.length,B.ch+H*((H>0?nr>=55296&&nr<56320:nr>=56320&&nr<57343)?2:1))),-H)}else $n=ee?function ms(f,B,H,G){var ee=fi(B,f.doc.direction);if(!ee)return sc(B,H,G);H.ch>=B.text.length?(H.ch=B.text.length,H.sticky="before"):H.ch<=0&&(H.ch=0,H.sticky="after");var me=et(ee,H.ch,H.sticky),Ve=ee[me];if("ltr"==f.doc.direction&&Ve.level%2==0&&(G>0?Ve.to>H.ch:Ve.from<H.ch))return sc(B,H,G);var yt,st=function(er,Ar){return gd(B,er instanceof hi?er.ch:er,Ar)},Qt=function(er){return f.options.lineWrapping?(yt=yt||nl(f,B),jA(f,B,yt,er)):{begin:0,end:B.text.length}},Ai=Qt("before"==H.sticky?st(H,-1):H.ch);if("rtl"==f.doc.direction||1==Ve.level){var bi=1==Ve.level==G<0,ji=st(H,bi?1:-1);if(null!=ji&&(bi?ji<=Ve.to&&ji<=Ai.end:ji>=Ve.from&&ji>=Ai.begin))return new hi(H.line,ji,bi?"before":"after")}var cn=function(er,Ar,$n){for(;er>=0&&er<ee.length;er+=Ar){var Sr=ee[er],Qr=Ar>0==(1!=Sr.level),Po=Qr?$n.begin:st($n.end,-1);if(Sr.from<=Po&&Po<Sr.to||(Po=Qr?Sr.from:st(Sr.to,-1),$n.begin<=Po&&Po<$n.end))return fa=Po,Qr?new hi(H.line,st(fa,1),"before"):new hi(H.line,fa,"after")}var fa},In=cn(me+G,G,Ai);if(In)return In;var On=G>0?Ai.end:st(Ai.begin,-1);return null==On||G>0&&On==B.text.length||!(In=cn(G>0?0:ee.length-1,G,Qt(On)))?null:In}(f.cm,st,B,H):sc(st,B,H);if(null==$n){if(Ar||!function Qt(){var Ar=B.line+yt;return!(Ar<f.first||Ar>=f.first+f.size)&&(B=new hi(Ar,B.ch,B.sticky),st=Rn(f,Ar))}())return!1;B=gA(ee,f.cm,st,B.line,yt)}else B=$n;return!0}if("char"==G||"codepoint"==G)Ai();else if("column"==G)Ai(!0);else if("word"==G||"group"==G)for(var bi=null,ji="group"==G,Ti=f.cm&&f.cm.getHelper(B,"wordChars"),cn=!0;!(H<0)||Ai(!cn);cn=!1){var In=st.text.charAt(B.ch)||"\n",On=ft(In,Ti)?"w":ji&&"\n"==In?"n":!ji||/\s/.test(In)?null:"p";if(ji&&!cn&&!On&&(On="s"),bi&&bi!=On){H<0&&(H=1,Ai(),B.sticky="after");break}if(On&&(bi=On),H>0&&!Ai(!cn))break}var er=Qu(f,B,me,Ve,!0);return Yt(me,er)&&(er.hitSide=!0),er}function ef(f,B,H,G){var Ve,Qt,ee=f.doc,me=B.left;if("page"==G){var st=Math.min(f.display.wrapper.clientHeight,fe(f).innerHeight||ee(f).documentElement.clientHeight),yt=Math.max(st-.5*Fc(f.display),3);Ve=(H>0?B.bottom:B.top)+H*yt}else"line"==G&&(Ve=H>0?B.bottom+3:B.top-3);for(;(Qt=Jc(f,me,Ve)).outside;){if(H<0?Ve<=0:Ve>=ee.height){Qt.hitSide=!0;break}Ve+=5*H}return Qt}var rs=function(f){this.cm=f,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new we,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function ev(f,B){var H=Ql(f,B.line);if(!H||H.hidden)return null;var G=Rn(f.doc,B.line),ee=rd(H,G,B.line),me=fi(G,f.doc.direction),Ve="left";me&&(Ve=et(me,B.ch)%2?"right":"left");var yt=zr(ee.map,B.ch,Ve);return yt.offset="right"==yt.collapse?yt.end:yt.start,yt}function Lc(f,B){return B&&(f.bad=!0),f}function ju(f,B,H){var G;if(B==f.display.lineDiv){if(!(G=f.display.lineDiv.childNodes[H]))return Lc(f.clipPos(hi(f.display.viewTo-1)),!0);B=null,H=0}else for(G=B;;G=G.parentNode){if(!G||G==f.display.lineDiv)return null;if(G.parentNode&&G.parentNode==f.display.lineDiv)break}for(var ee=0;ee<f.display.view.length;ee++){var me=f.display.view[ee];if(me.node==G)return yd(me,B,H)}}function yd(f,B,H){var G=f.text.firstChild,ee=!1;if(!B||!ae(G,B))return Lc(hi(sr(f.line),0),!0);if(B==G&&(ee=!0,B=G.childNodes[H],H=0,!B)){var me=f.rest?pt(f.rest):f.line;return Lc(hi(sr(me),me.text.length),ee)}var Ve=3==B.nodeType?B:null,st=B;for(!Ve&&1==B.childNodes.length&&3==B.firstChild.nodeType&&(Ve=B.firstChild,H&&(H=Ve.nodeValue.length));st.parentNode!=G;)st=st.parentNode;var yt=f.measure,Qt=yt.maps;function Ai(On,er,Ar){for(var $n=-1;$n<(Qt?Qt.length:0);$n++)for(var nr=$n<0?yt.map:Qt[$n],Sr=0;Sr<nr.length;Sr+=3){var Qr=nr[Sr+2];if(Qr==On||Qr==er){var Po=sr($n<0?f.line:f.rest[$n]),fa=nr[Sr]+Ar;return(Ar<0||Qr!=On)&&(fa=nr[Sr+(Ar?1:0)]),hi(Po,fa)}}}var bi=Ai(Ve,st,H);if(bi)return Lc(bi,ee);for(var ji=st.nextSibling,Ti=Ve?Ve.nodeValue.length-H:0;ji;ji=ji.nextSibling){if(bi=Ai(ji,ji.firstChild,0))return Lc(hi(bi.line,bi.ch-Ti),ee);Ti+=ji.textContent.length}for(var cn=st.previousSibling,In=H;cn;cn=cn.previousSibling){if(bi=Ai(cn,cn.firstChild,-1))return Lc(hi(bi.line,bi.ch+In),ee);In+=cn.textContent.length}}rs.prototype.init=function(f){var B=this,H=this,G=H.cm,ee=H.div=f.lineDiv;function me(st){for(var yt=st.target;yt;yt=yt.parentNode){if(yt==ee)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(yt.className))break}return!1}function Ve(st){if(me(st)&&!Fe(G,st)){if(G.somethingSelected())Hd({lineWise:!1,text:G.getSelections()}),"cut"==st.type&&G.replaceSelection("",null,"cut");else{if(!G.options.lineWiseCopyCut)return;var yt=vs(G);Hd({lineWise:!0,text:yt.text}),"cut"==st.type&&G.operation(function(){G.setSelections(yt.ranges,0,Dt),G.replaceSelection("",null,"cut")})}if(st.clipboardData){st.clipboardData.clearData();var Qt=Xl.text.join("\n");if(st.clipboardData.setData("Text",Qt),st.clipboardData.getData("Text")==Qt)return void st.preventDefault()}var Ai=qp(),bi=Ai.firstChild;vA(bi),G.display.lineSpace.insertBefore(Ai,G.display.lineSpace.firstChild),bi.value=Xl.text.join("\n");var ji=re(le(ee));Re(bi),setTimeout(function(){G.display.lineSpace.removeChild(Ai),ji.focus(),ji==ee&&H.showPrimarySelection()},50)}}ee.contentEditable=!0,vA(ee,G.options.spellcheck,G.options.autocorrect,G.options.autocapitalize),Ri(ee,"paste",function(st){!me(st)||Fe(G,st)||mA(st,G)||_<=11&&setTimeout(Ls(G,function(){return B.updateFromDOM()}),20)}),Ri(ee,"compositionstart",function(st){B.composing={data:st.data,done:!1}}),Ri(ee,"compositionupdate",function(st){B.composing||(B.composing={data:st.data,done:!1})}),Ri(ee,"compositionend",function(st){B.composing&&(st.data!=B.composing.data&&B.readFromDOMSoon(),B.composing.done=!0)}),Ri(ee,"touchstart",function(){return H.forceCompositionEnd()}),Ri(ee,"input",function(){B.composing||B.readFromDOMSoon()}),Ri(ee,"copy",Ve),Ri(ee,"cut",Ve)},rs.prototype.screenReaderLabelChanged=function(f){f?this.div.setAttribute("aria-label",f):this.div.removeAttribute("aria-label")},rs.prototype.prepareSelection=function(){var f=Wo(this.cm,!1);return f.focus=re(le(this.div))==this.div,f},rs.prototype.showSelection=function(f,B){!f||!this.cm.display.view.length||((f.focus||B)&&this.showPrimarySelection(),this.showMultipleSelections(f))},rs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rs.prototype.showPrimarySelection=function(){var f=this.getSelection(),B=this.cm,H=B.doc.sel.primary(),G=H.from(),ee=H.to();if(B.display.viewTo==B.display.viewFrom||G.line>=B.display.viewTo||ee.line<B.display.viewFrom)f.removeAllRanges();else{var me=ju(B,f.anchorNode,f.anchorOffset),Ve=ju(B,f.focusNode,f.focusOffset);if(!me||me.bad||!Ve||Ve.bad||0!=Ut($t(me,Ve),G)||0!=Ut(Vt(me,Ve),ee)){var st=B.display.view,yt=G.line>=B.display.viewFrom&&ev(B,G)||{node:st[0].measure.map[2],offset:0},Qt=ee.line<B.display.viewTo&&ev(B,ee);if(!Qt){var Ai=st[st.length-1].measure,bi=Ai.maps?Ai.maps[Ai.maps.length-1]:Ai.map;Qt={node:bi[bi.length-1],offset:bi[bi.length-2]-bi[bi.length-3]}}if(!yt||!Qt)return void f.removeAllRanges();var Ti,ji=f.rangeCount&&f.getRangeAt(0);try{Ti=q(yt.node,yt.offset,Qt.offset,Qt.node)}catch{}Ti&&(!N&&B.state.focused?(f.collapse(yt.node,yt.offset),Ti.collapsed||(f.removeAllRanges(),f.addRange(Ti))):(f.removeAllRanges(),f.addRange(Ti)),ji&&null==f.anchorNode?f.addRange(ji):N&&this.startGracePeriod()),this.rememberSelection()}}},rs.prototype.startGracePeriod=function(){var f=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){f.gracePeriod=!1,f.selectionChanged()&&f.cm.operation(function(){return f.cm.curOp.selectionChanged=!0})},20)},rs.prototype.showMultipleSelections=function(f){z(this.cm.display.cursorDiv,f.cursors),z(this.cm.display.selectionDiv,f.selection)},rs.prototype.rememberSelection=function(){var f=this.getSelection();this.lastAnchorNode=f.anchorNode,this.lastAnchorOffset=f.anchorOffset,this.lastFocusNode=f.focusNode,this.lastFocusOffset=f.focusOffset},rs.prototype.selectionInEditor=function(){var f=this.getSelection();if(!f.rangeCount)return!1;var B=f.getRangeAt(0).commonAncestorContainer;return ae(this.div,B)},rs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||re(le(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},rs.prototype.blur=function(){this.div.blur()},rs.prototype.getField=function(){return this.div},rs.prototype.supportsTouch=function(){return!0},rs.prototype.receivedFocus=function(){var f=this,B=this;this.selectionInEditor()?setTimeout(function(){return f.pollSelection()},20):Jl(this.cm,function(){return B.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function H(){B.cm.state.focused&&(B.pollSelection(),B.polling.set(B.cm.options.pollInterval,H))})},rs.prototype.selectionChanged=function(){var f=this.getSelection();return f.anchorNode!=this.lastAnchorNode||f.anchorOffset!=this.lastAnchorOffset||f.focusNode!=this.lastFocusNode||f.focusOffset!=this.lastFocusOffset},rs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var f=this.getSelection(),B=this.cm;if(F&&g&&this.cm.display.gutterSpecs.length&&function ry(f){for(var B=f;B;B=B.parentNode)if(/CodeMirror-gutter-wrapper/.test(B.className))return!0;return!1}(f.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var H=ju(B,f.anchorNode,f.anchorOffset),G=ju(B,f.focusNode,f.focusOffset);H&&G&&Jl(B,function(){Ba(B.doc,GA(H,G),Dt),(H.bad||G.bad)&&(B.curOp.selectionChanged=!0)})}}},rs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var me,Ve,st,f=this.cm,B=f.display,H=f.doc.sel.primary(),G=H.from(),ee=H.to();if(0==G.ch&&G.line>f.firstLine()&&(G=hi(G.line-1,Rn(f.doc,G.line-1).length)),ee.ch==Rn(f.doc,ee.line).text.length&&ee.line<f.lastLine()&&(ee=hi(ee.line+1,0)),G.line<B.viewFrom||ee.line>B.viewTo-1)return!1;G.line==B.viewFrom||0==(me=dt(f,G.line))?(Ve=sr(B.view[0].line),st=B.view[0].node):(Ve=sr(B.view[me].line),st=B.view[me-1].node.nextSibling);var Qt,Ai,yt=dt(f,ee.line);if(yt==B.view.length-1?(Qt=B.viewTo-1,Ai=B.lineDiv.lastChild):(Qt=sr(B.view[yt+1].line)-1,Ai=B.view[yt+1].node.previousSibling),!st)return!1;for(var bi=f.doc.splitLines(function Cm(f,B,H,G,ee){var me="",Ve=!1,st=f.doc.lineSeparator(),yt=!1;function Ai(){Ve&&(me+=st,yt&&(me+=st),Ve=yt=!1)}function bi(Ti){Ti&&(Ai(),me+=Ti)}function ji(Ti){if(1==Ti.nodeType){var cn=Ti.getAttribute("cm-text");if(cn)return void bi(cn);var On,In=Ti.getAttribute("cm-marker");if(In){var er=f.findMarks(hi(G,0),hi(ee+1,0),function Qt(Ti){return function(cn){return cn.id==Ti}}(+In));return void(er.length&&(On=er[0].find(0))&&bi(Xn(f.doc,On.from,On.to).join(st)))}if("false"==Ti.getAttribute("contenteditable"))return;var Ar=/^(pre|div|p|li|table|br)$/i.test(Ti.nodeName);if(!/^br$/i.test(Ti.nodeName)&&0==Ti.textContent.length)return;Ar&&Ai();for(var $n=0;$n<Ti.childNodes.length;$n++)ji(Ti.childNodes[$n]);/^(pre|p)$/i.test(Ti.nodeName)&&(yt=!0),Ar&&(Ve=!0)}else 3==Ti.nodeType&&bi(Ti.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ji(B),B!=H;)B=B.nextSibling,yt=!1;return me}(f,st,Ai,Ve,Qt)),ji=Xn(f.doc,hi(Ve,0),hi(Qt,Rn(f.doc,Qt).text.length));bi.length>1&&ji.length>1;)if(pt(bi)==pt(ji))bi.pop(),ji.pop(),Qt--;else{if(bi[0]!=ji[0])break;bi.shift(),ji.shift(),Ve++}for(var Ti=0,cn=0,In=bi[0],On=ji[0],er=Math.min(In.length,On.length);Ti<er&&In.charCodeAt(Ti)==On.charCodeAt(Ti);)++Ti;for(var Ar=pt(bi),$n=pt(ji),nr=Math.min(Ar.length-(1==bi.length?Ti:0),$n.length-(1==ji.length?Ti:0));cn<nr&&Ar.charCodeAt(Ar.length-cn-1)==$n.charCodeAt($n.length-cn-1);)++cn;if(1==bi.length&&1==ji.length&&Ve==G.line)for(;Ti&&Ti>G.ch&&Ar.charCodeAt(Ar.length-cn-1)==$n.charCodeAt($n.length-cn-1);)Ti--,cn++;bi[bi.length-1]=Ar.slice(0,Ar.length-cn).replace(/^\u200b+/,""),bi[0]=bi[0].slice(Ti).replace(/\u200b+$/,"");var Sr=hi(Ve,Ti),Qr=hi(Qt,ji.length?pt(ji).length-cn:0);return bi.length>1||bi[0]||Ut(Sr,Qr)?(ac(f.doc,bi,Sr,Qr,"+input"),!0):void 0},rs.prototype.ensurePolled=function(){this.forceCompositionEnd()},rs.prototype.reset=function(){this.forceCompositionEnd()},rs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rs.prototype.readFromDOMSoon=function(){var f=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(f.readDOMTimeout=null,f.composing){if(!f.composing.done)return;f.composing=null}f.updateFromDOM()},80))},rs.prototype.updateFromDOM=function(){var f=this;(this.cm.isReadOnly()||!this.pollContent())&&Jl(this.cm,function(){return Ft(f.cm)})},rs.prototype.setUneditable=function(f){f.contentEditable="false"},rs.prototype.onKeyPress=function(f){0==f.charCode||this.composing||(f.preventDefault(),this.cm.isReadOnly()||Ls(this.cm,$p)(this.cm,String.fromCharCode(null==f.charCode?f.keyCode:f.charCode),0))},rs.prototype.readOnlyChanged=function(f){this.div.contentEditable=String("nocursor"!=f)},rs.prototype.onContextMenu=function(){},rs.prototype.resetPosition=function(){},rs.prototype.needsContentAttribute=!0;var Ja=function(f){this.cm=f,this.prevInput="",this.pollingFast=!1,this.polling=new we,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ja.prototype.init=function(f){var B=this,H=this,G=this.cm;this.createField(f);var ee=this.textarea;function me(Ve){if(!Fe(G,Ve)){if(G.somethingSelected())Hd({lineWise:!1,text:G.getSelections()});else{if(!G.options.lineWiseCopyCut)return;var st=vs(G);Hd({lineWise:!0,text:st.text}),"cut"==Ve.type?G.setSelections(st.ranges,null,Dt):(H.prevInput="",ee.value=st.text.join("\n"),Re(ee))}"cut"==Ve.type&&(G.state.cutIncoming=+new Date)}}f.wrapper.insertBefore(this.wrapper,f.wrapper.firstChild),T&&(ee.style.width="0px"),Ri(ee,"input",function(){l&&_>=9&&B.hasSelection&&(B.hasSelection=null),H.poll()}),Ri(ee,"paste",function(Ve){Fe(G,Ve)||mA(Ve,G)||(G.state.pasteIncoming=+new Date,H.fastPoll())}),Ri(ee,"cut",me),Ri(ee,"copy",me),Ri(f.scroller,"paste",function(Ve){if(!Dc(f,Ve)&&!Fe(G,Ve)){if(!ee.dispatchEvent)return G.state.pasteIncoming=+new Date,void H.focus();var st=new Event("paste");st.clipboardData=Ve.clipboardData,ee.dispatchEvent(st)}}),Ri(f.lineSpace,"selectstart",function(Ve){Dc(f,Ve)||Ht(Ve)}),Ri(ee,"compositionstart",function(){var Ve=G.getCursor("from");H.composing&&H.composing.range.clear(),H.composing={start:Ve,range:G.markText(Ve,G.getCursor("to"),{className:"CodeMirror-composing"})}}),Ri(ee,"compositionend",function(){H.composing&&(H.poll(),H.composing.range.clear(),H.composing=null)})},Ja.prototype.createField=function(f){this.wrapper=qp(),this.textarea=this.wrapper.firstChild;var B=this.cm.options;vA(this.textarea,B.spellcheck,B.autocorrect,B.autocapitalize)},Ja.prototype.screenReaderLabelChanged=function(f){f?this.textarea.setAttribute("aria-label",f):this.textarea.removeAttribute("aria-label")},Ja.prototype.prepareSelection=function(){var f=this.cm,B=f.display,H=f.doc,G=Wo(f);if(f.options.moveInputWithCursor){var ee=Go(f,H.sel.primary().head,"div"),me=B.wrapper.getBoundingClientRect(),Ve=B.lineDiv.getBoundingClientRect();G.teTop=Math.max(0,Math.min(B.wrapper.clientHeight-10,ee.top+Ve.top-me.top)),G.teLeft=Math.max(0,Math.min(B.wrapper.clientWidth-10,ee.left+Ve.left-me.left))}return G},Ja.prototype.showSelection=function(f){var H=this.cm.display;z(H.cursorDiv,f.cursors),z(H.selectionDiv,f.selection),null!=f.teTop&&(this.wrapper.style.top=f.teTop+"px",this.wrapper.style.left=f.teLeft+"px")},Ja.prototype.reset=function(f){if(!(this.contextMenuPending||this.composing&&f)){var B=this.cm;if(this.resetting=!0,B.somethingSelected()){this.prevInput="";var H=B.getSelection();this.textarea.value=H,B.state.focused&&Re(this.textarea),l&&_>=9&&(this.hasSelection=H)}else f||(this.prevInput=this.textarea.value="",l&&_>=9&&(this.hasSelection=null));this.resetting=!1}},Ja.prototype.getField=function(){return this.textarea},Ja.prototype.supportsTouch=function(){return!1},Ja.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!k||re(le(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Ja.prototype.blur=function(){this.textarea.blur()},Ja.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ja.prototype.receivedFocus=function(){this.slowPoll()},Ja.prototype.slowPoll=function(){var f=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){f.poll(),f.cm.state.focused&&f.slowPoll()})},Ja.prototype.fastPoll=function(){var f=!1,B=this;B.pollingFast=!0,B.polling.set(20,function H(){B.poll()||f?(B.pollingFast=!1,B.slowPoll()):(f=!0,B.polling.set(60,H))})},Ja.prototype.poll=function(){var f=this,B=this.cm,H=this.textarea,G=this.prevInput;if(this.contextMenuPending||this.resetting||!B.state.focused||or(H)&&!G&&!this.composing||B.isReadOnly()||B.options.disableInput||B.state.keySeq)return!1;var ee=H.value;if(ee==G&&!B.somethingSelected())return!1;if(l&&_>=9&&this.hasSelection===ee||A&&/[\uf700-\uf7ff]/.test(ee))return B.display.input.reset(),!1;if(B.doc.sel==B.display.selForContextMenu){var me=ee.charCodeAt(0);if(8203==me&&!G&&(G="\u200b"),8666==me)return this.reset(),this.cm.execCommand("undo")}for(var Ve=0,st=Math.min(G.length,ee.length);Ve<st&&G.charCodeAt(Ve)==ee.charCodeAt(Ve);)++Ve;return Jl(B,function(){$p(B,ee.slice(Ve),G.length-Ve,null,f.composing?"*compose":null),ee.length>1e3||ee.indexOf("\n")>-1?H.value=f.prevInput="":f.prevInput=ee,f.composing&&(f.composing.range.clear(),f.composing.range=B.markText(f.composing.start,B.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ja.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ja.prototype.onKeyPress=function(){l&&_>=9&&(this.hasSelection=null),this.fastPoll()},Ja.prototype.onContextMenu=function(f){var B=this,H=B.cm,G=H.display,ee=B.textarea;B.contextMenuPending&&B.contextMenuPending();var me=jt(H,f),Ve=G.scroller.scrollTop;if(me&&!y){H.options.resetSelectionOnContextMenu&&-1==H.doc.sel.contains(me)&&Ls(H,Ba)(H.doc,GA(me),Dt);var bi,yt=ee.style.cssText,Qt=B.wrapper.style.cssText,Ai=B.wrapper.offsetParent.getBoundingClientRect();if(B.wrapper.style.cssText="position: static",ee.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(f.clientY-Ai.top-5)+"px; left: "+(f.clientX-Ai.left-5)+"px;\n      z-index: 1000; background: "+(l?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",p&&(bi=ee.ownerDocument.defaultView.scrollY),G.input.focus(),p&&ee.ownerDocument.defaultView.scrollTo(null,bi),G.input.reset(),H.somethingSelected()||(ee.value=B.prevInput=" "),B.contextMenuPending=Ti,G.selForContextMenu=H.doc.sel,clearTimeout(G.detectingSelectAll),l&&_>=9&&ji(),j){vi(f);var cn=function(){lt(window,"mouseup",cn),setTimeout(Ti,20)};Ri(window,"mouseup",cn)}else setTimeout(Ti,50)}function ji(){if(null!=ee.selectionStart){var In=H.somethingSelected(),On="\u200b"+(In?ee.value:"");ee.value="\u21da",ee.value=On,B.prevInput=In?"":"\u200b",ee.selectionStart=1,ee.selectionEnd=On.length,G.selForContextMenu=H.doc.sel}}function Ti(){if(B.contextMenuPending==Ti&&(B.contextMenuPending=!1,B.wrapper.style.cssText=Qt,ee.style.cssText=yt,l&&_<9&&G.scrollbars.setScrollTop(G.scroller.scrollTop=Ve),null!=ee.selectionStart)){(!l||l&&_<9)&&ji();var In=0,On=function(){G.selForContextMenu==H.doc.sel&&0==ee.selectionStart&&ee.selectionEnd>0&&"\u200b"==B.prevInput?Ls(H,Ru)(H):In++<10?G.detectingSelectAll=setTimeout(On,500):(G.selForContextMenu=null,G.input.reset())};G.detectingSelectAll=setTimeout(On,200)}}},Ja.prototype.readOnlyChanged=function(f){f||this.reset(),this.textarea.disabled="nocursor"==f,this.textarea.readOnly=!!f},Ja.prototype.setUneditable=function(){},Ja.prototype.needsContentAttribute=!1,function Fr(f){var B=f.optionHandlers;function H(G,ee,me,Ve){f.defaults[G]=ee,me&&(B[G]=Ve?function(st,yt,Qt){Qt!=gu&&me(st,yt,Qt)}:me)}f.defineOption=H,f.Init=gu,H("value","",function(G,ee){return G.setValue(ee)},!0),H("mode",null,function(G,ee){G.doc.modeOption=ee,Zc(G)},!0),H("indentUnit",2,Zc,!0),H("indentWithTabs",!1),H("smartIndent",!0),H("tabSize",4,function(G){Tu(G),Tc(G),Ft(G)},!0),H("lineSeparator",null,function(G,ee){if(G.doc.lineSep=ee,ee){var me=[],Ve=G.doc.first;G.doc.iter(function(yt){for(var Qt=0;;){var Ai=yt.text.indexOf(ee,Qt);if(-1==Ai)break;Qt=Ai+ee.length,me.push(hi(Ve,Ai))}Ve++});for(var st=me.length-1;st>=0;st--)ac(G.doc,ee,me[st],hi(me[st].line,me[st].ch+ee.length))}}),H("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(G,ee,me){G.state.specialChars=new RegExp(ee.source+(ee.test("\t")?"":"|\t"),"g"),me!=gu&&G.refresh()}),H("specialCharPlaceholder",xo,function(G){return G.refresh()},!0),H("electricChars",!0),H("inputStyle",k?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),H("spellcheck",!1,function(G,ee){return G.getInputField().spellcheck=ee},!0),H("autocorrect",!1,function(G,ee){return G.getInputField().autocorrect=ee},!0),H("autocapitalize",!1,function(G,ee){return G.getInputField().autocapitalize=ee},!0),H("rtlMoveVisually",!Q),H("wholeLineUpdateBefore",!0),H("theme","default",function(G){_d(G),Qc(G)},!0),H("keyMap","default",function(G,ee,me){var Ve=fd(ee),st=me!=gu&&fd(me);st&&st.detach&&st.detach(G,Ve),Ve.attach&&Ve.attach(G,st||null)}),H("extraKeys",null),H("configureMouse",null),H("lineWrapping",!1,q0,!0),H("gutters",[],function(G,ee){G.display.gutterSpecs=ph(ee,G.options.lineNumbers),Qc(G)},!0),H("fixedGutter",!0,function(G,ee){G.display.gutters.style.left=ee?kA(G.display)+"px":"0",G.refresh()},!0),H("coverGutterNextToScrollbar",!1,function(G){return ns(G)},!0),H("scrollbarStyle","native",function(G){Vr(G),ns(G),G.display.scrollbars.setScrollTop(G.doc.scrollTop),G.display.scrollbars.setScrollLeft(G.doc.scrollLeft)},!0),H("lineNumbers",!1,function(G,ee){G.display.gutterSpecs=ph(G.options.gutters,ee),Qc(G)},!0),H("firstLineNumber",1,Qc,!0),H("lineNumberFormatter",function(G){return G},Qc,!0),H("showCursorWhenSelecting",!1,da,!0),H("resetSelectionOnContextMenu",!0),H("lineWiseCopyCut",!0),H("pasteLinesPerSelection",!0),H("selectionsMayTouch",!1),H("readOnly",!1,function(G,ee){"nocursor"==ee&&(bs(G),G.display.input.blur()),G.display.input.readOnlyChanged(ee)}),H("screenReaderLabel",null,function(G,ee){G.display.input.screenReaderLabelChanged(ee=""===ee?null:ee)}),H("disableInput",!1,function(G,ee){ee||G.display.input.reset()},!0),H("dragDrop",!0,iy),H("allowDropFileTypes",null),H("cursorBlinkRate",530),H("cursorScrollMargin",0),H("cursorHeight",1,da,!0),H("singleCursorHeightPerLine",!0,da,!0),H("workTime",100),H("workDelay",100),H("flattenSpans",!0,Tu,!0),H("addModeClass",!1,Tu,!0),H("pollInterval",100),H("undoDepth",200,function(G,ee){return G.doc.history.undoDepth=ee}),H("historyEventDelay",1250),H("viewportMargin",10,function(G){return G.refresh()},!0),H("maxHighlightLength",1e4,Tu,!0),H("moveInputWithCursor",!0,function(G,ee){ee||G.display.input.resetPosition()}),H("tabindex",null,function(G,ee){return G.display.input.getField().tabIndex=ee||""}),H("autofocus",null),H("direction","ltr",function(G,ee){return G.doc.setDirection(ee)},!0),H("phrases",null)}(Es),function ny(f){var B=f.optionHandlers,H=f.helpers={};f.prototype={constructor:f,focus:function(){fe(this).focus(),this.display.input.focus()},setOption:function(G,ee){var me=this.options,Ve=me[G];me[G]==ee&&"mode"!=G||(me[G]=ee,B.hasOwnProperty(G)&&Ls(this,B[G])(this,ee,Ve),pe(this,"optionChange",this,G))},getOption:function(G){return this.options[G]},getDoc:function(){return this.doc},addKeyMap:function(G,ee){this.state.keyMaps[ee?"push":"unshift"](fd(G))},removeKeyMap:function(G){for(var ee=this.state.keyMaps,me=0;me<ee.length;++me)if(ee[me]==G||ee[me].name==G)return ee.splice(me,1),!0},addOverlay:ol(function(G,ee){var me=G.token?G:f.getMode(this.options,G);if(me.startState)throw new Error("Overlays may not be stateful.");(function At(f,B,H){for(var G=0,ee=H(B);G<f.length&&H(f[G])<=ee;)G++;f.splice(G,0,B)})(this.state.overlays,{mode:me,modeSpec:G,opaque:ee&&ee.opaque,priority:ee&&ee.priority||0},function(Ve){return Ve.priority}),this.state.modeGen++,Ft(this)}),removeOverlay:ol(function(G){for(var ee=this.state.overlays,me=0;me<ee.length;++me){var Ve=ee[me].modeSpec;if(Ve==G||"string"==typeof G&&Ve.name==G)return ee.splice(me,1),this.state.modeGen++,void Ft(this)}}),indentLine:ol(function(G,ee,me){"string"!=typeof ee&&"number"!=typeof ee&&(ee=null==ee?this.options.smartIndent?"smart":"prev":ee?"add":"subtract"),Gt(this.doc,G)&&sl(this,G,ee,me)}),indentSelection:ol(function(G){for(var ee=this.doc.sel.ranges,me=-1,Ve=0;Ve<ee.length;Ve++){var st=ee[Ve];if(st.empty())st.head.line>me&&(sl(this,st.head.line,G,!0),me=st.head.line,Ve==this.doc.sel.primIndex&&Le(this));else{var yt=st.from(),Qt=st.to(),Ai=Math.max(me,yt.line);me=Math.min(this.lastLine(),Qt.line-(Qt.ch?0:1))+1;for(var bi=Ai;bi<me;++bi)sl(this,bi,G);var ji=this.doc.sel.ranges;0==yt.ch&&ee.length==ji.length&&ji[Ve].from().ch>0&&ud(this.doc,Ve,new Mn(yt,ji[Ve].to()),Dt)}}}),getTokenAt:function(G,ee){return tn(this,G,ee)},getLineTokens:function(G,ee){return tn(this,hi(G),ee,!0)},getTokenTypeAt:function(G){G=Kt(this.doc,G);var yt,ee=yn(this,Rn(this.doc,G.line)),me=0,Ve=(ee.length-1)/2,st=G.ch;if(0==st)yt=ee[2];else for(;;){var Qt=me+Ve>>1;if((Qt?ee[2*Qt-1]:0)>=st)Ve=Qt;else{if(!(ee[2*Qt+1]<st)){yt=ee[2*Qt+2];break}me=Qt+1}}var Ai=yt?yt.indexOf("overlay "):-1;return Ai<0?yt:0==Ai?null:yt.slice(0,Ai-1)},getModeAt:function(G){var ee=this.doc.mode;return ee.innerMode?f.innerMode(ee,this.getTokenAt(G).state).mode:ee},getHelper:function(G,ee){return this.getHelpers(G,ee)[0]},getHelpers:function(G,ee){var me=[];if(!H.hasOwnProperty(ee))return me;var Ve=H[ee],st=this.getModeAt(G);if("string"==typeof st[ee])Ve[st[ee]]&&me.push(Ve[st[ee]]);else if(st[ee])for(var yt=0;yt<st[ee].length;yt++){var Qt=Ve[st[ee][yt]];Qt&&me.push(Qt)}else st.helperType&&Ve[st.helperType]?me.push(Ve[st.helperType]):Ve[st.name]&&me.push(Ve[st.name]);for(var Ai=0;Ai<Ve._global.length;Ai++){var bi=Ve._global[Ai];bi.pred(st,this)&&-1==ke(me,bi.val)&&me.push(bi.val)}return me},getStateAfter:function(G,ee){var me=this.doc;return Ci(this,(G=ei(me,G??me.first+me.size-1))+1,ee).state},cursorCoords:function(G,ee){var Ve=this.doc.sel.primary();return Go(this,null==G?Ve.head:"object"==typeof G?Kt(this.doc,G):G?Ve.from():Ve.to(),ee||"page")},charCoords:function(G,ee){return Vc(this,Kt(this.doc,G),ee||"page")},coordsChar:function(G,ee){return Jc(this,(G=NA(this,G,ee||"page")).left,G.top)},lineAtHeight:function(G,ee){return G=NA(this,{top:G,left:0},ee||"page").top,Eo(this.doc,G+this.display.viewOffset)},heightAtLine:function(G,ee,me){var st,Ve=!1;if("number"==typeof G){var yt=this.doc.first+this.doc.size-1;G<this.doc.first?G=this.doc.first:G>yt&&(G=yt,Ve=!0),st=Rn(this.doc,G)}else st=G;return gc(this,st,{top:0,left:0},ee||"page",me||Ve).top+(Ve?this.doc.height-Yn(st):0)},defaultTextHeight:function(){return Fc(this.display)},defaultCharWidth:function(){return Kc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(G,ee,me,Ve,st){var yt=this.display,Qt=(G=Go(this,Kt(this.doc,G))).bottom,Ai=G.left;if(ee.style.position="absolute",ee.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(ee),yt.sizer.appendChild(ee),"over"==Ve)Qt=G.top;else if("above"==Ve||"near"==Ve){var bi=Math.max(yt.wrapper.clientHeight,this.doc.height),ji=Math.max(yt.sizer.clientWidth,yt.lineSpace.clientWidth);("above"==Ve||G.bottom+ee.offsetHeight>bi)&&G.top>ee.offsetHeight?Qt=G.top-ee.offsetHeight:G.bottom+ee.offsetHeight<=bi&&(Qt=G.bottom),Ai+ee.offsetWidth>ji&&(Ai=ji-ee.offsetWidth)}ee.style.top=Qt+"px",ee.style.left=ee.style.right="","right"==st?(Ai=yt.sizer.clientWidth-ee.offsetWidth,ee.style.right="0px"):("left"==st?Ai=0:"middle"==st&&(Ai=(yt.sizer.clientWidth-ee.offsetWidth)/2),ee.style.left=Ai+"px"),me&&function C(f,B){var H=V(f,B);null!=H.scrollTop&&an(f,H.scrollTop),null!=H.scrollLeft&&rr(f,H.scrollLeft)}(this,{left:Ai,top:Qt,right:Ai+ee.offsetWidth,bottom:Qt+ee.offsetHeight})},triggerOnKeyDown:ol(yh),triggerOnKeyPress:ol(bh),triggerOnKeyUp:Kp,triggerOnMouseDown:ol(Zf),execCommand:function(G){if(zA.hasOwnProperty(G))return zA[G].call(null,this)},triggerElectric:ol(function(G){wm(this,G)}),findPosH:function(G,ee,me,Ve){var st=1;ee<0&&(st=-1,ee=-ee);for(var yt=Kt(this.doc,G),Qt=0;Qt<ee&&!(yt=tg(this.doc,yt,st,me,Ve)).hitSide;++Qt);return yt},moveH:ol(function(G,ee){var me=this;this.extendSelectionsBy(function(Ve){return me.display.shift||me.doc.extend||Ve.empty()?tg(me.doc,Ve.head,G,ee,me.options.rtlMoveVisually):G<0?Ve.from():Ve.to()},je)}),deleteH:ol(function(G,ee){var Ve=this.doc;this.doc.sel.somethingSelected()?Ve.replaceSelection("",null,"+delete"):ds(this,function(st){var yt=tg(Ve,st.head,G,ee,!1);return G<0?{from:yt,to:st.head}:{from:st.head,to:yt}})}),findPosV:function(G,ee,me,Ve){var st=1,yt=Ve;ee<0&&(st=-1,ee=-ee);for(var Qt=Kt(this.doc,G),Ai=0;Ai<ee;++Ai){var bi=Go(this,Qt,"div");if(null==yt?yt=bi.left:bi.left=yt,(Qt=ef(this,bi,st,me)).hitSide)break}return Qt},moveV:ol(function(G,ee){var me=this,Ve=this.doc,st=[],yt=!this.display.shift&&!Ve.extend&&Ve.sel.somethingSelected();if(Ve.extendSelectionsBy(function(Ai){if(yt)return G<0?Ai.from():Ai.to();var bi=Go(me,Ai.head,"div");null!=Ai.goalColumn&&(bi.left=Ai.goalColumn),st.push(bi.left);var ji=ef(me,bi,G,ee);return"page"==ee&&Ai==Ve.sel.primary()&&Ae(me,Vc(me,ji,"div").top-bi.top),ji},je),st.length)for(var Qt=0;Qt<Ve.sel.ranges.length;Qt++)Ve.sel.ranges[Qt].goalColumn=st[Qt]}),findWordAt:function(G){var me=Rn(this.doc,G.line).text,Ve=G.ch,st=G.ch;if(me){var yt=this.getHelper(G,"wordChars");"before"!=G.sticky&&st!=me.length||!Ve?++st:--Ve;for(var Qt=me.charAt(Ve),Ai=ft(Qt,yt)?function(bi){return ft(bi,yt)}:/\s/.test(Qt)?function(bi){return/\s/.test(bi)}:function(bi){return!/\s/.test(bi)&&!ft(bi)};Ve>0&&Ai(me.charAt(Ve-1));)--Ve;for(;st<me.length&&Ai(me.charAt(st));)++st}return new Mn(hi(G.line,Ve),hi(G.line,st))},toggleOverwrite:function(G){null!=G&&G==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Se(this.display.cursorDiv,"CodeMirror-overwrite"):U(this.display.cursorDiv,"CodeMirror-overwrite"),pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==re(ue(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ol(function(G,ee){vt(this,G,ee)}),getScrollInfo:function(){var G=this.display.scroller;return{left:G.scrollLeft,top:G.scrollTop,height:G.scrollHeight-bl(this)-this.display.barHeight,width:G.scrollWidth-bl(this)-this.display.barWidth,clientHeight:nd(this),clientWidth:ys(this)}},scrollIntoView:ol(function(G,ee){null==G?(G={from:this.doc.sel.primary().head,to:null},null==ee&&(ee=this.options.cursorScrollMargin)):"number"==typeof G?G={from:hi(G,0),to:null}:null==G.from&&(G={from:G,to:null}),G.to||(G.to=G.from),G.margin=ee||0,null!=G.from.line?function Wt(f,B){Mi(f),f.curOp.scrollToPos=B}(this,G):qi(this,G.from,G.to,G.margin)}),setSize:ol(function(G,ee){var me=this,Ve=function(yt){return"number"==typeof yt||/^\d+$/.test(String(yt))?yt+"px":yt};null!=G&&(this.display.wrapper.style.width=Ve(G)),null!=ee&&(this.display.wrapper.style.height=Ve(ee)),this.options.lineWrapping&&kc(this);var st=this.display.viewFrom;this.doc.iter(st,this.display.viewTo,function(yt){if(yt.widgets)for(var Qt=0;Qt<yt.widgets.length;Qt++)if(yt.widgets[Qt].noHScroll){yi(me,st,"widget");break}++st}),this.curOp.forceUpdate=!0,pe(this,"refresh",this)}),operation:function(G){return Jl(this,G)},startOperation:function(){return ad(this)},endOperation:function(){return nc(this)},refresh:ol(function(){var G=this.display.cachedTextHeight;Ft(this),this.curOp.forceUpdate=!0,Tc(this),vt(this,this.doc.scrollLeft,this.doc.scrollTop),jp(this.display),(null==G||Math.abs(G-Fc(this.display))>.5||this.options.lineWrapping)&&Qe(this),pe(this,"refresh",this)}),swapDoc:ol(function(G){var ee=this.doc;return ee.cm=null,this.state.selectingText&&this.state.selectingText(),Yo(this,G),Tc(this),this.display.input.reset(),vt(this,G.scrollLeft,G.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,ee),ee}),phrase:function(G){var ee=this.options.phrases;return ee&&Object.prototype.hasOwnProperty.call(ee,G)?ee[G]:G},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},it(f),f.registerHelper=function(G,ee,me){H.hasOwnProperty(G)||(H[G]=f[G]={_global:[]}),H[G][ee]=me},f.registerGlobalHelper=function(G,ee,me,Ve){f.registerHelper(G,ee,Ve),H[G]._global.push({pred:me,val:Ve})}}(Es);var ng="iter insert remove copy getEditor constructor".split(" ");for(var HA in Pc.prototype)Pc.prototype.hasOwnProperty(HA)&&ke(ng,HA)<0&&(Es.prototype[HA]=function(f){return function(){return f.apply(this.doc,arguments)}}(Pc.prototype[HA]));return it(Pc),Es.inputStyles={textarea:Ja,contenteditable:rs},Es.defineMode=function(f){!Es.defaults.mode&&"null"!=f&&(Es.defaults.mode=f),Ei.apply(this,arguments)},Es.defineMIME=function ln(f,B){si[f]=B},Es.defineMode("null",function(){return{token:function(f){return f.skipToEnd()}}}),Es.defineMIME("text/plain","null"),Es.defineExtension=function(f,B){Es.prototype[f]=B},Es.defineDocExtension=function(f,B){Pc.prototype[f]=B},Es.fromTextArea=function ig(f,B){if((B=B?Te(B):{}).value=f.value,!B.tabindex&&f.tabIndex&&(B.tabindex=f.tabIndex),!B.placeholder&&f.placeholder&&(B.placeholder=f.placeholder),null==B.autofocus){var H=re(le(f));B.autofocus=H==f||null!=f.getAttribute("autofocus")&&H==document.body}function G(){f.value=st.getValue()}var ee;if(f.form&&(Ri(f.form,"submit",G),!B.leaveSubmitMethodAlone)){var me=f.form;ee=me.submit;try{var Ve=me.submit=function(){G(),me.submit=ee,me.submit(),me.submit=Ve}}catch{}}B.finishInit=function(yt){yt.save=G,yt.getTextArea=function(){return f},yt.toTextArea=function(){yt.toTextArea=isNaN,G(),f.parentNode.removeChild(yt.getWrapperElement()),f.style.display="",f.form&&(lt(f.form,"submit",G),!B.leaveSubmitMethodAlone&&"function"==typeof f.form.submit&&(f.form.submit=ee))}},f.style.display="none";var st=Es(function(yt){return f.parentNode.insertBefore(yt,f.nextSibling)},B);return st},function tf(f){f.off=lt,f.on=Ri,f.wheelEventPixels=Kh,f.Doc=Pc,f.splitLines=un,f.countColumn=se,f.findColumn=_e,f.isWordChar=Et,f.Pass=_t,f.signal=pe,f.Line=Er,f.changeEnd=dA,f.scrollbarModel=Ol,f.Pos=hi,f.cmpPos=Ut,f.modes=di,f.mimeModes=si,f.resolveMode=Ji,f.getMode=Qn,f.modeExtensions=Cn,f.extendMode=mr,f.copyState=En,f.startState=la,f.innerMode=co,f.commands=zA,f.keyMap=fA,f.keyName=Kf,f.isModifierKey=xl,f.lookupKey=qh,f.normalizeKeyMap=X0,f.StringStream=Xr,f.SharedTextMarker=So,f.TextMarker=ar,f.LineWidget=wt,f.e_preventDefault=Ht,f.e_stopPropagation=on,f.e_stop=vi,f.addClass=Se,f.contains=ae,f.rmClass=U,f.keyNames=tA}(Es),Es.version="5.65.19",Es}()},8495:(Rt,Be,ie)=>{!function(N){"use strict";function K(U){for(var X={},z=0;z<U.length;++z)X[U[z].toLowerCase()]=!0;return X}N.defineMode("css",function(U,X){var z=X.inline;X.propertyKeywords||(X=N.resolveMode("text/css"));var ke,Ye,R=U.indentUnit,Z=X.tokenHooks,q=X.documentTypes||{},ae=X.mediaTypes||{},re=X.mediaFeatures||{},Se=X.mediaValueKeywords||{},be=X.propertyKeywords||{},Re=X.nonStandardPropertyKeywords||{},He=X.fontProperties||{},ue=X.counterDescriptors||{},le=X.colorKeywords||{},fe=X.valueKeywords||{},ge=X.allowNested,se=!0===X.supportsAtComponent,we=!1!==U.highlightNonStandardPropertyKeywords;function _t(Ke,Bt){return ke=Bt,Ke}function Dt(Ke,Bt){var Et=Ke.next();if(Z[Et]){var ft=Z[Et](Ke,Bt);if(!1!==ft)return ft}return"@"==Et?(Ke.eatWhile(/[\w\\\-]/),_t("def",Ke.current())):"="==Et||("~"==Et||"|"==Et)&&Ke.eat("=")?_t(null,"compare"):'"'==Et||"'"==Et?(Bt.tokenize=ni(Et),Bt.tokenize(Ke,Bt)):"#"==Et?(Ke.eatWhile(/[\w\\\-]/),_t("atom","hash")):"!"==Et?(Ke.match(/^\s*\w*/),_t("keyword","important")):/\d/.test(Et)||"."==Et&&Ke.eat(/\d/)?(Ke.eatWhile(/[\w.%]/),_t("number","unit")):"-"!==Et?/[,+>*\/]/.test(Et)?_t(null,"select-op"):"."==Et&&Ke.match(/^-?[_a-z][_a-z0-9-]*/i)?_t("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Et)?_t(null,Et):Ke.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Ke.current())&&(Bt.tokenize=je),_t("variable callee","variable")):/[\w\\\-]/.test(Et)?(Ke.eatWhile(/[\w\\\-]/),_t("property","word")):_t(null,null):/[\d.]/.test(Ke.peek())?(Ke.eatWhile(/[\w.%]/),_t("number","unit")):Ke.match(/^-[\w\\\-]*/)?(Ke.eatWhile(/[\w\\\-]/),Ke.match(/^\s*:/,!1)?_t("variable-2","variable-definition"):_t("variable-2","variable")):Ke.match(/^\w+-/)?_t("meta","meta"):void 0}function ni(Ke){return function(Bt,Et){for(var xt,ft=!1;null!=(xt=Bt.next());){if(xt==Ke&&!ft){")"==Ke&&Bt.backUp(1);break}ft=!ft&&"\\"==xt}return(xt==Ke||!ft&&")"!=Ke)&&(Et.tokenize=null),_t("string","string")}}function je(Ke,Bt){return Ke.next(),Bt.tokenize=Ke.match(/^\s*[\"\')]/,!1)?null:ni(")"),_t(null,"(")}function _e(Ke,Bt,Et){this.type=Ke,this.indent=Bt,this.prev=Et}function ze(Ke,Bt,Et,ft){return Ke.context=new _e(Et,Bt.indentation()+(!1===ft?0:R),Ke.context),Et}function Je(Ke){return Ke.context.prev&&(Ke.context=Ke.context.prev),Ke.context.type}function pt(Ke,Bt,Et){return qe[Et.context.type](Ke,Bt,Et)}function Ot(Ke,Bt,Et,ft){for(var xt=ft||1;xt>0;xt--)Et.context=Et.context.prev;return pt(Ke,Bt,Et)}function At(Ke){var Bt=Ke.current().toLowerCase();Ye=fe.hasOwnProperty(Bt)?"atom":le.hasOwnProperty(Bt)?"keyword":"variable"}var qe={top:function(Ke,Bt,Et){if("{"==Ke)return ze(Et,Bt,"block");if("}"==Ke&&Et.context.prev)return Je(Et);if(se&&/@component/i.test(Ke))return ze(Et,Bt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Ke))return ze(Et,Bt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Ke))return ze(Et,Bt,"atBlock");if(/^@(font-face|counter-style)/i.test(Ke))return Et.stateArg=Ke,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Ke))return"keyframes";if(Ke&&"@"==Ke.charAt(0))return ze(Et,Bt,"at");if("hash"==Ke)Ye="builtin";else if("word"==Ke)Ye="tag";else{if("variable-definition"==Ke)return"maybeprop";if("interpolation"==Ke)return ze(Et,Bt,"interpolation");if(":"==Ke)return"pseudo";if(ge&&"("==Ke)return ze(Et,Bt,"parens")}return Et.context.type},block:function(Ke,Bt,Et){if("word"==Ke){var ft=Bt.current().toLowerCase();return be.hasOwnProperty(ft)?(Ye="property","maybeprop"):Re.hasOwnProperty(ft)?(Ye=we?"string-2":"property","maybeprop"):ge?(Ye=Bt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ye+=" error","maybeprop")}return"meta"==Ke?"block":ge||"hash"!=Ke&&"qualifier"!=Ke?qe.top(Ke,Bt,Et):(Ye="error","block")},maybeprop:function(Ke,Bt,Et){return":"==Ke?ze(Et,Bt,"prop"):pt(Ke,Bt,Et)},prop:function(Ke,Bt,Et){if(";"==Ke)return Je(Et);if("{"==Ke&&ge)return ze(Et,Bt,"propBlock");if("}"==Ke||"{"==Ke)return Ot(Ke,Bt,Et);if("("==Ke)return ze(Et,Bt,"parens");if("hash"!=Ke||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Bt.current())){if("word"==Ke)At(Bt);else if("interpolation"==Ke)return ze(Et,Bt,"interpolation")}else Ye+=" error";return"prop"},propBlock:function(Ke,Bt,Et){return"}"==Ke?Je(Et):"word"==Ke?(Ye="property","maybeprop"):Et.context.type},parens:function(Ke,Bt,Et){return"{"==Ke||"}"==Ke?Ot(Ke,Bt,Et):")"==Ke?Je(Et):"("==Ke?ze(Et,Bt,"parens"):"interpolation"==Ke?ze(Et,Bt,"interpolation"):("word"==Ke&&At(Bt),"parens")},pseudo:function(Ke,Bt,Et){return"meta"==Ke?"pseudo":"word"==Ke?(Ye="variable-3",Et.context.type):pt(Ke,Bt,Et)},documentTypes:function(Ke,Bt,Et){return"word"==Ke&&q.hasOwnProperty(Bt.current())?(Ye="tag",Et.context.type):qe.atBlock(Ke,Bt,Et)},atBlock:function(Ke,Bt,Et){if("("==Ke)return ze(Et,Bt,"atBlock_parens");if("}"==Ke||";"==Ke)return Ot(Ke,Bt,Et);if("{"==Ke)return Je(Et)&&ze(Et,Bt,ge?"block":"top");if("interpolation"==Ke)return ze(Et,Bt,"interpolation");if("word"==Ke){var ft=Bt.current().toLowerCase();Ye="only"==ft||"not"==ft||"and"==ft||"or"==ft?"keyword":ae.hasOwnProperty(ft)?"attribute":re.hasOwnProperty(ft)?"property":Se.hasOwnProperty(ft)?"keyword":be.hasOwnProperty(ft)?"property":Re.hasOwnProperty(ft)?we?"string-2":"property":fe.hasOwnProperty(ft)?"atom":le.hasOwnProperty(ft)?"keyword":"error"}return Et.context.type},atComponentBlock:function(Ke,Bt,Et){return"}"==Ke?Ot(Ke,Bt,Et):"{"==Ke?Je(Et)&&ze(Et,Bt,ge?"block":"top",!1):("word"==Ke&&(Ye="error"),Et.context.type)},atBlock_parens:function(Ke,Bt,Et){return")"==Ke?Je(Et):"{"==Ke||"}"==Ke?Ot(Ke,Bt,Et,2):qe.atBlock(Ke,Bt,Et)},restricted_atBlock_before:function(Ke,Bt,Et){return"{"==Ke?ze(Et,Bt,"restricted_atBlock"):"word"==Ke&&"@counter-style"==Et.stateArg?(Ye="variable","restricted_atBlock_before"):pt(Ke,Bt,Et)},restricted_atBlock:function(Ke,Bt,Et){return"}"==Ke?(Et.stateArg=null,Je(Et)):"word"==Ke?(Ye="@font-face"==Et.stateArg&&!He.hasOwnProperty(Bt.current().toLowerCase())||"@counter-style"==Et.stateArg&&!ue.hasOwnProperty(Bt.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(Ke,Bt,Et){return"word"==Ke?(Ye="variable","keyframes"):"{"==Ke?ze(Et,Bt,"top"):pt(Ke,Bt,Et)},at:function(Ke,Bt,Et){return";"==Ke?Je(Et):"{"==Ke||"}"==Ke?Ot(Ke,Bt,Et):("word"==Ke?Ye="tag":"hash"==Ke&&(Ye="builtin"),"at")},interpolation:function(Ke,Bt,Et){return"}"==Ke?Je(Et):"{"==Ke||";"==Ke?Ot(Ke,Bt,Et):("word"==Ke?Ye="variable":"variable"!=Ke&&"("!=Ke&&")"!=Ke&&(Ye="error"),"interpolation")}};return{startState:function(Ke){return{tokenize:null,state:z?"block":"top",stateArg:null,context:new _e(z?"block":"top",Ke||0,null)}},token:function(Ke,Bt){if(!Bt.tokenize&&Ke.eatSpace())return null;var Et=(Bt.tokenize||Dt)(Ke,Bt);return Et&&"object"==typeof Et&&(ke=Et[1],Et=Et[0]),Ye=Et,"comment"!=ke&&(Bt.state=qe[Bt.state](ke,Ke,Bt)),Ye},indent:function(Ke,Bt){var Et=Ke.context,ft=Bt&&Bt.charAt(0),xt=Et.indent;return"prop"==Et.type&&("}"==ft||")"==ft)&&(Et=Et.prev),Et.prev&&("}"!=ft||"block"!=Et.type&&"top"!=Et.type&&"interpolation"!=Et.type&&"restricted_atBlock"!=Et.type?(")"==ft&&("parens"==Et.type||"atBlock_parens"==Et.type)||"{"==ft&&("at"==Et.type||"atBlock"==Et.type))&&(xt=Math.max(0,Et.indent-R)):xt=(Et=Et.prev).indent),xt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:X.lineComment,fold:"brace"}});var D=["domain","regexp","url","url-prefix"],e=K(D),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],_=K(l),p=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],h=K(p),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],w=K(g),y=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],b=K(y),M=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],E=K(M),F=K(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),A=K(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),S=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Q=K(S),O=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],W=K(O),j=D.concat(l).concat(p).concat(g).concat(y).concat(M).concat(S).concat(O);function Y(U,X){for(var R,z=!1;null!=(R=U.next());){if(z&&"/"==R){X.tokenize=null;break}z="*"==R}return["comment","comment"]}N.registerHelper("hintWords","css",j),N.defineMIME("text/css",{documentTypes:e,mediaTypes:_,mediaFeatures:h,mediaValueKeywords:w,propertyKeywords:b,nonStandardPropertyKeywords:E,fontProperties:F,counterDescriptors:A,colorKeywords:Q,valueKeywords:W,tokenHooks:{"/":function(U,X){return!!U.eat("*")&&(X.tokenize=Y,Y(U,X))}},name:"css"}),N.defineMIME("text/x-scss",{mediaTypes:_,mediaFeatures:h,mediaValueKeywords:w,propertyKeywords:b,nonStandardPropertyKeywords:E,colorKeywords:Q,valueKeywords:W,fontProperties:F,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(U,X){return U.eat("/")?(U.skipToEnd(),["comment","comment"]):U.eat("*")?(X.tokenize=Y,Y(U,X)):["operator","operator"]},":":function(U){return!!U.match(/^\s*\{/,!1)&&[null,null]},$:function(U){return U.match(/^[\w-]+/),U.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(U){return!!U.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),N.defineMIME("text/x-less",{mediaTypes:_,mediaFeatures:h,mediaValueKeywords:w,propertyKeywords:b,nonStandardPropertyKeywords:E,colorKeywords:Q,valueKeywords:W,fontProperties:F,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(U,X){return U.eat("/")?(U.skipToEnd(),["comment","comment"]):U.eat("*")?(X.tokenize=Y,Y(U,X)):["operator","operator"]},"@":function(U){return U.eat("{")?[null,"interpolation"]:!U.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(U.eatWhile(/[\w\\\-]/),U.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),N.defineMIME("text/x-gss",{documentTypes:e,mediaTypes:_,mediaFeatures:h,propertyKeywords:b,nonStandardPropertyKeywords:E,fontProperties:F,counterDescriptors:A,colorKeywords:Q,valueKeywords:W,supportsAtComponent:!0,tokenHooks:{"/":function(U,X){return!!U.eat("*")&&(X.tokenize=Y,Y(U,X))}},name:"css",helperType:"gss"})}(ie(1382))},1471:(Rt,Be,ie)=>{!function(N){"use strict";N.defineMode("javascript",function(K,D){var T,F,e=K.indentUnit,l=D.statementIndent,_=D.jsonld,p=D.json||_,h=!1!==D.trackScope,g=D.typescript,w=D.wordCharacters||/[\w$\xa1-\uffff]/,y=function(){function Gt($t){return{type:$t,style:"keyword"}}var ai=Gt("keyword a"),hi=Gt("keyword b"),Ut=Gt("keyword c"),Yt=Gt("keyword d"),ui=Gt("operator"),Vt={type:"atom",style:"atom"};return{if:Gt("if"),while:ai,with:ai,else:hi,do:hi,try:hi,finally:hi,return:Yt,break:Yt,continue:Yt,new:Gt("new"),delete:Ut,void:Ut,throw:Ut,debugger:Gt("debugger"),var:Gt("var"),const:Gt("var"),let:Gt("var"),function:Gt("function"),catch:Gt("catch"),for:Gt("for"),switch:Gt("switch"),case:Gt("case"),default:Gt("default"),in:ui,typeof:ui,instanceof:ui,true:Vt,false:Vt,null:Vt,undefined:Vt,NaN:Vt,Infinity:Vt,this:Gt("this"),class:Gt("class"),super:Gt("atom"),yield:Ut,export:Gt("export"),import:Gt("import"),extends:Ut,await:Ut}}(),b=/[+\-*&%=<>!?|~^@]/,M=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function k(Gt,ai,hi){return T=Gt,F=hi,ai}function A(Gt,ai){var hi=Gt.next();if('"'==hi||"'"==hi)return ai.tokenize=function S(Gt){return function(ai,hi){var Yt,Ut=!1;if(_&&"@"==ai.peek()&&ai.match(M))return hi.tokenize=A,k("jsonld-keyword","meta");for(;null!=(Yt=ai.next())&&(Yt!=Gt||Ut);)Ut=!Ut&&"\\"==Yt;return Ut||(hi.tokenize=A),k("string","string")}}(hi),ai.tokenize(Gt,ai);if("."==hi&&Gt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return k("number","number");if("."==hi&&Gt.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(hi))return k(hi);if("="==hi&&Gt.eat(">"))return k("=>","operator");if("0"==hi&&Gt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return k("number","number");if(/\d/.test(hi))return Gt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),k("number","number");if("/"==hi)return Gt.eat("*")?(ai.tokenize=Q,Q(Gt,ai)):Gt.eat("/")?(Gt.skipToEnd(),k("comment","comment")):Eo(Gt,ai,1)?(function E(Gt){for(var hi,ai=!1,Ut=!1;null!=(hi=Gt.next());){if(!ai){if("/"==hi&&!Ut)return;"["==hi?Ut=!0:Ut&&"]"==hi&&(Ut=!1)}ai=!ai&&"\\"==hi}}(Gt),Gt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),k("regexp","string-2")):(Gt.eat("="),k("operator","operator",Gt.current()));if("`"==hi)return ai.tokenize=O,O(Gt,ai);if("#"==hi&&"!"==Gt.peek())return Gt.skipToEnd(),k("meta","meta");if("#"==hi&&Gt.eatWhile(w))return k("variable","property");if("<"==hi&&Gt.match("!--")||"-"==hi&&Gt.match("->")&&!/\S/.test(Gt.string.slice(0,Gt.start)))return Gt.skipToEnd(),k("comment","comment");if(b.test(hi))return(">"!=hi||!ai.lexical||">"!=ai.lexical.type)&&(Gt.eat("=")?("!"==hi||"="==hi)&&Gt.eat("="):/[<>*+\-|&?]/.test(hi)&&(Gt.eat(hi),">"==hi&&Gt.eat(hi))),"?"==hi&&Gt.eat(".")?k("."):k("operator","operator",Gt.current());if(w.test(hi)){Gt.eatWhile(w);var Ut=Gt.current();if("."!=ai.lastType){if(y.propertyIsEnumerable(Ut)){var Yt=y[Ut];return k(Yt.type,Yt.style,Ut)}if("async"==Ut&&Gt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return k("async","keyword",Ut)}return k("variable","variable",Ut)}}function Q(Gt,ai){for(var Ut,hi=!1;Ut=Gt.next();){if("/"==Ut&&hi){ai.tokenize=A;break}hi="*"==Ut}return k("comment","comment")}function O(Gt,ai){for(var Ut,hi=!1;null!=(Ut=Gt.next());){if(!hi&&("`"==Ut||"$"==Ut&&Gt.eat("{"))){ai.tokenize=A;break}hi=!hi&&"\\"==Ut}return k("quasi","string-2",Gt.current())}var W="([{}])";function j(Gt,ai){ai.fatArrowAt&&(ai.fatArrowAt=null);var hi=Gt.string.indexOf("=>",Gt.start);if(!(hi<0)){if(g){var Ut=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Gt.string.slice(Gt.start,hi));Ut&&(hi=Ut.index)}for(var Yt=0,ui=!1,Vt=hi-1;Vt>=0;--Vt){var $t=Gt.string.charAt(Vt),ei=W.indexOf($t);if(ei>=0&&ei<3){if(!Yt){++Vt;break}if(0==--Yt){"("==$t&&(ui=!0);break}}else if(ei>=3&&ei<6)++Yt;else if(w.test($t))ui=!0;else if(/["'\/`]/.test($t))for(;;--Vt){if(0==Vt)return;if(Gt.string.charAt(Vt-1)==$t&&"\\"!=Gt.string.charAt(Vt-2)){Vt--;break}}else if(ui&&!Yt){++Vt;break}}ui&&!Yt&&(ai.fatArrowAt=Vt)}}var Y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function U(Gt,ai,hi,Ut,Yt,ui){this.indented=Gt,this.column=ai,this.type=hi,this.prev=Yt,this.info=ui,null!=Ut&&(this.align=Ut)}function X(Gt,ai){if(!h)return!1;for(var hi=Gt.localVars;hi;hi=hi.next)if(hi.name==ai)return!0;for(var Ut=Gt.context;Ut;Ut=Ut.prev)for(hi=Ut.vars;hi;hi=hi.next)if(hi.name==ai)return!0}function z(Gt,ai,hi,Ut,Yt){var ui=Gt.cc;for(R.state=Gt,R.stream=Yt,R.marked=null,R.cc=ui,R.style=ai,Gt.lexical.hasOwnProperty("align")||(Gt.lexical.align=!0);;)if((ui.length?ui.pop():p?_t:ke)(hi,Ut)){for(;ui.length&&ui[ui.length-1].lex;)ui.pop()();return R.marked?R.marked:"variable"==hi&&X(Gt,Ut)?"variable-2":ai}}var R={state:null,column:null,marked:null,cc:null};function Z(){for(var Gt=arguments.length-1;Gt>=0;Gt--)R.cc.push(arguments[Gt])}function q(){return Z.apply(null,arguments),!0}function ae(Gt,ai){for(var hi=ai;hi;hi=hi.next)if(hi.name==Gt)return!0;return!1}function re(Gt){var ai=R.state;if(R.marked="def",h){if(ai.context)if("var"==ai.lexical.info&&ai.context&&ai.context.block){var hi=Se(Gt,ai.context);if(null!=hi)return void(ai.context=hi)}else if(!ae(Gt,ai.localVars))return void(ai.localVars=new He(Gt,ai.localVars));D.globalVars&&!ae(Gt,ai.globalVars)&&(ai.globalVars=new He(Gt,ai.globalVars))}}function Se(Gt,ai){if(ai){if(ai.block){var hi=Se(Gt,ai.prev);return hi?hi==ai.prev?ai:new Re(hi,ai.vars,!0):null}return ae(Gt,ai.vars)?ai:new Re(ai.prev,new He(Gt,ai.vars),!1)}return null}function be(Gt){return"public"==Gt||"private"==Gt||"protected"==Gt||"abstract"==Gt||"readonly"==Gt}function Re(Gt,ai,hi){this.prev=Gt,this.vars=ai,this.block=hi}function He(Gt,ai){this.name=Gt,this.next=ai}var ue=new He("this",new He("arguments",null));function le(){R.state.context=new Re(R.state.context,R.state.localVars,!1),R.state.localVars=ue}function fe(){R.state.context=new Re(R.state.context,R.state.localVars,!0),R.state.localVars=null}function ge(){R.state.localVars=R.state.context.vars,R.state.context=R.state.context.prev}function Te(Gt,ai){var hi=function(){var Ut=R.state,Yt=Ut.indented;if("stat"==Ut.lexical.type)Yt=Ut.lexical.indented;else for(var ui=Ut.lexical;ui&&")"==ui.type&&ui.align;ui=ui.prev)Yt=ui.indented;Ut.lexical=new U(Yt,R.stream.column(),Gt,null,Ut.lexical,ai)};return hi.lex=!0,hi}function se(){var Gt=R.state;Gt.lexical.prev&&(")"==Gt.lexical.type&&(Gt.indented=Gt.lexical.indented),Gt.lexical=Gt.lexical.prev)}function we(Gt){return function ai(hi){return hi==Gt?q():";"==Gt||"}"==hi||")"==hi||"]"==hi?Z():q(ai)}}function ke(Gt,ai){return"var"==Gt?q(Te("vardef",ai),vi,we(";"),se):"keyword a"==Gt?q(Te("form"),ni,ke,se):"keyword b"==Gt?q(Te("form"),ke,se):"keyword d"==Gt?R.stream.match(/^\s*$/,!1)?q():q(Te("stat"),_e,we(";"),se):"debugger"==Gt?q(we(";")):"{"==Gt?q(Te("}"),fe,St,se,ge):";"==Gt?q():"if"==Gt?("else"==R.state.lexical.info&&R.state.cc[R.state.cc.length-1]==se&&R.state.cc.pop()(),q(Te("form"),ni,ke,se,Di)):"function"==Gt?q(mn):"for"==Gt?q(Te("form"),fe,sn,ke,ge,se):"class"==Gt||g&&"interface"==ai?(R.marked="keyword",q(Te("form","class"==Gt?Gt:ai),Ei,se)):"variable"==Gt?g&&"declare"==ai?(R.marked="keyword",q(ke)):g&&("module"==ai||"enum"==ai||"type"==ai)&&R.stream.match(/^\s*\w/,!1)?(R.marked="keyword","enum"==ai?q(ao):"type"==ai?q(_n,we("operator"),Ri,we(";")):q(Te("form"),Jt,we("{"),Te("}"),St,se,se)):g&&"namespace"==ai?(R.marked="keyword",q(Te("form"),_t,ke,se)):g&&"abstract"==ai?(R.marked="keyword",q(ke)):q(Te("stat"),ft):"switch"==Gt?q(Te("form"),ni,we("{"),Te("}","switch"),fe,St,se,se,ge):"case"==Gt?q(_t,we(":")):"default"==Gt?q(we(":")):"catch"==Gt?q(Te("form"),le,Ye,ke,se,ge):"export"==Gt?q(Te("stat"),Cn,se):"import"==Gt?q(Te("stat"),En,se):"async"==Gt?q(ke):"@"==ai?q(_t,ke):Z(Te("stat"),_t,we(";"),se)}function Ye(Gt){if("("==Gt)return q(di,we(")"))}function _t(Gt,ai){return je(Gt,ai,!1)}function Dt(Gt,ai){return je(Gt,ai,!0)}function ni(Gt){return"("!=Gt?Z():q(Te(")"),_e,we(")"),se)}function je(Gt,ai,hi){if(R.state.fatArrowAt==R.stream.start){var Ut=hi?qe:At;if("("==Gt)return q(le,Te(")"),ut(di,")"),se,we("=>"),Ut,ge);if("variable"==Gt)return Z(le,Jt,we("=>"),Ut,ge)}var Yt=hi?Je:ze;return Y.hasOwnProperty(Gt)?q(Yt):"function"==Gt?q(mn,Yt):"class"==Gt||g&&"interface"==ai?(R.marked="keyword",q(Te("form"),si,se)):"keyword c"==Gt||"async"==Gt?q(hi?Dt:_t):"("==Gt?q(Te(")"),_e,we(")"),se,Yt):"operator"==Gt||"spread"==Gt?q(hi?Dt:_t):"["==Gt?q(Te("]"),Xn,se,Yt):"{"==Gt?ti(We,"}",null,Yt):"quasi"==Gt?Z(pt,Yt):"new"==Gt?q(function Ke(Gt){return function(ai){return"."==ai?q(Gt?Et:Bt):"variable"==ai&&g?q(Ht,Gt?Je:ze):Z(Gt?Dt:_t)}}(hi)):q()}function _e(Gt){return Gt.match(/[;\}\)\],]/)?Z():Z(_t)}function ze(Gt,ai){return","==Gt?q(_e):Je(Gt,ai,!1)}function Je(Gt,ai,hi){var Ut=0==hi?ze:Je,Yt=0==hi?_t:Dt;if("=>"==Gt)return q(le,hi?qe:At,ge);if("operator"==Gt)return/\+\+|--/.test(ai)||g&&"!"==ai?q(Ut):g&&"<"==ai&&R.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?q(Te(">"),ut(Ri,">"),se,Ut):"?"==ai?q(_t,we(":"),Yt):q(Yt);if("quasi"==Gt)return Z(pt,Ut);if(";"!=Gt){if("("==Gt)return ti(Dt,")","call",Ut);if("."==Gt)return q(xt,Ut);if("["==Gt)return q(Te("]"),_e,we("]"),se,Ut);if(g&&"as"==ai)return R.marked="keyword",q(Ri,Ut);if("regexp"==Gt)return R.state.lastType=R.marked="operator",R.stream.backUp(R.stream.pos-R.stream.start-1),q(Yt)}}function pt(Gt,ai){return"quasi"!=Gt?Z():"${"!=ai.slice(ai.length-2)?q(pt):q(_e,Ot)}function Ot(Gt){if("}"==Gt)return R.marked="string-2",R.state.tokenize=O,q(pt)}function At(Gt){return j(R.stream,R.state),Z("{"==Gt?ke:_t)}function qe(Gt){return j(R.stream,R.state),Z("{"==Gt?ke:Dt)}function Bt(Gt,ai){if("target"==ai)return R.marked="keyword",q(ze)}function Et(Gt,ai){if("target"==ai)return R.marked="keyword",q(Je)}function ft(Gt){return":"==Gt?q(se,ke):Z(ze,we(";"),se)}function xt(Gt){if("variable"==Gt)return R.marked="property",q()}function We(Gt,ai){return"async"==Gt?(R.marked="property",q(We)):"variable"==Gt||"keyword"==R.style?(R.marked="property","get"==ai||"set"==ai?q(De):(g&&R.state.fatArrowAt==R.stream.start&&(hi=R.stream.match(/^\s*:\s*/,!1))&&(R.state.fatArrowAt=R.stream.pos+hi[0].length),q(Ze))):"number"==Gt||"string"==Gt?(R.marked=_?"property":R.style+" property",q(Ze)):"jsonld-keyword"==Gt?q(Ze):g&&be(ai)?(R.marked="keyword",q(We)):"["==Gt?q(_t,et,we("]"),Ze):"spread"==Gt?q(Dt,Ze):"*"==ai?(R.marked="keyword",q(We)):":"==Gt?Z(Ze):void 0;var hi}function De(Gt){return"variable"!=Gt?Z(Ze):(R.marked="property",q(mn))}function Ze(Gt){return":"==Gt?q(Dt):"("==Gt?Z(mn):void 0}function ut(Gt,ai,hi){function Ut(Yt,ui){if(hi?hi.indexOf(Yt)>-1:","==Yt){var Vt=R.state.lexical;return"call"==Vt.info&&(Vt.pos=(Vt.pos||0)+1),q(function($t,ei){return $t==ai||ei==ai?Z():Z(Gt)},Ut)}return Yt==ai||ui==ai?q():hi&&hi.indexOf(";")>-1?Z(Gt):q(we(ai))}return function(Yt,ui){return Yt==ai||ui==ai?q():Z(Gt,Ut)}}function ti(Gt,ai,hi){for(var Ut=3;Ut<arguments.length;Ut++)R.cc.push(arguments[Ut]);return q(Te(ai,hi),ut(Gt,ai),se)}function St(Gt){return"}"==Gt?q():Z(ke,St)}function et(Gt,ai){if(g){if(":"==Gt)return q(Ri);if("?"==ai)return q(et)}}function Bi(Gt,ai){if(g&&(":"==Gt||"in"==ai))return q(Ri)}function fi(Gt){if(g&&":"==Gt)return R.stream.match(/^\s*\w+\s+is\b/,!1)?q(_t,Xi,Ri):q(Ri)}function Xi(Gt,ai){if("is"==ai)return R.marked="keyword",q()}function Ri(Gt,ai){return"keyof"==ai||"typeof"==ai||"infer"==ai||"readonly"==ai?(R.marked="keyword",q("typeof"==ai?Dt:Ri)):"variable"==Gt||"void"==ai?(R.marked="type",q(it)):"|"==ai||"&"==ai?q(Ri):"string"==Gt||"number"==Gt||"atom"==Gt?q(it):"["==Gt?q(Te("]"),ut(Ri,"]",","),se,it):"{"==Gt?q(Te("}"),lt,se,it):"("==Gt?q(ut(Nt,")"),Lt,it):"<"==Gt?q(ut(Ri,">"),Ri):"quasi"==Gt?Z(Fe,it):void 0}function Lt(Gt){if("=>"==Gt)return q(Ri)}function lt(Gt){return Gt.match(/[\}\)\]]/)?q():","==Gt||";"==Gt?q(lt):Z(pe,lt)}function pe(Gt,ai){return"variable"==Gt||"keyword"==R.style?(R.marked="property",q(pe)):"?"==ai||"number"==Gt||"string"==Gt?q(pe):":"==Gt?q(Ri):"["==Gt?q(we("variable"),Bi,we("]"),pe):"("==Gt?Z(Sn,pe):Gt.match(/[;\}\)\],]/)?void 0:q()}function Fe(Gt,ai){return"quasi"!=Gt?Z():"${"!=ai.slice(ai.length-2)?q(Fe):q(Ri,at)}function at(Gt){if("}"==Gt)return R.marked="string-2",R.state.tokenize=O,q(Fe)}function Nt(Gt,ai){return"variable"==Gt&&R.stream.match(/^\s*[?:]/,!1)||"?"==ai?q(Nt):":"==Gt?q(Ri):"spread"==Gt?q(Nt):Z(Ri)}function it(Gt,ai){return"<"==ai?q(Te(">"),ut(Ri,">"),se,it):"|"==ai||"."==Gt||"&"==ai?q(Ri):"["==Gt?q(Ri,we("]"),it):"extends"==ai||"implements"==ai?(R.marked="keyword",q(Ri)):"?"==ai?q(Ri,we(":"),Ri):void 0}function Ht(Gt,ai){if("<"==ai)return q(Te(">"),ut(Ri,">"),se,it)}function on(){return Z(Ri,Ge)}function Ge(Gt,ai){if("="==ai)return q(Ri)}function vi(Gt,ai){return"enum"==ai?(R.marked="keyword",q(ao)):Z(Jt,et,Pt,Fi)}function Jt(Gt,ai){return g&&be(ai)?(R.marked="keyword",q(Jt)):"variable"==Gt?(re(ai),q()):"spread"==Gt?q(Jt):"["==Gt?ti(bt,"]"):"{"==Gt?ti(Xe,"}"):void 0}function Xe(Gt,ai){return"variable"!=Gt||R.stream.match(/^\s*:/,!1)?("variable"==Gt&&(R.marked="property"),"spread"==Gt?q(Jt):"}"==Gt?Z():"["==Gt?q(_t,we("]"),we(":"),Xe):q(we(":"),Jt,Pt)):(re(ai),q(Pt))}function bt(){return Z(Jt,Pt)}function Pt(Gt,ai){if("="==ai)return q(Dt)}function Fi(Gt){if(","==Gt)return q(vi)}function Di(Gt,ai){if("keyword b"==Gt&&"else"==ai)return q(Te("form","else"),ke,se)}function sn(Gt,ai){return"await"==ai?q(sn):"("==Gt?q(Te(")"),un,se):void 0}function un(Gt){return"var"==Gt?q(vi,or):"variable"==Gt?q(or):Z(or)}function or(Gt,ai){return")"==Gt?q():";"==Gt?q(or):"in"==ai||"of"==ai?(R.marked="keyword",q(_t,or)):Z(_t,or)}function mn(Gt,ai){return"*"==ai?(R.marked="keyword",q(mn)):"variable"==Gt?(re(ai),q(mn)):"("==Gt?q(le,Te(")"),ut(di,")"),se,fi,ke,ge):g&&"<"==ai?q(Te(">"),ut(on,">"),se,mn):void 0}function Sn(Gt,ai){return"*"==ai?(R.marked="keyword",q(Sn)):"variable"==Gt?(re(ai),q(Sn)):"("==Gt?q(le,Te(")"),ut(di,")"),se,fi,ge):g&&"<"==ai?q(Te(">"),ut(on,">"),se,Sn):void 0}function _n(Gt,ai){return"keyword"==Gt||"variable"==Gt?(R.marked="type",q(_n)):"<"==ai?q(Te(">"),ut(on,">"),se):void 0}function di(Gt,ai){return"@"==ai&&q(_t,di),"spread"==Gt?q(di):g&&be(ai)?(R.marked="keyword",q(di)):g&&"this"==Gt?q(et,Pt):Z(Jt,et,Pt)}function si(Gt,ai){return"variable"==Gt?Ei(Gt,ai):ln(Gt,ai)}function Ei(Gt,ai){if("variable"==Gt)return re(ai),q(ln)}function ln(Gt,ai){return"<"==ai?q(Te(">"),ut(on,">"),se,ln):"extends"==ai||"implements"==ai||g&&","==Gt?("implements"==ai&&(R.marked="keyword"),q(g?Ri:_t,ln)):"{"==Gt?q(Te("}"),Ji,se):void 0}function Ji(Gt,ai){return"async"==Gt||"variable"==Gt&&("static"==ai||"get"==ai||"set"==ai||g&&be(ai))&&R.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(R.marked="keyword",q(Ji)):"variable"==Gt||"keyword"==R.style?(R.marked="property",q(Qn,Ji)):"number"==Gt||"string"==Gt?q(Qn,Ji):"["==Gt?q(_t,et,we("]"),Qn,Ji):"*"==ai?(R.marked="keyword",q(Ji)):g&&"("==Gt?Z(Sn,Ji):";"==Gt||","==Gt?q(Ji):"}"==Gt?q():"@"==ai?q(_t,Ji):void 0}function Qn(Gt,ai){if("!"==ai||"?"==ai)return q(Qn);if(":"==Gt)return q(Ri,Pt);if("="==ai)return q(Dt);var hi=R.state.lexical.prev;return Z(hi&&"interface"==hi.info?Sn:mn)}function Cn(Gt,ai){return"*"==ai?(R.marked="keyword",q(Rn,we(";"))):"default"==ai?(R.marked="keyword",q(_t,we(";"))):"{"==Gt?q(ut(mr,"}"),Rn,we(";")):Z(ke)}function mr(Gt,ai){return"as"==ai?(R.marked="keyword",q(we("variable"))):"variable"==Gt?Z(Dt,mr):void 0}function En(Gt){return"string"==Gt?q():"("==Gt?Z(_t):"."==Gt?Z(ze):Z(co,la,Rn)}function co(Gt,ai){return"{"==Gt?ti(co,"}"):("variable"==Gt&&re(ai),"*"==ai&&(R.marked="keyword"),q(Xr))}function la(Gt){if(","==Gt)return q(co,la)}function Xr(Gt,ai){if("as"==ai)return R.marked="keyword",q(co)}function Rn(Gt,ai){if("from"==ai)return R.marked="keyword",q(_t)}function Xn(Gt){return"]"==Gt?q():Z(ut(Dt,"]"))}function ao(){return Z(Te("form"),Jt,we("{"),Te("}"),ut(Lr,"}"),se,se)}function Lr(){return Z(Jt,Pt)}function Eo(Gt,ai,hi){return ai.tokenize==A&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ai.lastType)||"quasi"==ai.lastType&&/\{\s*$/.test(Gt.string.slice(0,Gt.pos-(hi||0)))}return le.lex=fe.lex=!0,ge.lex=!0,se.lex=!0,{startState:function(Gt){var ai={tokenize:A,lastType:"sof",cc:[],lexical:new U((Gt||0)-e,0,"block",!1),localVars:D.localVars,context:D.localVars&&new Re(null,null,!1),indented:Gt||0};return D.globalVars&&"object"==typeof D.globalVars&&(ai.globalVars=D.globalVars),ai},token:function(Gt,ai){if(Gt.sol()&&(ai.lexical.hasOwnProperty("align")||(ai.lexical.align=!1),ai.indented=Gt.indentation(),j(Gt,ai)),ai.tokenize!=Q&&Gt.eatSpace())return null;var hi=ai.tokenize(Gt,ai);return"comment"==T?hi:(ai.lastType="operator"!=T||"++"!=F&&"--"!=F?T:"incdec",z(ai,hi,T,F,Gt))},indent:function(Gt,ai){if(Gt.tokenize==Q||Gt.tokenize==O)return N.Pass;if(Gt.tokenize!=A)return 0;var Yt,hi=ai&&ai.charAt(0),Ut=Gt.lexical;if(!/^\s*else\b/.test(ai))for(var ui=Gt.cc.length-1;ui>=0;--ui){var Vt=Gt.cc[ui];if(Vt==se)Ut=Ut.prev;else if(Vt!=Di&&Vt!=ge)break}for(;("stat"==Ut.type||"form"==Ut.type)&&("}"==hi||(Yt=Gt.cc[Gt.cc.length-1])&&(Yt==ze||Yt==Je)&&!/^[,\.=+\-*:?[\(]/.test(ai));)Ut=Ut.prev;l&&")"==Ut.type&&"stat"==Ut.prev.type&&(Ut=Ut.prev);var $t=Ut.type,ei=hi==$t;return"vardef"==$t?Ut.indented+("operator"==Gt.lastType||","==Gt.lastType?Ut.info.length+1:0):"form"==$t&&"{"==hi?Ut.indented:"form"==$t?Ut.indented+e:"stat"==$t?Ut.indented+(function sr(Gt,ai){return"operator"==Gt.lastType||","==Gt.lastType||b.test(ai.charAt(0))||/[,.]/.test(ai.charAt(0))}(Gt,ai)?l||e:0):"switch"!=Ut.info||ei||0==D.doubleIndentSwitch?Ut.align?Ut.column+(ei?0:1):Ut.indented+(ei?0:e):Ut.indented+(/^(?:case|default)\b/.test(ai)?e:2*e)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:_,jsonMode:p,expressionAllowed:Eo,skipExpression:function(Gt){z(Gt,"atom","atom","true",new N.StringStream("",2,null))}}}),N.registerHelper("wordChars","javascript",/[\w$]/),N.defineMIME("text/javascript","javascript"),N.defineMIME("text/ecmascript","javascript"),N.defineMIME("application/javascript","javascript"),N.defineMIME("application/x-javascript","javascript"),N.defineMIME("application/ecmascript","javascript"),N.defineMIME("application/json",{name:"javascript",json:!0}),N.defineMIME("application/x-json",{name:"javascript",json:!0}),N.defineMIME("application/manifest+json",{name:"javascript",json:!0}),N.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),N.defineMIME("text/typescript",{name:"javascript",typescript:!0}),N.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(ie(1382))},1167:(Rt,Be,ie)=>{!function(N){"use strict";N.defineMode("markdown",function(K,D){var e=N.getMode(K,"text/html"),l="null"==e.name;void 0===D.highlightFormatting&&(D.highlightFormatting=!1),void 0===D.maxBlockquoteDepth&&(D.maxBlockquoteDepth=0),void 0===D.taskLists&&(D.taskLists=!1),void 0===D.strikethrough&&(D.strikethrough=!1),void 0===D.emoji&&(D.emoji=!1),void 0===D.fencedCodeBlockHighlighting&&(D.fencedCodeBlockHighlighting=!0),void 0===D.fencedCodeBlockDefaultMode&&(D.fencedCodeBlockDefaultMode="text/plain"),void 0===D.xml&&(D.xml=!0),void 0===D.tokenTypeOverrides&&(D.tokenTypeOverrides={});var p={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var h in p)p.hasOwnProperty(h)&&D.tokenTypeOverrides[h]&&(p[h]=D.tokenTypeOverrides[h]);var g=/^([*\-_])(?:\s*\1){2,}\s*$/,w=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,y=/^\[(x| )\](?=\s)/i,b=D.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,M=/^ {0,3}(?:\={1,}|-{2,})\s*$/,E=/^[^#!\[\]*_\\<>` "'(~:]+/,T=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,F=/^\s*\[[^\]]+?\]:.*$/,k=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function S(ue,le,fe){return le.f=le.inline=fe,fe(ue,le)}function Q(ue,le,fe){return le.f=le.block=fe,fe(ue,le)}function W(ue){if(ue.linkTitle=!1,ue.linkHref=!1,ue.linkText=!1,ue.em=!1,ue.strong=!1,ue.strikethrough=!1,ue.quote=0,ue.indentedCode=!1,ue.f==Y){var le=l;if(!le){var fe=N.innerMode(e,ue.htmlState);le="xml"==fe.mode.name&&null===fe.state.tagStart&&!fe.state.context&&fe.state.tokenize.isInText}le&&(ue.f=R,ue.block=j,ue.htmlState=null)}return ue.trailingSpace=0,ue.trailingSpaceNewLine=!1,ue.prevLine=ue.thisLine,ue.thisLine={stream:null},null}function j(ue,le){var fe=ue.column()===le.indentation,ge=function O(ue){return!ue||!/\S/.test(ue.string)}(le.prevLine.stream),Te=le.indentedCode,se=le.prevLine.hr,we=!1!==le.list,ke=(le.listStack[le.listStack.length-1]||0)+3;le.indentedCode=!1;var Ye=le.indentation;if(null===le.indentationDiff&&(le.indentationDiff=le.indentation,we)){for(le.list=null;Ye<le.listStack[le.listStack.length-1];)le.listStack.pop(),le.listStack.length?le.indentation=le.listStack[le.listStack.length-1]:le.list=!1;!1!==le.list&&(le.indentationDiff=Ye-le.listStack[le.listStack.length-1])}var _t=!(ge||se||le.prevLine.header||we&&Te||le.prevLine.fencedCodeEnd),Dt=(!1===le.list||se||ge)&&le.indentation<=ke&&ue.match(g),ni=null;if(le.indentationDiff>=4&&(Te||le.prevLine.fencedCodeEnd||le.prevLine.header||ge))return ue.skipToEnd(),le.indentedCode=!0,p.code;if(ue.eatSpace())return null;if(fe&&le.indentation<=ke&&(ni=ue.match(b))&&ni[1].length<=6)return le.quote=0,le.header=ni[1].length,le.thisLine.header=!0,D.highlightFormatting&&(le.formatting="header"),le.f=le.inline,X(le);if(le.indentation<=ke&&ue.eat(">"))return le.quote=fe?1:le.quote+1,D.highlightFormatting&&(le.formatting="quote"),ue.eatSpace(),X(le);if(!Dt&&!le.setext&&fe&&le.indentation<=ke&&(ni=ue.match(w))){var je=ni[1]?"ol":"ul";return le.indentation=Ye+ue.current().length,le.list=!0,le.quote=0,le.listStack.push(le.indentation),le.em=!1,le.strong=!1,le.code=!1,le.strikethrough=!1,D.taskLists&&ue.match(y,!1)&&(le.taskList=!0),le.f=le.inline,D.highlightFormatting&&(le.formatting=["list","list-"+je]),X(le)}return fe&&le.indentation<=ke&&(ni=ue.match(T,!0))?(le.quote=0,le.fencedEndRE=new RegExp(ni[1]+"+ *$"),le.localMode=D.fencedCodeBlockHighlighting&&function _(ue){if(N.findModeByName){var le=N.findModeByName(ue);le&&(ue=le.mime||le.mimes[0])}var fe=N.getMode(K,ue);return"null"==fe.name?null:fe}(ni[2]||D.fencedCodeBlockDefaultMode),le.localMode&&(le.localState=N.startState(le.localMode)),le.f=le.block=U,D.highlightFormatting&&(le.formatting="code-block"),le.code=-1,X(le)):le.setext||!(_t&&we||le.quote||!1!==le.list||le.code||Dt||F.test(ue.string))&&(ni=ue.lookAhead(1))&&(ni=ni.match(M))?(le.setext?(le.header=le.setext,le.setext=0,ue.skipToEnd(),D.highlightFormatting&&(le.formatting="header")):(le.header="="==ni[0].charAt(0)?1:2,le.setext=le.header),le.thisLine.header=!0,le.f=le.inline,X(le)):Dt?(ue.skipToEnd(),le.hr=!0,le.thisLine.hr=!0,p.hr):"["===ue.peek()?S(ue,le,Se):S(ue,le,le.inline)}function Y(ue,le){var fe=e.token(ue,le.htmlState);if(!l){var ge=N.innerMode(e,le.htmlState);("xml"==ge.mode.name&&null===ge.state.tagStart&&!ge.state.context&&ge.state.tokenize.isInText||le.md_inside&&ue.current().indexOf(">")>-1)&&(le.f=R,le.block=j,le.htmlState=null)}return fe}function U(ue,le){var se,fe=le.listStack[le.listStack.length-1]||0,ge=le.indentation<fe;return le.fencedEndRE&&le.indentation<=fe+3&&(ge||ue.match(le.fencedEndRE))?(D.highlightFormatting&&(le.formatting="code-block"),ge||(se=X(le)),le.localMode=le.localState=null,le.block=j,le.f=R,le.fencedEndRE=null,le.code=0,le.thisLine.fencedCodeEnd=!0,ge?Q(ue,le,le.block):se):le.localMode?le.localMode.token(ue,le.localState):(ue.skipToEnd(),p.code)}function X(ue){var le=[];if(ue.formatting){le.push(p.formatting),"string"==typeof ue.formatting&&(ue.formatting=[ue.formatting]);for(var fe=0;fe<ue.formatting.length;fe++)le.push(p.formatting+"-"+ue.formatting[fe]),"header"===ue.formatting[fe]&&le.push(p.formatting+"-"+ue.formatting[fe]+"-"+ue.header),"quote"===ue.formatting[fe]&&le.push(!D.maxBlockquoteDepth||D.maxBlockquoteDepth>=ue.quote?p.formatting+"-"+ue.formatting[fe]+"-"+ue.quote:"error")}if(ue.taskOpen)return le.push("meta"),le.length?le.join(" "):null;if(ue.taskClosed)return le.push("property"),le.length?le.join(" "):null;if(ue.linkHref?le.push(p.linkHref,"url"):(ue.strong&&le.push(p.strong),ue.em&&le.push(p.em),ue.strikethrough&&le.push(p.strikethrough),ue.emoji&&le.push(p.emoji),ue.linkText&&le.push(p.linkText),ue.code&&le.push(p.code),ue.image&&le.push(p.image),ue.imageAltText&&le.push(p.imageAltText,"link"),ue.imageMarker&&le.push(p.imageMarker)),ue.header&&le.push(p.header,p.header+"-"+ue.header),ue.quote&&(le.push(p.quote),le.push(!D.maxBlockquoteDepth||D.maxBlockquoteDepth>=ue.quote?p.quote+"-"+ue.quote:p.quote+"-"+D.maxBlockquoteDepth)),!1!==ue.list){var ge=(ue.listStack.length-1)%3;le.push(ge?1===ge?p.list2:p.list3:p.list1)}return ue.trailingSpaceNewLine?le.push("trailing-space-new-line"):ue.trailingSpace&&le.push("trailing-space-"+(ue.trailingSpace%2?"a":"b")),le.length?le.join(" "):null}function z(ue,le){if(ue.match(E,!0))return X(le)}function R(ue,le){var fe=le.text(ue,le);if(typeof fe<"u")return fe;if(le.list)return le.list=null,X(le);if(le.taskList)return" "===ue.match(y,!0)[1]?le.taskOpen=!0:le.taskClosed=!0,D.highlightFormatting&&(le.formatting="task"),le.taskList=!1,X(le);if(le.taskOpen=!1,le.taskClosed=!1,le.header&&ue.match(/^#+$/,!0))return D.highlightFormatting&&(le.formatting="header"),X(le);var Te=ue.next();if(le.linkTitle){le.linkTitle=!1;var se=Te;if("("===Te&&(se=")"),se=(se+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"),ue.match(new RegExp("^\\s*(?:[^"+se+"\\\\]+|\\\\\\\\|\\\\.)"+se),!0))return p.linkHref}if("`"===Te){var ke=le.formatting;D.highlightFormatting&&(le.formatting="code"),ue.eatWhile("`");var Ye=ue.current().length;if(0==le.code&&(!le.quote||1==Ye))return le.code=Ye,X(le);if(Ye==le.code){var _t=X(le);return le.code=0,_t}return le.formatting=ke,X(le)}if(le.code)return X(le);if("\\"===Te&&(ue.next(),D.highlightFormatting)){var Dt=X(le),ni=p.formatting+"-escape";return Dt?Dt+" "+ni:ni}if("!"===Te&&ue.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return le.imageMarker=!0,le.image=!0,D.highlightFormatting&&(le.formatting="image"),X(le);if("["===Te&&le.imageMarker&&ue.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return le.imageMarker=!1,le.imageAltText=!0,D.highlightFormatting&&(le.formatting="image"),X(le);if("]"===Te&&le.imageAltText){D.highlightFormatting&&(le.formatting="image");Dt=X(le);return le.imageAltText=!1,le.image=!1,le.inline=le.f=q,Dt}if("["===Te&&!le.image)return le.linkText&&ue.match(/^.*?\]/)||(le.linkText=!0,D.highlightFormatting&&(le.formatting="link")),X(le);if("]"===Te&&le.linkText){D.highlightFormatting&&(le.formatting="link");Dt=X(le);return le.linkText=!1,le.inline=le.f=ue.match(/\(.*?\)| ?\[.*?\]/,!1)?q:R,Dt}if("<"===Te&&ue.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return le.f=le.inline=Z,D.highlightFormatting&&(le.formatting="link"),(Dt=X(le))?Dt+=" ":Dt="",Dt+p.linkInline;if("<"===Te&&ue.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return le.f=le.inline=Z,D.highlightFormatting&&(le.formatting="link"),(Dt=X(le))?Dt+=" ":Dt="",Dt+p.linkEmail;if(D.xml&&"<"===Te&&ue.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var je=ue.string.indexOf(">",ue.pos);if(-1!=je){var _e=ue.string.substring(ue.start,je);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(_e)&&(le.md_inside=!0)}return ue.backUp(1),le.htmlState=N.startState(e),Q(ue,le,Y)}if(D.xml&&"<"===Te&&ue.match(/^\/\w*?>/))return le.md_inside=!1,"tag";if("*"===Te||"_"===Te){for(var ze=1,Je=1==ue.pos?" ":ue.string.charAt(ue.pos-2);ze<3&&ue.eat(Te);)ze++;var pt=ue.peek()||" ",Ot=!/\s/.test(pt)&&(!k.test(pt)||/\s/.test(Je)||k.test(Je)),At=!/\s/.test(Je)&&(!k.test(Je)||/\s/.test(pt)||k.test(pt)),qe=null,Ke=null;if(ze%2&&(le.em||!Ot||"*"!==Te&&At&&!k.test(Je)?le.em==Te&&At&&("*"===Te||!Ot||k.test(pt))&&(qe=!1):qe=!0),ze>1&&(le.strong||!Ot||"*"!==Te&&At&&!k.test(Je)?le.strong==Te&&At&&("*"===Te||!Ot||k.test(pt))&&(Ke=!1):Ke=!0),null!=Ke||null!=qe)return D.highlightFormatting&&(le.formatting=null==qe?"strong":null==Ke?"em":"strong em"),!0===qe&&(le.em=Te),!0===Ke&&(le.strong=Te),_t=X(le),!1===qe&&(le.em=!1),!1===Ke&&(le.strong=!1),_t}else if(" "===Te&&(ue.eat("*")||ue.eat("_"))){if(" "===ue.peek())return X(le);ue.backUp(1)}if(D.strikethrough)if("~"===Te&&ue.eatWhile(Te)){if(le.strikethrough)return D.highlightFormatting&&(le.formatting="strikethrough"),_t=X(le),le.strikethrough=!1,_t;if(ue.match(/^[^\s]/,!1))return le.strikethrough=!0,D.highlightFormatting&&(le.formatting="strikethrough"),X(le)}else if(" "===Te&&ue.match("~~",!0)){if(" "===ue.peek())return X(le);ue.backUp(2)}if(D.emoji&&":"===Te&&ue.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){le.emoji=!0,D.highlightFormatting&&(le.formatting="emoji");var Bt=X(le);return le.emoji=!1,Bt}return" "===Te&&(ue.match(/^ +$/,!1)?le.trailingSpace++:le.trailingSpace&&(le.trailingSpaceNewLine=!0)),X(le)}function Z(ue,le){if(">"===ue.next()){le.f=le.inline=R,D.highlightFormatting&&(le.formatting="link");var ge=X(le);return ge?ge+=" ":ge="",ge+p.linkInline}return ue.match(/^[^>]+/,!0),p.linkInline}function q(ue,le){if(ue.eatSpace())return null;var fe=ue.next();return"("===fe||"["===fe?(le.f=le.inline=function re(ue){return function(le,fe){if(le.next()===ue){fe.f=fe.inline=R,D.highlightFormatting&&(fe.formatting="link-string");var Te=X(fe);return fe.linkHref=!1,Te}return le.match(ae[ue]),fe.linkHref=!0,X(fe)}}("("===fe?")":"]"),D.highlightFormatting&&(le.formatting="link-string"),le.linkHref=!0,X(le)):"error"}var ae={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Se(ue,le){return ue.match(/^([^\]\\]|\\.)*\]:/,!1)?(le.f=be,ue.next(),D.highlightFormatting&&(le.formatting="link"),le.linkText=!0,X(le)):S(ue,le,R)}function be(ue,le){if(ue.match("]:",!0)){le.f=le.inline=Re,D.highlightFormatting&&(le.formatting="link");var fe=X(le);return le.linkText=!1,fe}return ue.match(/^([^\]\\]|\\.)+/,!0),p.linkText}function Re(ue,le){return ue.eatSpace()?null:(ue.match(/^[^\s]+/,!0),void 0===ue.peek()?le.linkTitle=!0:ue.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),le.f=le.inline=R,p.linkHref+" url")}var He={startState:function(){return{f:j,prevLine:{stream:null},thisLine:{stream:null},block:j,htmlState:null,indentation:0,inline:R,text:z,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ue){return{f:ue.f,prevLine:ue.prevLine,thisLine:ue.thisLine,block:ue.block,htmlState:ue.htmlState&&N.copyState(e,ue.htmlState),indentation:ue.indentation,localMode:ue.localMode,localState:ue.localMode?N.copyState(ue.localMode,ue.localState):null,inline:ue.inline,text:ue.text,formatting:!1,linkText:ue.linkText,linkTitle:ue.linkTitle,linkHref:ue.linkHref,code:ue.code,em:ue.em,strong:ue.strong,strikethrough:ue.strikethrough,emoji:ue.emoji,header:ue.header,setext:ue.setext,hr:ue.hr,taskList:ue.taskList,list:ue.list,listStack:ue.listStack.slice(0),quote:ue.quote,indentedCode:ue.indentedCode,trailingSpace:ue.trailingSpace,trailingSpaceNewLine:ue.trailingSpaceNewLine,md_inside:ue.md_inside,fencedEndRE:ue.fencedEndRE}},token:function(ue,le){if(le.formatting=!1,ue!=le.thisLine.stream){if(le.header=0,le.hr=!1,ue.match(/^\s*$/,!0))return W(le),null;if(le.prevLine=le.thisLine,le.thisLine={stream:ue},le.taskList=!1,le.trailingSpace=0,le.trailingSpaceNewLine=!1,!le.localState&&(le.f=le.block,le.f!=Y)){var fe=ue.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(le.indentation=fe,le.indentationDiff=null,fe>0)return null}}return le.f(ue,le)},innerMode:function(ue){return ue.block==Y?{state:ue.htmlState,mode:e}:ue.localState?{state:ue.localState,mode:ue.localMode}:{state:ue,mode:He}},indent:function(ue,le,fe){return ue.block==Y&&e.indent?e.indent(ue.htmlState,le,fe):ue.localState&&ue.localMode.indent?ue.localMode.indent(ue.localState,le,fe):N.Pass},blankLine:W,getType:X,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return He},"xml"),N.defineMIME("text/markdown","markdown"),N.defineMIME("text/x-markdown","markdown")}(ie(1382),ie(8775),ie(8039))},8039:(Rt,Be,ie)=>{!function(N){"use strict";N.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var K=0;K<N.modeInfo.length;K++){var D=N.modeInfo[K];D.mimes&&(D.mime=D.mimes[0])}N.findModeByMIME=function(e){e=e.toLowerCase();for(var l=0;l<N.modeInfo.length;l++){var _=N.modeInfo[l];if(_.mime==e)return _;if(_.mimes)for(var p=0;p<_.mimes.length;p++)if(_.mimes[p]==e)return _}return/\+xml$/.test(e)?N.findModeByMIME("application/xml"):/\+json$/.test(e)?N.findModeByMIME("application/json"):void 0},N.findModeByExtension=function(e){e=e.toLowerCase();for(var l=0;l<N.modeInfo.length;l++){var _=N.modeInfo[l];if(_.ext)for(var p=0;p<_.ext.length;p++)if(_.ext[p]==e)return _}},N.findModeByFileName=function(e){for(var l=0;l<N.modeInfo.length;l++){var _=N.modeInfo[l];if(_.file&&_.file.test(e))return _}var p=e.lastIndexOf("."),h=p>-1&&e.substring(p+1,e.length);if(h)return N.findModeByExtension(h)},N.findModeByName=function(e){e=e.toLowerCase();for(var l=0;l<N.modeInfo.length;l++){var _=N.modeInfo[l];if(_.name.toLowerCase()==e)return _;if(_.alias)for(var p=0;p<_.alias.length;p++)if(_.alias[p].toLowerCase()==e)return _}}}(ie(1382))},8775:(Rt,Be,ie)=>{!function(N){"use strict";var K={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},D={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};N.defineMode("xml",function(e,l){var w,y,_=e.indentUnit,p={},h=l.htmlMode?K:D;for(var g in h)p[g]=h[g];for(var g in l)p[g]=l[g];function b(q,ae){function re(Re){return ae.tokenize=Re,Re(q,ae)}var Se=q.next();return"<"==Se?q.eat("!")?q.eat("[")?q.match("CDATA[")?re(T("atom","]]>")):null:q.match("--")?re(T("comment","--\x3e")):q.match("DOCTYPE",!0,!0)?(q.eatWhile(/[\w\._\-]/),re(F(1))):null:q.eat("?")?(q.eatWhile(/[\w\._\-]/),ae.tokenize=T("meta","?>"),"meta"):(w=q.eat("/")?"closeTag":"openTag",ae.tokenize=M,"tag bracket"):"&"==Se?(q.eat("#")?q.eat("x")?q.eatWhile(/[a-fA-F\d]/)&&q.eat(";"):q.eatWhile(/[\d]/)&&q.eat(";"):q.eatWhile(/[\w\.\-:]/)&&q.eat(";"))?"atom":"error":(q.eatWhile(/[^&<]/),null)}function M(q,ae){var re=q.next();if(">"==re||"/"==re&&q.eat(">"))return ae.tokenize=b,w=">"==re?"endTag":"selfcloseTag","tag bracket";if("="==re)return w="equals",null;if("<"==re){ae.tokenize=b,ae.state=O,ae.tagName=ae.tagStart=null;var Se=ae.tokenize(q,ae);return Se?Se+" tag error":"tag error"}return/[\'\"]/.test(re)?(ae.tokenize=function E(q){var ae=function(re,Se){for(;!re.eol();)if(re.next()==q){Se.tokenize=M;break}return"string"};return ae.isInAttribute=!0,ae}(re),ae.stringStartCol=q.column(),ae.tokenize(q,ae)):(q.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function T(q,ae){return function(re,Se){for(;!re.eol();){if(re.match(ae)){Se.tokenize=b;break}re.next()}return q}}function F(q){return function(ae,re){for(var Se;null!=(Se=ae.next());){if("<"==Se)return re.tokenize=F(q+1),re.tokenize(ae,re);if(">"==Se){if(1==q){re.tokenize=b;break}return re.tokenize=F(q-1),re.tokenize(ae,re)}}return"meta"}}function k(q){return q&&q.toLowerCase()}function A(q,ae,re){this.prev=q.context,this.tagName=ae||"",this.indent=q.indented,this.startOfLine=re,(p.doNotIndent.hasOwnProperty(ae)||q.context&&q.context.noIndent)&&(this.noIndent=!0)}function S(q){q.context&&(q.context=q.context.prev)}function Q(q,ae){for(var re;;){if(!q.context||!p.contextGrabbers.hasOwnProperty(k(re=q.context.tagName))||!p.contextGrabbers[k(re)].hasOwnProperty(k(ae)))return;S(q)}}function O(q,ae,re){return"openTag"==q?(re.tagStart=ae.column(),W):"closeTag"==q?j:O}function W(q,ae,re){return"word"==q?(re.tagName=ae.current(),y="tag",X):p.allowMissingTagName&&"endTag"==q?(y="tag bracket",X(q,0,re)):(y="error",W)}function j(q,ae,re){if("word"==q){var Se=ae.current();return re.context&&re.context.tagName!=Se&&p.implicitlyClosed.hasOwnProperty(k(re.context.tagName))&&S(re),re.context&&re.context.tagName==Se||!1===p.matchClosing?(y="tag",Y):(y="tag error",U)}return p.allowMissingTagName&&"endTag"==q?(y="tag bracket",Y(q,0,re)):(y="error",U)}function Y(q,ae,re){return"endTag"!=q?(y="error",Y):(S(re),O)}function U(q,ae,re){return y="error",Y(q,0,re)}function X(q,ae,re){if("word"==q)return y="attribute",z;if("endTag"==q||"selfcloseTag"==q){var Se=re.tagName,be=re.tagStart;return re.tagName=re.tagStart=null,"selfcloseTag"==q||p.autoSelfClosers.hasOwnProperty(k(Se))?Q(re,Se):(Q(re,Se),re.context=new A(re,Se,be==re.indented)),O}return y="error",X}function z(q,ae,re){return"equals"==q?R:(p.allowMissing||(y="error"),X(q,0,re))}function R(q,ae,re){return"string"==q?Z:"word"==q&&p.allowUnquoted?(y="string",X):(y="error",X(q,0,re))}function Z(q,ae,re){return"string"==q?Z:X(q,0,re)}return b.isInText=!0,{startState:function(q){var ae={tokenize:b,state:O,indented:q||0,tagName:null,tagStart:null,context:null};return null!=q&&(ae.baseIndent=q),ae},token:function(q,ae){if(!ae.tagName&&q.sol()&&(ae.indented=q.indentation()),q.eatSpace())return null;w=null;var re=ae.tokenize(q,ae);return(re||w)&&"comment"!=re&&(y=null,ae.state=ae.state(w||re,q,ae),y&&(re="error"==y?re+" error":y)),re},indent:function(q,ae,re){var Se=q.context;if(q.tokenize.isInAttribute)return q.tagStart==q.indented?q.stringStartCol+1:q.indented+_;if(Se&&Se.noIndent)return N.Pass;if(q.tokenize!=M&&q.tokenize!=b)return re?re.match(/^(\s*)/)[0].length:0;if(q.tagName)return!1!==p.multilineTagIndentPastTag?q.tagStart+q.tagName.length+2:q.tagStart+_*(p.multilineTagIndentFactor||1);if(p.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var be=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(be&&be[1])for(;Se;){if(Se.tagName==be[2]){Se=Se.prev;break}if(!p.implicitlyClosed.hasOwnProperty(k(Se.tagName)))break;Se=Se.prev}else if(be)for(;Se;){var Re=p.contextGrabbers[k(Se.tagName)];if(!Re||!Re.hasOwnProperty(k(be[2])))break;Se=Se.prev}for(;Se&&Se.prev&&!Se.startOfLine;)Se=Se.prev;return Se?Se.indent+_:q.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:p.htmlMode?"html":"xml",helperType:p.htmlMode?"html":"xml",skipAttribute:function(q){q.state==R&&(q.state=X)},xmlCurrentTag:function(q){return q.tagName?{name:q.tagName,close:"closeTag"==q.type}:null},xmlCurrentContext:function(q){for(var ae=[],re=q.context;re;re=re.prev)ae.push(re.tagName);return ae.reverse()}}}),N.defineMIME("text/xml","xml"),N.defineMIME("application/xml","xml"),N.mimeModes.hasOwnProperty("text/html")||N.defineMIME("text/html",{name:"xml",htmlMode:!0})}(ie(1382))},157:Rt=>{var Be=[].slice;Rt.exports=function(ie,N){if("string"==typeof N&&(N=ie[N]),"function"!=typeof N)throw new Error("bind() requires a function");var K=Be.call(arguments,2);return function(){return N.apply(ie,K.concat(Be.call(arguments)))}}},9532:Rt=>{function Be(N){if(N)return function ie(N){for(var K in Be.prototype)N[K]=Be.prototype[K];return N}(N)}Rt.exports=Be,Be.prototype.on=Be.prototype.addEventListener=function(N,K){return this._callbacks=this._callbacks||{},(this._callbacks["$"+N]=this._callbacks["$"+N]||[]).push(K),this},Be.prototype.once=function(N,K){function D(){this.off(N,D),K.apply(this,arguments)}return D.fn=K,this.on(N,D),this},Be.prototype.off=Be.prototype.removeListener=Be.prototype.removeAllListeners=Be.prototype.removeEventListener=function(N,K){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var D=this._callbacks["$"+N];if(!D)return this;if(1==arguments.length)return delete this._callbacks["$"+N],this;for(var e,l=0;l<D.length;l++)if((e=D[l])===K||e.fn===K){D.splice(l,1);break}return 0===D.length&&delete this._callbacks["$"+N],this},Be.prototype.emit=function(N){this._callbacks=this._callbacks||{};for(var K=new Array(arguments.length-1),D=this._callbacks["$"+N],e=1;e<arguments.length;e++)K[e-1]=arguments[e];if(D){e=0;for(var l=(D=D.slice(0)).length;e<l;++e)D[e].apply(this,K)}return this},Be.prototype.listeners=function(N){return this._callbacks=this._callbacks||{},this._callbacks["$"+N]||[]},Be.prototype.hasListeners=function(N){return!!this.listeners(N).length}},4629:Rt=>{Rt.exports=function(Be,ie){var N=function(){};N.prototype=ie.prototype,Be.prototype=new N,Be.prototype.constructor=Be}},1593:Rt=>{if(typeof Element<"u"&&!Element.prototype.matches){var ie=Element.prototype;ie.matches=ie.matchesSelector||ie.mozMatchesSelector||ie.msMatchesSelector||ie.oMatchesSelector||ie.webkitMatchesSelector}Rt.exports=function N(K,D){for(;K&&9!==K.nodeType;){if("function"==typeof K.matches&&K.matches(D))return K;K=K.parentNode}}},9611:(Rt,Be,ie)=>{var N=ie(1593);function K(l,_,p,h,g){var w=e.apply(this,arguments);return l.addEventListener(p,w,g),{destroy:function(){l.removeEventListener(p,w,g)}}}function e(l,_,p,h){return function(g){g.delegateTarget=N(g.target,_),g.delegateTarget&&h.call(l,g)}}Rt.exports=function D(l,_,p,h,g){return"function"==typeof l.addEventListener?K.apply(null,arguments):"function"==typeof p?K.bind(null,document).apply(null,arguments):("string"==typeof l&&(l=document.querySelectorAll(l)),Array.prototype.map.call(l,function(w){return K(w,_,p,h,g)}))}},2527:function(Rt,Be){var ie,K;void 0!==(K="function"==typeof(ie=function(){return function D(e,l,_){var F,k,p=window,h="application/octet-stream",g=_||h,w=e,y=!l&&!_&&w,b=document.createElement("a"),M=function(Y){return String(Y)},E=p.Blob||p.MozBlob||p.WebKitBlob||M,T=l||"download";if(E=E.call?E.bind(p):Blob,"true"===String(this)&&(g=(w=[w,g])[0],w=w[1]),y&&y.length<2048&&(T=y.split("/").pop().split("?")[0],b.href=y,-1!==b.href.indexOf(y))){var A=new XMLHttpRequest;return A.open("GET",y,!0),A.responseType="blob",A.onload=function(Y){D(Y.target.response,T,h)},setTimeout(function(){A.send()},0),A}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(w)){if(!(w.length>2096103.424&&E!==M))return navigator.msSaveBlob?navigator.msSaveBlob(W(w),T):j(w);g=(w=W(w)).type||h}else if(/([\x80-\xff])/.test(w)){for(var S=0,Q=new Uint8Array(w.length),O=Q.length;S<O;++S)Q[S]=w.charCodeAt(S);w=new E([Q],{type:g})}function W(Y){for(var U=Y.split(/[:;,]/),X=U[1],R=("base64"==U[2]?atob:decodeURIComponent)(U.pop()),Z=R.length,q=0,ae=new Uint8Array(Z);q<Z;++q)ae[q]=R.charCodeAt(q);return new E([ae],{type:X})}function j(Y,U){if("download"in b)return b.href=Y,b.setAttribute("download",T),b.className="download-js-link",b.innerHTML="downloading...",b.style.display="none",document.body.appendChild(b),setTimeout(function(){b.click(),document.body.removeChild(b),!0===U&&setTimeout(function(){p.URL.revokeObjectURL(b.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(Y)&&(Y="data:"+Y.replace(/^data:([\w\/\-\+]+)/,h)),window.open(Y)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=Y),!0;var X=document.createElement("iframe");document.body.appendChild(X),!U&&/^data:/.test(Y)&&(Y="data:"+Y.replace(/^data:([\w\/\-\+]+)/,h)),X.src=Y,setTimeout(function(){document.body.removeChild(X)},333)}if(F=w instanceof E?w:new E([w],{type:g}),navigator.msSaveBlob)return navigator.msSaveBlob(F,T);if(p.URL)j(p.URL.createObjectURL(F),!0);else{if("string"==typeof F||F.constructor===M)try{return j("data:"+g+";base64,"+p.btoa(F))}catch{return j("data:"+g+","+encodeURIComponent(F))}(k=new FileReader).onload=function(Y){j(this.result)},k.readAsDataURL(F)}return!0}})?ie.apply(Be,[]):ie)&&(Rt.exports=K)},4955:Rt=>{Rt.exports=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()},956:(Rt,Be,ie)=>{Rt.exports=ie(975),Rt.exports.parser=ie(592)},975:(Rt,Be,ie)=>{var N=ie(5851),K=ie(9532),D=ie(8614)("engine.io-client:socket"),e=ie(8357),l=ie(592),_=ie(3763),p=ie(9359);function h(w,y){if(!(this instanceof h))return new h(w,y);y=y||{},w&&"object"==typeof w&&(y=w,w=null),w?(w=_(w),y.hostname=w.host,y.secure="https"===w.protocol||"wss"===w.protocol,y.port=w.port,w.query&&(y.query=w.query)):y.host&&(y.hostname=_(y.host).host),this.secure=null!=y.secure?y.secure:typeof location<"u"&&"https:"===location.protocol,y.hostname&&!y.port&&(y.port=this.secure?"443":"80"),this.agent=y.agent||!1,this.hostname=y.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=y.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=y.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==y.upgrade,this.path=(y.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!y.forceJSONP,this.jsonp=!1!==y.jsonp,this.forceBase64=!!y.forceBase64,this.enablesXDR=!!y.enablesXDR,this.withCredentials=!1!==y.withCredentials,this.timestampParam=y.timestampParam||"t",this.timestampRequests=y.timestampRequests,this.transports=y.transports||["polling","websocket"],this.transportOptions=y.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=y.policyPort||843,this.rememberUpgrade=y.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=y.onlyBinaryUpgrades,this.perMessageDeflate=!1!==y.perMessageDeflate&&(y.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=y.pfx||void 0,this.key=y.key||void 0,this.passphrase=y.passphrase||void 0,this.cert=y.cert||void 0,this.ca=y.ca||void 0,this.ciphers=y.ciphers||void 0,this.rejectUnauthorized=void 0===y.rejectUnauthorized||y.rejectUnauthorized,this.forceNode=!!y.forceNode,this.isReactNative=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),(typeof self>"u"||this.isReactNative)&&(y.extraHeaders&&Object.keys(y.extraHeaders).length>0&&(this.extraHeaders=y.extraHeaders),y.localAddress&&(this.localAddress=y.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Rt.exports=h,h.priorWebsocketSuccess=!1,K(h.prototype),h.protocol=l.protocol,h.Socket=h,h.Transport=ie(8513),h.transports=ie(5851),h.parser=ie(592),h.prototype.createTransport=function(w){D('creating transport "%s"',w);var y=function g(w){var y={};for(var b in w)w.hasOwnProperty(b)&&(y[b]=w[b]);return y}(this.query);y.EIO=l.protocol,y.transport=w;var b=this.transportOptions[w]||{};return this.id&&(y.sid=this.id),new N[w]({query:y,socket:this,agent:b.agent||this.agent,hostname:b.hostname||this.hostname,port:b.port||this.port,secure:b.secure||this.secure,path:b.path||this.path,forceJSONP:b.forceJSONP||this.forceJSONP,jsonp:b.jsonp||this.jsonp,forceBase64:b.forceBase64||this.forceBase64,enablesXDR:b.enablesXDR||this.enablesXDR,withCredentials:b.withCredentials||this.withCredentials,timestampRequests:b.timestampRequests||this.timestampRequests,timestampParam:b.timestampParam||this.timestampParam,policyPort:b.policyPort||this.policyPort,pfx:b.pfx||this.pfx,key:b.key||this.key,passphrase:b.passphrase||this.passphrase,cert:b.cert||this.cert,ca:b.ca||this.ca,ciphers:b.ciphers||this.ciphers,rejectUnauthorized:b.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:b.perMessageDeflate||this.perMessageDeflate,extraHeaders:b.extraHeaders||this.extraHeaders,forceNode:b.forceNode||this.forceNode,localAddress:b.localAddress||this.localAddress,requestTimeout:b.requestTimeout||this.requestTimeout,protocols:b.protocols||void 0,isReactNative:this.isReactNative})},h.prototype.open=function(){var w;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))w="websocket";else{if(0===this.transports.length){var y=this;return void setTimeout(function(){y.emit("error","No transports available")},0)}w=this.transports[0]}this.readyState="opening";try{w=this.createTransport(w)}catch{return this.transports.shift(),void this.open()}w.open(),this.setTransport(w)},h.prototype.setTransport=function(w){D("setting transport %s",w.name);var y=this;this.transport&&(D("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=w,w.on("drain",function(){y.onDrain()}).on("packet",function(b){y.onPacket(b)}).on("error",function(b){y.onError(b)}).on("close",function(){y.onClose("transport close")})},h.prototype.probe=function(w){D('probing transport "%s"',w);var y=this.createTransport(w,{probe:1}),b=!1,M=this;function E(){M.onlyBinaryUpgrades&&(b=b||!this.supportsBinary&&M.transport.supportsBinary),b||(D('probe transport "%s" opened',w),y.send([{type:"ping",data:"probe"}]),y.once("packet",function(W){if(!b)if("pong"===W.type&&"probe"===W.data){if(D('probe transport "%s" pong',w),M.upgrading=!0,M.emit("upgrading",y),!y)return;h.priorWebsocketSuccess="websocket"===y.name,D('pausing current transport "%s"',M.transport.name),M.transport.pause(function(){b||"closed"!==M.readyState&&(D("changing transport and sending upgrade packet"),Q(),M.setTransport(y),y.send([{type:"upgrade"}]),M.emit("upgrade",y),y=null,M.upgrading=!1,M.flush())})}else{D('probe transport "%s" failed',w);var j=new Error("probe error");j.transport=y.name,M.emit("upgradeError",j)}}))}function T(){b||(b=!0,Q(),y.close(),y=null)}function F(O){var W=new Error("probe error: "+O);W.transport=y.name,T(),D('probe transport "%s" failed because of error: %s',w,O),M.emit("upgradeError",W)}function k(){F("transport closed")}function A(){F("socket closed")}function S(O){y&&O.name!==y.name&&(D('"%s" works - aborting "%s"',O.name,y.name),T())}function Q(){y.removeListener("open",E),y.removeListener("error",F),y.removeListener("close",k),M.removeListener("close",A),M.removeListener("upgrading",S)}h.priorWebsocketSuccess=!1,y.once("open",E),y.once("error",F),y.once("close",k),this.once("close",A),this.once("upgrading",S),y.open()},h.prototype.onOpen=function(){if(D("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){D("starting upgrade probes");for(var w=0,y=this.upgrades.length;w<y;w++)this.probe(this.upgrades[w])}},h.prototype.onPacket=function(w){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(D('socket receive: type "%s", data "%s"',w.type,w.data),this.emit("packet",w),this.emit("heartbeat"),w.type){case"open":this.onHandshake(JSON.parse(w.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var y=new Error("server error");y.code=w.data,this.onError(y);break;case"message":this.emit("data",w.data),this.emit("message",w.data)}else D('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(w){this.emit("handshake",w),this.id=w.sid,this.transport.query.sid=w.sid,this.upgrades=this.filterUpgrades(w.upgrades),this.pingInterval=w.pingInterval,this.pingTimeout=w.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(w){clearTimeout(this.pingTimeoutTimer);var y=this;y.pingTimeoutTimer=setTimeout(function(){"closed"!==y.readyState&&y.onClose("ping timeout")},w||y.pingInterval+y.pingTimeout)},h.prototype.setPing=function(){var w=this;clearTimeout(w.pingIntervalTimer),w.pingIntervalTimer=setTimeout(function(){D("writing ping packet - expecting pong within %sms",w.pingTimeout),w.ping(),w.onHeartbeat(w.pingTimeout)},w.pingInterval)},h.prototype.ping=function(){var w=this;this.sendPacket("ping",function(){w.emit("ping")})},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(D("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(w,y,b){return this.sendPacket("message",w,y,b),this},h.prototype.sendPacket=function(w,y,b,M){if("function"==typeof y&&(M=y,y=void 0),"function"==typeof b&&(M=b,b=null),"closing"!==this.readyState&&"closed"!==this.readyState){(b=b||{}).compress=!1!==b.compress;var E={type:w,data:y,options:b};this.emit("packetCreate",E),this.writeBuffer.push(E),M&&this.once("flush",M),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var w=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?M():y()}):this.upgrading?M():y()}function y(){w.onClose("forced close"),D("socket closing - telling transport to close"),w.transport.close()}function b(){w.removeListener("upgrade",b),w.removeListener("upgradeError",b),y()}function M(){w.once("upgrade",b),w.once("upgradeError",b)}return this},h.prototype.onError=function(w){D("socket error %j",w),h.priorWebsocketSuccess=!1,this.emit("error",w),this.onClose("transport error",w)},h.prototype.onClose=function(w,y){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(D('socket close with reason: "%s"',w),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",w,y),this.writeBuffer=[],this.prevBufferLen=0)},h.prototype.filterUpgrades=function(w){for(var y=[],b=0,M=w.length;b<M;b++)~e(this.transports,w[b])&&y.push(w[b]);return y}},8513:(Rt,Be,ie)=>{var N=ie(592),K=ie(9532);function D(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}Rt.exports=D,K(D.prototype),D.prototype.onError=function(e,l){var _=new Error(e);return _.type="TransportError",_.description=l,this.emit("error",_),this},D.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},D.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},D.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},D.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},D.prototype.onData=function(e){var l=N.decodePacket(e,this.socket.binaryType);this.onPacket(l)},D.prototype.onPacket=function(e){this.emit("packet",e)},D.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},5851:(Rt,Be,ie)=>{var N=ie(3215),K=ie(7527),D=ie(6979),e=ie(1788);Be.polling=function l(_){var h=!1,g=!1,w=!1!==_.jsonp;if(typeof location<"u"){var y="https:"===location.protocol,b=location.port;b||(b=y?443:80),h=_.hostname!==location.hostname||b!==_.port,g=_.secure!==y}if(_.xdomain=h,_.xscheme=g,"open"in new N(_)&&!_.forceJSONP)return new K(_);if(!w)throw new Error("JSONP disabled");return new D(_)},Be.websocket=e},6979:(Rt,Be,ie)=>{var N=ie(9248),K=ie(4629),D=ie(4955);Rt.exports=h;var _,e=/\n/g,l=/\\n/g;function p(){}function h(g){N.call(this,g),this.query=this.query||{},_||(_=D.___eio=D.___eio||[]),this.index=_.length;var w=this;_.push(function(y){w.onData(y)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){w.script&&(w.script.onerror=p)},!1)}K(h,N),h.prototype.supportsBinary=!1,h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),N.prototype.doClose.call(this)},h.prototype.doPoll=function(){var g=this,w=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),w.async=!0,w.src=this.uri(),w.onerror=function(M){g.onError("jsonp poll error",M)};var y=document.getElementsByTagName("script")[0];y?y.parentNode.insertBefore(w,y):(document.head||document.body).appendChild(w),this.script=w,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var M=document.createElement("iframe");document.body.appendChild(M),document.body.removeChild(M)},100)},h.prototype.doWrite=function(g,w){var y=this;if(!this.form){var T,b=document.createElement("form"),M=document.createElement("textarea"),E=this.iframeId="eio_iframe_"+this.index;b.className="socketio",b.style.position="absolute",b.style.top="-1000px",b.style.left="-1000px",b.target=E,b.method="POST",b.setAttribute("accept-charset","utf-8"),M.name="d",b.appendChild(M),document.body.appendChild(b),this.form=b,this.area=M}function F(){k(),w()}function k(){if(y.iframe)try{y.form.removeChild(y.iframe)}catch(S){y.onError("jsonp polling iframe removal error",S)}try{T=document.createElement('<iframe src="javascript:0" name="'+y.iframeId+'">')}catch{(T=document.createElement("iframe")).name=y.iframeId,T.src="javascript:0"}T.id=y.iframeId,y.form.appendChild(T),y.iframe=T}this.form.action=this.uri(),k(),g=g.replace(l,"\\\n"),this.area.value=g.replace(e,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===y.iframe.readyState&&F()}:this.iframe.onload=F}},7527:(Rt,Be,ie)=>{var N=ie(3215),K=ie(9248),D=ie(9532),e=ie(4629),l=ie(8614)("engine.io-client:polling-xhr"),_=ie(4955);function p(){}function h(b){if(K.call(this,b),this.requestTimeout=b.requestTimeout,this.extraHeaders=b.extraHeaders,typeof location<"u"){var M="https:"===location.protocol,E=location.port;E||(E=M?443:80),this.xd=typeof location<"u"&&b.hostname!==location.hostname||E!==b.port,this.xs=b.secure!==M}}function g(b){this.method=b.method||"GET",this.uri=b.uri,this.xd=!!b.xd,this.xs=!!b.xs,this.async=!1!==b.async,this.data=void 0!==b.data?b.data:null,this.agent=b.agent,this.isBinary=b.isBinary,this.supportsBinary=b.supportsBinary,this.enablesXDR=b.enablesXDR,this.withCredentials=b.withCredentials,this.requestTimeout=b.requestTimeout,this.pfx=b.pfx,this.key=b.key,this.passphrase=b.passphrase,this.cert=b.cert,this.ca=b.ca,this.ciphers=b.ciphers,this.rejectUnauthorized=b.rejectUnauthorized,this.extraHeaders=b.extraHeaders,this.create()}function y(){for(var b in g.requests)g.requests.hasOwnProperty(b)&&g.requests[b].abort()}Rt.exports=h,Rt.exports.Request=g,e(h,K),h.prototype.supportsBinary=!0,h.prototype.request=function(b){return(b=b||{}).uri=this.uri(),b.xd=this.xd,b.xs=this.xs,b.agent=this.agent||!1,b.supportsBinary=this.supportsBinary,b.enablesXDR=this.enablesXDR,b.withCredentials=this.withCredentials,b.pfx=this.pfx,b.key=this.key,b.passphrase=this.passphrase,b.cert=this.cert,b.ca=this.ca,b.ciphers=this.ciphers,b.rejectUnauthorized=this.rejectUnauthorized,b.requestTimeout=this.requestTimeout,b.extraHeaders=this.extraHeaders,new g(b)},h.prototype.doWrite=function(b,M){var T=this.request({method:"POST",data:b,isBinary:"string"!=typeof b&&void 0!==b}),F=this;T.on("success",M),T.on("error",function(k){F.onError("xhr post error",k)}),this.sendXhr=T},h.prototype.doPoll=function(){l("xhr poll");var b=this.request(),M=this;b.on("data",function(E){M.onData(E)}),b.on("error",function(E){M.onError("xhr poll error",E)}),this.pollXhr=b},D(g.prototype),g.prototype.create=function(){var b={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};b.pfx=this.pfx,b.key=this.key,b.passphrase=this.passphrase,b.cert=this.cert,b.ca=this.ca,b.ciphers=this.ciphers,b.rejectUnauthorized=this.rejectUnauthorized;var M=this.xhr=new N(b),E=this;try{l("xhr open %s: %s",this.method,this.uri),M.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var T in M.setDisableHeaderCheck&&M.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(T)&&M.setRequestHeader(T,this.extraHeaders[T])}catch{}if("POST"===this.method)try{M.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch{}try{M.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in M&&(M.withCredentials=this.withCredentials),this.requestTimeout&&(M.timeout=this.requestTimeout),this.hasXDR()?(M.onload=function(){E.onLoad()},M.onerror=function(){E.onError(M.responseText)}):M.onreadystatechange=function(){if(2===M.readyState)try{var F=M.getResponseHeader("Content-Type");(E.supportsBinary&&"application/octet-stream"===F||"application/octet-stream; charset=UTF-8"===F)&&(M.responseType="arraybuffer")}catch{}4===M.readyState&&(200===M.status||1223===M.status?E.onLoad():setTimeout(function(){E.onError("number"==typeof M.status?M.status:0)},0))},l("xhr data %s",this.data),M.send(this.data)}catch(F){return void setTimeout(function(){E.onError(F)},0)}typeof document<"u"&&(this.index=g.requestsCount++,g.requests[this.index]=this)},g.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},g.prototype.onData=function(b){this.emit("data",b),this.onSuccess()},g.prototype.onError=function(b){this.emit("error",b),this.cleanup(!0)},g.prototype.cleanup=function(b){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=p:this.xhr.onreadystatechange=p,b)try{this.xhr.abort()}catch{}typeof document<"u"&&delete g.requests[this.index],this.xhr=null}},g.prototype.onLoad=function(){var b;try{var M;try{M=this.xhr.getResponseHeader("Content-Type")}catch{}b=("application/octet-stream"===M||"application/octet-stream; charset=UTF-8"===M)&&this.xhr.response||this.xhr.responseText}catch(E){this.onError(E)}null!=b&&this.onData(b)},g.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},g.prototype.abort=function(){this.cleanup()},g.requestsCount=0,g.requests={},typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",y):"function"==typeof addEventListener&&addEventListener("onpagehide"in _?"pagehide":"unload",y,!1))},9248:(Rt,Be,ie)=>{var N=ie(8513),K=ie(9359),D=ie(592),e=ie(4629),l=ie(4650),_=ie(8614)("engine.io-client:polling");Rt.exports=h;var p=null!=new(ie(3215))({xdomain:!1}).responseType;function h(g){(!p||g&&g.forceBase64)&&(this.supportsBinary=!1),N.call(this,g)}e(h,N),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(g){var w=this;function y(){_("paused"),w.readyState="paused",g()}if(this.readyState="pausing",this.polling||!this.writable){var b=0;this.polling&&(_("we are currently polling - waiting to pause"),b++,this.once("pollComplete",function(){_("pre-pause polling complete"),--b||y()})),this.writable||(_("we are currently writing - waiting to pause"),b++,this.once("drain",function(){_("pre-pause writing complete"),--b||y()}))}else y()},h.prototype.poll=function(){_("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(g){var w=this;_("polling got data %s",g),D.decodePayload(g,this.socket.binaryType,function(b,M,E){if("opening"===w.readyState&&"open"===b.type&&w.onOpen(),"close"===b.type)return w.onClose(),!1;w.onPacket(b)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():_('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var g=this;function w(){_("writing close packet"),g.write([{type:"close"}])}"open"===this.readyState?(_("transport open - closing"),w()):(_("transport not open - deferring close"),this.once("open",w))},h.prototype.write=function(g){var w=this;this.writable=!1;var y=function(){w.writable=!0,w.emit("drain")};D.encodePayload(g,this.supportsBinary,function(b){w.doWrite(b,y)})},h.prototype.uri=function(){var g=this.query||{},w=this.secure?"https":"http",y="";return!1!==this.timestampRequests&&(g[this.timestampParam]=l()),!this.supportsBinary&&!g.sid&&(g.b64=1),g=K.encode(g),this.port&&("https"===w&&443!==Number(this.port)||"http"===w&&80!==Number(this.port))&&(y=":"+this.port),g.length&&(g="?"+g),w+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+y+this.path+g}},1788:(Rt,Be,ie)=>{var p,h,N=ie(8513),K=ie(592),D=ie(9359),e=ie(4629),l=ie(4650),_=ie(8614)("engine.io-client:websocket");if(typeof WebSocket<"u"?p=WebSocket:typeof self<"u"&&(p=self.WebSocket||self.MozWebSocket),typeof window>"u")try{h=ie(5660)}catch{}var g=p||h;function w(y){y&&y.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=y.perMessageDeflate,this.usingBrowserWebSocket=p&&!y.forceNode,this.protocols=y.protocols,this.usingBrowserWebSocket||(g=h),N.call(this,y)}Rt.exports=w,e(w,N),w.prototype.name="websocket",w.prototype.supportsBinary=!0,w.prototype.doOpen=function(){if(this.check()){var y=this.uri(),b=this.protocols,M={};this.isReactNative||(M.agent=this.agent,M.perMessageDeflate=this.perMessageDeflate,M.pfx=this.pfx,M.key=this.key,M.passphrase=this.passphrase,M.cert=this.cert,M.ca=this.ca,M.ciphers=this.ciphers,M.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(M.headers=this.extraHeaders),this.localAddress&&(M.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?b?new g(y,b):new g(y):new g(y,b,M)}catch(E){return this.emit("error",E)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},w.prototype.addEventListeners=function(){var y=this;this.ws.onopen=function(){y.onOpen()},this.ws.onclose=function(){y.onClose()},this.ws.onmessage=function(b){y.onData(b.data)},this.ws.onerror=function(b){y.onError("websocket error",b)}},w.prototype.write=function(y){var b=this;this.writable=!1;for(var M=y.length,E=0,T=M;E<T;E++)!function(k){K.encodePacket(k,b.supportsBinary,function(A){if(!b.usingBrowserWebSocket){var S={};k.options&&(S.compress=k.options.compress),b.perMessageDeflate&&("string"==typeof A?Buffer.byteLength(A):A.length)<b.perMessageDeflate.threshold&&(S.compress=!1)}try{b.usingBrowserWebSocket?b.ws.send(A):b.ws.send(A,S)}catch{_("websocket closed before onclose event")}--M||(b.emit("flush"),setTimeout(function(){b.writable=!0,b.emit("drain")},0))})}(y[E])},w.prototype.onClose=function(){N.prototype.onClose.call(this)},w.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},w.prototype.uri=function(){var y=this.query||{},b=this.secure?"wss":"ws",M="";return this.port&&("wss"===b&&443!==Number(this.port)||"ws"===b&&80!==Number(this.port))&&(M=":"+this.port),this.timestampRequests&&(y[this.timestampParam]=l()),this.supportsBinary||(y.b64=1),(y=D.encode(y)).length&&(y="?"+y),b+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+M+this.path+y},w.prototype.check=function(){return!(!g||"__initialize"in g&&this.name===w.prototype.name)}},3215:(Rt,Be,ie)=>{var N=ie(1610),K=ie(4955);Rt.exports=function(D){var e=D.xdomain,l=D.xscheme,_=D.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!e||N))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!l&&_)return new XDomainRequest}catch{}if(!e)try{return new(K[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}},8614:(Rt,Be,ie)=>{function l(){var p;try{p=Be.storage.debug}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=process.env.DEBUG),p}(Be=Rt.exports=ie(5953)).log=function D(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},Be.formatArgs=function K(p){var h=this.useColors;if(p[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+p[0]+(h?"%c ":" ")+"+"+Be.humanize(this.diff),h){var g="color: "+this.color;p.splice(1,0,g,"color: inherit");var w=0,y=0;p[0].replace(/%[a-zA-Z%]/g,function(b){"%%"!==b&&(w++,"%c"===b&&(y=w))}),p.splice(y,0,g)}},Be.save=function e(p){try{null==p?Be.storage.removeItem("debug"):Be.storage.debug=p}catch{}},Be.load=l,Be.useColors=function N(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Be.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function _(){try{return window.localStorage}catch{}}(),Be.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Be.formatters.j=function(p){try{return JSON.stringify(p)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}},Be.enable(l())},5953:(Rt,Be,ie)=>{function K(h){var g;function w(){if(w.enabled){var y=w,b=+new Date;y.diff=b-(g||b),y.prev=g,y.curr=b,g=b;for(var E=new Array(arguments.length),T=0;T<E.length;T++)E[T]=arguments[T];E[0]=Be.coerce(E[0]),"string"!=typeof E[0]&&E.unshift("%O");var F=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(A,S){if("%%"===A)return A;F++;var Q=Be.formatters[S];return"function"==typeof Q&&(A=Q.call(y,E[F]),E.splice(F,1),F--),A}),Be.formatArgs.call(y,E),(w.log||Be.log||console.log.bind(console)).apply(y,E)}}return w.namespace=h,w.enabled=Be.enabled(h),w.useColors=Be.useColors(),w.color=function N(h){var w,g=0;for(w in h)g=(g<<5)-g+h.charCodeAt(w),g|=0;return Be.colors[Math.abs(g)%Be.colors.length]}(h),w.destroy=D,"function"==typeof Be.init&&Be.init(w),Be.instances.push(w),w}function D(){var h=Be.instances.indexOf(this);return-1!==h&&(Be.instances.splice(h,1),!0)}(Be=Rt.exports=K.debug=K.default=K).coerce=function p(h){return h instanceof Error?h.stack||h.message:h},Be.disable=function l(){Be.enable("")},Be.enable=function e(h){Be.save(h),Be.names=[],Be.skips=[];var g,w=("string"==typeof h?h:"").split(/[\s,]+/),y=w.length;for(g=0;g<y;g++)w[g]&&("-"===(h=w[g].replace(/\*/g,".*?"))[0]?Be.skips.push(new RegExp("^"+h.substr(1)+"$")):Be.names.push(new RegExp("^"+h+"$")));for(g=0;g<Be.instances.length;g++){var b=Be.instances[g];b.enabled=Be.enabled(b.namespace)}},Be.enabled=function _(h){if("*"===h[h.length-1])return!0;var g,w;for(g=0,w=Be.skips.length;g<w;g++)if(Be.skips[g].test(h))return!1;for(g=0,w=Be.names.length;g<w;g++)if(Be.names[g].test(h))return!0;return!1},Be.humanize=ie(2160),Be.instances=[],Be.names=[],Be.skips=[],Be.formatters={}},2160:Rt=>{var ie=6e4,N=60*ie,K=24*N;function p(h,g,w){if(!(h<g))return h<1.5*g?Math.floor(h/g)+" "+w:Math.ceil(h/g)+" "+w+"s"}Rt.exports=function(h,g){g=g||{};var w=typeof h;if("string"===w&&h.length>0)return function e(h){if(!((h=String(h)).length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(h);if(g){var w=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*w;case"days":case"day":case"d":return w*K;case"hours":case"hour":case"hrs":case"hr":case"h":return w*N;case"minutes":case"minute":case"mins":case"min":case"m":return w*ie;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*w;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}(h);if("number"===w&&!1===isNaN(h))return g.long?function _(h){return p(h,K,"day")||p(h,N,"hour")||p(h,ie,"minute")||p(h,1e3,"second")||h+" ms"}(h):function l(h){return h>=K?Math.round(h/K)+"d":h>=N?Math.round(h/N)+"h":h>=ie?Math.round(h/ie)+"m":h>=1e3?Math.round(h/1e3)+"s":h+"ms"}(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},592:(Rt,Be,ie)=>{var _,N=ie(6546),K=ie(8088),D=ie(6131),e=ie(6062),l=ie(2425);typeof ArrayBuffer<"u"&&(_=ie(5188));var p=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),h=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),g=p||h;Be.protocol=3;var w=Be.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=N(w),b={type:"error",data:"parser error"},M=ie(6103);function S(Q,O,W){for(var j=new Array(Q.length),Y=e(Q.length,W),U=function(z,R,Z){O(R,function(q,ae){j[z]=ae,Z(q,j)})},X=0;X<Q.length;X++)U(X,Q[X],Y)}Be.encodePacket=function(Q,O,W,j){"function"==typeof O&&(j=O,O=!1),"function"==typeof W&&(j=W,W=null);var Y=void 0===Q.data?void 0:Q.data.buffer||Q.data;if(typeof ArrayBuffer<"u"&&Y instanceof ArrayBuffer)return function T(Q,O,W){if(!O)return Be.encodeBase64Packet(Q,W);var j=Q.data,Y=new Uint8Array(j),U=new Uint8Array(1+j.byteLength);U[0]=w[Q.type];for(var X=0;X<Y.length;X++)U[X+1]=Y[X];return W(U.buffer)}(Q,O,j);if(typeof M<"u"&&Y instanceof M)return function k(Q,O,W){if(!O)return Be.encodeBase64Packet(Q,W);if(g)return function F(Q,O,W){if(!O)return Be.encodeBase64Packet(Q,W);var j=new FileReader;return j.onload=function(){Be.encodePacket({type:Q.type,data:j.result},O,!0,W)},j.readAsArrayBuffer(Q.data)}(Q,O,W);var j=new Uint8Array(1);return j[0]=w[Q.type],W(new M([j.buffer,Q.data]))}(Q,O,j);if(Y&&Y.base64)return function E(Q,O){return O("b"+Be.packets[Q.type]+Q.data.data)}(Q,j);var U=w[Q.type];return void 0!==Q.data&&(U+=W?l.encode(String(Q.data),{strict:!1}):String(Q.data)),j(""+U)},Be.encodeBase64Packet=function(Q,O){var Y,W="b"+Be.packets[Q.type];if(typeof M<"u"&&Q.data instanceof M){var j=new FileReader;return j.onload=function(){var R=j.result.split(",")[1];O(W+R)},j.readAsDataURL(Q.data)}try{Y=String.fromCharCode.apply(null,new Uint8Array(Q.data))}catch{for(var U=new Uint8Array(Q.data),X=new Array(U.length),z=0;z<U.length;z++)X[z]=U[z];Y=String.fromCharCode.apply(null,X)}return W+=btoa(Y),O(W)},Be.decodePacket=function(Q,O,W){if(void 0===Q)return b;if("string"==typeof Q){if("b"===Q.charAt(0))return Be.decodeBase64Packet(Q.substr(1),O);if(W&&!1===(Q=function A(Q){try{Q=l.decode(Q,{strict:!1})}catch{return!1}return Q}(Q)))return b;var Y=Q.charAt(0);return Number(Y)==Y&&y[Y]?Q.length>1?{type:y[Y],data:Q.substring(1)}:{type:y[Y]}:b}Y=new Uint8Array(Q)[0];var U=D(Q,1);return M&&"blob"===O&&(U=new M([U])),{type:y[Y],data:U}},Be.decodeBase64Packet=function(Q,O){var W=y[Q.charAt(0)];if(!_)return{type:W,data:{base64:!0,data:Q.substr(1)}};var j=_.decode(Q.substr(1));return"blob"===O&&M&&(j=new M([j])),{type:W,data:j}},Be.encodePayload=function(Q,O,W){"function"==typeof O&&(W=O,O=null);var j=K(Q);return O&&j?M&&!g?Be.encodePayloadAsBlob(Q,W):Be.encodePayloadAsArrayBuffer(Q,W):Q.length?void S(Q,function U(X,z){Be.encodePacket(X,!!j&&O,!1,function(R){z(null,function Y(X){return X.length+":"+X}(R))})},function(X,z){return W(z.join(""))}):W("0:")},Be.decodePayload=function(Q,O,W){if("string"!=typeof Q)return Be.decodePayloadAsBinary(Q,O,W);var j;if("function"==typeof O&&(W=O,O=null),""===Q)return W(b,0,1);for(var U,X,Y="",z=0,R=Q.length;z<R;z++){var Z=Q.charAt(z);if(":"===Z){if(""===Y||Y!=(U=Number(Y))||Y!=(X=Q.substr(z+1,U)).length)return W(b,0,1);if(X.length){if(j=Be.decodePacket(X,O,!1),b.type===j.type&&b.data===j.data)return W(b,0,1);if(!1===W(j,z+U,R))return}z+=U,Y=""}else Y+=Z}return""!==Y?W(b,0,1):void 0},Be.encodePayloadAsArrayBuffer=function(Q,O){if(!Q.length)return O(new ArrayBuffer(0));S(Q,function W(j,Y){Be.encodePacket(j,!0,!0,function(U){return Y(null,U)})},function(j,Y){var U=Y.reduce(function(R,Z){var q;return R+(q="string"==typeof Z?Z.length:Z.byteLength).toString().length+q+2},0),X=new Uint8Array(U),z=0;return Y.forEach(function(R){var Z="string"==typeof R,q=R;if(Z){for(var Se=new Uint8Array(R.length),ae=0;ae<R.length;ae++)Se[ae]=R.charCodeAt(ae);q=Se.buffer}X[z++]=Z?0:1;var re=q.byteLength.toString();for(ae=0;ae<re.length;ae++)X[z++]=parseInt(re[ae]);for(X[z++]=255,Se=new Uint8Array(q),ae=0;ae<Se.length;ae++)X[z++]=Se[ae]}),O(X.buffer)})},Be.encodePayloadAsBlob=function(Q,O){S(Q,function W(j,Y){Be.encodePacket(j,!0,!0,function(U){var X=new Uint8Array(1);if(X[0]=1,"string"==typeof U){for(var z=new Uint8Array(U.length),R=0;R<U.length;R++)z[R]=U.charCodeAt(R);U=z.buffer,X[0]=0}var q=(U instanceof ArrayBuffer?U.byteLength:U.size).toString(),ae=new Uint8Array(q.length+1);for(R=0;R<q.length;R++)ae[R]=parseInt(q[R]);if(ae[q.length]=255,M){var re=new M([X.buffer,ae.buffer,U]);Y(null,re)}})},function(j,Y){return O(new M(Y))})},Be.decodePayloadAsBinary=function(Q,O,W){"function"==typeof O&&(W=O,O=null);for(var j=Q,Y=[];j.byteLength>0;){for(var U=new Uint8Array(j),X=0===U[0],z="",R=1;255!==U[R];R++){if(z.length>310)return W(b,0,1);z+=U[R]}j=D(j,2+z.length),z=parseInt(z);var Z=D(j,0,z);if(X)try{Z=String.fromCharCode.apply(null,new Uint8Array(Z))}catch{var q=new Uint8Array(Z);for(Z="",R=0;R<q.length;R++)Z+=String.fromCharCode(q[R])}Y.push(Z),j=D(j,z)}var ae=Y.length;Y.forEach(function(re,Se){W(Be.decodePacket(re,O,!0),Se,ae)})}},6546:Rt=>{Rt.exports=Object.keys||function(ie){var N=[],K=Object.prototype.hasOwnProperty;for(var D in ie)K.call(ie,D)&&N.push(D);return N}},2425:Rt=>{var h,g,w,Be=String.fromCharCode;function ie(b){for(var F,k,M=[],E=0,T=b.length;E<T;)(F=b.charCodeAt(E++))>=55296&&F<=56319&&E<T?56320==(64512&(k=b.charCodeAt(E++)))?M.push(((1023&F)<<10)+(1023&k)+65536):(M.push(F),E--):M.push(F);return M}function K(b,M){if(b>=55296&&b<=57343){if(M)throw Error("Lone surrogate U+"+b.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function D(b,M){return Be(b>>M&63|128)}function e(b,M){if(!(4294967168&b))return Be(b);var E="";return 4294965248&b?4294901760&b?4292870144&b||(E=Be(b>>18&7|240),E+=D(b,12),E+=D(b,6)):(K(b,M)||(b=65533),E=Be(b>>12&15|224),E+=D(b,6)):E=Be(b>>6&31|192),E+Be(63&b|128)}function _(){if(w>=g)throw Error("Invalid byte index");var b=255&h[w];if(w++,128==(192&b))return 63&b;throw Error("Invalid continuation byte")}function p(b){var M,k;if(w>g)throw Error("Invalid byte index");if(w==g)return!1;if(M=255&h[w],w++,!(128&M))return M;if(192==(224&M)){if((k=(31&M)<<6|_())>=128)return k;throw Error("Invalid continuation byte")}if(224==(240&M)){if((k=(15&M)<<12|_()<<6|_())>=2048)return K(k,b)?k:65533;throw Error("Invalid continuation byte")}if(240==(248&M)&&(k=(7&M)<<18|_()<<12|_()<<6|_())>=65536&&k<=1114111)return k;throw Error("Invalid UTF-8 detected")}Rt.exports={version:"2.1.2",encode:function l(b,M){for(var E=!1!==(M=M||{}).strict,T=ie(b),F=T.length,k=-1,S="";++k<F;)S+=e(T[k],E);return S},decode:function y(b,M){var E=!1!==(M=M||{}).strict;h=ie(b),g=h.length,w=0;for(var F,T=[];!1!==(F=p(E));)T.push(F);return function N(b){for(var T,M=b.length,E=-1,F="";++E<M;)(T=b[E])>65535&&(F+=Be((T-=65536)>>>10&1023|55296),T=56320|1023&T),F+=Be(T);return F}(T)}}},6371:Rt=>{"use strict";var Be=Object.prototype.hasOwnProperty,ie="~";function N(){}function K(_,p,h){this.fn=_,this.context=p,this.once=h||!1}function D(_,p,h,g,w){if("function"!=typeof h)throw new TypeError("The listener must be a function");var y=new K(h,g||_,w),b=ie?ie+p:p;return _._events[b]?_._events[b].fn?_._events[b]=[_._events[b],y]:_._events[b].push(y):(_._events[b]=y,_._eventsCount++),_}function e(_,p){0==--_._eventsCount?_._events=new N:delete _._events[p]}function l(){this._events=new N,this._eventsCount=0}Object.create&&(N.prototype=Object.create(null),(new N).__proto__||(ie=!1)),l.prototype.eventNames=function(){var h,g,p=[];if(0===this._eventsCount)return p;for(g in h=this._events)Be.call(h,g)&&p.push(ie?g.slice(1):g);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},l.prototype.listeners=function(p){var g=this._events[ie?ie+p:p];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,y=g.length,b=new Array(y);w<y;w++)b[w]=g[w].fn;return b},l.prototype.listenerCount=function(p){var g=this._events[ie?ie+p:p];return g?g.fn?1:g.length:0},l.prototype.emit=function(p,h,g,w,y,b){var M=ie?ie+p:p;if(!this._events[M])return!1;var F,k,E=this._events[M],T=arguments.length;if(E.fn){switch(E.once&&this.removeListener(p,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,g),!0;case 4:return E.fn.call(E.context,h,g,w),!0;case 5:return E.fn.call(E.context,h,g,w,y),!0;case 6:return E.fn.call(E.context,h,g,w,y,b),!0}for(k=1,F=new Array(T-1);k<T;k++)F[k-1]=arguments[k];E.fn.apply(E.context,F)}else{var S,A=E.length;for(k=0;k<A;k++)switch(E[k].once&&this.removeListener(p,E[k].fn,void 0,!0),T){case 1:E[k].fn.call(E[k].context);break;case 2:E[k].fn.call(E[k].context,h);break;case 3:E[k].fn.call(E[k].context,h,g);break;case 4:E[k].fn.call(E[k].context,h,g,w);break;default:if(!F)for(S=1,F=new Array(T-1);S<T;S++)F[S-1]=arguments[S];E[k].fn.apply(E[k].context,F)}}return!0},l.prototype.on=function(p,h,g){return D(this,p,h,g,!1)},l.prototype.once=function(p,h,g){return D(this,p,h,g,!0)},l.prototype.removeListener=function(p,h,g,w){var y=ie?ie+p:p;if(!this._events[y])return this;if(!h)return e(this,y),this;var b=this._events[y];if(b.fn)b.fn===h&&(!w||b.once)&&(!g||b.context===g)&&e(this,y);else{for(var M=0,E=[],T=b.length;M<T;M++)(b[M].fn!==h||w&&!b[M].once||g&&b[M].context!==g)&&E.push(b[M]);E.length?this._events[y]=1===E.length?E[0]:E:e(this,y)}return this},l.prototype.removeAllListeners=function(p){var h;return p?this._events[h=ie?ie+p:p]&&e(this,h):(this._events=new N,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=ie,l.EventEmitter=l,Rt.exports=l},2578:function(Rt,Be){var ie,K;void 0!==(K="function"==typeof(ie=function(){"use strict";function e(w,y,b){var M=new XMLHttpRequest;M.open("GET",w),M.responseType="blob",M.onload=function(){g(M.response,y,b)},M.onerror=function(){console.error("could not download file")},M.send()}function l(w){var y=new XMLHttpRequest;y.open("HEAD",w,!1);try{y.send()}catch{}return 200<=y.status&&299>=y.status}function _(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(y)}}var p="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,h=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=p.saveAs||("object"!=typeof window||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(w,y,b){var M=p.URL||p.webkitURL,E=document.createElement("a");E.download=y=y||w.name||"download",E.rel="noopener","string"==typeof w?(E.href=w,E.origin===location.origin?_(E):l(E.href)?e(w,y,b):_(E,E.target="_blank")):(E.href=M.createObjectURL(w),setTimeout(function(){M.revokeObjectURL(E.href)},4e4),setTimeout(function(){_(E)},0))}:"msSaveOrOpenBlob"in navigator?function(w,y,b){if(y=y||w.name||"download","string"!=typeof w)navigator.msSaveOrOpenBlob(function D(w,y){return typeof y>"u"?y={autoBom:!1}:"object"!=typeof y&&(console.warn("Deprecated: Expected third argument to be a object"),y={autoBom:!y}),y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\ufeff",w],{type:w.type}):w}(w,b),y);else if(l(w))e(w,y,b);else{var M=document.createElement("a");M.href=w,M.target="_blank",setTimeout(function(){_(M)})}}:function(w,y,b,M){if((M=M||open("","_blank"))&&(M.document.title=M.document.body.innerText="downloading..."),"string"==typeof w)return e(w,y,b);var E="application/octet-stream"===w.type,T=/constructor/i.test(p.HTMLElement)||p.safari,F=/CriOS\/[\d]+/.test(navigator.userAgent);if((F||E&&T||h)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var Q=k.result;Q=F?Q:Q.replace(/^data:[^;]*;/,"data:attachment/file;"),M?M.location.href=Q:location=Q,M=null},k.readAsDataURL(w)}else{var A=p.URL||p.webkitURL,S=A.createObjectURL(w);M?M.location=S:location.href=S,M=null,setTimeout(function(){A.revokeObjectURL(S)},4e4)}});p.saveAs=g.saveAs=g,Rt.exports=g})?ie.apply(Be,[]):ie)&&(Rt.exports=K)},8954:Rt=>{self,Rt.exports=function(){var Be={"./node_modules/es6-promise/dist/es6-promise.js":
